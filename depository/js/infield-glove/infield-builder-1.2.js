(()=>{"use strict";var e,b={},d={};function t(e){var o=d[e];if(void 0!==o)return o.exports;var r=d[e]={id:e,loaded:!1,exports:{}};return b[e].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.m=b,e=[],t.O=(o,r,a,f)=>{if(!r){var i=1/0;for(n=0;n<e.length;n++){for(var[r,a,f]=e[n],c=!0,s=0;s<r.length;s++)(!1&f||i>=f)&&Object.keys(t.O).every(u=>t.O[u](r[s]))?r.splice(s--,1):(c=!1,f<i&&(i=f));if(c){e.splice(n--,1);var l=a();void 0!==l&&(o=l)}}return o}f=f||0;for(var n=e.length;n>0&&e[n-1][2]>f;n--)e[n]=e[n-1];e[n]=[r,a,f]},(()=>{var o,e=Object.getPrototypeOf?r=>Object.getPrototypeOf(r):r=>r.__proto__;t.t=function(r,a){if(1&a&&(r=this(r)),8&a||"object"==typeof r&&r&&(4&a&&r.__esModule||16&a&&"function"==typeof r.then))return r;var f=Object.create(null);t.r(f);var n={};o=o||[null,e({}),e([]),e(e)];for(var i=2&a&&r;"object"==typeof i&&!~o.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach(c=>n[c]=()=>r[c]);return n.default=()=>r,t.d(f,n),f}})(),t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={666:0};t.O.j=a=>0===e[a];var o=(a,f)=>{var s,l,[n,i,c]=f,p=0;if(n.some(_=>0!==e[_])){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(c)var h=c(t)}for(a&&a(f);p<n.length;p++)t.o(e,l=n[p])&&e[l]&&e[l][0](),e[l]=0;return t.O(h)},r=self.webpackChunknystixTools=self.webpackChunknystixTools||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})()})();
"use strict";(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[429],{5565:(jt,zn,Kn)=>{Error;const $o=function(s,...e){if($o.translate){const n=$o.translate(s,e);s=n[0],e=n[1]}let t=Wl(s[0],s.raw[0]);for(let n=1;n<s.length;n++)t+=e[n-1]+Wl(s[n],s.raw[n]);return t};function Wl(s,e){return":"===e.charAt(0)?s.substring(function Hl(s,e){for(let t=1,n=1;t<s.length;t++,n++)if("\\"===e[n])n++;else if(":"===s[t])return t;throw new Error(`Unterminated $localize metadata block in "${e}".`)}(s,e)+1):s}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=$o,Kn(8583)},8583:()=>{!function(d){const v=d.performance;function T(de){v&&v.mark&&v.mark(de)}function _(de,q){v&&v.measure&&v.measure(de,q)}T("Zone");const S=d.__Zone_symbol_prefix||"__zone_symbol__";function A(de){return S+de}const H=!0===d[A("forceDuplicateZoneCheck")];if(d.Zone){if(H||"function"!=typeof d.Zone.__symbol__)throw new Error("Zone already loaded.");return d.Zone}let U=(()=>{class de{constructor(h,m){this._parent=h,this._name=m?m.name||"unnamed":"<root>",this._properties=m&&m.properties||{},this._zoneDelegate=new Q(this,this._parent&&this._parent._zoneDelegate,m)}static assertZonePatched(){if(d.Promise!==Qe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let h=de.current;for(;h.parent;)h=h.parent;return h}static get current(){return Me.zone}static get currentTask(){return $e}static __load_patch(h,m,X=!1){if(Qe.hasOwnProperty(h)){if(!X&&H)throw Error("Already loaded patch: "+h)}else if(!d["__Zone_disable_"+h]){const ne="Zone:"+h;T(ne),Qe[h]=m(d,de,Le),_(ne,ne)}}get parent(){return this._parent}get name(){return this._name}get(h){const m=this.getZoneWith(h);if(m)return m._properties[h]}getZoneWith(h){let m=this;for(;m;){if(m._properties.hasOwnProperty(h))return m;m=m._parent}return null}fork(h){if(!h)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,h)}wrap(h,m){if("function"!=typeof h)throw new Error("Expecting function got: "+h);const X=this._zoneDelegate.intercept(this,h,m),ne=this;return function(){return ne.runGuarded(X,this,arguments,m)}}run(h,m,X,ne){Me={parent:Me,zone:this};try{return this._zoneDelegate.invoke(this,h,m,X,ne)}finally{Me=Me.parent}}runGuarded(h,m=null,X,ne){Me={parent:Me,zone:this};try{try{return this._zoneDelegate.invoke(this,h,m,X,ne)}catch(B){if(this._zoneDelegate.handleError(this,B))throw B}}finally{Me=Me.parent}}runTask(h,m,X){if(h.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");if(h.state===K&&(h.type===Ye||h.type===te))return;const ne=h.state!=W;ne&&h._transitionTo(W,le),h.runCount++;const B=$e;$e=h,Me={parent:Me,zone:this};try{h.type==te&&h.data&&!h.data.isPeriodic&&(h.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,h,m,X)}catch(b){if(this._zoneDelegate.handleError(this,b))throw b}}finally{h.state!==K&&h.state!==L&&(h.type==Ye||h.data&&h.data.isPeriodic?ne&&h._transitionTo(le,W):(h.runCount=0,this._updateTaskCount(h,-1),ne&&h._transitionTo(K,W,K))),Me=Me.parent,$e=B}}scheduleTask(h){if(h.zone&&h.zone!==this){let X=this;for(;X;){if(X===h.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${h.zone.name}`);X=X.parent}}h._transitionTo(Te,K);const m=[];h._zoneDelegates=m,h._zone=this;try{h=this._zoneDelegate.scheduleTask(this,h)}catch(X){throw h._transitionTo(L,Te,K),this._zoneDelegate.handleError(this,X),X}return h._zoneDelegates===m&&this._updateTaskCount(h,1),h.state==Te&&h._transitionTo(le,Te),h}scheduleMicroTask(h,m,X,ne){return this.scheduleTask(new z(J,h,m,X,ne,void 0))}scheduleMacroTask(h,m,X,ne,B){return this.scheduleTask(new z(te,h,m,X,ne,B))}scheduleEventTask(h,m,X,ne,B){return this.scheduleTask(new z(Ye,h,m,X,ne,B))}cancelTask(h){if(h.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");h._transitionTo(Ce,le,W);try{this._zoneDelegate.cancelTask(this,h)}catch(m){throw h._transitionTo(L,Ce),this._zoneDelegate.handleError(this,m),m}return this._updateTaskCount(h,-1),h._transitionTo(K,Ce),h.runCount=0,h}_updateTaskCount(h,m){const X=h._zoneDelegates;-1==m&&(h._zoneDelegates=null);for(let ne=0;ne<X.length;ne++)X[ne]._updateTaskCount(h.type,m)}}return de.__symbol__=A,de})();const $={name:"",onHasTask:(de,q,h,m)=>de.hasTask(h,m),onScheduleTask:(de,q,h,m)=>de.scheduleTask(h,m),onInvokeTask:(de,q,h,m,X,ne)=>de.invokeTask(h,m,X,ne),onCancelTask:(de,q,h,m)=>de.cancelTask(h,m)};class Q{constructor(q,h,m){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=q,this._parentDelegate=h,this._forkZS=m&&(m&&m.onFork?m:h._forkZS),this._forkDlgt=m&&(m.onFork?h:h._forkDlgt),this._forkCurrZone=m&&(m.onFork?this.zone:h._forkCurrZone),this._interceptZS=m&&(m.onIntercept?m:h._interceptZS),this._interceptDlgt=m&&(m.onIntercept?h:h._interceptDlgt),this._interceptCurrZone=m&&(m.onIntercept?this.zone:h._interceptCurrZone),this._invokeZS=m&&(m.onInvoke?m:h._invokeZS),this._invokeDlgt=m&&(m.onInvoke?h:h._invokeDlgt),this._invokeCurrZone=m&&(m.onInvoke?this.zone:h._invokeCurrZone),this._handleErrorZS=m&&(m.onHandleError?m:h._handleErrorZS),this._handleErrorDlgt=m&&(m.onHandleError?h:h._handleErrorDlgt),this._handleErrorCurrZone=m&&(m.onHandleError?this.zone:h._handleErrorCurrZone),this._scheduleTaskZS=m&&(m.onScheduleTask?m:h._scheduleTaskZS),this._scheduleTaskDlgt=m&&(m.onScheduleTask?h:h._scheduleTaskDlgt),this._scheduleTaskCurrZone=m&&(m.onScheduleTask?this.zone:h._scheduleTaskCurrZone),this._invokeTaskZS=m&&(m.onInvokeTask?m:h._invokeTaskZS),this._invokeTaskDlgt=m&&(m.onInvokeTask?h:h._invokeTaskDlgt),this._invokeTaskCurrZone=m&&(m.onInvokeTask?this.zone:h._invokeTaskCurrZone),this._cancelTaskZS=m&&(m.onCancelTask?m:h._cancelTaskZS),this._cancelTaskDlgt=m&&(m.onCancelTask?h:h._cancelTaskDlgt),this._cancelTaskCurrZone=m&&(m.onCancelTask?this.zone:h._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const X=m&&m.onHasTask;(X||h&&h._hasTaskZS)&&(this._hasTaskZS=X?m:$,this._hasTaskDlgt=h,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=q,m.onScheduleTask||(this._scheduleTaskZS=$,this._scheduleTaskDlgt=h,this._scheduleTaskCurrZone=this.zone),m.onInvokeTask||(this._invokeTaskZS=$,this._invokeTaskDlgt=h,this._invokeTaskCurrZone=this.zone),m.onCancelTask||(this._cancelTaskZS=$,this._cancelTaskDlgt=h,this._cancelTaskCurrZone=this.zone))}fork(q,h){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,q,h):new U(q,h)}intercept(q,h,m){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,q,h,m):h}invoke(q,h,m,X,ne){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,q,h,m,X,ne):h.apply(m,X)}handleError(q,h){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,q,h)}scheduleTask(q,h){let m=h;if(this._scheduleTaskZS)this._hasTaskZS&&m._zoneDelegates.push(this._hasTaskDlgtOwner),m=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,q,h),m||(m=h);else if(h.scheduleFn)h.scheduleFn(h);else{if(h.type!=J)throw new Error("Task is missing scheduleFn.");ie(h)}return m}invokeTask(q,h,m,X){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,q,h,m,X):h.callback.apply(m,X)}cancelTask(q,h){let m;if(this._cancelTaskZS)m=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,q,h);else{if(!h.cancelFn)throw Error("Task is not cancelable");m=h.cancelFn(h)}return m}hasTask(q,h){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,q,h)}catch(m){this.handleError(q,m)}}_updateTaskCount(q,h){const m=this._taskCounts,X=m[q],ne=m[q]=X+h;if(ne<0)throw new Error("More tasks executed then were scheduled.");0!=X&&0!=ne||this.hasTask(this.zone,{microTask:m.microTask>0,macroTask:m.macroTask>0,eventTask:m.eventTask>0,change:q})}}class z{constructor(q,h,m,X,ne,B){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=q,this.source=h,this.data=X,this.scheduleFn=ne,this.cancelFn=B,!m)throw new Error("callback is not defined");this.callback=m;const b=this;this.invoke=q===Ye&&X&&X.useG?z.invokeTask:function(){return z.invokeTask.call(d,b,this,arguments)}}static invokeTask(q,h,m){q||(q=this),Ie++;try{return q.runCount++,q.zone.runTask(q,h,m)}finally{1==Ie&&R(),Ie--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(K,Te)}_transitionTo(q,h,m){if(this._state!==h&&this._state!==m)throw new Error(`${this.type} '${this.source}': can not transition to '${q}', expecting state '${h}'${m?" or '"+m+"'":""}, was '${this._state}'.`);this._state=q,q==K&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Ee=A("setTimeout"),ue=A("Promise"),re=A("then");let Ke,De=[],we=!1;function ke(de){if(Ke||d[ue]&&(Ke=d[ue].resolve(0)),Ke){let q=Ke[re];q||(q=Ke.then),q.call(Ke,de)}else d[Ee](de,0)}function ie(de){0===Ie&&0===De.length&&ke(R),de&&De.push(de)}function R(){if(!we){for(we=!0;De.length;){const de=De;De=[];for(let q=0;q<de.length;q++){const h=de[q];try{h.zone.runTask(h,null,null)}catch(m){Le.onUnhandledError(m)}}}Le.microtaskDrainDone(),we=!1}}const Be={name:"NO ZONE"},K="notScheduled",Te="scheduling",le="scheduled",W="running",Ce="canceling",L="unknown",J="microTask",te="macroTask",Ye="eventTask",Qe={},Le={symbol:A,currentZoneFrame:()=>Me,onUnhandledError:x,microtaskDrainDone:x,scheduleMicroTask:ie,showUncaughtError:()=>!U[A("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:x,patchMethod:()=>x,bindArguments:()=>[],patchThen:()=>x,patchMacroTask:()=>x,patchEventPrototype:()=>x,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>x,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>x,wrapWithCurrentZone:()=>x,filterProperties:()=>[],attachOriginToPatched:()=>x,_redefineProperty:()=>x,patchCallbacks:()=>x,nativeScheduleMicroTask:ke};let Me={parent:null,zone:new U(null,null)},$e=null,Ie=0;function x(){}_("Zone","Zone"),d.Zone=U}(typeof window<"u"&&window||typeof self<"u"&&self||global);const jt=Object.getOwnPropertyDescriptor,zn=Object.defineProperty,Kn=Object.getPrototypeOf,Oe=Object.create,mt=Array.prototype.slice,In="addEventListener",bn="removeEventListener",Ts=Zone.__symbol__(In),Zn=Zone.__symbol__(bn),gt="true",ee="false",ln=Zone.__symbol__("");function cn(d,v){return Zone.current.wrap(d,v)}function Dn(d,v,T,_,S){return Zone.current.scheduleMacroTask(d,v,T,_,S)}const ye=Zone.__symbol__,vt=typeof window<"u",Nt=vt?window:void 0,He=vt&&Nt||"object"==typeof self&&self||global;function xs(d,v){for(let T=d.length-1;T>=0;T--)"function"==typeof d[T]&&(d[T]=cn(d[T],v+"_"+T));return d}function lt(d){return!d||!1!==d.writable&&!("function"==typeof d.get&&typeof d.set>"u")}const Xn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,pn=!("nw"in He)&&typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process),Cs=!pn&&!Xn&&!(!vt||!Nt.HTMLElement),pe=typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process)&&!Xn&&!(!vt||!Nt.HTMLElement),je={},ur=function(d){if(!(d=d||He.event))return;let v=je[d.type];v||(v=je[d.type]=ye("ON_PROPERTY"+d.type));const T=this||d.target||He,_=T[v];let S;if(Cs&&T===Nt&&"error"===d.type){const A=d;S=_&&_.call(this,A.message,A.filename,A.lineno,A.colno,A.error),!0===S&&d.preventDefault()}else S=_&&_.apply(this,arguments),null!=S&&!S&&d.preventDefault();return S};function lr(d,v,T){let _=jt(d,v);if(!_&&T&&jt(T,v)&&(_={enumerable:!0,configurable:!0}),!_||!_.configurable)return;const S=ye("on"+v+"patched");if(d.hasOwnProperty(S)&&d[S])return;delete _.writable,delete _.value;const A=_.get,H=_.set,U=v.slice(2);let $=je[U];$||($=je[U]=ye("ON_PROPERTY"+U)),_.set=function(Q){let z=this;!z&&d===He&&(z=He),z&&("function"==typeof z[$]&&z.removeEventListener(U,ur),H&&H.call(z,null),z[$]=Q,"function"==typeof Q&&z.addEventListener(U,ur,!1))},_.get=function(){let Q=this;if(!Q&&d===He&&(Q=He),!Q)return null;const z=Q[$];if(z)return z;if(A){let Ee=A.call(this);if(Ee)return _.set.call(this,Ee),"function"==typeof Q.removeAttribute&&Q.removeAttribute(v),Ee}return null},zn(d,v,_),d[S]=!0}function cr(d,v,T){if(v)for(let _=0;_<v.length;_++)lr(d,"on"+v[_],T);else{const _=[];for(const S in d)"on"==S.slice(0,2)&&_.push(S);for(let S=0;S<_.length;S++)lr(d,_[S],T)}}const et=ye("originalInstance");function Yn(d){const v=He[d];if(!v)return;He[ye(d)]=v,He[d]=function(){const S=xs(arguments,d);switch(S.length){case 0:this[et]=new v;break;case 1:this[et]=new v(S[0]);break;case 2:this[et]=new v(S[0],S[1]);break;case 3:this[et]=new v(S[0],S[1],S[2]);break;case 4:this[et]=new v(S[0],S[1],S[2],S[3]);break;default:throw new Error("Arg list too long.")}},kt(He[d],v);const T=new v(function(){});let _;for(_ in T)"XMLHttpRequest"===d&&"responseBlob"===_||function(S){"function"==typeof T[S]?He[d].prototype[S]=function(){return this[et][S].apply(this[et],arguments)}:zn(He[d].prototype,S,{set:function(A){"function"==typeof A?(this[et][S]=cn(A,d+"."+S),kt(this[et][S],A)):this[et][S]=A},get:function(){return this[et][S]}})}(_);for(_ in v)"prototype"!==_&&v.hasOwnProperty(_)&&(He[d][_]=v[_])}function Pt(d,v,T){let _=d;for(;_&&!_.hasOwnProperty(v);)_=Kn(_);!_&&d[v]&&(_=d);const S=ye(v);let A=null;if(_&&(!(A=_[S])||!_.hasOwnProperty(S))&&(A=_[S]=_[v],lt(_&&jt(_,v)))){const U=T(A,S,v);_[v]=function(){return U(this,arguments)},kt(_[v],A)}return A}function ai(d,v,T){let _=null;function S(A){const H=A.data;return H.args[H.cbIdx]=function(){A.invoke.apply(this,arguments)},_.apply(H.target,H.args),A}_=Pt(d,v,A=>function(H,U){const $=T(H,U);return $.cbIdx>=0&&"function"==typeof U[$.cbIdx]?Dn($.name,U[$.cbIdx],$,S):A.apply(H,U)})}function kt(d,v){d[ye("OriginalDelegate")]=v}let pr=!1,Qn=!1;function Jn(){if(pr)return Qn;pr=!0;try{const d=Nt.navigator.userAgent;(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/")||-1!==d.indexOf("Edge/"))&&(Qn=!0)}catch{}return Qn}Zone.__load_patch("ZoneAwarePromise",(d,v,T)=>{const _=Object.getOwnPropertyDescriptor,S=Object.defineProperty,H=T.symbol,U=[],$=!0===d[H("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Q=H("Promise"),z=H("then");T.onUnhandledError=b=>{if(T.showUncaughtError()){const N=b&&b.rejection;N?console.error("Unhandled Promise rejection:",N instanceof Error?N.message:N,"; Zone:",b.zone.name,"; Task:",b.task&&b.task.source,"; Value:",N,N instanceof Error?N.stack:void 0):console.error(b)}},T.microtaskDrainDone=()=>{for(;U.length;){const b=U.shift();try{b.zone.runGuarded(()=>{throw b.throwOriginal?b.rejection:b})}catch(N){re(N)}}};const ue=H("unhandledPromiseRejectionHandler");function re(b){T.onUnhandledError(b);try{const N=v[ue];"function"==typeof N&&N.call(this,b)}catch{}}function De(b){return b&&b.then}function we(b){return b}function Ke(b){return h.reject(b)}const ke=H("state"),ie=H("value"),R=H("finally"),Be=H("parentPromiseValue"),K=H("parentPromiseState"),le=null,W=!0,Ce=!1;function J(b,N){return w=>{try{Le(b,N,w)}catch(D){Le(b,!1,D)}}}const te=function(){let b=!1;return function(w){return function(){b||(b=!0,w.apply(null,arguments))}}},Qe=H("currentTaskTrace");function Le(b,N,w){const D=te();if(b===w)throw new TypeError("Promise resolved with itself");if(b[ke]===le){let j=null;try{("object"==typeof w||"function"==typeof w)&&(j=w&&w.then)}catch(Y){return D(()=>{Le(b,!1,Y)})(),b}if(N!==Ce&&w instanceof h&&w.hasOwnProperty(ke)&&w.hasOwnProperty(ie)&&w[ke]!==le)$e(w),Le(b,w[ke],w[ie]);else if(N!==Ce&&"function"==typeof j)try{j.call(w,D(J(b,N)),D(J(b,!1)))}catch(Y){D(()=>{Le(b,!1,Y)})()}else{b[ke]=N;const Y=b[ie];if(b[ie]=w,b[R]===R&&N===W&&(b[ke]=b[K],b[ie]=b[Be]),N===Ce&&w instanceof Error){const M=v.currentTask&&v.currentTask.data&&v.currentTask.data.__creationTrace__;M&&S(w,Qe,{configurable:!0,enumerable:!1,writable:!0,value:M})}for(let M=0;M<Y.length;)Ie(b,Y[M++],Y[M++],Y[M++],Y[M++]);if(0==Y.length&&N==Ce){b[ke]=0;let M=w;try{throw new Error("Uncaught (in promise): "+function A(b){return b&&b.toString===Object.prototype.toString?(b.constructor&&b.constructor.name||"")+": "+JSON.stringify(b):b?b.toString():Object.prototype.toString.call(b)}(w)+(w&&w.stack?"\n"+w.stack:""))}catch(oe){M=oe}$&&(M.throwOriginal=!0),M.rejection=w,M.promise=b,M.zone=v.current,M.task=v.currentTask,U.push(M),T.scheduleMicroTask()}}}return b}const Me=H("rejectionHandledHandler");function $e(b){if(0===b[ke]){try{const N=v[Me];N&&"function"==typeof N&&N.call(this,{rejection:b[ie],promise:b})}catch{}b[ke]=Ce;for(let N=0;N<U.length;N++)b===U[N].promise&&U.splice(N,1)}}function Ie(b,N,w,D,j){$e(b);const Y=b[ke],M=Y?"function"==typeof D?D:we:"function"==typeof j?j:Ke;N.scheduleMicroTask("Promise.then",()=>{try{const oe=b[ie],ae=!!w&&R===w[R];ae&&(w[Be]=oe,w[K]=Y);const se=N.run(M,void 0,ae&&M!==Ke&&M!==we?[]:[oe]);Le(w,!0,se)}catch(oe){Le(w,!1,oe)}},w)}const de=function(){},q=d.AggregateError;class h{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(N){return Le(new this(null),W,N)}static reject(N){return Le(new this(null),Ce,N)}static any(N){if(!N||"function"!=typeof N[Symbol.iterator])return Promise.reject(new q([],"All promises were rejected"));const w=[];let D=0;try{for(let M of N)D++,w.push(h.resolve(M))}catch{return Promise.reject(new q([],"All promises were rejected"))}if(0===D)return Promise.reject(new q([],"All promises were rejected"));let j=!1;const Y=[];return new h((M,oe)=>{for(let ae=0;ae<w.length;ae++)w[ae].then(se=>{j||(j=!0,M(se))},se=>{Y.push(se),D--,0===D&&(j=!0,oe(new q(Y,"All promises were rejected")))})})}static race(N){let w,D,j=new this((oe,ae)=>{w=oe,D=ae});function Y(oe){w(oe)}function M(oe){D(oe)}for(let oe of N)De(oe)||(oe=this.resolve(oe)),oe.then(Y,M);return j}static all(N){return h.allWithCallback(N)}static allSettled(N){return(this&&this.prototype instanceof h?this:h).allWithCallback(N,{thenCallback:D=>({status:"fulfilled",value:D}),errorCallback:D=>({status:"rejected",reason:D})})}static allWithCallback(N,w){let D,j,Y=new this((se,Se)=>{D=se,j=Se}),M=2,oe=0;const ae=[];for(let se of N){De(se)||(se=this.resolve(se));const Se=oe;try{se.then(Ae=>{ae[Se]=w?w.thenCallback(Ae):Ae,M--,0===M&&D(ae)},Ae=>{w?(ae[Se]=w.errorCallback(Ae),M--,0===M&&D(ae)):j(Ae)})}catch(Ae){j(Ae)}M++,oe++}return M-=2,0===M&&D(ae),Y}constructor(N){const w=this;if(!(w instanceof h))throw new Error("Must be an instanceof Promise.");w[ke]=le,w[ie]=[];try{const D=te();N&&N(D(J(w,W)),D(J(w,Ce)))}catch(D){Le(w,!1,D)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return h}then(N,w){var D;let j=null===(D=this.constructor)||void 0===D?void 0:D[Symbol.species];(!j||"function"!=typeof j)&&(j=this.constructor||h);const Y=new j(de),M=v.current;return this[ke]==le?this[ie].push(M,Y,N,w):Ie(this,M,Y,N,w),Y}catch(N){return this.then(null,N)}finally(N){var w;let D=null===(w=this.constructor)||void 0===w?void 0:w[Symbol.species];(!D||"function"!=typeof D)&&(D=h);const j=new D(de);j[R]=R;const Y=v.current;return this[ke]==le?this[ie].push(Y,j,N,N):Ie(this,Y,j,N,N),j}}h.resolve=h.resolve,h.reject=h.reject,h.race=h.race,h.all=h.all;const m=d[Q]=d.Promise;d.Promise=h;const X=H("thenPatched");function ne(b){const N=b.prototype,w=_(N,"then");if(w&&(!1===w.writable||!w.configurable))return;const D=N.then;N[z]=D,b.prototype.then=function(j,Y){return new h((oe,ae)=>{D.call(this,oe,ae)}).then(j,Y)},b[X]=!0}return T.patchThen=ne,m&&(ne(m),Pt(d,"fetch",b=>function B(b){return function(N,w){let D=b.apply(N,w);if(D instanceof h)return D;let j=D.constructor;return j[X]||ne(j),D}}(b))),Promise[v.__symbol__("uncaughtPromiseErrors")]=U,h}),Zone.__load_patch("toString",d=>{const v=Function.prototype.toString,T=ye("OriginalDelegate"),_=ye("Promise"),S=ye("Error"),A=function(){if("function"==typeof this){const Q=this[T];if(Q)return"function"==typeof Q?v.call(Q):Object.prototype.toString.call(Q);if(this===Promise){const z=d[_];if(z)return v.call(z)}if(this===Error){const z=d[S];if(z)return v.call(z)}}return v.call(this)};A[T]=v,Function.prototype.toString=A;const H=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":H.call(this)}});let Nn=!1;if(typeof window<"u")try{const d=Object.defineProperty({},"passive",{get:function(){Nn=!0}});window.addEventListener("test",d,d),window.removeEventListener("test",d,d)}catch{Nn=!1}const As={useG:!0},nt={},hr={},Wt=new RegExp("^"+ln+"(\\w+)(true|false)$"),dr=ye("propagationStopped");function fr(d,v){const T=(v?v(d):d)+ee,_=(v?v(d):d)+gt,S=ln+T,A=ln+_;nt[d]={},nt[d][ee]=S,nt[d][gt]=A}function hn(d,v,T,_){const S=_&&_.add||In,A=_&&_.rm||bn,H=_&&_.listeners||"eventListeners",U=_&&_.rmAll||"removeAllListeners",$=ye(S),Q="."+S+":",ue=function(ie,R,Be){if(ie.isRemoved)return;const K=ie.callback;let Te;"object"==typeof K&&K.handleEvent&&(ie.callback=W=>K.handleEvent(W),ie.originalDelegate=K);try{ie.invoke(ie,R,[Be])}catch(W){Te=W}const le=ie.options;return le&&"object"==typeof le&&le.once&&R[A].call(R,Be.type,ie.originalDelegate?ie.originalDelegate:ie.callback,le),Te};function re(ie,R,Be){if(!(R=R||d.event))return;const K=ie||R.target||d,Te=K[nt[R.type][Be?gt:ee]];if(Te){const le=[];if(1===Te.length){const W=ue(Te[0],K,R);W&&le.push(W)}else{const W=Te.slice();for(let Ce=0;Ce<W.length&&(!R||!0!==R[dr]);Ce++){const L=ue(W[Ce],K,R);L&&le.push(L)}}if(1===le.length)throw le[0];for(let W=0;W<le.length;W++){const Ce=le[W];v.nativeScheduleMicroTask(()=>{throw Ce})}}}const De=function(ie){return re(this,ie,!1)},we=function(ie){return re(this,ie,!0)};function Ke(ie,R){if(!ie)return!1;let Be=!0;R&&void 0!==R.useG&&(Be=R.useG);const K=R&&R.vh;let Te=!0;R&&void 0!==R.chkDup&&(Te=R.chkDup);let le=!1;R&&void 0!==R.rt&&(le=R.rt);let W=ie;for(;W&&!W.hasOwnProperty(S);)W=Kn(W);if(!W&&ie[S]&&(W=ie),!W||W[$])return!1;const Ce=R&&R.eventNameToString,L={},J=W[$]=W[S],te=W[ye(A)]=W[A],Ye=W[ye(H)]=W[H],Qe=W[ye(U)]=W[U];let Le;function Me(w,D){return!Nn&&"object"==typeof w&&w?!!w.capture:Nn&&D?"boolean"==typeof w?{capture:w,passive:!0}:w?"object"==typeof w&&!1!==w.passive?Object.assign(Object.assign({},w),{passive:!0}):w:{passive:!0}:w}R&&R.prepend&&(Le=W[ye(R.prepend)]=W[R.prepend]);const h=Be?function(w){if(!L.isExisting)return J.call(L.target,L.eventName,L.capture?we:De,L.options)}:function(w){return J.call(L.target,L.eventName,w.invoke,L.options)},m=Be?function(w){if(!w.isRemoved){const D=nt[w.eventName];let j;D&&(j=D[w.capture?gt:ee]);const Y=j&&w.target[j];if(Y)for(let M=0;M<Y.length;M++)if(Y[M]===w){Y.splice(M,1),w.isRemoved=!0,0===Y.length&&(w.allRemoved=!0,w.target[j]=null);break}}if(w.allRemoved)return te.call(w.target,w.eventName,w.capture?we:De,w.options)}:function(w){return te.call(w.target,w.eventName,w.invoke,w.options)},ne=R&&R.diff?R.diff:function(w,D){const j=typeof D;return"function"===j&&w.callback===D||"object"===j&&w.originalDelegate===D},B=Zone[ye("UNPATCHED_EVENTS")],b=d[ye("PASSIVE_EVENTS")],N=function(w,D,j,Y,M=!1,oe=!1){return function(){const ae=this||d;let se=arguments[0];R&&R.transferEventName&&(se=R.transferEventName(se));let Se=arguments[1];if(!Se)return w.apply(this,arguments);if(pn&&"uncaughtException"===se)return w.apply(this,arguments);let Ae=!1;if("function"!=typeof Se){if(!Se.handleEvent)return w.apply(this,arguments);Ae=!0}if(K&&!K(w,Se,ae,arguments))return;const Lt=Nn&&!!b&&-1!==b.indexOf(se),Tt=Me(arguments[2],Lt);if(B)for(let Et=0;Et<B.length;Et++)if(se===B[Et])return Lt?w.call(ae,se,Se,Tt):w.apply(this,arguments);const ss=!!Tt&&("boolean"==typeof Tt||Tt.capture),Pn=!(!Tt||"object"!=typeof Tt)&&Tt.once,di=Zone.current;let Ds=nt[se];Ds||(fr(se,Ce),Ds=nt[se]);const rs=Ds[ss?gt:ee];let is,Gt=ae[rs],fn=!1;if(Gt){if(fn=!0,Te)for(let Et=0;Et<Gt.length;Et++)if(ne(Gt[Et],Se))return}else Gt=ae[rs]=[];const kn=ae.constructor.name,Ln=hr[kn];Ln&&(is=Ln[se]),is||(is=kn+D+(Ce?Ce(se):se)),L.options=Tt,Pn&&(L.options.once=!1),L.target=ae,L.capture=ss,L.eventName=se,L.isExisting=fn;const Ue=Be?As:void 0;Ue&&(Ue.taskData=L);const st=di.scheduleEventTask(is,Se,Ue,j,Y);return L.target=null,Ue&&(Ue.taskData=null),Pn&&(Tt.once=!0),!Nn&&"boolean"==typeof st.options||(st.options=Tt),st.target=ae,st.capture=ss,st.eventName=se,Ae&&(st.originalDelegate=Se),oe?Gt.unshift(st):Gt.push(st),M?ae:void 0}};return W[S]=N(J,Q,h,m,le),Le&&(W.prependListener=N(Le,".prependListener:",function(w){return Le.call(L.target,L.eventName,w.invoke,L.options)},m,le,!0)),W[A]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=arguments[2],Y=!!j&&("boolean"==typeof j||j.capture),M=arguments[1];if(!M)return te.apply(this,arguments);if(K&&!K(te,M,w,arguments))return;const oe=nt[D];let ae;oe&&(ae=oe[Y?gt:ee]);const se=ae&&w[ae];if(se)for(let Se=0;Se<se.length;Se++){const Ae=se[Se];if(ne(Ae,M))return se.splice(Se,1),Ae.isRemoved=!0,0===se.length&&(Ae.allRemoved=!0,w[ae]=null,"string"==typeof D)&&(w[ln+"ON_PROPERTY"+D]=null),Ae.zone.cancelTask(Ae),le?w:void 0}return te.apply(this,arguments)},W[H]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=[],Y=Is(w,Ce?Ce(D):D);for(let M=0;M<Y.length;M++){const oe=Y[M];j.push(oe.originalDelegate?oe.originalDelegate:oe.callback)}return j},W[U]=function(){const w=this||d;let D=arguments[0];if(D){R&&R.transferEventName&&(D=R.transferEventName(D));const j=nt[D];if(j){const oe=w[j[ee]],ae=w[j[gt]];if(oe){const se=oe.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}if(ae){const se=ae.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}}}else{const j=Object.keys(w);for(let Y=0;Y<j.length;Y++){const oe=Wt.exec(j[Y]);let ae=oe&&oe[1];ae&&"removeListener"!==ae&&this[U].call(this,ae)}this[U].call(this,"removeListener")}if(le)return this},kt(W[S],J),kt(W[A],te),Qe&&kt(W[U],Qe),Ye&&kt(W[H],Ye),!0}let ke=[];for(let ie=0;ie<T.length;ie++)ke[ie]=Ke(T[ie],_);return ke}function Is(d,v){if(!v){const A=[];for(let H in d){const U=Wt.exec(H);let $=U&&U[1];if($&&(!v||$===v)){const Q=d[H];if(Q)for(let z=0;z<Q.length;z++)A.push(Q[z])}}return A}let T=nt[v];T||(fr(v),T=nt[v]);const _=d[T[ee]],S=d[T[gt]];return _?S?_.concat(S):_.slice():S?S.slice():[]}function li(d,v){const T=d.Event;T&&T.prototype&&v.patchMethod(T.prototype,"stopImmediatePropagation",_=>function(S,A){S[dr]=!0,_&&_.apply(S,A)})}function mr(d,v,T,_,S){const A=Zone.__symbol__(_);if(v[A])return;const H=v[A]=v[_];v[_]=function(U,$,Q){return $&&$.prototype&&S.forEach(function(z){const Ee=`${T}.${_}::`+z,ue=$.prototype;try{if(ue.hasOwnProperty(z)){const re=d.ObjectGetOwnPropertyDescriptor(ue,z);re&&re.value?(re.value=d.wrapWithCurrentZone(re.value,Ee),d._redefineProperty($.prototype,z,re)):ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}else ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}catch{}}),H.call(v,U,$,Q)},d.attachOriginToPatched(v[_],H)}function bs(d,v,T){if(!T||0===T.length)return v;const _=T.filter(A=>A.target===d);if(!_||0===_.length)return v;const S=_[0].ignoreProperties;return v.filter(A=>-1===S.indexOf(A))}function es(d,v,T,_){d&&cr(d,bs(d,v,T),_)}function ts(d){return Object.getOwnPropertyNames(d).filter(v=>v.startsWith("on")&&v.length>2).map(v=>v.substring(2))}Zone.__load_patch("util",(d,v,T)=>{const _=ts(d);T.patchOnProperties=cr,T.patchMethod=Pt,T.bindArguments=xs,T.patchMacroTask=ai;const S=v.__symbol__("BLACK_LISTED_EVENTS"),A=v.__symbol__("UNPATCHED_EVENTS");d[A]&&(d[S]=d[A]),d[S]&&(v[S]=v[A]=d[S]),T.patchEventPrototype=li,T.patchEventTarget=hn,T.isIEOrEdge=Jn,T.ObjectDefineProperty=zn,T.ObjectGetOwnPropertyDescriptor=jt,T.ObjectCreate=Oe,T.ArraySlice=mt,T.patchClass=Yn,T.wrapWithCurrentZone=cn,T.filterProperties=bs,T.attachOriginToPatched=kt,T._redefineProperty=Object.defineProperty,T.patchCallbacks=mr,T.getGlobalObjects=()=>({globalSources:hr,zoneSymbolEventNames:nt,eventNames:_,isBrowser:Cs,isMix:pe,isNode:pn,TRUE_STR:gt,FALSE_STR:ee,ZONE_SYMBOL_PREFIX:ln,ADD_EVENT_LISTENER_STR:In,REMOVE_EVENT_LISTENER_STR:bn})});const ns=ye("zoneTask");function dn(d,v,T,_){let S=null,A=null;T+=_;const H={};function U(Q){const z=Q.data;return z.args[0]=function(){return Q.invoke.apply(this,arguments)},z.handleId=S.apply(d,z.args),Q}function $(Q){return A.call(d,Q.data.handleId)}S=Pt(d,v+=_,Q=>function(z,Ee){if("function"==typeof Ee[0]){const ue={isPeriodic:"Interval"===_,delay:"Timeout"===_||"Interval"===_?Ee[1]||0:void 0,args:Ee},re=Ee[0];Ee[0]=function(){try{return re.apply(this,arguments)}finally{ue.isPeriodic||("number"==typeof ue.handleId?delete H[ue.handleId]:ue.handleId&&(ue.handleId[ns]=null))}};const De=Dn(v,Ee[0],ue,U,$);if(!De)return De;const we=De.data.handleId;return"number"==typeof we?H[we]=De:we&&(we[ns]=De),we&&we.ref&&we.unref&&"function"==typeof we.ref&&"function"==typeof we.unref&&(De.ref=we.ref.bind(we),De.unref=we.unref.bind(we)),"number"==typeof we||we?we:De}return Q.apply(d,Ee)}),A=Pt(d,T,Q=>function(z,Ee){const ue=Ee[0];let re;"number"==typeof ue?re=H[ue]:(re=ue&&ue[ns],re||(re=ue)),re&&"string"==typeof re.type?"notScheduled"!==re.state&&(re.cancelFn&&re.data.isPeriodic||0===re.runCount)&&("number"==typeof ue?delete H[ue]:ue&&(ue[ns]=null),re.zone.cancelTask(re)):Q.apply(d,Ee)})}Zone.__load_patch("legacy",d=>{const v=d[Zone.__symbol__("legacyPatch")];v&&v()}),Zone.__load_patch("queueMicrotask",(d,v,T)=>{T.patchMethod(d,"queueMicrotask",_=>function(S,A){v.current.scheduleMicroTask("queueMicrotask",A[0])})}),Zone.__load_patch("timers",d=>{const v="set",T="clear";dn(d,v,T,"Timeout"),dn(d,v,T,"Interval"),dn(d,v,T,"Immediate")}),Zone.__load_patch("requestAnimationFrame",d=>{dn(d,"request","cancel","AnimationFrame"),dn(d,"mozRequest","mozCancel","AnimationFrame"),dn(d,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(d,v)=>{const T=["alert","prompt","confirm"];for(let _=0;_<T.length;_++)Pt(d,T[_],(A,H,U)=>function($,Q){return v.current.run(A,d,Q,U)})}),Zone.__load_patch("EventTarget",(d,v,T)=>{(function hi(d,v){v.patchEventPrototype(d,v)})(d,T),function pi(d,v){if(Zone[v.symbol("patchEventTarget")])return;const{eventNames:T,zoneSymbolEventNames:_,TRUE_STR:S,FALSE_STR:A,ZONE_SYMBOL_PREFIX:H}=v.getGlobalObjects();for(let $=0;$<T.length;$++){const Q=T[$],ue=H+(Q+A),re=H+(Q+S);_[Q]={},_[Q][A]=ue,_[Q][S]=re}const U=d.EventTarget;U&&U.prototype&&v.patchEventTarget(d,v,[U&&U.prototype])}(d,T);const _=d.XMLHttpRequestEventTarget;_&&_.prototype&&T.patchEventTarget(d,T,[_.prototype])}),Zone.__load_patch("MutationObserver",(d,v,T)=>{Yn("MutationObserver"),Yn("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(d,v,T)=>{Yn("IntersectionObserver")}),Zone.__load_patch("FileReader",(d,v,T)=>{Yn("FileReader")}),Zone.__load_patch("on_property",(d,v,T)=>{!function gr(d,v){if(pn&&!pe||Zone[d.symbol("patchEvents")])return;const T=v.__Zone_ignore_on_properties;let _=[];if(Cs){const S=window;_=_.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const A=function ui(){try{const d=Nt.navigator.userAgent;if(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:S,ignoreProperties:["error"]}]:[];es(S,ts(S),T&&T.concat(A),Kn(S))}_=_.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let S=0;S<_.length;S++){const A=v[_[S]];A&&A.prototype&&es(A.prototype,ts(A.prototype),T)}}(T,d)}),Zone.__load_patch("customElements",(d,v,T)=>{!function ci(d,v){const{isBrowser:T,isMix:_}=v.getGlobalObjects();(T||_)&&d.customElements&&"customElements"in d&&v.patchCallbacks(v,d.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(d,T)}),Zone.__load_patch("XHR",(d,v)=>{!function $(Q){const z=Q.XMLHttpRequest;if(!z)return;const Ee=z.prototype;let re=Ee[Ts],De=Ee[Zn];if(!re){const L=Q.XMLHttpRequestEventTarget;if(L){const J=L.prototype;re=J[Ts],De=J[Zn]}}const we="readystatechange",Ke="scheduled";function ke(L){const J=L.data,te=J.target;te[A]=!1,te[U]=!1;const Ye=te[S];re||(re=te[Ts],De=te[Zn]),Ye&&De.call(te,we,Ye);const Qe=te[S]=()=>{if(te.readyState===te.DONE)if(!J.aborted&&te[A]&&L.state===Ke){const Me=te[v.__symbol__("loadfalse")];if(0!==te.status&&Me&&Me.length>0){const $e=L.invoke;L.invoke=function(){const Ie=te[v.__symbol__("loadfalse")];for(let x=0;x<Ie.length;x++)Ie[x]===L&&Ie.splice(x,1);!J.aborted&&L.state===Ke&&$e.call(L)},Me.push(L)}else L.invoke()}else!J.aborted&&!1===te[A]&&(te[U]=!0)};return re.call(te,we,Qe),te[T]||(te[T]=L),W.apply(te,J.args),te[A]=!0,L}function ie(){}function R(L){const J=L.data;return J.aborted=!0,Ce.apply(J.target,J.args)}const Be=Pt(Ee,"open",()=>function(L,J){return L[_]=0==J[2],L[H]=J[1],Be.apply(L,J)}),Te=ye("fetchTaskAborting"),le=ye("fetchTaskScheduling"),W=Pt(Ee,"send",()=>function(L,J){if(!0===v.current[le]||L[_])return W.apply(L,J);{const te={target:L,url:L[H],isPeriodic:!1,args:J,aborted:!1},Ye=Dn("XMLHttpRequest.send",ie,te,ke,R);L&&!0===L[U]&&!te.aborted&&Ye.state===Ke&&Ye.invoke()}}),Ce=Pt(Ee,"abort",()=>function(L,J){const te=function ue(L){return L[T]}(L);if(te&&"string"==typeof te.type){if(null==te.cancelFn||te.data&&te.data.aborted)return;te.zone.cancelTask(te)}else if(!0===v.current[Te])return Ce.apply(L,J)})}(d);const T=ye("xhrTask"),_=ye("xhrSync"),S=ye("xhrListener"),A=ye("xhrScheduled"),H=ye("xhrURL"),U=ye("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",d=>{d.navigator&&d.navigator.geolocation&&function qe(d,v){const T=d.constructor.name;for(let _=0;_<v.length;_++){const S=v[_],A=d[S];if(A){if(!lt(jt(d,S)))continue;d[S]=(U=>{const $=function(){return U.apply(this,xs(arguments,T+"."+S))};return kt($,U),$})(A)}}}(d.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(d,v)=>{function T(_){return function(S){Is(d,_).forEach(H=>{const U=d.PromiseRejectionEvent;if(U){const $=new U(_,{promise:S.promise,reason:S.rejection});H.invoke($)}})}}d.PromiseRejectionEvent&&(v[ye("unhandledPromiseRejectionHandler")]=T("unhandledrejection"),v[ye("rejectionHandledHandler")]=T("rejectionhandled"))})}},jt=>{jt(jt.s=5565)}]);
(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[179],{2011:(At,Ge,j)=>{"use strict";j.d(Ge,{Dh:()=>Ne,GT:()=>Ce,cc:()=>Ue,hO:()=>tt,on:()=>J,pX:()=>ge,xv:()=>Ae});var u=j(4650),k=j(127),W=j(5813);At=j.hmd(At);const be=["ngOnDestroy"],ge=(Me,at,St,He={})=>new Proxy(Me,{get:(ke,Fe)=>St.runOutsideAngular(()=>{var st;if(Me[Fe])return!(null===(st=He?.spy)||void 0===st)&&st.get&&He.spy.get(Fe,Me[Fe]),Me[Fe];if(be.indexOf(Fe)>-1)return()=>{};const ft=at.toPromise().then(Q=>{const Re=Q&&Q[Fe];return"function"==typeof Re?Re.bind(Q):Re&&Re.then?Re.then(ae=>St.run(()=>ae)):St.run(()=>Re)});return new Proxy(()=>{},{get:(Q,Re)=>ft[Re],apply:(Q,Re,ae)=>ft.then(pe=>{var ye;const ve=pe&&pe(...ae);return!(null===(ye=He?.spy)||void 0===ye)&&ye.apply&&He.spy.apply(Fe,ae,ve),ve})})})}),Ce=(Me,at)=>{at.forEach(St=>{Object.getOwnPropertyNames(St.prototype||St).forEach(He=>{Object.defineProperty(Me.prototype,He,Object.getOwnPropertyDescriptor(St.prototype||St,He))})})};class Ie{constructor(at){return at}}const Ne=new u.OlP("angularfire2.app.options"),Ae=new u.OlP("angularfire2.app.name");function J(Me,at,St){const ke="object"==typeof St&&St||{};ke.name=ke.name||"string"==typeof St&&St||"[DEFAULT]";const st=k.Z.apps.filter(ft=>ft&&ft.name===ke.name)[0]||at.runOutsideAngular(()=>k.Z.initializeApp(Me,ke));try{JSON.stringify(Me)!==JSON.stringify(st.options)&&X("error",`${st.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(st)}const X=(Me,...at)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Me](...at)},ce={provide:Ie,useFactory:J,deps:[Ne,u.R0b,[new u.FiY,Ae]]};let tt=(()=>{class Me{constructor(St){k.Z.registerVersion("angularfire",W.q4.full,"core"),k.Z.registerVersion("angularfire",W.q4.full,"app-compat"),k.Z.registerVersion("angular",u.q4F.full,St.toString())}static initializeApp(St,He){return{ngModule:Me,providers:[{provide:Ne,useValue:St},{provide:Ae,useValue:He}]}}}return Me.\u0275fac=function(St){return new(St||Me)(u.LFG(u.Lbi))},Me.\u0275mod=u.oAB({type:Me}),Me.\u0275inj=u.cJS({providers:[ce]}),Me})();function Ue(Me,at,St,He,ke){const[,Fe,st]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===Me)||[];if(Fe)return function Le(Me,at){try{return Me.toString()===at.toString()}catch{return Me===at}}(ke,st)||(Oe("error",`${at} was already initialized on the ${St} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:ke,was:st})),Fe;{const ft=He();return globalThis.\u0275AngularfireInstanceCache.push([Me,ft,ke]),ft}}const ht=!!At.hot,Oe=(Me,...at)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Me](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(At,Ge,j)=>{"use strict";j.d(Ge,{q4:()=>tr,iC:()=>vr,fc:()=>Ps,HU:()=>Wn,vb:()=>Vu,JM:()=>Bu});var u=j(4650),k=j(5867),W=j(5861),be=j(9681),ge=j(2090),Ce=j(4859),Ie=j(1877),Ne=j(8766);const Ae="@firebase/installations",J="0.5.12",ce=`w:${J}`,tt="FIS_v2",at=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function St(S){return S instanceof ge.ZR&&S.code.includes("request-failed")}function He({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function ke(S){return{token:S.token,requestStatus:2,expiresIn:pe(S.expiresIn),creationTime:Date.now()}}function Fe(S,N){return st.apply(this,arguments)}function st(){return(st=(0,W.Z)(function*(S,N){const q=(yield N.json()).error;return at.create("request-failed",{requestName:S,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function ft({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Q(S,{refreshToken:N}){const F=ft(S);return F.append("Authorization",function ye(S){return`${tt} ${S}`}(N)),F}function Re(S){return ae.apply(this,arguments)}function ae(){return(ae=(0,W.Z)(function*(S){const N=yield S();return N.status>=500&&N.status<600?S():N})).apply(this,arguments)}function pe(S){return Number(S.replace("s","000"))}function ve(S,N){return it.apply(this,arguments)}function it(){return(it=(0,W.Z)(function*({appConfig:S,heartbeatServiceProvider:N},{fid:F}){const q=He(S),he=ft(S),Ee=N.getImmediate({optional:!0});if(Ee){const Ht=yield Ee.getHeartbeatsHeader();Ht&&he.append("x-firebase-client",Ht)}const nt={method:"POST",headers:he,body:JSON.stringify({fid:F,authVersion:tt,appId:S.appId,sdkVersion:ce})},Vt=yield Re(()=>fetch(q,nt));if(Vt.ok){const Ht=yield Vt.json();return{fid:Ht.fid||F,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:ke(Ht.authToken)}}throw yield Fe("Create Installation",Vt)})).apply(this,arguments)}function Je(S){return new Promise(N=>{setTimeout(N,S)})}const Tn=/^[cdef][\w-]{21}$/;function pt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const F=function Yn(S){return function Mt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Tn.test(F)?F:""}catch{return""}}function di(S){return`${S.appName}!${S.appId}`}const Vn=new Map;function pn(S,N){const F=di(S);Qt(F,N),function xr(S,N){const F=function kn(){return!En&&"BroadcastChannel"in self&&(En=new BroadcastChannel("[Firebase] FID Change"),En.onmessage=S=>{Qt(S.data.key,S.data.fid)}),En}();F&&F.postMessage({key:S,fid:N}),function Wi(){0===Vn.size&&En&&(En.close(),En=null)}()}(F,N)}function Qt(S,N){const F=Vn.get(S);if(F)for(const q of F)q(N)}let En=null;const Oi="firebase-installations-store";let Ar=null;function vi(){return Ar||(Ar=(0,Ne.X3)("firebase-installations-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(Oi)}})),Ar}function yt(S,N){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,W.Z)(function*(S,N){const F=di(S),he=(yield vi()).transaction(Oi,"readwrite"),Ee=he.objectStore(Oi),We=yield Ee.get(F);return yield Ee.put(N,F),yield he.done,(!We||We.fid!==N.fid)&&pn(S,N.fid),N})).apply(this,arguments)}function Hr(S){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,W.Z)(function*(S){const N=di(S),q=(yield vi()).transaction(Oi,"readwrite");yield q.objectStore(Oi).delete(N),yield q.done})).apply(this,arguments)}function ni(S,N){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,W.Z)(function*(S,N){const F=di(S),he=(yield vi()).transaction(Oi,"readwrite"),Ee=he.objectStore(Oi),We=yield Ee.get(F),nt=N(We);return void 0===nt?yield Ee.delete(F):yield Ee.put(nt,F),yield he.done,nt&&(!We||We.fid!==nt.fid)&&pn(S,nt.fid),nt})).apply(this,arguments)}function Fi(S){return wi.apply(this,arguments)}function wi(){return(wi=(0,W.Z)(function*(S){let N;const F=yield ni(S.appConfig,q=>{const he=fi(q),Ee=Ft(S,he);return N=Ee.registrationPromise,Ee.installationEntry});return""===F.fid?{installationEntry:yield N}:{installationEntry:F,registrationPromise:N}})).apply(this,arguments)}function fi(S){return jt(S||{fid:pt(),registrationStatus:0})}function Ft(S,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(at.create("app-offline"))};const F={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},q=function Ot(S,N){return Un.apply(this,arguments)}(S,F);return{installationEntry:F,registrationPromise:q}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Li(S)}:{installationEntry:N}}function Un(){return(Un=(0,W.Z)(function*(S,N){try{const F=yield ve(S,N);return yt(S.appConfig,F)}catch(F){throw St(F)&&409===F.customData.serverCode?yield Hr(S.appConfig):yield yt(S.appConfig,{fid:N.fid,registrationStatus:0}),F}})).apply(this,arguments)}function Li(S){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,W.Z)(function*(S){let N=yield zi(S.appConfig);for(;1===N.registrationStatus;)yield Je(100),N=yield zi(S.appConfig);if(0===N.registrationStatus){const{installationEntry:F,registrationPromise:q}=yield Fi(S);return q||F}return N})).apply(this,arguments)}function zi(S){return ni(S,N=>{if(!N)throw at.create("installation-not-found");return jt(N)})}function jt(S){return function Is(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Sn(S,N){return ns.apply(this,arguments)}function ns(){return(ns=(0,W.Z)(function*({appConfig:S,heartbeatServiceProvider:N},F){const q=In(S,F),he=Q(S,F),Ee=N.getImmediate({optional:!0});if(Ee){const Ht=yield Ee.getHeartbeatsHeader();Ht&&he.append("x-firebase-client",Ht)}const nt={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:ce,appId:S.appId}})},Vt=yield Re(()=>fetch(q,nt));if(Vt.ok)return ke(yield Vt.json());throw yield Fe("Generate Auth Token",Vt)})).apply(this,arguments)}function In(S,{fid:N}){return`${He(S)}/${N}/authTokens:generate`}function oe(S){return te.apply(this,arguments)}function te(){return(te=(0,W.Z)(function*(S,N=!1){let F;const q=yield ni(S.appConfig,Ee=>{if(!kt(Ee))throw at.create("not-registered");const We=Ee.authToken;if(!N&&oi(We))return Ee;if(1===We.requestStatus)return F=K(S,N),Ee;{if(!navigator.onLine)throw at.create("app-offline");const nt=qi(Ee);return F=ze(S,nt),nt}});return F?yield F:q.authToken})).apply(this,arguments)}function K(S,N){return ne.apply(this,arguments)}function ne(){return(ne=(0,W.Z)(function*(S,N){let F=yield ie(S.appConfig);for(;1===F.authToken.requestStatus;)yield Je(100),F=yield ie(S.appConfig);const q=F.authToken;return 0===q.requestStatus?oe(S,N):q})).apply(this,arguments)}function ie(S){return ni(S,N=>{if(!kt(N))throw at.create("not-registered");return function mn(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function ze(S,N){return ct.apply(this,arguments)}function ct(){return(ct=(0,W.Z)(function*(S,N){try{const F=yield Sn(S,N),q=Object.assign(Object.assign({},N),{authToken:F});return yield yt(S.appConfig,q),F}catch(F){if(!St(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const q=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield yt(S.appConfig,q)}else yield Hr(S.appConfig);throw F}})).apply(this,arguments)}function kt(S){return void 0!==S&&2===S.registrationStatus}function oi(S){return 2===S.requestStatus&&!function Fn(S){const N=Date.now();return N<S.creationTime||S.creationTime+S.expiresIn<N+36e5}(S)}function qi(S){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:N})}function ai(){return(ai=(0,W.Z)(function*(S){const N=S,{installationEntry:F,registrationPromise:q}=yield Fi(N);return q?q.catch(console.error):oe(N).catch(console.error),F.fid})).apply(this,arguments)}function us(){return(us=(0,W.Z)(function*(S,N=!1){const F=S;return yield jr(F),(yield oe(F,N)).token})).apply(this,arguments)}function jr(S){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,W.Z)(function*(S){const{registrationPromise:N}=yield Fi(S);N&&(yield N)})).apply(this,arguments)}function Hs(S){return at.create("missing-app-config-values",{valueName:S})}const hs="installations",Kn=S=>{const N=S.getProvider("app").getImmediate(),F=function li(S){if(!S||!S.options)throw Hs("App Configuration");if(!S.name)throw Hs("App Name");const N=["projectId","apiKey","appId"];for(const F of N)if(!S.options[F])throw Hs(F);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(N);return{app:N,appConfig:F,heartbeatServiceProvider:(0,be._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},js=S=>{const N=S.getProvider("app").getImmediate(),F=(0,be._getProvider)(N,hs).getImmediate();return{getId:()=>function on(S){return ai.apply(this,arguments)}(F),getToken:he=>function Di(S){return us.apply(this,arguments)}(F,he)}};(function Eo(){(0,be._registerComponent)(new Ce.wA(hs,Kn,"PUBLIC")),(0,be._registerComponent)(new Ce.wA("installations-internal",js,"PRIVATE"))})(),(0,be.registerVersion)(Ae,J),(0,be.registerVersion)(Ae,J,"esm2017");const Ws="@firebase/remote-config",Qn=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dc{constructor(N,F,q,he){this.client=N,this.storage=F,this.storageCache=q,this.logger=he}isCachedDataFresh(N,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-F,he=q<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${he}.`),he}fetch(N){var F=this;return(0,W.Z)(function*(){const[q,he]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(he&&F.isCachedDataFresh(N.cacheMaxAgeMillis,q))return he;N.eTag=he&&he.eTag;const Ee=yield F.client.fetch(N),We=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ee.status&&We.push(F.storage.setLastSuccessfulFetchResponse(Ee)),yield Promise.all(We),Ee})()}}function fo(S=navigator){return S.languages&&S.languages[0]||S.language}class B{constructor(N,F,q,he,Ee,We){this.firebaseInstallations=N,this.sdkVersion=F,this.namespace=q,this.projectId=he,this.apiKey=Ee,this.appId=We}fetch(N){var F=this;return(0,W.Z)(function*(){var q,he,Ee;const[We,nt]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Ut={sdk_version:F.sdkVersion,app_instance_id:We,app_instance_id_token:nt,app_id:F.appId,language_code:fo()},gi={method:"POST",headers:qt,body:JSON.stringify(Ut)},ji=fetch(Ht,gi),Zn=new Promise((Pa,Qs)=>{N.signal.addEventListener(()=>{const pl=new Error("The operation was aborted.");pl.name="AbortError",Qs(pl)})});let ur;try{yield Promise.race([ji,Zn]),ur=yield ji}catch(Pa){let Qs="fetch-client-network";throw"AbortError"===(null===(q=Pa)||void 0===q?void 0:q.name)&&(Qs="fetch-timeout"),Qn.create(Qs,{originalErrorMessage:null===(he=Pa)||void 0===he?void 0:he.message})}let ca=ur.status;const Wl=ur.headers.get("ETag")||void 0;let Ma,Ra;if(200===ur.status){let Pa;try{Pa=yield ur.json()}catch(Qs){throw Qn.create("fetch-client-parse",{originalErrorMessage:null===(Ee=Qs)||void 0===Ee?void 0:Ee.message})}Ma=Pa.entries,Ra=Pa.state}if("INSTANCE_STATE_UNSPECIFIED"===Ra?ca=500:"NO_CHANGE"===Ra?ca=304:("NO_TEMPLATE"===Ra||"EMPTY_CONFIG"===Ra)&&(Ma={}),304!==ca&&200!==ca)throw Qn.create("fetch-status",{httpStatus:ca});return{status:ca,eTag:Wl,config:Ma}})()}}class we{constructor(N,F){this.client=N,this.storage=F}fetch(N){var F=this;return(0,W.Z)(function*(){const q=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(N,q)})()}attemptFetch(N,{throttleEndTimeMillis:F,backoffCount:q}){var he=this;return(0,W.Z)(function*(){yield function $(S,N){return new Promise((F,q)=>{const he=Math.max(N-Date.now(),0),Ee=setTimeout(F,he);S.addEventListener(()=>{clearTimeout(Ee),q(Qn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,F);try{const Ee=yield he.client.fetch(N);return yield he.storage.deleteThrottleMetadata(),Ee}catch(Ee){if(!function ee(S){if(!(S instanceof ge.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ee))throw Ee;const We={throttleEndTimeMillis:Date.now()+(0,ge.$s)(q),backoffCount:q+1};return yield he.storage.setThrottleMetadata(We),he.attemptFetch(N,We)}})()}}class an{constructor(N,F,q,he,Ee){this.app=N,this._client=F,this._storageCache=q,this._storage=he,this._logger=Ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ri(S,N){var F;const q=S.target.error||void 0;return Qn.create(N,{originalErrorMessage:q&&(null===(F=q)||void 0===F?void 0:F.message)})}const ui="app_namespace_store";class ef{constructor(N,F,q,he=function up(){return new Promise((S,N)=>{var F;try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=he=>{N(Ri(he,"storage-open"))},q.onsuccess=he=>{S(he.target.result)},q.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(ui,{keyPath:"compositeKey"})}}catch(q){N(Qn.create("storage-open",{originalErrorMessage:null===(F=q)||void 0===F?void 0:F.message}))}})}()){this.appId=N,this.appName=F,this.namespace=q,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var F=this;return(0,W.Z)(function*(){const q=yield F.openDbPromise;return new Promise((he,Ee)=>{var We;const Vt=q.transaction([ui],"readonly").objectStore(ui),Ht=F.createCompositeKey(N);try{const qt=Vt.get(Ht);qt.onerror=Ut=>{Ee(Ri(Ut,"storage-get"))},qt.onsuccess=Ut=>{const gi=Ut.target.result;he(gi?gi.value:void 0)}}catch(qt){Ee(Qn.create("storage-get",{originalErrorMessage:null===(We=qt)||void 0===We?void 0:We.message}))}})})()}set(N,F){var q=this;return(0,W.Z)(function*(){const he=yield q.openDbPromise;return new Promise((Ee,We)=>{var nt;const Ht=he.transaction([ui],"readwrite").objectStore(ui),qt=q.createCompositeKey(N);try{const Ut=Ht.put({compositeKey:qt,value:F});Ut.onerror=gi=>{We(Ri(gi,"storage-set"))},Ut.onsuccess=()=>{Ee()}}catch(Ut){We(Qn.create("storage-set",{originalErrorMessage:null===(nt=Ut)||void 0===nt?void 0:nt.message}))}})})()}delete(N){var F=this;return(0,W.Z)(function*(){const q=yield F.openDbPromise;return new Promise((he,Ee)=>{var We;const Vt=q.transaction([ui],"readwrite").objectStore(ui),Ht=F.createCompositeKey(N);try{const qt=Vt.delete(Ht);qt.onerror=Ut=>{Ee(Ri(Ut,"storage-delete"))},qt.onsuccess=()=>{he()}}catch(qt){Ee(Qn.create("storage-delete",{originalErrorMessage:null===(We=qt)||void 0===We?void 0:We.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class zd{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,W.Z)(function*(){const F=N.storage.getLastFetchStatus(),q=N.storage.getLastSuccessfulFetchTimestampMillis(),he=N.storage.getActiveConfig(),Ee=yield F;Ee&&(N.lastFetchStatus=Ee);const We=yield q;We&&(N.lastSuccessfulFetchTimestampMillis=We);const nt=yield he;nt&&(N.activeConfig=nt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Al(){return tf.apply(this,arguments)}function tf(){return(tf=(0,W.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Ia(){(0,be._registerComponent)(new Ce.wA("remote-config",function S(N,{instanceIdentifier:F}){const q=N.getProvider("app").getImmediate(),he=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qn.create("registration-window");if(!(0,ge.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:Ee,apiKey:We,appId:nt}=q.options;if(!Ee)throw Qn.create("registration-project-id");if(!We)throw Qn.create("registration-api-key");if(!nt)throw Qn.create("registration-app-id");const Vt=new ef(nt,q.name,F=F||"firebase"),Ht=new zd(Vt),qt=new Ie.Yd(Ws);qt.logLevel=Ie.in.ERROR;const Ut=new B(he,be.SDK_VERSION,F,Ee,We,nt),gi=new we(Ut,Vt),ji=new dc(gi,Vt,Ht,qt),Zn=new an(q,ji,Ht,Vt,qt);return function Gn(S){const N=(0,ge.m9)(S);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Zn),Zn},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(Ws,"0.3.11"),(0,be.registerVersion)(Ws,"0.3.11","esm2017")}();const xo="/firebase-messaging-sw.js",Ao="/firebase-cloud-messaging-push-scope",na="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jn="google.c.a.c_id",Xn="google.c.a.c_l",ed="google.c.a.ts",nf="google.c.a.e";var ia=(()=>{return(S=ia||(ia={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",ia;var S})();function zs(S){const N=new Uint8Array(S);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xs(S){const F=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(F),he=new Uint8Array(q.length);for(let Ee=0;Ee<q.length;++Ee)he[Ee]=q.charCodeAt(Ee);return he}const Qa="fcm_token_details_db",Hn="fcm_token_object_Store";function Yd(S){return pu.apply(this,arguments)}function pu(){return pu=(0,W.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ee=>Ee.name).includes(Qa))return null;let N=null;return(yield(0,Ne.X3)(Qa,5,{upgrade:(q=(0,W.Z)(function*(he,Ee,We,nt){var Vt;if(Ee<2||!he.objectStoreNames.contains(Hn))return;const Ht=nt.objectStore(Hn),qt=yield Ht.index("fcmSenderId").get(S);if(yield Ht.clear(),qt)if(2===Ee){const Ut=qt;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;N={token:Ut.fcmToken,createTime:null!==(Vt=Ut.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:zs(Ut.vapidKey)}}}else if(3===Ee){const Ut=qt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:zs(Ut.auth),p256dh:zs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:zs(Ut.vapidKey)}}}else if(4===Ee){const Ut=qt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:zs(Ut.auth),p256dh:zs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:zs(Ut.vapidKey)}}}}),function(Ee,We,nt,Vt){return q.apply(this,arguments)})})).close(),yield(0,Ne.Lj)(Qa),yield(0,Ne.Lj)("fcm_vapid_details_db"),yield(0,Ne.Lj)("undefined"),$i(N)?N:null;var q}),pu.apply(this,arguments)}function $i(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:N}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const As="firebase-messaging-store";let rs=null;function gu(){return rs||(rs=(0,Ne.X3)("firebase-messaging-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(As)}})),rs}function Ja(S){return No.apply(this,arguments)}function No(){return(No=(0,W.Z)(function*(S){const N=po(S),q=yield(yield gu()).transaction(As).objectStore(As).get(N);if(q)return q;{const he=yield Yd(S.appConfig.senderId);if(he)return yield An(S,he),he}})).apply(this,arguments)}function An(S,N){return zr.apply(this,arguments)}function zr(){return(zr=(0,W.Z)(function*(S,N){const F=po(S),he=(yield gu()).transaction(As,"readwrite");return yield he.objectStore(As).put(N,F),yield he.done,N})).apply(this,arguments)}function Xa(S){return ss.apply(this,arguments)}function ss(){return(ss=(0,W.Z)(function*(S){const N=po(S),q=(yield gu()).transaction(As,"readwrite");yield q.objectStore(As).delete(N),yield q.done})).apply(this,arguments)}function po({appConfig:S}){return S.appId}const ei=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zt(S,N){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,W.Z)(function*(S,N){var F;const q=yield nd(S),he=Ze(N),Ee={method:"POST",headers:q,body:JSON.stringify(he)};let We;try{We=yield(yield fetch(mo(S.appConfig),Ee)).json()}catch(nt){throw ei.create("token-subscribe-failed",{errorInfo:null===(F=nt)||void 0===F?void 0:F.toString()})}if(We.error)throw ei.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw ei.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function Ii(S,N){return go.apply(this,arguments)}function go(){return(go=(0,W.Z)(function*(S,N){var F;const q=yield nd(S),he=Ze(N.subscriptionOptions),Ee={method:"PATCH",headers:q,body:JSON.stringify(he)};let We;try{We=yield(yield fetch(`${mo(S.appConfig)}/${N.token}`,Ee)).json()}catch(nt){throw ei.create("token-update-failed",{errorInfo:null===(F=nt)||void 0===F?void 0:F.toString()})}if(We.error)throw ei.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw ei.create("token-update-no-token");return We.token})).apply(this,arguments)}function Ml(S,N){return td.apply(this,arguments)}function td(){return(td=(0,W.Z)(function*(S,N){var F;const he={method:"DELETE",headers:yield nd(S)};try{const We=yield(yield fetch(`${mo(S.appConfig)}/${N}`,he)).json();if(We.error)throw ei.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(Ee){throw ei.create("token-unsubscribe-failed",{errorInfo:null===(F=Ee)||void 0===F?void 0:F.toString()})}})).apply(this,arguments)}function mo({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function nd(S){return _u.apply(this,arguments)}function _u(){return(_u=(0,W.Z)(function*({appConfig:S,installations:N}){const F=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function Ze({p256dh:S,auth:N,endpoint:F,vapidKey:q}){const he={web:{endpoint:F,auth:N,p256dh:S}};return q!==na&&(he.web.applicationPubKey=q),he}const _n=6048e5;function el(S){return ra.apply(this,arguments)}function ra(){return(ra=(0,W.Z)(function*(S){const N=yield id(S.swRegistration,S.vapidKey),F={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:N.endpoint,auth:zs(N.getKey("auth")),p256dh:zs(N.getKey("p256dh"))},q=yield Ja(S.firebaseDependencies);if(q){if(hc(q.subscriptionOptions,F))return Date.now()>=q.createTime+_n?tl(S,{token:q.token,createTime:Date.now(),subscriptionOptions:F}):q.token;try{yield Ml(S.firebaseDependencies,q.token)}catch(he){console.warn(he)}return nl(S.firebaseDependencies,F)}return nl(S.firebaseDependencies,F)})).apply(this,arguments)}function Ji(S){return vu.apply(this,arguments)}function vu(){return(vu=(0,W.Z)(function*(S){const N=yield Ja(S.firebaseDependencies);N&&(yield Ml(S.firebaseDependencies,N.token),yield Xa(S.firebaseDependencies));const F=yield S.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function tl(S,N){return gs.apply(this,arguments)}function gs(){return(gs=(0,W.Z)(function*(S,N){try{const F=yield Ii(S.firebaseDependencies,N),q=Object.assign(Object.assign({},N),{token:F,createTime:Date.now()});return yield An(S.firebaseDependencies,q),F}catch(F){throw yield Ji(S),F}})).apply(this,arguments)}function nl(S,N){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,W.Z)(function*(S,N){const q={token:yield Zt(S,N),createTime:Date.now(),subscriptionOptions:N};return yield An(S,q),q.token})).apply(this,arguments)}function id(S,N){return yu.apply(this,arguments)}function yu(){return(yu=(0,W.Z)(function*(S,N){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xs(N)})})).apply(this,arguments)}function hc(S,N){return N.vapidKey===S.vapidKey&&N.endpoint===S.endpoint&&N.auth===S.auth&&N.p256dh===S.p256dh}function bu(S){const N={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Gi(S,N){if(!N.notification)return;S.notification={};const F=N.notification.title;F&&(S.notification.title=F);const q=N.notification.body;q&&(S.notification.body=q);const he=N.notification.image;he&&(S.notification.image=he)}(N,S),function Hi(S,N){!N.data||(S.data=N.data)}(N,S),function wu(S,N){var F,q,he,Ee,We;if(!(N.fcmOptions||null!==(F=N.notification)&&void 0!==F&&F.click_action))return;S.fcmOptions={};const nt=null!==(he=null===(q=N.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==he?he:null===(Ee=N.notification)||void 0===Ee?void 0:Ee.click_action;nt&&(S.fcmOptions.link=nt);const Vt=null===(We=N.fcmOptions)||void 0===We?void 0:We.analytics_label;Vt&&(S.fcmOptions.analyticsLabel=Vt)}(N,S),N}function _o(S){return"object"==typeof S&&!!S&&Jn in S}function Oo(S,N){const F=[];for(let q=0;q<S.length;q++)F.push(S.charAt(q)),q<N.length&&F.push(N.charAt(q));return F.join("")}function Du(S){return ei.create("missing-app-config-values",{valueName:S})}Oo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cp{constructor(N,F,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function rf(S){if(!S||!S.options)throw Du("App Configuration Object");if(!S.name)throw Du("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:F}=S;for(const q of N)if(!F[q])throw Du(q);return{appName:S.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:he,installations:F,analyticsProvider:q}}_delete(){return Promise.resolve()}}function rd(S){return fc.apply(this,arguments)}function fc(){return(fc=(0,W.Z)(function*(S){var N;try{S.swRegistration=yield navigator.serviceWorker.register(xo,{scope:Ao}),S.swRegistration.update().catch(()=>{})}catch(F){throw ei.create("failed-service-worker-registration",{browserErrorMessage:null===(N=F)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function Cu(S,N){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,W.Z)(function*(S,N){if(!N&&!S.swRegistration&&(yield rd(S)),N||!S.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw ei.create("invalid-sw-registration");S.swRegistration=N}})).apply(this,arguments)}function Iu(S,N){return sd.apply(this,arguments)}function sd(){return(sd=(0,W.Z)(function*(S,N){N?S.vapidKey=N:S.vapidKey||(S.vapidKey=na)})).apply(this,arguments)}function Tu(){return(Tu=(0,W.Z)(function*(S,N){if(!navigator)throw ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ei.create("permission-blocked");return yield Iu(S,N?.vapidKey),yield Cu(S,N?.serviceWorkerRegistration),el(S)})).apply(this,arguments)}function Mo(S,N,F){return kl.apply(this,arguments)}function kl(){return(kl=(0,W.Z)(function*(S,N,F){const q=od(N);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:F[Jn],message_name:F[Xn],message_time:F[ed],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function od(S){switch(S){case ia.NOTIFICATION_CLICKED:return"notification_open";case ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function il(){return(il=(0,W.Z)(function*(S,N){const F=N.data;if(!F.isFirebaseMessaging)return;S.onMessageHandler&&F.messageType===ia.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(bu(F)):S.onMessageHandler.next(bu(F)));const q=F.data;_o(q)&&"1"===q[nf]&&(yield Mo(S,F.messageType,q))})).apply(this,arguments)}const Zs="@firebase/messaging",_r=S=>{const N=new cp(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function Kd(S,N){return il.apply(this,arguments)}(N,F)),N},Ns=S=>{const N=S.getProvider("messaging").getImmediate();return{getToken:q=>function Pl(S,N){return Tu.apply(this,arguments)}(N,q)}};function ad(){return ld.apply(this,arguments)}function ld(){return(ld=(0,W.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ti(){(0,be._registerComponent)(new Ce.wA("messaging",_r,"PUBLIC")),(0,be._registerComponent)(new Ce.wA("messaging-internal",Ns,"PRIVATE")),(0,be.registerVersion)(Zs,"0.9.16"),(0,be.registerVersion)(Zs,"0.9.16","esm2017")}();const Ei="analytics",ii="firebase_id",Dr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rl="https://www.googletagmanager.com/gtag/js",Xi=new Ie.Yd("@firebase/analytics");function sa(S){return Promise.all(S.map(N=>N.catch(F=>F)))}function sl(S,N){const F=document.createElement("script");F.src=`${rl}?l=${S}&id=${N}`,F.async=!0,document.head.appendChild(F)}function ti(S,N,F,q,he,Ee){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,W.Z)(function*(S,N,F,q,he,Ee){const We=q[he];try{if(We)yield N[We];else{const Vt=(yield sa(F)).find(Ht=>Ht.measurementId===he);Vt&&(yield N[Vt.appId])}}catch(nt){Xi.error(nt)}S("config",he,Ee)})).apply(this,arguments)}function ol(S,N,F,q,he){return Po.apply(this,arguments)}function Po(){return(Po=(0,W.Z)(function*(S,N,F,q,he){try{let Ee=[];if(he&&he.send_to){let We=he.send_to;Array.isArray(We)||(We=[We]);const nt=yield sa(F);for(const Vt of We){const Ht=nt.find(Ut=>Ut.measurementId===Vt),qt=Ht&&N[Ht.appId];if(!qt){Ee=[];break}Ee.push(qt)}}0===Ee.length&&(Ee=Object.values(N)),yield Promise.all(Ee),S("event",q,he||{})}catch(Ee){Xi.error(Ee)}})).apply(this,arguments)}function Jd(){const S=window.document.getElementsByTagName("script");for(const N of Object.values(S))if(N.src&&N.src.includes(rl))return N;return null}const Si=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vl=new class Os{constructor(N={},F=1e3){this.throttleMetadata=N,this.intervalMillis=F}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,F){this.throttleMetadata[N]=F}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function ud(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function xa(S){return gc.apply(this,arguments)}function gc(){return(gc=(0,W.Z)(function*(S){var N;const{appId:F,apiKey:q}=S,he={method:"GET",headers:ud(q)},Ee=Dr.replace("{app-id}",F),We=yield fetch(Ee,he);if(200!==We.status&&304!==We.status){let nt="";try{const Vt=yield We.json();null!==(N=Vt.error)&&void 0!==N&&N.message&&(nt=Vt.error.message)}catch{}throw Si.create("config-fetch-failed",{httpStatus:We.status,responseMessage:nt})}return We.json()})).apply(this,arguments)}function xi(S){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,W.Z)(function*(S,N=Vl,F){const{appId:q,apiKey:he,measurementId:Ee}=S.options;if(!q)throw Si.create("no-app-id");if(!he){if(Ee)return{measurementId:Ee,appId:q};throw Si.create("no-api-key")}const We=N.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new ul;return setTimeout((0,W.Z)(function*(){nt.abort()}),void 0!==F?F:6e4),al({appId:q,apiKey:he,measurementId:Ee},We,nt,N)})).apply(this,arguments)}function al(S,N,F){return ll.apply(this,arguments)}function ll(){return(ll=(0,W.Z)(function*(S,{throttleEndTimeMillis:N,backoffCount:F},q,he=Vl){var Ee,We;const{appId:nt,measurementId:Vt}=S;try{yield Au(q,N)}catch(Ht){if(Vt)return Xi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${null===(Ee=Ht)||void 0===Ee?void 0:Ee.message}]`),{appId:nt,measurementId:Vt};throw Ht}try{const Ht=yield xa(S);return he.deleteThrottleMetadata(nt),Ht}catch(Ht){const qt=Ht;if(!mc(qt)){if(he.deleteThrottleMetadata(nt),Vt)return Xi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${qt?.message}]`),{appId:nt,measurementId:Vt};throw Ht}const Ut=503===Number(null===(We=qt?.customData)||void 0===We?void 0:We.httpStatus)?(0,ge.$s)(F,he.intervalMillis,30):(0,ge.$s)(F,he.intervalMillis),gi={throttleEndTimeMillis:Date.now()+Ut,backoffCount:F+1};return he.setThrottleMetadata(nt,gi),Xi.debug(`Calling attemptFetch again in ${Ut} millis`),al(S,gi,q,he)}})).apply(this,arguments)}function Au(S,N){return new Promise((F,q)=>{const he=Math.max(N-Date.now(),0),Ee=setTimeout(F,he);S.addEventListener(()=>{clearTimeout(Ee),q(Si.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function mc(S){if(!(S instanceof ge.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}class ul{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let vo,Mu;function Aa(){return(Aa=(0,W.Z)(function*(S,N,F,q,he){if(he&&he.global)S("event",F,q);else{const Ee=yield N;S("event",F,Object.assign(Object.assign({},q),{send_to:Ee}))}})).apply(this,arguments)}function aa(S){Mu=S}function dl(S){vo=S}function yo(){return la.apply(this,arguments)}function la(){return(la=(0,W.Z)(function*(){var S;if(!(0,ge.hl)())return Xi.warn(Si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(N){return Xi.warn(Si.create("indexeddb-unavailable",{errorInfo:null===(S=N)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Fo(){return(Fo=(0,W.Z)(function*(S,N,F,q,he,Ee,We){var nt;const Vt=xi(S);Vt.then(ji=>{F[ji.measurementId]=ji.appId,S.options.measurementId&&ji.measurementId!==S.options.measurementId&&Xi.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${ji.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ji=>Xi.error(ji)),N.push(Vt);const Ht=yo().then(ji=>{if(ji)return q.getId()}),[qt,Ut]=yield Promise.all([Vt,Ht]);Jd()||sl(Ee,qt.measurementId),Mu&&(he("consent","default",Mu),aa(void 0)),he("js",new Date);const gi=null!==(nt=We?.config)&&void 0!==nt?nt:{};return gi.origin="firebase",gi.update=!0,null!=Ut&&(gi[ii]=Ut),he("config",qt.measurementId,gi),vo&&(he("set",vo),dl(void 0)),qt.measurementId})).apply(this,arguments)}class hl{constructor(N){this.app=N}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},Na=[];const Ul={};let Gl,Lo,$l="dataLayer",ua=!1;function Ru(S,N,F){!function U(){const S=[];if((0,ge.ru)()&&S.push("This is a browser extension environment."),(0,ge.zI)()||S.push("Cookies are not available."),S.length>0){const N=S.map((q,he)=>`(${he+1}) ${q}`).join(" "),F=Si.create("invalid-analytics-context",{errorInfo:N});Xi.warn(F.message)}}();const q=S.options.appId;if(!q)throw Si.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Si.create("no-api-key");Xi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cr[q])throw Si.create("already-exists",{id:q});if(!ua){!function Eu(S){let N=[];Array.isArray(window[S])?N=window[S]:window[S]=N}($l);const{wrappedGtag:Ee,gtagCore:We}=function Su(S,N,F,q,he){let Ee=function(...We){window[q].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Ee=window[he]),window[he]=function pc(S,N,F,q){function Ee(){return(Ee=(0,W.Z)(function*(We,nt,Vt){try{"event"===We?yield ol(S,N,F,nt,Vt):"config"===We?yield ti(S,N,F,q,nt,Vt):"consent"===We?S("consent","update",Vt):S("set",nt)}catch(Ht){Xi.error(Ht)}})).apply(this,arguments)}return function he(We,nt,Vt){return Ee.apply(this,arguments)}}(Ee,S,N,F),{gtagCore:Ee,wrappedGtag:window[he]}}(Cr,Na,Ul,$l,"gtag");Lo=Ee,Gl=We,ua=!0}return Cr[q]=function ko(S,N,F,q,he,Ee,We){return Fo.apply(this,arguments)}(S,Na,Ul,N,Gl,$l,F),new hl(S)}function wn(){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,W.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}const sf="@firebase/analytics";!function qr(){(0,be._registerComponent)(new Ce.wA(Ei,(N,{options:F})=>Ru(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,be._registerComponent)(new Ce.wA("analytics-internal",function S(N){try{const F=N.getProvider(Ei).getImmediate();return{logEvent:(q,he,Ee)=>function dd(S,N,F,q){S=(0,ge.m9)(S),function _c(S,N,F,q,he){return Aa.apply(this,arguments)}(Lo,Cr[S.app.options.appId],N,F,q).catch(he=>Xi.error(he))}(F,q,he,Ee)}}catch(F){throw Si.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,be.registerVersion)(sf,"0.8.0"),(0,be.registerVersion)(sf,"0.8.0","esm2017")}();var or=j(4408),ri=j(7565);const It=new class qn extends ri.v{}(class ar extends or.o{constructor(N,F){super(N,F),this.scheduler=N,this.work=F}schedule(N,F=0){return F>0?super.schedule(N,F):(this.delay=F,this.state=N,this.scheduler.flush(this),this)}execute(N,F){return F>0||this.closed?super.execute(N,F):this._execute(N,F)}requestAsyncId(N,F,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(N,F,q):N.flush(this)}});var fd=j(4986),bc=j(8505),fl=j(5363),pd=j(9468);const tr=new u.GfV("7.4.1"),ku="__angularfire_symbol__analyticsIsSupportedValue",Oa="__angularfire_symbol__analyticsIsSupported",_s="__angularfire_symbol__remoteConfigIsSupportedValue",Fu="__angularfire_symbol__remoteConfigIsSupported",gd="__angularfire_symbol__messagingIsSupportedValue",md="__angularfire_symbol__messagingIsSupported";function Bu(S,N,F){if(N){if(1===N.length)return N[0];const Ee=N.filter(We=>We.app===F);if(1===Ee.length)return Ee[0]}return F.container.getProvider(S).getImmediate({optional:!0})}globalThis[Oa]||(globalThis[Oa]=wn().then(S=>globalThis[ku]=S).catch(()=>globalThis[ku]=!1)),globalThis[md]||(globalThis[md]=ad().then(S=>globalThis[gd]=S).catch(()=>globalThis[gd]=!1)),globalThis[Fu]||(globalThis[Fu]=Al().then(S=>globalThis[_s]=S).catch(()=>globalThis[_s]=!1));const Vu=(S,N)=>{const F=N?[N]:(0,k.C6)(),q=[];return F.forEach(he=>{he.container.getProvider(S).instances.forEach(We=>{q.includes(We)||q.push(We)})}),q};function Ai(){}class Pi{constructor(N,F=It){this.zone=N,this.delegate=F}now(){return this.delegate.now()}schedule(N,F,q){const he=this.zone;return this.delegate.schedule(function(We){he.runGuarded(()=>{N.apply(this,[We])})},F,q)}}class Rs{constructor(N){this.zone=N,this.task=null}call(N,F){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ai,{},Ai,Ai)),F.pipe((0,bc.b)({next:q,complete:q,error:q})).subscribe(N).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wn=(()=>{class S{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new Pi(Zone.current)),this.insideAngular=F.run(()=>new Pi(Zone.current,fd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(F){return new(F||S)(u.LFG(u.R0b))},S.\u0275prov=u.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function bt(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ps(S){return S.pipe((0,fl.Q)(bt().outsideAngular))}function vr(S){return bt(),function wc(S){return function(F){return(F=F.lift(new Rs(S.ngZone))).pipe((0,pd.R)(S.outsideAngular),(0,fl.Q)(S.insideAngular))}}(bt())(S)}},2090:(At,Ge,j)=>{"use strict";j.d(Ge,{$s:()=>Is,BH:()=>tt,G6:()=>ft,L:()=>Ne,LL:()=>it,Sg:()=>Ue,UG:()=>Oe,US:()=>Ce,ZB:()=>X,ZR:()=>ve,b$:()=>St,eu:()=>Re,hl:()=>Q,jU:()=>Me,m9:()=>In,ne:()=>vi,pd:()=>Oi,r3:()=>pr,ru:()=>at,tV:()=>Ae,uI:()=>ht,vZ:()=>En,w1:()=>ke,xO:()=>ts,xb:()=>Qt,z$:()=>Le,zI:()=>ae,zd:()=>hi});const be=function(oe){const te=[];let K=0;for(let ne=0;ne<oe.length;ne++){let ie=oe.charCodeAt(ne);ie<128?te[K++]=ie:ie<2048?(te[K++]=ie>>6|192,te[K++]=63&ie|128):55296==(64512&ie)&&ne+1<oe.length&&56320==(64512&oe.charCodeAt(ne+1))?(ie=65536+((1023&ie)<<10)+(1023&oe.charCodeAt(++ne)),te[K++]=ie>>18|240,te[K++]=ie>>12&63|128,te[K++]=ie>>6&63|128,te[K++]=63&ie|128):(te[K++]=ie>>12|224,te[K++]=ie>>6&63|128,te[K++]=63&ie|128)}return te},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,te){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let ie=0;ie<oe.length;ie+=3){const ze=oe[ie],ct=ie+1<oe.length,kt=ct?oe[ie+1]:0,oi=ie+2<oe.length,Fn=oi?oe[ie+2]:0;let on=(15&kt)<<2|Fn>>6,ai=63&Fn;oi||(ai=64,ct||(on=64)),ne.push(K[ze>>2],K[(3&ze)<<4|kt>>4],K[on],K[ai])}return ne.join("")},encodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(oe):this.encodeByteArray(be(oe),te)},decodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(oe):function(oe){const te=[];let K=0,ne=0;for(;K<oe.length;){const ie=oe[K++];if(ie<128)te[ne++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const ze=oe[K++];te[ne++]=String.fromCharCode((31&ie)<<6|63&ze)}else if(ie>239&&ie<365){const oi=((7&ie)<<18|(63&oe[K++])<<12|(63&oe[K++])<<6|63&oe[K++])-65536;te[ne++]=String.fromCharCode(55296+(oi>>10)),te[ne++]=String.fromCharCode(56320+(1023&oi))}else{const ze=oe[K++],ct=oe[K++];te[ne++]=String.fromCharCode((15&ie)<<12|(63&ze)<<6|63&ct)}}return te.join("")}(this.decodeStringToByteArray(oe,te))},decodeStringToByteArray(oe,te){this.init_();const K=te?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let ie=0;ie<oe.length;){const ze=K[oe.charAt(ie++)],kt=ie<oe.length?K[oe.charAt(ie)]:0;++ie;const Fn=ie<oe.length?K[oe.charAt(ie)]:64;++ie;const mn=ie<oe.length?K[oe.charAt(ie)]:64;if(++ie,null==ze||null==kt||null==Fn||null==mn)throw Error();ne.push(ze<<2|kt>>4),64!==Fn&&(ne.push(kt<<4&240|Fn>>2),64!==mn&&ne.push(Fn<<6&192|mn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},Ne=function(oe){return function(oe){const te=be(oe);return Ce.encodeByteArray(te,!0)}(oe).replace(/\./g,"")},Ae=function(oe){try{return Ce.decodeString(oe,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function X(oe,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return te}for(const K in te)!te.hasOwnProperty(K)||!ce(K)||(oe[K]=X(oe[K],te[K]));return oe}function ce(oe){return"__proto__"!==oe}class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,K)=>{this.resolve=te,this.reject=K})}wrapCallback(te){return(K,ne)=>{K?this.reject(K):this.resolve(ne),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(K):te(K,ne))}}}function Ue(oe,te){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=te||"demo-project",ie=oe.iat||0,ze=oe.sub||oe.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:ie,exp:ie+3600,auth_time:ie,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(ct)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ht(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return"object"==typeof self&&self.self===self}function at(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function St(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){const oe=Le();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function ft(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"object"==typeof indexedDB}function Re(){return new Promise((oe,te)=>{try{let K=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(ne);ie.onsuccess=()=>{ie.result.close(),K||self.indexedDB.deleteDatabase(ne),oe(!0)},ie.onupgradeneeded=()=>{K=!1},ie.onerror=()=>{var ze;te((null===(ze=ie.error)||void 0===ze?void 0:ze.message)||"")}}catch(K){te(K)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(te,K,ne){super(K),this.code=te,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(te,K,ne){this.service=te,this.serviceName=K,this.errors=ne}create(te,...K){const ne=K[0]||{},ie=`${this.service}/${te}`,ze=this.errors[te],ct=ze?function Je(oe,te){return oe.replace(Mt,(K,ne)=>{const ie=te[ne];return null!=ie?String(ie):`<${ne}?>`})}(ze,ne):"Error";return new ve(ie,`${this.serviceName}: ${ct} (${ie}).`,ne)}}const Mt=/\{\$([^}]+)}/g;function pr(oe,te){return Object.prototype.hasOwnProperty.call(oe,te)}function Qt(oe){for(const te in oe)if(Object.prototype.hasOwnProperty.call(oe,te))return!1;return!0}function En(oe,te){if(oe===te)return!0;const K=Object.keys(oe),ne=Object.keys(te);for(const ie of K){if(!ne.includes(ie))return!1;const ze=oe[ie],ct=te[ie];if(kn(ze)&&kn(ct)){if(!En(ze,ct))return!1}else if(ze!==ct)return!1}for(const ie of ne)if(!K.includes(ie))return!1;return!0}function kn(oe){return null!==oe&&"object"==typeof oe}function ts(oe){const te=[];for(const[K,ne]of Object.entries(oe))Array.isArray(ne)?ne.forEach(ie=>{te.push(encodeURIComponent(K)+"="+encodeURIComponent(ie))}):te.push(encodeURIComponent(K)+"="+encodeURIComponent(ne));return te.length?"&"+te.join("&"):""}function hi(oe){const te={};return oe.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[ie,ze]=ne.split("=");te[decodeURIComponent(ie)]=decodeURIComponent(ze)}}),te}function Oi(oe){const te=oe.indexOf("?");if(!te)return"";const K=oe.indexOf("#",te);return oe.substring(te,K>0?K:void 0)}function vi(oe,te){const K=new yt(oe,te);return K.subscribe.bind(K)}class yt{constructor(te,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{te(this)}).catch(ne=>{this.error(ne)})}next(te){this.forEachObserver(K=>{K.next(te)})}error(te){this.forEachObserver(K=>{K.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,K,ne){let ie;if(void 0===te&&void 0===K&&void 0===ne)throw new Error("Missing Observer.");ie=function Hr(oe,te){if("object"!=typeof oe||null===oe)return!1;for(const K of te)if(K in oe&&"function"==typeof oe[K])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:K,complete:ne},void 0===ie.next&&(ie.next=Cn),void 0===ie.error&&(ie.error=Cn),void 0===ie.complete&&(ie.complete=Cn);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),ze}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,te)}sendOne(te,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{K(this.observers[te])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function Is(oe,te=1e3,K=2){const ne=te*Math.pow(K,oe),ie=Math.round(.5*ne*(Math.random()-.5)*2);return Math.min(144e5,ne+ie)}function In(oe){return oe&&oe._delegate?oe._delegate:oe}},7021:(At,Ge,j)=>{"use strict";var u=j(4650);let k=null;function W(){return k}const Ie=new u.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return(0,u.LFG)(X)}()},providedIn:"platform"}),n})();const J=new u.OlP("Location Initialized");let X=(()=>{class n extends Ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(t){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ce()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ce()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function tt(){return new X((0,u.LFG)(Ie))}()},providedIn:"platform"}),n})();function ce(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ht(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(at)},providedIn:"root"}),n})();const Me=new u.OlP("appBaseHref");let at=(()=>{class n extends Oe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ht(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const c=this.prepareExternalUrl(r+ht(a));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){const c=this.prepareExternalUrl(r+ht(a));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ne),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),St=(()=>{class n extends Oe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ue(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let c=this.prepareExternalUrl(r+ht(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){let c=this.prepareExternalUrl(r+ht(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ne),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Le(st(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ht(i))}normalize(t){return n.stripTrailingSlash(function Fe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,st(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ht,n.joinWithSlash=Ue,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(u.LFG(Oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ke(){return new He((0,u.LFG)(Oe))}()},providedIn:"root"}),n})();function st(n){return n.replace(/\/index.html$/,"")}class Ca{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wr=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ca(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const g=i.get(a);i.move(g,c),Ki(g,r)}});for(let r=0,a=i.length;r<a;r++){const g=i.get(r).context;g.index=r,g.count=a,g.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ki(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ki(n,e){n.context.$implicit=e.item}let Gn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Za,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ui("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ui("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Za{constructor(){this.$implicit=null,this.ngIf=null}}function Ui(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Qi{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ho=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ps=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Qi(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ho,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),fo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,a,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),n})();class ee{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class we{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Ye=new we,Et=new ee;let an=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,u.QGY)(t))return Ye;if((0,u.F4k)(t))return Et;throw function $(n,e){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),mr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const ia="browser";function fu(n){return n===ia}function Hn(n){return"server"===n}let Nl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new qs((0,u.LFG)(Ie),window)}),n})();class qs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function rs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=As(this.window.history)||As(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function As(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class il extends class Kd extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){k||(k=n)}(new il)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ms(){return Zs=Zs||document.querySelector("base"),Zs?Zs.getAttribute("href"):null}();return null==t?null:function Ns(n){_r=_r||document.createElement("a"),_r.setAttribute("href",n);const e=_r.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function is(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let _r,Zs=null;const Ti=new u.OlP("TRANSITION_ID"),ld=[{provide:u.ip1,useFactory:function ad(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=W(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Ti,Ie,u.zs3],multi:!0}];let Fl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const de=new u.OlP("EventManagerPlugins");let Ve=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const c=r[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Se{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=W().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ct=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Yt=(()=>{class n extends Ct{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(jn),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(jn))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function jn(n){W().remove(n)}const Ei={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ii=/%COMP%/g;function sl(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?sl(n,r,t):(r=r.replace(ii,n),t.push(r))}return t}function Eu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ll=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ol(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Jd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new xu(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=sl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ve),u.LFG(Yt),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ol{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ei[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Su(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Su(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Ei[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ei[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Eu(i)):this.eventManager.addEventListener(e,t,Eu(i))}}function Su(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Jd extends ol{constructor(e,t,i,r){super(e),this.component=i;const a=sl(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Xi(n){return"_ngcontent-%COMP%".replace(ii,n)}(r+"-"+i.id),this.hostAttr=function sa(n){return"_nghost-%COMP%".replace(ii,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class xu extends ol{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=sl(r.id,r.styles,[]);for(let c=0;c<a.length;c++){const g=document.createElement("style");g.textContent=a[c],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Si=(()=>{class n extends Se{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Sa=["alt","control","meta","shift"],Bl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Os={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vl=(()=>{class n extends Se{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",g=i.indexOf("code");if(g>-1&&(i.splice(g,1),c="code."),Sa.forEach(C=>{const A=i.indexOf(C);A>-1&&(i.splice(A,1),c+=C+".")}),c+=a,0!=i.length||0===a.length)return null;const y={};return y.domEventName=r,y.fullKey=c,y}static matchEventFullKeyCode(t,i){let r=Bl[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Sa.forEach(c=>{c!==r&&(0,Os[c])(t)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ul=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:ia},{provide:u.g9A,useValue:function al(){il.makeCurrent()},multi:!0},{provide:Ie,useFactory:function Au(){return(0,u.RDi)(document),document},deps:[]}]),vo=new u.OlP(""),_c=[{provide:u.rWj,useClass:class Qd{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const g=function(y){c=c||y,a--,0==a&&i(c)};r.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?W().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Aa=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function ll(){return new u.qLn},deps:[]},{provide:de,useClass:Si,multi:!0,deps:[Ie,u.R0b,u.Lbi]},{provide:de,useClass:Vl,multi:!0,deps:[Ie]},{provide:Ll,useClass:Ll,deps:[Ve,Yt,u.AFp]},{provide:u.FYo,useExisting:Ll},{provide:Ct,useExisting:Yt},{provide:Yt,useClass:Yt,deps:[Ie]},{provide:Ve,useClass:Ve,deps:[de,u.R0b]},{provide:class Ja{},useClass:Fl,deps:[]},[]];let vc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Ti,useExisting:u.AFp},ld]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vo,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Aa,..._c],imports:[mr,u.hGG]}),n})(),oa=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function er(){return new oa((0,u.LFG)(Ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;const Ru={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Hl=new u.OlP("HammerGestureConfig"),Ys=new u.OlP("HammerLoader");let wn=(()=>{class n{constructor(){this.events=[],this.overrides={}}buildHammer(t){const i=new Hammer(t,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(const r in this.overrides)i.get(r).set(this.overrides[r]);return i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Xd=(()=>{class n extends Se{constructor(t,i,r,a){super(t),this._config=i,this.console=r,this.loader=a,this._loaderPromise=null}supports(t){return!(!Ru.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader)}addEventListener(t,i,r){const a=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||a.runOutsideAngular(()=>this.loader());let c=!1,g=()=>{c=!0};return a.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?c||(g=this.addEventListener(t,i,r)):g=()=>{}}).catch(()=>{g=()=>{}})),()=>{g()}}return a.runOutsideAngular(()=>{const c=this._config.buildHammer(t),g=function(y){a.runGuarded(function(){r(y)})};return c.on(i,g),()=>{c.off(i,g),"function"==typeof c.destroy&&c.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie),u.LFG(Hl),u.LFG(u.c2e),u.LFG(Ys,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Vg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:de,useClass:Xd,multi:!0,deps:[Ie,Hl,u.c2e,[new u.FiY,Ys]]},{provide:Hl,useClass:wn,deps:[]}]}),n})(),Pu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(dp),i},providedIn:"root"}),n})(),dp=(()=>{class n extends Pu{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function jl(n){return new dp(n.get(Ie))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var dd=j(5386),zn=j(7579),sf=j(6063);class Ms extends zn.x{constructor(e=1/0,t=1/0,i=sf.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=t.now();let g=0;for(let y=1;y<i.length&&i[y]<=c;y+=2)g=y;g&&i.splice(0,g+1)}}}var qr=j(6451),or=j(8421),ar=j(4482),ri=j(5403);function qn(n,e){return(0,ar.e)((t,i)=>{let r=null,a=0,c=!1;const g=()=>c&&!r&&i.complete();t.subscribe((0,ri.x)(i,y=>{r?.unsubscribe();let C=0;const A=a++;(0,or.Xf)(n(y,A)).subscribe(r=(0,ri.x)(i,R=>i.next(e?e(y,R,A,C++):R),()=>{r=null,g()}))},()=>{c=!0,g()}))})}var It=j(4004);const hd={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return hd.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return hd.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let tr;function md(n,e,t){let i=t;return function bc(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,a)=>!("*"===r||!function ku(n,e){if(!tr){const t=Element.prototype;tr=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&tr.call(n,e)}(n,r)||(i=a,0))),i}class hp{constructor(e,t){this.componentFactory=t.get(u._Vd).resolveComponentFactory(e)}create(e){return new _d(this.componentFactory,e)}}class _d{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new Ms(1),this.events=this.eventEmitters.pipe(qn(i=>(0,qr.T)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(u.R0b),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=hd.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function Oa(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=u.zs3.create({providers:[],parent:this.injector}),i=function gd(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((a,c)=>"*"===a&&(r=c,!0));for(let a=0,c=t.length;a<c;++a){const g=t[a],y=md(g,e,r);-1!==y&&i[y].push(g)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(u.sBO),this.implementsOnChanges=function fl(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(u.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe((0,It.U)(c=>({name:r,value:c}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=hd.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),a=r?void 0:this.getInputValue(e);this.inputChanges[e]=new u.WD2(a,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class af extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}var Ai=j(9751),Pi=j(515),Rs=j(3269),Wn=j(8996);function bt(...n){const e=(0,Rs.yG)(n);return(0,Wn.D)(n,e)}var lr=j(5577),Pr=j(1144),Ps=j(576);const{isArray:Ks}=Array;function wc(n){return(0,It.U)(e=>function vr(n,e){return Ks(e)?n(...e):n(e)}(n,e))}const nr=["addListener","removeListener"],eh=["addEventListener","removeEventListener"],S=["on","off"];function N(n,e,t,i){if((0,Ps.m)(t)&&(i=t,t=void 0),i)return N(n,e,t).pipe(wc(i));const[r,a]=function Ee(n){return(0,Ps.m)(n.addEventListener)&&(0,Ps.m)(n.removeEventListener)}(n)?eh.map(c=>g=>n[c](e,g,t)):function q(n){return(0,Ps.m)(n.addListener)&&(0,Ps.m)(n.removeListener)}(n)?nr.map(F(n,e)):function he(n){return(0,Ps.m)(n.on)&&(0,Ps.m)(n.off)}(n)?S.map(F(n,e)):[];if(!r&&(0,Pr.z)(n))return(0,lr.z)(c=>N(c,e,t))((0,or.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ai.y(c=>{const g=(...y)=>c.next(1<y.length?y:y[0]);return r(g),()=>a(g)})}function F(n,e){return t=>i=>n[t](e,i)}var We=j(4986),nt=j(3532);function Ht(n=0,e,t=We.P){let i=-1;return null!=e&&((0,nt.K)(e)?t=e:i=e),new Ai.y(r=>{let a=function Vt(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},a)})}const{isArray:qt}=Array;function Ut(n){return 1===n.length&&qt(n[0])?n[0]:n}function gi(...n){return 1===(n=Ut(n)).length?(0,or.Xf)(n[0]):new Ai.y(function ji(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,or.Xf)(n[i]).subscribe((0,ri.x)(e,r=>{if(t){for(let a=0;a<t.length;a++)a!==i&&t[a].unsubscribe();t=null}e.next(r)})))}}(n))}class Zn extends zn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:ur}=Array,{getPrototypeOf:ca,prototype:Wl,keys:Ma}=Object;var Qs=j(4671);var lf=j(9672);function th(...n){const e=(0,Rs.yG)(n),t=(0,Rs.jO)(n),{args:i,keys:r}=function Ra(n){if(1===n.length){const e=n[0];if(ur(e))return{args:e,keys:null};if(function Pa(n){return n&&"object"==typeof n&&ca(n)===Wl}(e)){const t=Ma(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return(0,Wn.D)([],e);const a=new Ai.y(function Ug(n,e,t=Qs.y){return i=>{Uu(e,()=>{const{length:r}=n,a=new Array(r);let c=r,g=r;for(let y=0;y<r;y++)Uu(e,()=>{const C=(0,Wn.D)(n[y],e);let A=!1;C.subscribe((0,ri.x)(i,R=>{a[y]=R,A||(A=!0,g--),g||i.next(t(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>function pl(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,c):Qs.y));return t?a.pipe(wc(t)):a}function Uu(n,e,t){n?(0,lf.f)(t,n,e):e()}var $u=j(5032);const Dc=new Ai.y($u.Z);function Cc(...n){const e=(0,Rs.jO)(n),t=Ut(n);return t.length?new Ai.y(i=>{let r=t.map(()=>[]),a=t.map(()=>!1);i.add(()=>{r=a=null});for(let c=0;!i.closed&&c<t.length;c++)(0,or.Xf)(t[c]).subscribe((0,ri.x)(i,g=>{if(r[c].push(g),r.every(y=>y.length)){const y=r.map(C=>C.shift());i.next(e?e(...y):y),r.some((C,A)=>!C.length&&a[A])&&i.complete()}},()=>{a[c]=!0,!r[c].length&&i.complete()}));return()=>{r=a=null}}):Pi.E}var nh=j(8189);function ih(...n){return function pp(){return(0,nh.J)(1)}()((0,Wn.D)(n,(0,Rs.yG)(n)))}function cr(n){return(0,ar.e)((e,t)=>{(0,or.Xf)(n).subscribe((0,ri.x)(t,()=>t.complete(),$u.Z)),!t.closed&&e.subscribe(t)})}function ir(n,e){return(0,ar.e)((t,i)=>{let r=0;t.subscribe((0,ri.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}function ki(n){return n<=0?()=>Pi.E:(0,ar.e)((e,t)=>{let i=0;e.subscribe((0,ri.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function da(...n){const e=(0,Rs.yG)(n);return(0,ar.e)((t,i)=>{(e?ih(n,t,e):ih(n,t)).subscribe(i)})}function ha(n,e=Qs.y){return n=n??gp,(0,ar.e)((t,i)=>{let r,a=!0;t.subscribe((0,ri.x)(i,c=>{const g=e(c);(a||!n(r,g))&&(a=!1,r=g,i.next(c))}))})}function gp(n,e){return n===e}var dr=j(8505);function mp(...n){const e=(0,Rs.jO)(n);return(0,ar.e)((t,i)=>{const r=n.length,a=new Array(r);let c=n.map(()=>!1),g=!1;for(let y=0;y<r;y++)(0,or.Xf)(n[y]).subscribe((0,ri.x)(i,C=>{a[y]=C,!g&&!c[y]&&(c[y]=!0,(g=c.every(Qs.y))&&(c=null))},$u.Z));t.subscribe((0,ri.x)(i,y=>{if(g){const C=[y,...a];i.next(e?e(...C):C)}}))})}function ka(n){return(0,It.U)(()=>n)}function uf(n,e){return e?t=>ih(e.pipe(ki(1),function Ic(){return(0,ar.e)((n,e)=>{n.subscribe((0,ri.x)(e,$u.Z))})}()),t.pipe(uf(n))):(0,lr.z)((t,i)=>n(t,i).pipe(ki(1),ka(t)))}function sh(n,e=We.z){const t=Ht(n,e);return uf(()=>t)}var Bo=j(3099);let q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),rm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[q_]}),n})(),X_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[rm]}),n})();var om={left:"right",right:"left",bottom:"top",top:"bottom"};function Df(n){return n.replace(/left|right|bottom|top/g,function(e){return om[e]})}function Va(n){return n.split("-")[0]}var W0={start:"end",end:"start"};function ev(n){return n.replace(/start|end/g,function(e){return W0[e]})}var jo="top",Ua="bottom",Ls="right",Wo="left",Rp="auto",Cf=[jo,Ua,Ls,Wo],If="start",Uc="end",am="viewport",Ih="popper",Tf=Cf.reduce(function(n,e){return n.concat([e+"-"+If,e+"-"+Uc])},[]),um=[].concat(Cf,[Rp]).reduce(function(n,e){return n.concat([e,e+"-"+If,e+"-"+Uc])},[]),Z0=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $a(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function $c(n){return n instanceof $a(n).Element||n instanceof Element}function zo(n){return n instanceof $a(n).HTMLElement||n instanceof HTMLElement}function Fp(n){return!(typeof ShadowRoot>"u")&&(n instanceof $a(n).ShadowRoot||n instanceof ShadowRoot)}function Rd(n){return(($c(n)?n.ownerDocument:n.document)||window.document).documentElement}var gl=Math.max,Lp=Math.min,Gc=Math.round;function Bp(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Vp(){return!/^((?!chrome|android).)*safari/i.test(Bp())}function Bs(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=n.getBoundingClientRect(),r=1,a=1;e&&zo(n)&&(r=n.offsetWidth>0&&Gc(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Gc(i.height)/n.offsetHeight||1);var g=($c(n)?$a(n):window).visualViewport,y=!Vp()&&t,C=(i.left+(y&&g?g.offsetLeft:0))/r,A=(i.top+(y&&g?g.offsetTop:0))/a,R=i.width/r,H=i.height/a;return{width:R,height:H,top:A,right:C+R,bottom:A+H,left:C,x:C,y:A}}function Up(n){var e=$a(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Sf(n){return Bs(Rd(n)).left+Up(n).scrollLeft}function Qu(n){return $a(n).getComputedStyle(n)}function nu(n){return n?(n.nodeName||"").toLowerCase():null}function Hc(n){return"html"===nu(n)?n:n.assignedSlot||n.parentNode||(Fp(n)?n.host:null)||Rd(n)}function Eh(n){var e=Qu(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function sv(n){return["html","body","#document"].indexOf(nu(n))>=0?n.ownerDocument.body:zo(n)&&Eh(n)?n:sv(Hc(n))}function xf(n,e){var t;void 0===e&&(e=[]);var i=sv(n),r=i===(null==(t=n.ownerDocument)?void 0:t.body),a=$a(i),c=r?[a].concat(a.visualViewport||[],Eh(i)?i:[]):i,g=e.concat(c);return r?g:g.concat(xf(Hc(c)))}function ln(n){return["table","td","th"].indexOf(nu(n))>=0}function $p(n){return zo(n)&&"fixed"!==Qu(n).position?n.offsetParent:null}function Sh(n){for(var e=$a(n),t=$p(n);t&&ln(t)&&"static"===Qu(t).position;)t=$p(t);return t&&("html"===nu(t)||"body"===nu(t)&&"static"===Qu(t).position)?e:t||function ov(n){var e=/firefox/i.test(Bp());if(/Trident/i.test(Bp())&&zo(n)&&"fixed"===Qu(n).position)return null;var r=Hc(n);for(Fp(r)&&(r=r.host);zo(r)&&["html","body"].indexOf(nu(r))<0;){var a=Qu(r);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||e&&"filter"===a.willChange||e&&a.filter&&"none"!==a.filter)return r;r=r.parentNode}return null}(n)||e}function av(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Fp(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function dm(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function uv(n,e,t){return e===am?dm(function rv(n,e){var t=$a(n),i=Rd(n),r=t.visualViewport,a=i.clientWidth,c=i.clientHeight,g=0,y=0;if(r){a=r.width,c=r.height;var C=Vp();(C||!C&&"fixed"===e)&&(g=r.offsetLeft,y=r.offsetTop)}return{width:a,height:c,x:g+Sf(n),y}}(n,t)):$c(e)?function lv(n,e){var t=Bs(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):dm(function Y0(n){var e,t=Rd(n),i=Up(n),r=null==(e=n.ownerDocument)?void 0:e.body,a=gl(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),c=gl(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),g=-i.scrollLeft+Sf(n),y=-i.scrollTop;return"rtl"===Qu(r||t).direction&&(g+=gl(t.clientWidth,r?r.clientWidth:0)-a),{width:a,height:c,x:g,y}}(Rd(n)))}function xh(n){return n.split("-")[1]}function dv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function hm(n){var y,e=n.reference,t=n.element,i=n.placement,r=i?Va(i):null,a=i?xh(i):null,c=e.x+e.width/2-t.width/2,g=e.y+e.height/2-t.height/2;switch(r){case jo:y={x:c,y:e.y-t.height};break;case Ua:y={x:c,y:e.y+e.height};break;case Ls:y={x:e.x+e.width,y:g};break;case Wo:y={x:e.x-t.width,y:g};break;default:y={x:e.x,y:e.y}}var C=r?dv(r):null;if(null!=C){var A="y"===C?"height":"width";switch(a){case If:y[C]=y[C]-(e[A]/2-t[A]/2);break;case Uc:y[C]=y[C]+(e[A]/2-t[A]/2)}}return y}function ys(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function hv(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}function Af(n,e){void 0===e&&(e={});var i=e.placement,r=void 0===i?n.placement:i,a=e.strategy,c=void 0===a?n.strategy:a,g=e.boundary,y=void 0===g?"clippingParents":g,C=e.rootBoundary,A=void 0===C?am:C,R=e.elementContext,H=void 0===R?Ih:R,Z=e.altBoundary,ue=void 0!==Z&&Z,_e=e.padding,De=void 0===_e?0:_e,ot=ys("number"!=typeof De?De:hv(De,Cf)),vt=n.rects.popper,rt=n.elements[ue?H===Ih?"reference":Ih:H],gt=function K0(n,e,t,i){var r="clippingParents"===e?function cv(n){var e=xf(Hc(n)),i=["absolute","fixed"].indexOf(Qu(n).position)>=0&&zo(n)?Sh(n):n;return $c(i)?e.filter(function(r){return $c(r)&&av(r,i)&&"body"!==nu(r)}):[]}(n):[].concat(e),a=[].concat(r,[t]),g=a.reduce(function(y,C){var A=uv(n,C,i);return y.top=gl(A.top,y.top),y.right=Lp(A.right,y.right),y.bottom=Lp(A.bottom,y.bottom),y.left=gl(A.left,y.left),y},uv(n,a[0],i));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}($c(rt)?rt:rt.contextElement||Rd(n.elements.popper),y,A,c),Dt=Bs(n.elements.reference),rn=hm({reference:Dt,element:vt,strategy:"absolute",placement:r}),Pn=dm(Object.assign({},vt,rn)),$r=H===Ih?Pn:Dt,Gs={top:gt.top-$r.top+ot.top,bottom:$r.bottom-gt.bottom+ot.bottom,left:gt.left-$r.left+ot.left,right:$r.right-gt.right+ot.right},ls=n.modifiersData.offset;if(H===Ih&&ls){var uc=ls[r];Object.keys(Gs).forEach(function(Da){var B_=[Ls,Ua].indexOf(Da)>=0?1:-1,V_=[jo,Ua].indexOf(Da)>=0?"y":"x";Gs[Da]+=uc[V_]*B_})}return Gs}const pa={name:"flip",enabled:!0,phase:"main",fn:function xD(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,a=void 0===r||r,c=t.altAxis,g=void 0===c||c,y=t.fallbackPlacements,C=t.padding,A=t.boundary,R=t.rootBoundary,H=t.altBoundary,Z=t.flipVariations,ue=void 0===Z||Z,_e=t.allowedAutoPlacements,De=e.options.placement,ot=Va(De),vt=y||(ot!==De&&ue?function gn(n){if(Va(n)===Rp)return[];var e=Df(n);return[ev(n),e,ev(e)]}(De):[Df(De)]),rt=[De].concat(vt).reduce(function(E0,Bg){return E0.concat(Va(Bg)===Rp?function Ju(n,e){void 0===e&&(e={});var r=e.boundary,a=e.rootBoundary,c=e.padding,g=e.flipVariations,y=e.allowedAutoPlacements,C=void 0===y?um:y,A=xh(e.placement),R=A?g?Tf:Tf.filter(function(ue){return xh(ue)===A}):Cf,H=R.filter(function(ue){return C.indexOf(ue)>=0});0===H.length&&(H=R);var Z=H.reduce(function(ue,_e){return ue[_e]=Af(n,{placement:_e,boundary:r,rootBoundary:a,padding:c})[Va(_e)],ue},{});return Object.keys(Z).sort(function(ue,_e){return Z[ue]-Z[_e]})}(e,{placement:Bg,boundary:A,rootBoundary:R,padding:C,flipVariations:ue,allowedAutoPlacements:_e}):Bg)},[]),gt=e.rects.reference,Dt=e.rects.popper,rn=new Map,Pn=!0,$r=rt[0],Gs=0;Gs<rt.length;Gs++){var ls=rt[Gs],uc=Va(ls),Da=xh(ls)===If,B_=[jo,Ua].indexOf(uc)>=0,V_=B_?"width":"height",cc=Af(e,{placement:ls,boundary:A,rootBoundary:R,altBoundary:H,padding:C}),Wd=B_?Da?Ls:Wo:Da?Ua:jo;gt[V_]>Dt[V_]&&(Wd=Df(Wd));var SE=Df(Wd),U_=[];if(a&&U_.push(cc[uc]<=0),g&&U_.push(cc[Wd]<=0,cc[SE]<=0),U_.every(function(E0){return E0})){$r=ls,Pn=!1;break}rn.set(ls,U_)}if(Pn)for(var VM=function(Bg){var _D=rt.find(function(NE){var $_=rn.get(NE);if($_)return $_.slice(0,Bg).every(function(UM){return UM})});if(_D)return $r=_D,"break"},mD=ue?3:1;mD>0&&"break"!==VM(mD);mD--);e.placement!==$r&&(e.modifiersData[i]._skip=!0,e.placement=$r,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Nf(n,e,t){return gl(n,Lp(e,t))}function fv(n){var e=Bs(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}const Ah={name:"preventOverflow",enabled:!0,phase:"main",fn:function Q0(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,a=void 0===r||r,c=t.altAxis,g=void 0!==c&&c,H=t.tether,Z=void 0===H||H,ue=t.tetherOffset,_e=void 0===ue?0:ue,De=Af(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),ot=Va(e.placement),ut=xh(e.placement),vt=!ut,rt=dv(ot),gt=function Zr(n){return"x"===n?"y":"x"}(rt),Dt=e.modifiersData.popperOffsets,rn=e.rects.reference,Pn=e.rects.popper,$r="function"==typeof _e?_e(Object.assign({},e.rects,{placement:e.placement})):_e,Gs="number"==typeof $r?{mainAxis:$r,altAxis:$r}:Object.assign({mainAxis:0,altAxis:0},$r),ls=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,uc={x:0,y:0};if(Dt){if(a){var Da,B_="y"===rt?jo:Wo,V_="y"===rt?Ua:Ls,cc="y"===rt?"height":"width",Wd=Dt[rt],SE=Wd+De[B_],U_=Wd-De[V_],xE=Z?-Pn[cc]/2:0,VM=ut===If?rn[cc]:Pn[cc],mD=ut===If?-Pn[cc]:-rn[cc],AE=e.elements.arrow,E0=Z&&AE?fv(AE):{width:0,height:0},Bg=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},_D=Bg[B_],NE=Bg[V_],$_=Nf(0,rn[cc],E0[cc]),UM=vt?rn[cc]/2-xE-$_-_D-Gs.mainAxis:VM-$_-_D-Gs.mainAxis,j6=vt?-rn[cc]/2+xE+$_+NE+Gs.mainAxis:mD+$_+NE+Gs.mainAxis,$M=e.elements.arrow&&Sh(e.elements.arrow),cV=null!=(Da=ls?.[rt])?Da:0,q6=Wd+j6-cV,dV=Nf(Z?Lp(SE,Wd+UM-cV-($M?"y"===rt?$M.clientTop||0:$M.clientLeft||0:0)):SE,Wd,Z?gl(U_,q6):U_);Dt[rt]=dV,uc[rt]=dV-Wd}if(g){var hV,G_=Dt[gt],OE="y"===gt?"height":"width",fV=G_+De["x"===rt?jo:Wo],pV=G_-De["x"===rt?Ua:Ls],GM=-1!==[jo,Wo].indexOf(ot),gV=null!=(hV=ls?.[gt])?hV:0,mV=GM?fV:G_-rn[OE]-Pn[OE]-gV+Gs.altAxis,_V=GM?G_+rn[OE]+Pn[OE]-gV-Gs.altAxis:pV,vV=Z&&GM?function Xu(n,e,t){var i=Nf(n,e,t);return i>t?t:i}(mV,G_,_V):Nf(Z?mV:fV,G_,Z?_V:pV);Dt[gt]=vV,uc[gt]=vV-G_}e.modifiersData[i]=uc}},requiresIfExists:["offset"]},X0={name:"arrow",enabled:!0,phase:"main",fn:function pv(n){var e,t=n.state,i=n.name,r=n.options,a=t.elements.arrow,c=t.modifiersData.popperOffsets,g=Va(t.placement),y=dv(g),A=[Wo,Ls].indexOf(g)>=0?"height":"width";if(a&&c){var R=function(e,t){return ys("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:hv(e,Cf))}(r.padding,t),H=fv(a),Z="y"===y?jo:Wo,ue="y"===y?Ua:Ls,_e=t.rects.reference[A]+t.rects.reference[y]-c[y]-t.rects.popper[A],De=c[y]-t.rects.reference[y],ot=Sh(a),ut=ot?"y"===y?ot.clientHeight||0:ot.clientWidth||0:0,Dt=ut/2-H[A]/2+(_e/2-De/2),rn=Nf(R[Z],Dt,ut-H[A]-R[ue]);t.modifiersData[i]=((e={})[y]=rn,e.centerOffset=rn-Dt,e)}},effect:function Nh(n){var e=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=e.elements.popper.querySelector(r))||!av(e.elements.popper,r)||(e.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yr(n,e,t){void 0===t&&(t=!1);var i=zo(e),r=zo(e)&&function Gp(n){var e=n.getBoundingClientRect(),t=Gc(e.width)/n.offsetWidth||1,i=Gc(e.height)/n.offsetHeight||1;return 1!==t||1!==i}(e),a=Rd(e),c=Bs(n,r,t),g={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(i||!i&&!t)&&(("body"!==nu(e)||Eh(a))&&(g=function gv(n){return n!==$a(n)&&zo(n)?function iu(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Up(n)}(e)),zo(e)?((y=Bs(e,!0)).x+=e.clientLeft,y.y+=e.clientTop):a&&(y.x=Sf(a))),{x:c.left+g.scrollLeft-y.x,y:c.top+g.scrollTop-y.y,width:c.width,height:c.height}}function Tr(n){var e=new Map,t=new Set,i=[];function r(a){t.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(g){if(!t.has(g)){var y=e.get(g);y&&r(y)}}),i.push(a)}return n.forEach(function(a){e.set(a.name,a)}),n.forEach(function(a){t.has(a.name)||r(a)}),i}function _v(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var Hp={placement:"bottom",modifiers:[],strategy:"absolute"};function ib(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function jp(n){void 0===n&&(n={});var t=n.defaultModifiers,i=void 0===t?[]:t,r=n.defaultOptions,a=void 0===r?Hp:r;return function(g,y,C){void 0===C&&(C=a);var A={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hp,a),modifiersData:{},elements:{reference:g,popper:y},attributes:{},styles:{}},R=[],H=!1,Z={state:A,setOptions:function(ot){var ut="function"==typeof ot?ot(A.options):ot;_e(),A.options=Object.assign({},a,A.options,ut),A.scrollParents={reference:$c(g)?xf(g):g.contextElement?xf(g.contextElement):[],popper:xf(y)};var vt=function mv(n){var e=Tr(n);return Z0.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}(function eb(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,A.options.modifiers)));return A.orderedModifiers=vt.filter(function(ls){return ls.enabled}),function ue(){A.orderedModifiers.forEach(function(De){var ut=De.options,rt=De.effect;if("function"==typeof rt){var gt=rt({state:A,name:De.name,instance:Z,options:void 0===ut?{}:ut});R.push(gt||function(){})}})}(),Z.update()},forceUpdate:function(){if(!H){var ot=A.elements,ut=ot.reference,vt=ot.popper;if(ib(ut,vt)){A.rects={reference:yr(ut,Sh(vt),"fixed"===A.options.strategy),popper:fv(vt)},A.reset=!1,A.placement=A.options.placement,A.orderedModifiers.forEach(function(ls){return A.modifiersData[ls.name]=Object.assign({},ls.data)});for(var gt=0;gt<A.orderedModifiers.length;gt++)if(!0!==A.reset){var Dt=A.orderedModifiers[gt],rn=Dt.fn,Pn=Dt.options;"function"==typeof rn&&(A=rn({state:A,options:void 0===Pn?{}:Pn,name:Dt.name,instance:Z})||A)}else A.reset=!1,gt=-1}}},update:_v(function(){return new Promise(function(De){Z.forceUpdate(),De(A)})}),destroy:function(){_e(),H=!0}};if(!ib(g,y))return Z;function _e(){R.forEach(function(De){return De()}),R=[]}return Z.setOptions(C).then(function(De){!H&&C.onFirstUpdate&&C.onFirstUpdate(De)}),Z}}var Of={passive:!0};const pm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Oh(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,a=void 0===r||r,c=i.resize,g=void 0===c||c,y=$a(e.elements.popper),C=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&C.forEach(function(A){A.addEventListener("scroll",t.update,Of)}),g&&y.addEventListener("resize",t.update,Of),function(){a&&C.forEach(function(A){A.removeEventListener("scroll",t.update,Of)}),g&&y.removeEventListener("resize",t.update,Of)}},data:{}},no={name:"popperOffsets",enabled:!0,phase:"read",fn:function Mf(n){var e=n.state;e.modifiersData[n.name]=hm({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var io={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yv(n){var e,t=n.popper,i=n.popperRect,r=n.placement,a=n.variation,c=n.offsets,g=n.position,y=n.gpuAcceleration,C=n.adaptive,A=n.roundOffsets,R=n.isFixed,H=c.x,Z=void 0===H?0:H,ue=c.y,_e=void 0===ue?0:ue,De="function"==typeof A?A({x:Z,y:_e}):{x:Z,y:_e};Z=De.x,_e=De.y;var ot=c.hasOwnProperty("x"),ut=c.hasOwnProperty("y"),vt=Wo,rt=jo,gt=window;if(C){var Dt=Sh(t),rn="clientHeight",Pn="clientWidth";Dt===$a(t)&&"static"!==Qu(Dt=Rd(t)).position&&"absolute"===g&&(rn="scrollHeight",Pn="scrollWidth"),(r===jo||(r===Wo||r===Ls)&&a===Uc)&&(rt=Ua,_e-=(R&&Dt===gt&&gt.visualViewport?gt.visualViewport.height:Dt[rn])-i.height,_e*=y?1:-1),r!==Wo&&(r!==jo&&r!==Ua||a!==Uc)||(vt=Ls,Z-=(R&&Dt===gt&&gt.visualViewport?gt.visualViewport.width:Dt[Pn])-i.width,Z*=y?1:-1)}var Da,ls=Object.assign({position:g},C&&io),uc=!0===A?function vv(n){var t=n.y,r=window.devicePixelRatio||1;return{x:Gc(n.x*r)/r||0,y:Gc(t*r)/r||0}}({x:Z,y:_e}):{x:Z,y:_e};return Z=uc.x,_e=uc.y,Object.assign({},ls,y?((Da={})[rt]=ut?"0":"",Da[vt]=ot?"0":"",Da.transform=(gt.devicePixelRatio||1)<=1?"translate("+Z+"px, "+_e+"px)":"translate3d("+Z+"px, "+_e+"px, 0)",Da):((e={})[rt]=ut?_e+"px":"",e[vt]=ot?Z+"px":"",e.transform="",e))}const ec={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function gm(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=void 0===i||i,a=t.adaptive,c=void 0===a||a,g=t.roundOffsets,y=void 0===g||g,A={placement:Va(e.placement),variation:xh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,yv(Object.assign({},A,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:y})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,yv(Object.assign({},A,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Dn=[pm,no,ec,{name:"applyStyles",enabled:!0,phase:"write",fn:function mm(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},a=e.elements[t];!zo(a)||!nu(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(c){var g=r[c];!1===g?a.removeAttribute(c):a.setAttribute(c,!0===g?"":g)}))})},effect:function _m(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],a=e.attributes[i]||{},g=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(y,C){return y[C]="",y},{});!zo(r)||!nu(r)||(Object.assign(r.style,g),Object.keys(a).forEach(function(y){r.removeAttribute(y)}))})}},requires:["computeStyles"]}],vm=jp({defaultModifiers:Dn});function si(n,e){}function ym(n,e){if(1&n&&(u.TgZ(0,"button",3),u._uU(1),u.YNc(2,si,0,0,"ng-template",4),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngbPanelToggle",t),u.xp6(1),u.hij(" ",t.title,""),u.xp6(1),u.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function qp(n,e){}function bm(n,e){}function rb(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",8),u.NdJ("ngbRef",function(r){u.CHM(t);const a=u.oxw().$implicit;return u.KtG(a.panelDiv=r)}),u.TgZ(1,"div",9),u.YNc(2,bm,0,0,"ng-template",4),u.qZA()()}if(2&n){const t=u.oxw().$implicit;u.s9C("id",t.id),u.uIk("aria-labelledby",t.id+"-header"),u.xp6(2),u.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}const sb=function(n,e){return{$implicit:n,opened:e}};function ob(n,e){if(1&n&&(u.TgZ(0,"div")(1,"div",5),u.YNc(2,qp,0,0,"ng-template",6),u.qZA(),u.YNc(3,rb,3,3,"div",7),u.qZA()),2&n){const t=e.$implicit,i=u.oxw(),r=u.MAs(1);u.Tol("accordion-item "+(t.cardClass||"")),u.xp6(1),u.Tol("accordion-header "+(t.type?"bg-"+t.type:i.type?"bg-"+i.type:"")),u.MGl("id","",t.id,"-header"),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||r)("ngTemplateOutletContext",u.WLB(8,sb,t,t.isOpen)),u.xp6(1),u.Q6J("ngIf",!i.destroyOnHide||t.isOpen||t.transitionRunning)}}const wm=["*"];function ND(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",6),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return c.focus(),u.KtG(c.select(a.id,c.NgbSlideEventSource.INDICATOR))}),u.qZA()}if(2&n){const t=e.$implicit,i=u.oxw();u.ekj("active",t.id===i.activeId),u.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===i.activeId)}}function ab(n,e){}function OD(n,e){if(1&n&&(u.TgZ(0,"div",7)(1,"span",8),u.SDv(2,9),u.qZA(),u.YNc(3,ab,0,0,"ng-template",10),u.qZA()),2&n){const t=e.$implicit,i=e.index,r=e.count;u.Q6J("id","slide-"+t.id),u.xp6(2),u.pQV(i+1)(r),u.QtT(2),u.xp6(1),u.Q6J("ngTemplateOutlet",t.tplRef)}}function bv(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.arrowLeft())}),u._UZ(1,"span",12),u.TgZ(2,"span",8),u.SDv(3,13),u.qZA()()}}function wv(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",14),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.arrowRight())}),u._UZ(1,"span",15),u.TgZ(2,"span",8),u.SDv(3,16),u.qZA()()}}const _l=["dialog"];function Ff(n){return"string"==typeof n}function Fd(n){return null!=n}function kh(n){return(n||document.body).getBoundingClientRect()}const Qp={animation:!0,transitionTimerDelayMs:5},Mb=()=>{},{transitionTimerDelayMs:Um}=Qp,Lf=new Map,Co=(n,e,t,i)=>{let r=i.context||{};const a=Lf.get(e);if(a)switch(i.runningTransition){case"continue":return Pi.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),Lf.delete(e)}const c=t(e,i.animation,r)||Mb;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),bt(void 0).pipe(function Ob(n){return e=>new Ai.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new zn.x,y=new zn.x,C=g.pipe(function rh(...n){return e=>ih(e,bt(...n))}(!0));Lf.set(e,{transition$:g,complete:()=>{y.next(),y.complete()},context:r});const A=function Hv(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const R=N(e,"transitionend").pipe(cr(C),ir(({target:Z})=>Z===e));gi(Ht(A+Um).pipe(cr(C)),R,y).pipe(cr(C)).subscribe(()=>{Lf.delete(e),n.run(()=>{c(),g.next(),g.complete()})})}),g.asObservable()},b=(n,e,t)=>{let{direction:i,maxHeight:r}=t;const{classList:a}=n;function c(){a.add("collapse"),"show"===i?a.add("show"):a.remove("show")}if(e)return r||(r=function p(n){if(typeof navigator>"u")return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const i=n.getBoundingClientRect().height+"px";return t||e.remove("show"),i}(n),t.maxHeight=r,n.style.height="show"!==i?r:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),kh(n),a.add("collapsing")),n.style.height="show"===i?r:"0px",()=>{c(),a.remove("collapsing"),n.style.height=""};c()};let x=(()=>{class n{constructor(){this.animation=Qp.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G=0,Y=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]]}),n})(),re=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]]}),n})(),fe=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]]}),n})(),je=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+G++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new u.vpe,this.hidden=new u.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,re,4),u.Suo(r,Y,4),u.Suo(r,fe,4)),2&t){let a;u.iGM(a=u.CRH())&&(i.titleTpls=a),u.iGM(a=u.CRH())&&(i.headerTpls=a),u.iGM(a=u.CRH())&&(i.contentTpls=a)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),n})(),qe=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new u.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),n})(),Qe=(()=>{class n{constructor(t,i,r){this._ngZone=i,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const i=this._findPanelById(t);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){Ff(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(ki(1)).subscribe(()=>{this.panels.forEach(t=>{const i=t.panelDiv;i?t.initClassDone||(t.initClassDone=!0,Co(this._ngZone,i,b,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide"}})):t.initClassDone=!1})})}_changeOpenState(t,i){if(null!=t&&!t.disabled&&t.isOpen!==i){let r=!1;this.panelChange.emit({panelId:t.id,nextState:i,preventDefault:()=>{r=!0}}),r||(t.isOpen=i,t.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,i=!0){this.panels.forEach(r=>{r.id!==t&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=i)})}_findPanelById(t){return this.panels.find(i=>i.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Co(this._ngZone,i.panelDiv,b,{animation:t,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide"}}).subscribe(()=>{i.transitionRunning=!1;const{id:a}=i;i.isOpen?(i.shown.emit(),this.shown.emit(a)):(i.hidden.emit(),this.hidden.emit(a))})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(P),u.Y36(u.R0b),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,je,4),2&t){let a;u.iGM(a=u.CRH())&&(i.panels=a)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,i){2&t&&u.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,i){1&t&&(u.YNc(0,ym,3,3,"ng-template",0,1,u.W1O),u.YNc(2,ob,4,11,"ng-template",2)),2&t&&(u.xp6(2),u.Q6J("ngForOf",i.panels))},dependencies:function(){return[wr,Gn,fo,qe,Y,_t]},encapsulation:2}),n})(),_t=(()=>{class n{constructor(t,i){this.accordion=t,this.panel=i}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qe),u.Y36(je,9))},n.\u0275dir=u.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&t&&(u.Ikx("disabled",i.panel.disabled),u.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),u.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),n})(),Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})(),Nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})();var rr=(()=>{return(n=rr||(rr={})).START="start",n.END="end",rr;var n})();const Vr=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Er=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},yi=n=>{Er(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},so=(n,e,{direction:t})=>{const{classList:i}=n;return e?(Vr(n)?Er(i):(i.add("carousel-item-"+(t===rr.START?"next":"prev")),kh(n),i.add("carousel-item-"+t)),()=>{yi(i),i.add("active")}):(Er(i),yi(i),void i.add("active"))},qo=(n,e,{direction:t})=>{const{classList:i}=n;return e?(Vr(n)?Er(i):i.add("carousel-item-"+t),()=>{yi(i),i.remove("active")}):(Er(i),yi(i),void i.remove("active"))};let Wc=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jp=0,Fh=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+Jp++,this.slid=new u.vpe}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),Rb=(()=>{class n{constructor(t,i,r,a,c){this._platformId=i,this._ngZone=r,this._cd=a,this._container=c,this.NgbSlideEventSource=Lh,this._destroy$=new zn.x,this._interval$=new Zn(0),this._mouseHover$=new Zn(!1),this._focused$=new Zn(!1),this._pauseOnHover$=new Zn(!1),this._pauseOnFocus$=new Zn(!1),this._pause$=new Zn(!1),this._wrap$=new Zn(!1),this.slide=new u.vpe,this.slid=new u.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Lh.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Lh.ARROW_RIGHT)}ngAfterContentInit(){fu(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=th([this.slide.pipe((0,It.U)(i=>i.current),da(this.activeId)),this._wrap$,this.slides.changes.pipe(da(null))]).pipe((0,It.U)(([i,r])=>{const a=this.slides.toArray(),c=this._getSlideIdxById(i);return r?a.length>1:c<a.length-1}),ha());th([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,It.U)(([i,r,a,c,g,y,C])=>i||r&&a||c&&g||!C?0:y),ha(),qn(i=>i>0?Ht(i,i):Dc),cr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Lh.TIMER)))}),this.slides.changes.pipe(cr(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Lf.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(ki(1)).subscribe(()=>{for(const{id:t}of this.slides){const i=this._getSlideElement(t);t===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,i){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),i)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),rr.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),rr.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,i,r){const a=this._transitionIds;if(a&&(a[0]!==t||a[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:i,paused:this._pause$.value,source:r});const g={animation:this.animation,runningTransition:"stop",context:{direction:i}},y=[],C=this._getSlideById(this.activeId);if(C){const Z=Co(this._ngZone,this._getSlideElement(C.id),qo,g);Z.subscribe(()=>{C.slid.emit({isShown:!1,direction:i,source:r})}),y.push(Z)}const A=this.activeId;this.activeId=c.id;const R=this._getSlideById(this.activeId),H=Co(this._ngZone,this._getSlideElement(c.id),so,g);H.subscribe(()=>{R?.slid.emit({isShown:!0,direction:i,source:r})}),y.push(H),Cc(...y).pipe(ki(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:A,current:c.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(t,i){return this._getSlideIdxById(t)>this._getSlideIdxById(i)?rr.END:rr.START}_getSlideById(t){return this.slides.find(i=>i.id===t)||null}_getSlideIdxById(t){const i=this._getSlideById(t);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Wc),u.Y36(u.Lbi),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,Fh,4),2&t){let a;u.iGM(a=u.CRH())&&(i.slides=a)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,i){1&t&&u.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&t&&(u.uIk("aria-activedescendant","slide-"+i.activeId),u.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,i;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,ND,1,5,"button",1),u.qZA(),u.TgZ(2,"div",2),u.YNc(3,OD,4,4,"div",3),u.qZA(),u.YNc(4,bv,4,0,"button",4),u.YNc(5,wv,4,0,"button",5)),2&t&&(u.ekj("visually-hidden",!i.showNavigationIndicators),u.xp6(1),u.Q6J("ngForOf",i.slides),u.xp6(2),u.Q6J("ngForOf",i.slides),u.xp6(1),u.Q6J("ngIf",i.showNavigationArrows),u.xp6(1),u.Q6J("ngIf",i.showNavigationArrows))},dependencies:[wr,Gn,fo],encapsulation:2,changeDetection:0}),n})();var Lh=(()=>{return(n=Lh||(Lh={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Lh;var n})();let Pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})(),kb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var as=(()=>{return(n=as||(as={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",as;var n})();const $m=(n,e)=>!!e&&e.some(t=>t.contains(n)),jb=(n,e)=>!e||null!=function GD(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),YD=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const sS=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function QD(n){const e=Array.from(n.querySelectorAll(sS)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const JD=/\s+/,aS=/  +/gi,Vs=/^start/,XD=/^end/,lS=/-(top|left)$/,uS=/-(bottom|right)$/,cS=/^left/,tC=/^right/,nC=/^start/,Xp=/^end/;function iC({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(JD),r=t.findIndex(y=>"auto"===y);r>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(y){null==t.find(C=>-1!==C.search("^"+y))&&t.splice(r++,1,y)});const a=t.map(y=>function eC(n){return n.replace(Vs,"left").replace(XD,"right").replace(lS,"-start").replace(uS,"-end")}(y));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:y}){const C=new RegExp(e+"(-[a-z]+)*","gi"),A=y.elements.popper,R=y.placement;let H=A.className;H=H.replace(C,""),H+=` ${function dS(n,e){let[t,i]=e.split("-");const r=t.replace(cS,"start").replace(tC,"end");let a=[r];if(i){let c=i;("left"===t||"right"===t)&&(c=c.replace(nC,"top").replace(Xp,"bottom")),a.push(`${r}-${c}`)}return n&&(a=a.map(c=>`${n}-${c}`)),a.join(" ")}(e,R)}`,H=H.trim().replace(aS," "),A.className=H}},pa,Ah,X0,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function zb(n){return n}new Date(1882,10,12),new Date(2174,10,25);let mC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr,X_]}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class $f{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}class FS{constructor(e,t,i,r,a,c){this._componentType=e,this._injector=t,this._viewContainerRef=i,this._renderer=r,this._ngZone=a,this._applicationRef=c,this._windowRef=null,this._contentRef=null}open(e,t,i=!1){this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,a=this._ngZone.onStable.pipe(ki(1),(0,lr.z)(()=>Co(this._ngZone,r,({classList:c})=>c.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:a}}close(e=!1){return this._windowRef?Co(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:e,runningTransition:"stop"}).pipe((0,dr.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):bt(void 0)}_getContentRef(e,t){if(e){if(e instanceof u.Rgc){const i=e.createEmbeddedView(t);return this._applicationRef.attachView(i),new $f([i.rootNodes],i)}return new $f([[this._renderer.createText(`${e}`)]])}return new $f([])}}let LS=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(ki(1)).subscribe(()=>{Co(this._zone,this._el.nativeElement,(t,i)=>{i&&kh(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Co(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(u.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),u.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class Gf{close(e){}dismiss(e){}}class BS{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new zn.x,this._dismissed=new zn.x,this._hidden=new zn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(cr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(cr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Ph(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():bt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Cc(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Bh=(()=>{return(n=Bh||(Bh={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Bh;var n})();let Jv=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new zn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new zn.x,this.hidden=new zn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ff(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ki(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=Cc(Co(this._zone,t,()=>t.classList.remove("show"),i),Co(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};Cc(Co(this._zone,this._elRef.nativeElement,(a,c)=>{c&&kh(a),a.classList.add("show")},t),Co(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{N(t,"keydown").pipe(cr(this._closed$),ir(r=>r.which===as.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Bh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;N(this._dialogEl.nativeElement,"mousedown").pipe(cr(this._closed$),(0,dr.b)(()=>i=!1),qn(()=>N(t,"mouseup").pipe(cr(this._closed$),ki(1))),ir(({target:r})=>t===r)).subscribe(()=>{i=!0}),N(t,"click").pipe(cr(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Bh.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=QD(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Co(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ie),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&u.Gf(_l,7),2&t){let r;u.iGM(r=u.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),u.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),u.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wm,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Yr=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:a,paddingRight:c}=r;if(t>0){const g=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${g+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=c),r.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oR=(()=>{class n{constructor(t,i,r,a,c,g){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=c,this._ngZone=g,this._activeWindowCmptHasChanged=new zn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=N(e,"focusin").pipe(cr(t),(0,It.U)(a=>a.target));N(e,"keydown").pipe(cr(t),ir(a=>a.which===as.Tab),mp(r)).subscribe(([a,c])=>{const[g,y]=QD(e);(c===g||c===e)&&a.shiftKey&&(y.focus(),a.preventDefault()),c===y&&!a.shiftKey&&(g.focus(),a.preventDefault())}),i&&N(e,"click").pipe(cr(t),mp(r),(0,It.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const a=r.container instanceof HTMLElement?r.container:Fd(r.container)?this._document.querySelector(r.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new Gf,y=this._getContentRef(r.injector||t,i,g,r);let C=!1!==r.backdrop?this._attachBackdrop(a):void 0,A=this._attachWindowComponent(a,y.nodes),R=new BS(A,y,C,r.beforeDismiss);return this._registerModalRef(R),this._registerWindowCmpt(A),R.hidden.pipe(ki(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=H=>{R.close(H)},g.dismiss=H=>{R.dismiss(H)},this._applyWindowOptions(A.instance,r),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,r),C.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),R}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,u.LMc)(LS,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,u.LMc)(Jv,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Fd(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Fd(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,a){return i?i instanceof u.Rgc?this._createFromTemplateRef(i,r):Ff(i)?this._createFromString(i):this._createFromComponent(t,i,r,a):new $f([])}_createFromTemplateRef(t,i){const a=t.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(a),new $f([a.rootNodes],a)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new $f([[i]])}_createFromComponent(t,i,r,a){const c=u.zs3.create({providers:[{provide:Gf,useValue:r}],parent:t}),g=(0,u.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:c}),y=g.location.nativeElement;return a.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new $f([[y]],g.hostView,g)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(Ie),u.LFG(Yr),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vC=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qb=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(oR),u.LFG(vC))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Qb]}),n})(),rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})(),ow=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})();class GS{constructor(e,t){this.open=e,this.close=t,t||(this.close=e)}isManual(){return"manual"===this.open||"manual"===this.close}}const xC={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},WS=n=>n>0?sh(n):e=>e;let AC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})(),NC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})(),OC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})(),lw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})(),RC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})(),uw=(()=>{class n{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ex=0,cw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,i){2&t&&(u.Ikx("id",i.id),u.Tol("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),u.ekj("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:wm,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(t,i){1&t&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA())},encapsulation:2,changeDetection:0}),n})(),PC=(()=>{class n{constructor(t,i,r,a,c,g,y,C,A){this._elementRef=t,this._renderer=i,this._ngZone=g,this._document=y,this._changeDetector=C,this.shown=new u.vpe,this.hidden=new u.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+ex++,this._windowRef=null,this._positioning=function rC(){let n=null;return{createPopper(e){if(!n){let i=(e.updatePopperOptions||zb)(iC(e));n=vm(e.hostElement,e.targetElement,i)}},update(){n&&n.update()},setOptions(e){if(n){let i=(e.updatePopperOptions||zb)(iC(e));n.setOptions(i)}},destroy(){n&&(n.destroy(),n=null)}}}(),this.animation=c.animation,this.autoClose=c.autoClose,this.placement=c.placement,this.triggers=c.triggers,this.container=c.container,this.disableTooltip=c.disableTooltip,this.tooltipClass=c.tooltipClass,this.openDelay=c.openDelay,this.closeDelay=c.closeDelay,this._popupService=new FS(cw,r,a,i,this._ngZone,A)}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function Wb(n,e,t,i,r,a,c,g){t&&n.runOutsideAngular((n=>YD?()=>setTimeout(()=>n(),100):n)(()=>{const C=N(e,"keydown").pipe(cr(r),ir(H=>H.which===as.Escape),(0,dr.b)(H=>H.preventDefault())),A=N(e,"mousedown").pipe((0,It.U)(H=>{const Z=H.target;return 2!==H.button&&!$m(Z,c)&&("inside"===t?$m(Z,a)&&jb(Z,g):"outside"===t?!$m(Z,a):jb(Z,g)||!$m(Z,a))}),cr(r)),R=N(e,"mouseup").pipe(mp(A),ir(([H,Z])=>Z),sh(0),cr(r));gi([C.pipe((0,It.U)(H=>0)),R.pipe((0,It.U)(H=>1))]).subscribe(H=>n.run(()=>i(H)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(t=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function uR(n,e,t,i,r,a,c=0,g=0){const y=function HS(n,e=xC){const t=(n||"").trim();if(0===t.length)return[];const i=t.split(/\s+/).map(a=>a.split(":")).map(a=>{let c=e[a[0]]||a;return new GS(c[0],c[1])}),r=i.filter(a=>a.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(t);if(1===y.length&&y[0].isManual())return()=>{};const C=function jS(n,e,t,i){return new Ai.y(r=>{const a=[],c=()=>r.next(!0),g=()=>r.next(!1),y=()=>r.next(!i());return t.forEach(C=>{C.open===C.close?a.push(n.listen(e,C.open,y)):a.push(n.listen(e,C.open,c),n.listen(e,C.close,g))}),()=>{a.forEach(C=>C())}})}(n,e,y,i).pipe(function lR(n,e,t){return i=>{let r=null;const a=i.pipe((0,It.U)(y=>({open:y})),ir(y=>{const C=t();return C===y.open||r&&r.open!==C?(r&&r.open!==y.open&&(r=null),!1):(r=y,!0)}),(0,Bo.B)()),c=a.pipe(ir(y=>y.open),WS(n)),g=a.pipe(ir(y=>!y.open),WS(e));return(0,qr.T)(c,g).pipe(ir(y=>y===r&&(r=null,y.open!==t())),(0,It.U)(y=>y.open))}}(c,g,i)).subscribe(A=>A?r():a());return()=>C.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.zs3),u.Y36(u.s_b),u.Y36(uw),u.Y36(u.R0b),u.Y36(Ie),u.Y36(u.sBO),u.Y36(u.z2F))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[u.TTD]}),n})(),dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function tx(){return 100}});let hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})(),fw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const pw=[Rt,Nn,Pb,kb,mC,Xt,yC,rw,fw,ow,AC,NC,OC,lw,RC,dw,hw];let sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pw,Rt,Nn,Pb,kb,mC,Xt,yC,rw,fw,ow,AC,NC,OC,lw,RC,dw,hw]}),n})();const gw=["ngucarousel"],ax=["nguItemsContainer"],BC=["touchContainer"],rg=[[["","NguCarouselPrev",""]],[["","NguCarouselNext",""]],[["","NguCarouselPoint",""]]],VC=["[NguCarouselPrev]","[NguCarouselNext]","[NguCarouselPoint]"],lx=["*"];class mw{}class _w{}class cx{constructor(e=0,t=0,i=0,r=0,a=0){this.xs=e,this.sm=t,this.md=i,this.lg=r,this.all=a,this.xl=0}}class UC{constructor(e=768,t=992,i=1200,r=1200){this.sm=e,this.md=t,this.lg=i,this.xl=r}}class GC{constructor(e){this.$implicit=e}}let ey=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","NguCarouselNext",""]]}),n})(),ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","NguCarouselPrev",""]]}),n})(),vw=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","nguCarouselDef",""]]}),n})(),HC=(()=>{class n{constructor(t){this.viewContainer=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","nguCarouselOutlet",""]]}),n})(),jC=(()=>{class n extends class NR{constructor(e=new _w,t=new mw,i,r=new cx,a,c,g,y="fixed",C="",A=0,R=0,H=0,Z=0,ue=0,_e=0,De=0,ot=0,ut=0,vt="cubic-bezier(0, 0, 0.2, 1)",rt=200,gt=!1,Dt=0,rn=0,Pn=!1,$r=!0,Gs=!1,ls=!1,uc=!0,Da=1){this.touch=e,this.vertical=t,this.interval=i,this.transform=r,this.button=a,this.visibleItems=c,this.deviceType=g,this.type=y,this.token=C,this.items=A,this.load=R,this.deviceWidth=H,this.carouselWidth=Z,this.itemWidth=ue,this.slideItems=_e,this.itemWidthPer=De,this.itemLength=ot,this.currentSlide=ut,this.easing=vt,this.speed=rt,this.loop=gt,this.dexVal=Dt,this.touchTransform=rn,this.isEnd=Pn,this.isFirst=$r,this.isLast=Gs,this.RTL=ls,this.point=uc,this.velocity=Da}}{constructor(t,i,r,a,c){super(),this._el=t,this._renderer=i,this._differs=r,this.platformId=a,this.cdr=c,this.withAnim=!0,this.isHovered=!1,this.carouselLoad=new u.vpe,this.onMove=new u.vpe,this._intervalController$=new zn.x,this.pointNumbers=[]}get dataSource(){return this._dataSource}set dataSource(t){t&&this._switchDataSource(t)}set nextBtn(t){this.listener2?.(),t&&(this.listener2=this._renderer.listen(t.nativeElement,"click",()=>this._carouselScrollOne(1)))}set prevBtn(t){this.listener1?.(),t&&(this.listener1=this._renderer.listen(t.nativeElement,"click",()=>this._carouselScrollOne(0)))}get trackBy(){return this._trackByFn}set trackBy(t){(0,u.X6Q)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}ngOnInit(){this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(t,i):i)}ngDoCheck(){this.arrayChanges=this._dataDiffer.diff(this.dataSource),this.arrayChanges&&this._defDirec&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource=t,this._defDirec&&this._observeRenderChanges()}_observeRenderChanges(){let t;this._dataSource instanceof Ai.y?t=this._dataSource:Array.isArray(this._dataSource)&&(t=bt(this._dataSource)),t&&(this._dataSubscription=t.pipe(cr(this._intervalController$)).subscribe(i=>{this.renderNodeChanges(i),this.isLast=this.pointIndex===this.currentSlide}))}renderNodeChanges(t,i=this._nodeOutlet.viewContainer){!this.arrayChanges||(this.arrayChanges.forEachOperation((r,a,c)=>{const g=this._getNodeDef(t[c],c);if(null==r.previousIndex){const y=new GC(t[c]);y.index=c,i.createEmbeddedView(g.template,y,c)}else if(null==c)i.remove(a);else{const y=i.get(a);i.move(y,c)}}),this._updateItemIndexContext(),this.carousel&&this._storeCarouselData())}_updateItemIndexContext(){const t=this._nodeOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const c=t.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,c.index=i}}_getNodeDef(t,i){return 1===this._defDirec.length?this._defDirec.first:this._defDirec.find(a=>a.when&&a.when(i,t))||this._defaultNodeDef}ngAfterViewInit(){this.carousel=this._el.nativeElement,this._inputValidation(),this.carouselCssNode=this._createStyleElem(),fu(this.platformId)&&(this._carouselInterval(),this.vertical.enabled||this._touch(),this.listener3=this._renderer.listen("window","resize",t=>{this._onResizing(t)}),this._onWindowScrolling())}ngAfterContentInit(){this._observeRenderChanges(),this.cdr.markForCheck()}_inputValidation(){this.inputs.gridBreakpoints=this.inputs.gridBreakpoints?this.inputs.gridBreakpoints:new UC,void 0===this.inputs.grid.xl&&(this.inputs.grid.xl=this.inputs.grid.lg),this.type=0!==this.inputs.grid.all?"fixed":"responsive",this.loop=this.inputs.loop||!1,this.inputs.easing=this.inputs.easing||"cubic-bezier(0, 0, 0.2, 1)",this.touch.active=this.inputs.touch||!1,this.RTL=!!this.inputs.RTL,this.interval=this.inputs.interval||null,this.velocity="number"==typeof this.inputs.velocity?this.inputs.velocity:this.velocity,this.inputs.vertical&&this.inputs.vertical.enabled&&(this.vertical.enabled=this.inputs.vertical.enabled,this.vertical.height=this.inputs.vertical.height),this.directionSym=this.RTL?"":"-",this.point=!(this.inputs.point&&typeof this.inputs.point.visible<"u")||this.inputs.point.visible,this._carouselSize()}ngOnDestroy(){this.carouselInt&&this.carouselInt.unsubscribe(),this._intervalController$.unsubscribe(),this.carouselLoad.complete(),this.onMove.complete(),clearTimeout(this.onScrolling);for(let t=1;t<=4;t++){const i=`listener${t}`;this[i]&&this[i]()}}_onResizing(t){clearTimeout(this.onResize),this.onResize=setTimeout(()=>{this.deviceWidth!==t.target.outerWidth&&(this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this._storeCarouselData())},500)}_touch(){this.inputs.touch&&Promise.resolve().then(j.t.bind(j,5386,19)).then(()=>{const t=new Hammer(this.touchContainer.nativeElement);t.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),t.on("panstart",i=>{this.carouselWidth=this.nguItemsContainer.nativeElement.offsetWidth,this.touchTransform=this.transform[this.deviceType],this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","")}),this.vertical.enabled?(t.on("panup",i=>{this._touchHandling("panleft",i)}),t.on("pandown",i=>{this._touchHandling("panright",i)})):(t.on("panleft",i=>{this._touchHandling("panleft",i)}),t.on("panright",i=>{this._touchHandling("panright",i)})),t.on("panend pancancel",i=>{if(Math.abs(i.velocity)>=this.velocity){this.touch.velocity=i.velocity;let r=0;r=this.RTL?"panright"===this.touch.swipe?1:0:"panright"===this.touch.swipe?0:1,this._carouselScrollOne(r)}else this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","transform 324ms cubic-bezier(0, 0, 0.2, 1)"),this._setStyle(this.nguItemsContainer.nativeElement,"transform","")}),t.on("hammer.input",i=>{i.srcEvent.stopPropagation()})})}_touchHandling(t,i){if(0===i.center.x)return;let r=(i=Math.abs(this.vertical.enabled?i.deltaY:i.deltaX))-this.dexVal;r="responsive"===this.type?Math.abs(i-this.dexVal)/(this.vertical.enabled?this.vertical.height:this.carouselWidth)*100:r,this.dexVal=i,this.touch.swipe=t,this._setTouchTransfrom(t,r),this._setTransformFromTouch()}_setTouchTransfrom(t,i){this.touchTransform=t===(this.RTL?"panright":"panleft")?i+this.touchTransform:this.touchTransform-i}_setTransformFromTouch(){this.touchTransform<0&&(this.touchTransform=0);const t="responsive"===this.type?"%":"px";this._setStyle(this.nguItemsContainer.nativeElement,"transform",this.vertical.enabled?`translate3d(0, ${this.directionSym}${this.touchTransform}${t}, 0)`:`translate3d(${this.directionSym}${this.touchTransform}${t}, 0, 0)`)}_onWindowScrolling(){const t=this.carousel.offsetTop,i=window.scrollY,r=window.innerHeight,a=this.carousel.offsetHeight;this._intervalController$.next(t<=i+r-a/4&&t+a/2>=i?1:0)}_storeCarouselData(){const t=this.inputs.gridBreakpoints;this.deviceWidth=fu(this.platformId)?window.innerWidth:t.xl,this.carouselWidth=this.carouselMain1.nativeElement.offsetWidth,"responsive"===this.type?(this.deviceType=this.deviceWidth>=t.xl?"xl":this.deviceWidth>=t.lg?"lg":this.deviceWidth>=t.md?"md":this.deviceWidth>=t.sm?"sm":"xs",this.items=this.inputs.grid[this.deviceType],this.itemWidth=this.carouselWidth/this.items):(this.items=Math.trunc(this.carouselWidth/this.inputs.grid.all),this.itemWidth=this.inputs.grid.all,this.deviceType="all"),this.slideItems=+(this.inputs.slide<this.items?this.inputs.slide:this.items),this.load=this.inputs.load>=this.slideItems?this.inputs.load:this.slideItems,this.speed=this.inputs.speed&&this.inputs.speed>-1?this.inputs.speed:400,this._carouselPoint()}reset(t){t&&(this.withAnim=!1),this.carouselCssNode.textContent="",this.moveTo(0),this._carouselPoint()}_carouselPoint(){this.pointIndex=Math.ceil((this.dataSource.length-(this.items-this.slideItems))/this.slideItems);const i=[];if(this.pointIndex>1||!this.inputs.point.hideOnSingleSlide)for(let r=0;r<this.pointIndex;r++)i.push(r);this.pointNumbers=i,this._carouselPointActiver(),this.pointIndex<=1?this._btnBoolean(1,1):this._btnBoolean(0!==this.currentSlide||this.loop?0:1,0)}_carouselPointActiver(){const t=Math.ceil(this.currentSlide/this.slideItems);this.activePoint=t,this.cdr.markForCheck()}moveTo(t,i){if(i&&(this.withAnim=!1),this.activePoint!==t&&t<this.pointIndex){let r;const a=this.currentSlide<t?1:0;switch(t){case 0:this._btnBoolean(1,0),r=t*this.slideItems;break;case this.pointIndex-1:this._btnBoolean(0,1),r=this.dataSource.length-this.items;break;default:this._btnBoolean(0,0),r=t*this.slideItems}this._carouselScrollTwo(a,r,this.speed)}}_carouselSize(){this.token=this._generateID();let t="";this.styleid=`.${this.token} > .ngucarousel > .ngu-touch-container > .ngucarousel-items`,"banner"===this.inputs.custom&&this._renderer.addClass(this.carousel,"banner"),"lazy"===this.inputs.animation&&(t+=`${this.styleid} > .item {transition: transform .6s ease;}`);const i=this.inputs.gridBreakpoints;let r="";r=this.vertical.enabled?`@media (max-width:${i.sm-1}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xs}px}}\n                    @media (max-width:${i.sm}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.sm}px}}\n                    @media (min-width:${i.md}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.md}px}}\n                    @media (min-width:${i.lg}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.lg}px}}\n                    @media (min-width:${i.xl}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xl}px}}`:"responsive"===this.type?`@media (max-width:${i.sm-1}px){${"mobile"===this.inputs.type?`${this.styleid} .item {flex: 0 0 ${95/+this.inputs.grid.xs}%; width: ${95/+this.inputs.grid.xs}%;}`:`${this.styleid} .item {flex: 0 0 ${100/+this.inputs.grid.xs}%; width: ${100/+this.inputs.grid.xs}%;}`}}\n                    @media (min-width:${i.sm}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.sm}%; width: ${100/+this.inputs.grid.sm}%}}\n                    @media (min-width:${i.md}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.md}%; width: ${100/+this.inputs.grid.md}%}}\n                    @media (min-width:${i.lg}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.lg}%; width: ${100/+this.inputs.grid.lg}%}}\n                    @media (min-width:${i.xl}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.xl}%; width: ${100/+this.inputs.grid.xl}%}}`:`${this.styleid} .item {flex: 0 0 ${this.inputs.grid.all}px; width: ${this.inputs.grid.all}px;}`,this._renderer.addClass(this.carousel,this.token),this.vertical.enabled&&(this._renderer.addClass(this.nguItemsContainer.nativeElement,"nguvertical"),this._renderer.setStyle(this.carouselMain1.nativeElement,"height",`${this.vertical.height}px`)),this.RTL&&!this.vertical.enabled&&this._renderer.addClass(this.carousel,"ngurtl"),this._createStyleElem(`${t} ${r}`),this._storeCarouselData()}_carouselScrollOne(t){let i=this.speed,r=0,a=0,c=Math.ceil(this.dexVal/this.itemWidth);if(c=isFinite(c)?c:0,this._setStyle(this.nguItemsContainer.nativeElement,"transform",""),1!==this.pointIndex)if(0!==t||(this.loop||this.isFirst)&&!this.loop)1===t&&(!this.loop&&!this.isLast||this.loop)&&(this.dataSource.length<=this.currentSlide+this.items+this.slideItems&&!this.isLast?(a=this.dataSource.length-this.items,this._btnBoolean(0,1)):this.isLast?(a=r=0,i=400,this._btnBoolean(1,0)):(this._btnBoolean(0,0),c>this.slideItems?(a=this.currentSlide+this.slideItems+(c-this.slideItems),i=200):a=this.currentSlide+this.slideItems),this._carouselScrollTwo(t,a,i));else{const y=this.currentSlide-this.slideItems+this.slideItems;this._btnBoolean(0,1),0===this.currentSlide?(a=this.dataSource.length-this.items,i=400,this._btnBoolean(0,1)):this.slideItems>=y?(a=r=0,this._btnBoolean(1,0)):(this._btnBoolean(0,0),c>this.slideItems?(a=this.currentSlide-c,i=200):a=this.currentSlide-this.slideItems),this._carouselScrollTwo(t,a,i)}}_carouselScrollTwo(t,i,r){if(0!==this.dexVal){const a=Math.abs(this.touch.velocity);let c=Math.floor(this.dexVal/a/this.dexVal*(this.deviceWidth-this.dexVal));c=c>r?r:c,r=c<200?200:c,this.dexVal=0}this.withAnim?(this._setStyle(this.nguItemsContainer.nativeElement,"transition",`transform ${r}ms ${this.inputs.easing}`),this.inputs.animation&&this._carouselAnimator(t,i+1,i+this.items,r,Math.abs(this.currentSlide-i))):this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this.itemLength=this.dataSource.length,this._transformStyle(i),this.currentSlide=i,this.onMove.emit(this),this._carouselPointActiver(),this._carouselLoadTrigger(),this.withAnim=!0}_btnBoolean(t,i){this.isFirst=!!t,this.isLast=!!i}_transformString(t,i){let r="";return r+=`${this.styleid} { transform: translate3d(`,this.vertical.enabled?(this.transform[t]=this.vertical.height/this.inputs.grid[t]*i,r+=`0, -${this.transform[t]}px, 0`):(this.transform[t]=100/this.inputs.grid[t]*i,r+=`${this.directionSym}${this.transform[t]}%, 0, 0`),r+="); }",r}_transformStyle(t){let i="";if("responsive"===this.type){const r=this.inputs.gridBreakpoints;i=`@media (max-width: ${r.sm-1}px) {${this._transformString("xs",t)}}\n      @media (min-width: ${r.sm}px) {${this._transformString("sm",t)} }\n      @media (min-width: ${r.md}px) {${this._transformString("md",t)} }\n      @media (min-width: ${r.lg}px) {${this._transformString("lg",t)} }\n      @media (min-width: ${r.xl}px) {${this._transformString("xl",t)} }`}else this.transform.all=this.inputs.grid.all*t,i=`${this.styleid} { transform: translate3d(${this.directionSym}${this.transform.all}px, 0, 0);`;this.carouselCssNode.textContent=i}_carouselLoadTrigger(){"number"==typeof this.inputs.load&&this.dataSource.length-this.load<=this.currentSlide+this.items&&this.carouselLoad.emit(this.currentSlide)}_generateID(){let t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<6;r++)t+=i.charAt(Math.floor(Math.random()*i.length));return`ngucarousel${t}`}_carouselInterval(){const t=this.carouselMain1.nativeElement;if(this.interval&&this.loop){this.listener4=this._renderer.listen("window","scroll",()=>{clearTimeout(this.onScrolling),this.onScrolling=setTimeout(()=>{this._onWindowScrolling()},600)});const i=N(t,"mouseleave").pipe(ka(1)),r=N(t,"mouseenter").pipe(ka(0)),a=N(t,"touchstart").pipe(ka(1)),c=N(t,"touchend").pipe(ka(0)),g=function ox(n=0,e=We.z){return n<0&&(n=0),Ht(n,n,e)}(this.inputs.interval.timing).pipe(ka(1));setTimeout(()=>{this.carouselInt=(0,qr.T)(i,a,r,c,this._intervalController$).pipe(da(1),qn(y=>(this.isHovered=!y,this.cdr.markForCheck(),y?g:Pi.E))).subscribe(y=>{this._carouselScrollOne(1)})},this.interval.initialDelay)}}_updateItemIndexContextAni(){const t=this._nodeOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const c=t.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,c.index=i}}_carouselAnimator(t,i,r,a,c,g=this._nodeOutlet.viewContainer){let y=c<5?c:5;y=1===y?3:y;const C=[];if(1===t)for(let A=i-1;A<r;A++)C.push(A),y*=2,g.get(A).context.animate={value:!0,params:{distance:y}};else for(let A=r-1;A>=i-1;A--)C.push(A),y*=2,g.get(A).context.animate={value:!0,params:{distance:-y}};this.cdr.markForCheck(),setTimeout(()=>{this._removeAnimations(C)},.7*a)}_removeAnimations(t){const i=this._nodeOutlet.viewContainer;t.forEach(r=>{i.get(r).context.animate={value:!1,params:{distance:0}}}),this.cdr.markForCheck()}_setStyle(t,i,r){this._renderer.setStyle(t,i,r)}_createStyleElem(t){const i=this._renderer.createElement("style");if(t){const r=this._renderer.createText(t);this._renderer.appendChild(i,r)}return this._renderer.appendChild(this.carousel,i),i}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.ZZ4),u.Y36(u.Lbi),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngu-carousel"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,ey,5,u.SBq),u.Suo(r,ty,5,u.SBq),u.Suo(r,vw,4)),2&t){let a;u.iGM(a=u.CRH())&&(i.nextBtn=a.first),u.iGM(a=u.CRH())&&(i.prevBtn=a.first),u.iGM(a=u.CRH())&&(i._defDirec=a)}},viewQuery:function(t,i){if(1&t&&(u.Gf(HC,7),u.Gf(gw,7,u.SBq),u.Gf(ax,7,u.SBq),u.Gf(BC,7,u.SBq)),2&t){let r;u.iGM(r=u.CRH())&&(i._nodeOutlet=r.first),u.iGM(r=u.CRH())&&(i.carouselMain1=r.first),u.iGM(r=u.CRH())&&(i.nguItemsContainer=r.first),u.iGM(r=u.CRH())&&(i.touchContainer=r.first)}},inputs:{inputs:"inputs",dataSource:"dataSource",trackBy:"trackBy"},outputs:{carouselLoad:"carouselLoad",onMove:"onMove"},features:[u.qOj],ngContentSelectors:VC,decls:11,vars:0,consts:[[1,"ngucarousel"],["ngucarousel",""],[1,"ngu-touch-container"],["touchContainer",""],[1,"ngucarousel-items"],["nguItemsContainer",""],["nguCarouselOutlet",""],[1,"nguclearFix"]],template:function(t,i){1&t&&(u.F$t(rg),u.TgZ(0,"div",0,1),u.Hsn(2),u.TgZ(3,"div",2,3)(5,"div",4,5),u.GkF(7,6),u.qZA()(),u._UZ(8,"div",7),u.Hsn(9,1),u.qZA(),u.Hsn(10,2))},dependencies:[HC],styles:["[_nghost-%COMP%]{display:block;position:relative}.ngurtl[_nghost-%COMP%]{direction:rtl}.ngucarousel[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%}.ngucarousel[_ngcontent-%COMP%]   .ngucarousel-items[_ngcontent-%COMP%]{position:relative;display:flex;height:100%}.nguvertical[_ngcontent-%COMP%]{flex-direction:column}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:20px}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:rgba(255,255,255,.55)}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:white}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{list-style-type:none;text-align:center;padding:12px;margin:0;white-space:nowrap;overflow:auto;box-sizing:border-box}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border-radius:50%;background:rgba(0,0,0,.55);padding:4px;margin:0 4px;transition-timing-function:cubic-bezier(.17,.67,.83,.67);transition:.4s}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#6b6b6b;transform:scale(1.8)}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.nguclearFix[_ngcontent-%COMP%]{clear:both}"],changeDetection:0}),n})(),fx=(()=>{class n{constructor(){this.classes=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngu-tile"]],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("item",i.classes)},ngContentSelectors:lx,decls:2,vars:0,consts:[[1,"tile"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0),u.Hsn(1),u.qZA())},styles:["[_nghost-%COMP%]{padding:10px;box-sizing:border-box}.tile[_ngcontent-%COMP%]{box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f}"]}),n})(),yw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr]}),n})();const ny=(0,j(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function gx(n){return new Ai.y(e=>{(0,or.Xf)(n()).subscribe(e)})}var RR=j(9635);function qm(n,e){const t=(0,Ps.m)(n)?n:()=>n,i=r=>r.error(t());return new Ai.y(e?r=>e.schedule(i,0,r):i)}var WC=j(727);function bw(){return(0,ar.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ri.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class ww extends Ai.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ar.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new WC.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ri.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=WC.w0.EMPTY)}return e}refCount(){return bw()(this)}}function Zm(n){return(0,ar.e)((e,t)=>{let i=!1;e.subscribe((0,ri.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Dw(n=mx){return(0,ar.e)((e,t)=>{let i=!1;e.subscribe((0,ri.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function mx(){return new ny}function Bd(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ir((r,a)=>n(r,a,i)):Qs.y,ki(1),t?Zm(e):Dw(()=>new ny))}function Hf(n,e){return(0,Ps.m)(e)?(0,lr.z)(n,e,1):(0,lr.z)(n,1)}function Vh(n){return(0,ar.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,ri.x)(t,void 0,void 0,c=>{a=(0,or.Xf)(n(c,Vh(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function _x(n,e,t,i,r){return(a,c)=>{let g=t,y=e,C=0;a.subscribe((0,ri.x)(c,A=>{const R=C++;y=g?n(y,A,R):(g=!0,A),i&&c.next(y)},r&&(()=>{g&&c.next(y),c.complete()})))}}function Ym(n,e){return(0,ar.e)(_x(n,e,arguments.length>=2,!0))}function jf(n){return n<=0?()=>Pi.E:(0,ar.e)((e,t)=>{let i=[];e.subscribe((0,ri.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Cw(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ir((r,a)=>n(r,a,i)):Qs.y,jf(1),t?Zm(e):Dw(()=>new ny))}function iy(n){return(0,ar.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const On="primary",sg=Symbol("RouteTitle");class qC{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function og(n){return new qC(n)}function PR(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],g=n[a];if(c.startsWith(":"))r[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Yc(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!YC(n[r],e[r]))return!1;return!0}function YC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function KC(n){return Array.prototype.concat.apply([],n)}function QC(n){return n.length>0?n[n.length-1]:null}function Io(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Kc(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Wn.D)(Promise.resolve(n)):bt(n)}const Iw={exact:function XC(n,e,t){if(!zf(n.segments,e.segments)||!oy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!XC(n.children[i],e.children[i],t))return!1;return!0},subset:Km},ag={exact:function yx(n,e){return Yc(n,e)},subset:function sy(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>YC(n[t],e[t]))},ignored:()=>!0};function JC(n,e,t){return Iw[t.paths](n.root,e.root,t.matrixParams)&&ag[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Km(n,e,t){return eI(n,e,e.segments,t)}function eI(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!zf(r,t)||e.hasChildren()||!oy(r,t,i))}if(n.segments.length===t.length){if(!zf(n.segments,t)||!oy(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Km(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(zf(n.segments,r)&&oy(n.segments,r,i)&&n.children[On])&&eI(n.children[On],e,a,i)}}function oy(n,e,t){return e.every((i,r)=>ag[t](n[r].parameters,i.parameters))}class Uh{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=og(this.queryParams)),this._queryParamMap}toString(){return Tw.serialize(this)}}class Bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Io(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jm(this)}}class Wf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=og(this.parameters)),this._parameterMap}toString(){return cy(this)}}function zf(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Qm},providedIn:"root"}),n})();class Qm{parse(e){const t=new aI(e);return new Uh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qf(e.root,!0)}`,i=function iI(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ly(t)}=${ly(r)}`).join("&"):`${ly(t)}=${ly(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Dx(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Tw=new Qm;function Jm(n){return n.segments.map(e=>cy(e)).join("/")}function qf(n,e){if(!n.hasChildren())return Jm(n);if(e){const t=n.children[On]?qf(n.children[On],!1):"",i=[];return Io(n.children,(r,a)=>{a!==On&&i.push(`${a}:${qf(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function bx(n,e){let t=[];return Io(n.children,(i,r)=>{r===On&&(t=t.concat(e(i,r)))}),Io(n.children,(i,r)=>{r!==On&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===On?[qf(n.children[On],!1)]:[`${r}:${qf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[On]?`${Jm(n)}/${t[0]}`:`${Jm(n)}/(${t.join("//")})`}}function ay(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ly(n){return ay(n).replace(/%3B/gi,";")}function Ew(n){return ay(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uy(n){return decodeURIComponent(n)}function Sw(n){return uy(n.replace(/\+/g,"%20"))}function cy(n){return`${Ew(n.path)}${function nI(n){return Object.keys(n).map(e=>`;${Ew(e)}=${Ew(n[e])}`).join("")}(n.parameters)}`}const rI=/^[^\/()?;=#]+/;function Xm(n){const e=n.match(rI);return e?e[0]:""}const Cx=/^[^=?&#]+/,oI=/^[^&#]+/;class aI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[On]=new Bn(e,t)),i}parseSegment(){const e=Xm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Wf(uy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xm(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Xm(this.remaining);r&&(i=r,this.capture(i))}e[uy(t)]=uy(i)}parseQueryParam(e){const t=function sI(n){const e=n.match(Cx);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Ix(n){const e=n.match(oI);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Sw(t),a=Sw(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Xm(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=On);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[On]:new Bn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function dy(n){return n.segments.length>0?new Bn([],{[On]:n}):n}function oo(n){const e={};for(const i of Object.keys(n.children)){const a=oo(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function lg(n){if(1===n.numberOfChildren&&n.children[On]){const e=n.children[On];return new Bn(n.segments.concat(e.segments),e.children)}return n}(new Bn(n.segments,e))}function Zf(n){return n instanceof Uh}function uI(n,e,t,i,r){if(0===t.length)return $h(e.root,e.root,e.root,i,r);const a=function dI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Aw(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const g={};return Io(a.outlets,(y,C)=>{g[C]="string"==typeof y?y.split("/"):y}),[...r,{outlets:g}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&r.push(g))}),r):[...r,a]},[]);return new Aw(t,e,i)}(t);return a.toRoot()?$h(e.root,e.root,new Bn([],{}),i,r):function c(y){const C=function Nw(n,e,t,i){if(n.isAbsolute)return new ug(e.root,!0,0);if(-1===i)return new ug(t,t===e.root,0);return function Ow(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new ug(i,!1,r-a)}(t,i+(Vd(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),A=C.processChildren?Yf(C.segmentGroup,C.index,a.commands):cg(C.segmentGroup,C.index,a.commands);return $h(e.root,C.segmentGroup,A,i,r)}(n.snapshot?._lastPathIndex)}function Vd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function e_(n){return"object"==typeof n&&null!=n&&n.outlets}function $h(n,e,t,i,r){let c,a={};i&&Io(i,(y,C)=>{a[C]=Array.isArray(y)?y.map(A=>`${A}`):`${y}`}),c=n===e?t:cI(n,e,t);const g=dy(oo(c));return new Uh(g,a,r)}function cI(n,e,t){const i={};return Io(n.children,(r,a)=>{i[a]=r===e?t:cI(r,e,t)}),new Bn(n.segments,i)}class Aw{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Vd(i[0]))throw new u.vHH(4003,!1);const r=i.find(e_);if(r&&r!==QC(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ug{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function cg(n,e,t){if(n||(n=new Bn([],{})),0===n.segments.length&&n.hasChildren())return Yf(n,e,t);const i=function FR(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const c=n.segments[r],g=t[i];if(e_(g))break;const y=`${g}`,C=i<t.length-1?t[i+1]:null;if(r>0&&void 0===y)break;if(y&&C&&"object"==typeof C&&void 0===C.outlets){if(!Kf(y,C,c))return a;i+=2}else{if(!Kf(y,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Bn(n.segments.slice(0,i.pathIndex),{});return a.children[On]=new Bn(n.segments.slice(i.pathIndex),n.children),Yf(a,0,r)}return i.match&&0===r.length?new Bn(n.segments,{}):i.match&&!n.hasChildren()?hy(n,e,t):i.match?Yf(n,0,r):hy(n,e,t)}function Yf(n,e,t){if(0===t.length)return new Bn(n.segments,{});{const i=function hI(n){return e_(n[0])?n[0].outlets:{[On]:n}}(t),r={};return Io(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[c]=cg(n.children[c],e,a))}),Io(n.children,(a,c)=>{void 0===i[c]&&(r[c]=a)}),new Bn(n.segments,r)}}function hy(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(e_(a)){const y=Ex(a.outlets);return new Bn(i,y)}if(0===r&&Vd(t[0])){i.push(new Wf(n.segments[e].path,Mw(t[0]))),r++;continue}const c=e_(a)?a.outlets[On]:`${a}`,g=r<t.length-1?t[r+1]:null;c&&g&&Vd(g)?(i.push(new Wf(c,Mw(g))),r+=2):(i.push(new Wf(c,{})),r++)}return new Bn(i,{})}function Ex(n){const e={};return Io(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=hy(new Bn([],{}),0,t))}),e}function Mw(n){const e={};return Io(n,(t,i)=>e[i]=`${t}`),e}function Kf(n,e,t){return n==t.path&&Yc(e,t.parameters)}class Ud{constructor(e,t){this.id=e,this.url=t}}class t_ extends Ud{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qc extends Ud{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fy extends Ud{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rw extends Ud{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LR extends Ud{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sx extends Ud{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xx extends Ud{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ax extends Ud{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fI extends Ud{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pI{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nx{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gI{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mI{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ox{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mx{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pw{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=py(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=py(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return gy(e,this._root).map(t=>t.value)}}function py(n,e){if(n===e.value)return e;for(const t of e.children){const i=py(n,t);if(i)return i}return null}function gy(n,e){if(n===e.value)return[e];for(const t of e.children){const i=gy(n,t);if(i.length)return i.unshift(e),i}return[]}class Jc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function dg(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _I extends kw{constructor(e,t){super(e),this.snapshot=t,yI(this,e)}toString(){return this.snapshot.toString()}}function Px(n,e){const t=function vI(n,e){const c=new Fw([],{},{},"",{},On,e,null,n.root,-1,{});return new Fx("",new Jc(c,[]))}(n,e),i=new Zn([new Wf("",{})]),r=new Zn({}),a=new Zn({}),c=new Zn({}),g=new Zn(""),y=new hg(i,r,c,g,a,On,e,t.root);return y.snapshot=t.root,new _I(new Jc(y,[]),t)}class hg{constructor(e,t,i,r,a,c,g,y){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=g,this.title=this.data?.pipe((0,It.U)(C=>C[sg]))??bt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>og(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>og(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kx(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function BR(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Fw{constructor(e,t,i,r,a,c,g,y,C,A,R,H){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=g,this.title=this.data?.[sg],this.routeConfig=y,this._urlSegment=C,this._lastPathIndex=A,this._correctedLastPathIndex=H??A,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=og(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=og(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fx extends kw{constructor(e,t){super(t),this.url=e,yI(this,t)}toString(){return Lx(this._root)}}function yI(n,e){e.value._routerState=n,e.children.forEach(t=>yI(n,t))}function Lx(n){const e=n.children.length>0?` { ${n.children.map(Lx).join(", ")} } `:"";return`${n.value}${e}`}function bI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yc(e.params,t.params)||n.params.next(t.params),function ZC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fg(n,e){const t=Yc(n.params,e.params)&&function tI(n,e){return zf(n,e)&&n.every((t,i)=>Yc(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fg(n.parent,e.parent))}function pg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function my(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return pg(n,i,r);return pg(n,i)})}(n,e,t);return new Jc(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>pg(n,g)),c}}const i=function wI(n){return new hg(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>pg(n,a));return new Jc(i,r)}}const _y="ngNavigationCancelingError";function Bx(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Zf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=vy(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function vy(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[_y]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Lw(n){return DI(n)&&Zf(n.url)}function DI(n){return n&&n[_y]}class CI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yy,this.attachRef=null}}let yy=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new CI,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bw=!1;let Vw=(()=>{class n{constructor(t,i,r,a,c){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||On,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Bw);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Bw);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Bw);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,Bw);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new Vx(t,g,r.injector);if(i&&function by(n){return!!n.resolveComponentFactory}(i)){const C=i.resolveComponentFactory(c);this.activated=r.createComponent(C,r.length,y)}else this.activated=r.createComponent(c,{index:r.length,injector:y,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yy),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Vx{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===hg?this.route:e===yy?this.childContexts:this.parent.get(e,t)}}let Uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[Vw],encapsulation:2}),n})();function Ux(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wy(n){const e=n.children&&n.children.map(wy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==On&&(t.component=Uw),t}function ic(n){return n.outlet||On}function au(n,e){const t=n.filter(i=>ic(i)===e);return t.push(...n.filter(i=>ic(i)!==e)),t}function n_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Gx{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),bI(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=dg(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),Io(r,(a,c)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=dg(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),g=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=dg(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=dg(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Mx(a.value.snapshot))}),e.children.length&&this.forwardEvent(new mI(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(bI(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const g=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),bI(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=n_(r.snapshot),y=g?.get(u._Vd)??null;c.attachRef=null,c.route=r,c.resolver=y,c.injector=g,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class yl{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Dy{constructor(e,t){this.component=e,this.route=t}}function Hw(n,e,t){const i=n._root;return Qf(i,e?e._root:null,t,[i.value])}function gg(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function Qf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=dg(e);return n.children.forEach(c=>{(function TI(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const y=function EI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!zf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!zf(n.url,e.url)||!Yc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fg(n,e)||!Yc(n.queryParams,e.queryParams);default:return!fg(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);y?r.canActivateChecks.push(new yl(i)):(a.data=c.data,a._resolvedData=c._resolvedData),Qf(n,e,a.component?g?g.children:null:t,i,r),y&&g&&g.outlet&&g.outlet.isActivated&&r.canDeactivateChecks.push(new Dy(g.outlet.component,c))}else c&&i_(e,g,r),r.canActivateChecks.push(new yl(i)),Qf(n,null,a.component?g?g.children:null:t,i,r)})(c,a[c.value.outlet],t,i.concat([c.value]),r),delete a[c.value.outlet]}),Io(a,(c,g)=>i_(c,t.getContext(g),r)),r}function i_(n,e,t){const i=dg(n),r=n.value;Io(i,(a,c)=>{i_(a,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Dy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function mg(n){return"function"==typeof n}function rc(n){return n instanceof ny||"EmptyError"===n?.name}const Cy=Symbol("INITIAL_VALUE");function r_(){return qn(n=>th(n.map(e=>e.pipe(ki(1),da(Cy)))).pipe((0,It.U)(e=>{for(const t of e)if(!0!==t){if(t===Cy)return Cy;if(!1===t||t instanceof Uh)return t}return!0}),ir(e=>e!==Cy),ki(1)))}function Jx(n){return(0,RR.z)((0,dr.b)(e=>{if(Zf(e))throw Bx(0,e)}),(0,It.U)(e=>!0===e))}const Iy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qw(n,e,t,i,r){const a=Ty(n,e,t);return a.matched?function zw(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?bt(r.map(c=>{const g=gg(c,n);return Kc(function Gh(n){return n&&mg(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(r_(),Jx()):bt(!0)}(i=Ux(e,i),e,t).pipe((0,It.U)(c=>!0===c?a:{...Iy})):bt(a)}function Ty(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Iy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||PR)(t,n,e);if(!r)return{...Iy};const a={};Io(r.posParams,(g,y)=>{a[y]=g.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function s_(n,e,t,i,r="corrected"){if(t.length>0&&function Sy(n,e,t){return t.some(i=>xy(n,e,i)&&ic(i)!==On)}(n,t,i)){const c=new Bn(e,function Ey(n,e,t,i){const r={};r[On]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&ic(a)!==On){const c=new Bn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[ic(a)]=c}return r}(n,e,i,new Bn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function RI(n,e,t){return t.some(i=>xy(n,e,i))}(n,t,i)){const c=new Bn(n.segments,function MI(n,e,t,i,r,a){const c={};for(const g of i)if(xy(n,t,g)&&!r[ic(g)]){const y=new Bn([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[ic(g)]=y}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new Bn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function xy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Zw(n,e,t,i){return!!(ic(n)===i||i!==On&&xy(e,t,n))&&("**"===n.path||Ty(e,n,t).matched)}function Yw(n,e,t){return 0===e.length&&!n.children[t]}const Ay=!1;class Ny{constructor(e){this.segmentGroup=e||null}}class Xx{constructor(e){this.urlTree=e}}function Oy(n){return qm(new Ny(n))}function Kw(n){return qm(new Xx(n))}class jR{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=s_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,On).pipe((0,It.U)(a=>this.createUrlTree(oo(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vh(a=>{if(a instanceof Xx)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ny?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,On).pipe((0,It.U)(r=>this.createUrlTree(oo(r),e.queryParams,e.fragment))).pipe(Vh(r=>{throw r instanceof Ny?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,Ay)}createUrlTree(e,t,i){const r=dy(e);return new Uh(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,It.U)(a=>new Bn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Wn.D)(r).pipe(Hf(a=>{const c=i.children[a],g=au(t,a);return this.expandSegmentGroup(e,g,c,a).pipe((0,It.U)(y=>({segment:y,outlet:a})))}),Ym((a,c)=>(a[c.outlet]=c.segment,a),{}),Cw())}expandSegment(e,t,i,r,a,c){return(0,Wn.D)(i).pipe(Hf(g=>this.expandSegmentAgainstRoute(e,t,i,g,r,a,c).pipe(Vh(C=>{if(C instanceof Ny)return bt(null);throw C}))),Bd(g=>!!g),Vh((g,y)=>{if(rc(g))return Yw(t,r,a)?bt(new Bn([],{})):Oy(t);throw g}))}expandSegmentAgainstRoute(e,t,i,r,a,c,g){return Zw(r,t,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c):Oy(t):Oy(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Kw(a):this.lineralizeSegments(i,a).pipe((0,lr.z)(c=>{const g=new Bn(c,{});return this.expandSegment(e,g,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){const{matched:g,consumedSegments:y,remainingSegments:C,positionalParamSegments:A}=Ty(t,r,a);if(!g)return Oy(t);const R=this.applyRedirectCommands(y,r.redirectTo,A);return r.redirectTo.startsWith("/")?Kw(R):this.lineralizeSegments(r,R).pipe((0,lr.z)(H=>this.expandSegment(e,t,i,H.concat(C),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=Ux(i,e),i.loadChildren?(i._loadedRoutes?bt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,It.U)(g=>(i._loadedRoutes=g.routes,i._loadedInjector=g.injector,new Bn(r,{})))):bt(new Bn(r,{}))):qw(t,i,r,e).pipe(qn(({matched:c,consumedSegments:g,remainingSegments:y})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,lr.z)(A=>{const R=A.injector??e,H=A.routes,{segmentGroup:Z,slicedSegments:ue}=s_(t,g,y,H),_e=new Bn(Z.segments,Z.children);if(0===ue.length&&_e.hasChildren())return this.expandChildren(R,H,_e).pipe((0,It.U)(vt=>new Bn(g,vt)));if(0===H.length&&0===ue.length)return bt(new Bn(g,{}));const De=ic(i)===a;return this.expandSegment(R,_e,H,ue,De?On:a,!0).pipe((0,It.U)(ut=>new Bn(g.concat(ut.segments),ut.children)))})):Oy(t)))}getChildConfig(e,t,i){return t.children?bt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bt({routes:t._loadedRoutes,injector:t._loadedInjector}):function OI(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?bt(!0):bt(r.map(c=>{const g=gg(c,n);return Kc(function jx(n){return n&&mg(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(r_(),Jx())}(e,t,i).pipe((0,lr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,dr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function tA(n){return qm(vy(Ay,3))}())):bt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[On])return qm(new u.vHH(4e3,Ay));r=r.children[On]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Uh(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Io(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const g=r.substring(1);i[a]=t[g]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let c={};return Io(t.children,(g,y)=>{c[y]=this.createSegmentGroup(e,g,i,r)}),new Bn(a,c)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,Ay);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class zR{}class My{constructor(e,t,i,r,a,c,g,y){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const e=s_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,On).pipe((0,It.U)(t=>{if(null===t)return null;const i=new Fw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Jc(i,t),a=new Fx(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=kx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Wn.D)(Object.keys(i.children)).pipe(Hf(r=>{const a=i.children[r],c=au(t,r);return this.processSegmentGroup(e,c,a,r)}),Ym((r,a)=>r&&a?(r.push(...a),r):null),function zC(n,e=!1){return(0,ar.e)((t,i)=>{let r=0;t.subscribe((0,ri.x)(i,a=>{const c=n(a,r++);(c||e)&&i.next(a),!c&&i.complete()}))})}(r=>null!==r),Zm(null),Cw(),(0,It.U)(r=>{if(null===r)return null;const a=Hh(r);return function rA(n){n.sort((e,t)=>e.value.outlet===On?-1:t.value.outlet===On?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,Wn.D)(t).pipe(Hf(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,a)),Bd(c=>!!c),Vh(c=>{if(rc(c))return Yw(i,r,a)?bt([]):bt(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!Zw(t,i,r,a))return bt(null);let c;if("**"===t.path){const g=r.length>0?QC(r).parameters:{},y=Py(i)+r.length;c=bt({snapshot:new Fw(r,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ky(t),ic(t),t.component??t._loadedComponent??null,t,Ry(i),y,Fy(t),y),consumedSegments:[],remainingSegments:[]})}else c=qw(i,t,r,e).pipe((0,It.U)(({matched:g,consumedSegments:y,remainingSegments:C,parameters:A})=>{if(!g)return null;const R=Py(i)+y.length;return{snapshot:new Fw(y,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ky(t),ic(t),t.component??t._loadedComponent??null,t,Ry(i),R,Fy(t),R),consumedSegments:y,remainingSegments:C}}));return c.pipe(qn(g=>{if(null===g)return bt(null);const{snapshot:y,consumedSegments:C,remainingSegments:A}=g;e=t._injector??e;const R=t._loadedInjector??e,H=function sA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:ue}=s_(i,C,A,H.filter(De=>void 0===De.redirectTo),this.relativeLinkResolution);if(0===ue.length&&Z.hasChildren())return this.processChildren(R,H,Z).pipe((0,It.U)(De=>null===De?null:[new Jc(y,De)]));if(0===H.length&&0===ue.length)return bt([new Jc(y,[])]);const _e=ic(t)===a;return this.processSegment(R,H,Z,ue,_e?On:a).pipe((0,It.U)(De=>null===De?null:[new Jc(y,De)]))}))}}function PI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hh(n){const e=[],t=new Set;for(const i of n){if(!PI(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Hh(i.children);e.push(new Jc(i.value,r))}return e.filter(i=>!t.has(i))}function Ry(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Py(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ky(n){return n.data||{}}function Fy(n){return n.resolve||{}}function BI(n){return"string"==typeof n.title||null===n.title}function Jw(n){return qn(e=>{const t=n(e);return t?(0,Wn.D)(t).pipe((0,It.U)(()=>e)):bt(e)})}let VI=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===On);return i}getResolvedTitleForRoute(t){return t.data[sg]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(UI)},providedIn:"root"}),n})(),UI=(()=>{class n extends VI{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oa))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $I{}class aA extends class GI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const o_=new u.OlP("",{providedIn:"root",factory:()=>({})}),HI=new u.OlP("ROUTES");let Vy=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Kc(t.loadComponent()).pipe((0,dr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),iy(()=>{this.componentLoaders.delete(t)})),r=new ww(i,()=>new zn.x).pipe(bw());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return bt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,It.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(i);let y,C,A=!1;Array.isArray(g)?C=g:(y=g.create(t).injector,C=KC(y.get(HI,[],u.XFs.Self|u.XFs.Optional)));return{routes:C.map(wy),injector:y}}),iy(()=>{this.childrenLoaders.delete(i)})),c=new ww(a,()=>new zn.x).pipe(bw());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return Kc(t()).pipe((0,lr.z)(i=>i instanceof u.YKP||Array.isArray(i)?bt(i):(0,Wn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xw{}class uA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function JR(n){throw n}function XR(n,e,t){return e.parse("/")}const cA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fA(){const n=(0,u.f3M)(wx),e=(0,u.f3M)(yy),t=(0,u.f3M)(He),i=(0,u.f3M)(u.zs3),r=(0,u.f3M)(u.Sil),a=(0,u.f3M)(HI,{optional:!0})??[],c=(0,u.f3M)(o_,{optional:!0})??{},g=(0,u.f3M)(UI),y=(0,u.f3M)(VI,{optional:!0}),C=(0,u.f3M)(Xw,{optional:!0}),A=(0,u.f3M)($I,{optional:!0}),R=new Us(null,n,e,t,i,r,KC(a));return C&&(R.urlHandlingStrategy=C),A&&(R.routeReuseStrategy=A),R.titleStrategy=y??g,function hA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,R),R}let Us=(()=>{class n{constructor(t,i,r,a,c,g,y){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zn.x,this.errorHandler=JR,this.malformedUriErrorHandler=XR,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>bt(void 0),this.urlHandlingStrategy=new uA,this.routeReuseStrategy=new aA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Vy),this.configLoader.onLoadEndListener=H=>this.triggerEvent(new Nx(H)),this.configLoader.onLoadStartListener=H=>this.triggerEvent(new pI(H)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const R=c.get(u.R0b);this.isNgZoneEnabled=R instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function vx(){return new Uh(new Bn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Px(this.currentUrlTree,this.rootComponentType),this.transitions=new Zn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(ir(r=>0!==r.id),(0,It.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),qn(r=>{let a=!1,c=!1;return bt(r).pipe((0,dr.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qn(g=>{const y=this.browserUrlTree.toString(),C=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return pA(g.source)&&(this.browserUrlTree=g.extractedUrl),bt(g).pipe(qn(R=>{const H=this.transitions.getValue();return i.next(new t_(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),H!==this.transitions.getValue()?Pi.E:Promise.resolve(R)}),function WR(n,e,t,i){return qn(r=>function nA(n,e,t,i,r){return new jR(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,It.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,dr.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},r.urlAfterRedirects=R.urlAfterRedirects}),function Ly(n,e,t,i,r,a){return(0,lr.z)(c=>function iA(n,e,t,i,r,a,c="emptyOnly",g="legacy"){return new My(n,e,t,i,r,c,g,a).recognize().pipe(qn(y=>null===y?function qR(n){return new Ai.y(e=>e.error(n))}(new zR):bt(y)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,a).pipe((0,It.U)(g=>({...c,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,dr.b)(R=>{if(r.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const Z=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(Z,R)}this.browserUrlTree=R.urlAfterRedirects}const H=new LR(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);i.next(H)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:Z,source:ue,restoredState:_e,extras:De}=g,ot=new t_(H,this.serializeUrl(Z),ue,_e);i.next(ot);const ut=Px(Z,this.rootComponentType).snapshot;return bt(r={...g,targetSnapshot:ut,urlAfterRedirects:Z,extras:{...De,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),Pi.E}),(0,dr.b)(g=>{const y=new Sx(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,It.U)(g=>r={...g,guards:Hw(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function qx(n,e){return(0,lr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?bt({...t,guardsResult:!0}):function Zx(n,e,t,i){return(0,Wn.D)(n).pipe((0,lr.z)(r=>function Qx(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?bt(a.map(g=>{const y=n_(e)??r,C=gg(g,y);return Kc(function jw(n){return n&&mg(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,i):y.runInContext(()=>C(n,e,t,i))).pipe(Bd())})).pipe(r_()):bt(!0)}(r.component,r.route,t,e,i)),Bd(r=>!0!==r,!0))}(c,i,r,n).pipe((0,lr.z)(g=>g&&function SI(n){return"boolean"==typeof n}(g)?function Yx(n,e,t,i){return(0,Wn.D)(e).pipe(Hf(r=>ih(function AI(n,e){return null!==n&&e&&e(new gI(n)),bt(!0)}(r.route.parent,i),function Kx(n,e){return null!==n&&e&&e(new Ox(n)),bt(!0)}(r.route,i),function NI(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Hx(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>gx(()=>bt(c.guards.map(y=>{const C=n_(c.node)??t,A=gg(y,C);return Kc(function Wx(n){return n&&mg(n.canActivateChild)}(A)?A.canActivateChild(i,n):C.runInContext(()=>A(i,n))).pipe(Bd())})).pipe(r_())));return bt(a).pipe(r_())}(n,r.path,t),function HR(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(a=>gx(()=>{const c=n_(e)??t,g=gg(a,c);return Kc(function xI(n){return n&&mg(n.canActivate)}(g)?g.canActivate(e,n):c.runInContext(()=>g(e,n))).pipe(Bd())}));return bt(r).pipe(r_())}(n,r.route,t))),Bd(r=>!0!==r,!0))}(i,a,n,e):bt(g)),(0,It.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,dr.b)(g=>{if(r.guardsResult=g.guardsResult,Zf(g.guardsResult))throw Bx(0,g.guardsResult);const y=new xx(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),ir(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Jw(g=>{if(g.guards.canActivateChecks.length)return bt(g).pipe((0,dr.b)(y=>{const C=new Ax(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}),qn(y=>{let C=!1;return bt(y).pipe(function ZR(n,e){return(0,lr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return bt(t);let a=0;return(0,Wn.D)(r).pipe(Hf(c=>function YR(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!BI(r)&&(a[sg]=r.title),function KR(n,e,t,i){const r=function QR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return bt({});const a={};return(0,Wn.D)(r).pipe((0,lr.z)(c=>function LI(n,e,t,i){const r=n_(e)??i,a=gg(n,r);return Kc(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[c],e,t,i).pipe(Bd(),(0,dr.b)(g=>{a[c]=g}))),jf(1),ka(a),Vh(c=>rc(c)?Pi.E:qm(c)))}(a,n,e,i).pipe((0,It.U)(c=>(n._resolvedData=c,n.data=kx(n,t).resolve,r&&BI(r)&&(n.data[sg]=r.title),null)))}(c.route,i,n,e)),(0,dr.b)(()=>a++),jf(1),(0,lr.z)(c=>a===r.length?bt(t):Pi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,dr.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,dr.b)(y=>{const C=new fI(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}))}),Jw(g=>{const y=C=>{const A=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,dr.b)(R=>{C.component=R}),(0,It.U)(()=>{})));for(const R of C.children)A.push(...y(R));return A};return th(y(g.targetSnapshot.root)).pipe(Zm(),ki(1))}),Jw(()=>this.afterPreactivation()),(0,It.U)(g=>{const y=function VR(n,e,t){const i=pg(n,e._root,t?t._root:void 0);return new _I(i,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return r={...g,targetRouterState:y}}),(0,dr.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(i=>(new Gx(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,dr.b)({next(){a=!0},complete(){a=!0}}),iy(()=>{a||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Vh(g=>{if(c=!0,DI(g)){Lw(g)||(this.navigated=!0,this.restoreHistory(r,!0));const y=new fy(r.id,this.serializeUrl(r.extractedUrl),g.message,g.cancellationCode);if(i.next(y),Lw(g)){const C=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),A={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pA(r.source)};this.scheduleNavigation(C,"imperative",null,A,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const y=new Rw(r.id,this.serializeUrl(r.extractedUrl),g,r.targetSnapshot??void 0);i.next(y);try{r.resolve(this.errorHandler(g))}catch(C){r.reject(C)}}return Pi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const g={...a};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(r.state=g)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(wy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:g,preserveFragment:y}=i,C=r||this.routerState.root,A=y?this.currentUrlTree.fragment:c;let R=null;switch(g){case"merge":R={...this.currentUrlTree.queryParams,...a};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=a||null}return null!==R&&(R=this.removeEmptyProps(R)),uI(C,this.currentUrlTree,t,R,A??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Zf(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function eP(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...cA}:!1===i?{...dA}:i,Zf(t))return JC(this.currentUrlTree,t,r);const a=this.parseUrl(t);return JC(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Qc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,c){if(this.disposed)return Promise.resolve(!1);let g,y,C;c?(g=c.resolve,y=c.reject,C=c.promise):C=new Promise((H,Z)=>{g=H,y=Z});const A=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),R=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:A,targetPageId:R,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:g,reject:y,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(H=>Promise.reject(H))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new fy(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return fA()},providedIn:"root"}),n})();function pA(n){return"imperative"!==n}class gA{}let rP=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ir(t=>t instanceof Qc),Hf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,g=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(g,a.children??a._loadedRoutes))}return(0,Wn.D)(r).pipe((0,nh.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):bt(null);const a=r.pipe((0,lr.z)(c=>null===c?bt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,Wn.D)([a,c]).pipe((0,nh.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Us),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(gA),u.LFG(Vy))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s=new u.OlP("");let o=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof t_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Pw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function _(n,e){return{\u0275kind:n,\u0275providers:e}}function D(n){return[{provide:HI,multi:!0,useValue:n}]}function E(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(Us),r=n.get(O);1===n.get(L)&&i.initialNavigation(),n.get($e,null,u.XFs.Optional)?.setUpPreloading(),n.get(s,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const O=new u.OlP("",{factory:()=>new zn.x}),L=new u.OlP("",{providedIn:"root",factory:()=>1});const $e=new u.OlP("");function dt(n){return _(0,[{provide:$e,useExisting:rP},{provide:gA,useExisting:n}])}const Ke=new u.OlP("ROUTER_FORROOT_GUARD"),nn=[He,{provide:wx,useClass:Qm},{provide:Us,useFactory:fA},yy,{provide:hg,useFactory:function f(n){return n.routerState.root},deps:[Us]},Vy];function bi(){return new u.PXZ("Router",Us)}let br=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[nn,[],D(t),{provide:Ke,useFactory:i1,deps:[[Us,new u.FiY,new u.tp0]]},{provide:o_,useValue:i||{}},i?.useHash?{provide:Oe,useClass:St}:{provide:Oe,useClass:at},{provide:s,useFactory:()=>{const n=(0,u.f3M)(Us),e=(0,u.f3M)(Nl),t=(0,u.f3M)(o_);return t.scrollOffset&&e.setOffset(t.scrollOffset),new o(n,e,t)}},i?.preloadingStrategy?dt(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:bi},i?.initialNavigation?r1(i):[],[{provide:$y,useFactory:E},{provide:u.tb,multi:!0,useExisting:$y}]]}}static forChild(t){return{ngModule:n,providers:[D(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ke,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Uw]}),n})();function i1(n){return"guarded"}function r1(n){return["disabled"===n.initialNavigation?_(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Us);return()=>{e.setUpLocationChangeListener()}}},{provide:L,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?_(2,[{provide:L,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(J,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(Us),g=e.get(O);(function r(a){e.get(Us).events.pipe(ir(g=>g instanceof Qc||g instanceof fy||g instanceof Rw),(0,It.U)(g=>g instanceof Qc||g instanceof fy&&(0===g.code||1===g.code)&&null),ir(g=>null!==g),ki(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),c.afterPreactivation=()=>(a(!0),i||g.closed?bt(void 0):g),c.initialNavigation()}))}}]).\u0275providers:[]]}const $y=new u.OlP("");var Zo=j(7489),Be=j(5861);const Gy_imgSrc="https://cdn.jsdelivr.net/gh/phantomodm/nystixCDN@2.0/depository/";var Kr=j(5813);function mA(){return(0,ar.e)((n,e)=>{let t,i=!1;n.subscribe((0,ri.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}var zt,bl=j(2011),sP=(j(2476),j(3942)),$d=j(9681),Hy=j(4859),_g=j(1877),Mn=j(2090),TV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xf={},_A=_A||{},yn=TV||self;function zI(){}function qI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function o1(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vA="closure_uid_"+(1e9*Math.random()>>>0),SV=0;function xV(n,e,t){return n.call.apply(n.bind,arguments)}function AV(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ja(n,e,t){return(ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xV:AV).apply(null,arguments)}function ZI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function _a(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[r].apply(i,c)}}function vg(){this.s=this.s,this.o=this.o}var OV={};vg.prototype.s=!1,vg.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function EV(n){return Object.prototype.hasOwnProperty.call(n,vA)&&n[vA]||(n[vA]=++SV)}(this);delete OV[n]}},vg.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function yA(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function aP(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(qI(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let c=0;c<a;c++)n[r+c]=i[c]}else n.push(i)}}function Wa(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Wa.prototype.h=function(){this.defaultPrevented=!0};var MV=function(){if(!yn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yn.addEventListener("test",zI,e),yn.removeEventListener("test",zI,e)}catch{}return n}();function YI(n){return/^[\s\xa0]*$/.test(n)}var lP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bA(n,e){return n<e?-1:n>e?1:0}function KI(){var n=yn.navigator;return n&&(n=n.userAgent)?n:""}function jh(n){return-1!=KI().indexOf(n)}function wA(n){return wA[" "](n),n}wA[" "]=zI;var QI,n,PV=jh("Opera"),jy=jh("Trident")||jh("MSIE"),uP=jh("Edge"),DA=uP||jy,cP=jh("Gecko")&&!(-1!=KI().toLowerCase().indexOf("webkit")&&!jh("Edge"))&&!(jh("Trident")||jh("MSIE"))&&!jh("Edge"),kV=-1!=KI().toLowerCase().indexOf("webkit")&&!jh("Edge");function dP(){var n=yn.document;return n?n.documentMode:void 0}e:{var CA="",IA=(n=KI(),cP?/rv:([^\);]+)(\)|;)/.exec(n):uP?/Edge\/([\d\.]+)/.exec(n):jy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kV?/WebKit\/(\S+)/.exec(n):PV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(IA&&(CA=IA?IA[1]:""),jy){var TA=dP();if(null!=TA&&TA>parseFloat(CA)){QI=String(TA);break e}}QI=CA}var FV={};var BV=yn.document&&jy&&(dP()||parseInt(QI,10))||void 0;function a1(n,e){if(Wa.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(cP){e:{try{wA(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VV[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&a1.X.h.call(this)}}_a(a1,Wa);var VV={2:"touch",3:"pen",4:"mouse"};a1.prototype.h=function(){a1.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var l1="closure_listenable_"+(1e6*Math.random()|0),UV=0;function $V(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++UV,this.ba=this.ea=!1}function JI(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function SA(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function fP(n){const e={};for(const t in n)e[t]=n[t];return e}const pP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gP(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<pP.length;a++)t=pP[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function XI(n){this.src=n,this.g={},this.h=0}function xA(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=oP(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(JI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function AA(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}XI.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=AA(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new $V(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var NA="closure_lm_"+(1e6*Math.random()|0),OA={};function mP(n,e,t,i,r){if(i&&i.once)return vP(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)mP(n,e[a],t,i,r);return null}return t=kA(t),n&&n[l1]?n.N(e,t,o1(i)?!!i.capture:!!i,r):_P(n,e,t,!1,i,r)}function _P(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var c=o1(r)?!!r.capture:!!r,g=RA(n);if(g||(n[NA]=g=new XI(n)),(t=g.add(e,t,i,c,a)).proxy)return t;if(i=function GV(){const e=HV;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)MV||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(bP(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function vP(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)vP(n,e[a],t,i,r);return null}return t=kA(t),n&&n[l1]?n.O(e,t,o1(i)?!!i.capture:!!i,r):_P(n,e,t,!0,i,r)}function yP(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)yP(n,e[a],t,i,r);else i=o1(i)?!!i.capture:!!i,t=kA(t),n&&n[l1]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=AA(a=n.g[e],t,i,r))&&(JI(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=RA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=AA(e,t,i,r)),(t=-1<n?e[n]:null)&&MA(t))}function MA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[l1])xA(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(bP(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=RA(e))?(xA(t,n),0==t.h&&(t.src=null,e[NA]=null)):JI(n)}}}function bP(n){return n in OA?OA[n]:OA[n]="on"+n}function HV(n,e){if(n.ba)n=!0;else{e=new a1(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&MA(n),n=t.call(i,e)}return n}function RA(n){return(n=n[NA])instanceof XI?n:null}var PA="__closure_events_fn_"+(1e9*Math.random()>>>0);function kA(n){return"function"==typeof n?n:(n[PA]||(n[PA]=function(e){return n.handleEvent(e)}),n[PA])}function Yo(){vg.call(this),this.i=new XI(this),this.P=this,this.I=null}function va(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Wa(e,n);else if(e instanceof Wa)e.target=e.target||n;else{var r=e;gP(e=new Wa(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];r=eT(c,i,!0,e)&&r}if(r=eT(c=e.g=n,i,!0,e)&&r,r=eT(c,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=eT(c=e.g=t[a],i,!1,e)&&r}function eT(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var g=c.listener,y=c.ha||c.src;c.ea&&xA(n.i,c),r=!1!==g.call(y,i)&&r}}return r&&!i.defaultPrevented}_a(Yo,vg),Yo.prototype[l1]=!0,Yo.prototype.removeEventListener=function(n,e,t,i){yP(this,n,e,t,i)},Yo.prototype.M=function(){if(Yo.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)JI(t[i]);delete n.g[e],n.h--}}this.I=null},Yo.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Yo.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var FA=yn.JSON.stringify;function jV(){var n=CP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LA,wP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zV,n=>n.reset());class zV{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qV(n){yn.setTimeout(()=>{throw n},0)}function DP(n,e){LA||function ZV(){var n=yn.Promise.resolve(void 0);LA=function(){n.then(YV)}}(),BA||(LA(),BA=!0),CP.add(n,e)}var BA=!1,CP=new class WV{constructor(){this.h=this.g=null}add(e,t){const i=wP.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function YV(){for(var n;n=jV();){try{n.h.call(n.g)}catch(t){qV(t)}var e=wP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}BA=!1}function tT(n,e){Yo.call(this),this.h=n||1,this.g=e||yn,this.j=ja(this.kb,this),this.l=Date.now()}function VA(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function UA(n,e,t){if("function"==typeof n)t&&(n=ja(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ja(n.handleEvent,n)}return 2147483647<Number(e)?-1:yn.setTimeout(n,e||0)}function IP(n){n.g=UA(()=>{n.g=null,n.i&&(n.i=!1,IP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}_a(tT,Yo),(zt=tT.prototype).ca=!1,zt.R=null,zt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),va(this,"tick"),this.ca&&(VA(this),this.start()))}},zt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zt.M=function(){tT.X.M.call(this),VA(this),delete this.g};class KV extends vg{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IP(this)}M(){super.M(),this.g&&(yn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function u1(n){vg.call(this),this.h=n,this.g={}}_a(u1,vg);var TP=[];function EP(n,e,t,i){Array.isArray(t)||(t&&(TP[0]=t.toString()),t=TP);for(var r=0;r<t.length;r++){var a=mP(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function SP(n){SA(n.g,function(e,t){this.g.hasOwnProperty(t)&&MA(e)},n),n.g={}}function nT(){this.g=!0}function Wy(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function eU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return FA(t)}catch{return e}}(n,t)+(i?" "+i:"")})}u1.prototype.M=function(){u1.X.M.call(this),SP(this)},u1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nT.prototype.Aa=function(){this.g=!1},nT.prototype.info=function(){};var a_={},xP=null;function iT(){return xP=xP||new Yo}function AP(n){Wa.call(this,a_.Oa,n)}function c1(n){const e=iT();va(e,new AP(e,n))}function NP(n,e){Wa.call(this,a_.STAT_EVENT,n),this.stat=e}function wl(n){const e=iT();va(e,new NP(e,n))}function OP(n,e){Wa.call(this,a_.Pa,n),this.size=e}function d1(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yn.setTimeout(function(){n()},e)}a_.Oa="serverreachability",_a(AP,Wa),a_.STAT_EVENT="statevent",_a(NP,Wa),a_.Pa="timingevent",_a(OP,Wa);var rT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},MP={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $A(){}function PP(){}$A.prototype.h=null;var jA,h1={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function GA(){Wa.call(this,"d")}function HA(){Wa.call(this,"c")}function sT(){}function f1(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new u1(this),this.O=tU,this.T=new tT(n=DA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kP}function kP(){this.i=null,this.g="",this.h=!1}_a(GA,Wa),_a(HA,Wa),_a(sT,$A),sT.prototype.g=function(){return new XMLHttpRequest},sT.prototype.i=function(){return{}},jA=new sT;var tU=45e3,WA={},oT={};function zA(n,e,t){n.K=1,n.v=cT(ep(e)),n.s=t,n.P=!0,FP(n,null)}function FP(n,e){n.F=Date.now(),p1(n),n.A=ep(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),zP(t.i,"t",i),n.C=0,t=n.l.H,n.h=new kP,n.g=mk(n.l,t?e:null,!n.s),0<n.N&&(n.L=new KV(ja(n.Ka,n,n.g),n.N)),EP(n.S,n.g,"readystatechange",n.hb),e=n.H?fP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),c1(1),function QV(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var c="",g=a.split("&"),y=0;y<g.length;y++){var C=g[y].split("=");if(1<C.length){var A=C[0];C=C[1];var R=A.split("_");c=2<=R.length&&"type"==R[1]?c+(A+"=")+C+"&":c+(A+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function LP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function BP(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=nU(n,t),r==oT){4==e&&(n.o=4,wl(14),i=!1),Wy(n.j,n.m,null,"[Incomplete Response]");break}if(r==WA){n.o=4,wl(15),Wy(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Wy(n.j,n.m,r,null),qA(n,r)}LP(n)&&r!=oT&&r!=WA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,wl(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),tN(e),e.K=!0,wl(11))):(Wy(n.j,n.m,t,"[Invalid Chunked Response]"),l_(n),g1(n))}function nU(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?oT:(t=Number(e.substring(t,i)),isNaN(t)?WA:(i+=1)+t>e.length?oT:(e=e.substr(i,t),n.C=i+t,e))}function p1(n){n.V=Date.now()+n.O,VP(n,n.O)}function VP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=d1(ja(n.fb,n),e)}function aT(n){n.B&&(yn.clearTimeout(n.B),n.B=null)}function g1(n){0==n.l.G||n.I||hk(n.l,n)}function l_(n){aT(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,VA(n.T),SP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ZA(t.h,n)))if(!n.J&&ZA(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;mT(t),pT(t)}eN(t),wl(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=d1(ja(t.bb,t),6e3));if(1>=YP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else c_(t,11)}else if((n.J||t.g==n)&&mT(t),!YI(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let C=r[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const A=C[3];null!=A&&(t.ma=A,t.j.info("VER="+t.ma));const R=C[4];null!=R&&(t.Ca=R,t.j.info("SVER="+t.Ca));const H=C[5];null!=H&&"number"==typeof H&&0<H&&(t.J=i=1.5*H,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const Z=n.g;if(Z){const ue=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var a=i.h;a.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(YA(a,a.h),a.h=null))}if(i.D){const _e=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;_e&&(i.za=_e,Qr(i.F,i.D,_e))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=gk(i,i.H?i.ka:null,i.V),c.J){KP(i.h,c);var g=c,y=i.J;y&&g.setTimeout(y),g.B&&(aT(g),p1(g)),i.g=c}else ck(i);0<t.i.length&&gT(t)}else"stop"!=C[0]&&"close"!=C[0]||c_(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?c_(t,7):XA(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}c1(4)}catch{}}function UP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qI(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function rU(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qI(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function iU(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qI(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(zt=f1.prototype).setTimeout=function(n){this.O=n},zt.hb=function(n){n=n.target;const e=this.L;e&&3==tp(n)?e.l():this.Ka(n)},zt.Ka=function(n){try{if(n==this.g)e:{const A=tp(this.g);var e=this.g.Ea();const R=this.g.aa();if(!(3>A)&&(3!=A||DA||this.g&&(this.h.h||this.g.fa()||rk(this.g)))){this.I||4!=A||7==e||c1(8==e||0>=R?3:2),aT(this);var t=this.g.aa();this.Y=t;t:if(LP(this)){var i=rk(this.g);n="";var r=i.length,a=4==tp(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){l_(this),g1(this);var c="";break t}this.h.i=new yn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function JV(n,e,t,i,r,a,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,A,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!YI(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,wl(12),l_(this),g1(this);break e}Wy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qA(this,t)}this.P?(BP(this,A,c),DA&&this.i&&3==A&&(EP(this.S,this.T,"tick",this.gb),this.T.start())):(Wy(this.j,this.m,c,null),qA(this,c)),4==A&&l_(this),this.i&&!this.I&&(4==A?hk(this.l,this):(this.i=!1,p1(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,wl(12)):(this.o=0,wl(13)),l_(this),g1(this)}}}catch{}},zt.gb=function(){if(this.g){var n=tp(this.g),e=this.g.fa();this.C<e.length&&(aT(this),BP(this,n,e),this.i&&4!=n&&p1(this))}},zt.cancel=function(){this.I=!0,l_(this)},zt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function XV(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(c1(3),wl(17)),l_(this),this.o=2,g1(this)):VP(this,this.V-n)};var $P=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u_(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof u_){this.h=void 0!==e?e:n.h,lT(this,n.j),this.s=n.s,this.g=n.g,uT(this,n.m),this.l=n.l,e=n.i;var t=new v1;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),GP(this,t),this.o=n.o}else n&&(t=String(n).match($P))?(this.h=!!e,lT(this,t[1]||"",!0),this.s=m1(t[2]||""),this.g=m1(t[3]||"",!0),uT(this,t[4]),this.l=m1(t[5]||"",!0),GP(this,t[6]||"",!0),this.o=m1(t[7]||"")):(this.h=!!e,this.i=new v1(null,this.h))}function ep(n){return new u_(n)}function lT(n,e,t){n.j=t?m1(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function uT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function GP(n,e,t){e instanceof v1?(n.i=e,function dU(n,e){e&&!n.j&&(yg(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(jP(this,i),zP(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=_1(e,uU)),n.i=new v1(e,n.h))}function Qr(n,e,t){n.i.set(e,t)}function cT(n){return Qr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function m1(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _1(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,oU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function oU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}u_.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_1(e,HP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_1(e,HP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(_1(t,"/"==t.charAt(0)?lU:aU,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_1(t,cU)),n.join("")};var HP=/[#\/\?@]/g,aU=/[#\?:]/g,lU=/[#\?]/g,uU=/[#\?@]/g,cU=/#/g;function v1(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function yg(n){n.g||(n.g=new Map,n.h=0,n.i&&function sU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jP(n,e){yg(n),e=zy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function WP(n,e){return yg(n),e=zy(n,e),n.g.has(e)}function zP(n,e,t){jP(n,e),0<t.length&&(n.i=null,n.g.set(zy(n,e),yA(t)),n.h+=t.length)}function zy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qP(n){this.l=n||fU,n=yn.PerformanceNavigationTiming?0<(n=yn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yn.g&&yn.g.Ga&&yn.g.Ga()&&yn.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(zt=v1.prototype).add=function(n,e){yg(this),this.i=null,n=zy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},zt.forEach=function(n,e){yg(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},zt.oa=function(){yg(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},zt.W=function(n){yg(this);let e=[];if("string"==typeof n)WP(this,n)&&(e=e.concat(this.g.get(zy(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},zt.set=function(n,e){return yg(this),this.i=null,WP(this,n=zy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},zt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=a;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var fU=10;function ZP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YP(n){return n.h?1:n.g?n.g.size:0}function ZA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function YA(n,e){n.g?n.g.add(e):n.h=e}function KP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yA(n.i)}function KA(){}function pU(){this.g=new KA}function gU(n,e,t){const i=t||"";try{UP(n,function(r,a){let c=r;o1(r)&&(c=FA(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function dT(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function y1(n){this.l=n.$b||null,this.j=n.ib||!1}function hT(n,e){Yo.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=QA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qP.prototype.cancel=function(){if(this.i=QP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},KA.prototype.stringify=function(n){return yn.JSON.stringify(n,void 0)},KA.prototype.parse=function(n){return yn.JSON.parse(n,void 0)},_a(y1,$A),y1.prototype.g=function(){return new hT(this.l,this.j)},y1.prototype.i=function(n){return function(){return n}}({}),_a(hT,Yo);var QA=0;function JP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function b1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,w1(n)}function w1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(zt=hT.prototype).open=function(n,e){if(this.readyState!=QA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,w1(this)},zt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||yn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,b1(this)),this.readyState=QA},zt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,w1(this)),this.g&&(this.readyState=3,w1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof yn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JP(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},zt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?b1(this):w1(this),3==this.readyState&&JP(this)}},zt.Ua=function(n){this.g&&(this.response=this.responseText=n,b1(this))},zt.Ta=function(n){this.g&&(this.response=n,b1(this))},zt.ga=function(){this.g&&b1(this)},zt.setRequestHeader=function(n,e){this.v.append(n,e)},zt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},zt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _U=yn.JSON.parse;function ao(n){Yo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XP,this.K=this.L=!1}_a(ao,Yo);var XP="",vU=/^https?$/i,yU=["POST","PUT"];function ek(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tk(n),fT(n)}function tk(n){n.D||(n.D=!0,va(n,"complete"),va(n,"error"))}function nk(n){if(n.h&&typeof _A<"u"&&(!n.C[1]||4!=tp(n)||2!=n.aa()))if(n.v&&4==tp(n))UA(n.Ha,0,n);else if(va(n,"readystatechange"),4==tp(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===g){var r=String(n.H).match($P)[1]||null;if(!r&&yn.self&&yn.self.location){var a=yn.self.location.protocol;r=a.substr(0,a.length-1)}i=!vU.test(r?r.toLowerCase():"")}t=i}if(t)va(n,"complete"),va(n,"success");else{n.m=6;try{var c=2<tp(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",tk(n)}}finally{fT(n)}}}function fT(n,e){if(n.g){ik(n);const t=n.g,i=n.C[0]?zI:null;n.g=null,n.C=null,e||va(n,"ready");try{t.onreadystatechange=i}catch{}}}function ik(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yn.clearTimeout(n.A),n.A=null)}function tp(n){return n.g?n.g.readyState:0}function rk(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case XP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sk(n){let e="";return SA(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function JA(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=sk(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qr(n,e,t))}function D1(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ok(n){this.Ca=0,this.i=[],this.j=new nT,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=D1("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=D1("baseRetryDelayMs",5e3,n),this.ab=D1("retryDelaySeedMs",1e4,n),this.Za=D1("forwardChannelMaxRetries",2,n),this.ta=D1("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new qP(n&&n.concurrentRequestLimit),this.Fa=new pU,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function XA(n){if(ak(n),3==n.G){var e=n.U++,t=ep(n.F);Qr(t,"SID",n.I),Qr(t,"RID",e),Qr(t,"TYPE","terminate"),C1(n,t),(e=new f1(n,n.j,e,void 0)).K=2,e.v=cT(ep(t)),t=!1,yn.navigator&&yn.navigator.sendBeacon&&(t=yn.navigator.sendBeacon(e.v.toString(),"")),!t&&yn.Image&&((new Image).src=e.v,t=!0),t||(e.g=mk(e.l,null),e.g.da(e.v)),e.F=Date.now(),p1(e)}pk(n)}function pT(n){n.g&&(tN(n),n.g.cancel(),n.g=null)}function ak(n){pT(n),n.u&&(yn.clearTimeout(n.u),n.u=null),mT(n),n.h.cancel(),n.m&&("number"==typeof n.m&&yn.clearTimeout(n.m),n.m=null)}function gT(n){ZP(n.h)||n.m||(n.m=!0,DP(n.Ja,n),n.C=0)}function lk(n,e){var t;t=e?e.m:n.U++;const i=ep(n.F);Qr(i,"SID",n.I),Qr(i,"RID",t),Qr(i,"AID",n.T),C1(n,i),n.o&&n.s&&JA(i,n.o,n.s),t=new f1(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=uk(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),YA(n.h,t),zA(t,i,e)}function C1(n,e){n.ia&&SA(n.ia,function(t,i){Qr(e,i,t)}),n.l&&UP({},function(t,i){Qr(e,i,t)})}function uk(n,e,t){t=Math.min(n.i.length,t);var i=n.l?ja(n.l.Qa,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=r[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let g=!0;for(let y=0;y<t;y++){let C=r[y].h;const A=r[y].g;if(C-=a,0>C)a=Math.max(0,r[y].h-100),g=!1;else try{gU(A,c,"req"+C+"_")}catch{i&&i(A)}}if(g){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function ck(n){n.g||n.u||(n.Z=1,DP(n.Ia,n),n.A=0)}function eN(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=d1(ja(n.Ia,n),fk(n,n.A)),n.A++,0))}function tN(n){null!=n.B&&(yn.clearTimeout(n.B),n.B=null)}function dk(n){n.g=new f1(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ep(n.sa);Qr(e,"RID","rpc"),Qr(e,"SID",n.I),Qr(e,"CI",n.L?"0":"1"),Qr(e,"AID",n.T),Qr(e,"TYPE","xmlhttp"),C1(n,e),n.o&&n.s&&JA(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=cT(ep(e)),t.s=null,t.P=!0,FP(t,n)}function mT(n){null!=n.v&&(yn.clearTimeout(n.v),n.v=null)}function hk(n,e){var t=null;if(n.g==e){mT(n),tN(n),n.g=null;var i=2}else{if(!ZA(n.h,e))return;t=e.D,KP(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;va(i=iT(),new OP(i,t,e,r)),gT(n)}else ck(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function wU(n,e){return!(YP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=d1(ja(n.Ja,n,e),fk(n,n.C)),n.C++,0)))}(n,e)||2==i&&eN(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:c_(n,5);break;case 4:c_(n,10);break;case 3:c_(n,6);break;default:c_(n,2)}}function fk(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function c_(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=ja(n.jb,n);t||(t=new u_("//www.google.com/images/cleardot.gif"),yn.location&&"http"==yn.location.protocol||lT(t,"https"),cT(t)),function mU(n,e){const t=new nT;if(yn.Image){const i=new Image;i.onload=ZI(dT,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ZI(dT,t,i,"TestLoadImage: error",!1,e),i.onabort=ZI(dT,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ZI(dT,t,i,"TestLoadImage: timeout",!1,e),yn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else wl(2);n.G=0,n.l&&n.l.va(e),pk(n),ak(n)}function pk(n){if(n.G=0,n.la=[],n.l){const e=QP(n.h);(0!=e.length||0!=n.i.length)&&(aP(n.la,e),aP(n.la,n.i),n.h.i.length=0,yA(n.i),n.i.length=0),n.l.ua()}}function gk(n,e,t){var i=t instanceof u_?ep(t):new u_(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),uT(i,i.m);else{var r=yn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new u_(null,void 0);i&&lT(a,i),e&&(a.g=e),r&&uT(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&Qr(i,t,e),Qr(i,"VER",n.ma),C1(n,i),i}function mk(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ao(t&&n.Da&&!n.ra?new y1({ib:!0}):n.ra)).L=n.H,e}function _k(){}function _T(){if(jy&&!(10<=Number(BV)))throw Error("Environmental error: no available transport.")}function sc(n,e){Yo.call(this),this.g=new ok(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!YI(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!YI(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qy(this)}function vk(n){GA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yk(){HA.call(this),this.status=1}function qy(n){this.g=n}(zt=ao.prototype).da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jA.g(),this.C=function RP(n){return n.h||(n.h=n.i())}(this.u?this.u:jA),this.g.onreadystatechange=ja(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void ek(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=yn.FormData&&n instanceof yn.FormData,!(0<=oP(yU,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ik(this),0<this.B&&((this.K=function bU(n){return jy&&function LV(){return function RV(n){var e=FV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=lP(String(QI)).split("."),t=lP("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",a=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=bA(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||bA(0==r[2].length,0==a[2].length)||bA(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ja(this.qa,this)):this.A=UA(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){ek(this,a)}},zt.qa=function(){typeof _A<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,va(this,"timeout"),this.abort(8))},zt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,va(this,"complete"),va(this,"abort"),fT(this))},zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fT(this,!0)),ao.X.M.call(this)},zt.Ha=function(){this.s||(this.F||this.v||this.l?nk(this):this.eb())},zt.eb=function(){nk(this)},zt.aa=function(){try{return 2<tp(this)?this.g.status:-1}catch{return-1}},zt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},zt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_U(e)}},zt.Ea=function(){return this.m},zt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(zt=ok.prototype).ma=8,zt.G=1,zt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new f1(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=fP(a),gP(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uk(this,r,e),Qr(t=ep(this.F),"RID",n),Qr(t,"CVER",22),this.D&&Qr(t,"X-HTTP-Session-Id",this.D),C1(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(sk(a)))+"&"+e:this.o&&JA(t,this.o,a)),YA(this.h,r),this.Xa&&Qr(t,"TYPE","init"),this.O?(Qr(t,"$req",e),Qr(t,"SID","null"),r.Z=!0,zA(r,t,null)):zA(r,t,e),this.G=2}}else 3==this.G&&(n?lk(this,n):0==this.i.length||ZP(this.h)||lk(this))},zt.Ia=function(){if(this.u=null,dk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=d1(ja(this.cb,this),n)}},zt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,wl(10),pT(this),dk(this))},zt.bb=function(){null!=this.v&&(this.v=null,pT(this),eN(this),wl(19))},zt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),wl(2)):(this.j.info("Failed to ping google.com"),wl(1))},(zt=_k.prototype).xa=function(){},zt.wa=function(){},zt.va=function(){},zt.ua=function(){},zt.Qa=function(){},_T.prototype.g=function(n,e){return new sc(n,e)},_a(sc,Yo),sc.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;wl(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=gk(n,null,n.V),gT(n)},sc.prototype.close=function(){XA(this.g)},sc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=FA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&gT(e)},sc.prototype.M=function(){this.g.l=null,delete this.j,XA(this.g),delete this.g,sc.X.M.call(this)},_a(vk,GA),_a(yk,HA),_a(qy,_k),qy.prototype.xa=function(){va(this.g,"a")},qy.prototype.wa=function(n){va(this.g,new vk(n))},qy.prototype.va=function(n){va(this.g,new yk(n))},qy.prototype.ua=function(){va(this.g,"b")},_T.prototype.createWebChannel=_T.prototype.g,sc.prototype.send=sc.prototype.u,sc.prototype.open=sc.prototype.m,sc.prototype.close=sc.prototype.close,rT.NO_ERROR=0,rT.TIMEOUT=8,rT.HTTP_ERROR=6,MP.COMPLETE="complete",PP.EventType=h1,h1.OPEN="a",h1.CLOSE="b",h1.ERROR="c",h1.MESSAGE="d",Yo.prototype.listen=Yo.prototype.N,ao.prototype.listenOnce=ao.prototype.O,ao.prototype.getLastError=ao.prototype.Na,ao.prototype.getLastErrorCode=ao.prototype.Ea,ao.prototype.getStatus=ao.prototype.aa,ao.prototype.getResponseJson=ao.prototype.Ra,ao.prototype.getResponseText=ao.prototype.fa,ao.prototype.send=ao.prototype.da;var DU=Xf.createWebChannelTransport=function(){return new _T},CU=Xf.getStatEventTarget=function(){return iT()},nN=Xf.ErrorCode=rT,IU=Xf.EventType=MP,TU=Xf.Event=a_,bk=Xf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},EU=Xf.FetchXmlHttpFactory=y1,vT=Xf.WebChannel=PP,SU=Xf.XhrIo=ao;const wk="@firebase/firestore";class Ko{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ko.UNAUTHENTICATED=new Ko(null),Ko.GOOGLE_CREDENTIALS=new Ko("google-credentials-uid"),Ko.FIRST_PARTY=new Ko("first-party-uid"),Ko.MOCK_USER=new Ko("mock-user");let Zy="9.10.0";const bg=new _g.Yd("@firebase/firestore");function iN(){return bg.logLevel}function lt(n,...e){if(bg.logLevel<=_g.in.DEBUG){const t=e.map(rN);bg.debug(`Firestore (${Zy}): ${n}`,...t)}}function $s(n,...e){if(bg.logLevel<=_g.in.ERROR){const t=e.map(rN);bg.error(`Firestore (${Zy}): ${n}`,...t)}}function d_(n,...e){if(bg.logLevel<=_g.in.WARN){const t=e.map(rN);bg.warn(`Firestore (${Zy}): ${n}`,...t)}}function rN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Bt(n="Unexpected state"){const e=`FIRESTORE (${Zy}) INTERNAL ASSERTION FAILED: `+n;throw $s(e),new Error(e)}function fn(n,e){n||Bt()}function xt(n,e){return n}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Dk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ko.UNAUTHENTICATED))}shutdown(){}}class OU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MU{constructor(e){this.t=e,this.currentUser=Ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=C=>this.i!==r?(r=this.i,t(C)):Promise.resolve();let c=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qo,e.enqueueRetryable(()=>a(this.currentUser))};const g=()=>{const C=c;e.enqueueRetryable((0,Be.Z)(function*(){yield C.promise,yield a(i.currentUser)}))},y=C=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>y(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?y(C):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qo)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fn("string"==typeof i.accessToken),new Dk(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fn(null===e||"string"==typeof e),new Ko(e)}}class RU{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Ko.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(fn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class PU{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new RU(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ko.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ck{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,lt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fn("string"==typeof t.token),this.A=t.token,new Ck(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Ik{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=FU(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function bn(n,e){return n<e?-1:n>e?1:0}function Yy(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Tk(n){return n+"\0"}class Jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new et(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jr.fromMillis(Date.now())}static fromDate(e){return Jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Jr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new un(e)}static min(){return new un(new Jr(0,0))}static max(){return new un(new Jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class I1{constructor(e,t,i){void 0===t?t=0:t>e.length&&Bt(),void 0===i?i=e.length-t:i>e.length-t&&Bt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===I1.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof I1?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),c=t.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mi extends I1{construct(e,t,i){return new mi(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new et(Pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new mi(t)}static emptyPath(){return new mi([])}}const LU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bs extends I1{construct(e,t,i){return new bs(e,t,i)}static isValidIdentifier(e){return LU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bs(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new et(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const g=e[r];if("\\"===g){if(r+1===e.length)throw new et(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[r+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new et(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,r+=2}else"`"===g?(c=!c,r++):"."!==g||c?(i+=g,r++):(a(),r++)}if(a(),c)throw new et(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bs(t)}static emptyPath(){return new bs([])}}class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(mi.fromString(e))}static fromName(e){return new Tt(mi.fromString(e).popFirst(5))}static empty(){return new Tt(mi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new mi(e.slice()))}}class yT{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function sN(n){return n.fields.find(e=>2===e.kind)}function h_(n){return n.fields.filter(e=>2!==e.kind)}yT.UNKNOWN_ID=-1;class bT{constructor(e,t){this.fieldPath=e,this.kind=t}}class T1{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new T1(0,oc.min())}}function Ek(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=un.fromTimestamp(1e9===i?new Jr(t+1,0):new Jr(t,i));return new oc(r,Tt.empty(),e)}function Sk(n){return new oc(n.readTime,n.key,-1)}class oc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new oc(un.min(),Tt.empty(),-1)}static max(){return new oc(un.max(),Tt.empty(),-1)}}function oN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Tt.comparator(n.documentKey,e.documentKey),0!==t?t:bn(n.largestBatchId,e.largestBatchId))}const xk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ak{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wg(n){return aN.apply(this,arguments)}function aN(){return aN=(0,Be.Z)(function*(n){if(n.code!==Pe.FAILED_PRECONDITION||n.message!==xk)throw n;lt("LocalStore","Unexpectedly lost primary lease")}),aN.apply(this,arguments)}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xe((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xe?t:xe.resolve(t)}catch(t){return xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.reject(t)}static resolve(e){return new xe((t,i)=>{t(e)})}static reject(e){return new xe((t,i)=>{i(e)})}static waitFor(e){return new xe((t,i)=>{let r=0,a=0,c=!1;e.forEach(g=>{++r,g.next(()=>{++a,c&&a===r&&t()},y=>i(y))}),c=!0,a===r&&t()})}static or(e){let t=xe.resolve(!1);for(const i of e)t=t.next(r=>r?xe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new xe((i,r)=>{const a=e.length,c=new Array(a);let g=0;for(let y=0;y<a;y++){const C=y;t(e[C]).next(A=>{c[C]=A,++g,g===a&&i(c)},A=>r(A))}})}static doWhile(e,t){return new xe((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class wT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Qo,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new E1(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=lN(i.target.error);this.P.reject(new E1(e,r))}}static open(e,t,i,r){try{return new wT(t,e.transaction(r,i))}catch(a){throw new E1(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $U(t)}}class Gd{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Gd.D((0,Mn.z$)())&&$s("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lt("SimpleDb","Removing database:",e),f_(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Mn.hl)())return!1;if(Gd.N())return!0;const e=(0,Mn.z$)(),t=Gd.D(e),i=0<t&&t<10,r=Gd.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Be.Z)(function*(){return t.db||(lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new E1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const g=c.target.error;r("VersionError"===g.name?new et(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new et(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new E1(e,g))},a.onupgradeneeded=c=>{lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Be.Z)(function*(){const c="readonly"===t;let g=0;for(;;){++g;try{a.db=yield a.F(e);const y=wT.open(a.db,e,c?"readonly":"readwrite",i),C=r(y).next(A=>(y.V(),A)).catch(A=>(y.abort(A),xe.reject(A))).toPromise();return C.catch(()=>{}),yield y.v,C}catch(y){const C=y,A="FirebaseError"!==C.name&&g<3;if(lt("SimpleDb","Transaction failed with error:",C.message,"Retrying:",A),a.close(),!A)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class UU{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return f_(this.U.delete())}}class E1 extends et{constructor(e,t){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dg(n){return"IndexedDbTransactionError"===n.name}class $U{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(lt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),f_(i)}add(e){return lt("SimpleDb","ADD",this.store.name,e,e),f_(this.store.add(e))}get(e){return f_(this.store.get(e)).next(t=>(void 0===t&&(t=null),lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return lt("SimpleDb","DELETE",this.store.name,e),f_(this.store.delete(e))}count(){return lt("SimpleDb","COUNT",this.store.name),f_(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(c,g)=>{a.push(g)}).next(()=>a)}{const r=this.store.getAll(i.range);return new xe((a,c)=>{r.onerror=g=>{c(g.target.error)},r.onsuccess=g=>{a(g.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new xe((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){lt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,c,g)=>g.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new xe((i,r)=>{t.onerror=a=>{const c=lN(a.target.error);r(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(g=>{g?c.continue():i()}):i()}})}H(e,t){const i=[];return new xe((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const g=c.target.result;if(!g)return void r();const y=new UU(g),C=t(g.primaryKey,g.value,y);if(C instanceof xe){const A=C.catch(R=>(y.done(),xe.reject(R)));i.push(A)}y.isDone?r():null===y.G?g.continue():g.continue(y.G)}}).next(()=>xe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function f_(n){return new xe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=lN(i.target.error);t(r)}})}let Nk=!1;function lN(n){const e=Gd.D((0,Mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nk||(Nk=!0,setTimeout(()=>{throw i},0)),i}}return n}class GU{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Be.Z)(function*(){t.task=null;try{lt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Dg(i)?lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield wg(i)}yield t.nt(6e4)}))}}class HU{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return xe.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return lt("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(g=>{r-=g,i.add(c)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,a)).next(g=>(lt("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const c=Sk(a);oN(c,i)>0&&(i=c)}),new oc(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class lu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ok(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function p_(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}lu.at=-1;class ws{constructor(e,t){this.comparator=e,this.root=t||ya.EMPTY}insert(e,t){return new ws(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ya.BLACK,null,null))}remove(e){return new ws(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ya.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new DT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new DT(this.root,e,this.comparator,!1)}getReverseIterator(){return new DT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new DT(this.root,e,this.comparator,!0)}}class DT{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ya{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??ya.RED,this.left=r??ya.EMPTY,this.right=a??ya.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new ya(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ya.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ya.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ya.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ya.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}ya.EMPTY=null,ya.RED=!0,ya.BLACK=!1,ya.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new ya(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(e){this.comparator=e,this.data=new ws(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Rk(this.data.getIterator())}getIteratorFrom(e){return new Rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fr(this.comparator);return t.data=e,t}}class Rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ky(n){return n.hasNext()?n.getNext():void 0}class ac{constructor(e){this.fields=e,e.sort(bs.comparator)}static empty(){return new ac([])}unionWith(e){let t=new fr(bs.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ac(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yy(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class To{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new To(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new To(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}To.EMPTY_BYTE_STRING=new To("");const WU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cg(n){if(fn(!!n),"string"==typeof n){let e=0;const t=WU.exec(n);if(fn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ds(n.seconds),nanos:Ds(n.nanos)}}function Ds(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function g_(n){return"string"==typeof n?To.fromBase64String(n):To.fromUint8Array(n)}function uN(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Pk(n){const e=n.mapValue.fields.__previous_value__;return uN(e)?Pk(e):e}function S1(n){const e=Cg(n.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}class zU{constructor(e,t,i,r,a,c,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class Ig{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ig("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ig&&e.projectId===this.projectId&&e.database===this.database}}function x1(n){return null==n}function A1(n){return 0===n&&1/n==-1/0}function kk(n){return"number"==typeof n&&Number.isInteger(n)&&!A1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Tg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},CT={nullValue:"NULL_VALUE"};function m_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uN(n)?4:Vk(n)?9007199254740991:10:Bt()}function Wh(n,e){if(n===e)return!0;const t=m_(n);if(t!==m_(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return S1(n).isEqual(S1(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Cg(i.timestampValue),c=Cg(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,g_(n.bytesValue).isEqual(g_(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ds(i.geoPointValue.latitude)===Ds(r.geoPointValue.latitude)&&Ds(i.geoPointValue.longitude)===Ds(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ds(i.integerValue)===Ds(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ds(i.doubleValue),c=Ds(r.doubleValue);return a===c?A1(a)===A1(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Yy(n.arrayValue.values||[],e.arrayValue.values||[],Wh);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Ok(a)!==Ok(c))return!1;for(const g in a)if(a.hasOwnProperty(g)&&(void 0===c[g]||!Wh(a[g],c[g])))return!1;return!0}(n,e);default:return Bt()}var r}function N1(n,e){return void 0!==(n.values||[]).find(t=>Wh(t,e))}function Eg(n,e){if(n===e)return 0;const t=m_(n),i=m_(e);if(t!==i)return bn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,e.booleanValue);case 2:return function(r,a){const c=Ds(r.integerValue||r.doubleValue),g=Ds(a.integerValue||a.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return Fk(n.timestampValue,e.timestampValue);case 4:return Fk(S1(n),S1(e));case 5:return bn(n.stringValue,e.stringValue);case 6:return function(r,a){const c=g_(r),g=g_(a);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),g=a.split("/");for(let y=0;y<c.length&&y<g.length;y++){const C=bn(c[y],g[y]);if(0!==C)return C}return bn(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const c=bn(Ds(r.latitude),Ds(a.latitude));return 0!==c?c:bn(Ds(r.longitude),Ds(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],g=a.values||[];for(let y=0;y<c.length&&y<g.length;++y){const C=Eg(c[y],g[y]);if(C)return C}return bn(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Tg.mapValue&&a===Tg.mapValue)return 0;if(r===Tg.mapValue)return 1;if(a===Tg.mapValue)return-1;const c=r.fields||{},g=Object.keys(c),y=a.fields||{},C=Object.keys(y);g.sort(),C.sort();for(let A=0;A<g.length&&A<C.length;++A){const R=bn(g[A],C[A]);if(0!==R)return R;const H=Eg(c[g[A]],y[C[A]]);if(0!==H)return H}return bn(g.length,C.length)}(n.mapValue,e.mapValue);default:throw Bt()}}function Fk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bn(n,e);const t=Cg(n),i=Cg(e),r=bn(t.seconds,i.seconds);return 0!==r?r:bn(t.nanos,i.nanos)}function Qy(n){return cN(n)}function cN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Cg(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?g_(n.bytesValue).toBase64():"referenceValue"in n?Tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=cN(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const g of r)c?c=!1:a+=",",a+=`${g}:${cN(i.fields[g])}`;return a+"}"}(n.mapValue):Bt();var e}function __(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dN(n){return!!n&&"integerValue"in n}function O1(n){return!!n&&"arrayValue"in n}function Lk(n){return!!n&&"nullValue"in n}function Bk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function IT(n){return!!n&&"mapValue"in n}function M1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return p_(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=M1(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=M1(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Vk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qU(n){return"nullValue"in n?CT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?__(Ig.empty(),Tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Bt()}function ZU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?__(Ig.empty(),Tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Tg:Bt()}function Uk(n,e){const t=Eg(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $k(n,e){const t=Eg(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ba{constructor(e){this.value=e}static empty(){return new ba({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!IT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=M1(t)}setAll(e){let t=bs.emptyPath(),i={},r=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,i,r),i={},r=[],t=g.popLast()}c?i[g.lastSegment()]=M1(c):r.push(g.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());IT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];IT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){p_(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new ba(M1(this.value))}}function Gk(n){const e=[];return p_(n.fields,(t,i)=>{const r=new bs([t]);if(IT(i)){const a=Gk(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new ac(e)}class Sr{constructor(e,t,i,r,a,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Sr(e,0,un.min(),un.min(),ba.empty(),0)}static newFoundDocument(e,t,i){return new Sr(e,1,t,un.min(),i,0)}static newNoDocument(e,t){return new Sr(e,2,t,un.min(),ba.empty(),0)}static newUnknownDocument(e,t){return new Sr(e,3,t,un.min(),ba.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ba.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class YU{constructor(e,t=null,i=[],r=[],a=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=g,this.ht=null}}function Hk(n,e=null,t=[],i=[],r=null,a=null,c=null){return new YU(n,e,t,i,r,a,c)}function v_(n){const e=xt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Qy(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),x1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Qy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Qy(i)).join(",")),e.ht=t}return e.ht}function R1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!s3(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Wh(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zk(n.startAt,e.startAt)&&Zk(n.endAt,e.endAt)}function TT(n){return Tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ET(n,e){return n.filters.filter(t=>t instanceof wa&&t.field.isEqual(e))}function jk(n,e,t){let i=CT,r=!0;for(const a of ET(n,e)){let c=CT,g=!0;switch(a.op){case"<":case"<=":c=qU(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,g=!1;break;case"!=":case"not-in":c=CT}Uk({value:i,inclusive:r},{value:c,inclusive:g})<0&&(i=c,r=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Uk({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function Wk(n,e,t){let i=Tg,r=!0;for(const a of ET(n,e)){let c=Tg,g=!0;switch(a.op){case">=":case">":c=ZU(a.value),g=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,g=!1;break;case"!=":case"not-in":c=Tg}$k({value:i,inclusive:r},{value:c,inclusive:g})>0&&(i=c,r=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];$k({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class wa extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new QU(e,t,i):"array-contains"===t?new e3(e,i):"in"===t?new t3(e,i):"not-in"===t?new n3(e,i):"array-contains-any"===t?new r3(e,i):new wa(e,t,i)}static lt(e,t,i){return"in"===t?new JU(e,i):new XU(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Eg(t,this.value)):null!==t&&m_(this.value)===m_(t)&&this.ft(Eg(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class QU extends wa{constructor(e,t,i){super(e,t,i),this.key=Tt.fromName(i.referenceValue)}matches(e){const t=Tt.comparator(e.key,this.key);return this.ft(t)}}class JU extends wa{constructor(e,t){super(e,"in",t),this.keys=zk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XU extends wa{constructor(e,t){super(e,"not-in",t),this.keys=zk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Tt.fromName(i.referenceValue))}class e3 extends wa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return O1(t)&&N1(t.arrayValue,this.value)}}class t3 extends wa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&N1(this.value.arrayValue,t)}}class n3 extends wa{constructor(e,t){super(e,"not-in",t)}matches(e){if(N1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!N1(this.value.arrayValue,t)}}class r3 extends wa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!O1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>N1(this.value.arrayValue,i))}}class Sg{constructor(e,t){this.position=e,this.inclusive=t}}class Jy{constructor(e,t="asc"){this.field=e,this.dir=t}}function s3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qk(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(i=a.field.isKeyField()?Tt.comparator(Tt.fromName(c.referenceValue),t.key):Eg(c,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Zk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wh(n.position[t],e.position[t]))return!1;return!0}class np{constructor(e,t=null,i=[],r=[],a=null,c="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=g,this.endAt=y,this._t=null,this.wt=null}}function Yk(n,e,t,i,r,a,c,g){return new np(n,e,t,i,r,a,c,g)}function Xy(n){return new np(n)}function Kk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fN(n){for(const e of n.filters)if(e.dt())return e.field;return null}function pN(n){return null!==n.collectionGroup}function e0(n){const e=xt(n);if(null===e._t){e._t=[];const t=fN(e),i=hN(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new Jy(t)),e._t.push(new Jy(bs.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Jy(bs.keyField(),a))}}}return e._t}function uu(n){const e=xt(n);if(!e.wt)if("F"===e.limitType)e.wt=Hk(e.path,e.collectionGroup,e0(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of e0(e))t.push(new Jy(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Sg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sg(e.startAt.position,e.startAt.inclusive):null;e.wt=Hk(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function ST(n,e,t){return new np(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function P1(n,e){return R1(uu(n),uu(e))&&n.limitType===e.limitType}function Qk(n){return`${v_(uu(n))}|lt:${n.limitType}`}function gN(n){return`Query(target=${function KU(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Qy(i.value)}`;var i}).join(", ")}]`),x1(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Qy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Qy(t)).join(",")),`Target(${e})`}(uu(n))}; limitType=${n.limitType})`}function mN(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Tt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,c){const g=qk(r,a,c);return r.inclusive?g<=0:g<0}(t.startAt,e0(t),i)||t.endAt&&!function(r,a,c){const g=qk(r,a,c);return r.inclusive?g>=0:g>0}(t.endAt,e0(t),i)));var t,i}function Jk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Xk(n){return(e,t)=>{let i=!1;for(const r of e0(n)){const a=o3(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function o3(n,e,t){const i=n.field.isKeyField()?Tt.comparator(e.key,t.key):function(r,a,c){const g=a.data.field(r),y=c.data.field(r);return null!==g&&null!==y?Eg(g,y):Bt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Bt()}}function eF(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A1(e)?"-0":e}}function tF(n){return{integerValue:""+n}}function nF(n,e){return kk(e)?tF(e):eF(n,e)}class xT{constructor(){this._=void 0}}function a3(n,e,t){return n instanceof t0?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof y_?rF(n,e):n instanceof b_?sF(n,e):function(i,r){const a=iF(i,r),c=oF(a)+oF(i.yt);return dN(a)&&dN(i.yt)?tF(c):eF(i.It,c)}(n,e)}function l3(n,e,t){return n instanceof y_?rF(n,e):n instanceof b_?sF(n,e):t}function iF(n,e){return n instanceof n0?dN(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class t0 extends xT{}class y_ extends xT{constructor(e){super(),this.elements=e}}function rF(n,e){const t=aF(e);for(const i of n.elements)t.some(r=>Wh(r,i))||t.push(i);return{arrayValue:{values:t}}}class b_ extends xT{constructor(e){super(),this.elements=e}}function sF(n,e){let t=aF(e);for(const i of n.elements)t=t.filter(r=>!Wh(r,i));return{arrayValue:{values:t}}}class n0 extends xT{constructor(e,t){super(),this.It=e,this.yt=t}}function oF(n){return Ds(n.integerValue||n.doubleValue)}function aF(n){return O1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class k1{constructor(e,t){this.field=e,this.transform=t}}class c3{constructor(e,t){this.version=e,this.transformResults=t}}class Xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function AT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class NT{}function lF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new s0(n.key,Xr.none()):new r0(n.key,n.data,Xr.none());{const t=n.data,i=ba.empty();let r=new fr(bs.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new ip(n.key,i,new ac(r.toArray()),Xr.none())}}function d3(n,e,t){n instanceof r0?function(i,r,a){const c=i.value.clone(),g=dF(i.fieldTransforms,r,a.transformResults);c.setAll(g),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ip?function(i,r,a){if(!AT(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=dF(i.fieldTransforms,r,a.transformResults),g=r.data;g.setAll(cF(i)),g.setAll(c),r.convertToFoundDocument(a.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function F1(n,e,t,i){return n instanceof r0?function(r,a,c,g){if(!AT(r.precondition,a))return c;const y=r.value.clone(),C=hF(r.fieldTransforms,g,a);return y.setAll(C),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof ip?function(r,a,c,g){if(!AT(r.precondition,a))return c;const y=hF(r.fieldTransforms,g,a),C=a.data;return C.setAll(cF(r)),C.setAll(y),a.convertToFoundDocument(a.version,C).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(A=>A.field))}(n,e,t,i):(c=t,AT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function h3(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=iF(i.transform,r||null);null!=a&&(null===t&&(t=ba.empty()),t.set(i.field,a))}return t||null}function uF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Yy(t,i,(r,a)=>function u3(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof y_&&i instanceof y_||t instanceof b_&&i instanceof b_?Yy(t.elements,i.elements,Wh):t instanceof n0&&i instanceof n0?Wh(t.yt,i.yt):t instanceof t0&&i instanceof t0);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class r0 extends NT{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ip extends NT{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function dF(n,e,t){const i=new Map;fn(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,g=e.data.field(a.field);i.set(a.field,l3(c,g,t[r]))}return i}function hF(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,a3(a,c,e))}return i}class s0 extends NT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _N extends NT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f3{constructor(e){this.count=e}}var lo,_i;function fF(n){switch(n){default:return Bt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function pF(n){if(void 0===n)return $s("GRPC error has no .code"),Pe.UNKNOWN;switch(n){case lo.OK:return Pe.OK;case lo.CANCELLED:return Pe.CANCELLED;case lo.UNKNOWN:return Pe.UNKNOWN;case lo.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case lo.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case lo.INTERNAL:return Pe.INTERNAL;case lo.UNAVAILABLE:return Pe.UNAVAILABLE;case lo.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case lo.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case lo.NOT_FOUND:return Pe.NOT_FOUND;case lo.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case lo.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case lo.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case lo.ABORTED:return Pe.ABORTED;case lo.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case lo.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case lo.DATA_LOSS:return Pe.DATA_LOSS;default:return Bt()}}(_i=lo||(lo={}))[_i.OK=0]="OK",_i[_i.CANCELLED=1]="CANCELLED",_i[_i.UNKNOWN=2]="UNKNOWN",_i[_i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_i[_i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_i[_i.NOT_FOUND=5]="NOT_FOUND",_i[_i.ALREADY_EXISTS=6]="ALREADY_EXISTS",_i[_i.PERMISSION_DENIED=7]="PERMISSION_DENIED",_i[_i.UNAUTHENTICATED=16]="UNAUTHENTICATED",_i[_i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_i[_i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_i[_i.ABORTED=10]="ABORTED",_i[_i.OUT_OF_RANGE=11]="OUT_OF_RANGE",_i[_i.UNIMPLEMENTED=12]="UNIMPLEMENTED",_i[_i.INTERNAL=13]="INTERNAL",_i[_i.UNAVAILABLE=14]="UNAVAILABLE",_i[_i.DATA_LOSS=15]="DATA_LOSS";class xg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){p_(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return Mk(this.inner)}size(){return this.innerSize}}const p3=new ws(Tt.comparator);function cu(){return p3}const gF=new ws(Tt.comparator);function L1(...n){let e=gF;for(const t of n)e=e.insert(t.key,t);return e}function mF(n){let e=gF;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function zh(){return B1()}function _F(){return B1()}function B1(){return new xg(n=>n.toString(),(n,e)=>n.isEqual(e))}const g3=new ws(Tt.comparator),m3=new fr(Tt.comparator);function Rn(...n){let e=m3;for(const t of n)e=e.add(t);return e}const _3=new fr(bn);function OT(){return _3}class V1{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,U1.createSynthesizedTargetChangeForCurrentChange(e,t)),new V1(un.min(),i,OT(),cu(),Rn())}}class U1{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new U1(To.EMPTY_BYTE_STRING,t,Rn(),Rn(),Rn())}}class MT{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class vF{constructor(e,t){this.targetId=e,this.At=t}}class yF{constructor(e,t,i=To.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class bF{constructor(){this.Rt=0,this.bt=DF(),this.Pt=To.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rn(),t=Rn(),i=Rn();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Bt()}}),new U1(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=DF()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class v3{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=cu(),this.qt=wF(),this.Kt=new fr(bn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:Bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(TT(a))if(0===i){const c=new Tt(a.path);this.jt(t,c,Sr.newNoDocument(c,un.min()))}else fn(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,c)=>{const g=this.Xt(c);if(g){if(a.current&&TT(g.target)){const y=new Tt(g.target.path);null!==this.Ut.get(y)||this.ee(c,y)||this.jt(c,y,Sr.newNoDocument(y,e))}a.Dt&&(t.set(c,a.xt()),a.Nt())}});let i=Rn();this.qt.forEach((a,c)=>{let g=!0;c.forEachWhile(y=>{const C=this.Xt(y);return!C||2===C.purpose||(g=!1,!1)}),g&&(i=i.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const r=new V1(e,t,this.Kt,this.Ut,i);return this.Ut=cu(),this.qt=wF(),this.Kt=new fr(bn),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new bF,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new fr(bn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||lt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new bF),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function wF(){return new ws(Tt.comparator)}function DF(){return new ws(Tt.comparator)}const y3={asc:"ASCENDING",desc:"DESCENDING"},b3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class w3{constructor(e,t){this.databaseId=e,this.gt=t}}function $1(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CF(n,e){return n.gt?e.toBase64():e.toUint8Array()}function D3(n,e){return $1(n,e.toTimestamp())}function Jo(n){return fn(!!n),un.fromTimestamp(function(e){const t=Cg(e);return new Jr(t.seconds,t.nanos)}(n))}function vN(n,e){return(t=n,new mi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function IF(n){const e=mi.fromString(n);return fn(RF(e)),e}function G1(n,e){return vN(n.databaseId,e.path)}function qh(n,e){const t=IF(e);if(t.get(1)!==n.databaseId.projectId)throw new et(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new et(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Tt(EF(t))}function yN(n,e){return vN(n.databaseId,e)}function TF(n){const e=IF(n);return 4===e.length?mi.emptyPath():EF(e)}function H1(n){return new mi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EF(n){return fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function SF(n,e,t){return{name:G1(n,e),fields:t.value.mapValue.fields}}function xF(n,e,t){const i=qh(n,e.name),r=Jo(e.updateTime),a=new ba({mapValue:{fields:e.fields}}),c=Sr.newFoundDocument(i,r,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function j1(n,e){let t;if(e instanceof r0)t={update:SF(n,e.key,e.value)};else if(e instanceof s0)t={delete:G1(n,e.key)};else if(e instanceof ip)t={update:SF(n,e.key,e.data),updateMask:O3(e.fieldMask)};else{if(!(e instanceof _N))return Bt();t={verify:G1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof t0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof y_)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof b_)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof n0)return{fieldPath:a.field.canonicalString(),increment:c.yt};throw Bt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:D3(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Bt()),t;var r}function bN(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Xr.updateTime(Jo(r.updateTime)):void 0!==r.exists?Xr.exists(r.exists):Xr.none():Xr.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let g=null;"setToServerValue"in c?(fn("REQUEST_TIME"===c.setToServerValue),g=new t0):"appendMissingElements"in c?g=new y_(c.appendMissingElements.values||[]):"removeAllFromArray"in c?g=new b_(c.removeAllFromArray.values||[]):"increment"in c?g=new n0(a,c.increment):Bt();const y=bs.fromServerFormat(c.fieldPath);return new k1(y,g)}(n,r)):[];var r;if(e.update){const r=qh(n,e.update.name),a=new ba({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ac((e.updateMask.fieldPaths||[]).map(C=>bs.fromServerFormat(C)));return new ip(r,a,c,t,i)}return new r0(r,a,t,i)}if(e.delete){const r=qh(n,e.delete);return new s0(r,t)}if(e.verify){const r=qh(n,e.verify);return new _N(r,t)}return Bt()}function AF(n,e){return{documents:[yN(n,e.path)]}}function NF(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=yN(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yN(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(y){if(0===y.length)return;const C=y.map(A=>function(R){if("=="===R.op){if(Bk(R.value))return{unaryFilter:{field:o0(R.field),op:"IS_NAN"}};if(Lk(R.value))return{unaryFilter:{field:o0(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(Bk(R.value))return{unaryFilter:{field:o0(R.field),op:"IS_NOT_NAN"}};if(Lk(R.value))return{unaryFilter:{field:o0(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:o0(R.field),op:x3(R.op),value:R.value}}}(A));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(y){if(0!==y.length)return y.map(C=>{return{field:o0((A=C).field),direction:S3(A.dir)};var A})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(C=e.limit,n.gt||x1(C)?C:{value:C});var C,g,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function OF(n){let e=TF(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){fn(1===i);const A=t.from[0];A.allDescendants?r=A.collectionId:e=e.child(A.collectionId)}let a=[];t.where&&(a=MF(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new Jy(a0((R=A).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let g=null;t.limit&&(g=function(A){let R;return R="object"==typeof A?A.value:A,x1(R)?null:R}(t.limit));let y=null;var A;t.startAt&&(y=new Sg((A=t.startAt).values||[],!!A.before));let C=null;return t.endAt&&(C=function(A){return new Sg(A.values||[],!A.before)}(t.endAt)),Yk(e,r,c,a,g,"F",y,C)}function MF(n){return n?void 0!==n.unaryFilter?[N3(n)]:void 0!==n.fieldFilter?[A3(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>MF(e)).reduce((e,t)=>e.concat(t)):Bt():[]}function S3(n){return y3[n]}function x3(n){return b3[n]}function o0(n){return{fieldPath:n.canonicalString()}}function a0(n){return bs.fromServerFormat(n.fieldPath)}function A3(n){return wa.create(a0(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function N3(n){switch(n.unaryFilter.op){case"IS_NAN":const e=a0(n.unaryFilter.field);return wa.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=a0(n.unaryFilter.field);return wa.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=a0(n.unaryFilter.field);return wa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=a0(n.unaryFilter.field);return wa.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}function O3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Dl(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PF(e)),e=M3(n.get(t),e);return PF(e)}function M3(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function PF(n){return n+"\x01\x01"}function Zh(n){const e=n.length;if(fn(e>=2),2===e)return fn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mi.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&Bt(),n.charAt(c+1)){case"\x01":const g=n.substring(a,c);let y;0===r.length?y=g:(r+=g,y=r,r=""),i.push(y);break;case"\x10":r+=n.substring(a,c),r+="\0";break;case"\x11":r+=n.substring(a,c+1);break;default:Bt()}a=c+2}return new mi(i)}const kF=["userId","batchId"];function RT(n,e){return[n,Dl(e)]}function FF(n,e,t){return[n,Dl(e),t]}const R3={},P3=["prefixPath","collectionGroup","readTime","documentId"],k3=["prefixPath","collectionGroup","documentId"],F3=["collectionGroup","readTime","prefixPath","documentId"],L3=["canonicalId","targetId"],B3=["targetId","path"],V3=["path","targetId"],U3=["collectionId","parent"],$3=["indexId","uid"],G3=["uid","sequenceNumber"],H3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],j3=["indexId","uid","orderedDocumentKey"],W3=["userId","collectionPath","documentId"],z3=["userId","collectionPath","largestBatchId"],q3=["userId","collectionGroup","largestBatchId"],LF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Z3=[...LF,"documentOverlays"],BF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VF=BF,Y3=[...VF,"indexConfiguration","indexState","indexEntries"];class wN extends Ak{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Xo(n,e){const t=xt(n);return Gd.O(t.ie,e)}class DN{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&d3(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=F1(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=F1(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_F();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let g=this.applyToLocalView(c,a.mutatedFields);g=t.has(r.key)?null:g;const y=lF(c,g);null!==y&&i.set(r.key,y),c.isValidDocument()||c.convertToNoDocument(un.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rn())}isEqual(e){return this.batchId===e.batchId&&Yy(this.mutations,e.mutations,(t,i)=>uF(t,i))&&Yy(this.baseMutations,e.baseMutations,(t,i)=>uF(t,i))}}class CN{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){fn(e.mutations.length===i.length);let r=g3;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new CN(e,t,i,r)}}class IN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ag{constructor(e,t,i,r,a=un.min(),c=un.min(),g=To.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g}withSequenceNumber(e){return new Ag(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ag(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ag(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class UF{constructor(e){this.re=e}}function $F(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:PT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:G1(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:$1(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:w_(e.version)};else{if(!e.isUnknownDocument())return Bt();i.unknownDocument={path:t.path.toArray(),version:w_(e.version)}}var r,a;return i}function PT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function w_(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function D_(n){const e=new Jr(n.seconds,n.nanoseconds);return un.fromTimestamp(e)}function C_(n,e){const t=(e.baseMutations||[]).map(a=>bN(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>bN(n.re,a)),r=Jr.fromMillis(e.localWriteTimeMs);return new DN(e.batchId,r,t,i)}function W1(n){const e=D_(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?D_(n.lastLimboFreeSnapshotVersion):un.min();let i;var r;return void 0!==n.query.documents?(fn(1===(r=n.query).documents.length),i=uu(Xy(TF(r.documents[0])))):i=uu(OF(n.query)),new Ag(i,n.targetId,0,n.lastListenSequenceNumber,e,t,To.fromBase64String(n.resumeToken))}function GF(n,e){const t=w_(e.snapshotVersion),i=w_(e.lastLimboFreeSnapshotVersion);let r;r=TT(e.target)?AF(n.re,e.target):NF(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:v_(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function TN(n){const e=OF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ST(e,e.limit,"L"):e}function EN(n,e){return new IN(e.largestBatchId,bN(n.re,e.overlayMutation))}function HF(n,e){const t=e.path.lastSegment();return[n,Dl(e.path.popLast()),t]}function jF(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:w_(i.readTime),documentKey:Dl(i.documentKey.path),largestBatchId:i.largestBatchId}}class Q3{getBundleMetadata(e,t){return WF(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:D_(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return WF(e).put({bundleId:(i=t).id,createTime:w_(Jo(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return zF(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:TN(r.bundledQuery),readTime:D_(r.readTime)};var r})}saveNamedQuery(e,t){return zF(e).put({name:(i=t).name,readTime:w_(Jo(i.readTime)),bundledQuery:i.bundledQuery});var i}}function WF(n){return Xo(n,"bundles")}function zF(n){return Xo(n,"namedQueries")}class kT{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new kT(e,t.uid||"")}getOverlay(e,t){return z1(e).get(HF(this.userId,t)).next(i=>i?EN(this.It,i):null)}getOverlays(e,t){const i=zh();return xe.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,c)=>{const g=new IN(t,c);r.push(this.ue(e,g))}),xe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Dl(c.getCollectionPath())));const a=[];return r.forEach(c=>{const g=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(z1(e).Y("collectionPathOverlayIndex",g))}),xe.waitFor(a)}getOverlaysForCollection(e,t,i){const r=zh(),a=Dl(t),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return z1(e).W("collectionPathOverlayIndex",c).next(g=>{for(const y of g){const C=EN(this.It,y);r.set(C.getKey(),C)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=zh();let c;const g=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return z1(e).Z({index:"collectionGroupOverlayIndex",range:g},(y,C,A)=>{const R=EN(this.It,C);a.size()<r||R.largestBatchId===c?(a.set(R.getKey(),R),c=R.largestBatchId):A.done()}).next(()=>a)}ue(e,t){return z1(e).put(function(i,r,a){const[c,g,y]=HF(r,a.mutation.key);return{userId:r,collectionPath:g,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:j1(i.re,a.mutation)}}(this.It,this.userId,t))}}function z1(n){return Xo(n,"documentOverlays")}class I_{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ds(e.integerValue));else if("doubleValue"in e){const i=Ds(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),A1(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(g_(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Vk(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Bt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Tt.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function J3(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function qF(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=J3(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}I_.Te=new I_;class X3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=qF(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=qF(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class e${constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class t${constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class q1{constructor(){this.Be=new X3,this.Le=new e$(this.Be),this.Ue=new t$(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class T_{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new T_(this.indexId,this.documentKey,this.arrayValue,i)}}function E_(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ZF(n.arrayValue,e.arrayValue),0!==t?t:(t=ZF(n.directionalValue,e.directionalValue),0!==t?t:Tt.comparator(n.documentKey,e.documentKey)))}function ZF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class n${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=sN(e);if(void 0!==t&&!this.ze(t))return!1;const i=h_(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[a++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class i${constructor(){this.Ye=new SN}addToCollectionParentIndex(e,t){return this.Ye.add(t),xe.resolve()}getCollectionParents(e,t){return xe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return xe.resolve()}deleteFieldIndex(e,t){return xe.resolve()}getDocumentsMatchingTarget(e,t){return xe.resolve(null)}getIndexType(e,t){return xe.resolve(0)}getFieldIndexes(e,t){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,t){return xe.resolve(oc.min())}getMinOffsetFromCollectionGroup(e,t){return xe.resolve(oc.min())}updateCollectionGroup(e,t,i){return xe.resolve()}updateIndexEntries(e,t){return xe.resolve()}}class SN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new fr(mi.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new fr(mi.comparator)).toArray()}}const FT=new Uint8Array(0);class r${constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new SN,this.Ze=new xg(i=>v_(i),(i,r)=>R1(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:Dl(r)};return YF(e).put(a)}return xe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Tk(t),""],!1,!0);return YF(e).W(r).next(a=>{for(const c of a){if(c.collectionId!==t)break;i.push(Zh(c.parent))}return i})}addFieldIndex(e,t){const i=LT(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var c;delete r.indexId;const a=i.add(r);if(t.indexState){const c=Y1(e);return a.next(g=>{c.put(jF(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=LT(e),r=Y1(e),a=Z1(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Z1(e);let r=!0;const a=new Map;return xe.forEach(this.tn(t),c=>this.en(e,c).next(g=>{r&&(r=!!g),a.set(c,g)})).next(()=>{if(r){let c=Rn();const g=[];return xe.forEach(a,(y,C)=>{var A;lt("IndexedDbIndexManager",`Using index ${A=y,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${v_(t)}`);const R=function(vt,rt){const gt=sN(rt);if(void 0===gt)return null;for(const Dt of ET(vt,gt.fieldPath))switch(Dt.op){case"array-contains-any":return Dt.value.arrayValue.values||[];case"array-contains":return[Dt.value]}return null}(C,y),H=function(vt,rt){const gt=new Map;for(const Dt of h_(rt))for(const rn of ET(vt,Dt.fieldPath))switch(rn.op){case"==":case"in":gt.set(Dt.fieldPath.canonicalString(),rn.value);break;case"not-in":case"!=":return gt.set(Dt.fieldPath.canonicalString(),rn.value),Array.from(gt.values())}return null}(C,y),Z=function(vt,rt){const gt=[];let Dt=!0;for(const rn of h_(rt)){const Pn=0===rn.kind?jk(vt,rn.fieldPath,vt.startAt):Wk(vt,rn.fieldPath,vt.startAt);gt.push(Pn.value),Dt&&(Dt=Pn.inclusive)}return new Sg(gt,Dt)}(C,y),ue=function(vt,rt){const gt=[];let Dt=!0;for(const rn of h_(rt)){const Pn=0===rn.kind?Wk(vt,rn.fieldPath,vt.endAt):jk(vt,rn.fieldPath,vt.endAt);gt.push(Pn.value),Dt&&(Dt=Pn.inclusive)}return new Sg(gt,Dt)}(C,y),_e=this.nn(y,C,Z),De=this.nn(y,C,ue),ot=this.sn(y,C,H),ut=this.rn(y.indexId,R,_e,Z.inclusive,De,ue.inclusive,ot);return xe.forEach(ut,vt=>i.J(vt,t.limit).next(rt=>{rt.forEach(gt=>{const Dt=Tt.fromSegments(gt.documentKey);c.has(Dt)||(c=c.add(Dt),g.push(Dt))})}))}).next(()=>g)}return xe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,c,g){const y=(null!=t?t.length:1)*Math.max(i.length,a.length),C=y/(null!=t?t.length:1),A=[];for(let R=0;R<y;++R){const H=t?this.on(t[R/C]):FT,Z=this.un(e,H,i[R%C],r),ue=this.cn(e,H,a[R%C],c),_e=g.map(De=>this.un(e,H,De,!0));A.push(...this.createRange(Z,ue,_e))}return A}un(e,t,i,r){const a=new T_(e,Tt.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new T_(e,Tt.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new n$(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const g of a)i.We(g)&&(!c||g.fields.length>c.fields.length)&&(c=g);return c})}getIndexType(e,t){let i=2;return xe.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(c){let g=new fr(bs.comparator),y=!1;for(const C of c.filters){const A=C;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?y=!0:g=g.add(A.field))}for(const C of c.orderBy)C.field.isKeyField()||(g=g.add(C.field));return g.size+(y?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new q1;for(const r of h_(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const c=i.qe(r.kind);I_.Te.ce(a,c)}return i.$e()}on(e){const t=new q1;return I_.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new q1;return I_.Te.ce(__(this.databaseId,t),i.qe(function(r){const a=h_(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new q1);let a=0;for(const c of h_(e)){const g=i[a++];for(const y of r)if(this.ln(t,c.fieldPath)&&O1(g))r=this.fn(r,c,g);else{const C=y.qe(c.kind);I_.Te.ce(g,C)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const g of r){const y=new q1;y.seed(g.$e()),I_.Te.ce(c,y.qe(t.kind)),a.push(y)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof wa&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=LT(e),r=Y1(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const c=[];return xe.forEach(a,g=>r.get([g.indexId,this.uid]).next(y=>{c.push(function(C,A){const R=A?new T1(A.sequenceNumber,new oc(D_(A.readTime),new Tt(Zh(A.documentKey)),A.largestBatchId)):T1.empty(),H=C.fields.map(([Z,ue])=>new bT(bs.fromServerFormat(Z),ue));return new yT(C.indexId,C.collectionGroup,H,R)}(g,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:bn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=LT(e),a=Y1(e);return this._n(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>xe.forEach(g,y=>a.put(jF(y.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return xe.forEach(t,(r,a)=>{const c=i.get(r.collectionGroup);return(c?xe.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(g=>(i.set(r.collectionGroup,g),xe.forEach(g,y=>this.wn(e,r,y).next(C=>{const A=this.mn(a,y);return C.isEqual(A)?xe.resolve():this.gn(e,a,y,C,A)}))))})}yn(e,t,i,r){return Z1(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Z1(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Z1(e);let a=new fr(E_);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(c,g)=>{a=a.add(new T_(i.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>a)}mn(e,t){let i=new fr(E_);const r=this.an(t,e);if(null==r)return i;const a=sN(t);if(null!=a){const c=e.data.field(a.fieldPath);if(O1(c))for(const g of c.arrayValue.values||[])i=i.add(new T_(t.indexId,e.key,this.on(g),r))}else i=i.add(new T_(t.indexId,e.key,FT,r));return i}gn(e,t,i,r,a){lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(g,y,C,A,R){const H=g.getIterator(),Z=y.getIterator();let ue=Ky(H),_e=Ky(Z);for(;ue||_e;){let De=!1,ot=!1;if(ue&&_e){const ut=C(ue,_e);ut<0?ot=!0:ut>0&&(De=!0)}else null!=ue?ot=!0:De=!0;De?(A(_e),_e=Ky(Z)):ot?(R(ue),ue=Ky(H)):(ue=Ky(H),_e=Ky(Z))}}(r,a,E_,g=>{c.push(this.yn(e,t,i,g))},g=>{c.push(this.pn(e,t,i,g))}),xe.waitFor(c)}_n(e){let t=1;return Y1(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,g)=>E_(c,g)).filter((c,g,y)=>!g||0!==E_(c,y[g-1]));const r=[];r.push(e);for(const c of i){const g=E_(c,e),y=E_(c,t);if(0===g)r[0]=e.Ke();else if(g>0&&y<0)r.push(c),r.push(c.Ke());else if(y>0)break}r.push(t);const a=[];for(let c=0;c<r.length;c+=2)a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,FT,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,FT,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(KF)}getMinOffset(e,t){return xe.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||Bt())).next(KF)}}function YF(n){return Xo(n,"collectionParents")}function Z1(n){return Xo(n,"indexEntries")}function LT(n){return Xo(n,"indexConfiguration")}function Y1(n){return Xo(n,"indexState")}function KF(n){fn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;oN(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new oc(e.readTime,e.documentKey,t)}const QF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class du{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new du(e,du.DEFAULT_COLLECTION_PERCENTILE,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function JF(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let g=0;const y=i.Z({range:c},(A,R,H)=>(g++,H.delete()));a.push(y.next(()=>{fn(1===g)}));const C=[];for(const A of t.mutations){const R=FF(e,A.key.path,t.batchId);a.push(r.delete(R)),C.push(A.key)}return xe.waitFor(a).next(()=>C)}function BT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Bt();e=n.noDocument}return JSON.stringify(e).length}du.DEFAULT_COLLECTION_PERCENTILE=10,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,du.DEFAULT=new du(41943040,du.DEFAULT_COLLECTION_PERCENTILE,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),du.DISABLED=new du(-1,0,0);class VT{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){fn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new VT(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ng(e).Z({index:"userMutationsIndex",range:i},(r,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=l0(e),c=Ng(e);return c.add({}).next(g=>{fn("number"==typeof g);const y=new DN(g,t,i,r),C=function(H,Z,ue){const _e=ue.baseMutations.map(ot=>j1(H.re,ot)),De=ue.mutations.map(ot=>j1(H.re,ot));return{userId:Z,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:_e,mutations:De}}(this.It,this.userId,y),A=[];let R=new fr((H,Z)=>bn(H.canonicalString(),Z.canonicalString()));for(const H of r){const Z=FF(this.userId,H.key.path,g);R=R.add(H.key.path.popLast()),A.push(c.put(C)),A.push(a.put(Z,R3))}return R.forEach(H=>{A.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.In[g]=y.keys()}),xe.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return Ng(e).get(t).next(i=>i?(fn(i.userId===this.userId),C_(this.It,i)):null)}Tn(e,t){return this.In[t]?xe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Ng(e).Z({index:"userMutationsIndex",range:r},(c,g,y)=>{g.userId===this.userId&&(fn(g.batchId>=i),a=C_(this.It,g)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ng(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ng(e).W("userMutationsIndex",t).next(i=>i.map(r=>C_(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=RT(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return l0(e).Z({range:r},(c,g,y)=>{const[C,A,R]=c,H=Zh(A);if(C===this.userId&&t.path.isEqual(H))return Ng(e).get(R).next(Z=>{if(!Z)throw Bt();fn(Z.userId===this.userId),a.push(C_(this.It,Z))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fr(bn);const r=[];return t.forEach(a=>{const c=RT(this.userId,a.path),g=IDBKeyRange.lowerBound(c),y=l0(e).Z({range:g},(C,A,R)=>{const[H,Z,ue]=C,_e=Zh(Z);H===this.userId&&a.path.isEqual(_e)?i=i.add(ue):R.done()});r.push(y)}),xe.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=RT(this.userId,i),c=IDBKeyRange.lowerBound(a);let g=new fr(bn);return l0(e).Z({range:c},(y,C,A)=>{const[R,H,Z]=y,ue=Zh(H);R===this.userId&&i.isPrefixOf(ue)?ue.length===r&&(g=g.add(Z)):A.done()}).next(()=>this.En(e,g))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Ng(e).get(a).next(c=>{if(null===c)throw Bt();fn(c.userId===this.userId),i.push(C_(this.It,c))}))}),xe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return JF(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),xe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return xe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return l0(e).Z({range:i},(a,c,g)=>{if(a[0]===this.userId){const y=Zh(a[1]);r.push(y)}else g.done()}).next(()=>{fn(0===r.length)})})}containsKey(e,t){return XF(e,this.userId,t)}Rn(e){return eL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function XF(n,e,t){const i=RT(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return l0(n).Z({range:a,X:!0},(g,y,C)=>{const[A,R,H]=g;A===e&&R===r&&(c=!0),C.done()}).next(()=>c)}function Ng(n){return Xo(n,"mutations")}function l0(n){return Xo(n,"documentMutations")}function eL(n){return Xo(n,"mutationQueues")}class S_{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new S_(0)}static vn(){return new S_(-1)}}class s${constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new S_(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>un.fromTimestamp(new Jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>u0(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(fn(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return u0(e).Z((c,g)=>{const y=W1(g);y.sequenceNumber<=t&&null===i.get(y.targetId)&&(r++,a.push(this.removeTargetData(e,y)))}).next(()=>xe.waitFor(a)).next(()=>r)}forEachTarget(e,t){return u0(e).Z((i,r)=>{const a=W1(r);t(a)})}Vn(e){return tL(e).get("targetGlobalKey").next(t=>(fn(null!==t),t))}Sn(e,t){return tL(e).put("targetGlobalKey",t)}Dn(e,t){return u0(e).put(GF(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=v_(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return u0(e).Z({range:r,index:"queryTargetsIndex"},(c,g,y)=>{const C=W1(g);R1(t,C.target)&&(a=C,y.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Og(e);return t.forEach(c=>{const g=Dl(c.path);r.push(a.put({targetId:i,path:g})),r.push(this.referenceDelegate.addReference(e,i,c))}),xe.waitFor(r)}removeMatchingKeys(e,t,i){const r=Og(e);return xe.forEach(t,a=>{const c=Dl(a.path);return xe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Og(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Og(e);let a=Rn();return r.Z({range:i,X:!0},(c,g,y)=>{const C=Zh(c[1]),A=new Tt(C);a=a.add(A)}).next(()=>a)}containsKey(e,t){const i=Dl(t.path),r=IDBKeyRange.bound([i],[Tk(i)],!1,!0);let a=0;return Og(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,g],y,C)=>{0!==c&&(a++,C.done())}).next(()=>a>0)}se(e,t){return u0(e).get(t).next(i=>i?W1(i):null)}}function u0(n){return Xo(n,"targets")}function tL(n){return Xo(n,"targetGlobal")}function Og(n){return Xo(n,"targetDocuments")}function nL([n,e],[t,i]){const r=bn(n,t);return 0===r?bn(e,i):r}class o${constructor(e){this.xn=e,this.buffer=new fr(nL),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();nL(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class a${constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Be.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Dg(i)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield wg(i)}yield t.Fn(3e5)}))}}class l${constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return xe.resolve(lu.at);const i=new o$(t);return this.$n.forEachTarget(e,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(QF)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QF):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,c,g,y,C;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),r=this.params.maximumSequenceNumbersToCollect):r=R,c=Date.now(),this.nthSequenceNumber(e,r))).next(R=>(i=R,g=Date.now(),this.removeTargets(e,i,t))).next(R=>(a=R,y=Date.now(),this.removeOrphanedDocuments(e,i))).next(R=>(C=Date.now(),iN()<=_g.in.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-A}ms\n\tDetermined least recently used ${r} in `+(g-c)+`ms\n\tRemoved ${a} targets in `+(y-g)+`ms\n\tRemoved ${R} documents in `+(C-y)+`ms\nTotal Duration: ${C-A}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:R})))}}class u${constructor(e,t){this.db=e,this.garbageCollector=new l$(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return UT(e,i)}removeReference(e,t,i){return UT(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return UT(e,t)}Gn(e,t){return function(i,r){let a=!1;return eL(i).tt(c=>XF(i,c,r).next(g=>(g&&(a=!0),xe.resolve(!g)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(c,g)=>{if(g<=t){const y=this.Gn(e,c).next(C=>{if(!C)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,un.min()),Og(e).delete([0,Dl(c.path)])))});r.push(y)}}).next(()=>xe.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return UT(e,t)}Kn(e,t){const i=Og(e);let r,a=lu.at;return i.Z({index:"documentTargetsIndex"},([c,g],{path:y,sequenceNumber:C})=>{0===c?(a!==lu.at&&t(new Tt(Zh(r)),a),a=C,r=y):a=lu.at}).next(()=>{a!==lu.at&&t(new Tt(Zh(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function UT(n,e){return Og(n).put((i=n.currentSequenceNumber,{targetId:0,path:Dl(e.path),sequenceNumber:i}));var i}class iL{constructor(){this.changes=new xg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?xe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class c${constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return x_(e).put(i)}removeEntry(e,t,i){return x_(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],PT(a),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Sr.newInvalidDocument(t);return x_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(K1(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:Sr.newInvalidDocument(t)};return x_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(K1(t))},(r,a)=>{i={document:this.jn(t,a),size:BT(a)}}).next(()=>i)}getEntries(e,t){let i=cu();return this.zn(e,t,(r,a)=>{const c=this.jn(r,a);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=cu(),r=new ws(Tt.comparator);return this.zn(e,t,(a,c)=>{const g=this.jn(a,c);i=i.insert(a,g),r=r.insert(a,BT(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return xe.resolve();let r=new fr(aL);t.forEach(y=>r=r.add(y));const a=IDBKeyRange.bound(K1(r.first()),K1(r.last())),c=r.getIterator();let g=c.getNext();return x_(e).Z({index:"documentKeyIndex",range:a},(y,C,A)=>{const R=Tt.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;g&&aL(g,R)<0;)i(g,null),g=c.getNext();g&&g.isEqual(R)&&(i(g,C),g=c.hasNext()?c.getNext():null),g?A.j(K1(g)):A.done()}).next(()=>{for(;g;)i(g,null),g=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),PT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return x_(e).W(IDBKeyRange.bound(r,a,!0)).next(c=>{let g=cu();for(const y of c){const C=this.jn(Tt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(C.key,C)}return g})}getAllFromCollectionGroup(e,t,i,r){let a=cu();const c=oL(t,i),g=oL(t,oc.max());return x_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,g,!0)},(y,C,A)=>{const R=this.jn(Tt.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);a=a.insert(R.key,R),a.size===r&&A.done()}).next(()=>a)}newChangeBuffer(e){return new d$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sL(e).get("remoteDocumentGlobalKey").next(t=>(fn(!!t),t))}Qn(e,t){return sL(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function K3(n,e){let t;if(e.document)t=xF(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Tt.fromSegments(e.noDocument.path),r=D_(e.noDocument.readTime);t=Sr.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Bt();{const i=Tt.fromSegments(e.unknownDocument.path),r=D_(e.unknownDocument.version);t=Sr.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Jr(i[0],i[1]);return un.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(un.min()))return i}return Sr.newInvalidDocument(e)}}function rL(n){return new c$(n)}class d$ extends iL{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new xg(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new fr((a,c)=>bn(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const g=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,g.readTime)),c.isValidDocument()){const y=$F(this.Yn.It,c);r=r.add(a.path.popLast()),i+=BT(y)-g.size,t.push(this.Yn.addEntry(e,a,y))}else if(i-=g.size,this.trackRemovals){const y=$F(this.Yn.It,c.convertToNoDocument(un.min()));t.push(this.Yn.addEntry(e,a,y))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),xe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function sL(n){return Xo(n,"remoteDocumentGlobal")}function x_(n){return Xo(n,"remoteDocumentsV14")}function K1(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oL(n,e){const t=e.documentKey.path.toArray();return[n,PT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aL(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=bn(t[a],i[a]),r)return r;return r=bn(t.length,i.length),r||(r=bn(t[t.length-2],i[i.length-2]),r||bn(t[t.length-1],i[i.length-1]))}class h${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lL{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&F1(i.mutation,r,ac.empty(),Jr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Rn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Rn()){const r=zh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let c=L1();return a.forEach((g,y)=>{c=c.insert(g,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=zh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Rn()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,i,r){let a=cu();const c=B1(),g=B1();return t.forEach((y,C)=>{const A=i.get(C.key);r.has(C.key)&&(void 0===A||A.mutation instanceof ip)?a=a.insert(C.key,C):void 0!==A&&(c.set(C.key,A.mutation.getFieldMask()),F1(A.mutation,C,A.mutation.getFieldMask(),Jr.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((C,A)=>c.set(C,A)),t.forEach((C,A)=>{var R;return g.set(C,new h$(A,null!==(R=c.get(C))&&void 0!==R?R:null))}),g))}recalculateAndSaveOverlays(e,t){const i=B1();let r=new ws((c,g)=>c-g),a=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(y=>{const C=t.get(y);if(null===C)return;let A=i.get(y)||ac.empty();A=g.applyToLocalView(C,A),i.set(y,A);const R=(r.get(g.batchId)||Rn()).add(y);r=r.insert(g.batchId,R)})}).next(()=>{const c=[],g=r.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),C=y.key,A=y.value,R=_F();A.forEach(H=>{if(!a.has(H)){const Z=lF(t.get(H),i.get(H));null!==Z&&R.set(H,Z),a=a.add(H)}}),c.push(this.documentOverlayCache.saveOverlays(e,C,R))}return xe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Tt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):pN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):xe.resolve(zh());let g=-1,y=a;return c.next(C=>xe.forEach(C,(A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),a.get(A)?xe.resolve():this.getBaseDocument(e,A,R).next(H=>{y=y.insert(A,H)}))).next(()=>this.populateOverlays(e,C,a)).next(()=>this.computeViews(e,y,C,Rn())).next(A=>({batchId:g,changes:mF(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Tt(t)).next(i=>{let r=L1();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=L1();return this.indexManager.getCollectionParents(e,r).next(c=>xe.forEach(c,g=>{const y=(C=t,A=g.child(r),new np(A,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,A;return this.getDocumentsMatchingCollectionQuery(e,y,i).next(C=>{C.forEach((A,R)=>{a=a.insert(A,R)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((g,y)=>{const C=y.getKey();null===r.get(C)&&(r=r.insert(C,Sr.newInvalidDocument(C)))});let c=L1();return r.forEach((g,y)=>{const C=a.get(g);void 0!==C&&F1(C.mutation,y,ac.empty(),Jr.now()),mN(t,y)&&(c=c.insert(g,y))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):xe.resolve(Sr.newInvalidDocument(t))}}class f${constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return xe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Jo(i.createTime)}),xe.resolve()}getNamedQuery(e,t){return xe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:TN(i.bundledQuery),readTime:Jo(i.readTime)}),xe.resolve();var i}}class p${constructor(){this.overlays=new ws(Tt.comparator),this.es=new Map}getOverlay(e,t){return xe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=zh();return xe.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),xe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),xe.resolve()}getOverlaysForCollection(e,t,i){const r=zh(),a=t.length+1,c=new Tt(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const y=g.getNext().value,C=y.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===a&&y.largestBatchId>i&&r.set(y.getKey(),y)}return xe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new ws((C,A)=>C-A);const c=this.overlays.getIterator();for(;c.hasNext();){const C=c.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>i){let A=a.get(C.largestBatchId);null===A&&(A=zh(),a=a.insert(C.largestBatchId,A)),A.set(C.getKey(),C)}}const g=zh(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((C,A)=>g.set(C,A)),!(g.size()>=r)););return xe.resolve(g)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new IN(t,i));let a=this.es.get(t);void 0===a&&(a=Rn(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class xN{constructor(){this.ns=new fr(ea.ss),this.rs=new fr(ea.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new ea(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new ea(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Tt(new mi([])),i=new ea(t,e),r=new ea(t,e+1),a=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Tt(new mi([])),i=new ea(t,e),r=new ea(t,e+1);let a=Rn();return this.rs.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new ea(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ea{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Tt.comparator(e.key,t.key)||bn(e._s,t._s)}static os(e,t){return bn(e._s,t._s)||Tt.comparator(e.key,t.key)}}class g${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new fr(ea.ss)}checkEmpty(e){return xe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const c=new DN(a,t,i,r);this.mutationQueue.push(c);for(const g of r)this.gs=this.gs.add(new ea(g.key,a)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return xe.resolve(c)}lookupMutationBatch(e,t){return xe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return xe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ea(t,0),r=new ea(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],c=>{const g=this.ys(c._s);a.push(g)}),xe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fr(bn);return t.forEach(r=>{const a=new ea(r,0),c=new ea(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],g=>{i=i.add(g._s)})}),xe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Tt.isDocumentKey(a)||(a=a.child(""));const c=new ea(new Tt(a),0);let g=new fr(bn);return this.gs.forEachWhile(y=>{const C=y.key.path;return!!i.isPrefixOf(C)&&(C.length===r&&(g=g.add(y._s)),!0)},c),xe.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){fn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return xe.forEach(t.mutations,r=>{const a=new ea(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new ea(t,0),r=this.gs.firstAfterOrEqual(i);return xe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return xe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class m${constructor(e){this.Es=e,this.docs=new ws(Tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return xe.resolve(i?i.document.mutableCopy():Sr.newInvalidDocument(t))}getEntries(e,t){let i=cu();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Sr.newInvalidDocument(r))}),xe.resolve(i)}getAllFromCollection(e,t,i){let r=cu();const a=new Tt(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:g,value:{document:y}}=c.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||oN(Sk(y),i)<=0||(r=r.insert(y.key,y.mutableCopy()))}return xe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Bt()}As(e,t){return xe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _$(this)}getSize(e){return xe.resolve(this.size)}}class _$ extends iL{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),xe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class v${constructor(e){this.persistence=e,this.Rs=new xg(t=>v_(t),R1),this.lastRemoteSnapshotVersion=un.min(),this.highestTargetId=0,this.bs=0,this.Ps=new xN,this.targetCount=0,this.vs=S_.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),xe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new S_(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,xe.resolve()}updateTargetData(e,t){return this.Dn(t),xe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((c,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,g.targetId)),r++)}),xe.waitFor(a).next(()=>r)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return xe.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),xe.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),xe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),xe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return xe.resolve(i)}containsKey(e,t){return xe.resolve(this.Ps.containsKey(t))}}class uL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new lu(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new v$(this),this.indexManager=new i$,this.remoteDocumentCache=new m$(i=>this.referenceDelegate.xs(i)),this.It=new UF(t),this.Ns=new f$(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new g$(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){lt("MemoryPersistence","Starting transaction:",e);const r=new y$(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return xe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class y$ extends Ak{constructor(e){super(),this.currentSequenceNumber=e}}class $T{constructor(e){this.persistence=e,this.Fs=new xN,this.$s=null}static Bs(e){return new $T(e)}get Ls(){if(this.$s)return this.$s;throw Bt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),xe.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),xe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),xe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Ls,i=>{const r=Tt.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,un.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return xe.or([()=>xe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class b${constructor(e){this.It=e}$(e,t,i,r){const a=new wT("createOrUpgrade",t);var g;i<1&&r>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kF,{unique:!0}),g.createObjectStore("documentMutations"),cL(e),function(g){g.createObjectStore("remoteDocuments")}(e));let c=xe.resolve();return i<3&&r>=3&&(0!==i&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),cL(e)),c=c.next(()=>function(g){const y=g.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:un.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",C)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(g,y){return y.store("mutations").W().next(C=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kF,{unique:!0});const A=y.store("mutations"),R=C.map(H=>A.put(H));return xe.waitFor(R)})}(e,a))),c=c.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(a))),i<6&&r>=6&&(c=c.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(a))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(a))),i<11&&r>=11&&(c=c.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:W3});y.createIndex("collectionPathOverlayIndex",z3,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",q3,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:P3});y.createIndex("documentKeyIndex",k3),y.createIndex("collectionGroupIndex",F3)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,a))),i<15&&r>=15&&(c=c.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:$3}).createIndex("sequenceNumberIndex",G3,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:H3}).createIndex("documentKeyIndex",j3,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=BT(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>xe.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(g=>xe.forEach(g,y=>{fn(y.userId===a.userId);const C=C_(this.It,y);return JF(e,a.userId,C).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((c,g)=>{const y=new mi(c),C=[0,Dl(y)];a.push(t.get(C).next(A=>A?xe.resolve():t.put({targetId:0,path:Dl(y),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>xe.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:U3});const i=t.store("collectionParents"),r=new SN,a=c=>{if(r.add(c)){const g=c.lastSegment(),y=c.popLast();return i.put({collectionId:g,parent:Dl(y)})}};return t.store("remoteDocuments").Z({X:!0},(c,g)=>{const y=new mi(c);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,g,y],C)=>{const A=Zh(g);return a(A.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=W1(r),c=GF(this.It,a);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,c)=>{const g=t.store("remoteDocumentsV14"),y=(C=c,C.document?new Tt(mi.fromString(C.document.name).popFirst(5)):C.noDocument?Tt.fromSegments(C.noDocument.path):C.unknownDocument?Tt.fromSegments(C.unknownDocument.path):Bt()).path.toArray();var C;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(g.put(A))}).next(()=>xe.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=rL(this.It),a=new uL($T.Bs,this.It.re);return i.W().next(c=>{const g=new Map;return c.forEach(y=>{var C;let A=null!==(C=g.get(y.userId))&&void 0!==C?C:Rn();C_(this.It,y).keys().forEach(R=>A=A.add(R)),g.set(y.userId,A)}),xe.forEach(g,(y,C)=>{const A=new Ko(C),R=kT.oe(this.It,A),H=a.getIndexManager(A),Z=VT.oe(A,this.It,H,a.referenceDelegate);return new lL(r,Z,R,H).recalculateAndSaveOverlaysForDocumentKeys(new wN(t,lu.at),y).next()})})}}function cL(n){n.createObjectStore("targetDocuments",{keyPath:B3}).createIndex("documentTargetsIndex",V3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",L3,{unique:!0}),n.createObjectStore("targetGlobal")}const AN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NN{constructor(e,t,i,r,a,c,g,y,C,A,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=c,this.document=g,this.Js=C,this.Ys=A,this.Xs=R,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=H=>Promise.resolve(),!NN.C())throw new et(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new u$(this,r),this.ii=t+"main",this.It=new UF(y),this.ri=new Gd(this.ii,this.Xs,new b$(this.It)),this.Cs=new s$(this.referenceDelegate,this.It),this.remoteDocumentCache=rL(this.It),this.Ns=new Q3,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===A&&$s("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Pe.FAILED_PRECONDITION,AN);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new lu(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Be.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Be.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Dg(e))return lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Q1(e).get("owner").next(t=>xe.resolve(this.mi(t)))}gi(e){return GT(e).delete(this.clientId)}yi(){var e=this;return(0,Be.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Xo(i,"clientMetadata");return r.W().next(a=>{const c=e.Ii(a,18e5),g=a.filter(y=>-1===c.indexOf(y));return xe.forEach(g,y=>r.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?xe.resolve(!0):Q1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new et(Pe.FAILED_PRECONDITION,AN);return!1}}return!(!this.networkEnabled||!this.inForeground)||GT(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,g=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Be.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new wN(t,lu.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>GT(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return VT.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new r$(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return kT.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){lt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?Y3:14===c?VF:13===c?BF:12===c?Z3:11===c?LF:void Bt();var c;let g;return this.ri.runTransaction(e,r,a,y=>(g=new wN(y,this.Ss?this.Ss.next():lu.at),"readwrite-primary"===t?this.fi(g).next(C=>!!C||this.di(g)).next(C=>{if(!C)throw $s(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new et(Pe.FAILED_PRECONDITION,xk);return i(g)}).next(C=>this.wi(g).next(()=>C)):this.Vi(g).next(()=>i(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}Vi(e){return Q1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new et(Pe.FAILED_PRECONDITION,AN)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Q1(e).put("owner",t)}static C(){return Gd.C()}_i(e){const t=Q1(e);return t.get("owner").next(i=>this.mi(i)?(lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):xe.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&($s(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return lt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return $s("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){$s("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Q1(n){return Xo(n,"owner")}function GT(n){return Xo(n,"clientMetadata")}function ON(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class MN{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Rn(),r=Rn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new MN(e,t.fromCache,i,r)}}class dL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Mi(e,t,r,i)).next(a=>a||this.Oi(e,t))}ki(e,t){if(Kk(t))return xe.resolve(null);let i=uu(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ST(t,null,"F"),i=uu(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Rn(...a);return this.Ni.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,i).next(y=>{const C=this.Fi(t,g);return this.$i(t,C,c,y.readTime)?this.ki(e,ST(t,null,"F")):this.Bi(e,C,t,y)}))})))}Mi(e,t,i,r){return Kk(t)||r.isEqual(un.min())?this.Oi(e,t):this.Ni.getDocuments(e,i).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,i,r)?this.Oi(e,t):(iN()<=_g.in.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gN(t)),this.Bi(e,c,t,Ek(r,-1)))})}Fi(e,t){let i=new fr(Xk(e));return t.forEach((r,a)=>{mN(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return iN()<=_g.in.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",gN(t)),this.Ni.getDocumentsMatchingQuery(e,t,oc.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class w${constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new ws(bn),this.qi=new xg(a=>v_(a),R1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function hL(n,e,t,i){return new w$(n,e,t,i)}function fL(n,e){return RN.apply(this,arguments)}function RN(){return RN=(0,Be.Z)(function*(n,e){const t=xt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],g=[];let y=Rn();for(const C of r){c.push(C.batchId);for(const A of C.mutations)y=y.add(A.key)}for(const C of a){g.push(C.batchId);for(const A of C.mutations)y=y.add(A.key)}return t.localDocuments.getDocuments(i,y).next(C=>({ji:C,removedBatchIds:c,addedBatchIds:g}))})})}),RN.apply(this,arguments)}function D$(n,e){const t=xt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,g,y,C){const A=y.batch,R=A.keys();let H=xe.resolve();return R.forEach(Z=>{H=H.next(()=>C.getEntry(g,Z)).next(ue=>{const _e=y.docVersions.get(Z);fn(null!==_e),ue.version.compareTo(_e)<0&&(A.applyToRemoteDocument(ue,y),ue.isValidDocument()&&(ue.setReadTime(y.commitVersion),C.addEntry(ue)))})}),H.next(()=>c.mutationQueue.removeMutationBatch(g,A))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let g=Rn();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(g=g.add(c.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function pL(n){const e=xt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function C$(n,e){const t=xt(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const g=[];e.targetChanges.forEach((A,R)=>{const H=r.get(R);if(!H)return;g.push(t.Cs.removeMatchingKeys(a,A.removedDocuments,R).next(()=>t.Cs.addMatchingKeys(a,A.addedDocuments,R)));let Z=H.withSequenceNumber(a.currentSequenceNumber);var ue,_e,De;e.targetMismatches.has(R)?Z=Z.withResumeToken(To.EMPTY_BYTE_STRING,un.min()).withLastLimboFreeSnapshotVersion(un.min()):A.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(A.resumeToken,i)),r=r.insert(R,Z),_e=Z,De=A,(0===(ue=H).resumeToken.approximateByteSize()||_e.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(a,Z))});let y=cu(),C=Rn();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(a,A))}),g.push(gL(a,c,e.documentUpdates).next(A=>{y=A.Wi,C=A.zi})),!i.isEqual(un.min())){const A=t.Cs.getLastRemoteSnapshotVersion(a).next(R=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));g.push(A)}return xe.waitFor(g).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,C)).next(()=>y)}).then(a=>(t.Ui=r,a))}function gL(n,e,t){let i=Rn(),r=Rn();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=cu();return t.forEach((g,y)=>{const C=a.get(g);y.isFoundDocument()!==C.isFoundDocument()&&(r=r.add(g)),y.isNoDocument()&&y.version.isEqual(un.min())?(e.removeEntry(g,y.readTime),c=c.insert(g,y)):!C.isValidDocument()||y.version.compareTo(C.version)>0||0===y.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(y),c=c.insert(g,y)):lt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",y.version)}),{Wi:c,zi:r}})}function I$(n,e){const t=xt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function c0(n,e){const t=xt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,xe.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new Ag(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function d0(n,e,t){return PN.apply(this,arguments)}function PN(){return PN=(0,Be.Z)(function*(n,e,t){const i=xt(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Dg(c))throw c;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),PN.apply(this,arguments)}function HT(n,e,t){const i=xt(n);let r=un.min(),a=Rn();return i.persistence.runTransaction("Execute query","readonly",c=>function(g,y,C){const A=xt(g),R=A.qi.get(C);return void 0!==R?xe.resolve(A.Ui.get(R)):A.Cs.getTargetData(y,C)}(i,c,uu(e)).next(g=>{if(g)return r=g.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,g.targetId).next(y=>{a=y})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:un.min(),t?a:Rn())).next(g=>(vL(i,Jk(e),g),{documents:g,Hi:a})))}function mL(n,e){const t=xt(n),i=xt(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(c=>c?c.target:null))}function _L(n,e){const t=xt(n),i=t.Ki.get(e)||un.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,Ek(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(vL(t,e,r),r))}function vL(n,e,t){let i=un.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function kN(){return kN=(0,Be.Z)(function*(n,e,t,i){const r=xt(n);let a=Rn(),c=cu();for(const C of t){const A=e.Ji(C.metadata.name);C.document&&(a=a.add(A));const R=e.Yi(C);R.setReadTime(e.Xi(C.metadata.readTime)),c=c.insert(A,R)}const g=r.Gi.newChangeBuffer({trackRemovals:!0}),y=yield c0(r,(C=i,uu(Xy(mi.fromString(`__bundle__/docs/${C}`)))));var C;return r.persistence.runTransaction("Apply bundle documents","readwrite",C=>gL(C,g,c).next(A=>(g.apply(C),A)).next(A=>r.Cs.removeMatchingKeysForTargetId(C,y.targetId).next(()=>r.Cs.addMatchingKeys(C,a,y.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(C,A.Wi,A.zi)).next(()=>A.Wi)))}),kN.apply(this,arguments)}function E$(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,Be.Z)(function*(n,e,t=Rn()){const i=yield c0(n,uu(TN(e.bundledQuery))),r=xt(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=Jo(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(a,e);const g=i.withResumeToken(To.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(g.targetId,g),r.Cs.updateTargetData(a,g).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),FN.apply(this,arguments)}function yL(n,e){return`firestore_clients_${n}_${e}`}function bL(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function LN(n,e){return`firestore_targets_${n}_${e}`}class jT{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new et(r.error.code,r.error.message))),c?new jT(e,t,r.state,a):($s("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class J1{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new et(i.error.code,i.error.message))),a?new J1(e,i.state,r):($s("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class WT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=OT();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=kk(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new WT(e,a):($s("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class BN{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new BN(t.clientId,t.onlineState):($s("SharedClientState",`Failed to parse online state: ${e}`),null)}}class VN{constructor(){this.activeTargetIds=OT()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ws(bn),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=yL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new VN),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Be.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(yL(e.persistenceKey,r));if(a){const c=WT.Zi(r,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(LN(this.persistenceKey,e));if(i){const r=J1.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(LN(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return lt("SharedClientState","READ",e,t),t}setItem(e,t){lt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(lt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void $s("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Be.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let c=lu.at;if(null!=a)try{const g=JSON.parse(a);fn("number"==typeof g),c=g}catch(g){$s("SharedClientState","Failed to read sequence number from WebStorage",g)}return c}(i.newValue);r!==lu.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Mr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new jT(this.currentUser,e,t,i),a=bL(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=bL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=LN(this.persistenceKey,e),a=new J1(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return WT.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return jT.Zi(new Ko(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return J1.Zi(r,t)}yr(e){return BN.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),c=[],g=[];return a.forEach(y=>{r.has(y)||c.push(y)}),r.forEach(y=>{a.has(y)||g.push(y)}),this.syncEngine.Br(c,g).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=OT();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class wL{constructor(){this.Lr=new VN,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new VN,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class S${qr(e){}shutdown(){}}class DL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const x$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class A${constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class N$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,a){const c=this.ao(e,t);lt("RestConnection","Sending: ",c,i);const g={};return this.ho(g,r,a),this.lo(e,c,g,i).then(y=>(lt("RestConnection","Received: ",y),y),y=>{throw d_("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",i),y})}fo(e,t,i,r,a,c){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.oo}/v1/${t}:${x$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){return new Promise((a,c)=>{const g=new SU;g.listenOnce(IU.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case nN.NO_ERROR:const C=g.getResponseJson();lt("Connection","XHR received:",JSON.stringify(C)),a(C);break;case nN.TIMEOUT:lt("Connection",'RPC "'+e+'" timed out'),c(new et(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case nN.HTTP_ERROR:const A=g.getStatus();if(lt("Connection",'RPC "'+e+'" failed with status:',A,"response text:",g.getResponseText()),A>0){const R=g.getResponseJson().error;if(R&&R.status&&R.message){const H=function(Z){const ue=Z.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(ue)>=0?ue:Pe.UNKNOWN}(R.status);c(new et(H,R.message))}else c(new et(Pe.UNKNOWN,"Server responded with status "+g.getStatus()))}else c(new et(Pe.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{lt("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(r);g.send(t,"POST",y,i,15)})}_o(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=DU(),c=CU(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new EU({})),this.ho(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const y=r.join("");lt("Connection","Creating WebChannel: "+y,g);const C=a.createWebChannel(y,g);let A=!1,R=!1;const H=new A$({Hr:ue=>{R?lt("Connection","Not sending because WebChannel is closed:",ue):(A||(lt("Connection","Opening WebChannel transport."),C.open(),A=!0),lt("Connection","WebChannel sending:",ue),C.send(ue))},Jr:()=>C.close()}),Z=(ue,_e,De)=>{ue.listen(_e,ot=>{try{De(ot)}catch(ut){setTimeout(()=>{throw ut},0)}})};return Z(C,vT.EventType.OPEN,()=>{R||lt("Connection","WebChannel transport opened.")}),Z(C,vT.EventType.CLOSE,()=>{R||(R=!0,lt("Connection","WebChannel transport closed"),H.io())}),Z(C,vT.EventType.ERROR,ue=>{R||(R=!0,d_("Connection","WebChannel transport errored:",ue),H.io(new et(Pe.UNAVAILABLE,"The operation could not be completed")))}),Z(C,vT.EventType.MESSAGE,ue=>{var _e;if(!R){const De=ue.data[0];fn(!!De);const ot=De,ut=ot.error||(null===(_e=ot[0])||void 0===_e?void 0:_e.error);if(ut){lt("Connection","WebChannel received error:",ut);const vt=ut.status;let rt=function(Dt){const rn=lo[Dt];if(void 0!==rn)return pF(rn)}(vt),gt=ut.message;void 0===rt&&(rt=Pe.INTERNAL,gt="Unknown error status: "+vt+" with message "+ut.message),R=!0,H.io(new et(rt,gt)),C.close()}else lt("Connection","WebChannel received:",De),H.ro(De)}}),Z(c,TU.STAT_EVENT,ue=>{ue.stat===bk.PROXY?lt("Connection","Detected buffering proxy"):ue.stat===bk.NOPROXY&&lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.so()},0),H}}function CL(){return typeof window<"u"?window:null}function zT(){return typeof document<"u"?document:null}function X1(n){return new w3(n,!0)}class $N{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&lt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class IL{constructor(e,t,i,r,a,c,g,y){this.Hs=e,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new $N(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Be.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Be.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Be.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Pe.RESOURCE_EXHAUSTED?($s(t.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):t&&t.code===Pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new et(Pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Be.Z)(function*(){e.state=0,e.start()}))}Qo(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O$ extends IL{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function I3(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Bt(),r=e.targetChange.targetIds||[],a=function(y,C){return y.gt?(fn(void 0===C||"string"==typeof C),To.fromBase64String(C||"")):(fn(void 0===C||C instanceof Uint8Array),To.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(y){const C=void 0===y.code?Pe.UNKNOWN:pF(y.code);return new et(C,y.message||"")}(c);t=new yF(i,r,a,g||null)}else if("documentChange"in e){const i=e.documentChange,r=qh(n,i.document.name),a=Jo(i.document.updateTime),c=new ba({mapValue:{fields:i.document.fields}}),g=Sr.newFoundDocument(r,a,c);t=new MT(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=qh(n,i.document),a=i.readTime?Jo(i.readTime):un.min(),c=Sr.newNoDocument(r,a);t=new MT([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=qh(n,i.document);t=new MT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Bt();{const i=e.filter,a=new f3(i.count||0);t=new vF(i.targetId,a)}}var y;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return un.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?un.min():a.readTime?Jo(a.readTime):un.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=H1(this.It),t.addTarget=function(r,a){let c;const g=a.target;return c=TT(g)?{documents:AF(r,g)}:{query:NF(r,g)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=CF(r,a.resumeToken):a.snapshotVersion.compareTo(un.min())>0&&(c.readTime=$1(r,a.snapshotVersion.toTimestamp())),c}(this.It,e);const i=function E3(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=H1(this.It),t.removeTarget=e,this.Bo(t)}}class M$ extends IL{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function T3(n,e){return n&&n.length>0?(fn(void 0!==e),n.map(t=>function(i,r){let a=Jo(i.updateTime?i.updateTime:r);return a.isEqual(un.min())&&(a=Jo(r)),new c3(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Jo(e.commitTime);return this.listener.Zo(i,t)}return fn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=H1(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>j1(this.It,i))};this.Bo(t)}}class R$ extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new et(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new et(Pe.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.Vo.fo(e,t,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new et(Pe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class P${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?($s(t),this.ou=!1):lt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class k${constructor(e,t,i,r,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(g=>{i.enqueueAndForget((0,Be.Z)(function*(){var y;Mg(c)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Be.Z)(function*(C){const A=xt(C);A._u.add(4),yield h0(A),A.gu.set("Unknown"),A._u.delete(4),yield eD(A)}),function(C){return y.apply(this,arguments)})(c))}))}),this.gu=new P$(i,r)}}function eD(n){return GN.apply(this,arguments)}function GN(){return GN=(0,Be.Z)(function*(n){if(Mg(n))for(const e of n.wu)yield e(!0)}),GN.apply(this,arguments)}function h0(n){return HN.apply(this,arguments)}function HN(){return HN=(0,Be.Z)(function*(n){for(const e of n.wu)yield e(!1)}),HN.apply(this,arguments)}function qT(n,e){const t=xt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),zN(t)?WN(t):p0(t).ko()&&jN(t,e))}function tD(n,e){const t=xt(n),i=p0(t);t.du.delete(e),i.ko()&&TL(t,e),0===t.du.size&&(i.ko()?i.Fo():Mg(t)&&t.gu.set("Unknown"))}function jN(n,e){n.yu.Ot(e.targetId),p0(n).zo(e)}function TL(n,e){n.yu.Ot(e),p0(n).Ho(e)}function WN(n){n.yu=new v3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),p0(n).start(),n.gu.uu()}function zN(n){return Mg(n)&&!p0(n).No()&&n.du.size>0}function Mg(n){return 0===xt(n)._u.size}function EL(n){n.yu=void 0}function F$(n){return qN.apply(this,arguments)}function qN(){return qN=(0,Be.Z)(function*(n){n.du.forEach((e,t)=>{jN(n,e)})}),qN.apply(this,arguments)}function L$(n,e){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,Be.Z)(function*(n,e){EL(n),zN(n)?(n.gu.hu(e),WN(n)):n.gu.set("Unknown")}),ZN.apply(this,arguments)}function B$(n,e,t){return YN.apply(this,arguments)}function YN(){return YN=(0,Be.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof yF&&2===e.state&&e.cause)try{yield(i=(0,Be.Z)(function*(r,a){const c=a.cause;for(const g of a.targetIds)r.du.has(g)&&(yield r.remoteSyncer.rejectListen(g,c),r.du.delete(g),r.yu.removeTarget(g))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ZT(n,i)}else if(e instanceof MT?n.yu.Gt(e):e instanceof vF?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(un.min()))try{const i=yield pL(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const c=r.yu.te(a);return c.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const C=r.du.get(y);C&&r.du.set(y,C.withResumeToken(g.resumeToken,a))}}),c.targetMismatches.forEach(g=>{const y=r.du.get(g);if(!y)return;r.du.set(g,y.withResumeToken(To.EMPTY_BYTE_STRING,y.snapshotVersion)),TL(r,g);const C=new Ag(y.target,g,1,y.sequenceNumber);jN(r,C)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){lt("RemoteStore","Failed to raise snapshot:",i),yield ZT(n,i)}var i}),YN.apply(this,arguments)}function ZT(n,e,t){return KN.apply(this,arguments)}function KN(){return KN=(0,Be.Z)(function*(n,e,t){if(!Dg(e))throw e;n._u.add(1),yield h0(n),n.gu.set("Offline"),t||(t=()=>pL(n.localStore)),n.asyncQueue.enqueueRetryable((0,Be.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield eD(n)}))}),KN.apply(this,arguments)}function SL(n,e){return e().catch(t=>ZT(n,t,e))}function f0(n){return QN.apply(this,arguments)}function QN(){return QN=(0,Be.Z)(function*(n){const e=xt(n),t=Rg(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;V$(e);)try{const r=yield I$(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,U$(e,r)}catch(r){yield ZT(e,r)}xL(e)&&AL(e)}),QN.apply(this,arguments)}function V$(n){return Mg(n)&&n.fu.length<10}function U$(n,e){n.fu.push(e);const t=Rg(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function xL(n){return Mg(n)&&!Rg(n).No()&&n.fu.length>0}function AL(n){Rg(n).start()}function $$(n){return JN.apply(this,arguments)}function JN(){return JN=(0,Be.Z)(function*(n){Rg(n).eu()}),JN.apply(this,arguments)}function G$(n){return XN.apply(this,arguments)}function XN(){return XN=(0,Be.Z)(function*(n){const e=Rg(n);for(const t of n.fu)e.Xo(t.mutations)}),XN.apply(this,arguments)}function H$(n,e,t){return eO.apply(this,arguments)}function eO(){return eO=(0,Be.Z)(function*(n,e,t){const i=n.fu.shift(),r=CN.from(i,e,t);yield SL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield f0(n)}),eO.apply(this,arguments)}function j$(n,e){return tO.apply(this,arguments)}function tO(){return tO=(0,Be.Z)(function*(n,e){var t;e&&Rg(n).Yo&&(yield(t=(0,Be.Z)(function*(i,r){if(fF(a=r.code)&&a!==Pe.ABORTED){const c=i.fu.shift();Rg(i).Oo(),yield SL(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield f0(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),xL(n)&&AL(n)}),tO.apply(this,arguments)}function NL(n,e){return nO.apply(this,arguments)}function nO(){return nO=(0,Be.Z)(function*(n,e){const t=xt(n);t.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const i=Mg(t);t._u.add(3),yield h0(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield eD(t)}),nO.apply(this,arguments)}function iO(n,e){return rO.apply(this,arguments)}function rO(){return rO=(0,Be.Z)(function*(n,e){const t=xt(n);e?(t._u.delete(2),yield eD(t)):e||(t._u.add(2),yield h0(t),t.gu.set("Unknown"))}),rO.apply(this,arguments)}function p0(n){return n.pu||(n.pu=function(e,t,i){const r=xt(e);return r.su(),new O$(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:F$.bind(null,n),Zr:L$.bind(null,n),Wo:B$.bind(null,n)}),n.wu.push(function(){var e=(0,Be.Z)(function*(t){t?(n.pu.Oo(),zN(n)?WN(n):n.gu.set("Unknown")):(yield n.pu.stop(),EL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Rg(n){return n.Iu||(n.Iu=function(e,t,i){const r=xt(e);return r.su(),new M$(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:$$.bind(null,n),Zr:j$.bind(null,n),tu:G$.bind(null,n),Zo:H$.bind(null,n)}),n.wu.push(function(){var e=(0,Be.Z)(function*(t){t?(n.Iu.Oo(),yield f0(n)):(yield n.Iu.stop(),n.fu.length>0&&(lt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class sO{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,g=new sO(e,t,c,r,a);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g0(n,e){if($s("AsyncQueue",`${e}: ${n}`),Dg(n))return new et(Pe.UNAVAILABLE,`${e}: ${n}`);throw n}class m0{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Tt.comparator(t.key,i.key):(t,i)=>Tt.comparator(t.key,i.key),this.keyedMap=L1(),this.sortedSet=new ws(this.comparator)}static emptySet(e){return new m0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof m0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new m0;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class OL{constructor(){this.Tu=new ws(Tt.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Bt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class _0{constructor(e,t,i,r,a,c,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new _0(e,t,m0.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&P1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class W${constructor(){this.Au=void 0,this.listeners=[]}}class z${constructor(){this.queries=new xg(e=>Qk(e),P1),this.onlineState="Unknown",this.Ru=new Set}}function oO(n,e){return aO.apply(this,arguments)}function aO(){return aO=(0,Be.Z)(function*(n,e){const t=xt(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new W$),r)try{a.Au=yield t.onListen(i)}catch(c){const g=g0(c,`Initialization of query '${gN(e.query)}' failed`);return void e.onError(g)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&cO(t)}),aO.apply(this,arguments)}function lO(n,e){return uO.apply(this,arguments)}function uO(){return uO=(0,Be.Z)(function*(n,e){const t=xt(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),uO.apply(this,arguments)}function q$(n,e){const t=xt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const g of c.listeners)g.Pu(r)&&(i=!0);c.Au=r}}i&&cO(t)}function Z$(n,e,t){const i=xt(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function cO(n){n.Ru.forEach(e=>{e.next()})}class dO{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new _0(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=_0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Y${constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class ML{constructor(e){this.It=e}Ji(e){return qh(this.It,e)}Yi(e){return e.metadata.exists?xF(this.It,e.document,!1):Sr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Jo(e)}}class K${constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RL(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=mi.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,i=new ML(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const g=(t.get(c)||Rn()).add(a);t.set(c,g)}}return t}complete(){var e=this;return(0,Be.Z)(function*(){const t=yield function T$(n,e,t,i){return kN.apply(this,arguments)}(e.localStore,new ML(e.It),e.documents,e.Mu.id),i=e.Fu(e.documents);for(const r of e.queries)yield E$(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function RL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PL{constructor(e){this.key=e}}class kL{constructor(e){this.key=e}}class FL{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Rn(),this.mutatedKeys=Rn(),this.Ku=Xk(e),this.Gu=new m0(this.Ku)}get Qu(){return this.Lu}ju(e,t){const i=t?t.Wu:new OL,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,g=!1;const y="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,C="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((A,R)=>{const H=r.get(A),Z=mN(this.query,R)?R:null,ue=!!H&&this.mutatedKeys.has(H.key),_e=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let De=!1;H&&Z?H.data.isEqual(Z.data)?ue!==_e&&(i.track({type:3,doc:Z}),De=!0):this.zu(H,Z)||(i.track({type:2,doc:Z}),De=!0,(y&&this.Ku(Z,y)>0||C&&this.Ku(Z,C)<0)&&(g=!0)):!H&&Z?(i.track({type:0,doc:Z}),De=!0):H&&!Z&&(i.track({type:1,doc:H}),De=!0,(y||C)&&(g=!0)),De&&(Z?(c=c.add(Z),a=_e?a.add(A):a.delete(A)):(c=c.delete(A),a=a.delete(A)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const A="F"===this.query.limitType?c.last():c.first();c=c.delete(A.key),a=a.delete(A.key),i.track({type:1,doc:A})}return{Gu:c,Wu:i,$i:g,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((C,A)=>function(R,H){const Z=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return Z(R)-Z(H)}(C.type,A.type)||this.Ku(C.doc,A.doc)),this.Hu(i);const c=t?this.Ju():[],g=0===this.qu.size&&this.current?1:0,y=g!==this.Uu;return this.Uu=g,0!==a.length||y?{snapshot:new _0(this.query,e.Gu,r,a,e.mutatedKeys,0===g,y,!1),Yu:c}:{Yu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new OL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Rn(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const t=[];return e.forEach(i=>{this.qu.has(i)||t.push(new kL(i))}),this.qu.forEach(i=>{e.has(i)||t.push(new PL(i))}),t}Zu(e){this.Lu=e.Hi,this.qu=Rn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return _0.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Q${constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class J${constructor(e){this.key=e,this.ec=!1}}class X${constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new xg(g=>Qk(g),P1),this.ic=new Map,this.rc=new Set,this.oc=new ws(Tt.comparator),this.uc=new Map,this.cc=new xN,this.ac={},this.hc=new Map,this.lc=S_.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function eG(n,e){return hO.apply(this,arguments)}function hO(){return hO=(0,Be.Z)(function*(n,e){const t=kO(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const c=yield c0(t.localStore,uu(e));t.isPrimaryClient&&qT(t.remoteStore,c);const g=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield fO(t,e,i,"current"===g)}return r}),hO.apply(this,arguments)}function fO(n,e,t,i){return pO.apply(this,arguments)}function pO(){return pO=(0,Be.Z)(function*(n,e,t,i){n.dc=(A,R,H)=>{return(Z=(0,Be.Z)(function*(ue,_e,De,ot){let ut=_e.view.ju(De);ut.$i&&(ut=yield HT(ue.localStore,_e.query,!1).then(({documents:gt})=>_e.view.ju(gt,ut)));const vt=ot&&ot.targetChanges.get(_e.targetId),rt=_e.view.applyChanges(ut,ue.isPrimaryClient,vt);return IO(ue,_e.targetId,rt.Yu),rt.snapshot}),function(ue,_e,De,ot){return Z.apply(this,arguments)})(n,A,R,H);var Z};const r=yield HT(n.localStore,e,!0),a=new FL(e,r.Hi),c=a.ju(r.documents),g=U1.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),y=a.applyChanges(c,n.isPrimaryClient,g);IO(n,t,y.Yu);const C=new Q$(e,t,a);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),pO.apply(this,arguments)}function tG(n,e){return gO.apply(this,arguments)}function gO(){return gO=(0,Be.Z)(function*(n,e){const t=xt(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!P1(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield d0(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),tD(t.remoteStore,i.targetId),v0(t,i.targetId)}).catch(wg))):(v0(t,i.targetId),yield d0(t.localStore,i.targetId,!0))}),gO.apply(this,arguments)}function mO(){return mO=(0,Be.Z)(function*(n,e,t){const i=FO(n);try{const r=yield function(a,c){const g=xt(a),y=Jr.now(),C=c.reduce((H,Z)=>H.add(Z.key),Rn());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Z=cu(),ue=Rn();return g.Gi.getEntries(H,C).next(_e=>{Z=_e,Z.forEach((De,ot)=>{ot.isValidDocument()||(ue=ue.add(De))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,Z)).next(_e=>{A=_e;const De=[];for(const ot of c){const ut=h3(ot,A.get(ot.key).overlayedDocument);null!=ut&&De.push(new ip(ot.key,ut,Gk(ut.value.mapValue),Xr.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,De,c)}).next(_e=>{R=_e;const De=_e.applyToLocalDocumentSet(A,ue);return g.documentOverlayCache.saveOverlays(H,_e.batchId,De)})}).then(()=>({batchId:R.batchId,changes:mF(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,g){let y=a.ac[a.currentUser.toKey()];y||(y=new ws(bn)),y=y.insert(c,g),a.ac[a.currentUser.toKey()]=y}(i,r.batchId,t),yield rp(i,r.changes),yield f0(i.remoteStore)}catch(r){const a=g0(r,"Failed to persist write");t.reject(a)}}),mO.apply(this,arguments)}function LL(n,e){return _O.apply(this,arguments)}function _O(){return _O=(0,Be.Z)(function*(n,e){const t=xt(n);try{const i=yield C$(t.localStore,e);e.targetChanges.forEach((r,a)=>{const c=t.uc.get(a);c&&(fn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ec=!0:r.modifiedDocuments.size>0?fn(c.ec):r.removedDocuments.size>0&&(fn(c.ec),c.ec=!1))}),yield rp(t,i,e)}catch(i){yield wg(i)}}),_O.apply(this,arguments)}function BL(n,e,t){const i=xt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,c)=>{const g=c.view.bu(e);g.snapshot&&r.push(g.snapshot)}),function(a,c){const g=xt(a);g.onlineState=c;let y=!1;g.queries.forEach((C,A)=>{for(const R of A.listeners)R.bu(c)&&(y=!0)}),y&&cO(g)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function iG(n,e,t){return vO.apply(this,arguments)}function vO(){return vO=(0,Be.Z)(function*(n,e,t){const i=xt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let c=new ws(Tt.comparator);c=c.insert(a,Sr.newNoDocument(a,un.min()));const g=Rn().add(a),y=new V1(un.min(),new Map,new fr(bn),c,g);yield LL(i,y),i.oc=i.oc.remove(a),i.uc.delete(e),TO(i)}else yield d0(i.localStore,e,!1).then(()=>v0(i,e,t)).catch(wg)}),vO.apply(this,arguments)}function rG(n,e){return yO.apply(this,arguments)}function yO(){return yO=(0,Be.Z)(function*(n,e){const t=xt(n),i=e.batch.batchId;try{const r=yield D$(t.localStore,e);CO(t,i,null),DO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield rp(t,r)}catch(r){yield wg(r)}}),yO.apply(this,arguments)}function sG(n,e,t){return bO.apply(this,arguments)}function bO(){return bO=(0,Be.Z)(function*(n,e,t){const i=xt(n);try{const r=yield function(a,c){const g=xt(a);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let C;return g.mutationQueue.lookupMutationBatch(y,c).next(A=>(fn(null!==A),C=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,C,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,C)).next(()=>g.localDocuments.getDocuments(y,C))})}(i.localStore,e);CO(i,e,t),DO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield rp(i,r)}catch(r){yield wg(r)}}),bO.apply(this,arguments)}function wO(){return wO=(0,Be.Z)(function*(n,e){const t=xt(n);Mg(t.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=xt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>c.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=g0(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),wO.apply(this,arguments)}function DO(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function CO(n,e,t){const i=xt(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function v0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc._c(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(i=>{n.cc.containsKey(i)||VL(n,i)})}function VL(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(tD(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),TO(n))}function IO(n,e,t){for(const i of t)i instanceof PL?(n.cc.addReference(i.key,e),aG(n,i)):i instanceof kL?(lt("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||VL(n,i.key)):Bt()}function aG(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(lt("SyncEngine","New document in limbo: "+t),n.rc.add(i),TO(n))}function TO(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Tt(mi.fromString(e)),i=n.lc.next();n.uc.set(i,new J$(t)),n.oc=n.oc.insert(t,i),qT(n.remoteStore,new Ag(uu(Xy(t.path)),i,2,lu.at))}}function rp(n,e,t){return EO.apply(this,arguments)}function EO(){return EO=(0,Be.Z)(function*(n,e,t){const i=xt(n),r=[],a=[],c=[];var g;i.sc.isEmpty()||(i.sc.forEach((g,y)=>{c.push(i.dc(y,e,t).then(C=>{if(C){i.isPrimaryClient&&i.sharedClientState.updateQueryState(y.targetId,C.fromCache?"not-current":"current"),r.push(C);const A=MN.Ci(y.targetId,C);a.push(A)}}))}),yield Promise.all(c),i.nc.Wo(r),yield(g=(0,Be.Z)(function*(y,C){const A=xt(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>xe.forEach(C,H=>xe.forEach(H.Si,Z=>A.persistence.referenceDelegate.addReference(R,H.targetId,Z)).next(()=>xe.forEach(H.Di,Z=>A.persistence.referenceDelegate.removeReference(R,H.targetId,Z)))))}catch(R){if(!Dg(R))throw R;lt("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const H=R.targetId;if(!R.fromCache){const Z=A.Ui.get(H),_e=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);A.Ui=A.Ui.insert(H,_e)}}}),function(y,C){return g.apply(this,arguments)})(i.localStore,a))}),EO.apply(this,arguments)}function lG(n,e){return SO.apply(this,arguments)}function SO(){return SO=(0,Be.Z)(function*(n,e){const t=xt(n);if(!t.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const i=yield fL(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(c=>{c.forEach(g=>{g.reject(new et(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield rp(t,i.ji)}var r}),SO.apply(this,arguments)}function uG(n,e){const t=xt(n),i=t.uc.get(e);if(i&&i.ec)return Rn().add(i.key);{let r=Rn();const a=t.ic.get(e);if(!a)return r;for(const c of a){const g=t.sc.get(c);r=r.unionWith(g.view.Qu)}return r}}function cG(n,e){return xO.apply(this,arguments)}function xO(){return xO=(0,Be.Z)(function*(n,e){const t=xt(n),i=yield HT(t.localStore,e.query,!0),r=e.view.Zu(i);return t.isPrimaryClient&&IO(t,e.targetId,r.Yu),r}),xO.apply(this,arguments)}function dG(n,e){return AO.apply(this,arguments)}function AO(){return AO=(0,Be.Z)(function*(n,e){const t=xt(n);return _L(t.localStore,e).then(i=>rp(t,i))}),AO.apply(this,arguments)}function hG(n,e,t,i){return NO.apply(this,arguments)}function NO(){return NO=(0,Be.Z)(function*(n,e,t,i){const r=xt(n),a=yield function(c,g){const y=xt(c),C=xt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>C.Tn(A,g).next(R=>R?y.localDocuments.getDocuments(A,R):xe.resolve(null)))}(r.localStore,e);var g;null!==a?("pending"===t?yield f0(r.remoteStore):"acknowledged"===t||"rejected"===t?(CO(r,e,i||null),DO(r,e),g=e,xt(xt(r.localStore).mutationQueue).An(g)):Bt(),yield rp(r,a)):lt("SyncEngine","Cannot apply mutation batch with id: "+e)}),NO.apply(this,arguments)}function OO(){return OO=(0,Be.Z)(function*(n,e){const t=xt(n);if(kO(t),FO(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield UL(t,i.toArray());t.fc=!0,yield iO(t.remoteStore,!0);for(const a of r)qT(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(v0(t,c),d0(t.localStore,c,!0))),tD(t.remoteStore,c)}),yield r,yield UL(t,i),function(a){const c=xt(a);c.uc.forEach((g,y)=>{tD(c.remoteStore,y)}),c.cc.fs(),c.uc=new Map,c.oc=new ws(Tt.comparator)}(t),t.fc=!1,yield iO(t.remoteStore,!1)}}),OO.apply(this,arguments)}function UL(n,e,t){return MO.apply(this,arguments)}function MO(){return MO=(0,Be.Z)(function*(n,e,t){const i=xt(n),r=[],a=[];for(const c of e){let g;const y=i.ic.get(c);if(y&&0!==y.length){g=yield c0(i.localStore,uu(y[0]));for(const C of y){const A=i.sc.get(C),R=yield cG(i,A);R.snapshot&&a.push(R.snapshot)}}else{const C=yield mL(i.localStore,c);g=yield c0(i.localStore,C),yield fO(i,$L(C),c,!1)}r.push(g)}return i.nc.Wo(a),r}),MO.apply(this,arguments)}function $L(n){return Yk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pG(n){const e=xt(n);return xt(xt(e.localStore).persistence).vi()}function gG(n,e,t,i){return RO.apply(this,arguments)}function RO(){return RO=(0,Be.Z)(function*(n,e,t,i){const r=xt(n);if(r.fc)return void lt("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield _L(r.localStore,Jk(a[0])),g=V1.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield rp(r,c,g);break}case"rejected":yield d0(r.localStore,e,!0),v0(r,e,i);break;default:Bt()}}),RO.apply(this,arguments)}function mG(n,e,t){return PO.apply(this,arguments)}function PO(){return PO=(0,Be.Z)(function*(n,e,t){const i=kO(n);if(i.fc){for(const r of e){if(i.ic.has(r)){lt("SyncEngine","Adding an already active target "+r);continue}const a=yield mL(i.localStore,r),c=yield c0(i.localStore,a);yield fO(i,$L(a),c.targetId,!1),qT(i.remoteStore,c)}for(const r of t)i.ic.has(r)&&(yield d0(i.localStore,r,!1).then(()=>{tD(i.remoteStore,r),v0(i,r)}).catch(wg))}}),PO.apply(this,arguments)}function kO(n){const e=xt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iG.bind(null,e),e.nc.Wo=q$.bind(null,e.eventManager),e.nc._c=Z$.bind(null,e.eventManager),e}function FO(n){const e=xt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sG.bind(null,e),e}class GL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Be.Z)(function*(){t.It=X1(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return hL(this.persistence,new dL,e.initialUser,this.It)}gc(e){return new uL($T.Bs,this.It)}mc(e){return new wL}terminate(){var e=this;return(0,Be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class HL extends GL{constructor(e,t,i){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield t().call(i,e),yield i.Ec.initialize(i,e),yield FO(i.Ec.syncEngine),yield f0(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return hL(this.persistence,new dL,e.initialUser,this.It)}Ic(e,t){return new a$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const i=new HU(t,this.persistence);return new GU(e.asyncQueue,i)}gc(e){const t=ON(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?du.withCacheSize(this.cacheSizeBytes):du.DEFAULT;return new NN(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,CL(),zT(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new wL}}class vG extends HL{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield t().call(i,e);const r=i.Ec.syncEngine;i.sharedClientState instanceof UN&&(i.sharedClientState.syncEngine={Fr:hG.bind(null,r),$r:gG.bind(null,r),Br:mG.bind(null,r),vi:pG.bind(null,r),Or:dG.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,Be.Z)(function*(c){yield function fG(n,e){return OO.apply(this,arguments)}(i.Ec.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}mc(e){const t=CL();if(!UN.C(t))throw new et(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ON(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UN(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class LO{initialize(e,t){var i=this;return(0,Be.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>BL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=lG.bind(null,i.syncEngine),yield iO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new z$}createDatastore(e){const t=X1(e.databaseInfo.databaseId),i=new N$(e.databaseInfo);return new R$(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=g=>BL(this.syncEngine,g,0),c=DL.C()?new DL:new S$,new k$(t,i,r,a,c);var t,i,r,a,c}createSyncEngine(e,t){return function(i,r,a,c,g,y,C){const A=new X$(i,r,a,c,g,y);return C&&(A.fc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Be.Z)(function*(t){const i=xt(t);lt("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield h0(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jL(n,e=10240){let t=0;return{read:()=>(0,Be.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class YT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yG{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Qo,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Be.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Be.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const i=e.Pc.decode(t),r=Number(i);isNaN(r)&&e.Sc(`length string (${i}) is not valid number`);const a=yield e.Dc(r);return new Y$(JSON.parse(a),t.length+r)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Be.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Dc(e){var t=this;return(0,Be.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const i=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.bc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class bG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new et(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Be.Z)(function*(a,c){const g=xt(a),y=H1(g.It)+"/documents",C={documents:c.map(Z=>G1(g.It,Z))},A=yield g.fo("BatchGetDocuments",y,C,c.length),R=new Map;A.forEach(Z=>{const ue=function C3(n,e){return"found"in e?function(t,i){fn(!!i.found);const r=qh(t,i.found.name),a=Jo(i.found.updateTime),c=new ba({mapValue:{fields:i.found.fields}});return Sr.newFoundDocument(r,a,c)}(n,e):"missing"in e?function(t,i){fn(!!i.missing),fn(!!i.readTime);const r=qh(t,i.missing),a=Jo(i.readTime);return Sr.newNoDocument(r,a)}(n,e):Bt()}(g.It,Z);R.set(ue.key.toString(),ue)});const H=[];return c.forEach(Z=>{const ue=R.get(Z.toString());fn(!!ue),H.push(ue)}),H}),function(a,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new s0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Tt.fromPath(r);e.mutations.push(new _N(a,e.precondition(a)))}),yield(i=(0,Be.Z)(function*(r,a){const c=xt(r),g=H1(c.It)+"/documents",y={writes:a.map(C=>j1(c.It,C))};yield c.co("Commit",g,y)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bt();t=un.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new et(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(un.min())?Xr.exists(!1):Xr.updateTime(t):Xr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(un.min()))throw new et(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xr.updateTime(t)}return Xr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wG{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new $N(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Be.Z)(function*(){const t=new bG(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Oc(a)}))}).catch(r=>{e.Oc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!x1(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fF(t)}return!1}}class DG{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ko.UNAUTHENTICATED,this.clientId=Ik.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Be.Z)(function*(g){lt("FirestoreClient","Received user=",g.uid),yield a.authCredentialListener(g),a.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(lt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=g0(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function WL(n,e){return BO.apply(this,arguments)}function BO(){return BO=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Be.Z)(function*(a){i.isEqual(a)||(yield fL(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),BO.apply(this,arguments)}function zL(n,e){return VO.apply(this,arguments)}function VO(){return VO=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield UO(n);lt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>NL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>NL(e.remoteStore,a)),n.onlineComponents=e}),VO.apply(this,arguments)}function UO(n){return $O.apply(this,arguments)}function $O(){return $O=(0,Be.Z)(function*(n){return n.offlineComponents||(lt("FirestoreClient","Using default OfflineComponentProvider"),yield WL(n,new GL)),n.offlineComponents}),$O.apply(this,arguments)}function KT(n){return GO.apply(this,arguments)}function GO(){return GO=(0,Be.Z)(function*(n){return n.onlineComponents||(lt("FirestoreClient","Using default OnlineComponentProvider"),yield zL(n,new LO)),n.onlineComponents}),GO.apply(this,arguments)}function qL(n){return UO(n).then(e=>e.persistence)}function QT(n){return UO(n).then(e=>e.localStore)}function ZL(n){return KT(n).then(e=>e.remoteStore)}function HO(n){return KT(n).then(e=>e.syncEngine)}function y0(n){return jO.apply(this,arguments)}function jO(){return jO=(0,Be.Z)(function*(n){const e=yield KT(n),t=e.eventManager;return t.onListen=eG.bind(null,e.syncEngine),t.onUnlisten=tG.bind(null,e.syncEngine),t}),jO.apply(this,arguments)}function YL(n,e,t={}){const i=new Qo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,a,c,g,y){const C=new YT({next:R=>{a.enqueueAndForget(()=>lO(r,A));const H=R.docs.has(c);!H&&R.fromCache?y.reject(new et(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&g&&"server"===g.source?y.reject(new et(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new dO(Xy(c.path),C,{includeMetadataChanges:!0,Nu:!0});return oO(r,A)}(yield y0(n),n.asyncQueue,e,t,i)})),i.promise}function KL(n,e,t={}){const i=new Qo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,a,c,g,y){const C=new YT({next:R=>{a.enqueueAndForget(()=>lO(r,A)),R.fromCache&&"server"===g.source?y.reject(new et(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new dO(c,C,{includeMetadataChanges:!0,Nu:!0});return oO(r,A)}(yield y0(n),n.asyncQueue,e,t,i)})),i.promise}const QL=new Map;function WO(n,e,t){if(!t)throw new et(Pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JL(n,e,t,i){if(!0===e&&!0===i)throw new et(Pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XL(n){if(!Tt.isDocumentKey(n))throw new et(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function e2(n){if(Tt.isDocumentKey(n))throw new et(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Bt()}function ci(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new et(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=JT(n);throw new et(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function t2(n,e){if(e<=0)throw new et(Pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class n2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new et(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new et(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nD{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new et(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new et(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new NU;switch(t.type){case"gapi":return new PU(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new et(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QL.get(e);t&&(lt("ComponentProvider","Removing Datastore"),QL.delete(e),t.terminate())}(this),Promise.resolve()}}class Ur{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ur(this.firestore,e,this._key)}}class za{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new za(this.firestore,e,this._query)}}class Yh extends za{constructor(e,t,i){super(e,t,Xy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ur(this.firestore,null,new Tt(e))}withConverter(e){return new Yh(this.firestore,e,this._path)}}function r2(n,e,...t){if(n=(0,Mn.m9)(n),WO("collection","path",e),n instanceof nD){const i=mi.fromString(e,...t);return e2(i),new Yh(n,null,i)}{if(!(n instanceof Ur||n instanceof Yh))throw new et(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mi.fromString(e,...t));return e2(i),new Yh(n.firestore,null,i)}}function XT(n,e,...t){if(n=(0,Mn.m9)(n),1===arguments.length&&(e=Ik.R()),WO("doc","path",e),n instanceof nD){const i=mi.fromString(e,...t);return XL(i),new Ur(n,null,new Tt(i))}{if(!(n instanceof Ur||n instanceof Yh))throw new et(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mi.fromString(e,...t));return XL(i),new Ur(n.firestore,n instanceof Yh?n.converter:null,new Tt(i))}}function s2(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),(n instanceof Ur||n instanceof Yh)&&(e instanceof Ur||e instanceof Yh)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function o2(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),n instanceof za&&e instanceof za&&n.firestore===e.firestore&&P1(n._query,e._query)&&n.converter===e.converter}class RG{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new $N(this,"async_queue_retry"),this.jc=()=>{const t=zT();t&&lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=zT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=zT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Qo;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Be.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Dg(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{throw this.qc=i,this.Kc=!1,$s("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=t,t}enqueueAfterDelay(e,t,i){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=sO.createAndSchedule(this,e,t,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&Bt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Be.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function zO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class PG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class es extends nD{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new RG,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||a2(this),this._firestoreClient.terminate()}}function uo(n){return n._firestoreClient||a2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a2(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zU(n._databaseId,a,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var a,g;n._firestoreClient=new DG(n._authCredentials,n._appCheckCredentials,n._queue,i)}function l2(n,e,t){const i=new Qo;return n.asyncQueue.enqueue((0,Be.Z)(function*(){try{yield WL(n,t),yield zL(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(c=a).name?c.code===Pe.FAILED_PRECONDITION||c.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;d_("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var c})).then(()=>i.promise)}function u2(n){if(n._initialized||n._terminated)throw new et(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new et(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kh(To.fromBase64String(e))}catch(t){throw new et(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kh(To.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class A_{constructor(e){this._methodName=e}}class eE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}const jG=/^__.*__$/;class WG{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ip(e,this.data,this.fieldMask,t,this.fieldTransforms):new r0(e,this.data,t,this.fieldTransforms)}}class c2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ip(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class tE{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new tE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return rE(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(d2(this.na)&&jG.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class zG{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||X1(e)}fa(e,t,i,r=!1){return new tE({na:e,methodName:t,la:i,path:bs.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function N_(n){const e=n._freezeSettings(),t=X1(n._databaseId);return new zG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nE(n,e,t,i,r,a={}){const c=n.fa(a.merge||a.mergeFields?2:0,e,t,r);KO("Data must be an object, but it was:",c,i);const g=p2(i,c);let y,C;if(a.merge)y=new ac(c.fieldMask),C=c.fieldTransforms;else if(a.mergeFields){const A=[];for(const R of a.mergeFields){const H=QO(e,R,t);if(!c.contains(H))throw new et(Pe.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);m2(A,H)||A.push(H)}y=new ac(A),C=c.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,C=c.fieldTransforms;return new WG(new ba(g),y,C)}class iD extends A_{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iD}}function h2(n,e,t){return new tE({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class qO extends A_{_toFieldTransform(e){return new k1(e.path,new t0)}isEqual(e){return e instanceof qO}}class qG extends A_{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=h2(this,e,!0),i=this.da.map(a=>O_(a,t)),r=new y_(i);return new k1(e.path,r)}isEqual(e){return this===e}}class ZG extends A_{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=h2(this,e,!0),i=this.da.map(a=>O_(a,t)),r=new b_(i);return new k1(e.path,r)}isEqual(e){return this===e}}class YG extends A_{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new n0(e.It,nF(e.It,this._a));return new k1(e.path,t)}isEqual(e){return this===e}}function ZO(n,e,t,i){const r=n.fa(1,e,t);KO("Data must be an object, but it was:",r,i);const a=[],c=ba.empty();p_(i,(y,C)=>{const A=iE(e,y,t);C=(0,Mn.m9)(C);const R=r.ua(A);if(C instanceof iD)a.push(A);else{const H=O_(C,R);null!=H&&(a.push(A),c.set(A,H))}});const g=new ac(a);return new c2(c,g,r.fieldTransforms)}function YO(n,e,t,i,r,a){const c=n.fa(1,e,t),g=[QO(e,i,t)],y=[r];if(a.length%2!=0)throw new et(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<a.length;H+=2)g.push(QO(e,a[H])),y.push(a[H+1]);const C=[],A=ba.empty();for(let H=g.length-1;H>=0;--H)if(!m2(C,g[H])){const Z=g[H];let ue=y[H];ue=(0,Mn.m9)(ue);const _e=c.ua(Z);if(ue instanceof iD)C.push(Z);else{const De=O_(ue,_e);null!=De&&(C.push(Z),A.set(Z,De))}}const R=new ac(C);return new c2(A,R,c.fieldTransforms)}function f2(n,e,t,i=!1){return O_(t,n.fa(i?4:3,e))}function O_(n,e){if(g2(n=(0,Mn.m9)(n)))return KO("Unsupported field value:",e,n),p2(n,e);if(n instanceof A_)return function(t,i){if(!d2(i.na))throw i.aa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const c of t){let g=O_(c,i.ca(a));null==g&&(g={nullValue:"NULL_VALUE"}),r.push(g),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nF(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Jr.fromDate(t);return{timestampValue:$1(i.It,r)}}if(t instanceof Jr){const r=new Jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$1(i.It,r)}}if(t instanceof eE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kh)return{bytesValue:CF(i.It,t._byteString)};if(t instanceof Ur){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:vN(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.aa(`Unsupported field value: ${JT(t)}`)}(n,e)}function p2(n,e){const t={};return Mk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):p_(n,(i,r)=>{const a=O_(r,e.ia(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function g2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Jr||n instanceof eE||n instanceof Kh||n instanceof Ur||n instanceof A_)}function KO(n,e,t){if(!g2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=JT(t);throw e.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function QO(n,e,t){if((e=(0,Mn.m9)(e))instanceof sp)return e._internalPath;if("string"==typeof e)return iE(n,e);throw rE("Field path arguments must be of type string or ",n,!1,void 0,t)}const KG=new RegExp("[~\\*/\\[\\]]");function iE(n,e,t){if(e.search(KG)>=0)throw rE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sp(...e.split("."))._internalPath}catch{throw rE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rE(n,e,t,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(a||c)&&(y+=" (found",a&&(y+=` in field ${i}`),c&&(y+=` in document ${r}`),y+=")"),new et(Pe.INVALID_ARGUMENT,g+n+y)}function m2(n,e){return n.some(t=>t.isEqual(e))}class rD{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QG extends rD{data(){return super.data()}}function sE(n,e){return"string"==typeof e?iE(n,e):e instanceof sp?e._internalPath:e._delegate._internalPath}class M_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class op extends rD{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(sE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class sD extends op{data(e={}){return super.data(e)}}class Pg{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new M_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new sD(this._firestore,this._userDataWriter,i.key,i,new M_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new sD(i._firestore,i._userDataWriter,c.doc.key,c.doc,new M_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const g=new sD(i._firestore,i._userDataWriter,c.doc.key,c.doc,new M_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,C=-1;return 0!==c.type&&(y=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),C=a.indexOf(c.doc.key)),{type:JG(c.type),doc:g,oldIndex:y,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function _2(n,e){return n instanceof op&&e instanceof op?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Pg&&e instanceof Pg&&n._firestore===e._firestore&&o2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function v2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new et(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oD{}function kg(n,...e){for(const t of e)n=t._apply(n);return n}class XG extends oD{constructor(e,t,i){super(),this.wa=e,this.ma=t,this.ga=i,this.type="where"}_apply(e){const t=N_(e.firestore),i=function(r,a,c,g,y,C,A){let R;if(y.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new et(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){I2(A,C);const Z=[];for(const ue of A)Z.push(C2(g,r,ue));R={arrayValue:{values:Z}}}else R=C2(g,r,A)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||I2(A,C),R=f2(c,"where",A,"in"===C||"not-in"===C);const H=wa.create(y,C,R);return function(Z,ue){if(ue.dt()){const De=fN(Z);if(null!==De&&!De.isEqual(ue.field))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${ue.field.toString()}'`);const ot=hN(Z);null!==ot&&T2(0,ue.field,ot)}const _e=function(De,ot){for(const ut of De.filters)if(ot.indexOf(ut.op)>=0)return ut.op;return null}(Z,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ue.op));if(null!==_e)throw new et(Pe.INVALID_ARGUMENT,_e===ue.op?`Invalid query. You cannot use more than one '${ue.op.toString()}' filter.`:`Invalid query. You cannot use '${ue.op.toString()}' filters with '${_e.toString()}' filters.`)}(r,H),H}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new za(e.firestore,e.converter,function(r,a){const c=r.filters.concat([a]);return new np(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class tH extends oD{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new et(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new et(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Jy(r,a);return function(g,y){if(null===hN(g)){const C=fN(g);null!==C&&T2(0,C,y.field)}}(i,c),c}(e._query,this.wa,this.ya);return new za(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new np(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class y2 extends oD{constructor(e,t,i){super(),this.type=e,this.pa=t,this.Ia=i}_apply(e){return new za(e.firestore,e.converter,ST(e._query,this.pa,this.Ia))}}class b2 extends oD{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=D2(e,this.type,this.Ta,this.Ea);return new za(e.firestore,e.converter,(r=t,new np((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class w2 extends oD{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=D2(e,this.type,this.Ta,this.Ea);return new za(e.firestore,e.converter,(r=t,new np((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function D2(n,e,t,i){if(t[0]=(0,Mn.m9)(t[0]),t[0]instanceof rD)return function(r,a,c,g,y){if(!g)throw new et(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const C=[];for(const A of e0(r))if(A.field.isKeyField())C.push(__(a,g.key));else{const R=g.data.field(A.field);if(uN(R))throw new et(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const H=A.field.canonicalString();throw new et(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}C.push(R)}return new Sg(C,y)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=N_(n.firestore);return function(a,c,g,y,C,A){const R=a.explicitOrderBy;if(C.length>R.length)throw new et(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let Z=0;Z<C.length;Z++){const ue=C[Z];if(R[Z].field.isKeyField()){if("string"!=typeof ue)throw new et(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ue}`);if(!pN(a)&&-1!==ue.indexOf("/"))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ue}' contains a slash.`);const _e=a.path.child(mi.fromString(ue));if(!Tt.isDocumentKey(_e))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${_e}' is not because it contains an odd number of segments.`);const De=new Tt(_e);H.push(__(c,De))}else{const _e=f2(g,y,ue);H.push(_e)}}return new Sg(H,A)}(n._query,n.firestore._databaseId,r,e,t,i)}}function C2(n,e,t){if("string"==typeof(t=(0,Mn.m9)(t))){if(""===t)throw new et(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pN(e)&&-1!==t.indexOf("/"))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mi.fromString(t));if(!Tt.isDocumentKey(i))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return __(n,new Tt(i))}if(t instanceof Ur)return __(n,t._key);throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${JT(t)}.`)}function I2(n,e){if(!Array.isArray(n)||0===n.length)throw new et(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new et(Pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function T2(n,e,t){if(!t.isEqual(e))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const uH={maxAttempts:5};class JO{convertValue(e,t="none"){switch(m_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ds(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(g_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bt()}}convertObject(e,t){const i={};return p_(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new eE(Ds(e.latitude),Ds(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Pk(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(S1(e));default:return null}}convertTimestamp(e){const t=Cg(e);return new Jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mi.fromString(e);fn(RF(i));const r=new Ig(i.get(1),i.get(3)),a=new Tt(i.popFirst(5));return r.isEqual(t)||$s(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function oE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class cH extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,t)}}class E2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=N_(e)}set(e,t,i){this._verifyNotCommitted();const r=Fg(e,this._firestore),a=oE(r.converter,t,i),c=nE(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Xr.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Fg(e,this._firestore);let c;return c="string"==typeof(t=(0,Mn.m9)(t))||t instanceof sp?YO(this._dataReader,"WriteBatch.update",a._key,t,i,r):ZO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fg(e,this._firestore);return this._mutations=this._mutations.concat(new s0(t._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fg(n,e){if((n=(0,Mn.m9)(n)).firestore!==e)throw new et(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class R_ extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,t)}}function S2(n,e,t){n=ci(n,Ur);const i=ci(n.firestore,es),r=oE(n.converter,e,t);return b0(i,[nE(N_(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Xr.none())])}function x2(n,e,t,...i){n=ci(n,Ur);const r=ci(n.firestore,es),a=N_(r);let c;return c="string"==typeof(e=(0,Mn.m9)(e))||e instanceof sp?YO(a,"updateDoc",n._key,e,t,i):ZO(a,"updateDoc",n._key,e),b0(r,[c.toMutation(n._key,Xr.exists(!0))])}function A2(n,...e){var t,i,r;n=(0,Mn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||zO(e[c])||(a=e[c],c++);const g={includeMetadataChanges:a.includeMetadataChanges};if(zO(e[c])){const R=e[c];e[c]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[c+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),e[c+2]=null===(r=R.complete)||void 0===r?void 0:r.bind(R)}let y,C,A;if(n instanceof Ur)C=ci(n.firestore,es),A=Xy(n._key.path),y={next:R=>{e[c]&&e[c](XO(C,n,R))},error:e[c+1],complete:e[c+2]};else{const R=ci(n,za);C=ci(R.firestore,es),A=R._query;const H=new R_(C);y={next:Z=>{e[c]&&e[c](new Pg(C,H,R,Z))},error:e[c+1],complete:e[c+2]},v2(n._query)}return function(R,H,Z,ue){const _e=new YT(ue),De=new dO(H,_e,Z);return R.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return oO(yield y0(R),De)})),()=>{_e.Rc(),R.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return lO(yield y0(R),De)}))}}(uo(C),A,g,y)}function b0(n,e){return function(t,i){const r=new Qo;return t.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function nG(n,e,t){return mO.apply(this,arguments)}(yield HO(t),i,r)})),r.promise}(uo(n),e)}function XO(n,e,t){const i=t.docs.get(e._key),r=new R_(n);return new op(n,r,e._key,i,new M_(t.hasPendingWrites,t.fromCache),e.converter)}class bH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=N_(e)}get(e){const t=Fg(e,this._firestore),i=new cH(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Bt();const a=r[0];if(a.isFoundDocument())return new rD(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new rD(this._firestore,i,t._key,null,t.converter);throw Bt()})}set(e,t,i){const r=Fg(e,this._firestore),a=oE(r.converter,t,i),c=nE(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=Fg(e,this._firestore);let c;return c="string"==typeof(t=(0,Mn.m9)(t))||t instanceof sp?YO(this._dataReader,"Transaction.update",a._key,t,i,r):ZO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Fg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fg(e,this._firestore),i=new R_(this._firestore);return super.get(e).then(r=>new op(this._firestore,i,t._key,r._document,new M_(!1,!1),t.converter))}}function eM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new et("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function O2(){if(typeof Uint8Array>"u")throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function M2(){if(!function jU(){return typeof atob<"u"}())throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Zy=$d.SDK_VERSION,(0,$d._registerComponent)(new Hy.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),c=new es(new MU(t.getProvider("auth-internal")),new kU(t.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new et(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ig(g.options.projectId,y)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,$d.registerVersion)(wk,"3.5.0",n),(0,$d.registerVersion)(wk,"3.5.0","esm2017")}();class aD{constructor(e){this._delegate=e}static fromBase64String(e){return M2(),new aD(Kh.fromBase64String(e))}static fromUint8Array(e){return O2(),new aD(Kh.fromUint8Array(e))}toBase64(){return M2(),this._delegate.toBase64()}toUint8Array(){return O2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tM(n){return function AH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class NH{enableIndexedDbPersistence(e,t){return function FG(n,e){u2(n=ci(n,es));const t=uo(n),i=n._freezeSettings(),r=new LO;return l2(t,r,new HL(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function LG(n){u2(n=ci(n,es));const e=uo(n),t=n._freezeSettings(),i=new LO;return l2(e,i,new vG(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function BG(n){if(n._initialized&&!n._terminated)throw new et(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{yield(t=(0,Be.Z)(function*(i){if(!Gd.C())return Promise.resolve();const r=i+"main";yield Gd.delete(r)}),function(i){return t.apply(this,arguments)})(ON(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class R2{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ig||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&d_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function OG(n,e,t,i={}){var r;const a=(n=ci(n,nD))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&d_("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,g;if("string"==typeof i.mockUserToken)c=i.mockUserToken,g=Ko.MOCK_USER;else{c=(0,Mn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new et(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ko(y)}n._authCredentials=new OU(new Dk(c,g))}}(this._delegate,e,t,i)}enableNetwork(){return function UG(n){return function CG(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield qL(n),t=yield ZL(n);return e.setNetworkEnabled(!0),function(i){const r=xt(i);return r._u.delete(0),eD(r)}(t)}))}(uo(n=ci(n,es)))}(this._delegate)}disableNetwork(){return function $G(n){return function IG(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield qL(n),t=yield ZL(n);return e.setNetworkEnabled(!1),(i=(0,Be.Z)(function*(r){const a=xt(r);a._u.add(0),yield h0(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(uo(n=ci(n,es)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,JL("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function VG(n){return function(e){const t=new Qo;return e.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function oG(n,e){return wO.apply(this,arguments)}(yield HO(e),t)})),t.promise}(uo(n=ci(n,es)))}(this._delegate)}onSnapshotsInSync(e){return function yH(n,e){return function SG(n,e){const t=new YT(e);return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield y0(n),r=t,xt(i).Ru.add(r),void r.next();var i,r})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield y0(n),r=t,void xt(i).Ru.delete(r);var i,r}))}}(uo(n=ci(n,es)),zO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new w0(this,r2(this._delegate,e))}catch(t){throw Cl(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xc(this,XT(this._delegate,e))}catch(t){throw Cl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Il(this,function MG(n,e){if(n=ci(n,nD),WO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new et(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new za(n,null,(t=e,new np(mi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Cl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wH(n,e,t){n=ci(n,es);const i=Object.assign(Object.assign({},uH),t);return function(r){if(r.maxAttempts<1)throw new et(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function xG(n,e,t){const i=new Qo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){const r=yield(a=n,KT(a).then(c=>c.datastore));var a;new wG(n.asyncQueue,r,t,e,i).run()})),i.promise}(uo(n),r=>e(new bH(n,r)),i)}(this._delegate,t=>e(new P2(this,t)))}batch(){return uo(this._delegate),new k2(new E2(this._delegate,e=>b0(this._delegate,e)))}loadBundle(e){return function GG(n,e){const t=uo(n=ci(n,es)),i=new PG;return function AG(n,e,t,i){const r=function(a,c){let g;return g="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,C){if(y instanceof Uint8Array)return jL(y,C);if(y instanceof ArrayBuffer)return jL(new Uint8Array(y),C);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new yG(y,c);var y}(t,X1(e));n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){!function _G(n,e,t){const i=xt(n);var r;(r=(0,Be.Z)(function*(a,c,g){try{const y=yield c.getMetadata();if(yield function(H,Z){const ue=xt(H),_e=Jo(Z.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",De=>ue.Ns.getBundleMetadata(De,Z.id)).then(De=>!!De&&De.createTime.compareTo(_e)>=0)}(a.localStore,y))return yield c.close(),g._completeWith({taskState:"Success",documentsLoaded:(H=y).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);g._updateProgress(RL(y));const C=new K$(y,a.localStore,c.It);let A=yield c.wc();for(;A;){const H=yield C.Ou(A);H&&g._updateProgress(H),A=yield c.wc()}const R=yield C.complete();return yield rp(a,R.Bu,void 0),yield function(H,Z){const ue=xt(H);return ue.persistence.runTransaction("Save bundle","readwrite",_e=>ue.Ns.saveBundleMetadata(_e,Z))}(a.localStore,y),g._completeWith(R.progress),Promise.resolve(R.$u)}catch(y){return d_("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var H}),function(a,c,g){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield HO(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function HG(n,e){return function NG(n,e){return n.asyncQueue.enqueue((0,Be.Z)(function*(){return function(t,i){const r=xt(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield QT(n),e)}))}(uo(n=ci(n,es)),e).then(t=>t?new za(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Il(this,t):null)}}class aE extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new aD(new Kh(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xc.forKey(t,this.firestore,null)}}class P2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aE(e)}get(e){const t=k_(e);return this._delegate.get(t).then(i=>new lD(this._firestore,new op(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=k_(e);return i?(eM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=k_(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=k_(e);return this._delegate.delete(t),this}}class k2{constructor(e){this._delegate=e}set(e,t,i){const r=k_(e);return i?(eM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=k_(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=k_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class P_{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new sD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uD(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=P_.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new P_(e,new aE(e),t),r.set(t,a)),a}}P_.INSTANCES=new WeakMap;class Xc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xc(t,new Ur(t._delegate,i,new Tt(e)))}static forKey(e,t,i){return new Xc(t,new Ur(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new w0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new w0(this.firestore,r2(this._delegate,e))}catch(t){throw Cl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mn.m9)(e))instanceof Ur&&s2(this._delegate,e)}set(e,t){t=eM("DocumentReference.set",t);try{return t?S2(this._delegate,e,t):S2(this._delegate,e)}catch(i){throw Cl(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?x2(this._delegate,e):x2(this._delegate,e,t,...i)}catch(r){throw Cl(r,"updateDoc()","DocumentReference.update()")}}delete(){return function _H(n){return b0(ci(n.firestore,es),[new s0(n._key,Xr.none())])}(this._delegate)}onSnapshot(...e){const t=F2(e),i=L2(e,r=>new lD(this.firestore,new op(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return A2(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function hH(n){n=ci(n,Ur);const e=ci(n.firestore,es),t=uo(e),i=new R_(e);return function TG(n,e){const t=new Qo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,a,c){try{const g=yield function(y,C){const A=xt(y);return A.persistence.runTransaction("read document","readonly",R=>A.localDocuments.getDocument(R,C))}(r,a);g.isFoundDocument()?c.resolve(g):g.isNoDocument()?c.resolve(null):c.reject(new et(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=g0(g,`Failed to get document '${a} from cache`);c.reject(y)}}),function(r,a,c){return i.apply(this,arguments)})(yield QT(n),e,t);var i})),t.promise}(t,n._key).then(r=>new op(e,i,n._key,r,new M_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function fH(n){n=ci(n,Ur);const e=ci(n.firestore,es);return YL(uo(e),n._key,{source:"server"}).then(t=>XO(e,n,t))}(this._delegate):function dH(n){n=ci(n,Ur);const e=ci(n.firestore,es);return YL(uo(e),n._key).then(t=>XO(e,n,t))}(this._delegate),t.then(i=>new lD(this.firestore,new op(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Xc(this.firestore,this._delegate.withConverter(e?P_.getInstance(this.firestore,e):null))}}function Cl(n,e,t){return n.message=n.message.replace(e,t),n}function F2(n){for(const e of n)if("object"==typeof e&&!tM(e))return e;return{}}function L2(n,e){var t,i;let r;return r=tM(n[0])?n[0]:tM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class lD{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _2(this._delegate,e._delegate)}}class uD extends lD{data(e){const t=this._delegate.data(e);return function AU(n,e){n||Bt()}(void 0!==t),t}}class Il{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aE(e)}where(e,t,i){try{return new Il(this.firestore,kg(this._delegate,function eH(n,e,t){const i=e,r=sE("where",n);return new XG(r,i,t)}(e,t,i)))}catch(r){throw Cl(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Il(this.firestore,kg(this._delegate,function nH(n,e="asc"){const t=e,i=sE("orderBy",n);return new tH(i,t)}(e,t)))}catch(i){throw Cl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Il(this.firestore,kg(this._delegate,function iH(n){return t2("limit",n),new y2("limit",n,"F")}(e)))}catch(t){throw Cl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Il(this.firestore,kg(this._delegate,function rH(n){return t2("limitToLast",n),new y2("limitToLast",n,"L")}(e)))}catch(t){throw Cl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Il(this.firestore,kg(this._delegate,function sH(...n){return new b2("startAt",n,!0)}(...e)))}catch(t){throw Cl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Il(this.firestore,kg(this._delegate,function oH(...n){return new b2("startAfter",n,!1)}(...e)))}catch(t){throw Cl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Il(this.firestore,kg(this._delegate,function aH(...n){return new w2("endBefore",n,!1)}(...e)))}catch(t){throw Cl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Il(this.firestore,kg(this._delegate,function lH(...n){return new w2("endAt",n,!0)}(...e)))}catch(t){throw Cl(t,"endAt()","Query.endAt()")}}isEqual(e){return o2(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function gH(n){n=ci(n,za);const e=ci(n.firestore,es),t=uo(e),i=new R_(e);return function EG(n,e){const t=new Qo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,a,c){try{const g=yield HT(r,a,!0),y=new FL(a,g.Hi),C=y.ju(g.documents),A=y.applyChanges(C,!1);c.resolve(A.snapshot)}catch(g){const y=g0(g,`Failed to execute query '${a} against cache`);c.reject(y)}}),function(r,a,c){return i.apply(this,arguments)})(yield QT(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Pg(e,i,n,r))}(this._delegate):"server"===e?.source?function mH(n){n=ci(n,za);const e=ci(n.firestore,es),t=uo(e),i=new R_(e);return KL(t,n._query,{source:"server"}).then(r=>new Pg(e,i,n,r))}(this._delegate):function pH(n){n=ci(n,za);const e=ci(n.firestore,es),t=uo(e),i=new R_(e);return v2(n._query),KL(t,n._query).then(r=>new Pg(e,i,n,r))}(this._delegate),t.then(i=>new nM(this.firestore,new Pg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=F2(e),i=L2(e,r=>new nM(this.firestore,new Pg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return A2(this._delegate,t,i)}withConverter(e){return new Il(this.firestore,this._delegate.withConverter(e?P_.getInstance(this.firestore,e):null))}}class MH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new uD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Il(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uD(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new MH(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new uD(this._firestore,i))})}isEqual(e){return _2(this._delegate,e._delegate)}}class w0 extends Il{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xc(this.firestore,e):null}doc(e){try{return new Xc(this.firestore,void 0===e?XT(this._delegate):XT(this._delegate,e))}catch(t){throw Cl(t,"doc()","CollectionReference.doc()")}}add(e){return function vH(n,e){const t=ci(n.firestore,es),i=XT(n),r=oE(n.converter,e);return b0(t,[nE(N_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Xr.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Xc(this.firestore,t))}isEqual(e){return s2(this._delegate,e._delegate)}withConverter(e){return new w0(this.firestore,this._delegate.withConverter(e?P_.getInstance(this.firestore,e):null))}}function k_(n){return ci(n,Ur)}class iM{constructor(...e){this._delegate=new sp(...e)}static documentId(){return new iM(bs.keyField().canonicalString())}isEqual(e){return(e=(0,Mn.m9)(e))instanceof sp&&this._delegate._internalPath.isEqual(e._internalPath)}}class F_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CH(){return new qO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new F_(e)}static delete(){const e=function DH(){return new iD("deleteField")}();return e._methodName="FieldValue.delete",new F_(e)}static arrayUnion(...e){const t=function IH(...n){return new qG("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new F_(t)}static arrayRemove(...e){const t=function TH(...n){return new ZG("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new F_(t)}static increment(e){const t=function EH(n){return new YG("increment",n)}(e);return t._methodName="FieldValue.increment",new F_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RH={Firestore:R2,GeoPoint:eE,Timestamp:Jr,Blob:aD,Transaction:P2,WriteBatch:k2,DocumentReference:Xc,DocumentSnapshot:lD,Query:Il,QueryDocumentSnapshot:uD,QuerySnapshot:nM,CollectionReference:w0,FieldPath:iM,FieldValue:F_,setLogLevel:function OH(n){!function xU(n){bg.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function kH(n){(function PH(n,e){n.INTERNAL.registerComponent(new Hy.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},RH)))})(n,(e,t)=>new R2(e,t,new NH)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(sP.Z);var lE=j(5363);function B2(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Bo.B)({connector:()=>new Ms(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function V2(n,e){return(0,Ps.m)(e)?qn(()=>n,e):qn(()=>n)}var rM=j(9468);j(5867);const $2=new Map,UH={activated:!1,tokenObservers:[]},$H={initialized:!1,enabled:!1};function ta(n){return $2.get(n)||UH}function Hd(n,e){$2.set(n,e)}function cE(){return $H}class zH{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Be.Z)(function*(){t.stop();try{t.pending=new Mn.BH,yield function qH(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Tl=new Mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function H2(n){if(!ta(n).activated)throw Tl.create("use-before-activation",{appName:n.name})}function lM(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,Be.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const Z=yield c.getHeartbeatsHeader();Z&&(a["X-Firebase-Client"]=Z)}const g={method:"POST",body:JSON.stringify(e),headers:a};let y,C;try{y=yield fetch(n,g)}catch(Z){throw Tl.create("fetch-network-error",{originalErrorMessage:null===(i=Z)||void 0===i?void 0:i.message})}if(200!==y.status)throw Tl.create("fetch-status-error",{httpStatus:y.status});try{C=yield y.json()}catch(Z){throw Tl.create("fetch-parse-error",{originalErrorMessage:null===(r=Z)||void 0===r?void 0:r.message})}const A=C.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw Tl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const R=1e3*Number(A[1]),H=Date.now();return{token:C.token,expireTimeMillis:H+R,issuedAtTimeMillis:H}}),uM.apply(this,arguments)}function QH(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const cD="firebase-app-check-store";let fE=null;function W2(){return fE||(fE=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Tl.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(cD,{keyPath:"compositeKey"})}}catch(i){e(Tl.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),fE)}function cM(){return cM=(0,Be.Z)(function*(n,e){const i=(yield W2()).transaction(cD,"readwrite"),a=i.objectStore(cD).put({compositeKey:n,value:e});return new Promise((c,g)=>{a.onsuccess=y=>{c()},i.onerror=y=>{var C;g(Tl.create("storage-set",{originalErrorMessage:null===(C=y.target.error)||void 0===C?void 0:C.message}))}})}),cM.apply(this,arguments)}const dD=new _g.Yd("@firebase/app-check");function Y2(n,e){return(0,Mn.hl)()?function t5(n,e){return function z2(n,e){return cM.apply(this,arguments)}(function Z2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{dD.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function K2(){return cE().enabled}function Q2(){return pM.apply(this,arguments)}function pM(){return pM=(0,Be.Z)(function*(){const n=cE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pM.apply(this,arguments)}const a5={error:"UNKNOWN_ERROR"};function l5(n){return Mn.US.encodeString(JSON.stringify(n),!1)}function pE(n){return gM.apply(this,arguments)}function gM(){return gM=(0,Be.Z)(function*(n,e=!1){const t=n.app;H2(t);const i=ta(t);let a,r=i.token;if(!r){const y=yield i.cachedTokenPromise;y&&gE(y)&&(r=y)}if(!e&&r&&gE(r))return{token:r.token};let g,c=!1;if(K2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=lM(QH(t,yield Q2()),n.heartbeatServiceProvider).then(C=>(i.exchangeTokenPromise=void 0,C)),c=!0);const y=yield i.exchangeTokenPromise;return yield Y2(t,y),Hd(t,Object.assign(Object.assign({},i),{token:y})),{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0),r=yield i.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?dD.warn(y.message):dD.error(y),a=y}return r?(g={token:r.token},Hd(t,Object.assign(Object.assign({},i),{token:r})),yield Y2(t,r)):g=c5(a),c&&X2(t,g),g}),gM.apply(this,arguments)}function _M(n,e){const t=ta(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Hd(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function J2(n){const{app:e}=n,t=ta(e);let i=t.tokenRefresher;i||(i=function u5(n){const{app:e}=n;return new zH((0,Be.Z)(function*(){let i;if(i=ta(e).token?yield pE(n,!0):yield pE(n),i.error)throw i.error}),()=>!0,()=>{const t=ta(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Hd(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function X2(n,e){const t=ta(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function gE(n){return n.expireTimeMillis-Date.now()>0}function c5(n){return{token:l5(a5),error:n}}class d5{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ta(this.app);for(const t of e)_M(this.app,t.next);return Promise.resolve()}}const aB="app-check-internal";!function T5(){(0,$d._registerComponent)(new Hy.wA("app-check",n=>function h5(n,e){return new d5(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aB).initialize()})),(0,$d._registerComponent)(new Hy.wA(aB,n=>function f5(n){return{getToken:e=>pE(n,e),addTokenListener:e=>function mM(n,e,t,i){const{app:r}=n,a=ta(r),c={next:t,error:i,type:e};if(Hd(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&gE(a.token)){const g=a.token;Promise.resolve().then(()=>{t({token:g.token}),J2(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>J2(n))}(n,"INTERNAL",e),removeTokenListener:e=>_M(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$d.registerVersion)("@firebase/app-check","0.5.12")}();class _E{constructor(){return(0,Kr.vb)("app-check")}}typeof window<"u"&&window;var DM=j(127);const uB=new u.OlP("angularfire2.auth.use-emulator"),cB=new u.OlP("angularfire2.auth.settings"),dB=new u.OlP("angularfire2.auth.tenant-id"),hB=new u.OlP("angularfire2.auth.langugage-code"),fB=new u.OlP("angularfire2.auth.use-device-language"),pB=new u.OlP("angularfire.auth.persistence"),gB=(n,e,t,i,r,a,c,g)=>(0,bl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),i&&(y.tenantId=i),y.languageCode=r,a&&y.useDeviceLanguage(),c)for(const[C,A]of Object.entries(c))y.settings[C]=A;return g&&y.setPersistence(g),y},[t,i,r,a,c,g]);let CM=(()=>{class n{constructor(t,i,r,a,c,g,y,C,A,R,H,Z){const ue=new zn.x,_e=bt(void 0).pipe((0,lE.Q)(c.outsideAngular),qn(()=>a.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,2476)))),(0,It.U)(()=>(0,bl.on)(t,a,i)),(0,It.U)(De=>gB(De,a,g,C,A,R,y,H)),B2({bufferSize:1,refCount:!1}));if(Hn(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{_e.pipe(Bd()).subscribe();const ot=_e.pipe(qn(rt=>rt.getRedirectResult().then(gt=>gt,()=>null)),Kr.iC,B2({bufferSize:1,refCount:!1})),ut=_e.pipe(qn(rt=>new Ai.y(gt=>({unsubscribe:a.runOutsideAngular(()=>rt.onAuthStateChanged(Dt=>gt.next(Dt),Dt=>gt.error(Dt),()=>gt.complete()))})))),vt=_e.pipe(qn(rt=>new Ai.y(gt=>({unsubscribe:a.runOutsideAngular(()=>rt.onIdTokenChanged(Dt=>gt.next(Dt),Dt=>gt.error(Dt),()=>gt.complete()))}))));this.authState=ot.pipe(V2(ut),(0,rM.R)(c.outsideAngular),(0,lE.Q)(c.insideAngular)),this.user=ot.pipe(V2(vt),(0,rM.R)(c.outsideAngular),(0,lE.Q)(c.insideAngular)),this.idToken=this.user.pipe(qn(rt=>rt?(0,Wn.D)(rt.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(qn(rt=>rt?(0,Wn.D)(rt.getIdTokenResult()):bt(null))),this.credential=(0,qr.T)(ot,ue,this.authState.pipe(ir(rt=>!rt))).pipe((0,It.U)(rt=>rt?.user?rt:null),(0,rM.R)(c.outsideAngular),(0,lE.Q)(c.insideAngular))}return(0,bl.pX)(this,_e,a,{spy:{apply:(De,ot,ut)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&ut.then(vt=>ue.next(vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bl.Dh),u.LFG(bl.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Kr.HU),u.LFG(uB,8),u.LFG(cB,8),u.LFG(dB,8),u.LFG(hB,8),u.LFG(fB,8),u.LFG(pB,8),u.LFG(_E,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),O5=(()=>{class n{constructor(){DM.Z.registerVersion("angularfire",Kr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[CM]}),n})();function mB(n,e){return function M5(n,e=We.z){return new Ai.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function IM(n,e){return mB(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}function vE(n,e){return IM(n,e).pipe(da(void 0),mA(),(0,It.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,g)=>{const y=r.find(A=>A.doc.ref.isEqual(c.ref)),C=t?.payload.docs.find(A=>A.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&C&&JSON.stringify(C.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:c}})}),a}))}function _B(n,e,t){return vE(n,t).pipe(Ym((i,r)=>function P5(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function k5(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),ha(),(0,It.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function TM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function vB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class yB{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=vE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(da(void 0),mA(),ir(([i,r])=>r.length>0||!i),(0,It.U)(([i,r])=>r),Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ym((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=vB(e);return _B(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return IM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Kr.iC)}get(e){return(0,Wn.D)(this.query.get(e)).pipe(Kr.iC)}add(e){return this.ref.add(e)}doc(e){return new bB(this.ref.doc(e),this.afs)}}class bB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=CB(i,t);return new yB(r,a,this.afs)}snapshotChanges(){return function R5(n,e){return mB(n,e).pipe(da(void 0),mA(),(0,It.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Wn.D)(this.ref.get(e)).pipe(Kr.iC)}}class F5{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vE(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ir(t=>t.length>0),Kr.iC):vE(this.query,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ym((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=vB(e);return _B(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return IM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Kr.iC)}get(e){return(0,Wn.D)(this.query.get(e)).pipe(Kr.iC)}}const wB=new u.OlP("angularfire2.enableFirestorePersistence"),DB=new u.OlP("angularfire2.firestore.persistenceSettings"),L5=new u.OlP("angularfire2.firestore.settings"),B5=new u.OlP("angularfire2.firestore.use-emulator");function CB(n,e=(t=>t)){return{query:e(n),ref:n}}let yE=(()=>{class n{constructor(t,i,r,a,c,g,y,C,A,R,H,Z,ue,_e,De,ot,ut){this.schedulers=y;const vt=(0,bl.on)(t,g,i),rt=A;R&&gB(vt,g,H,ue,_e,De,Z,ot),[this.firestore,this.persistenceEnabled$]=(0,bl.cc)(`${vt.name}.firestore`,"AngularFirestore",vt.name,()=>{const gt=g.runOutsideAngular(()=>vt.firestore());if(a&&gt.settings(a),rt&&gt.useEmulator(...rt),r&&!Hn(c)){const Dt=()=>{try{return(0,Wn.D)(gt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(rn){return typeof console<"u"&&console.warn(rn),bt(!1)}};return[gt,g.runOutsideAngular(Dt)]}return[gt,bt(!1)]},[a,rt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=CB(r,i),g=this.schedulers.ngZone.run(()=>a);return new yB(g,c,this)}collectionGroup(t,i){const r=i||(c=>c),a=this.firestore.collectionGroup(t);return new F5(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new bB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bl.Dh),u.LFG(bl.xv,8),u.LFG(wB,8),u.LFG(L5,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Kr.HU),u.LFG(DB,8),u.LFG(B5,8),u.LFG(CM,8),u.LFG(uB,8),u.LFG(cB,8),u.LFG(dB,8),u.LFG(hB,8),u.LFG(fB,8),u.LFG(pB,8),u.LFG(_E,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),V5=(()=>{class n{constructor(){DM.Z.registerVersion("angularfire",Kr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:wB,useValue:!0},{provide:DB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[yE]}),n})(),EM=(()=>{class n{constructor(t){this.afs=t}getColors(){return this.afs.collection("gloveColors").valueChanges()}getSteps(){return this.afs.collection("gloveSteps",t=>t.orderBy("seqNo","asc")).valueChanges()}getGloveSize(){return this.afs.collection("gloveSize",t=>t.orderBy("seqNo","asc")).valueChanges()}getGloveWebs(){return this.afs.collection("gloveWebs").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D0=(()=>{class n{constructor(t){this.wizardData=t,this.errorLog=[],this.snapLoaded=!1,this.product=new Zn({}),this.product$=this.product.asObservable(),this.storage=new Zn(null),this.storage$=this.storage.asObservable(),this.gloveType=new Zn({name:null,glove:null}),this.gloveType$=this.gloveType.asObservable(),this.fillChange=new zn.x,this.fillChange$=this.fillChange.asObservable(),this.gloveDesign=new Zn(void 0),this.gloveDesign$=this.gloveDesign.asObservable(),this.leatherSelected=new zn.x,this.leatherSelected$=this.leatherSelected.asObservable(),this.gloveColors=new Zn([]),this.gloveColors$=this.gloveColors.asObservable(),this.gloveWebs=new Zn([]),this.gloveWebs$=this.gloveWebs.asObservable(),this.gloveCustom=new Zn(void 0),this.gloveCustom$=this.gloveCustom.asObservable(),this.clearGloveCanvas=()=>{try{this.oView.clear(),this.iView.clear(),this.sView.clear()}catch{}},this.wizardData.getColors().subscribe(i=>{this.gloveColors.next(i)}),this.wizardData.getGloveWebs().pipe((0,It.U)(i=>i.map(r=>({name:r.valueString,...r})))).subscribe(i=>{this.gloveWebs.next(i)}),this.leatherSelected$.subscribe(i=>console.log(i))}init(t){return this.initCanvas()}initCanvas(){var t=this;return(0,Be.Z)(function*(){try{if(t.snapLoaded||(t.svgMain=Snap("#svg-main"),t.svgInside=Snap("#svg-inside"),t.svgSide=Snap("#svg-side"),t.oView=t.svgMain.group(),t.iView=t.svgInside.group(),t.sView=t.svgSide.group(),t.snapLoaded=!0),t._gloveBase===t.gloveBase)return;switch(t.clearGloveCanvas(),t.gloveBase){case"inf":case"pitcher":default:t.loadInfield();break;case"inf_dw":t.loadInfield2Welt()}return t._gloveBase=t.gloveBase,{loaded:!0}}catch(i){return console.error(i),{loaded:!1,error:i}}})()}setGloveBase(t){this.gloveBase!==t.gloveBase&&(this.clearGloveCanvas(),this.gloveBase=t.gloveBase,this.gloveType.next({name:t.name,glove:t.gloveType}))}setGloveType(t){this.leatherType=t}addVariation(t){t.name.toLowerCase()}applyFilltoCanvas(t){["svg-main:_x5F_:vw3","svg-side:_x5F_:vw2","svg-inside:_x5F_:vw1"].forEach(i=>{const r=i.split(":"),a=r[0],c=`#${this.gloveBase}${r[1]}${r[2]}${r[1]}${t.section}`;switch(document.querySelector(`${c}`),this.fillChange.next({id:t.section,fill:"stroke",color:t.rgb}),a){case"svg-main":case"svg-inside":case"svg-side":if(0!=c.length){if(c.includes("stch")){document.querySelector(`${c}`)?.setAttribute("stroke",t.rgb);break}document.querySelector(`${c}`)?.setAttribute("fill",t.rgb)}}})}logError(t){this.errorLog.push(`Error adding value ${t.err}`)}_applyFormValue(t){const i=t.name.toLowerCase();try{if("steer"===i||"kip"===t.name)return void document.getElementById(`${t.attribute_pewc}`).click();document.getElementById(`${t.attribute_pewc}`).value=i,document.querySelector(`[data-id="${t.attribute_pewc}"]`).dataset.fieldValue=i}catch{}}applyFormValue(t){this._applyFormValue(t)}colorFilter(){let t=[];this.leatherSelected$.subscribe(i=>{this.gloveColors.value.forEach(r=>{"leather"===i?("steer"===i||"kip"===i)&&r.leather.includes(i)&&t.push(r):r.leather.includes(i)&&t.push(r)})})}separatorCheck(t,i){return t.split(i).length>1}triggerAddToCart(){document.getElementsByName("add-to-cart")[0].click()}valueFormatter(t){return t.split(" ").length>1?t=i(t," "):t.split("-").length>1?t=i(t,"-"):r(t);function i(a,c){let g=a.split(c);return g.forEach((y,C)=>{g[C]=r(y)}),g.join(" ")}function r(a){return a.charAt(0).toUpperCase()+a.slice(1)}}setSeriesOnGlove(t,i){0!==i.length&&i.attr({opacity:1,fill:"#FFFAFA"})}resetStitching(){document.querySelectorAll("").forEach(t=>{t.setAttribute("fill","none")})}loadInfield(){const t=this;Snap.load(`${Gy_imgSrc}assets/images/nys_infield_swelt_back.svg`,i=>{this.svgMain.attr({viewBox:"0 -10 400 400"}),i.selectAll("#inf_x5F_vw3_x5F_wst, #inf_x5F_vw3_x5F_thbi, #inf_x5F_vw3_x5F_web, #inf_x5F_vw3_x5F_indo, #inf_x5F_vw3_x5F_plm, #inf_x5F_vw3_x5F_indi, #inf_x5F_vw3_x5F_midi, #inf_x5F_vw3_x5F_mido, #inf_x5F_vw3_x5F_rngo, #inf_x5F_vw3_x5F_rngi, #inf_x5F_vw3_x5F_pnko, #inf_x5F_vw3_x5F_pnki, #inf_x5F_vw3_x5F_logo, #inf_x5F_vw3_x5F_wlt, #inf_x5F_vw3_x5F_stch, #inf_x5F_vw3_x5F_bnd, #inf_x5F_vw3_x5F_lce, #inf_x5F_open_x5F_back,#inf_x5F_vw3_x5F_rise,#inf_x5F_vw3_x5F_elite,#inf_x5F_logo_x5F_elite,#inf_x5F_logo_x5F_rise").forEach((a,c)=>{const y=["inf_x5F_vw3_x5F_wst","inf_x5F_vw3_x5F_thbi","inf_x5F_vw3_x5F_web","inf_x5F_vw3_x5F_indo","inf_x5F_vw3_x5F_plm","inf_x5F_vw3_x5F_indi","inf_x5F_vw3_x5F_midi","inf_x5F_vw3_x5F_mido","inf_x5F_vw3_x5F_rngo","inf_x5F_vw3_x5F_rngi","inf_x5F_vw3_x5F_pnko","inf_x5F_vw3_x5F_pnki","inf_x5F_vw3_x5F_logo","inf_x5F_vw3_x5F_wlt","inf_x5F_vw3_x5F_stch","inf_x5F_vw3_x5F_bnd","inf_x5F_vw3_x5F_lce","inf_x5F_open_x5F_back","inf_x5F_vw3_x5F_rise","inf_x5F_vw3_x5F_elite","inf_x5F_logo_x5F_elite","inf_x5F_logo_x5F_rise"][c],C=y.split("_").pop();Zo.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),("rise"===C||"elite"===C)&&(a.attr({opacity:0}),0!==a.length&&a.attr({opacity:1,fill:"#FFFAFA"}),this.setSeriesOnGlove(C,a)),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${Gy_imgSrc}assets/images/nys_infield_swelt_pocket.svg`,i=>{this.svgInside.attr({viewBox:"0 -10 400 400"}),i.selectAll("#inf_x5F_vw2_x5F_plm, #inf_x5F_vw2_x5F_thbo, #inf_x5F_vw2_x5F_thbi, #inf_x5F_vw2_x5F_indo, #inf_x5F_vw2_x5F_indi,#inf_x5F_vw2_x5F_mid,#inf_x5F_vw2_x5F_rngo,#inf_x5F_vw2_x5F_rngi,#inf_x5F_vw2_x5F_pnko,#inf_x5F_vw2_x5F_pnki, #inf_x5F_vw2_x5F_web, #inf_x5F_vw2_x5F_stch, #inf_x5F_vw2_x5F_bnd , #inf_x5F_vw2_x5F_wlt, #inf_x5F_vw2_x5F_lce, #inf_x5F_open_x5F_pocket").forEach((a,c)=>{Zo.includes(["inf_x5F_vw2_x5F_plm","inf_x5F_vw2_x5F_thbo","inf_x5F_vw2_x5F_thbi","inf_x5F_vw2_x5F_indo","inf_x5F_vw2_x5F_indi","inf_x5F_vw2_x5F_midi","inf_x5F_vw2_x5F_mido","inf_x5F_vw2_x5F_rngo","inf_x5F_vw2_x5F_rngi","inf_x5F_vw2_x5F_pnko","inf_x5F_vw2_x5F_pnki","inf_x5F_vw2_x5F_web","inf_x5F_vw2_x5F_stch","inf_x5F_vw2_x5F_bnd","inf_x5F_vw2_x5F_wlt","inf_x5F_vw2_x5F_lce","inf_x5F_open_x5F_pocket"][c],"stch")?a.attr({fill:"none"}):a.attr({fill:"#fffafa"}),t.iView.add(a),t.svgInside.append(this.iView)}),document.getElementById("inf_x5F_vw2_x5F_stch").style.fill="none"}),Snap.load(`${Gy_imgSrc}assets/images/nys_infield_swelt_side.svg`,i=>{this.svgSide.attr({viewBox:"-60 0 400 400"}),i.selectAll("#inf_x5F_vw1_x5F_thbi, #inf_x5F_vw1_x5F_mid, #inf_x5F_vw1_x5F_indi, #inf_x5F_vw1_x5F_wst, #inf_x5F_vw1_x5F_plm, #inf_x5F_vw1_x5F_bnd, #inf_x5F_vw1_x5F_indo, #inf_x5F_vw1_x5F_thbo, #inf_x5F_vw1_x5F_wlt, #inf_x5F_vw1_x5F_web, #inf_x5F_vw1_x5F_stch,  #inf_x5F_vw1_x5F_lce, #inf_x5F_open_x5F_side").forEach((a,c)=>{Zo.includes(["inf_x5F_vw1_x5F_thbi","inf_x5F_vw1_x5F_mid","inf_x5F_vw1_x5F_indi","inf_x5F_vw1_x5F_wst","inf_x5F_vw1_x5F_plm","inf_x5F_vw1_x5F_bnd","inf_x5F_vw1_x5F_indo","inf_x5F_vw1_x5F_thbo","inf_x5F_vw1_x5F_wlt","inf_x5F_vw1_x5F_web","inf_x5F_vw1_x5F_stch","inf_x5F_vw1_x5F_lce","inf_x5F_open_x5F_side"][c],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)}),document.getElementById("inf_x5F_vw1_x5F_stch").style.fill="none"})}loadInfield2Welt(){const t=this;Snap.load(`${Gy_imgSrc}assets/images/nys_infield_dwelt_back.svg`,i=>{this.svgMain.attr({viewBox:"0 0 400 400"}),i.selectAll("#inf_dw_x5F_vw3_x5F_bfg, #inf_dw_x5F_vw3_x5F_mid, #inf_dw_x5F_vw3_x5F_wst, #inf_dw_x5F_vw3_x5F_wlt, #inf_dw_x5F_vw3_x5F_bnd, #inf_dw_x5F_vw3_x5F_logo, #inf_dw_x5F_vw3_x5F_web, #inf_dw_x5F_vw3_x5F_plm, #inf_dw_x5F_vw3_x5F_stch, #inf_dw_x5F_vw3_x5F_lce, #inf_dw_x5F_dwelt_x5F_back, #inf_dw_x5F_vw3_x5F_rse, inf_dw_x5F_vw3_x5F_elt, inf_dw_x5F_elite_x5F_logo, inf_dw_x5F_rise_x5F_logo").forEach((a,c)=>{const y=["inf_dw_x5F_vw3_x5F_bfg","inf_dw_x5F_vw3_x5F_mid","inf_dw_x5F_vw3_x5F_wst","inf_dw_x5F_vw3_x5F_wlt","inf_dw_x5F_vw3_x5F_bnd","inf_dw_x5F_vw3_x5F_logo","inf_dw_x5F_vw3_x5F_web","inf_dw_x5F_vw3_x5F_plm","inf_dw_x5F_vw3_x5F_stch","inf_dw_x5F_vw3_x5F_lce","inf_dw_x5F_dwelt_x5F_back","inf_dw_x5F_vw3_x5F_rse","inf_dw_x5F_vw3_x5F_elt","inf_dw_x5F_elite_x5F_logo","inf_dw_x5F_rise_x5F_logo"][c],C=y.split("_").pop();Zo.includes(y,"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),("rise"===C||"elite"===C||"rse"===C)&&(a.attr({opacity:0}),this.setSeriesOnGlove(C,a)),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${Gy_imgSrc}assets/images/nys_infield_dwelt_pocket.svg`,i=>{this.svgInside.attr({viewBox:"0 0 400 400"}),i.selectAll("#inf_dw_x5F_vw2_x5F_web, #inf_dw_x5F_vw2_x5F_plm, #inf_dw_x5F_vw2_x5F_mid, #inf_dw_x5F_vw2_x5F_bfg, #inf_dw_x5F_vw2_x5F_wlt, #inf_dw_x5F_vw2_x5F_bnd,#inf_dw_x5F_vw2_x5F_stch, #inf_dw_x5F_vw2_x5F_lce, #inf_dw_x5F_dwelt_x5F_inside").forEach((a,c)=>{Zo.includes(["inf_dw_x5F_vw2_x5F_web","inf_dw_x5F_vw2_x5F_plm","inf_dw_x5F_vw2_x5F_mid","inf_dw_x5F_vw2_x5F_bfg","inf_dw_x5F_vw2_x5F_wlt","inf_dw_x5F_vw2_x5F_bnd","inf_dw_x5F_vw2_x5F_stch","inf_dw_x5F_vw2_x5F_lce","inf_dw_x5F_dwelt_x5F_inside"][c],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(this.iView)})}),Snap.load(`${Gy_imgSrc}assets/images/nys_infield_dwelt_side.svg`,i=>{this.svgSide.attr({viewBox:"0 0 400 400"}),i.selectAll("#inf_dw_x5F_vw1_x5F_plm, #inf_dw_x5F_vw1_x5F_bfg, #inf_dw_x5F_vw1_x5F_mid, #inf_dw_x5F_vw1_x5F_wlt, #inf_dw_x5F_vw1_x5F_web, #inf_dw_x5F_vw1_x5F_wst, #inf_dw_x5F_vw1_x5F_stch, #inf_dw_x5F_vw1_x5F_bnd, #inf_dw_x5F_vw1_x5F_lce, #inf_dw_x5F_vw1_x5F_logo, #inf_dw_x5F_dwelt_x5F_side").forEach((a,c)=>{Zo.includes(["inf_dw_x5F_vw1_x5F_plm","inf_dw_x5F_vw1_x5F_bfg","inf_dw_x5F_vw1_x5F_mid","inf_dw_x5F_vw1_x5F_wlt","inf_dw_x5F_vw1_x5F_web","inf_dw_x5F_vw1_x5F_wst","inf_dw_x5F_vw1_x5F_stch","inf_dw_x5F_vw1_x5F_bnd","inf_dw_x5F_vw1_x5F_lce","inf_dw_x5F_vw1_x5F_logo, inf_dw_x5F_dwelt_x5F_side"][c],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IB={grid:{xs:1,sm:2,md:2,lg:3,all:0},slide:2,speed:400,animation:"lazy",loop:!0,point:{visible:!0},load:2,touch:!0,easing:"ease"};function $5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngu-tile")(1,"section")(2,"div",4)(3,"div",5)(4,"p",6),u._uU(5),u.qZA()(),u.TgZ(6,"div",5),u._UZ(7,"img",7),u.qZA(),u.TgZ(8,"div",8)(9,"button",9),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.addVariation(a))}),u._uU(10,"Select"),u.qZA()()()()()}if(2&n){const t=e.$implicit;u.xp6(5),u.Oqu(null==t?null:t.name),u.xp6(2),u.Q6J("src",(null==t?null:t.img)||(null==t?null:t.imageUrl),u.LSH)}}let G5=(()=>{class n{constructor(t){this.gloveApi=t,this.carouselTile=IB}ngOnInit(){this.dataSource.forEach(t=>(t.imageUrl&&(t.img=t.imageUrl,delete t.imageUrl),t)),this.custom=this.gloveApi.gloveCustom$.subscribe(t=>{null!=this.custom&&(this.custom=t)})}addVariation(t){try{if(t.attribute_pewc)return void this.gloveApi.applyFormValue({attribute_pewc:t.attribute_pewc,name:t.name});"webs"===this.currentAttribute.title.toLowerCase()&&(this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89358",name:t.name}),this.custom.pewc_group_89335_89358=t.name,this.gloveApi.gloveCustom.next(this.custom))}catch(i){console.log(i)}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(D0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-input-slider"]],inputs:{dataSource:"dataSource",currentAttribute:"currentAttribute"},decls:4,vars:2,consts:[[3,"inputs","dataSource"],["type","button","NguCarouselPrev","",1,"leftRs"],["type","button","NguCarouselNext","",1,"rightRs"],[4,"nguCarouselDef"],[1,"slide-view_column","py-4","slide-margin"],[1,"slide-view__list","pb-2","my-2"],[2,"font-weight","600"],[1,"img-thumbnail","slide-img-size",3,"src"],[1,"slide-view__list","pt-2","my-2"],["type","button",1,"btn","btn-outline-success",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"ngu-carousel",0),u._UZ(1,"button",1)(2,"button",2),u.YNc(3,$5,11,2,"ngu-tile",3),u.qZA()),2&t&&u.Q6J("inputs",i.carouselTile)("dataSource",i.dataSource)},dependencies:[jC,fx,ey,ty,vw],styles:[".slide-img-size[_ngcontent-%COMP%]{height:150px}.slide-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.slide-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.slide-view__list[_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.slide-margin[_ngcontent-%COMP%]{margin:0 30px}"]}),n})(),H5=(()=>{class n{constructor(){this.currentTab=new zn.x,this.currentTab$=this.currentTab.asObservable(),this.currentTab.next(0)}nextPrev(t){this.currentTab.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j5(n,e){if(1&n&&(u.TgZ(0,"span",13),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.AsE("",t.index+1," / ",t.sectionLength,"")}}let W5=(()=>{class n{constructor(t){this.nav=t,this.sectionLength=0,this.lastStep=!1,this.currentTab=0}ngOnInit(){this.nav.currentTab$.subscribe(t=>{this.currentTab=t,this.showTab(t)})}nextPrev(t){if(0!==this.currentTab||-1!==t)return document.getElementsByClassName("tab")[this.currentTab].style.display="none",this.nav.nextPrev(this.currentTab+t),this.currentTab=this.currentTab+t,!1}showTab(t){var i=document.getElementsByClassName("tab");let r=document.getElementById("m-prevBtn"),a=document.getElementById("m-nextBtn");const c=document.querySelectorAll("button#m-nextBtn");i[t].style.display="block",r.style.display=0==t?"none":"inline",t==i.length-1?(a.style.display="none",c[c.length-1].style.display="none"):a.style.display="inline"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(H5))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mobile-navigation"]],inputs:{title:"title",index:"index",sectionLength:"sectionLength",lastStep:"lastStep"},decls:15,vars:2,consts:[[1,"row","mb-3","navigation-header"],[1,"col-3",2,"text-align","right"],["id","m-prevBtn",1,"btn",3,"click"],[2,"text-align","end"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"col-6",2,"text-align","center"],[1,"navigation_label"],["style"," color: rgb(0, 180, 0); ",4,"ngIf"],[1,"col-3"],["id","m-nextBtn",1,"btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right"],["fill-rule","evenodd","d","M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"],[2,"color","rgb(0, 180, 0)"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return i.nextPrev(-1)}),u.TgZ(3,"div",3),u.O4$(),u.TgZ(4,"svg",4),u._UZ(5,"path",5),u.qZA()()()(),u.kcU(),u.TgZ(6,"div",6)(7,"p",7),u._uU(8),u.YNc(9,j5,2,2,"span",8),u.qZA()(),u.TgZ(10,"div",9)(11,"button",10),u.NdJ("click",function(){return i.nextPrev(1)}),u.TgZ(12,"div"),u.O4$(),u.TgZ(13,"svg",11),u._UZ(14,"path",12),u.qZA()()()()()),2&t&&(u.xp6(8),u.hij("",i.title," "),u.xp6(1),u.Q6J("ngIf",i.sectionLength>=1))},dependencies:[Gn],styles:[".bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:28px;height:28px}.navigation_label[_ngcontent-%COMP%]{font-size:1.2rem;margin:unset}.navigation-header[_ngcontent-%COMP%]{align-items:center}@media (max-width: 450px){.bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:20px;height:20px}.navigation_label[_ngcontent-%COMP%]{font-size:1rem;margin:unset}}"]}),n})();function z5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",7)(1,"h4",8),u._uU(2,"Shipping and Returns Policy"),u.qZA(),u.TgZ(3,"button",9),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.KtG(a.dismiss("Cross click"))}),u.qZA()(),u.TgZ(4,"div",10)(5,"p",11),u._uU(6,"Shipping"),u.qZA(),u.TgZ(7,"ul",12)(8,"li",13),u._uU(9,"Please allow 4-6 weeks for delivery. During holiday season delivery times may be longer."),u.qZA(),u.TgZ(10,"li",13),u._uU(11,"Local Pickup is available to NYC customers"),u.qZA(),u.TgZ(12,"li",13),u._uU(13,"Glove must be returned in its original condition."),u.qZA()(),u._UZ(14,"hr"),u.TgZ(15,"p",11),u._uU(16," 100% Refund Policy"),u.qZA(),u.TgZ(17,"ul",12)(18,"li",13),u._uU(19,"24 hours to inspect and evaluate all custom gloves"),u.qZA(),u.TgZ(20,"li",13),u._uU(21,"100% refund due to errors on are part"),u.qZA(),u.TgZ(22,"li",13),u._uU(23,"Glove must be returned in its original condition."),u.qZA()(),u._UZ(24,"hr"),u.TgZ(25,"p",11),u._uU(26," 100% Guarantee Policy"),u.qZA(),u.TgZ(27,"ul",12)(28,"li",13),u._uU(29,"1 year non-transferable warranty on custom gloves"),u.qZA(),u.TgZ(30,"li",13),u._uU(31,"Warranty claims must be initiated via email."),u.qZA(),u.TgZ(32,"li",13),u._uU(33,'"Defective" claims will be repaired or replaced at the discretion of NYStixs.'),u.qZA()()()}}let q5=(()=>{class n{constructor(t){this.modalService=t}ngOnInit(){}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(i=>{console.log(`Closed with: ${i}`)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qb))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-policy-modal"]],decls:9,vars:0,consts:[[1,"row"],[1,"btn","btn-clear","d-flex","flex-wrap","justify-content-center","align-items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-circle","mx-2"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"fw-light","fst-italic",2,"margin","unset"],["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h6"],[1,"list-group"],[1,"list-group-item"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"div",0)(1,"button",1),u.NdJ("click",function(){u.CHM(r);const c=u.MAs(8);return u.KtG(i.open(c))}),u.O4$(),u.TgZ(2,"svg",2),u._UZ(3,"path",3)(4,"path",4),u.qZA(),u.kcU(),u.TgZ(5,"p",5),u._uU(6,"Shipping & Returns"),u.qZA()()(),u.YNc(7,z5,34,0,"ng-template",null,6,u.W1O)}}}),n})(),Z5=(()=>{class n{transform(t){if(void 0!==t)return t.split(" ").join("-").toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"dashString",type:n,pure:!0}),n})();const Y5=["mpersonalization"],K5=["mcustomernotes"];function Q5(n,e){if(1&n){const t=u.EpF();u.ynx(0),u._UZ(1,"input",22),u.TgZ(2,"button",23),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(5);return u.KtG(c.addVariation(a))}),u._uU(3),u.qZA(),u.BQk()}if(2&n){const t=e.$implicit,i=e.index;u.xp6(1),u.hYB("id","",t,"-",i,""),u.xp6(2),u.Oqu(t.name)}}function J5(n,e){if(1&n&&(u.ynx(0),u.YNc(1,Q5,4,3,"ng-container",0),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngForOf",t.variations)}}function X5(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",3)(2,"div",4)(3,"div",5),u._UZ(4,"app-mobile-navigation",6),u.TgZ(5,"div",7)(6,"dl",8)(7,"dt",9),u._uU(8," Personalize your glove "),u.qZA(),u.TgZ(9,"dd",10)(10,"div",11)(11,"input",12,13),u.NdJ("keyup",function(){u.CHM(t);const r=u.oxw().$implicit,a=u.oxw(2);return u.KtG(a.addPersonalization(r.gloveInputs[0]))}),u.qZA()()()(),u.TgZ(13,"dl",8),u.ynx(14),u.TgZ(15,"dt",9),u._uU(16," Embroidery Font "),u.qZA(),u.TgZ(17,"dd",14)(18,"div",15),u.YNc(19,J5,2,1,"ng-container",0),u.qZA()(),u.BQk(),u.qZA(),u.TgZ(20,"dl",8)(21,"dt",9),u._uU(22," Order Notes "),u.qZA(),u.TgZ(23,"dd",10)(24,"div",16)(25,"textarea",17,18),u.NdJ("keyup",function(){u.CHM(t);const r=u.oxw().$implicit,a=u.oxw(2);return u.KtG(a.addOrderNote(r.gloveInputs[2]))}),u.qZA(),u.TgZ(27,"label",19),u._uU(28,"Anything we need to know? "),u.qZA()()()()(),u.TgZ(29,"div",20)(30,"button",21),u.NdJ("click",function(){u.CHM(t);const r=u.oxw(3);return u.KtG(r.triggerAddToCart())}),u._uU(31,"Purchase Your Glove"),u.qZA()(),u._UZ(32,"app-policy-modal"),u.qZA()()(),u.BQk()}if(2&n){const t=u.oxw().$implicit;u.xp6(4),u.Q6J("title","Final Step")("lastStep",!0),u.xp6(15),u.Q6J("ngForOf",t.gloveInputs)}}function ej(n,e){1&n&&(u.TgZ(0,"span",31),u._uU(1,"*"),u.qZA())}function tj(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",3)(2,"div",24)(3,"div",5),u._UZ(4,"app-mobile-navigation",25),u.TgZ(5,"div",26)(6,"div",27)(7,"h5",28),u._uU(8,"Do you want to add a finger pad or hood?"),u.YNc(9,ej,2,0,"span",29),u.qZA(),u._UZ(10,"app-input-slider",30),u.qZA()()()()(),u.BQk()),2&n){const t=u.oxw(),i=t.$implicit,r=t.index;u.xp6(4),u.Q6J("title",i.title)("index",r)("sectionLength",i.gloveInputs.length),u.xp6(5),u.Q6J("ngIf",!0===i.required),u.xp6(1),u.Q6J("dataSource",i.variations)}}function nj(n,e){1&n&&(u.TgZ(0,"span",31),u._uU(1,"*"),u.qZA())}function ij(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",3)(2,"div",24),u._UZ(3,"app-mobile-navigation",25),u.TgZ(4,"div",5)(5,"div",32)(6,"div",33)(7,"h5",28),u._uU(8),u.YNc(9,nj,2,0,"span",29),u.qZA()(),u.TgZ(10,"div",33)(11,"p",34),u._uU(12,"Web Selected: "),u.TgZ(13,"span",35),u._uU(14),u.qZA()()()(),u._UZ(15,"app-input-slider",36),u.qZA()()(),u.BQk()),2&n){const t=u.oxw(),i=t.$implicit,r=t.index,a=u.oxw(2);u.xp6(3),u.Q6J("title",i.title)("index",r)("sectionLength",i.gloveInputs.length),u.xp6(5),u.Oqu(i.title),u.xp6(1),u.Q6J("ngIf",!0===i.required),u.xp6(5),u.Oqu(a.custom.pewc_group_89335_89358||"No Selection"),u.xp6(1),u.Q6J("dataSource",a.filterWebs())("currentAttribute",i)}}function rj(n,e){if(1&n&&(u.TgZ(0,"span",49),u.O4$(),u.TgZ(1,"svg",50),u._UZ(2,"path",51)(3,"path",52),u.qZA()()),2&n){u.oxw();const t=u.MAs(12);u.Q6J("ngbTooltip",t)}}function sj(n,e){1&n&&(u.TgZ(0,"span",31),u._uU(1,"* "),u.qZA())}function oj(n,e){if(1&n&&u._UZ(0,"img",53),2&n){const t=u.oxw().$implicit;u.Q6J("src",t.image,u.LSH)}}function aj(n,e){1&n&&(u.ynx(0),u.TgZ(1,"p"),u._uU(2,"Depending on mitt style, Welt may not be available."),u.qZA(),u.BQk())}function lj(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",54)(2,"p",55),u._uU(3),u.qZA()(),u.BQk()),2&n){const t=u.oxw(3).$implicit;u.xp6(3),u.Oqu(t.info.label)}}function uj(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",56)(2,"button",57),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(2),g=c.$implicit,y=c.index,C=u.oxw(4);return u.KtG(C.addColorVariation(g,a,y))}),u.ALo(3,"dashString"),u.qZA()(),u.BQk()}if(2&n){const t=e.$implicit,i=e.index;u.xp6(2),u.Udp("background",t.hex),u.hYB("id","",u.lcZ(3,5,t.label),"-",i,""),u.s9C("ngbTooltip",t.name)}}function cj(n,e){if(1&n&&(u.ynx(0),u.YNc(1,uj,4,7,"ng-container",0),u.BQk()),2&n){const t=u.oxw().$implicit,i=u.oxw(2).$implicit,r=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",r.colorFilter(i.type,t.gloveType))}}function dj(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",3)(2,"div",37)(3,"div",5),u._UZ(4,"app-mobile-navigation",38),u.TgZ(5,"div",39)(6,"div",33)(7,"h5",28),u._uU(8),u.YNc(9,rj,4,1,"span",40),u.YNc(10,sj,2,0,"span",29),u.YNc(11,oj,1,1,"ng-template",null,41,u.W1O),u.qZA(),u.YNc(13,aj,3,0,"ng-container",42),u.qZA(),u.TgZ(14,"div",43)(15,"p",11),u._uU(16,"Color Selected: "),u.TgZ(17,"span",44),u._uU(18),u.qZA()()()(),u.YNc(19,lj,4,1,"ng-container",42),u._UZ(20,"hr"),u.TgZ(21,"div",45)(22,"div",46)(23,"div",47),u.ynx(24,48),u.YNc(25,cj,2,1,"ng-container",42),u.BQk(),u.qZA()()()()()(),u.BQk()),2&n){const t=e.$implicit,i=e.index,r=u.oxw(2).$implicit,a=u.oxw(2);u.xp6(4),u.Q6J("title",r.title)("index",i)("sectionLength",r.gloveInputs.length),u.xp6(4),u.hij("",t.label," "),u.xp6(1),u.Q6J("ngIf",null!=t.image),u.xp6(1),u.Q6J("ngIf",!0===t.required),u.xp6(3),u.Q6J("ngIf","catcher"==a.gloveType.name&&"Welt Color"==t.label),u.xp6(5),u.Oqu(a.custom[t.attribute_pewc]||"No Selection"),u.xp6(1),u.Q6J("ngIf","Finger Pad Color"===r.title),u.xp6(6),u.Q6J("ngIf",void 0!==a.color&&"Finger Cover"!==r.title)}}function hj(n,e){if(1&n&&(u.ynx(0),u.YNc(1,dj,26,10,"ng-container",0),u.BQk()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngForOf",t.gloveInputs)}}function fj(n,e){if(1&n&&(u.ynx(0),u.YNc(1,X5,33,3,"ng-container",2),u.YNc(2,tj,11,5,"ng-container",2),u.YNc(3,ij,16,8,"ng-container",2),u.YNc(4,hj,2,1,"ng-container",2),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngSwitchCase","Glove Personalization"===t.title),u.xp6(1),u.Q6J("ngSwitchCase","Finger Cover"===t.title),u.xp6(1),u.Q6J("ngSwitchCase","Webs"===t.title),u.xp6(1),u.Q6J("ngSwitchCase","Glove Personalization"!==t.title)}}function pj(n,e){if(1&n&&(u.ynx(0)(1,1),u.YNc(2,fj,5,4,"ng-container",0),u.BQk()()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngSwitch",!0),u.xp6(1),u.Q6J("ngForOf",t.prompt)}}let gj=(()=>{class n{constructor(t,i){this.gloveApi=t,this.data=i,this.leatherSelected="steer",this.custom={},this.carouselTile=IB,this.currentTab=0}ngAfterViewInit(){this.showTab(this.currentTab)}ngOnInit(){this.gloveApi.leatherSelected$.subscribe(t=>{this.leatherSelected=t}),this.gloveApi.gloveType$.subscribe(t=>{this.gloveType=t}),this.data.getColors().subscribe(t=>{this.color=t}),this.data.getGloveWebs().pipe((0,It.U)(t=>t.map(i=>({name:i.valueString,...i})))).subscribe(t=>{this.webs=t}),this.gloveApi.gloveDesign$.subscribe(t=>{Zo.forEach(t,(i,r)=>{Zo.forEach(i,(a,c)=>{"prompt"===c&&Zo.map(a,(g,y)=>{g.gloveInputs=Zo.filter(g.gloveInputs,C=>{if(C.gloveType.includes(this.gloveType.glove)&&C.active)return C})})})}),this.options=t,console.log(this.options)}),this.gloveApi.gloveCustom$.subscribe(t=>{console.log(this.custom),null!=t&&(this.custom=t)})}addColorVariation(t,i,r){const a={attribute:t.attribute_pewc,...i};this.custom[t.attribute_pewc]=i.name,console.log(this.custom),this.gloveApi.gloveCustom.next(this.custom),this.gloveApi.applyFormValue({attribute_pewc:a.attribute,name:a.name}),this.gloveApi.applyFilltoCanvas({section:t.glovePart,hex:i.hex,rgb:i.rgb})}addPersonalization(t){this.gloveApi.applyFormValue({attribute_pewc:t.attribute_pewc,name:this.personalization.nativeElement.value})}addOrderNote(t){this.gloveApi.applyFormValue({attribute_pewc:t.attribute_pewc,name:this.customernotes.nativeElement.value})}addVariation(t){this.gloveApi.applyFormValue(t)}colorFilter(t,i){const r=t;let a=[];return this.color.forEach(c=>{"leather"===r?("steer"===this.leatherSelected||"kip"===this.leatherSelected)&&c.leather.includes(this.leatherSelected)&&a.push(c):c.leather.includes(r)&&a.push(c)}),a}filterWebs(){return((n,e)=>{let t=[];return null!=n&&(t=n.filter(i=>i.gloveType.find(r=>r===e.name.toLowerCase()))),t})(this.webs,this.gloveType)}filterWebInputs(){let t=[];return null!=this.webs&&(t=this.webs.filter(i=>i.gloveType.find(r=>r===this.gloveType.name.toLowerCase()))),t}nextPrev(t){if(0!==this.currentTab||-1!==t){var i=document.getElementsByClassName("tab");return i[this.currentTab].style.display="none",this.currentTab=this.currentTab+t,this.currentTab>=i.length||this.showTab(this.currentTab),!1}}onSwipeRight(t){this.showTab(-1)}onSwipeLeft(t){this.showTab(1)}selectWeb(t){console.log(t)}showTab(t){var i=document.getElementsByClassName("tab");let r=document.getElementById("m-prevBtn"),a=document.getElementById("m-nextBtn");i[t].style.display="block",r.style.display=0==t?"none":"inline",t==i.length-1&&(a.style.display="none")}triggerAddToCart(){this.gloveApi.triggerAddToCart()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(D0),u.Y36(EM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mobile-ui"]],viewQuery:function(t,i){if(1&t&&(u.Gf(Y5,5),u.Gf(K5,5)),2&t){let r;u.iGM(r=u.CRH())&&(i.personalization=r.first),u.iGM(r=u.CRH())&&(i.customernotes=r.first)}},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab"],[1,"card","p-4","border","shadow-lg"],[1,"card-body"],[1,"navigation",3,"title","lastStep"],[1,"row","px-2"],[1,"row","w-100","align-items-center"],[1,"col-sm-12","col-md-5","text-center","mb-2"],[1,"col-sm-12","col-md-7","mb-1"],[1,""],["type","text","id","glove-personalization","placeholder","Glove Personalization",1,"form-control",3,"keyup"],["mpersonalization",""],[1,"col-sm-12","col-md-7","mb-1","d-flex"],[1,"col","main-button-group__item"],[1,"form-floating"],["id","customer-notes","placeholder","Glove Personalization",1,"form-control",2,"height","100px",3,"keyup"],["mcustomernotes",""],["for","customer-notes"],[1,"row","px-5"],["type","button",1,"btn","btn-success","px-5",3,"click"],["type","radio","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","flex-fill","m-2",3,"click"],[1,"card","mx-3","border"],[1,"navigation",3,"title","index","sectionLength"],[1,"row","gy-3","mt-2","px-4",2,"touch-action","none"],[1,"col","mt-0"],[1,"card-title","mb-2"],["class","required",4,"ngIf"],[3,"dataSource"],[1,"required"],[1,"row","gy-3","px-4",2,"touch-action","none"],[1,"col"],[1,"h6"],[2,"color","rgb(0, 0, 0)","font-weight","600","font-style","italic","font-size","1.125em","padding-left","10px"],[3,"dataSource","currentAttribute"],[1,"card","p-4","border"],[3,"title","index","sectionLength"],[1,"row","gy-3"],["triggers","click hover",3,"ngbTooltip",4,"ngIf"],["toolTipContent",""],[4,"ngIf"],[1,"col","progress-hint","pl-3"],[2,"color","rgb(0, 0, 0)"],[1,"row","d-flex","buttons-container"],["id","draggable-container",1,"draggable"],["id","draggableheader",1,"d-flex","flex-wrap",2,"padding","10px"],[1,"col-md","radio-input-container"],["triggers","click hover",3,"ngbTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","black","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"img-thumbnail",3,"src"],[1,"row"],[1,"card-subtitle",2,"font-size","0.875em"],[1,"d-flex","align-items-center","justify-content-center","mx-2","mb-3"],["type","button","tooltipClass","qo-tooltip-class",1,"btn","shadow","radio-buttons",2,"display","flex",3,"id","ngbTooltip","click"]],template:function(t,i){1&t&&(u.ynx(0),u.YNc(1,pj,3,2,"ng-container",0),u.BQk()),2&t&&(u.xp6(1),u.Q6J("ngForOf",i.options))},dependencies:[wr,Gn,ho,ps,PC,G5,W5,q5,Z5],styles:[".navigation[_ngcontent-%COMP%]{margin-top:40px}.progress-hint[_ngcontent-%COMP%]{font-size:.875em;color:#5b5a5a}.progress-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-style:italic;font-size:1.125em}hr[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.gesture[_ngcontent-%COMP%]{position:relative;animation:animateright right 15s;animation-iteration-count:1;animation-name:hand}.card[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]{border-top-right-radius:8rem;border-top-left-radius:8rem;-webkit-border-top-left-radius:8rem;-webkit-border-top-right-radius:8rem}.tab[_ngcontent-%COMP%]{display:none}@keyframes hand{0%{right:300px;opacity:0}to{vertical-align:middle;opacity:1}}.qo-tooltip-class[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{width:60px;background-color:purple}.qo-tooltip-class[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:before{border-top-color:purple}.web-buttons[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;margin:2px;display:flex;justify-content:center;vertical-align:center}.web-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;padding:2px}@media screen and (max-width: 492px){h5[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})();function mj(n,e){1&n&&(u.TgZ(0,"p"),u._uU(1,"Toggling this switch will change the leather color palette."),u.qZA())}function _j(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",11)(2,"div",12),u._uU(3,"US Steer"),u.qZA(),u.TgZ(4,"div",13),u.YNc(5,mj,2,0,"ng-template",null,14,u.W1O),u.TgZ(7,"input",15),u.NdJ("change",function(r){u.CHM(t);const a=u.oxw();return u.KtG(a.setLeather(r))}),u.qZA(),u.TgZ(8,"label",16),u._uU(9,"Japanese Kip"),u.qZA()(),u.TgZ(10,"div",17)(11,"p",18),u._uU(12),u.qZA()()(),u.BQk()}if(2&n){const t=e.ngIf,i=u.MAs(6);u.xp6(7),u.Q6J("ngbTooltip",i),u.xp6(5),u.Oqu(t.price)}}function vj(n,e){1&n&&(u.TgZ(0,"div",19),u._uU(1,"NYStix Glove Customizer"),u.qZA(),u.TgZ(2,"div",20)(3,"p",21),u._uU(4,"125.00"),u.qZA()())}function yj(n,e){1&n&&(u.TgZ(0,"div"),u.O4$(),u._UZ(1,"svg",22,23),u.qZA())}function bj(n,e){1&n&&(u.TgZ(0,"div"),u.O4$(),u._UZ(1,"svg",24,25),u.qZA())}function wj(n,e){1&n&&(u.TgZ(0,"div"),u.O4$(),u._UZ(1,"svg",26,27),u.qZA())}let Dj=(()=>{class n{constructor(t,i,r){this.gloveApi=i,this.toolTip=r,t.showNavigationArrows=!0,t.showNavigationIndicators=!0,t.interval=5e3,r.closeDelay=500}ngOnInit(){this.product$=this.gloveApi.product$,this.gloveApi.product$.subscribe(t=>{console.log(`Receiving product info ${t}`)})}ngAfterViewInit(){window.addEventListener("scroll",function t(){const i=document.documentElement.scrollTop||document.body.scrollTop,r=document.getElementsByClassName("mobile-mode"),a=document.getElementById("priceContainer").offsetTop,c=document.getElementById("glove-designer").offsetHeight;if("block"!==r[0].style.display&&null!=a){let g;console.log(i,a+c-a),c-a>400&&i>500&&(i>a&&i<a+c?(g=document.getElementById("gloveContainer"),g.classList.add("sticky"),document.getElementById("glove-designer").style.height=g.offsetHeight.toString()):(console.log(i,a+c-a),g=document.getElementById("gloveContainer"),g.classList.remove("sticky"),document.getElementById("glove-designer").style.height="unset"))}})}loadSnap(){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js",t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}setLeather(t){!0===t.target.checked?(this.gloveApi.leatherSelected.next("kip"),console.log("Kip selected"),this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89337_kip",name:"kip"})):(this.gloveApi.leatherSelected.next("steer"),console.log("Steer selected"),this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89337_steer",name:"steer"}));const i=document.getElementById("pewc_total_calc_price");this.gloveApi.product$.pipe(ha()).subscribe(r=>{console.log(`Old price: ${r.price}`),console.log(`New price is ${i.value}`),i.value!==r.price?(this.gloveApi.product.next({...r,price:i.value}),console.log({...r,price:i.value})):console.log("Price is the same")})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Wc),u.Y36(D0),u.Y36(uw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-glove-view"]],decls:14,vars:4,consts:[["id","glove-designer",1,"container",2,"padding","unset"],["id","priceContainer",1,"row","p-2"],[4,"ngIf","ngIfElse"],["static",""],["id","gloveContainer",1,"row","text-bg-light","p-3"],[1,"glove-carousel"],["gloveSlide","ngbCarousel"],["ngbSlide","","id","slide-0"],["ngbSlide","","id","slide-1"],["ngbSlide","","id","slide-2"],[1,"row"],[1,"d-inline-flex","justify-content-center","align-items-center"],[1,"fs-6","mx-1","col"],[1,"form-check","col","form-switch","d-flex","justify-content-center","align-items-center"],["tipContent",""],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input","leather-input",3,"ngbTooltip","change"],["for","flexSwitchCheckDefault",1,"form-check-label","fs-6"],[1,"col-xs-2","col-sm-3","col-4","text-end",2,"padding","2px"],[1,"h2"],[1,"col-6"],[1,"col-6","text-end"],[1,"h4"],["id","svg-main"],["svgMain",""],["id","svg-inside"],["svgInside",""],["id","svg-side"],["svgSide",""]],template:function(t,i){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,_j,13,2,"ng-container",2),u.ALo(3,"async"),u.YNc(4,vj,5,0,"ng-template",null,3,u.W1O),u.qZA(),u.TgZ(6,"div",4)(7,"ngb-carousel",5,6),u.YNc(9,yj,3,0,"ng-template",7),u.YNc(10,bj,3,0,"ng-template",8),u.YNc(11,wj,3,0,"ng-template",9),u.qZA()(),u.TgZ(12,"div",10),u._UZ(13,"app-mobile-ui"),u.qZA()()),2&t){const r=u.MAs(5);u.xp6(2),u.Q6J("ngIf",u.lcZ(3,2,i.product$))("ngIfElse",r)}},dependencies:[Gn,Rb,Fh,PC,gj,an],styles:[".accordion-body[_ngcontent-%COMP%]{padding:unset!important}#gloveContainer[_ngcontent-%COMP%]{background-color:#7e8287}#gloveContainer.sticky[_ngcontent-%COMP%]{position:fixed;width:35%;top:0;z-index:15}.glove-carousel[_ngcontent-%COMP%]{background:#bfbfbf}.clone-container[_ngcontent-%COMP%]{display:flex;align-content:space-between}.clone-container_items[_ngcontent-%COMP%]{display:flex;width:100%}.clone-image[_ngcontent-%COMP%]{width:200px}.mobile-mode[_ngcontent-%COMP%]{display:none;margin-top:-100px;z-index:100}.h1[_ngcontent-%COMP%]{font-size:calc(.6rem + 1.5vw)}.leather-input[_ngcontent-%COMP%]{width:50px;margin-right:25px}@media (max-width: 991px){.mobile-mode[_ngcontent-%COMP%]{display:block}.fs-6[_ngcontent-%COMP%]{font-size:.8rem!important}}@media (min-width: 768px){.mobile-mode[_ngcontent-%COMP%]{margin-top:-50px}}@media (max-width: 580px){.mobile-mode[_ngcontent-%COMP%]{margin-top:-25px}}@media (max-width: 390px){.h1[_ngcontent-%COMP%]{font-size:calc(.9rem + 1.5vw)}}"]}),n})();const Cj=["buttonUi"],Ij=["personalization"];function Tj(n,e){1&n&&(u.TgZ(0,"div",1)(1,"div",5),u._UZ(2,"app-glove-view"),u.qZA()())}let Ej=(()=>{class n{constructor(t,i,r,a){this.gloveApi=t,this.tooltip=i,this.afs=r,this.sanitizer=a,this.custom=[],this.accordionIds=[],this.domResponse={},this.tooltip.placement="right",this.tooltip.triggers="hover"}ngOnInit(){this.gloveApi.leatherSelected$.subscribe(t=>{this.leatherSelected=t}),this.gloveApi.gloveType$.subscribe(t=>{this.gloveType=t}),this.gloveApi.gloveDesign$.subscribe(t=>{console.log(t),Zo.forEach(t,(i,r)=>{Zo.forEach(i,(a,c)=>{"prompt"===c&&Zo.map(a,(g,y)=>{g.active&&(console.log(g.active),g.gloveInputs=Zo.filter(g.gloveInputs,C=>{if(C.gloveType.includes(this.gloveType.glove)&&C.active)return C}))})})}),this.options=t})}ngAfterViewInit(){this.gloveApi.init()}addVariation(t){this.gloveApi.applyFormValue(t)}triggerAddToCart(){this.gloveApi.triggerAddToCart()}addPersonalization(t){this.gloveApi.applyFormValue({attribute:t.attribute_pewc,name:this.personalization.nativeElement.value})}urlSanitizer(t){return this.sanitizer.bypassSecurityTrustResourceUrl(`https:${t}`)}panelChange(t){if(this.domResponse[t]){const r=this.domResponse[t];document.querySelectorAll("button.btn").length>0&&document.querySelectorAll("button.btn").forEach(a=>{a.classList.remove("active"),a.innerText.toLowerCase()===r.name.toLowerCase()&&a.classList.add("active"),a.innerText===r&&a.classList.add("active")})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(D0),u.Y36(uw),u.Y36(yE),u.Y36(Pu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-glove-ui"]],viewQuery:function(t,i){if(1&t&&(u.Gf(Cj,5),u.Gf(Ij,5)),2&t){let r;u.iGM(r=u.CRH())&&(i.buttonUi=r.first),u.iGM(r=u.CRH())&&(i.personalization=r.first)}},features:[u._Bn([P])],decls:5,vars:1,consts:[[1,"container",2,"padding","unset"],[1,"row"],["activeIds","main-0",3,"destroyOnHide"],["id","main-0","title","Glove Designer"],["ngbPanelContent",""],[1,"col-sm-12"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"ngb-accordion",2)(3,"ngb-panel",3),u.YNc(4,Tj,3,0,"ng-template",4),u.qZA()()()()),2&t&&(u.xp6(2),u.Q6J("destroyOnHide",!1))},dependencies:[Qe,je,fe,Dj],styles:[".ngb-padding[_ngcontent-%COMP%]{padding:0 6px}ngb-accordion[_ngcontent-%COMP%]{padding:0 6px}.info-modal[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:10px}.custom-header-button.accordion-button[_ngcontent-%COMP%]{--bs-accordion-active-color: #fff;--bs-accordion-btn-active-icon: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'><path fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/></svg>\")}.numberCircle[_ngcontent-%COMP%]{border-radius:50%;width:1.8rem;height:1.8rem;padding:8px;background:#fff;border:2px solid #666;color:#666;text-align:center;font:1rem Arial,sans-serif}.web-buttons[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;margin:2px;display:flex;justify-content:center;vertical-align:center}.web-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;padding:2px}.form-group[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin:.25rem}.fpad-img-size[_ngcontent-%COMP%]{width:auto;height:172px}.fpad-web-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.fpad-web-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.fpad-web-view__list[_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.fpad-margin[_ngcontent-%COMP%]{margin:0 30px}.glove-brand-img-size[_ngcontent-%COMP%]{width:206px;height:100px}.glove-brand-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.glove-brand-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.glove-brand-margin[_ngcontent-%COMP%]{margin:0 30px}section[_ngcontent-%COMP%]{display:flex;justify-content:center}.mobile-mode[_ngcontent-%COMP%]{display:block}@media (max-width: 991px){.mobile-mode[_ngcontent-%COMP%]{display:none}}"]}),n})();const Sj=[{attribute_pewc:"pewc_group_89335_89339",name:'10.5"',glove:["infielder","pitcher"],seqNo:1},{attribute_pewc:"pewc_group_89335_89339",glove:["infielder","pitcher"],seqNo:2,name:'11"'},{seqNo:3,glove:["infielder","pitcher"],name:'11.5"',attribute_pewc:"pewc_group_89335_89339"},{glove:["infielder","pitcher"],seqNo:4,attribute_pewc:"pewc_group_89335_89339",name:'11.75"'},{attribute_pewc:"pewc_group_89335_89339",seqNo:5,glove:["infielder","pitcher"],name:'12"'},{seqNo:6,glove:["outfielder","pitcher","first base","1st base"],name:'12.5"',attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder"],name:'12.75"',seqNo:7,attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder","first base","1st base"],attribute_pewc:"pewc_group_89335_89339",name:'13"',seqNo:8},{seqNo:9,glove:["outfielder","first base","1st base"],attribute_pewc:"pewc_group_89335_89339",name:'14"'},{name:'32"',attribute_pewc:"pewc_group_89335_89339",seqNo:10,glove:[]},{seqNo:11,attribute_pewc:"pewc_group_89335_89339",name:'32.50"',glove:["catcher"]},{glove:[],attribute_pewc:"pewc_group_89335_89339",seqNo:12,name:'33"'},{seqNo:13,name:'33.50"',glove:["catcher"],attribute_pewc:"pewc_group_89335_89339"},{name:'34"',attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:14},{name:'34.50"',attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:15}],xj=[{seqNo:1,id:"main-",disabled:!1,includeOptions:!1,title:"Glove Type",label:"Glove Type:",variations:[{attribute_pewc:"pewc_group_89335_89336",name:"Baseball",label:"Glove Type"},{label:"Glove Type",name:"Softball",attribute_pewc:"pewc_group_89335_89336"}]},{seqNo:2,id:"main-",disabled:!1,includeOptions:!1,attribute_pewc:"pewc_group_89335_89339",label:"Glove Size",title:"Glove Size",options:[],variations:[]},{seqNo:3,id:"main-",attribute_pewc:"pewc_group_89335_89340",disabled:!1,includeOptions:!1,label:"Throwing Arm",title:"Throwing Arm",options:[],variations:[{name:"Right Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340"},{name:"Left Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340"}]},{seqNo:4,id:"main-",disabled:!1,label:"Glove Brand",title:"Glove Brand",includeOptions:!0,options:[],info:{title:"<h3>What is the difference between NYStix and 9P?</h3>",content:"<p>NYStix was created to fulfill a need for better baseball equipment in the parks of New York City and Long Island. <br> 9P (9Positions) is a brand created for the world.</p>"},variations:[{id:"pa_glove-brand",valueString:"NYStix",attribute_pewc:"pewc_group_89335_89341",img:"https://nystix.com/wp-content/uploads/2021/10/nystix.svg",value:"nystix",name:"NYStix"},{name:"9Positions",value:"9positions",attribute_pewc:"pewc_group_89335_89341",img:"https://nystix.com/wp-content/uploads/2021/10/nine-positions.svg",id:"pa_glove-brand",valueString:"9Positions"},{attribute_pewc:"pewc_group_89335_89341",img:"//nystix.com/wp-content/uploads/2021/10/nystix-alt.svg",value:"nystix-alt",valueString:"NYStix Alt",id:"pa_glove-brand",name:"NYStix Alt"}]},{seqNo:5,id:"main-",disabled:!1,includeOptions:!0,contents:[],title:"Glove Designer",label:"Glove Designer",options:[{id:"",type:"leather",title:"",label:"Surface Leather",header:"glove-design-",info:{description:null,label:null},input:"buttons",prompt:[{active:!0,title:"Glove Shell",elementRef:"radio",type:"leather",gloveInputs:[{glovePart:"thb",fingerId:"1",label:"Thumb Finger",gloveType:["mitt"],attribute_wp:"pa_thumb-finger-color",attribute_pewc:"pewc_group_89335_89342",image:null,required:!0,active:!0},{glovePart:"bfg",attribute_pewc:"pewc_group_89335_89343",label:"Back Finger",gloveType:["mitt"],fingerId:"2",attribute_wp:"pa_back-finger-color",required:!0,active:!0},{glovePart:"thbo",attribute_pewc:"pewc_group_89335_89344",gloveType:["glove"],label:"Thumb Outer",attribute_wp:"pa_thumb-outer-color",image:null,fingerId:"1",required:!0,active:!0},{attribute_wp:"pa_thumb-inner-color",glovePart:"thbi",label:"Thumb Inner",attribute_pewc:"pewc_group_89335_89345",image:null,gloveType:["glove"],fingerId:"2",required:!0,active:!0},{fingerId:"3",gloveType:["glove"],label:"Index Inner",glovePart:"indi",attribute_pewc:"pewc_group_89335_89346",attribute_wp:"pa_index-inside-color",required:!0,image:null,active:!0},{glovePart:"indo",attribute_wp:"pa_index-outer-color",fingerId:"4",gloveType:["glove"],label:"Index Outer",attribute_pewc:"pewc_group_89335_89347",required:!0,image:null,active:!0},{fingerId:"5",label:"Middle Inner",gloveType:["glove"],glovePart:"midi",attribute_pewc:"pewc_group_89335_89348",attribute_wp:"pa_middle-finger-color",required:!0,image:null,active:!0},{attribute_wp:"pa_middle-finger-color",fingerId:"5",glovePart:"mido",gloveType:["glove"],label:"Middle Outer",attribute_pewc:"pewc_group_89335_89349",image:null,required:!0,active:!0},{gloveType:["glove"],fingerId:"6",attribute_pewc:"pewc_group_89335_89350",label:"Ring Inner",attribute_wp:"pa_ring-inner-color",glovePart:"rngi",required:!0,image:null,active:!0},{attribute_wp:"pa_ring-outer-color",attribute_pewc:"pewc_group_89335_89351",fingerId:"7",label:"Ring Outer",glovePart:"rngo",gloveType:["glove"],required:!0,image:null,active:!0},{fingerId:"8",gloveType:["glove"],attribute_pewc:"pewc_group_89335_89352",glovePart:"pnki",label:"Pinky Inner",attribute_wp:"pa_pinky-inside-color",required:!0,image:null,active:!0},{label:"Pinky Outer",gloveType:["glove"],attribute_wp:"pa_pinky-outside-color",fingerId:"9",glovePart:"pnko",attribute_pewc:"pewc_group_89335_89353",required:!0,image:null,active:!0},{fingerId:"10",gloveType:["glove","mitt"],attribute_pewc:"pewc_group_89335_89354",label:"Wrist Color",attribute_wp:"pa_wrist-color",glovePart:"wst",required:!0,image:null,active:!0}],info:{description:null,label:null}},{title:"Glove Pocket",header:"glove-design-",type:"leather",elementRef:"radio",active:!0,info:{label:null,description:null},gloveInputs:[{attribute_pewc:"pewc_group_89335_89355",attribute_wp:"pa_palm-color",glovePart:"plm",gloveType:["glove","mitt"],fingerId:"11",label:"Palm Color",required:!0,active:!0,info:{image:null}},{attribute_pewc:"pewc_group_89335_90148",attribute_wp:"pa_lining-color",glovePart:"lin",gloveType:["glove","mitt"],fingerId:"11",label:"Lining",required:!0,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/palm-lining.jpg",info:{label:null,description:"The palm lining is inside of the glove. The color will not be visible."}},{attribute_pewc:"pewc_group_89335_89356",attribute_wp:"pa_palm-color",glovePart:"tgt",gloveType:["mitt"],fingerId:"11",label:"Target Color",required:!1,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/target-samples.jpg"}]},{title:"Finger Loop",header:"glove-design-",active:!1,type:"leather",elementRef:"radio",gloveInputs:[{attribute_wp:"",glovePart:"fstrap",attribute_pewc:"pewc_group_89335_89357",fingerId:"11",gloveType:["mitt","glove"],label:"Thumb/Little Finger Strap",required:!1,active:!1,image:null}],info:{label:null,description:"Finger loops are the laces that secure the thumbs and pinky fingers."}}]},{label:"Glove Web",header:"glove-web-",id:"static-",input:"buttons",type:"leather",info:{label:null,description:"Swipe to view all web options and select the web for your glove. "},prompt:[{active:!0,title:"Webs",attribute_pewc:"pewc_group_89335_89358",header:"",elementRef:"radio",type:"leather",gloveInputs:[{label:"Web Color",glovePart:"web",attribute_pewc:"pewc_group_89335_89359",fingerId:"13",attribute_wp:"pa_web-color",gloveType:["glove","mitt"],required:!0,active:!0,image:null},{attribute_pewc:"pewc_group_89335_89360",glovePart:"utoe",gloveType:["mitt"],attribute_wp:"pa_web-base-color",fingerId:"4",label:"Web Base Color",required:!0,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/personalization-sample.jpg"}],info:{label:null,description:null}}]},{label:"Glove Binding, Lace & Welt",header:"glove-trim-",type:"leather",info:{label:null,description:"Select colors for binding, lace and welt. Selections are required."},input:"buttons",prompt:[{type:"leather",glovePart:"bnd",title:"Glove Trim",elementRef:"radio",active:!0,gloveInputs:[{attribute_wp:"pa_binding-color",attribute_pewc:"pewc_group_89335_89361",fingerId:"15",gloveType:["glove","mitt"],label:"Binding Color",glovePart:"bnd",required:!0,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/best-binding-on-baseball-glove.jpg"},{attribute_wp:"pa_lace-color",attribute_pewc:"pewc_group_89335_89362",gloveType:["glove","mitt"],fingerId:"14",label:"Lace Color",glovePart:"lce",required:!0,active:!0,image:null},{attribute_wp:"pa_welt-color",attribute_pewc:"pewc_group_89335_89363",gloveType:["glove","mitt"],fingerId:"13",label:"Welt Color",glovePart:"wlt",required:!0,image:"https://nystix.com/wp-content/uploads/2022/10/best-welting-on-a-baseball-glove.jpg",active:!0}],info:{description:null,label:null}}]},{label:"Glove Embroidery and Stitching",title:"",header:"glove-thread-",type:"embroidery",info:{label:null,description:"In the Logo Color section, choose the thread color for the wrist logo and personalization. The stitching tread color will be used to bind the leather parts."},input:"buttons",prompt:[{active:!0,type:"embroidery",header:"",glovePart:"logo",title:"Embroidery",elementRef:"radio",gloveInputs:[{fingerId:"17",attribute_wp:"pa_nystix-logo-color",glovePart:"logo",label:"Brand Logo Color",attribute_pewc:"pewc_group_89335_89364",image:"https://nystix.com/wp-content/uploads/2022/10/brand-logo.jpg",gloveType:["mitt","glove"],required:!0,active:!0},{glovePart:"stch",gloveType:["glove","mitt"],label:"Stitching Color",fingerId:"16",attribute_wp:"pa_stitching-color",attribute_pewc:"pewc_group_89335_89365",image:"https://nystix.com/wp-content/uploads/2022/10/stitching-sample.jpg",required:!0,active:!0},{glovePart:"stch",gloveType:["glove","mitt"],label:"Personalization Embroidery Color",fingerId:"16",attribute_wp:"pa_personalization-color",attribute_pewc:"pewc_group_89335_90601",image:"https://nystix.com/wp-content/uploads/2022/10/personalization-sample.jpg",required:!1,active:!0}],info:{label:null,description:null}}]},{id:"static-",title:"",prompt:[{title:"Finger Cover",active:!0,elementRef:"radio",header:"",info:{label:null,description:"Select the type of finger cover you want to add to your glove. It is not required to have a finger cover."},variations:[{attribute_pewc:"pewc_group_89335_89366",img:"https://nystix.com/wp-content/uploads/2020/11/no-pad-hood.jpg",name:"No Pad"},{name:"Finger Pad",attribute_pewc:"pewc_group_89335_89366",img:"https://nystix.com/wp-content/uploads/2020/11/nystix-finger-pad.jpg"},{img:"https://nystix.com/wp-content/uploads/2020/11/finger-hood.jpg",name:"F. Hood",attribute_pewc:"pewc_group_89335_89366"}],type:"leather",gloveInputs:[]},{title:"Pad/Hood Color",active:!0,type:"leather",elementRef:"radio",info:{label:'Not required if "No Pad" was selected in previous step.',description:"The color of the finger cover might not change in glove view."},gloveInputs:[{glovePart:"fpad",fingerId:"",attribute_pewc:"pewc_group_89335_89367",attribute_wp:"pa_finger-pad-color",label:"Finger Pad Color",gloveType:["mitt","glove"],required:!1,image:null,active:!0}]}],info:{label:null,description:null},input:"buttons",label:"Finger Protection",header:"finger-protector",type:"leather"},{title:"",label:"Glove Personalization",header:"glove-design-",input:"buttons",active:!0,info:{label:null,description:null},type:"leather",id:"static-",prompt:[{title:"Glove Personalization",info:{label:null,description:null},active:!0,gloveInputs:[{label:"Glove Personalization",glovePart:"lin",active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89368",elementRef:"text",attribute_wp:"pa_glove-personalization",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}},{elementRef:"text",attribute_pewc:"pewc_group_89335_89369",label:"Embroidery Font",fingerId:null,attribute_wp:"pa_embroidery-font",active:!0,required:!1,variations:[{name:"Script Font",attribute_pewc:"pewc_group_89335_51",label:"Glove Embroidery"},{name:"Block Font",attribute_pewc:"pewc_group_89335_51",label:"Glove Embroidery"}],glovePart:"",gloveType:["glove","mitt"],info:{label:null,description:null}},{label:"Customer Notes",glovePart:"lin",active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89568",elementRef:"text",attribute_wp:"pa_glove-personalization",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}}]}]}],variations:[]}],Aj=["mainStep"];function Nj(n,e){if(1&n&&(u.TgZ(0,"h6"),u._uU(1),u.qZA()),2&n){const t=u.oxw(2).$implicit;u.xp6(1),u.Oqu(t.title)}}function Oj(n,e){1&n&&(u.ynx(0),u.YNc(1,Nj,2,1,"ng-template",7),u.BQk())}function Mj(n,e){if(1&n){const t=u.EpF();u.ynx(0),u._UZ(1,"input",13),u.TgZ(2,"button",14),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(6);return u.KtG(c.addVariation(a))}),u._uU(3),u.qZA(),u.BQk()}if(2&n){const t=e.$implicit,i=e.index;u.xp6(1),u.hYB("id","",t,"-",i,""),u.xp6(2),u.Oqu(t.name)}}function Rj(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"dd",11)(2,"div",12),u.YNc(3,Mj,4,3,"ng-container",4),u.qZA()(),u.BQk()),2&n){const t=u.oxw(5);u.xp6(3),u.Q6J("ngForOf",t.setGloveSize())}}function Pj(n,e){if(1&n){const t=u.EpF();u.ynx(0),u._UZ(1,"input",13),u.TgZ(2,"button",14),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(6);return u.KtG(c.addVariation(a))}),u._uU(3),u.qZA(),u.BQk()}if(2&n){const t=e.$implicit,i=e.index;u.xp6(1),u.hYB("id","",t,"-",i,""),u.xp6(2),u.Oqu(t.name)}}function kj(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"dd",11)(2,"div",12),u.YNc(3,Pj,4,3,"ng-container",4),u.qZA()(),u.BQk()),2&n){const t=u.oxw(3).$implicit;u.xp6(3),u.Q6J("ngForOf",t.variations)}}function Fj(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"dt",9),u._uU(2),u.qZA(),u.YNc(3,Rj,4,1,"ng-container",3),u.YNc(4,kj,4,1,"ng-container",3),u._UZ(5,"div",10),u.BQk()),2&n){const t=u.oxw(2).$implicit;u.xp6(2),u.hij(" ",t.label," "),u.xp6(1),u.Q6J("ngIf","glove size"===t.label.toLowerCase()),u.xp6(1),u.Q6J("ngIf","glove size"!==t.title.toLowerCase())}}function Lj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngu-tile")(1,"section")(2,"div",22)(3,"div",23)(4,"h4",24),u._uU(5),u.qZA()(),u.TgZ(6,"div",23),u._UZ(7,"img",25),u.qZA(),u.TgZ(8,"div",26)(9,"button",27),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(6);return u.KtG(c.addVariation(a))}),u._uU(10,"Select"),u.qZA()()()()()}if(2&n){const t=e.$implicit;u.xp6(5),u.Oqu(null==t?null:t.name),u.xp6(2),u.Q6J("src",null==t?null:t.img,u.LSH)}}function Bj(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",15)(2,"div",16),u._UZ(3,"div",17),u.TgZ(4,"ngu-carousel",18),u._UZ(5,"button",19)(6,"button",20),u.YNc(7,Lj,11,2,"ngu-tile",21),u.qZA()()(),u.BQk()),2&n){const t=u.oxw(3).$implicit,i=u.oxw(2);u.xp6(3),u.Q6J("innerHtml",t.info.title+t.info.content,u.oJD),u.xp6(1),u.Q6J("inputs",i.carouselTile)("dataSource",t.variations)}}function Vj(n,e){if(1&n&&(u.ynx(0),u.YNc(1,Bj,8,3,"ng-container",3),u.BQk()),2&n){const t=u.oxw(2).$implicit;u.xp6(1),u.Q6J("ngIf","Glove Brand"===t.title)}}function Uj(n,e){if(1&n&&(u.TgZ(0,"dl",8),u.YNc(1,Fj,6,3,"ng-container",3),u.YNc(2,Vj,2,1,"ng-container",3),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",!t.includeOptions),u.xp6(1),u.Q6J("ngIf",t.includeOptions)}}function $j(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"ngb-panel",5),u.YNc(2,Oj,2,0,"ng-container",4),u.YNc(3,Uj,3,2,"ng-template",6),u.qZA(),u.BQk()),2&n){const t=e.$implicit,i=e.index,r=u.oxw(2);u.xp6(1),u.hYB("id","",t.id,"",i,""),u.Q6J("disabled",t.disabled),u.xp6(1),u.Q6J("ngForOf",r.steps)}}function Gj(n,e){if(1&n&&(u.ynx(0),u.YNc(1,$j,4,4,"ng-container",4),u.BQk()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.steps)}}let Hj=(()=>{class n{constructor(t,i,r,a){this.afs=t,this.api=i,this.router=r,this.data=a,this.panelId="main-1",this.domResponse={},this.carouselTile={grid:{xs:1,sm:2,md:3,lg:3,all:0},slide:2,speed:400,animation:"lazy",loop:!0,point:{visible:!0},load:2,touch:!0,easing:"ease"},this.gloveType="",this.data.getSteps().subscribe(c=>{this.steps=xj,this.steps.forEach(g=>{g.includeOptions&&this.api.gloveDesign.next(g.options)})}),this.gloveSize=Sj}ngOnInit(){this.api.setGloveBase({name:"infielder",gloveBase:"inf",gloveType:"glove"}),this.gloveType="infielder"}addVariation(t){const i=t.name.toLowerCase(),r=this.mainStep.activeIds[0];this.lastItemSelected=t,this.domResponse[r]=this.lastItemSelected,this.lastItemSelected="",this.api.applyFormValue(t),this.api.setGloveType(i),"main-4"!=this.panelId?this.mainStep.expand(this.panelId):this.router.navigate(["./glove-designer"],{skipLocationChange:!0})}setGloveSize(){return null!=this.gloveSize?this.gloveSize.filter(r=>r.glove.includes(this.gloveType)):[]}panelChange(t){const i=t;if(this.panelId=`main-${parseInt(i.split("-")[1])+1}`,this.domResponse[i]){const r=this.domResponse[i];document.querySelectorAll("button.btn").length>0&&document.querySelectorAll("button.btn").forEach(a=>{a.classList.remove("active"),a.innerText.toLowerCase()===r.name.toLowerCase()&&a.classList.add("active"),a.innerText===r&&a.classList.add("active")})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yE),u.Y36(D0),u.Y36(Us),u.Y36(EM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-main"]],viewQuery:function(t,i){if(1&t&&u.Gf(Aj,5),2&t){let r;u.iGM(r=u.CRH())&&(i.mainStep=r.first)}},features:[u._Bn([P])],decls:4,vars:3,consts:[[1,"container-fluid",2,"padding","unset"],["activeIds","main-0",3,"closeOthers","destroyOnHide","shown"],["mainStep",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"id","disabled"],["ngbPanelContent",""],["ngbPanelTitle",""],[1,"row","align-items-center"],[1,"col-sm-12","col-md-4","text-center"],[1,"col-12"],[1,"col-sm-12","col-md-8","mb-1","d-flex"],[1,"col","main-button-group__item"],["type","radio","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","flex-fill","m-2",3,"click"],[1,"container"],[1,"row"],[1,"col-12","px-5","brand-info",3,"innerHtml"],[3,"inputs","dataSource"],["type","button","NguCarouselPrev","",1,"leftRs"],["type","button","NguCarouselNext","",1,"rightRs"],[4,"nguCarouselDef"],[1,"d-flex","flex-column","py-4"],[1,"glove-brand-view__list","pb-2","my-2"],[2,"font-weight","600"],["mat-card-image","",1,"glove-brand-img-size",3,"src"],[1,"glove-brand-view__list","pt-2","my-2"],["type","button",1,"btn","btn-lg","w-100","btn-outline-success",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"ngb-accordion",1,2),u.NdJ("shown",function(a){return i.panelChange(a)}),u.YNc(3,Gj,2,1,"ng-container",3),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("closeOthers",!0)("destroyOnHide",!1),u.xp6(2),u.Q6J("ngIf",void 0!==i.steps))},dependencies:[wr,Gn,Qe,je,re,fe,jC,fx,ey,ty,vw],styles:["ngb-accordion[_ngcontent-%COMP%]{padding:0 6px}.brand-info[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:inherit}.brand-info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400}.main[_ngcontent-%COMP%]{display:flex}.main-button-group[_ngcontent-%COMP%]{display:flex;margin-bottom:2px}.main-button-group__item[_ngcontent-%COMP%]{display:flex;padding:1rem}label[_ngcontent-%COMP%]{width:100%;height:60px;display:flex;align-items:center;justify-content:center;font-size:1rem;margin-right:5px}.wrap[_ngcontent-%COMP%]{flex-flow:wrap}.glove-brand-img-size[_ngcontent-%COMP%]{width:150px;height:100px}.glove-brand-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.glove-brand-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.glove-brand-margin[_ngcontent-%COMP%]{margin:0 30px}section[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 991px){.main-button-group__item[_ngcontent-%COMP%]{padding:.2rem}}@media (max-width: 580px){.main-button-group__item[_ngcontent-%COMP%]{padding:.4rem}label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;height:50px;padding:0}}@media (max-width: 460px){.card[_ngcontent-%COMP%]{padding:4px 4x}.main-button-group__item[_ngcontent-%COMP%]{padding:.3rem}button[_ngcontent-%COMP%]{font-size:.8rem;padding-right:0;padding-left:0}}"]}),n})();function jj(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",15)(2,"video",16),u._UZ(3,"source",17),u.qZA()(),u.BQk())}function Wj(n,e){if(1&n&&(u.TgZ(0,"div",15)(1,"video",18),u._UZ(2,"source",19),u.qZA()()),2&n){const t=u.oxw();u.xp6(2),u.Q6J("src",t.src,u.LSH)}}const zj=[{path:"",component:(()=>{class n{constructor(t){this.router=t,this.src="https://cdn.jsdelivr.net/gh/phantomodm/nystixCDN@builders/depository/assets/images/glove-tool-intro.mp4"}ngOnInit(){}start(){console.log("start"),this.router.navigate(["wizard"],{skipLocationChange:!0})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Us))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-splash-screen"]],decls:16,vars:2,consts:[[1,"mt-2",2,"max-width","1149px"],[1,"row","d-flex","flex-column","justify-content-center","align-items-center"],[4,"ngIf","ngIfElse"],["staticScreen",""],[2,"text-align","center"],["viewBox","-20 0 100 100",1,"start-button",3,"click"],["id","layer1","transform","translate(-48.380947,-83.910709)"],["id","g864"],["r","33.072918","cy","116.98363","cx","81.453865","id","path835",2,"opacity","0.999","fill","#f4f416","fill-opacity","1","stroke-width","0.397726"],["aria-label","START","id","text839",2,"font-style","italic","font-weight","bold","font-size","12.6109px","line-height","1.25","font-family","sans-serif","-inkscape-font-specification","sans-serif Bold Italic","stroke-width","0.315275"],["d","m 61.709237,121.73428 q -1.176114,0 -2.099764,-0.2032 -0.917492,-0.20321 -1.588678,-0.50493 l 0.474141,-2.19829 h 0.258622 q 0.634239,0.57882 1.490155,0.89902 0.855915,0.31404 1.841142,0.31404 1.009857,0 1.483997,-0.27093 0.474141,-0.2771 0.474141,-0.78819 0,-0.19088 -0.08005,-0.32635 -0.07389,-0.14163 -0.295568,-0.2771 -0.221676,-0.13547 -0.609609,-0.26478 -0.381775,-0.13547 -0.991384,-0.30788 -0.671186,-0.18473 -1.206903,-0.40025 -0.529559,-0.21552 -0.905177,-0.51108 -0.375617,-0.30173 -0.572663,-0.69582 -0.190887,-0.39409 -0.190887,-0.94212 0,-1.37932 1.21306,-2.19829 1.219218,-0.82513 3.331297,-0.82513 1.016015,0 1.915034,0.16626 0.905177,0.16626 1.533259,0.44951 l -0.449509,2.11208 h -0.252465 q -0.480298,-0.44335 -1.268479,-0.73892 -0.782023,-0.30173 -1.711831,-0.30173 -0.911335,0 -1.410105,0.26478 -0.498771,0.26478 -0.498771,0.73276 0,0.21552 0.07389,0.35715 0.07389,0.14163 0.301725,0.27709 0.197046,0.12316 0.621924,0.27094 0.424879,0.14163 0.997542,0.29557 1.539417,0.41256 2.198287,0.96675 0.65887,0.55419 0.65887,1.50247 0,0.79434 -0.357144,1.39779 -0.357145,0.60345 -0.985227,0.97907 -0.65887,0.40025 -1.496313,0.58498 -0.837442,0.18473 -1.896561,0.18473 z","id","path846",2,"stroke-width","0.315275"],["d","m 76.204383,114.17267 h -2.857157 l -1.705673,7.39535 h -2.376859 l 1.705673,-7.39535 H 68.11321 l 0.406406,-1.77341 h 8.091173 z","id","path848",2,"stroke-width","0.315275"],["d","m 84.47413,121.56802 h -2.383017 l -0.209361,-1.87193 h -3.374401 l -1.071434,1.87193 h -2.469224 l 5.498796,-9.16876 h 2.734004 z m -2.77095,-3.51602 -0.36946,-3.29435 -1.890404,3.29435 z","id","path850",2,"stroke-width","0.315275"],["d","m 94.91753,114.70838 q 0,1.10223 -0.671185,1.85346 -0.671186,0.75124 -1.82267,1.13301 l 2.118238,3.87317 h -2.641639 l -1.724147,-3.36208 h -1.330056 l -0.775865,3.36208 h -2.364544 l 2.118237,-9.16876 h 3.577604 q 1.681043,0 2.598535,0.57266 0.917492,0.56651 0.917492,1.73646 z m -2.549274,0.39409 q 0,-0.55419 -0.357144,-0.78202 -0.350987,-0.23399 -1.040646,-0.23399 H 89.80051 l -0.572663,2.46922 h 1.163799 q 0.942123,0 1.459366,-0.38177 0.517244,-0.38793 0.517244,-1.07144 z","id","path852",2,"stroke-width","0.315275"],["d","m 104.48038,114.17267 h -2.85715 l -1.705677,7.39535 h -2.376859 l 1.705673,-7.39535 H 96.38921 l 0.406406,-1.77341 h 8.091174 z","id","path854",2,"stroke-width","0.315275"],[1,"p-4"],["id","glove-video","controlslist","nodownload","autoplay","",2,"overflow","hidden","width","100%"],["src","https://cdn.jsdelivr.net/gh/phantomodm/nystixCDN@builders/depository/assets/images/glove-tool-intro.mp4","type","video/mp4"],["id","glove-video","preload","auto","poster","https://nystix.com/wp-content/uploads/2022/10/splash-mobile_766.jpg","controlslist","nodownload","autoplay","",2,"overflow","hidden","width","100%"],["type","video/mp4",3,"src"]],template:function(t,i){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,jj,4,0,"ng-container",2),u.YNc(3,Wj,3,1,"ng-template",null,3,u.W1O),u.TgZ(5,"div",4),u.O4$(),u.TgZ(6,"svg",5),u.NdJ("click",function(){return i.start()}),u.TgZ(7,"g",6)(8,"g",7),u._UZ(9,"circle",8),u.TgZ(10,"g",9),u._UZ(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13)(15,"path",14),u.qZA()()()()()()()),2&t){const r=u.MAs(4);u.xp6(2),u.Q6J("ngIf",i.src)("ngIfElse",r)}},dependencies:[Gn],styles:[".splash-container[_ngcontent-%COMP%]{height:400px}#splash-screen[_ngcontent-%COMP%]{object-fit:cover;position:absolute;inset:0;z-index:-1}.glove-video[_ngcontent-%COMP%]{width:100%;position:fixed;object-fit:cover;z-index:-1;inset:0;overflow:hidden;transform:translateZ(0);background-size:cover;background-position:50%}.start-button[_ngcontent-%COMP%]{width:200px;height:200px;margin-top:-200px;animation-name:scale-up-center;animation-duration:1s;animation-timing-function:linear;animation-delay:3s;animation-iteration-count:1;animation-direction:normal;animation-fill-mode:forwards;opacity:0}@keyframes scale-up-center{0%{transform:scale(.2)}to{opacity:1;transform:scale(1)}}.mobile-splash[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 596px) and (max-width: 768px){#splash-screen[_ngcontent-%COMP%]{max-width:100%;height:auto;background-image:url(https://nystix.com/wp-content/uploads/2022/10/splash-mobile_766.jpg);background-repeat:no-repeat;background-size:contain}.start-button[_ngcontent-%COMP%]{animation-name:scale-up-center;animation-duration:.1s;animation-timing-function:linear;animation-delay:0s;animation-iteration-count:1;animation-direction:normal;animation-fill-mode:forwards;opacity:0}@keyframes scale-up-center{0%{transform:scale(.2)}to{opacity:1;transform:scale(1)}}}@media (max-width: 595px){#splash-screen[_ngcontent-%COMP%]{max-width:100%;height:auto;background-image:url(https://nystix.com/wp-content/uploads/2022/10/splash-mobile_766.jpg);background-repeat:no-repeat;background-size:contain}.start-button[_ngcontent-%COMP%]{width:150px;height:150px;animation-delay:0s}}@media (max-width: 499px){.start-button[_ngcontent-%COMP%]{width:100px;height:100px;animation-delay:0s}}"]}),n})()},{path:"wizard",component:Hj},{path:"glove-designer",component:Ej}];let qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[br.forRoot(zj),br]}),n})();const Zj=["cgbloader"];function Yj(n,e){1&n&&(u.ynx(0),u._UZ(1,"router-outlet"),u.BQk())}function Kj(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",2),u._UZ(2,"div",3),u.qZA(),u.BQk())}let Qj=(()=>{class n{constructor(t,i){this.api=t,this.router=i,this.title="japaneseGloveUi",this.loading=!0,this.loaderStatus=!1,this.router.navigate([""],{skipLocationChange:!0}),this.loading=!1}ngAfterViewInit(){this.loadSnap(),console.log("Starting Tool")}ngAfterContentChecked(){if(document.getElementsByClassName("cgb-loader").length>0){let t=document.getElementsByClassName("cgb-loader")[0];null!=t&&null!=t.parentNode&&(console.log("Removing loader"),t.parentNode.removeChild(t))}}ngOnInit(){this.api.product.next({name:this.name,price:this.price,sale_price:this.sale}),this.router.events.subscribe(t=>{switch(!0){case t instanceof t_:this.loading=!0;break;case t instanceof Qc:case t instanceof fy:case t instanceof Rw:this.loading=!1}})}loadSnap(){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js",t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}removeLoader(){!this.loaderStatus&&!this.loaderStatus&&document.getElementsByClassName("cgb-loader").length>0&&(document.getElementsByClassName("cgb-loader")[0].style.display="none",this.loaderStatus=!0)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(D0),u.Y36(Us))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&u.Gf(Zj,5),2&t){let r;u.iGM(r=u.CRH())&&(i.loader=r.first)}},inputs:{name:"name",price:"price",sale:["sale-price","sale"]},decls:3,vars:2,consts:[[1,"container-fluid",2,"padding","unset"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-grow","text-dark",2,"width","3rem","height","3rem"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,Yj,2,0,"ng-container",1),u.YNc(2,Kj,3,0,"ng-container",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngIf",!i.loading),u.xp6(1),u.Q6J("ngIf",i.loading))},dependencies:[Gn,Vw]}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mr,yw]}),n})();const TB="firebasestorage.googleapis.com",EB="storageBucket";class Cs extends Mn.ZR{constructor(e,t){super(SM(e),`Firebase Storage: ${t} (${SM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cs.prototype)}_codeEquals(e){return SM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function SM(n){return"storage/"+n}function xM(){return new Cs("unknown","An unknown error occurred, please check the error payload for server response.")}function SB(){return new Cs("canceled","User canceled the upload/download.")}function xB(){return new Cs("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function C0(n){return new Cs("invalid-argument",n)}function AB(){return new Cs("app-deleted","The Firebase app was deleted.")}function NB(n){return new Cs("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hD(n,e){return new Cs("invalid-format","String does not match format '"+n+"': "+e)}function fD(n){throw new Cs("internal-error","Internal error: "+n)}class qa{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=qa.makeFromUrl(e,t)}catch{return new qa(e,"")}if(""===i.path)return i;throw function u8(n){return new Cs("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+r+"(/(.*))?$","i");function C(rt){rt.path_=decodeURIComponent(rt.path)}const R=t.replace(/[.]/g,"\\."),vt=[{regex:g,indices:{bucket:1,path:3},postModify:function a(rt){"/"===rt.path.charAt(rt.path.length-1)&&(rt.path_=rt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${t===TB?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let rt=0;rt<vt.length;rt++){const gt=vt[rt],Dt=gt.regex.exec(e);if(Dt){let Pn=Dt[gt.indices.path];Pn||(Pn=""),i=new qa(Dt[gt.indices.bucket],Pn),gt.postModify(i);break}}if(null==i)throw function l8(n){return new Cs("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class f8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bE(n){return"string"==typeof n||n instanceof String}function OB(n){return AM()&&n instanceof Blob}function AM(){return typeof Blob<"u"}function NM(n,e,t,i){if(i<e)throw C0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw C0(`Invalid value for '${n}'. Expected ${t} or less.`)}function ap(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function MB(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Lg=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Lg||(Lg={})),Lg))();class y8{constructor(e,t,i,r,a,c,g,y,C,A,R){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=y,this.timeout_=C,this.progressCallback_=A,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,Z)=>{this.resolve_=H,this.reject_=Z,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,c=this.reject_,g=r.connection;if(r.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());!function m8(n){return void 0!==n}(y)?a():a(y)}catch(y){c(y)}else if(null!==g){const y=xM();y.serverResponse=g.getErrorText(),c(this.errorCallback_?this.errorCallback_(g,y):y)}else c(r.canceled?this.appDelete_?AB():SB():function a8(){return new Cs("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new wE(!1,null,!0)):this.backoffId_=function p8(n,e,t){let i=1,r=null,a=null,c=!1,g=0;function y(){return 2===g}let C=!1;function A(...De){C||(C=!0,e.apply(null,De))}function R(De){r=setTimeout(()=>{r=null,n(Z,y())},De)}function H(){a&&clearTimeout(a)}function Z(De,...ot){if(C)return void H();if(De)return H(),void A.call(null,De,...ot);if(y()||c)return H(),void A.call(null,De,...ot);let vt;i<64&&(i*=2),1===g?(g=2,vt=0):vt=1e3*(i+Math.random()),R(vt)}let ue=!1;function _e(De){ue||(ue=!0,H(),!C&&(null!==r?(De||(g=2),clearTimeout(r),R(0)):De||(g=1)))}return R(0),a=setTimeout(()=>{c=!0,_e(!0)},t),_e}((i,r)=>{if(r)return void i(!1,new wE(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const c=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const g=a.getErrorCode()===Lg.NO_ERROR,y=a.getStatus();if(!g||this.isRetryStatusCode_(y)){const A=a.getErrorCode()===Lg.ABORT;return void i(!1,new wE(!1,null,A))}const C=-1!==this.successCodes_.indexOf(y);i(!0,new wE(C,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function g8(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||a}}class wE{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function E8(...n){const e=function T8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(AM())return new Blob(n);throw new Cs("unsupported-environment","This browser doesn't seem to support creating Blobs")}const lc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class OM{constructor(e,t){this.data=e,this.contentType=t||null}}function MM(n,e){switch(n){case lc.RAW:return new OM(RB(e));case lc.BASE64:case lc.BASE64URL:return new OM(PB(n,e));case lc.DATA_URL:return new OM(function N8(n){const e=new kB(n);return e.base64?PB(lc.BASE64,e.rest):function A8(n){let e;try{e=decodeURIComponent(n)}catch{throw hD(lc.DATA_URL,"Malformed data URL.")}return RB(e)}(e.rest)}(e),function O8(n){return new kB(n).contentType}(e))}throw xM()}function RB(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function PB(n,e){switch(n){case lc.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw hD(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case lc.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw hD(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function x8(n){return atob(n)}(e)}catch{throw hD(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class kB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw hD(lc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function M8(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Qh{constructor(e,t){let i=0,r="";OB(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(OB(this.data_)){const r=function S8(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Qh(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Qh(i,!0)}}static getBlob(...e){if(AM()){const t=e.map(i=>i instanceof Qh?i.data_:i);return new Qh(E8.apply(null,t))}{const t=e.map(c=>bE(c)?MM(lc.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(c=>{for(let g=0;g<c.length;g++)r[a++]=c[g]}),new Qh(r,!0)}}uploadData(){return this.data_}}function RM(n){let e;try{e=JSON.parse(n)}catch{return null}return function v8(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function FB(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function k8(n,e){return e}class El{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||k8}}let DE=null;function pD(){if(DE)return DE;const n=[];n.push(new El("bucket")),n.push(new El("generation")),n.push(new El("metageneration")),n.push(new El("name","fullPath",!0));const t=new El("name");t.xform=function e(a,c){return function F8(n){return!bE(n)||n.length<2?n:FB(n)}(c)},n.push(t);const r=new El("size");return r.xform=function i(a,c){return void 0!==c?Number(c):c},n.push(r),n.push(new El("timeCreated")),n.push(new El("updated")),n.push(new El("md5Hash",null,!0)),n.push(new El("cacheControl",null,!0)),n.push(new El("contentDisposition",null,!0)),n.push(new El("contentEncoding",null,!0)),n.push(new El("contentLanguage",null,!0)),n.push(new El("contentType",null,!0)),n.push(new El("metadata","customMetadata",!0)),DE=n,DE}function LB(n,e,t){const i=RM(e);return null===i?null:function B8(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const c=t[a];i[c.local]=c.xform(i,e[c.server])}return function L8(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new qa(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function PM(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const BB="prefixes";class Jh{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xh(n){if(!n)throw xM()}function CE(n,e){return function t(i,r){const a=LB(n,r,e);return Xh(null!==a),a}}function I0(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function s8(){return new Cs("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function r8(){return new Cs("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function i8(n){return new Cs("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function o8(n){return new Cs("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function gD(n){const e=I0(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function n8(n){return new Cs("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function UB(n,e,t){const r=ap(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,g=new Jh(r,"GET",CE(n,t),c);return g.errorHandler=gD(e),g}function j8(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const g=ap(e.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,A=new Jh(g,"GET",function G8(n,e){return function t(i,r){const a=function $8(n,e,t){const i=RM(t);return null===i?null:function U8(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[BB])for(const r of t[BB]){const a=r.replace(/\/$/,""),c=n._makeStorageReference(new qa(e,a));i.prefixes.push(c)}if(t.items)for(const r of t.items){const a=n._makeStorageReference(new qa(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return Xh(null!==a),a}}(n,e.bucket),C);return A.urlParams=a,A.errorHandler=I0(e),A}function GB(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function Z8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class IE{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function kM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xh(!1)}return Xh(!!t&&-1!==(e||["active"]).indexOf(t)),t}const J8={STATE_CHANGED:"state_changed"},Sl={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function FM(n){switch(n){case"running":case"pausing":case"canceling":return Sl.RUNNING;case"paused":return Sl.PAUSED;case"success":return Sl.SUCCESS;case"canceled":return Sl.CANCELED;default:return Sl.ERROR}}class X8{constructor(e,t,i){if(function _8(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function T0(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class t6 extends class e6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw fD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fD("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fD("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fD("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fD("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function jd(){return new t6}class zB{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=pD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function Y8(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),c=GB(e,i,r),g={name:c.fullPath},y=ap(a,n.host,n._protocol),A={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},R=PM(c,t),ue=new Jh(y,"POST",function Z(_e){let De;kM(_e);try{De=_e.getResponseHeader("X-Goog-Upload-URL")}catch{Xh(!1)}return Xh(bE(De)),De},n.maxUploadRetryTime);return ue.urlParams=g,ue.headers=A,ue.body=R,ue.errorHandler=I0(e),ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,jd,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function K8(n,e,t,i){const y=new Jh(t,"POST",function a(C){const A=kM(C,["active","final"]);let R=null;try{R=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xh(!1)}R||Xh(!1);const H=Number(R);return Xh(!isNaN(H)),new IE(H,i.size(),"final"===A)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=I0(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,jd,t,i);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new IE(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let c;try{c=function Q8(n,e,t,i,r,a,c,g){const y=new IE(0,0);if(c?(y.current=c.current,y.total=c.total):(y.current=0,y.total=i.size()),i.size()!==y.total)throw function d8(){return new Cs("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const C=y.total-y.current;let A=C;r>0&&(A=Math.min(A,r));const R=y.current,ue={"X-Goog-Upload-Command":A===C?"upload, finalize":"upload","X-Goog-Upload-Offset":`${y.current}`},_e=i.slice(R,R+A);if(null===_e)throw xB();const vt=new Jh(t,"POST",function De(rt,gt){const Dt=kM(rt,["active","final"]),rn=y.current+A,Pn=i.size();let $r;return $r="final"===Dt?CE(e,a)(rt,gt):null,new IE(rn,Pn,"final"===Dt,$r)},e.maxUploadRetryTime);return vt.headers=ue,vt.body=_e.uploadData(),vt.progressCallback=g||null,vt.errorHandler=I0(n),vt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const g=this._ref.storage._makeRequest(c,jd,r,a);this._request=g,g.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=UB(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,jd,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function HB(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},y=function g(){let vt="";for(let rt=0;rt<2;rt++)vt+=Math.random().toString().slice(2);return vt}();c["Content-Type"]="multipart/related; boundary="+y;const C=GB(e,i,r),A=PM(C,t),Z=Qh.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+A+"\r\n--"+y+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",i,"\r\n--"+y+"--");if(null===Z)throw xB();const ue={name:C.fullPath},_e=ap(a,n.host,n._protocol),ot=n.maxUploadRetryTime,ut=new Jh(_e,"POST",CE(n,t),ot);return ut.urlParams=ue,ut.headers=c,ut.body=Z.uploadData(),ut.errorHandler=I0(e),ut}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,jd,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=SB(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=FM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new X8(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(FM(this._state)){case Sl.SUCCESS:T0(this._resolve.bind(null,this.snapshot))();break;case Sl.CANCELED:case Sl.ERROR:T0(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(FM(this._state)){case Sl.RUNNING:case Sl.PAUSED:e.next&&T0(e.next.bind(e,this.snapshot))();break;case Sl.SUCCESS:e.complete&&T0(e.complete.bind(e))();break;default:e.error&&T0(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class L_{constructor(e,t){this._service=e,this._location=t instanceof qa?t:qa.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new L_(e,t)}get root(){const e=new qa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FB(this._location.path)}get storage(){return this._service}get parent(){const e=function R8(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new qa(this._location.bucket,e);return new L_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw NB(e)}}function ZB(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,Be.Z)(function*(n,e,t){const r=yield YB(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield ZB(n,e,r.nextPageToken))}),LM.apply(this,arguments)}function YB(n,e){null!=e&&"number"==typeof e.maxResults&&NM("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=j8(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,jd)}function f6(n){n._throwIfRoot("getDownloadURL");const e=function W8(n,e,t){const r=ap(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,g=new Jh(r,"GET",function H8(n,e){return function t(i,r){const a=LB(n,r,e);return Xh(null!==a),function V8(n,e,t,i){const r=RM(e);if(null===r||!bE(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const c=encodeURIComponent;return a.split(",").map(C=>{const R=n.fullPath;return ap("/b/"+c(n.bucket)+"/o/"+c(R),t,i)+MB({alt:"media",token:C})})[0]}(a,r,n.host,n._protocol)}}(n,t),c);return g.errorHandler=gD(e),g}(n.storage,n._location,pD());return n.storage.makeRequestWithTokens(e,jd).then(t=>{if(null===t)throw function h8(){return new Cs("no-download-url","The given file does not have any download URLs.")}();return t})}function KB(n,e){const t=function P8(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new qa(n._location.bucket,t);return new L_(n.storage,i)}function QB(n,e){if(n instanceof BM){const t=n;if(null==t._bucket)throw function c8(){return new Cs("no-default-bucket","No default bucket found. Did you set the '"+EB+"' property when initializing the app?")}();const i=new L_(t,t._bucket);return null!=e?QB(i,e):i}return void 0!==e?KB(n,e):n}function _6(n,e){if(e&&function g6(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof BM)return function m6(n,e){return new L_(n,e)}(n,e);throw C0("To use ref(service, url), the first argument must be a Storage instance.")}return QB(n,e)}function JB(n,e){const t=e?.[EB];return null==t?null:qa.makeFromBucketSpec(t,n)}class BM{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=TB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?qa.makeFromBucketSpec(r,this._host):JB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?qa.makeFromBucketSpec(this._url,e):JB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new L_(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new f8(AB());{const a=function I8(n,e,t,i,r,a){const c=MB(n.urlParams),g=n.url+c,y=Object.assign({},n.headers);return function D8(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function b8(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function w8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,a),function C8(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,i),new y8(g,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,Be.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const XB="@firebase/storage";function nV(n,e){return _6(n=(0,Mn.m9)(n),e)}function x6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new BM(t,i,r,e,$d.SDK_VERSION)}!function A6(){(0,$d._registerComponent)(new Hy.wA("storage",x6,"PUBLIC").setMultipleInstances(!0)),(0,$d.registerVersion)(XB,"0.9.9",""),(0,$d.registerVersion)(XB,"0.9.9","esm2017")}();class TE{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class iV{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new TE(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?c=>t(new TE(c,this,this._ref)):{next:t.next?c=>t.next(new TE(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class rV{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new lp(e,this._service))}get items(){return this._delegate.items.map(e=>new lp(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class lp{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function E6(n,e){return KB(n,e)}(this._delegate,e);return new lp(t,this.storage)}get root(){return new lp(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new lp(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new iV(function y6(n,e,t){return function l6(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new zB(n,new Qh(e),t)}(n=(0,Mn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=lc.RAW,i){this._throwIfRoot("putString");const r=MM(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new iV(new zB(this._delegate,new Qh(r.data,!0),a),this)}listAll(){return function C6(n){return function c6(n){const e={prefixes:[],items:[]};return ZB(n,e).then(()=>e)}(n=(0,Mn.m9)(n))}(this._delegate).then(e=>new rV(e,this.storage))}list(e){return function D6(n,e){return YB(n=(0,Mn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new rV(t,this.storage))}getMetadata(){return function b6(n){return function d6(n){n._throwIfRoot("getMetadata");const e=UB(n.storage,n._location,pD());return n.storage.makeRequestWithTokens(e,jd)}(n=(0,Mn.m9)(n))}(this._delegate)}updateMetadata(e){return function w6(n,e){return function h6(n,e){n._throwIfRoot("updateMetadata");const t=function z8(n,e,t,i){const a=ap(e.fullServerUrl(),n.host,n._protocol),g=PM(t,i),C=n.maxOperationRetryTime,A=new Jh(a,"PATCH",CE(n,i),C);return A.headers={"Content-Type":"application/json; charset=utf-8"},A.body=g,A.errorHandler=gD(e),A}(n.storage,n._location,e,pD());return n.storage.makeRequestWithTokens(t,jd)}(n=(0,Mn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function I6(n){return f6(n=(0,Mn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function T6(n){return function p6(n){n._throwIfRoot("deleteObject");const e=function q8(n,e){const i=ap(e.fullServerUrl(),n.host,n._protocol),g=new Jh(i,"DELETE",function c(y,C){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=gD(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,jd)}(n=(0,Mn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw NB(e)}}class sV{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(oV(e))throw C0("ref() expected a child path but got a URL, use refFromURL instead.");return new lp(nV(this._delegate,e),this)}refFromURL(e){if(!oV(e))throw C0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qa.makeFromUrl(e,this._delegate.host)}catch{throw C0("refFromUrl() expected a valid full URL but got an invalid one.")}return new lp(nV(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function S6(n,e,t,i={}){!function v6(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Mn.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function oV(n){return/^[A-Za-z]+:\/\//.test(n)}function R6(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new sV(t,i)}function aV(n){const e=function k6(n){return new Ai.y(e=>{const t=c=>e.next(c);t(n.snapshot);const a=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){a()}}).pipe(function Xj(n,e=We.z){return(0,ar.e)((t,i)=>{let r=null,a=null,c=null;const g=()=>{if(r){r.unsubscribe(),r=null;const C=a;a=null,i.next(C)}};function y(){const C=c+n,A=e.now();if(A<C)return r=this.schedule(void 0,C-A),void i.add(r);g()}t.subscribe((0,ri.x)(i,C=>{a=C,c=e.now(),r||(r=e.schedule(y,n),i.add(r))},()=>{g(),i.complete()},void 0,()=>{a=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,It.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function EE(n){return{getDownloadURL:()=>bt(void 0).pipe(Kr.fc,qn(()=>n.getDownloadURL()),Kr.iC),getMetadata:()=>bt(void 0).pipe(Kr.fc,qn(()=>n.getMetadata()),Kr.iC),delete:()=>(0,Wn.D)(n.delete()),child:e=>EE(n.child(e)),updateMetadata:e=>(0,Wn.D)(n.updateMetadata(e)),put:(e,t)=>aV(n.put(e,t)),putString:(e,t,i)=>aV(n.putString(e,t,i)),list:e=>(0,Wn.D)(n.list(e)),listAll:()=>(0,Wn.D)(n.listAll())}}!function P6(n){const e={TaskState:Sl,TaskEvent:J8,StringFormat:lc,Storage:sV,Reference:lp};n.INTERNAL.registerComponent(new Hy.wA("storage-compat",R6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(sP.Z);const F6=new u.OlP("angularfire2.storageBucket"),L6=new u.OlP("angularfire2.storage.maxUploadRetryTime"),B6=new u.OlP("angularfire2.storage.maxOperationRetryTime"),V6=new u.OlP("angularfire2.storage.use-emulator");let U6=(()=>{class n{constructor(t,i,r,a,c,g,y,C,A,R){const H=(0,bl.on)(t,c,i);this.storage=(0,bl.cc)(`${H.name}.storage.${r}`,"AngularFireStorage",H.name,()=>{const Z=c.runOutsideAngular(()=>H.storage(r||void 0)),ue=A;return ue&&Z.useEmulator(...ue),y&&Z.setMaxUploadRetryTime(y),C&&Z.setMaxOperationRetryTime(C),Z},[y,C])}ref(t){return EE(this.storage.ref(t))}refFromURL(t){return EE(this.storage.refFromURL(t))}upload(t,i,r){return EE(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bl.Dh),u.LFG(bl.xv,8),u.LFG(F6,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Kr.HU),u.LFG(L6,8),u.LFG(B6,8),u.LFG(V6,8),u.LFG(_E,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),G6=(()=>{class n{constructor(){DM.Z.registerVersion("angularfire",Kr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[U6],imports:[$6]}),n})();const lV_firebaseConfig={apiKey:"AIzaSyCEmZV_arlakRS_4aEmK7InwXRXAMfIybk",authDomain:"nys-custom-ui.firebaseapp.com",projectId:"nys-custom-ui",storageBucket:"nys-custom-ui.appspot.com",messagingSenderId:"946748632034",appId:"1:946748632034:web:aac02bf3a97c0b971ce7bb",measurementId:"G-ZY74EENWC4"};let uV=(()=>{class n extends wn{constructor(){super(...arguments),this.overrides={swipe:{velocity:.4,direction:dd.DIRECTION_HORIZONTAL}}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H6=(()=>{class n{constructor(t){this.injector=t;const i=function Bu(n,e){const t=function Fu(n,e){return e.get(u._Vd).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new hp(n,e.injector),r=function _s(n){const e={};return n.forEach(({propName:t,templateName:i})=>{e[function fd(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=t}),e}(t);class a extends af{constructor(g){super(),this.injector=g}get ngElementStrategy(){if(!this._ngElementStrategy){const g=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:y})=>{if(!this.hasOwnProperty(y))return;const C=this[y];delete this[y],g.setInputValue(y,C)})}return this._ngElementStrategy}attributeChangedCallback(g,y,C,A){this.ngElementStrategy.setInputValue(r[g],C)}connectedCallback(){let g=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),g=!0),this.ngElementStrategy.connect(this),g||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(g=>{const y=new CustomEvent(g.name,{detail:g.value});this.dispatchEvent(y)})}}return a.observedAttributes=Object.keys(r),t.forEach(({propName:c})=>{Object.defineProperty(a.prototype,c,{get(){return this.ngElementStrategy.getInputValue(c)},set(g){this.ngElementStrategy.setInputValue(c,g)},configurable:!0,enumerable:!0})}),a}(Qj,{injector:this.injector});customElements.define("infielder-builder",i)}ngDoBootstrap(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:uV,useClass:uV}],imports:[vc,qj,sx,Vg,O5,V5,G6,bl.hO.initializeApp(lV_firebaseConfig),yw,Jj]}),n})();(0,u.G48)(),ul().bootstrapModule(H6).catch(n=>console.error(n))},5867:(At,Ge,j)=>{"use strict";j.d(Ge,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=j(9681);(0,u.registerVersion)("firebase","9.10.0","app")},127:(At,Ge,j)=>{"use strict";j.d(Ge,{Z:()=>u.Z});var u=j(3942);u.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(At,Ge,j)=>{"use strict";j.r(Ge);var u=j(5861),k=j(3942),W=j(2090),be=j(9681),ge=j(655),Ce=j(1877),Ie=j(4859);const Le=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new Ce.Yd("@firebase/auth");function St(w,...m){at.logLevel<=Ce.in.ERROR&&at.error(`Auth (${be.SDK_VERSION}): ${w}`,...m)}function He(w,...m){throw ft(w,...m)}function ke(w,...m){return ft(w,...m)}function Fe(w,m,v){const I=Object.assign(Object.assign({},ht()),{[m]:v});return new W.LL("auth","Firebase",I).create(m,{appName:w.name})}function st(w,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&He(w,"argument-error"),Fe(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ft(w,...m){if("string"!=typeof w){const v=m[0],I=[...m.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(v,...I)}return Oe.create(w,...m)}function Q(w,m,...v){if(!w)throw ft(m,...v)}function Re(w){const m="INTERNAL ASSERTION FAILED: "+w;throw St(m),new Error(m)}function ae(w,m){w||Re(m)}const pe=new Map;function ye(w){ae(w instanceof Function,"Expected a class definition");let m=pe.get(w);return m?(ae(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,pe.set(w,m),m)}function Je(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Mt(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Yn{constructor(m,v){this.shortDelay=m,this.longDelay=v,ae(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function di(w,m){ae(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Vn{static initialize(m,v,I){this.fetchImpl=m,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pr=new Yn(3e4,6e4);function dn(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function Qt(w,m,v,I){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(w,m,v,I,M={}){return En(w,M,(0,u.Z)(function*(){let V={},le={};I&&("GET"===m?le=I:V={body:JSON.stringify(I)});const Te=(0,W.xO)(Object.assign({key:w.config.apiKey},le)).slice(1),Xe=yield w._getAdditionalHeaders();return Xe["Content-Type"]="application/json",w.languageCode&&(Xe["X-Firebase-Locale"]=w.languageCode),Vn.fetch()(hi(w,w.config.apiHost,v,Te),Object.assign({method:m,headers:Xe,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function En(w,m,v){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(w,m,v){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},pn),m);try{const M=new Oi(w),V=yield Promise.race([v(),M.promise]);M.clearNetworkTimeout();const le=yield V.json();if("needConfirmation"in le)throw Ar(w,"account-exists-with-different-credential",le);if(V.ok&&!("errorMessage"in le))return le;{const Te=V.ok?le.errorMessage:le.error.message,[Xe,Nt]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw Ar(w,"credential-already-in-use",le);if("EMAIL_EXISTS"===Xe)throw Ar(w,"email-already-in-use",le);if("USER_DISABLED"===Xe)throw Ar(w,"user-disabled",le);const Kt=I[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw Fe(w,Kt,Nt);He(w,Kt)}}catch(M){if(M instanceof W.ZR)throw M;He(w,"network-request-failed")}})).apply(this,arguments)}function Wi(w,m,v,I){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(w,m,v,I,M={}){const V=yield Qt(w,m,v,I,M);return"mfaPendingCredential"in V&&He(w,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function hi(w,m,v,I){const M=`${m}${v}?${I}`;return w.config.emulator?di(w.config,M):`${w.config.apiScheme}://${M}`}class Oi{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(ke(this.auth,"network-request-failed")),pr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ar(w,m,v){const I={appName:w.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const M=ke(w,m,I);return M.customData._tokenResponse=v,M}function yt(){return(yt=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Gr(w,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Cn(w,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Nr(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function fi(){return(fi=(0,u.Z)(function*(w,m=!1){const v=(0,W.m9)(w),I=yield v.getIdToken(m),M=Ot(I);Q(M&&M.exp&&M.auth_time&&M.iat,v.auth,"internal-error");const V="object"==typeof M.firebase?M.firebase:void 0,le=V?.sign_in_provider;return{claims:M,token:I,authTime:Nr(Ft(M.auth_time)),issuedAtTime:Nr(Ft(M.iat)),expirationTime:Nr(Ft(M.exp)),signInProvider:le||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function Ft(w){return 1e3*Number(w)}function Ot(w){var m;const[v,I,M]=w.split(".");if(void 0===v||void 0===I||void 0===M)return St("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,W.tV)(I);return V?JSON.parse(V):(St("Failed to decode base64 JWT payload"),null)}catch(V){return St("Caught error parsing JWT payload as JSON",null===(m=V)||void 0===m?void 0:m.toString()),null}}function Li(w,m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(w,m,v=!1){if(v)return m;try{return yield m}catch(I){throw I instanceof W.ZR&&zi(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}function zi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class jt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield v.iteration()}),I)}iteration(){var m=this;return(0,u.Z)(function*(){var v;try{yield m.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(v=I)||void 0===v?void 0:v.code)&&m.schedule(!0))}m.schedule()})()}}class Is{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nr(this.lastLoginAt),this.creationTime=Nr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(w){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(w){var m;const v=w.auth,I=yield w.getIdToken(),M=yield Li(w,Cn(v,{idToken:I}));Q(M?.users.length,v,"internal-error");const V=M.users[0];w._notifyReloadListener(V);const le=null!==(m=V.providerUserInfo)&&void 0!==m&&m.length?K(V.providerUserInfo):[],Te=te(w.providerData,le),Kt=!!w.isAnonymous&&!(w.email&&V.passwordHash||Te?.length),$t={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Te,metadata:new Is(V.createdAt,V.lastLoginAt),isAnonymous:Kt};Object.assign(w,$t)})).apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(w){const m=(0,W.m9)(w);yield Sn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function te(w,m){return[...w.filter(I=>!m.some(M=>M.providerId===I.providerId)),...m]}function K(w){return w.map(m=>{var{providerId:v}=m,I=(0,ge._T)(m,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function ie(){return(ie=(0,u.Z)(function*(w,m){const v=yield En(w,{},(0,u.Z)(function*(){const I=(0,W.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:V}=w.config,le=hi(w,M,"/v1/token",`key=${V}`),Te=yield w._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",Vn.fetch()(le,{method:"POST",headers:Te,body:I})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Q(m.idToken,"internal-error"),Q(typeof m.idToken<"u","internal-error"),Q(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Un(w){const m=Ot(w);return Q(m,"internal-error"),Q(typeof m.exp<"u","internal-error"),Q(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var I=this;return(0,u.Z)(function*(){return Q(!I.accessToken||I.refreshToken,m,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(m,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var I=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:V,expiresIn:le}=yield function ne(w,m){return ie.apply(this,arguments)}(m,v);I.updateTokensAndExpiration(M,V,Number(le))})()}updateTokensAndExpiration(m,v,I){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(m,v){const{refreshToken:I,accessToken:M,expirationTime:V}=v,le=new ze;return I&&(Q("string"==typeof I,"internal-error",{appName:m}),le.refreshToken=I),M&&(Q("string"==typeof M,"internal-error",{appName:m}),le.accessToken=M),V&&(Q("number"==typeof V,"internal-error",{appName:m}),le.expirationTime=V),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new ze,this.toJSON())}_performRefresh(){return Re("not implemented")}}function ct(w,m){Q("string"==typeof w||typeof w>"u","internal-error",{appName:m})}class kt{constructor(m){var{uid:v,auth:I,stsTokenManager:M}=m,V=(0,ge._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Is(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,u.Z)(function*(){const I=yield Li(v,v.stsTokenManager.getToken(v.auth,m));return Q(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(m){return function wi(w){return fi.apply(this,arguments)}(this,m)}reload(){return function In(w){return oe.apply(this,arguments)}(this)}_assign(m){this!==m&&(Q(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new kt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var I=this;return(0,u.Z)(function*(){let M=!1;m.idToken&&m.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(m),M=!0),v&&(yield Sn(I)),yield I.auth._persistUserIfCurrent(I),M&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var m=this;return(0,u.Z)(function*(){const v=yield m.getIdToken();return yield Li(m,function vi(w,m){return yt.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var I,M,V,le,Te,Xe,Nt,Kt;const $t=null!==(I=v.displayName)&&void 0!==I?I:void 0,Br=null!==(M=v.email)&&void 0!==M?M:void 0,to=null!==(V=v.phoneNumber)&&void 0!==V?V:void 0,La=null!==(le=v.photoURL)&&void 0!==le?le:void 0,_h=null!==(Te=v.tenantId)&&void 0!==Te?Te:void 0,Bc=null!==(Xe=v._redirectEventId)&&void 0!==Xe?Xe:void 0,vh=null!==(Nt=v.createdAt)&&void 0!==Nt?Nt:void 0,H_=null!==(Kt=v.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:Ip,emailVerified:Xl,isAnonymous:yh,providerData:bh,stsTokenManager:Tp}=v;Q(Ip&&Tp,m,"internal-error");const vf=ze.fromJSON(this.name,Tp);Q("string"==typeof Ip,m,"internal-error"),ct($t,m.name),ct(Br,m.name),Q("boolean"==typeof Xl,m,"internal-error"),Q("boolean"==typeof yh,m,"internal-error"),ct(to,m.name),ct(La,m.name),ct(_h,m.name),ct(Bc,m.name),ct(vh,m.name),ct(H_,m.name);const Ep=new kt({uid:Ip,auth:m,email:Br,emailVerified:Xl,displayName:$t,isAnonymous:yh,photoURL:La,phoneNumber:to,tenantId:_h,stsTokenManager:vf,createdAt:vh,lastLoginAt:H_});return bh&&Array.isArray(bh)&&(Ep.providerData=bh.map(Ad=>Object.assign({},Ad))),Bc&&(Ep._redirectEventId=Bc),Ep}static _fromIdTokenResponse(m,v,I=!1){return(0,u.Z)(function*(){const M=new ze;M.updateFromServerResponse(v);const V=new kt({uid:v.localId,auth:m,stsTokenManager:M,isAnonymous:I});return yield Sn(V),V})()}}const Fn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(v,I){var M=this;return(0,u.Z)(function*(){M.storage[v]=I})()}_get(v){var I=this;return(0,u.Z)(function*(){const M=I.storage[v];return void 0===M?null:M})()}_remove(v){var I=this;return(0,u.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return w.type="NONE",w})();function qi(w,m,v){return`firebase:${w}:${m}:${v}`}class mn{constructor(m,v,I){this.persistence=m,this.auth=v,this.userKey=I;const{config:M,name:V}=this.auth;this.fullUserKey=qi(this.userKey,M.apiKey,V),this.fullPersistenceKey=qi("persistence",M.apiKey,V),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?kt._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,u.Z)(function*(){if(v.persistence===m)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,I="authUser"){return(0,u.Z)(function*(){if(!v.length)return new mn(ye(Fn),m,I);const M=(yield Promise.all(v.map(function(){var Nt=(0,u.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let V=M[0]||ye(Fn);const le=qi(I,m.config.apiKey,m.name);let Te=null;for(const Nt of v)try{const Kt=yield Nt._get(le);if(Kt){const $t=kt._fromJSON(m,Kt);Nt!==V&&(Te=$t),V=Nt;break}}catch{}const Xe=M.filter(Nt=>Nt._shouldAllowMigration);return V._shouldAllowMigration&&Xe.length?(V=Xe[0],Te&&(yield V._set(le,Te.toJSON())),yield Promise.all(v.map(function(){var Nt=(0,u.Z)(function*(Kt){if(Kt!==V)try{yield Kt._remove(le)}catch{}});return function(Kt){return Nt.apply(this,arguments)}}())),new mn(V,m,I)):new mn(V,m,I)})()}}function on(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(jr(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ai(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(mt(m))return"Blackberry";if(Wt(m))return"Webos";if(Di(m))return"Safari";if((m.includes("chrome/")||us(m))&&!m.includes("edge/"))return"Chrome";if(Vi(m))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function ai(w=(0,W.z$)()){return/firefox\//i.test(w)}function Di(w=(0,W.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function us(w=(0,W.z$)()){return/crios\//i.test(w)}function jr(w=(0,W.z$)()){return/iemobile/i.test(w)}function Vi(w=(0,W.z$)()){return/android/i.test(w)}function mt(w=(0,W.z$)()){return/blackberry/i.test(w)}function Wt(w=(0,W.z$)()){return/webos/i.test(w)}function $n(w=(0,W.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function co(w=(0,W.z$)()){return $n(w)||Vi(w)||Wt(w)||mt(w)||/windows phone/i.test(w)||jr(w)}function Hs(w,m=[]){let v;switch(w){case"Browser":v=on((0,W.z$)());break;case"Worker":v=`${on((0,W.z$)())}-${w}`;break;default:v=w}const I=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${be.SDK_VERSION}/${I}`}class hs{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const I=V=>new Promise((le,Te)=>{try{le(m(V))}catch(Xe){Te(Xe)}});I.onAbort=v,this.queue.push(I);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,u.Z)(function*(){var I;if(v.auth.currentUser===m)return;const M=[];try{for(const V of v.queue)yield V(m),V.onAbort&&M.push(V.onAbort)}catch(V){M.reverse();for(const le of M)try{le()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=V)||void 0===I?void 0:I.message})}})()}}class tn{constructor(m,v,I){this.app=m,this.heartbeatServiceProvider=v,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new hs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(m,v){var I=this;return v&&(this._popupRedirectResolver=ye(v)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,V;if(!I._deleted&&(I.persistenceManager=yield mn.create(I,m),!I._deleted)){if(null!==(M=I._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(v),I.lastNotifiedUid=(null===(V=I.currentUser)||void 0===V?void 0:V.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUser(m){var v=this;return(0,u.Z)(function*(){var I;const M=yield v.assertedPersistence.getCurrentUser();let V=M,le=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Te=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,Xe=V?._redirectEventId,Nt=yield v.tryRedirectSignIn(m);(!Te||Te===Xe)&&Nt?.user&&(V=Nt.user,le=!0)}if(!V)return v.directlySetCurrentUser(null);if(!V._redirectEventId){if(le)try{yield v.beforeStateQueue.runMiddleware(V)}catch(Te){V=M,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Te))}return V?v.reloadAndSetCurrentUserOrClear(V):v.directlySetCurrentUser(null)}return Q(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===V._redirectEventId?v.directlySetCurrentUser(V):v.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(m){var v=this;return(0,u.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,u.Z)(function*(){var I;try{yield Sn(m)}catch(M){if("auth/network-request-failed"!==(null===(I=M)||void 0===I?void 0:I.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,u.Z)(function*(){const I=m?(0,W.m9)(m):null;return I&&Q(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(m,v=!1){var I=this;return(0,u.Z)(function*(){if(!I._deleted)return m&&Q(I.tenantId===m.tenantId,I,"tenant-id-mismatch"),v||(yield I.beforeStateQueue.runMiddleware(m)),I.queue((0,u.Z)(function*(){yield I.directlySetCurrentUser(m),I.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var v=this;return this.queue((0,u.Z)(function*(){yield v.assertedPersistence.setPersistence(ye(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new W.LL("auth","Firebase",m())}onAuthStateChanged(m,v,I){return this.registerStateListener(this.authStateSubscription,m,v,I)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,I){return this.registerStateListener(this.idTokenSubscription,m,v,I)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var I=this;return(0,u.Z)(function*(){const M=yield I.getOrInitRedirectPersistenceManager(v);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,u.Z)(function*(){if(!v.redirectPersistenceManager){const I=m&&ye(m)||v._popupRedirectResolver;Q(I,v,"argument-error"),v.redirectPersistenceManager=yield mn.create(v,[ye(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,u.Z)(function*(){var I,M;return v._isInitialized&&(yield v.queue((0,u.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===m?v._currentUser:(null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,u.Z)(function*(){if(m===v.currentUser)return v.queue((0,u.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,I,M){if(this._deleted)return()=>{};const V="function"==typeof v?v:v.next.bind(v),le=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(le,this,"internal-error"),le.then(()=>V(this.currentUser)),"function"==typeof v?m.addObserver(v,I,M):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,u.Z)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Hs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){var v;const I={"X-Client-Version":m.clientVersion};m.app.options.appId&&(I["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return M&&(I["X-Firebase-Client"]=M),I})()}}function Kn(w){return(0,W.m9)(w)}class js{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,W.ne)(v=>this.observer=v)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ws(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function Ts(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class Mi{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Re("not implemented")}_getIdTokenResponse(m){return Re("not implemented")}_linkToIdToken(m,v){return Re("not implemented")}_getReauthenticationResolver(m){return Re("not implemented")}}function Qn(w,m){return is.apply(this,arguments)}function is(){return(is=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:resetPassword",dn(w,m))})).apply(this,arguments)}function xn(w,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Es(w,m){return So.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:update",dn(w,m))})).apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(w,m){return Wi(w,"POST","/v1/accounts:signInWithPassword",dn(w,m))})).apply(this,arguments)}function Ki(w,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:sendOobCode",dn(w,m))})).apply(this,arguments)}function Gn(w,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(w,m){return Ki(w,m)})).apply(this,arguments)}function Ui(w,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(w,m){return Ki(w,m)})).apply(this,arguments)}function ho(w,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(w,m){return Ki(w,m)})).apply(this,arguments)}function xl(w,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(w,m){return Ki(w,m)})).apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(w,m){return Wi(w,"POST","/v1/accounts:signInWithEmailLink",dn(w,m))})).apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(w,m){return Wi(w,"POST","/v1/accounts:signInWithEmailLink",dn(w,m))})).apply(this,arguments)}class B extends Mi{constructor(m,v,I,M=null){super("password",I),this._email=m,this._password=v,this._tenantId=M}static _fromEmailAndPassword(m,v){return new B(m,v,"password")}static _fromEmailAndCode(m,v,I=null){return new B(m,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return function Ca(w,m){return wr.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Ya(w,m){return hu.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:He(m,"internal-error")}})()}_linkToIdToken(m,v){var I=this;return(0,u.Z)(function*(){switch(I.signInMethod){case"password":return xn(m,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function dc(w,m){return fo.apply(this,arguments)}(m,{idToken:v,email:I._email,oobCode:I._password});default:He(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function $(w,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,u.Z)(function*(w,m){return Wi(w,"POST","/v1/accounts:signInWithIdp",dn(w,m))})).apply(this,arguments)}class Ye extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ye(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):He("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:M}=v,V=(0,ge._T)(v,["providerId","signInMethod"]);if(!I||!M)return null;const le=new Ye(I,M);return le.idToken=V.idToken||void 0,le.accessToken=V.accessToken||void 0,le.secret=V.secret,le.nonce=V.nonce,le.pendingToken=V.pendingToken||null,le}_getIdTokenResponse(m){return $(m,this.buildRequest())}_linkToIdToken(m,v){const I=this.buildRequest();return I.idToken=v,$(m,I)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,$(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,W.xO)(v)}return m}}function Et(w,m){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:sendVerificationCode",dn(w,m))})).apply(this,arguments)}function ui(){return(ui=(0,u.Z)(function*(w,m){return Wi(w,"POST","/v1/accounts:signInWithPhoneNumber",dn(w,m))})).apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(w,m){const v=yield Wi(w,"POST","/v1/accounts:signInWithPhoneNumber",dn(w,m));if(v.temporaryProof)throw Ar(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const up={USER_NOT_FOUND:"user-not-found"};function zd(){return(zd=(0,u.Z)(function*(w,m){return Wi(w,"POST","/v1/accounts:signInWithPhoneNumber",dn(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),up)})).apply(this,arguments)}class Ia extends Mi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Ia({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Ia({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function Ri(w,m){return ui.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Wr(w,m){return Ss.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ef(w,m){return zd.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:I,verificationCode:M}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:I,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:I,phoneNumber:M,temporaryProof:V}=m;return I||v||M||V?new Ia({verificationId:v,verificationCode:I,phoneNumber:M,temporaryProof:V}):null}}class Al{constructor(m){var v,I,M,V,le,Te;const Xe=(0,W.zd)((0,W.pd)(m)),Nt=null!==(v=Xe.apiKey)&&void 0!==v?v:null,Kt=null!==(I=Xe.oobCode)&&void 0!==I?I:null,$t=function qd(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Xe.mode)&&void 0!==M?M:null);Q(Nt&&Kt&&$t,"argument-error"),this.apiKey=Nt,this.operation=$t,this.code=Kt,this.continueUrl=null!==(V=Xe.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(le=Xe.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Te=Xe.tenantId)&&void 0!==Te?Te:null}static parseLink(m){const v=function Zd(w){const m=(0,W.zd)((0,W.pd)(w)).link,v=m?(0,W.zd)((0,W.pd)(m)).deep_link_id:null,I=(0,W.zd)((0,W.pd)(w)).deep_link_id;return(I?(0,W.zd)((0,W.pd)(I)).link:null)||I||v||m||w}(m);try{return new Al(v)}catch{return null}}}let xo=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,I){return B._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const M=Al.parseLink(I);return Q(M,"argument-error"),B._fromEmailAndCode(v,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ao{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class na extends Ao{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ka extends na{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Q("providerId"in v&&"signInMethod"in v,"argument-error"),Ye._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Q(m.idToken||m.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ka.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ka.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:V,nonce:le,providerId:Te}=m;if(!I&&!M&&!v&&!V||!Te)return null;try{return new Ka(Te)._credential({idToken:v,accessToken:I,nonce:le,pendingToken:V})}catch{return null}}}let Jn=(()=>{class w extends na{constructor(){super("facebook.com")}static credential(v){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Xn=(()=>{class w extends na{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:M}=v;if(!I&&!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),ed=(()=>{class w extends na{constructor(){super("github.com")}static credential(v){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class mr extends Mi{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return $(m,this.buildRequest())}_linkToIdToken(m,v){const I=this.buildRequest();return I.idToken=v,$(m,I)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,$(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:M,pendingToken:V}=v;return I&&M&&V&&I===M?new mr(I,V):null}static _create(m,v){return new mr(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zs extends Ao{constructor(m){Q(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return zs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return zs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=mr.fromJSON(m);return Q(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:I}=m;if(!v||!I)return null;try{return mr._create(I,v)}catch{return null}}}let xs=(()=>{class w extends na{constructor(){super("twitter.com")}static credential(v,I){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=v;if(!I||!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Qa(w,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,u.Z)(function*(w,m){return Wi(w,"POST","/v1/accounts:signUp",dn(w,m))})).apply(this,arguments)}class Hn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,I,M=!1){return(0,u.Z)(function*(){const V=yield kt._fromIdTokenResponse(m,I,M),le=Yd(I);return new Hn({user:V,providerId:le,_tokenResponse:I,operationType:v})})()}static _forOperation(m,v,I){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(I,!0);const M=Yd(I);return new Hn({user:m,providerId:M,_tokenResponse:I,operationType:v})})()}}function Yd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function $i(){return($i=(0,u.Z)(function*(w){var m;const v=Kn(w);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new Hn({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield Qa(v,{returnSecureToken:!0}),M=yield Hn._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Nl extends W.ZR{constructor(m,v,I,M){var V;super(v.code,v.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,Nl.prototype),this.customData={appName:m.name,tenantId:null!==(V=m.tenantId)&&void 0!==V?V:void 0,_serverResponse:v.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(m,v,I,M){return new Nl(m,v,I,M)}}function qs(w,m,v,I){return("reauthenticate"===m?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?Nl._fromErrorAndOperation(w,V,m,I):V})}function As(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function gu(){return(gu=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w);yield An(!0,v,m);const{providerUserInfo:I}=yield Gr(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),M=As(I||[]);return v.providerData=v.providerData.filter(V=>M.has(V.providerId)),M.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Ja(w,m){return No.apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(w,m,v=!1){const I=yield Li(w,m._linkToIdToken(w.auth,yield w.getIdToken()),v);return Hn._forOperation(w,"link",I)})).apply(this,arguments)}function An(w,m,v){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(w,m,v){yield Sn(m);const M=!1===w?"provider-already-linked":"no-such-provider";Q(As(m.providerData).has(v)===w,m.auth,M)})).apply(this,arguments)}function Xa(w,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(w,m,v=!1){var I;const{auth:M}=w,V="reauthenticate";try{const le=yield Li(w,qs(M,V,m,w),v);Q(le.idToken,M,"internal-error");const Te=Ot(le.idToken);Q(Te,M,"internal-error");const{sub:Xe}=Te;return Q(w.uid===Xe,M,"user-mismatch"),Hn._forOperation(w,V,le)}catch(le){throw"auth/user-not-found"===(null===(I=le)||void 0===I?void 0:I.code)&&He(M,"user-mismatch"),le}})).apply(this,arguments)}function po(w,m){return mu.apply(this,arguments)}function mu(){return(mu=(0,u.Z)(function*(w,m,v=!1){const I="signIn",M=yield qs(w,I,m),V=yield Hn._fromIdTokenResponse(w,I,M);return v||(yield w._updateCurrentUser(V.user)),V})).apply(this,arguments)}function ei(w,m){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(w,m){return po(Kn(w),m)})).apply(this,arguments)}function Ol(w,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w);return yield An(!1,v,m.providerId),Ja(v,m)})).apply(this,arguments)}function go(w,m){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,u.Z)(function*(w,m){return Xa((0,W.m9)(w),m)})).apply(this,arguments)}function td(w,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(w,m){return Wi(w,"POST","/v1/accounts:signInWithCustomToken",dn(w,m))})).apply(this,arguments)}function _u(){return(_u=(0,u.Z)(function*(w,m){const v=Kn(w),I=yield td(v,{token:m,returnSecureToken:!0}),M=yield Hn._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ze{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?_n._fromServerResponse(m,v):He(m,"internal-error")}}class _n extends Ze{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new _n(v)}}function el(w,m,v){var I;Q((null===(I=v.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),Q(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Q(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(Q(v.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Ji(){return(Ji=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w),M={requestType:"PASSWORD_RESET",email:m};v&&el(I,M,v),yield Ui(I,M)})).apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(w,m,v){yield Qn((0,W.m9)(w),{oobCode:m,newPassword:v})})).apply(this,arguments)}function nl(){return(nl=(0,u.Z)(function*(w,m){yield Es((0,W.m9)(w),{oobCode:m})})).apply(this,arguments)}function Rl(w,m){return id.apply(this,arguments)}function id(){return(id=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w),I=yield Qn(v,{oobCode:m}),M=I.requestType;switch(Q(M,v,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(I.mfaInfo,v,"internal-error");default:Q(I.email,v,"internal-error")}let V=null;return I.mfaInfo&&(V=Ze._fromServerResponse(Kn(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:V},operation:M}})).apply(this,arguments)}function hc(){return(hc=(0,u.Z)(function*(w,m){const{data:v}=yield Rl((0,W.m9)(w),m);return v.email})).apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(w,m,v){const I=Kn(w),M=yield Qa(I,{returnSecureToken:!0,email:m,password:v}),V=yield Hn._fromIdTokenResponse(I,"signIn",M);return yield I._updateCurrentUser(V.user),V})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w),M={requestType:"EMAIL_SIGNIN",email:m};Q(v.handleCodeInApp,I,"argument-error"),v&&el(I,M,v),yield ho(I,M)})).apply(this,arguments)}function Du(){return(Du=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w),M=xo.credentialWithLink(m,v||Je());return Q(M._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),ei(I,M)})).apply(this,arguments)}function cp(w,m){return rd.apply(this,arguments)}function rd(){return(rd=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:createAuthUri",dn(w,m))})).apply(this,arguments)}function Cu(){return(Cu=(0,u.Z)(function*(w,m){const I={identifier:m,continueUri:Mt()?Je():"http://localhost"},{signinMethods:M}=yield cp((0,W.m9)(w),I);return M||[]})).apply(this,arguments)}function Iu(){return(Iu=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&el(v.auth,M,m);const{email:V}=yield Gn(v.auth,M);V!==w.email&&(yield w.reload())})).apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};v&&el(I.auth,V,v);const{email:le}=yield xl(I.auth,V);le!==w.email&&(yield w.reload())})).apply(this,arguments)}function Tu(w,m){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function od(){return(od=(0,u.Z)(function*(w,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const I=(0,W.m9)(w),V={idToken:yield I.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},le=yield Li(I,Tu(I.auth,V));I.displayName=le.displayName||null,I.photoURL=le.photoUrl||null;const Te=I.providerData.find(({providerId:Xe})=>"password"===Xe);Te&&(Te.displayName=I.displayName,Te.photoURL=I.photoURL),yield I._updateTokensIfNecessary(le)})).apply(this,arguments)}function Zs(w,m,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(w,m,v){const{auth:I}=w,V={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(V.email=m),v&&(V.password=v);const le=yield Li(w,xn(I,V));yield w._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class Ns{constructor(m,v,I={}){this.isNewUser=m,this.providerId=v,this.profile=I}}class Ti extends Ns{constructor(m,v,I,M){super(m,v,I),this.username=M}}class ad extends Ns{constructor(m,v){super(m,"facebook.com",v)}}class ld extends Ti{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Qd extends Ns{constructor(m,v){super(m,"google.com",v)}}class Fl extends Ti{constructor(m,v,I){super(m,"twitter.com",v,I)}}function de(w){const{user:m,_tokenResponse:v}=w;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function _r(w){var m,v;if(!w)return null;const{providerId:I}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},V=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&w?.idToken){const le=null===(v=null===(m=Ot(w.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(le)return new Ns(V,"anonymous"!==le&&"custom"!==le?le:null)}if(!I)return null;switch(I){case"facebook.com":return new ad(V,M);case"github.com":return new ld(V,M);case"google.com":return new Qd(V,M);case"twitter.com":return new Fl(V,M,w.screenName||null);case"custom":case"anonymous":return new Ns(V,null);default:return new Ns(V,I,M)}}(v)}class Dr{constructor(m,v,I){this.type=m,this.credential=v,this.auth=I}static _fromIdtoken(m,v){return new Dr("enroll",m,v)}static _fromMfaPendingCredential(m){return new Dr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,I;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Dr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(I=m.multiFactorSession)&&void 0!==I&&I.idToken)return Dr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class rl{constructor(m,v,I){this.session=m,this.hints=v,this.signInResolver=I}static _fromError(m,v){const I=Kn(m),M=v.customData._serverResponse,V=(M.mfaInfo||[]).map(Te=>Ze._fromServerResponse(I,Te));Q(M.mfaPendingCredential,I,"internal-error");const le=Dr._fromMfaPendingCredential(M.mfaPendingCredential);return new rl(le,V,function(){var Te=(0,u.Z)(function*(Xe){const Nt=yield Xe._process(I,le);delete M.mfaInfo,delete M.mfaPendingCredential;const Kt=Object.assign(Object.assign({},M),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(v.operationType){case"signIn":const $t=yield Hn._fromIdTokenResponse(I,v.operationType,Kt);return yield I._updateCurrentUser($t.user),$t;case"reauthenticate":return Q(v.user,I,"internal-error"),Hn._forOperation(v.user,v.operationType,Kt);default:He(I,"internal-error")}});return function(Xe){return Te.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,u.Z)(function*(){return v.signInResolver(m)})()}}function sa(w,m){return Qt(w,"POST","/v2/accounts/mfaEnrollment:start",dn(w,m))}class ti{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>Ze._fromServerResponse(m.auth,I)))})}static _fromUser(m){return new ti(m)}getSession(){var m=this;return(0,u.Z)(function*(){return Dr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,v){var I=this;return(0,u.Z)(function*(){const M=m,V=yield I.getSession(),le=yield Li(I.user,M._process(I.user.auth,V,v));return yield I.user._updateTokensIfNecessary(le),I.user.reload()})()}unenroll(m){var v=this;return(0,u.Z)(function*(){var I;const M="string"==typeof m?m:m.uid,V=yield v.user.getIdToken(),le=yield Li(v.user,function Eu(w,m){return Qt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(w,m))}(v.user.auth,{idToken:V,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Te})=>Te!==M),yield v.user._updateTokensIfNecessary(le);try{yield v.user.reload()}catch(Te){if("auth/user-token-expired"!==(null===(I=Te)||void 0===I?void 0:I.code))throw Te}})()}}const Ll=new WeakMap,Po="__sak";class pc{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Po,"1"),this.storage.removeItem(Po),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sa=(()=>{class w extends pc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,I)=>this.onStorageEvent(v,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Su(){const w=(0,W.z$)();return Di(w)||$n(w)}()&&function li(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=co(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),V=this.localCache[I];M!==V&&v(I,V,M)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((Te,Xe,Nt)=>{this.notifyListeners(Te,Nt)});const M=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(M);if(v.newValue!==Te)null!==v.newValue?this.storage.setItem(M,v.newValue):this.storage.removeItem(M);else if(this.localCache[M]===v.newValue&&!I)return}const V=()=>{const Te=this.storage.getItem(M);!I&&this.localCache[M]===Te||this.notifyListeners(M,Te)},le=this.storage.getItem(M);!function Zi(){return(0,W.w1)()&&10===document.documentMode}()||le===v.newValue||v.newValue===v.oldValue?V():setTimeout(V,10)}notifyListeners(v,I){this.localCache[v]=I;const M=this.listeners[v];if(M)for(const V of Array.from(M))V(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var M=()=>super._set,V=this;return(0,u.Z)(function*(){yield M().call(V,v,I),V.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,M=this;return(0,u.Z)(function*(){const V=yield I().call(M,v);return M.localCache[v]=JSON.stringify(V),V})()}_remove(v){var I=()=>super._remove,M=this;return(0,u.Z)(function*(){yield I().call(M,v),delete M.localCache[v]})()}}return w.type="LOCAL",w})(),Os=(()=>{class w extends pc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return w.type="SESSION",w})();let ud=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(V=>V.isListeningto(v));if(I)return I;const M=new w(v);return this.receivers.push(M),M}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,u.Z)(function*(){const M=v,{eventId:V,eventType:le,data:Te}=M.data,Xe=I.handlersMap[le];if(!Xe?.size)return;M.ports[0].postMessage({status:"ack",eventId:V,eventType:le});const Nt=Array.from(Xe).map(function(){var $t=(0,u.Z)(function*(Br){return Br(M.origin,Te)});return function(Br){return $t.apply(this,arguments)}}()),Kt=yield function Vl(w){return Promise.all(w.map(function(){var m=(0,u.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return m.apply(this,arguments)}}()))}(Nt);M.ports[0].postMessage({status:"done",eventId:V,eventType:le,response:Kt})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function xa(w="",m=10){let v="";for(let I=0;I<m;I++)v+=Math.floor(10*Math.random());return w+v}class gc{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,I=50){var M=this;return(0,u.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let le,Te;return new Promise((Xe,Nt)=>{const Kt=xa("",20);V.port1.start();const $t=setTimeout(()=>{Nt(new Error("unsupported_event"))},I);Te={messageChannel:V,onMessage(Br){const to=Br;if(to.data.eventId===Kt)switch(to.data.status){case"ack":clearTimeout($t),le=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Xe(to.data.response);break;default:clearTimeout($t),clearTimeout(le),Nt(new Error("invalid_response"))}}},M.handlers.add(Te),V.port1.addEventListener("message",Te.onMessage),M.target.postMessage({eventType:m,eventId:Kt,data:v},[V.port2])}).finally(()=>{Te&&M.removeMessageHandler(Te)})})()}}function xi(){return window}function al(){return typeof xi().WorkerGlobalScope<"u"&&"function"==typeof xi().importScripts}function Au(){return(Au=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vo="firebaseLocalStorageDb",Aa="firebaseLocalStorage",vc="fbase_key";class cl{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Nu(w,m){return w.transaction([Aa],m?"readwrite":"readonly").objectStore(Aa)}function er(){const w=indexedDB.open(vo,1);return new Promise((m,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const I=w.result;try{I.createObjectStore(Aa,{keyPath:vc})}catch(M){v(M)}}),w.addEventListener("success",(0,u.Z)(function*(){const I=w.result;I.objectStoreNames.contains(Aa)?m(I):(I.close(),yield function sr(){const w=indexedDB.deleteDatabase(vo);return new cl(w).toPromise()}(),m(yield er()))}))})}function oa(w,m,v){return cd.apply(this,arguments)}function cd(){return(cd=(0,u.Z)(function*(w,m,v){const I=Nu(w,!0).put({[vc]:m,value:v});return new cl(I).toPromise()})).apply(this,arguments)}function Mu(){return(Mu=(0,u.Z)(function*(w,m){const v=Nu(w,!1).get(m),I=yield new cl(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function aa(w,m){const v=Nu(w,!0).delete(m);return new cl(v).toPromise()}const ko=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,u.Z)(function*(){return v.db||(v.db=yield er()),v.db})()}_withRetries(v){var I=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const V=yield I._openDb();return yield v(V)}catch(V){if(M++>3)throw V;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,u.Z)(function*(){return al()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,u.Z)(function*(){v.receiver=ud._getInstance(function ul(){return al()?self:null}()),v.receiver._subscribe("keyChanged",function(){var I=(0,u.Z)(function*(M,V){return{keyProcessed:(yield v._poll()).includes(V.key)}});return function(M,V){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,u.Z)(function*(M,V){return["keyChanged"]});return function(M,V){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,u.Z)(function*(){var I,M;if(v.activeServiceWorker=yield function ll(){return Au.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new gc(v.activeServiceWorker);const V=yield v.sender._send("ping",{},800);!V||(null===(I=V[0])||void 0===I?void 0:I.fulfilled)&&(null===(M=V[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,u.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function mc(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const v=yield er();return yield oa(v,Po,"1"),yield aa(v,Po),!0}catch{}return!1})()}_withPendingWrite(v){var I=this;return(0,u.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(V=>oa(V,v,I)),M.localCache[v]=I,M.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,u.Z)(function*(){const M=yield I._withRetries(V=>function Ou(w,m){return Mu.apply(this,arguments)}(V,v));return I.localCache[v]=M,M})()}_remove(v){var I=this;return(0,u.Z)(function*(){return I._withPendingWrite((0,u.Z)(function*(){return yield I._withRetries(M=>aa(M,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,u.Z)(function*(){const I=yield v._withRetries(le=>{const Te=Nu(le,!1).getAll();return new cl(Te).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const M=[],V=new Set;for(const{fbase_key:le,value:Te}of I)V.add(le),JSON.stringify(v.localCache[le])!==JSON.stringify(Te)&&(v.notifyListeners(le,Te),M.push(le));for(const le of Object.keys(v.localCache))v.localCache[le]&&!V.has(le)&&(v.notifyListeners(le,null),M.push(le));return M})()}notifyListeners(v,I){this.localCache[v]=I;const M=this.listeners[v];if(M)for(const V of Array.from(M))V(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Fo(w,m){return Qt(w,"POST","/v2/accounts/mfaSignIn:start",dn(w,m))}function Na(){return(Na=(0,u.Z)(function*(w){return(yield Qt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $l(w){return new Promise((m,v)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=m,I.onerror=M=>{const V=ke("internal-error");V.customData=M,v(V)},I.type="text/javascript",I.charset="UTF-8",function Ul(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(I)})}function yc(w){return`__${w}${Math.floor(1e6*Math.random())}`}const ua=1e12;class pi{constructor(m){this.auth=m,this.counter=ua,this._widgets=new Map}render(m,v){const I=this.counter;return this._widgets.set(I,new U(m,this.auth.name,v||{})),this.counter++,I}reset(m){var v;const I=m||ua;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(m){var v;return(null===(v=this._widgets.get(m||ua))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,u.Z)(function*(){var I;return null===(I=v._widgets.get(m||ua))||void 0===I||I.execute(),""})()}}class U{constructor(m,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;Q(M,"argument-error",{appName:v}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ru(w){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<w;I++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hl=yc("rcb"),Ys=new Yn(3e4,6e4);class Xd{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=xi().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return Q(function Vg(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(xi().grecaptcha):new Promise((I,M)=>{const V=xi().setTimeout(()=>{M(ke(m,"network-request-failed"))},Ys.get());xi()[Hl]=()=>{xi().clearTimeout(V),delete xi()[Hl];const Te=xi().grecaptcha;if(!Te)return void M(ke(m,"internal-error"));const Xe=Te.render;Te.render=(Nt,Kt)=>{const $t=Xe(Nt,Kt);return this.counter++,$t},this.hostLanguage=v,I(Te)},$l(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Hl,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(V),M(ke(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=xi().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pu{load(m){return(0,u.Z)(function*(){return new pi(m)})()}clearedOneInstance(){}}const jl="recaptcha",dp={theme:"light",type:"image"};class Rr{constructor(m,v=Object.assign({},dp),I){this.parameters=v,this.type=jl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(I),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;Q(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pu:new Xd,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),I=m.getAssertedRecaptcha();return I.getResponse(v)||new Promise(V=>{const le=Te=>{!Te||(m.tokenChangeListeners.delete(le),V(Te))};m.tokenChangeListeners.add(le),m.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof m)m(v);else if("string"==typeof m){const I=xi()[m];"function"==typeof I&&I(v)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){Q(Mt()&&!al(),m.auth,"internal-error"),yield function dd(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function Cr(w){return Na.apply(this,arguments)}(m.auth);Q(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zn{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Ia._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Ms(){return(Ms=(0,u.Z)(function*(w,m,v){const I=Kn(w),M=yield qn(I,m,(0,W.m9)(v));return new zn(M,V=>ei(I,V))})).apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w);yield An(!1,I,"phone");const M=yield qn(I.auth,m,(0,W.m9)(v));return new zn(M,V=>Ol(I,V))})).apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w),M=yield qn(I.auth,m,(0,W.m9)(v));return new zn(M,V=>go(I,V))})).apply(this,arguments)}function qn(w,m,v){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(w,m,v){var I;const M=yield v.verify();try{let V;if(Q("string"==typeof M,w,"argument-error"),Q(v.type===jl,w,"argument-error"),V="string"==typeof m?{phoneNumber:m}:m,"session"in V){const le=V.session;if("phoneNumber"in V)return Q("enroll"===le.type,w,"internal-error"),(yield sa(w,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Q("signin"===le.type,w,"internal-error");const Te=(null===(I=V.multiFactorHint)||void 0===I?void 0:I.uid)||V.multiFactorUid;return Q(Te,w,"missing-multi-factor-info"),(yield Fo(w,{mfaPendingCredential:le.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield Et(w,{phoneNumber:V.phoneNumber,recaptchaToken:M});return le}}finally{v._reset()}})).apply(this,arguments)}function fd(){return(fd=(0,u.Z)(function*(w,m){yield Ja((0,W.m9)(w),m)})).apply(this,arguments)}let bc=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=Kn(v)}verifyPhoneNumber(v,I){return qn(this.auth,v,(0,W.m9)(I))}static credential(v,I){return Ia._fromVerification(v,I)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:M}=v;return I&&M?Ia._fromTokenResponse(I,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function fl(w,m){return m?ye(m):(Q(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class pd extends Mi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return $(m,this._buildIdpRequest())}_linkToIdToken(m,v){return $(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return $(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function tr(w){return po(w.auth,new pd(w),w.bypassAuthState)}function ku(w){const{auth:m,user:v}=w;return Q(v,m,"internal-error"),Xa(v,new pd(w),w.bypassAuthState)}function Oa(w){return _s.apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(w){const{auth:m,user:v}=w;return Q(v,m,"internal-error"),Ja(v,new pd(w),w.bypassAuthState)})).apply(this,arguments)}class Fu{constructor(m,v,I,M,V=!1){this.auth=m,this.resolver=I,this.user=M,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,u.Z)(function*(I,M){m.pendingPromise={resolve:I,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(V){m.reject(V)}});return function(I,M){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,u.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:V,tenantId:le,error:Te,type:Xe}=m;if(Te)return void v.reject(Te);const Nt={auth:v.auth,requestUri:I,sessionId:M,tenantId:le||void 0,postBody:V||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Xe)(Nt))}catch(Kt){v.reject(Kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return tr;case"linkViaPopup":case"linkViaRedirect":return Oa;case"reauthViaPopup":case"reauthViaRedirect":return ku;default:He(this.auth,"internal-error")}}resolve(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gd=new Yn(2e3,1e4);function Lu(){return(Lu=(0,u.Z)(function*(w,m,v){const I=Kn(w);st(w,m,Ao);const M=fl(I,v);return new Vu(I,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function _d(){return(_d=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w);st(I.auth,m,Ao);const M=fl(I.auth,v);return new Vu(I.auth,"reauthViaPopup",m,M,I).executeNotNull()})).apply(this,arguments)}function Bu(){return(Bu=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w);st(I.auth,m,Ao);const M=fl(I.auth,v);return new Vu(I.auth,"linkViaPopup",m,M,I).executeNotNull()})).apply(this,arguments)}let Vu=(()=>{class w extends Fu{constructor(v,I,M,V,le){super(v,I,V,le),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,u.Z)(function*(){const I=yield v.execute();return Q(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,u.Z)(function*(){ae(1===v.filter.length,"Popup operations only handle one event");const I=xa();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(M=>{v.reject(M)}),v.resolver._isIframeWebStorageSupported(v.auth,M=>{M||v.reject(ke(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,gd.get())};v()}}return w.currentPopupAction=null,w})();const Pi=new Map;class Rs extends Fu{constructor(m,v,I=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,u.Z)(function*(){let I=Pi.get(v.auth._key());if(!I){try{const V=(yield function Wn(w,m){return bt.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;I=()=>Promise.resolve(V)}catch(M){I=()=>Promise.reject(M)}Pi.set(v.auth._key(),I)}return v.bypassAuthState||Pi.set(v.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,I=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(I,m);if("unknown"!==m.type){if(m.eventId){const M=yield I.auth._redirectUserForId(m.eventId);if(M)return I.user=M,v().call(I,m);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function bt(){return(bt=(0,u.Z)(function*(w,m){const v=wc(m),I=vr(w);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(v));return yield I._remove(v),M})).apply(this,arguments)}function lr(w,m){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.Z)(function*(w,m){return vr(w)._set(wc(m),"true")})).apply(this,arguments)}function Ks(w,m){Pi.set(w._key(),m)}function vr(w){return ye(w._redirectPersistence)}function wc(w){return qi("pendingRedirect",w.config.apiKey,w.name)}function S(){return(S=(0,u.Z)(function*(w,m,v){const I=Kn(w);st(w,m,Ao);const M=fl(I,v);return yield lr(M,I),M._openRedirect(I,m,"signInViaRedirect")})).apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w);st(I.auth,m,Ao);const M=fl(I.auth,v);yield lr(M,I.auth);const V=yield Ut(I);return M._openRedirect(I.auth,m,"reauthViaRedirect",V)})).apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(w,m,v){const I=(0,W.m9)(w);st(I.auth,m,Ao);const M=fl(I.auth,v);yield An(!1,I,m.providerId),yield lr(M,I.auth);const V=yield Ut(I);return M._openRedirect(I.auth,m,"linkViaRedirect",V)})).apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(w,m){return yield Kn(w)._initializationPromise,Ht(w,m,!1)})).apply(this,arguments)}function Ht(w,m){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(w,m,v=!1){const I=Kn(w),M=fl(I,m),le=yield new Rs(I,M,v).execute();return le&&!v&&(delete le.user._redirectEventId,yield I._persistUserIfCurrent(le.user),yield I._setRedirectUser(null,m)),le})).apply(this,arguments)}function Ut(w){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(w){const m=xa(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class Zn{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(m,I)&&(v=!0,this.sendToConsumer(m,I),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Wl(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var I;if(m.error&&!ca(m)){const M=(null===(I=m.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(ke(this.auth,M))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const I=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&I}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ur(m))}saveEventToCache(m){this.cachedEventUids.add(ur(m)),this.lastProcessedEventTime=Date.now()}}function ur(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function ca({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===m?.code}function Ma(w){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(w,m={}){return Qt(w,"GET","/v1/projects",m)})).apply(this,arguments)}const Pa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qs=/^https?/;function lf(){return(lf=(0,u.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield Ma(w);for(const v of m)try{if(th(v))return}catch{}He(w,"unauthorized-domain")})).apply(this,arguments)}function th(w){const m=Je(),{protocol:v,hostname:I}=new URL(m);if(w.startsWith("chrome-extension://")){const le=new URL(w);return""===le.hostname&&""===I?"chrome-extension:"===v&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&le.hostname===I}if(!Qs.test(v))return!1;if(Pa.test(w))return I===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const Ug=new Yn(3e4,6e4);function Uu(){const w=xi().___jsl;if(w?.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Dc=null;function fp(w){return Dc=Dc||function $u(w){return new Promise((m,v)=>{var I,M,V;function le(){Uu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Uu(),v(ke(w,"network-request-failed"))},timeout:Ug.get()})}if(null!==(M=null===(I=xi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(V=xi().gapi)||void 0===V||!V.load){const Te=yc("iframefcb");return xi()[Te]=()=>{gapi.load?le():v(ke(w,"network-request-failed"))},$l(`https://apis.google.com/js/api.js?onload=${Te}`).catch(Xe=>v(Xe))}le()}}).catch(m=>{throw Dc=null,m})}(w),Dc}const Cc=new Yn(5e3,15e3),ih={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cr(w){const m=w.config;Q(m.authDomain,w,"auth-domain-config-required");const v=m.emulator?di(m,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,I={apiKey:m.apiKey,appName:w.name,v:be.SDK_VERSION},M=rh.get(w.config.apiHost);M&&(I.eid=M);const V=w._getFrameworks();return V.length&&(I.fw=V.join(",")),`${v}?${(0,W.xO)(I).slice(1)}`}function ki(){return ki=(0,u.Z)(function*(w){const m=yield fp(w),v=xi().gapi;return Q(v,w,"internal-error"),m.open({where:document.body,url:cr(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ih,dontclear:!0},I=>new Promise(function(){var M=(0,u.Z)(function*(V,le){yield I.restyle({setHideOnLeave:!1});const Te=ke(w,"network-request-failed"),Xe=xi().setTimeout(()=>{le(Te)},Cc.get());function Nt(){xi().clearTimeout(Xe),V(I)}I.ping(Nt).then(Nt,()=>{le(Te)})});return function(V,le){return M.apply(this,arguments)}}()))}),ki.apply(this,arguments)}const da={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ic{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bo(w,m,v,I,M,V){Q(w.config.authDomain,w,"auth-domain-config-required"),Q(w.config.apiKey,w,"invalid-api-key");const le={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:I,v:be.SDK_VERSION,eventId:M};if(m instanceof Ao){m.setDefaultLanguage(w.languageCode),le.providerId=m.providerId||"",(0,W.xb)(m.getCustomParameters())||(le.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Xe,Nt]of Object.entries(V||{}))le[Xe]=Nt}if(m instanceof na){const Xe=m.getScopes().filter(Nt=>""!==Nt);Xe.length>0&&(le.scopes=Xe.join(","))}w.tenantId&&(le.tid=w.tenantId);const Te=le;for(const Xe of Object.keys(Te))void 0===Te[Xe]&&delete Te[Xe];return`${function vp({config:w}){return w.emulator?di(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,W.xO)(Te).slice(1)}`}const Tc="webStorageSupport";class Vo extends class vn{constructor(m){this.factorId=m}_process(m,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,I);case"signin":return this._finalizeSignIn(m,v.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Vo(m)}_finalizeEnroll(m,v,I){return function sl(w,m){return Qt(w,"POST","/v2/accounts/mfaEnrollment:finalize",dn(w,m))}(m,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function hl(w,m){return Qt(w,"POST","/v2/accounts/mfaSignIn:finalize",dn(w,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ec=(()=>{class w{constructor(){}static assertion(v){return Vo._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var Sc="@firebase/auth";class df{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,u.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(I=>{var M;m((null===(M=I)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ni(){return window}function hf(){return(hf=(0,u.Z)(function*(w,m,v){var I;const{BuildInfo:M}=Ni();ae(m.sessionId,"AuthEvent did not contain a session ID");const V=yield vd(m.sessionId),le={};return $n()?le.ibi=M.packageName:Vi()?le.apn=M.packageName:He(w,"operation-not-supported-in-this-environment"),M.displayName&&(le.appDisplayName=M.displayName),le.sessionId=V,Bo(w,v,m.type,void 0,null!==(I=m.eventId)&&void 0!==I?I:void 0,le)})).apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(w){const{BuildInfo:m}=Ni(),v={};$n()?v.iosBundleId=m.packageName:Vi()?v.androidPackageName=m.packageName:He(w,"operation-not-supported-in-this-environment"),yield Ma(w,v)})).apply(this,arguments)}function zl(){return(zl=(0,u.Z)(function*(w,m,v){const{cordova:I}=Ni();let M=()=>{};try{yield new Promise((V,le)=>{let Te=null;function Xe(){var $t;V();const Br=null===($t=I.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Br&&Br(),"function"==typeof v?.close&&v.close()}function Nt(){Te||(Te=window.setTimeout(()=>{le(ke(w,"redirect-cancelled-by-user"))},2e3))}function Kt(){"visible"===document?.visibilityState&&Nt()}m.addPassiveListener(Xe),document.addEventListener("resume",Nt,!1),Vi()&&document.addEventListener("visibilitychange",Kt,!1),M=()=>{m.removePassiveListener(Xe),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",Kt,!1),Te&&window.clearTimeout(Te)}})}finally{M()}})).apply(this,arguments)}function vd(w){return ah.apply(this,arguments)}function ah(){return(ah=(0,u.Z)(function*(w){const m=yd(w),v=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(v)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yd(w){if(ae(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const m=new ArrayBuffer(w.length),v=new Uint8Array(m);for(let I=0;I<w.length;I++)v[I]=w.charCodeAt(I);return v}!function kr(w){(0,be._registerComponent)(new Ie.wA("auth",(m,{options:v})=>{const I=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:V,authDomain:le}=I.options;return((Te,Xe)=>{Q(V&&!V.includes(":"),"invalid-api-key",{appName:Te.name}),Q(!le?.includes(":"),"argument-error",{appName:Te.name});const Nt={apiKey:V,authDomain:le,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hs(w)},Kt=new tn(Te,Xe,Nt);return function it(w,m){const v=m?.persistence||[],I=(Array.isArray(v)?v:[v]).map(ye);m?.errorMap&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(I,m?.popupRedirectResolver)}(Kt,v),Kt})(I,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,I)=>{m.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new Ie.wA("auth-internal",m=>{const v=Kn(m.getProvider("auth").getImmediate());return new df(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(Sc,"0.20.7",function $g(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,be.registerVersion)(Sc,"0.20.7","esm2017")}("Browser");class fa extends Zn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(m)),super.onEvent(m)}initialized(){var m=this;return(0,u.Z)(function*(){yield m.initPromise})()}}function bp(w){return xc.apply(this,arguments)}function xc(){return(xc=(0,u.Z)(function*(w){const m=yield ch()._get(bd(w));return m&&(yield ch()._remove(bd(w))),m})).apply(this,arguments)}function pf(){const w=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const I=Math.floor(Math.random()*m.length);w.push(m.charAt(I))}return w.join("")}function ch(){return ye(Sa)}function bd(w){return qi("authEvent",w.config.apiKey,w.name)}function Nc(w){if(!w?.includes("?"))return{};const[m,...v]=w.split("?");return(0,W.zd)(v.join("?"))}function wo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ke("no-auth-event")}}function Dd(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function Dp(w=(0,W.z$)()){return!("file:"!==Dd()&&"ionic:"!==Dd()&&"capacitor:"!==Dd()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function qu(){try{const w=self.localStorage,m=xa();if(w)return w.setItem(m,"1"),w.removeItem(m),!function Cd(w=(0,W.z$)()){return function Wu(){return(0,W.w1)()&&11===document?.documentMode}()||function zu(w=(0,W.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,W.hl)()}catch{return Id()&&(0,W.hl)()}return!1}function Id(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mc(){return(function Hg(){return"http:"===Dd()||"https:"===Dd()}()||(0,W.ru)()||Dp())&&!function Cp(){return(0,W.b$)()||(0,W.UG)()}()&&qu()&&!Id()}function gf(){return Dp()&&typeof document<"u"}function Td(){return(Td=(0,u.Z)(function*(){return!!gf()&&new Promise(w=>{const m=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),w(!0)})})})).apply(this,arguments)}const eo={LOCAL:"local",NONE:"none",SESSION:"session"},fh=Q,Ed="persistence";function Rc(w){return ph.apply(this,arguments)}function ph(){return(ph=(0,u.Z)(function*(w){yield w._initializationPromise;const m=Go(),v=qi(Ed,w.config.apiKey,w.name);m&&m.setItem(v,w._getPersistence())})).apply(this,arguments)}function Go(){var w;try{return(null===(w=function hh(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const Yl=Q;class ks{constructor(){this.browserResolver=ye(class Gu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=Ht,this._overrideRedirectResult=Ks}_openPopup(m,v,I,M){var V=this;return(0,u.Z)(function*(){var le;ae(null===(le=V.eventManagers[m._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Te=Bo(m,v,I,Je(),M);return function ka(w,m,v,I=500,M=600){const V=Math.max((window.screen.availHeight-M)/2,0).toString(),le=Math.max((window.screen.availWidth-I)/2,0).toString();let Te="";const Xe=Object.assign(Object.assign({},da),{width:I.toString(),height:M.toString(),top:V,left:le}),Nt=(0,W.z$)().toLowerCase();v&&(Te=us(Nt)?"_blank":v),ai(Nt)&&(m=m||"http://localhost",Xe.scrollbars="yes");const Kt=Object.entries(Xe).reduce((Br,[to,La])=>`${Br}${to}=${La},`,"");if(function ds(w=(0,W.z$)()){var m;return $n(w)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Nt)&&"_self"!==Te)return function uf(w,m){const v=document.createElement("a");v.href=w,v.target=m;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(m||"",Te),new Ic(null);const $t=window.open(m||"",Te,Kt);Q($t,w,"popup-blocked");try{$t.focus()}catch{}return new Ic($t)}(m,Te,xa())})()}_openRedirect(m,v,I,M){var V=this;return(0,u.Z)(function*(){return yield V._originValidation(m),function Mr(w){xi().location.href=w}(Bo(m,v,I,Je(),M)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:M,promise:V}=this.eventManagers[v];return M?Promise.resolve(M):(ae(V,"If manager is not set, promise should be"),V)}const I=this.initAndGetManager(m);return this.eventManagers[v]={promise:I},I.catch(()=>{delete this.eventManagers[v]}),I}initAndGetManager(m){var v=this;return(0,u.Z)(function*(){const I=yield function ir(w){return ki.apply(this,arguments)}(m),M=new Zn(m);return I.register("authEvent",V=>(Q(V?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:M},v.iframes[m._key()]=I,M})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Tc,{type:Tc},M=>{var V;const le=null===(V=M?.[0])||void 0===V?void 0:V[Tc];void 0!==le&&v(!!le),He(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function pl(w){return lf.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return co()||Di()||$n()}}),this.cordovaResolver=ye(class wd{constructor(){this._redirectPersistence=Os,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ht,this._overrideRedirectResult=Ks}_initialize(m){var v=this;return(0,u.Z)(function*(){const I=m._key();let M=v.eventManagers.get(I);return M||(M=new fa(m),v.eventManagers.set(I,M),v.attachCallbackListeners(m,M)),M})()}_openPopup(m){He(m,"operation-not-supported-in-this-environment")}_openRedirect(m,v,I,M){var V=this;return(0,u.Z)(function*(){!function oh(w){var m,v,I,M,V,le,Te,Xe,Nt,Kt;const $t=Ni();Q("function"==typeof(null===(m=$t?.universalLinks)||void 0===m?void 0:m.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(v=$t?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(V=null===(M=null===(I=$t?.cordova)||void 0===I?void 0:I.plugins)||void 0===M?void 0:M.browsertab)||void 0===V?void 0:V.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Xe=null===(Te=null===(le=$t?.cordova)||void 0===le?void 0:le.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===Xe?void 0:Xe.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Kt=null===(Nt=$t?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===Kt?void 0:Kt.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const le=yield V._initialize(m);yield le.initialized(),le.resetRedirect(),function Ps(){Pi.clear()}(),yield V._originValidation(m);const Te=function lh(w,m,v=null){return{type:m,eventId:v,urlResponse:null,sessionId:pf(),postBody:null,tenantId:w.tenantId,error:ke(w,"no-auth-event")}}(m,I,M);yield function ql(w,m){return ch()._set(bd(w),m)}(m,Te);const Xe=yield function yp(w,m,v){return hf.apply(this,arguments)}(m,Te,v),Nt=yield function Uo(w){const{cordova:m}=Ni();return new Promise(v=>{m.plugins.browsertab.isAvailable(I=>{let M=null;I?m.plugins.browsertab.openUrl(w):M=m.InAppBrowser.open(w,function cs(w=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),v(M)})})}(Xe);return function Hu(w,m,v){return zl.apply(this,arguments)}(m,le,Nt)})()}_isIframeWebStorageSupported(m,v){throw new Error("Method not implemented.")}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Js(w){return Xs.apply(this,arguments)}(m)),this.originValidationPromises[v]}attachCallbackListeners(m,v){const{universalLinks:I,handleOpenURL:M,BuildInfo:V}=Ni(),le=setTimeout((0,u.Z)(function*(){yield bp(m),v.onEvent(wo())}),500),Te=function(){var Kt=(0,u.Z)(function*($t){clearTimeout(le);const Br=yield bp(m);let to=null;Br&&$t?.url&&(to=function uh(w,m){var v,I;const M=function Ac(w){const m=Nc(w),v=m.link?decodeURIComponent(m.link):void 0,I=Nc(v).link,M=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Nc(M).link||M||I||v||w}(m);if(M.includes("/__/auth/callback")){const V=Nc(M),le=V.firebaseError?function dh(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(V.firebaseError)):null,Te=null===(I=null===(v=le?.code)||void 0===v?void 0:v.split("auth/"))||void 0===I?void 0:I[1],Xe=Te?ke(Te):null;return Xe?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:M,postBody:null}}return null}(Br,$t.url)),v.onEvent(to||wo())});return function(Br){return Kt.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,Te);const Xe=M,Nt=`${V.packageName.toLowerCase()}://`;Ni().handleOpenURL=function(){var Kt=(0,u.Z)(function*($t){if($t.toLowerCase().startsWith(Nt)&&Te({url:$t}),"function"==typeof Xe)try{Xe($t)}catch(Br){console.error(Br)}});return function($t){return Kt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Os,this._completeRedirectFn=Ht,this._overrideRedirectResult=Ks}_initialize(m){var v=this;return(0,u.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,v,I,M){var V=this;return(0,u.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openPopup(m,v,I,M)})()}_openRedirect(m,v,I,M){var V=this;return(0,u.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openRedirect(m,v,I,M)})()}_isIframeWebStorageSupported(m,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,v)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return gf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,u.Z)(function*(){if(m.underlyingResolver)return;const v=yield function mf(){return Td.apply(this,arguments)}();m.underlyingResolver=v?m.cordovaResolver:m.browserResolver})()}}function Zu(w){return w.unwrap()}function Pc(w){return Do(w)}function Do(w){const{_tokenResponse:m}=w instanceof W.ZR?w.customData:w;if(!m)return null;if(!(w instanceof W.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return bc.credentialFromResult(w);const v=m.providerId;if(!v||"password"===v)return null;let I;switch(v){case"google.com":I=Xn;break;case"facebook.com":I=Jn;break;case"github.com":I=ed;break;case"twitter.com":I=xs;break;default:const{oauthIdToken:M,oauthAccessToken:V,oauthTokenSecret:le,pendingToken:Te,nonce:Xe}=m;return V||le||M||Te?Te?v.startsWith("saml.")?mr._create(v,Te):Ye._fromParams({providerId:v,signInMethod:v,pendingToken:Te,idToken:M,accessToken:V}):new Ka(v).credential({idToken:M,accessToken:V,rawNonce:Xe}):null}return w instanceof W.ZR?I.credentialFromError(w):I.credentialFromResult(w)}function Fr(w,m){return m.catch(v=>{throw v instanceof W.ZR&&function Ql(w,m){var v,I;const M=null===(v=m.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===(null===(I=m)||void 0===I?void 0:I.code))m.resolver=new Fc(w,function Xi(w,m){var v;const I=(0,W.m9)(w),M=m;return Q(m.customData.operationType,I,"argument-error"),Q(null===(v=M.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),rl._fromError(I,M)}(w,m));else if(M){const V=Do(m),le=m;V&&(le.credential=V,le.tenantId=M.tenantId||void 0,le.email=M.email||void 0,le.phoneNumber=M.phoneNumber||void 0)}}(w,v),v}).then(v=>{const M=v.user;return{operationType:v.operationType,credential:Pc(v),additionalUserInfo:de(v),user:Ir.getOrCreate(M)}})}function Jl(w,m){return kc.apply(this,arguments)}function kc(){return(kc=(0,u.Z)(function*(w,m){const v=yield m;return{verificationId:v.verificationId,confirm:I=>Fr(w,v.confirm(I))}})).apply(this,arguments)}class Fc{constructor(m,v){this.resolver=v,this.auth=function Kl(w){return w.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Fr(Zu(this.auth),this.resolver.resolveSignIn(m))}}class Ir{constructor(m){this._delegate=m,this.multiFactor=function ol(w){const m=(0,W.m9)(w);return Ll.has(m)||Ll.set(m,ti._fromUser(m)),Ll.get(m)}(m)}static getOrCreate(m){return Ir.USER_MAP.has(m)||Ir.USER_MAP.set(m,new Ir(m)),Ir.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var v=this;return(0,u.Z)(function*(){return Fr(v.auth,Ol(v._delegate,m))})()}linkWithPhoneNumber(m,v){var I=this;return(0,u.Z)(function*(){return Jl(I.auth,function qr(w,m,v){return or.apply(this,arguments)}(I._delegate,m,v))})()}linkWithPopup(m){var v=this;return(0,u.Z)(function*(){return Fr(v.auth,function af(w,m,v){return Bu.apply(this,arguments)}(v._delegate,m,ks))})()}linkWithRedirect(m){var v=this;return(0,u.Z)(function*(){return yield Rc(Kn(v.auth)),function he(w,m,v){return function Ee(w,m,v){return We.apply(this,arguments)}(w,m,v)}(v._delegate,m,ks)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var v=this;return(0,u.Z)(function*(){return Fr(v.auth,go(v._delegate,m))})()}reauthenticateWithPhoneNumber(m,v){return Jl(this.auth,function ar(w,m,v){return ri.apply(this,arguments)}(this._delegate,m,v))}reauthenticateWithPopup(m){return Fr(this.auth,function hp(w,m,v){return _d.apply(this,arguments)}(this._delegate,m,ks))}reauthenticateWithRedirect(m){var v=this;return(0,u.Z)(function*(){return yield Rc(Kn(v.auth)),function N(w,m,v){return function F(w,m,v){return q.apply(this,arguments)}(w,m,v)}(v._delegate,m,ks)})()}sendEmailVerification(m){return function Ta(w,m){return Iu.apply(this,arguments)}(this._delegate,m)}unlink(m){var v=this;return(0,u.Z)(function*(){return yield function rs(w,m){return gu.apply(this,arguments)}(v._delegate,m),v})()}updateEmail(m){return function Kd(w,m){return Zs((0,W.m9)(w),m,null)}(this._delegate,m)}updatePassword(m){return function il(w,m){return Zs((0,W.m9)(w),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function hd(w,m){return fd.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function kl(w,m){return od.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,v){return function sd(w,m,v){return Pl.apply(this,arguments)}(this._delegate,m,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ir.USER_MAP=new WeakMap;const Gt=Q;let gh=(()=>{class w{constructor(v,I){if(this.app=v,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=v.options;Gt(M,"invalid-api-key",{appName:v.name}),Gt(M,"invalid-api-key",{appName:v.name});const V=typeof window<"u"?ks:void 0;this._delegate=I.initialize({options:{persistence:Yu(M,v.name),popupRedirectResolver:V}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ir.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,I){!function Eo(w,m,v){const I=Kn(w);Q(I._canInitEmulator,I,"emulator-config-failed"),Q(/^https?:\/\//.test(m),I,"invalid-emulator-scheme");const M=!!v?.disableWarnings,V=Ws(m),{host:le,port:Te}=function Ci(w){const m=Ws(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(I);if(M){const V=M[1];return{host:V,port:Ts(I.substr(V.length+1))}}{const[V,le]=I.split(":");return{host:V,port:Ts(le)}}}(m);I.config.emulator={url:`${V}//${le}${null===Te?"":`:${Te}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:le,port:Te,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Yi(){function w(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,v,I)}applyActionCode(v){return function gs(w,m){return nl.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Rl(this._delegate,v)}confirmPasswordReset(v,I){return function vu(w,m,v){return tl.apply(this,arguments)}(this._delegate,v,I)}createUserWithEmailAndPassword(v,I){var M=this;return(0,u.Z)(function*(){return Fr(M._delegate,function bu(w,m,v){return Gi.apply(this,arguments)}(M._delegate,v,I))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function fc(w,m){return Cu.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Oo(w,m){return"EMAIL_SIGNIN"===Al.parseLink(m)?.operation}(0,v)}getRedirectResult(){var v=this;return(0,u.Z)(function*(){Gt(Mc(),v._delegate,"operation-not-supported-in-this-environment");const I=yield function nt(w,m){return Vt.apply(this,arguments)}(v._delegate,ks);return I?Fr(v._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function wp(w,m){Kn(w)._logFramework(m)}(this._delegate,v)}onAuthStateChanged(v,I,M){const{next:V,error:le,complete:Te}=_f(v,I,M);return this._delegate.onAuthStateChanged(V,le,Te)}onIdTokenChanged(v,I,M){const{next:V,error:le,complete:Te}=_f(v,I,M);return this._delegate.onIdTokenChanged(V,le,Te)}sendSignInLinkToEmail(v,I){return function wu(w,m,v){return _o.apply(this,arguments)}(this._delegate,v,I)}sendPasswordResetEmail(v,I){return function ra(w,m,v){return Ji.apply(this,arguments)}(this._delegate,v,I||void 0)}setPersistence(v){var I=this;return(0,u.Z)(function*(){let M;switch(function Sd(w,m){fh(Object.values(eo).includes(m),w,"invalid-persistence-type"),(0,W.b$)()?fh(m!==eo.SESSION,w,"unsupported-persistence-type"):(0,W.UG)()?fh(m===eo.NONE,w,"unsupported-persistence-type"):Id()?fh(m===eo.NONE||m===eo.LOCAL&&(0,W.hl)(),w,"unsupported-persistence-type"):fh(m===eo.NONE||qu(),w,"unsupported-persistence-type")}(I._delegate,v),v){case eo.SESSION:M=Os;break;case eo.LOCAL:M=(yield ye(ko)._isAvailable())?ko:Sa;break;case eo.NONE:M=Fn;break;default:return He("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Fr(this._delegate,function pu(w){return $i.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Fr(this._delegate,ei(this._delegate,v))}signInWithCustomToken(v){return Fr(this._delegate,function nd(w,m){return _u.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,I){return Fr(this._delegate,function Hi(w,m,v){return ei((0,W.m9)(w),xo.credential(m,v))}(this._delegate,v,I))}signInWithEmailLink(v,I){return Fr(this._delegate,function rf(w,m,v){return Du.apply(this,arguments)}(this._delegate,v,I))}signInWithPhoneNumber(v,I){return Jl(this._delegate,function sf(w,m,v){return Ms.apply(this,arguments)}(this._delegate,v,I))}signInWithPopup(v){var I=this;return(0,u.Z)(function*(){return Gt(Mc(),I._delegate,"operation-not-supported-in-this-environment"),Fr(I._delegate,function md(w,m,v){return Lu.apply(this,arguments)}(I._delegate,v,ks))})()}signInWithRedirect(v){var I=this;return(0,u.Z)(function*(){return Gt(Mc(),I._delegate,"operation-not-supported-in-this-environment"),yield Rc(I._delegate),function nr(w,m,v){return function eh(w,m,v){return S.apply(this,arguments)}(w,m,v)}(I._delegate,v,ks)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function yu(w,m){return hc.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=eo,w})();function _f(w,m,v){let I=w;"function"!=typeof w&&({next:I,error:m,complete:v}=w);const M=I;return{next:le=>M(le&&Ir.getOrCreate(le)),error:m,complete:v}}function Yu(w,m){const v=function Zl(w,m){const v=Go();if(!v)return[];const I=qi(Ed,w,m);switch(v.getItem(I)){case eo.NONE:return[Fn];case eo.LOCAL:return[ko,Os];case eo.SESSION:return[Os];default:return[]}}(w,m);if(typeof self<"u"&&!v.includes(ko)&&v.push(ko),typeof window<"u")for(const I of[Sa,Os])v.includes(I)||v.push(I);return v.includes(Fn)||v.push(Fn),v}class mh{constructor(){this.providerId="phone",this._delegate=new bc(Zu(k.Z.auth()))}static credential(m,v){return bc.credential(m,v)}verifyPhoneNumber(m,v){return this._delegate.verifyPhoneNumber(m,v)}unwrap(){return this._delegate}}mh.PHONE_SIGN_IN_METHOD=bc.PHONE_SIGN_IN_METHOD,mh.PROVIDER_ID=bc.PROVIDER_ID;const Lc=Q;class Ku{constructor(m,v,I=k.Z.app()){var M;Lc(null===(M=I.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Rr(m,v,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xd(w){w.INTERNAL.registerComponent(new Ie.wA("auth-compat",m=>{const v=m.getProvider("app-compat").getImmediate(),I=m.getProvider("auth");return new gh(v,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:xo,FacebookAuthProvider:Jn,GithubAuthProvider:ed,GoogleAuthProvider:Xn,OAuthProvider:Ka,SAMLAuthProvider:zs,PhoneAuthProvider:mh,PhoneMultiFactorGenerator:Ec,RecaptchaVerifier:Ku,TwitterAuthProvider:xs,Auth:gh,AuthCredential:Mi,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.20")}(k.Z)},5386:(At,Ge,j)=>{var u;!function(k,W,be,ge){"use strict";var ht,Ce=["","webkit","Moz","MS","ms","o"],Ie=W.createElement("div"),Ae=Math.round,J=Math.abs,X=Date.now;function ce(B,$,ee){return setTimeout(St(B,ee),$)}function tt(B,$,ee){return!!Array.isArray(B)&&(Ue(B,ee[$],ee),!0)}function Ue(B,$,ee){var we;if(B)if(B.forEach)B.forEach($,ee);else if(B.length!==ge)for(we=0;we<B.length;)$.call(ee,B[we],we,B),we++;else for(we in B)B.hasOwnProperty(we)&&$.call(ee,B[we],we,B)}function Le(B,$,ee){var we="DEPRECATED METHOD: "+$+"\n"+ee+" AT \n";return function(){var Ye=new Error("get-stack-trace"),Et=Ye&&Ye.stack?Ye.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",an=k.console&&(k.console.warn||k.console.log);return an&&an.call(k.console,we,Et),B.apply(this,arguments)}}ht="function"!=typeof Object.assign?function($){if($===ge||null===$)throw new TypeError("Cannot convert undefined or null to object");for(var ee=Object($),we=1;we<arguments.length;we++){var Ye=arguments[we];if(Ye!==ge&&null!==Ye)for(var Et in Ye)Ye.hasOwnProperty(Et)&&(ee[Et]=Ye[Et])}return ee}:Object.assign;var Oe=Le(function($,ee,we){for(var Ye=Object.keys(ee),Et=0;Et<Ye.length;)(!we||we&&$[Ye[Et]]===ge)&&($[Ye[Et]]=ee[Ye[Et]]),Et++;return $},"extend","Use `assign`."),Me=Le(function($,ee){return Oe($,ee,!0)},"merge","Use `assign`.");function at(B,$,ee){var Ye,we=$.prototype;(Ye=B.prototype=Object.create(we)).constructor=B,Ye._super=we,ee&&ht(Ye,ee)}function St(B,$){return function(){return B.apply($,arguments)}}function He(B,$){return"function"==typeof B?B.apply($&&$[0]||ge,$):B}function ke(B,$){return B===ge?$:B}function Fe(B,$,ee){Ue(Re($),function(we){B.addEventListener(we,ee,!1)})}function st(B,$,ee){Ue(Re($),function(we){B.removeEventListener(we,ee,!1)})}function ft(B,$){for(;B;){if(B==$)return!0;B=B.parentNode}return!1}function Q(B,$){return B.indexOf($)>-1}function Re(B){return B.trim().split(/\s+/g)}function ae(B,$,ee){if(B.indexOf&&!ee)return B.indexOf($);for(var we=0;we<B.length;){if(ee&&B[we][ee]==$||!ee&&B[we]===$)return we;we++}return-1}function pe(B){return Array.prototype.slice.call(B,0)}function ye(B,$,ee){for(var we=[],Ye=[],Et=0;Et<B.length;){var an=$?B[Et][$]:B[Et];ae(Ye,an)<0&&we.push(B[Et]),Ye[Et]=an,Et++}return ee&&(we=$?we.sort(function(ui,Wr){return ui[$]>Wr[$]}):we.sort()),we}function ve(B,$){for(var ee,we,Ye=$[0].toUpperCase()+$.slice(1),Et=0;Et<Ce.length;){if((we=(ee=Ce[Et])?ee+Ye:$)in B)return we;Et++}return ge}var it=1;function Mt(B){var $=B.ownerDocument||B;return $.defaultView||$.parentWindow||k}var cn="ontouchstart"in k,pt=ve(k,"PointerEvent")!==ge,Yn=cn&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),di="touch",pn="mouse",Hr=["x","y"],Cn=["clientX","clientY"];function ni(B,$){var ee=this;this.manager=B,this.callback=$,this.element=B.element,this.target=B.options.inputTarget,this.domHandler=function(we){He(B.options.enable,[B])&&ee.handler(we)},this.init()}function Fi(B,$,ee){var we=ee.pointers.length,Ye=ee.changedPointers.length,Et=1&$&&we-Ye==0,an=12&$&&we-Ye==0;ee.isFirst=!!Et,ee.isFinal=!!an,Et&&(B.session={}),ee.eventType=$,function wi(B,$){var ee=B.session,we=$.pointers,Ye=we.length;ee.firstInput||(ee.firstInput=Ot($)),Ye>1&&!ee.firstMultiple?ee.firstMultiple=Ot($):1===Ye&&(ee.firstMultiple=!1);var Et=ee.firstInput,an=ee.firstMultiple,Ri=an?an.center:Et.center,ui=$.center=Un(we);$.timeStamp=X(),$.deltaTime=$.timeStamp-Et.timeStamp,$.angle=jt(Ri,ui),$.distance=zi(Ri,ui),function fi(B,$){var ee=$.center,we=B.offsetDelta||{},Ye=B.prevDelta||{},Et=B.prevInput||{};(1===$.eventType||4===Et.eventType)&&(Ye=B.prevDelta={x:Et.deltaX||0,y:Et.deltaY||0},we=B.offsetDelta={x:ee.x,y:ee.y}),$.deltaX=Ye.x+(ee.x-we.x),$.deltaY=Ye.y+(ee.y-we.y)}(ee,$),$.offsetDirection=Bi($.deltaX,$.deltaY);var Wr=Li($.deltaTime,$.deltaX,$.deltaY);$.overallVelocityX=Wr.x,$.overallVelocityY=Wr.y,$.overallVelocity=J(Wr.x)>J(Wr.y)?Wr.x:Wr.y,$.scale=an?function Sn(B,$){return zi($[0],$[1],Cn)/zi(B[0],B[1],Cn)}(an.pointers,we):1,$.rotation=an?function Is(B,$){return jt($[1],$[0],Cn)+jt(B[1],B[0],Cn)}(an.pointers,we):0,$.maxPointers=ee.prevInput?$.pointers.length>ee.prevInput.maxPointers?$.pointers.length:ee.prevInput.maxPointers:$.pointers.length,function Ft(B,$){var Ye,Et,an,Ri,ee=B.lastInterval||$,we=$.timeStamp-ee.timeStamp;if(8!=$.eventType&&(we>25||ee.velocity===ge)){var ui=$.deltaX-ee.deltaX,Wr=$.deltaY-ee.deltaY,Ss=Li(we,ui,Wr);Et=Ss.x,an=Ss.y,Ye=J(Ss.x)>J(Ss.y)?Ss.x:Ss.y,Ri=Bi(ui,Wr),B.lastInterval=$}else Ye=ee.velocity,Et=ee.velocityX,an=ee.velocityY,Ri=ee.direction;$.velocity=Ye,$.velocityX=Et,$.velocityY=an,$.direction=Ri}(ee,$);var Ss=B.element;ft($.srcEvent.target,Ss)&&(Ss=$.srcEvent.target),$.target=Ss}(B,ee),B.emit("hammer.input",ee),B.recognize(ee),B.session.prevInput=ee}function Ot(B){for(var $=[],ee=0;ee<B.pointers.length;)$[ee]={clientX:Ae(B.pointers[ee].clientX),clientY:Ae(B.pointers[ee].clientY)},ee++;return{timeStamp:X(),pointers:$,center:Un($),deltaX:B.deltaX,deltaY:B.deltaY}}function Un(B){var $=B.length;if(1===$)return{x:Ae(B[0].clientX),y:Ae(B[0].clientY)};for(var ee=0,we=0,Ye=0;Ye<$;)ee+=B[Ye].clientX,we+=B[Ye].clientY,Ye++;return{x:Ae(ee/$),y:Ae(we/$)}}function Li(B,$,ee){return{x:$/B||0,y:ee/B||0}}function Bi(B,$){return B===$?1:J(B)>=J($)?B<0?2:4:$<0?8:16}function zi(B,$,ee){ee||(ee=Hr);var we=$[ee[0]]-B[ee[0]],Ye=$[ee[1]]-B[ee[1]];return Math.sqrt(we*we+Ye*Ye)}function jt(B,$,ee){return ee||(ee=Hr),180*Math.atan2($[ee[1]]-B[ee[1]],$[ee[0]]-B[ee[0]])/Math.PI}ni.prototype={handler:function(){},init:function(){this.evEl&&Fe(this.element,this.evEl,this.domHandler),this.evTarget&&Fe(this.target,this.evTarget,this.domHandler),this.evWin&&Fe(Mt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&st(this.element,this.evEl,this.domHandler),this.evTarget&&st(this.target,this.evTarget,this.domHandler),this.evWin&&st(Mt(this.element),this.evWin,this.domHandler)}};var ns={mousedown:1,mousemove:2,mouseup:4},In="mousedown",oe="mousemove mouseup";function te(){this.evEl=In,this.evWin=oe,this.pressed=!1,ni.apply(this,arguments)}at(te,ni,{handler:function($){var ee=ns[$.type];1&ee&&0===$.button&&(this.pressed=!0),2&ee&&1!==$.which&&(ee=4),this.pressed&&(4&ee&&(this.pressed=!1),this.callback(this.manager,ee,{pointers:[$],changedPointers:[$],pointerType:pn,srcEvent:$}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:di,3:"pen",4:pn,5:"kinect"},ie="pointerdown",ze="pointermove pointerup pointercancel";function ct(){this.evEl=ie,this.evWin=ze,ni.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}k.MSPointerEvent&&!k.PointerEvent&&(ie="MSPointerDown",ze="MSPointerMove MSPointerUp MSPointerCancel"),at(ct,ni,{handler:function($){var ee=this.store,we=!1,Ye=$.type.toLowerCase().replace("ms",""),Et=K[Ye],an=ne[$.pointerType]||$.pointerType,Ri=an==di,ui=ae(ee,$.pointerId,"pointerId");1&Et&&(0===$.button||Ri)?ui<0&&(ee.push($),ui=ee.length-1):12&Et&&(we=!0),!(ui<0)&&(ee[ui]=$,this.callback(this.manager,Et,{pointers:ee,changedPointers:[$],pointerType:an,srcEvent:$}),we&&ee.splice(ui,1))}});var kt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},oi="touchstart",Fn="touchstart touchmove touchend touchcancel";function qi(){this.evTarget=oi,this.evWin=Fn,this.started=!1,ni.apply(this,arguments)}function mn(B,$){var ee=pe(B.touches),we=pe(B.changedTouches);return 12&$&&(ee=ye(ee.concat(we),"identifier",!0)),[ee,we]}at(qi,ni,{handler:function($){var ee=kt[$.type];if(1===ee&&(this.started=!0),this.started){var we=mn.call(this,$,ee);12&ee&&we[0].length-we[1].length==0&&(this.started=!1),this.callback(this.manager,ee,{pointers:we[0],changedPointers:we[1],pointerType:di,srcEvent:$})}}});var on={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ai="touchstart touchmove touchend touchcancel";function Di(){this.evTarget=ai,this.targetIds={},ni.apply(this,arguments)}function us(B,$){var ee=pe(B.touches),we=this.targetIds;if(3&$&&1===ee.length)return we[ee[0].identifier]=!0,[ee,ee];var Ye,Et,an=pe(B.changedTouches),Ri=[],ui=this.target;if(Et=ee.filter(function(Wr){return ft(Wr.target,ui)}),1===$)for(Ye=0;Ye<Et.length;)we[Et[Ye].identifier]=!0,Ye++;for(Ye=0;Ye<an.length;)we[an[Ye].identifier]&&Ri.push(an[Ye]),12&$&&delete we[an[Ye].identifier],Ye++;return Ri.length?[ye(Et.concat(Ri),"identifier",!0),Ri]:void 0}function mt(){ni.apply(this,arguments);var B=St(this.handler,this);this.touch=new Di(this.manager,B),this.mouse=new te(this.manager,B),this.primaryTouch=null,this.lastTouches=[]}function Wt(B,$){1&B?(this.primaryTouch=$.changedPointers[0].identifier,$n.call(this,$)):12&B&&$n.call(this,$)}function $n(B){var $=B.changedPointers[0];if($.identifier===this.primaryTouch){var ee={x:$.clientX,y:$.clientY};this.lastTouches.push(ee);var we=this.lastTouches;setTimeout(function(){var Et=we.indexOf(ee);Et>-1&&we.splice(Et,1)},2500)}}function cs(B){for(var $=B.srcEvent.clientX,ee=B.srcEvent.clientY,we=0;we<this.lastTouches.length;we++){var Ye=this.lastTouches[we],Et=Math.abs($-Ye.x),an=Math.abs(ee-Ye.y);if(Et<=25&&an<=25)return!0}return!1}at(Di,ni,{handler:function($){var ee=on[$.type],we=us.call(this,$,ee);!we||this.callback(this.manager,ee,{pointers:we[0],changedPointers:we[1],pointerType:di,srcEvent:$})}}),at(mt,ni,{handler:function($,ee,we){var Et=we.pointerType==pn;if(!(Et&&we.sourceCapabilities&&we.sourceCapabilities.firesTouchEvents)){if(we.pointerType==di)Wt.call(this,ee,we);else if(Et&&cs.call(this,we))return;this.callback($,ee,we)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ds=ve(Ie.style,"touchAction"),Zi=ds!==ge,co="compute",Hs="manipulation",hs="none",tn="pan-x",Kn="pan-y",js=function Ci(){if(!Zi)return!1;var B={},$=k.CSS&&k.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ee){B[ee]=!$||k.CSS.supports("touch-action",ee)}),B}();function Eo(B,$){this.manager=B,this.set($)}function Es(B){this.options=ht({},this.defaults,B||{}),this.id=function Je(){return it++}(),this.manager=null,this.options.enable=ke(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function So(B){return 16&B?"cancel":8&B?"end":4&B?"move":2&B?"start":""}function Ca(B){return 16==B?"down":8==B?"up":2==B?"left":4==B?"right":""}function wr(B,$){var ee=$.manager;return ee?ee.get(B):B}function Ki(){Es.apply(this,arguments)}function Or(){Ki.apply(this,arguments),this.pX=null,this.pY=null}function Gn(){Ki.apply(this,arguments)}function Za(){Es.apply(this,arguments),this._timer=null,this._input=null}function Ui(){Ki.apply(this,arguments)}function Qi(){Ki.apply(this,arguments)}function ho(){Es.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ps(B,$){return($=$||{}).recognizers=ke($.recognizers,ps.defaults.preset),new Ya(B,$)}function Ya(B,$){this.options=ht({},ps.defaults,$||{}),this.options.inputTarget=this.options.inputTarget||B,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=B,this.input=function Nr(B){return new(B.options.inputClass||(pt?ct:Yn?Di:cn?mt:te))(B,Fi)}(this),this.touchAction=new Eo(this,this.options.touchAction),hu(this,!0),Ue(this.options.recognizers,function(ee){var we=this.add(new ee[0](ee[1]));ee[2]&&we.recognizeWith(ee[2]),ee[3]&&we.requireFailure(ee[3])},this)}function hu(B,$){var we,ee=B.element;ee.style&&(Ue(B.options.cssProps,function(Ye,Et){we=ve(ee.style,Et),$?(B.oldCssProps[we]=ee.style[we],ee.style[we]=Ye):ee.style[we]=B.oldCssProps[we]||""}),$||(B.oldCssProps={}))}Eo.prototype={set:function(B){B==co&&(B=this.compute()),Zi&&this.manager.element.style&&js[B]&&(this.manager.element.style[ds]=B),this.actions=B.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var B=[];return Ue(this.manager.recognizers,function($){He($.options.enable,[$])&&(B=B.concat($.getTouchAction()))}),function Ws(B){if(Q(B,hs))return hs;var $=Q(B,tn),ee=Q(B,Kn);return $&&ee?hs:$||ee?$?tn:Kn:Q(B,Hs)?Hs:"auto"}(B.join(" "))},preventDefaults:function(B){var $=B.srcEvent,ee=B.offsetDirection;if(!this.manager.session.prevented){var we=this.actions,Ye=Q(we,hs)&&!js[hs],Et=Q(we,Kn)&&!js[Kn],an=Q(we,tn)&&!js[tn];if(Ye&&1===B.pointers.length&&B.distance<2&&B.deltaTime<250)return;return an&&Et||!(Ye||Et&&6&ee||an&&24&ee)?void 0:this.preventSrc($)}$.preventDefault()},preventSrc:function(B){this.manager.session.prevented=!0,B.preventDefault()}},Es.prototype={defaults:{},set:function(B){return ht(this.options,B),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(B){if(tt(B,"recognizeWith",this))return this;var $=this.simultaneous;return $[(B=wr(B,this)).id]||($[B.id]=B,B.recognizeWith(this)),this},dropRecognizeWith:function(B){return tt(B,"dropRecognizeWith",this)||(B=wr(B,this),delete this.simultaneous[B.id]),this},requireFailure:function(B){if(tt(B,"requireFailure",this))return this;var $=this.requireFail;return-1===ae($,B=wr(B,this))&&($.push(B),B.requireFailure(this)),this},dropRequireFailure:function(B){if(tt(B,"dropRequireFailure",this))return this;B=wr(B,this);var $=ae(this.requireFail,B);return $>-1&&this.requireFail.splice($,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(B){return!!this.simultaneous[B.id]},emit:function(B){var $=this,ee=this.state;function we(Ye){$.manager.emit(Ye,B)}ee<8&&we($.options.event+So(ee)),we($.options.event),B.additionalEvent&&we(B.additionalEvent),ee>=8&&we($.options.event+So(ee))},tryEmit:function(B){if(this.canEmit())return this.emit(B);this.state=32},canEmit:function(){for(var B=0;B<this.requireFail.length;){if(!(33&this.requireFail[B].state))return!1;B++}return!0},recognize:function(B){var $=ht({},B);if(!He(this.options.enable,[this,$]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process($),30&this.state&&this.tryEmit($)},process:function(B){},getTouchAction:function(){},reset:function(){}},at(Ki,Es,{defaults:{pointers:1},attrTest:function(B){var $=this.options.pointers;return 0===$||B.pointers.length===$},process:function(B){var $=this.state,ee=B.eventType,we=6&$,Ye=this.attrTest(B);return we&&(8&ee||!Ye)?16|$:we||Ye?4&ee?8|$:2&$?4|$:2:32}}),at(Or,Ki,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var B=this.options.direction,$=[];return 6&B&&$.push(Kn),24&B&&$.push(tn),$},directionTest:function(B){var $=this.options,ee=!0,we=B.distance,Ye=B.direction,Et=B.deltaX,an=B.deltaY;return Ye&$.direction||(6&$.direction?(Ye=0===Et?1:Et<0?2:4,ee=Et!=this.pX,we=Math.abs(B.deltaX)):(Ye=0===an?1:an<0?8:16,ee=an!=this.pY,we=Math.abs(B.deltaY))),B.direction=Ye,ee&&we>$.threshold&&Ye&$.direction},attrTest:function(B){return Ki.prototype.attrTest.call(this,B)&&(2&this.state||!(2&this.state)&&this.directionTest(B))},emit:function(B){this.pX=B.deltaX,this.pY=B.deltaY;var $=Ca(B.direction);$&&(B.additionalEvent=this.options.event+$),this._super.emit.call(this,B)}}),at(Gn,Ki,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[hs]},attrTest:function(B){return this._super.attrTest.call(this,B)&&(Math.abs(B.scale-1)>this.options.threshold||2&this.state)},emit:function(B){1!==B.scale&&(B.additionalEvent=this.options.event+(B.scale<1?"in":"out")),this._super.emit.call(this,B)}}),at(Za,Es,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(B){var $=this.options,ee=B.pointers.length===$.pointers,we=B.distance<$.threshold,Ye=B.deltaTime>$.time;if(this._input=B,!we||!ee||12&B.eventType&&!Ye)this.reset();else if(1&B.eventType)this.reset(),this._timer=ce(function(){this.state=8,this.tryEmit()},$.time,this);else if(4&B.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(B){8===this.state&&(B&&4&B.eventType?this.manager.emit(this.options.event+"up",B):(this._input.timeStamp=X(),this.manager.emit(this.options.event,this._input)))}}),at(Ui,Ki,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[hs]},attrTest:function(B){return this._super.attrTest.call(this,B)&&(Math.abs(B.rotation)>this.options.threshold||2&this.state)}}),at(Qi,Ki,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Or.prototype.getTouchAction.call(this)},attrTest:function(B){var ee,$=this.options.direction;return 30&$?ee=B.overallVelocity:6&$?ee=B.overallVelocityX:24&$&&(ee=B.overallVelocityY),this._super.attrTest.call(this,B)&&$&B.offsetDirection&&B.distance>this.options.threshold&&B.maxPointers==this.options.pointers&&J(ee)>this.options.velocity&&4&B.eventType},emit:function(B){var $=Ca(B.offsetDirection);$&&this.manager.emit(this.options.event+$,B),this.manager.emit(this.options.event,B)}}),at(ho,Es,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Hs]},process:function(B){var $=this.options,ee=B.pointers.length===$.pointers,we=B.distance<$.threshold,Ye=B.deltaTime<$.time;if(this.reset(),1&B.eventType&&0===this.count)return this.failTimeout();if(we&&Ye&&ee){if(4!=B.eventType)return this.failTimeout();var Et=!this.pTime||B.timeStamp-this.pTime<$.interval,an=!this.pCenter||zi(this.pCenter,B.center)<$.posThreshold;if(this.pTime=B.timeStamp,this.pCenter=B.center,an&&Et?this.count+=1:this.count=1,this._input=B,0==this.count%$.taps)return this.hasRequireFailures()?(this._timer=ce(function(){this.state=8,this.tryEmit()},$.interval,this),2):8}return 32},failTimeout:function(){return this._timer=ce(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ps.VERSION="2.0.7",ps.defaults={domEvents:!1,touchAction:co,enable:!0,inputTarget:null,inputClass:null,preset:[[Ui,{enable:!1}],[Gn,{enable:!1},["rotate"]],[Qi,{direction:6}],[Or,{direction:6},["swipe"]],[ho],[ho,{event:"doubletap",taps:2},["tap"]],[Za]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ya.prototype={set:function(B){return ht(this.options,B),B.touchAction&&this.touchAction.update(),B.inputTarget&&(this.input.destroy(),this.input.target=B.inputTarget,this.input.init()),this},stop:function(B){this.session.stopped=B?2:1},recognize:function(B){var $=this.session;if(!$.stopped){this.touchAction.preventDefaults(B);var ee,we=this.recognizers,Ye=$.curRecognizer;(!Ye||Ye&&8&Ye.state)&&(Ye=$.curRecognizer=null);for(var Et=0;Et<we.length;)ee=we[Et],2===$.stopped||Ye&&ee!=Ye&&!ee.canRecognizeWith(Ye)?ee.reset():ee.recognize(B),!Ye&&14&ee.state&&(Ye=$.curRecognizer=ee),Et++}},get:function(B){if(B instanceof Es)return B;for(var $=this.recognizers,ee=0;ee<$.length;ee++)if($[ee].options.event==B)return $[ee];return null},add:function(B){if(tt(B,"add",this))return this;var $=this.get(B.options.event);return $&&this.remove($),this.recognizers.push(B),B.manager=this,this.touchAction.update(),B},remove:function(B){if(tt(B,"remove",this))return this;if(B=this.get(B)){var $=this.recognizers,ee=ae($,B);-1!==ee&&($.splice(ee,1),this.touchAction.update())}return this},on:function(B,$){if(B!==ge&&$!==ge){var ee=this.handlers;return Ue(Re(B),function(we){ee[we]=ee[we]||[],ee[we].push($)}),this}},off:function(B,$){if(B!==ge){var ee=this.handlers;return Ue(Re(B),function(we){$?ee[we]&&ee[we].splice(ae(ee[we],$),1):delete ee[we]}),this}},emit:function(B,$){this.options.domEvents&&function dc(B,$){var ee=W.createEvent("Event");ee.initEvent(B,!0,!0),ee.gesture=$,$.target.dispatchEvent(ee)}(B,$);var ee=this.handlers[B]&&this.handlers[B].slice();if(ee&&ee.length){$.type=B,$.preventDefault=function(){$.srcEvent.preventDefault()};for(var we=0;we<ee.length;)ee[we]($),we++}},destroy:function(){this.element&&hu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ht(ps,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ya,Input:ni,TouchAction:Eo,TouchInput:Di,MouseInput:te,PointerEventInput:ct,TouchMouseInput:mt,SingleTouchInput:qi,Recognizer:Es,AttrRecognizer:Ki,Tap:ho,Pan:Or,Swipe:Qi,Pinch:Gn,Rotate:Ui,Press:Za,on:Fe,off:st,each:Ue,merge:Me,extend:Oe,assign:ht,inherit:at,bindFn:St,prefixed:ve}),(typeof k<"u"?k:typeof self<"u"?self:{}).Hammer=ps,(u=function(){return ps}.call(Ge,j,Ge,At))!==ge&&(At.exports=u)}(window,document)},7489:function(At,Ge,j){var u;At=j.nmd(At),function(){var k,Ce="Expected a function",Ne="__lodash_hash_undefined__",J="__lodash_placeholder__",Je=1/0,Mt=9007199254740991,pt=4294967295,Vn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],pn="[object Arguments]",pr="[object Array]",Qt="[object Boolean]",xr="[object Date]",kn="[object Error]",Wi="[object Function]",ts="[object GeneratorFunction]",hi="[object Map]",Oi="[object Number]",vi="[object Object]",yt="[object Promise]",Hr="[object RegExp]",Cn="[object Set]",ni="[object String]",Nr="[object Symbol]",wi="[object WeakMap]",Ft="[object ArrayBuffer]",Ot="[object DataView]",Un="[object Float32Array]",Li="[object Float64Array]",Bi="[object Int8Array]",zi="[object Int16Array]",jt="[object Int32Array]",Is="[object Uint8Array]",Sn="[object Uint8ClampedArray]",ns="[object Uint16Array]",In="[object Uint32Array]",oe=/\b__p \+= '';/g,te=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ne=/&(?:amp|lt|gt|quot|#39);/g,ie=/[&<>"']/g,ze=RegExp(ne.source),ct=RegExp(ie.source),kt=/<%-([\s\S]+?)%>/g,oi=/<%([\s\S]+?)%>/g,Fn=/<%=([\s\S]+?)%>/g,qi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mn=/^\w*$/,on=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ai=/[\\^$.*+?()[\]{}|]/g,Di=RegExp(ai.source),us=/^\s+/,jr=/\s/,Vi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mt=/\{\n\/\* \[wrapped with (.+)\] \*/,Wt=/,? & /,$n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cs=/[()=,{}\[\]\/\s]/,ds=/\\(\\)?/g,Zi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,co=/\w*$/,li=/^[-+]0x[0-9a-f]+$/i,Hs=/^0b[01]+$/i,hs=/^\[object .+?Constructor\]$/,tn=/^0o[0-7]+$/i,Kn=/^(?:0|[1-9]\d*)$/,js=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Eo=/($^)/,Ws=/['\n\r\u2028\u2029\\]/g,Ci="\\ud800-\\udfff",Qn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",is="\\u2700-\\u27bf",xn="a-z\\xdf-\\xf6\\xf8-\\xff",wr="A-Z\\xc0-\\xd6\\xd8-\\xde",Ki="\\ufe0e\\ufe0f",Or="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Za="["+Ci+"]",Ui="["+Or+"]",Qi="["+Qn+"]",ho="\\d+",ps="["+is+"]",xl="["+xn+"]",gr="[^"+Ci+Or+ho+is+xn+wr+"]",Ya="\\ud83c[\\udffb-\\udfff]",dc="[^"+Ci+"]",fo="(?:\\ud83c[\\udde6-\\uddff]){2}",B="[\\ud800-\\udbff][\\udc00-\\udfff]",$="["+wr+"]",we="(?:"+xl+"|"+gr+")",Ye="(?:"+$+"|"+gr+")",Et="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",an="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ri="(?:"+Qi+"|"+Ya+")?",ui="["+Ki+"]?",ef=ui+Ri+"(?:\\u200d(?:"+[dc,fo,B].join("|")+")"+ui+Ri+")*",zd="(?:"+[ps,fo,B].join("|")+")"+ef,Ia="(?:"+[dc+Qi+"?",Qi,fo,B,Za].join("|")+")",qd=RegExp("['\u2019]","g"),Zd=RegExp(Qi,"g"),Al=RegExp(Ya+"(?="+Ya+")|"+Ia+ef,"g"),tf=RegExp([$+"?"+xl+"+"+Et+"(?="+[Ui,$,"$"].join("|")+")",Ye+"+"+an+"(?="+[Ui,$+we,"$"].join("|")+")",$+"?"+we+"+"+Et,$+"+"+an,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ho,zd].join("|"),"g"),xo=RegExp("[\\u200d"+Ci+Qn+Ki+"]"),Ao=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,na=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ka=-1,Jn={};Jn[Un]=Jn[Li]=Jn[Bi]=Jn[zi]=Jn[jt]=Jn[Is]=Jn[Sn]=Jn[ns]=Jn[In]=!0,Jn[pn]=Jn[pr]=Jn[Ft]=Jn[Qt]=Jn[Ot]=Jn[xr]=Jn[kn]=Jn[Wi]=Jn[hi]=Jn[Oi]=Jn[vi]=Jn[Hr]=Jn[Cn]=Jn[ni]=Jn[wi]=!1;var Xn={};Xn[pn]=Xn[pr]=Xn[Ft]=Xn[Ot]=Xn[Qt]=Xn[xr]=Xn[Un]=Xn[Li]=Xn[Bi]=Xn[zi]=Xn[jt]=Xn[hi]=Xn[Oi]=Xn[vi]=Xn[Hr]=Xn[Cn]=Xn[ni]=Xn[Nr]=Xn[Is]=Xn[Sn]=Xn[ns]=Xn[In]=!0,Xn[kn]=Xn[Wi]=Xn[wi]=!1;var ia={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zs=parseFloat,xs=parseInt,Qa="object"==typeof global&&global&&global.Object===Object&&global,fu="object"==typeof self&&self&&self.Object===Object&&self,Hn=Qa||fu||Function("return this")(),Yd=Ge&&!Ge.nodeType&&Ge,pu=Yd&&At&&!At.nodeType&&At,$i=pu&&pu.exports===Yd,Nl=$i&&Qa.process,qs=function(){try{return pu&&pu.require&&pu.require("util").types||Nl&&Nl.binding&&Nl.binding("util")}catch{}}(),As=qs&&qs.isArrayBuffer,rs=qs&&qs.isDate,gu=qs&&qs.isMap,Ja=qs&&qs.isRegExp,No=qs&&qs.isSet,An=qs&&qs.isTypedArray;function zr(de,Ve,Se){switch(Se.length){case 0:return de.call(Ve);case 1:return de.call(Ve,Se[0]);case 2:return de.call(Ve,Se[0],Se[1]);case 3:return de.call(Ve,Se[0],Se[1],Se[2])}return de.apply(Ve,Se)}function Xa(de,Ve,Se,Ct){for(var Yt=-1,jn=null==de?0:de.length;++Yt<jn;){var Ei=de[Yt];Ve(Ct,Ei,Se(Ei),de)}return Ct}function ss(de,Ve){for(var Se=-1,Ct=null==de?0:de.length;++Se<Ct&&!1!==Ve(de[Se],Se,de););return de}function po(de,Ve){for(var Se=null==de?0:de.length;Se--&&!1!==Ve(de[Se],Se,de););return de}function mu(de,Ve){for(var Se=-1,Ct=null==de?0:de.length;++Se<Ct;)if(!Ve(de[Se],Se,de))return!1;return!0}function ei(de,Ve){for(var Se=-1,Ct=null==de?0:de.length,Yt=0,jn=[];++Se<Ct;){var Ei=de[Se];Ve(Ei,Se,de)&&(jn[Yt++]=Ei)}return jn}function Zt(de,Ve){return!(null==de||!de.length)&&ra(de,Ve,0)>-1}function Ol(de,Ve,Se){for(var Ct=-1,Yt=null==de?0:de.length;++Ct<Yt;)if(Se(Ve,de[Ct]))return!0;return!1}function Ii(de,Ve){for(var Se=-1,Ct=null==de?0:de.length,Yt=Array(Ct);++Se<Ct;)Yt[Se]=Ve(de[Se],Se,de);return Yt}function go(de,Ve){for(var Se=-1,Ct=Ve.length,Yt=de.length;++Se<Ct;)de[Yt+Se]=Ve[Se];return de}function Ml(de,Ve,Se,Ct){var Yt=-1,jn=null==de?0:de.length;for(Ct&&jn&&(Se=de[++Yt]);++Yt<jn;)Se=Ve(Se,de[Yt],Yt,de);return Se}function td(de,Ve,Se,Ct){var Yt=null==de?0:de.length;for(Ct&&Yt&&(Se=de[--Yt]);Yt--;)Se=Ve(Se,de[Yt],Yt,de);return Se}function mo(de,Ve){for(var Se=-1,Ct=null==de?0:de.length;++Se<Ct;)if(Ve(de[Se],Se,de))return!0;return!1}var nd=gs("length");function _n(de,Ve,Se){var Ct;return Se(de,function(Yt,jn,Ei){if(Ve(Yt,jn,Ei))return Ct=jn,!1}),Ct}function el(de,Ve,Se,Ct){for(var Yt=de.length,jn=Se+(Ct?1:-1);Ct?jn--:++jn<Yt;)if(Ve(de[jn],jn,de))return jn;return-1}function ra(de,Ve,Se){return Ve==Ve?function Kd(de,Ve,Se){for(var Ct=Se-1,Yt=de.length;++Ct<Yt;)if(de[Ct]===Ve)return Ct;return-1}(de,Ve,Se):el(de,vu,Se)}function Ji(de,Ve,Se,Ct){for(var Yt=Se-1,jn=de.length;++Yt<jn;)if(Ct(de[Yt],Ve))return Yt;return-1}function vu(de){return de!=de}function tl(de,Ve){var Se=null==de?0:de.length;return Se?yu(de,Ve)/Se:NaN}function gs(de){return function(Ve){return null==Ve?k:Ve[de]}}function nl(de){return function(Ve){return null==de?k:de[Ve]}}function Rl(de,Ve,Se,Ct,Yt){return Yt(de,function(jn,Ei,ii){Se=Ct?(Ct=!1,jn):Ve(Se,jn,Ei,ii)}),Se}function yu(de,Ve){for(var Se,Ct=-1,Yt=de.length;++Ct<Yt;){var jn=Ve(de[Ct]);jn!==k&&(Se=Se===k?jn:Se+jn)}return Se}function hc(de,Ve){for(var Se=-1,Ct=Array(de);++Se<de;)Ct[Se]=Ve(Se);return Ct}function Gi(de){return de&&de.slice(0,_r(de)+1).replace(us,"")}function Hi(de){return function(Ve){return de(Ve)}}function wu(de,Ve){return Ii(Ve,function(Se){return de[Se]})}function _o(de,Ve){return de.has(Ve)}function Oo(de,Ve){for(var Se=-1,Ct=de.length;++Se<Ct&&ra(Ve,de[Se],0)>-1;);return Se}function rf(de,Ve){for(var Se=de.length;Se--&&ra(Ve,de[Se],0)>-1;);return Se}function Du(de,Ve){for(var Se=de.length,Ct=0;Se--;)de[Se]===Ve&&++Ct;return Ct}var cp=nl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),rd=nl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function fc(de){return"\\"+ia[de]}function Ta(de){return xo.test(de)}function Pl(de){var Ve=-1,Se=Array(de.size);return de.forEach(function(Ct,Yt){Se[++Ve]=[Yt,Ct]}),Se}function Tu(de,Ve){return function(Se){return de(Ve(Se))}}function Mo(de,Ve){for(var Se=-1,Ct=de.length,Yt=0,jn=[];++Se<Ct;){var Ei=de[Se];(Ei===Ve||Ei===J)&&(de[Se]=J,jn[Yt++]=Se)}return jn}function kl(de){var Ve=-1,Se=Array(de.size);return de.forEach(function(Ct){Se[++Ve]=Ct}),Se}function Zs(de){return Ta(de)?function Ti(de){for(var Ve=Al.lastIndex=0;Al.test(de);)++Ve;return Ve}(de):nd(de)}function ms(de){return Ta(de)?function ad(de){return de.match(Al)||[]}(de):function _u(de){return de.split("")}(de)}function _r(de){for(var Ve=de.length;Ve--&&jr.test(de.charAt(Ve)););return Ve}var Ns=nl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Fl=function de(Ve){var d,Se=(Ve=null==Ve?Hn:Fl.defaults(Hn.Object(),Ve,Fl.pick(Hn,na))).Array,Ct=Ve.Date,Yt=Ve.Error,jn=Ve.Function,Ei=Ve.Math,ii=Ve.Object,Ro=Ve.RegExp,Ea=Ve.String,Dr=Ve.TypeError,rl=Se.prototype,sa=ii.prototype,sl=Ve["__core-js_shared__"],Eu=jn.prototype.toString,ti=sa.hasOwnProperty,Ll=0,ol=(d=/[^.]+$/.exec(sl&&sl.keys&&sl.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",Po=sa.toString,pc=Eu.call(ii),Su=Hn._,Jd=Ro("^"+Eu.call(ti).replace(ai,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xu=$i?Ve.Buffer:k,Si=Ve.Symbol,Sa=Ve.Uint8Array,Bl=xu?xu.allocUnsafe:k,Os=Tu(ii.getPrototypeOf,ii),Vl=ii.create,ud=sa.propertyIsEnumerable,xa=rl.splice,gc=Si?Si.isConcatSpreadable:k,xi=Si?Si.iterator:k,Mr=Si?Si.toStringTag:k,al=function(){try{var d=Yu(ii,"defineProperty");return d({},"",{}),d}catch{}}(),ll=Ve.clearTimeout!==Hn.clearTimeout&&Ve.clearTimeout,Au=Ct&&Ct.now!==Hn.Date.now&&Ct.now,mc=Ve.setTimeout!==Hn.setTimeout&&Ve.setTimeout,ul=Ei.ceil,vo=Ei.floor,_c=ii.getOwnPropertySymbols,Aa=xu?xu.isBuffer:k,vc=Ve.isFinite,cl=rl.join,Nu=Tu(ii.keys,ii),sr=Ei.max,er=Ei.min,oa=Ct.now,cd=Ve.parseInt,Ou=Ei.random,Mu=rl.reverse,aa=Yu(Ve,"DataView"),dl=Yu(Ve,"Map"),yo=Yu(Ve,"Promise"),la=Yu(Ve,"Set"),ko=Yu(Ve,"WeakMap"),Fo=Yu(ii,"create"),hl=ko&&new ko,Cr={},Na=Vc(aa),Ul=Vc(dl),$l=Vc(yo),yc=Vc(la),Gl=Vc(ko),Lo=Si?Si.prototype:k,ua=Lo?Lo.valueOf:k,pi=Lo?Lo.toString:k;function U(d){if(Tr(d)&&!gn(d)&&!(d instanceof wn)){if(d instanceof Ys)return d;if(ti.call(d,"__wrapped__"))return Nd(d)}return new Ys(d)}var Ru=function(){function d(){}return function(p){if(!yr(p))return{};if(Vl)return Vl(p);d.prototype=p;var b=new d;return d.prototype=k,b}}();function Hl(){}function Ys(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=k}function wn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pt,this.__views__=[]}function jl(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var x=d[p];this.set(x[0],x[1])}}function Ms(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var x=d[p];this.set(x[0],x[1])}}function It(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var x=d[p];this.set(x[0],x[1])}}function tr(d){var p=-1,b=null==d?0:d.length;for(this.__data__=new It;++p<b;)this.add(d[p])}function _s(d){var p=this.__data__=new Ms(d);this.size=p.size}function _d(d,p){var b=gn(d),x=!b&&Ju(d),P=!b&&!x&&Xu(d),G=!b&&!x&&!P&&io(d),Y=b||x||P||G,re=Y?hc(d.length,Ea):[],fe=re.length;for(var je in d)(p||ti.call(d,je))&&(!Y||!("length"==je||P&&("offset"==je||"parent"==je)||G&&("buffer"==je||"byteLength"==je||"byteOffset"==je)||Te(je,fe)))&&re.push(je);return re}function af(d){var p=d.length;return p?d[Tc(0,p-1)]:k}function Bu(d,p){return Sp(Ln(d),Ks(p,0,d.length))}function Vu(d){return Sp(Ln(d))}function Ai(d,p,b){(b!==k&&!ys(d[p],b)||b===k&&!(p in d))&&Pr(d,p,b)}function Pi(d,p,b){var x=d[p];(!ti.call(d,p)||!ys(x,b)||b===k&&!(p in d))&&Pr(d,p,b)}function Rs(d,p){for(var b=d.length;b--;)if(ys(d[b][0],p))return b;return-1}function Wn(d,p,b,x){return N(d,function(P,G,Y){p(x,P,b(P),Y)}),x}function bt(d,p){return d&&wo(p,ro(p),d)}function Pr(d,p,b){"__proto__"==p&&al?al(d,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):d[p]=b}function Ps(d,p){for(var b=-1,x=p.length,P=Se(x),G=null==d;++b<x;)P[b]=G?k:lb(d,p[b]);return P}function Ks(d,p,b){return d==d&&(b!==k&&(d=d<=b?d:b),p!==k&&(d=d>=p?d:p)),d}function vr(d,p,b,x,P,G){var Y,re=1&p,fe=2&p,je=4&p;if(b&&(Y=P?b(d,x,P,G):b(d)),Y!==k)return Y;if(!yr(d))return d;var qe=gn(d);if(qe){if(Y=function v(d){var p=d.length,b=new d.constructor(p);return p&&"string"==typeof d[0]&&ti.call(d,"index")&&(b.index=d.index,b.input=d.input),b}(d),!re)return Ln(d,Y)}else{var Qe=Lr(d),_t=Qe==Wi||Qe==ts;if(Xu(d))return xc(d,re);if(Qe==vi||Qe==pn||_t&&!P){if(Y=fe||_t?{}:I(d),!re)return fe?function os(d,p){return wo(d,Ku(d),p)}(d,function lr(d,p){return d&&wo(p,Ga(p),d)}(Y,d)):function wp(d,p){return wo(d,Lc(d),p)}(d,bt(Y,d))}else{if(!Xn[Qe])return P?d:{};Y=function M(d,p,b){var x=d.constructor;switch(p){case Ft:return uh(d);case Qt:case xr:return new x(+d);case Ot:return function pf(d,p){var b=p?uh(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.byteLength)}(d,b);case Un:case Li:case Bi:case zi:case jt:case Is:case Sn:case ns:case In:return dh(d,b);case hi:return new x;case Oi:case ni:return new x(d);case Hr:return function ch(d){var p=new d.constructor(d.source,co.exec(d));return p.lastIndex=d.lastIndex,p}(d);case Cn:return new x;case Nr:return function bd(d){return ua?ii(ua.call(d)):{}}(d)}}(d,Qe,re)}}G||(G=new _s);var Lt=G.get(d);if(Lt)return Lt;G.set(d,Y),pm(d)?d.forEach(function(Jt){Y.add(vr(Jt,p,b,Jt,d,G))}):mv(d)&&d.forEach(function(Jt,sn){Y.set(sn,vr(Jt,p,b,sn,d,G))});var hn=qe?k:(je?fe?Jl:Fr:fe?Ga:ro)(d);return ss(hn||d,function(Jt,sn){hn&&(Jt=d[sn=Jt]),Pi(Y,sn,vr(Jt,p,b,sn,d,G))}),Y}function nr(d,p,b){var x=b.length;if(null==d)return!x;for(d=ii(d);x--;){var P=b[x],Y=d[P];if(Y===k&&!(P in d)||!(0,p[P])(Y))return!1}return!0}function eh(d,p,b){if("function"!=typeof d)throw new Dr(Ce);return Ad(function(){d.apply(k,b)},p)}function S(d,p,b,x){var P=-1,G=Zt,Y=!0,re=d.length,fe=[],je=p.length;if(!re)return fe;b&&(p=Ii(p,Hi(b))),x?(G=Ol,Y=!1):p.length>=200&&(G=_o,Y=!1,p=new tr(p));e:for(;++P<re;){var qe=d[P],Qe=null==b?qe:b(qe);if(qe=x||0!==qe?qe:0,Y&&Qe==Qe){for(var _t=je;_t--;)if(p[_t]===Qe)continue e;fe.push(qe)}else G(p,Qe,x)||fe.push(qe)}return fe}U.templateSettings={escape:kt,evaluate:oi,interpolate:Fn,variable:"",imports:{_:U}},(U.prototype=Hl.prototype).constructor=U,(Ys.prototype=Ru(Hl.prototype)).constructor=Ys,(wn.prototype=Ru(Hl.prototype)).constructor=wn,jl.prototype.clear=function dp(){this.__data__=Fo?Fo(null):{},this.size=0},jl.prototype.delete=function Rr(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p},jl.prototype.get=function dd(d){var p=this.__data__;if(Fo){var b=p[d];return b===Ne?k:b}return ti.call(p,d)?p[d]:k},jl.prototype.has=function zn(d){var p=this.__data__;return Fo?p[d]!==k:ti.call(p,d)},jl.prototype.set=function sf(d,p){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=Fo&&p===k?Ne:p,this},Ms.prototype.clear=function qr(){this.__data__=[],this.size=0},Ms.prototype.delete=function or(d){var p=this.__data__,b=Rs(p,d);return!(b<0||(b==p.length-1?p.pop():xa.call(p,b,1),--this.size,0))},Ms.prototype.get=function ar(d){var p=this.__data__,b=Rs(p,d);return b<0?k:p[b][1]},Ms.prototype.has=function ri(d){return Rs(this.__data__,d)>-1},Ms.prototype.set=function qn(d,p){var b=this.__data__,x=Rs(b,d);return x<0?(++this.size,b.push([d,p])):b[x][1]=p,this},It.prototype.clear=function hd(){this.size=0,this.__data__={hash:new jl,map:new(dl||Ms),string:new jl}},It.prototype.delete=function fd(d){var p=gh(this,d).delete(d);return this.size-=p?1:0,p},It.prototype.get=function bc(d){return gh(this,d).get(d)},It.prototype.has=function fl(d){return gh(this,d).has(d)},It.prototype.set=function pd(d,p){var b=gh(this,d),x=b.size;return b.set(d,p),this.size+=b.size==x?0:1,this},tr.prototype.add=tr.prototype.push=function ku(d){return this.__data__.set(d,Ne),this},tr.prototype.has=function Oa(d){return this.__data__.has(d)},_s.prototype.clear=function Fu(){this.__data__=new Ms,this.size=0},_s.prototype.delete=function gd(d){var p=this.__data__,b=p.delete(d);return this.size=p.size,b},_s.prototype.get=function md(d){return this.__data__.get(d)},_s.prototype.has=function Lu(d){return this.__data__.has(d)},_s.prototype.set=function hp(d,p){var b=this.__data__;if(b instanceof Ms){var x=b.__data__;if(!dl||x.length<199)return x.push([d,p]),this.size=++b.size,this;b=this.__data__=new It(x)}return b.set(d,p),this.size=b.size,this};var N=Dd(qt),F=Dd(Ut,!0);function q(d,p){var b=!0;return N(d,function(x,P,G){return b=!!p(x,P,G)}),b}function he(d,p,b){for(var x=-1,P=d.length;++x<P;){var G=d[x],Y=p(G);if(null!=Y&&(re===k?Y==Y&&!no(Y):b(Y,re)))var re=Y,fe=G}return fe}function We(d,p){var b=[];return N(d,function(x,P,G){p(x,P,G)&&b.push(x)}),b}function nt(d,p,b,x,P){var G=-1,Y=d.length;for(b||(b=le),P||(P=[]);++G<Y;){var re=d[G];p>0&&b(re)?p>1?nt(re,p-1,b,x,P):go(P,re):x||(P[P.length]=re)}return P}var Vt=Hg(),Ht=Hg(!0);function qt(d,p){return d&&Vt(d,p,ro)}function Ut(d,p){return d&&Ht(d,p,ro)}function gi(d,p){return ei(p,function(b){return iu(d[b])})}function ji(d,p){for(var b=0,x=(p=fa(p,d)).length;null!=d&&b<x;)d=d[Ba(p[b++])];return b&&b==x?d:k}function Zn(d,p,b){var x=p(d);return gn(d)?x:go(x,b(d))}function ur(d){return null==d?d===k?"[object Undefined]":"[object Null]":Mr&&Mr in ii(d)?function mh(d){var p=ti.call(d,Mr),b=d[Mr];try{d[Mr]=k;var x=!0}catch{}var P=Po.call(d);return x&&(p?d[Mr]=b:delete d[Mr]),P}(d):function Xl(d){return Po.call(d)}(d)}function ca(d,p){return d>p}function Wl(d,p){return null!=d&&ti.call(d,p)}function Ma(d,p){return null!=d&&p in ii(d)}function Pa(d,p,b){for(var x=b?Ol:Zt,P=d[0].length,G=d.length,Y=G,re=Se(G),fe=1/0,je=[];Y--;){var qe=d[Y];Y&&p&&(qe=Ii(qe,Hi(p))),fe=er(qe.length,fe),re[Y]=!b&&(p||P>=120&&qe.length>=120)?new tr(Y&&qe):k}qe=d[0];var Qe=-1,_t=re[0];e:for(;++Qe<P&&je.length<fe;){var Lt=qe[Qe],Rt=p?p(Lt):Lt;if(Lt=b||0!==Lt?Lt:0,!(_t?_o(_t,Rt):x(je,Rt,b))){for(Y=G;--Y;){var hn=re[Y];if(!(hn?_o(hn,Rt):x(d[Y],Rt,b)))continue e}_t&&_t.push(Rt),je.push(Lt)}}return je}function pl(d,p,b){var x=null==(d=bh(d,p=fa(p,d)))?d:d[Ba(Ho(p))];return null==x?k:zr(x,d,b)}function lf(d){return Tr(d)&&ur(d)==pn}function Uu(d,p,b,x,P){return d===p||(null==d||null==p||!Tr(d)&&!Tr(p)?d!=d&&p!=p:function $u(d,p,b,x,P,G){var Y=gn(d),re=gn(p),fe=Y?pr:Lr(d),je=re?pr:Lr(p),qe=(fe=fe==pn?vi:fe)==vi,Qe=(je=je==pn?vi:je)==vi,_t=fe==je;if(_t&&Xu(d)){if(!Xu(p))return!1;Y=!0,qe=!1}if(_t&&!qe)return G||(G=new _s),Y||io(d)?Kl(d,p,b,x,P,G):function Pc(d,p,b,x,P,G,Y){switch(b){case Ot:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case Ft:return!(d.byteLength!=p.byteLength||!G(new Sa(d),new Sa(p)));case Qt:case xr:case Oi:return ys(+d,+p);case kn:return d.name==p.name&&d.message==p.message;case Hr:case ni:return d==p+"";case hi:var re=Pl;case Cn:if(re||(re=kl),d.size!=p.size&&!(1&x))return!1;var je=Y.get(d);if(je)return je==p;x|=2,Y.set(d,p);var qe=Kl(re(d),re(p),x,P,G,Y);return Y.delete(d),qe;case Nr:if(ua)return ua.call(d)==ua.call(p)}return!1}(d,p,fe,b,x,P,G);if(!(1&b)){var Lt=qe&&ti.call(d,"__wrapped__"),Rt=Qe&&ti.call(p,"__wrapped__");if(Lt||Rt){var hn=Lt?d.value():d,Jt=Rt?p.value():p;return G||(G=new _s),P(hn,Jt,b,x,G)}}return!!_t&&(G||(G=new _s),function Ql(d,p,b,x,P,G){var Y=1&b,re=Fr(d),fe=re.length;if(fe!=Fr(p).length&&!Y)return!1;for(var Qe=fe;Qe--;){var _t=re[Qe];if(!(Y?_t in p:ti.call(p,_t)))return!1}var Lt=G.get(d),Rt=G.get(p);if(Lt&&Rt)return Lt==p&&Rt==d;var hn=!0;G.set(d,p),G.set(p,d);for(var Jt=Y;++Qe<fe;){var sn=d[_t=re[Qe]],Nn=p[_t];if(x)var rr=Y?x(Nn,sn,_t,p,d,G):x(sn,Nn,_t,d,p,G);if(!(rr===k?sn===Nn||P(sn,Nn,b,x,G):rr)){hn=!1;break}Jt||(Jt="constructor"==_t)}if(hn&&!Jt){var Vr=d.constructor,Er=p.constructor;Vr!=Er&&"constructor"in d&&"constructor"in p&&!("function"==typeof Vr&&Vr instanceof Vr&&"function"==typeof Er&&Er instanceof Er)&&(hn=!1)}return G.delete(d),G.delete(p),hn}(d,p,b,x,P,G))}(d,p,b,x,Uu,P))}function fp(d,p,b,x){var P=b.length,G=P,Y=!x;if(null==d)return!G;for(d=ii(d);P--;){var re=b[P];if(Y&&re[2]?re[1]!==d[re[0]]:!(re[0]in d))return!1}for(;++P<G;){var fe=(re=b[P])[0],je=d[fe],qe=re[1];if(Y&&re[2]){if(je===k&&!(fe in d))return!1}else{var Qe=new _s;if(x)var _t=x(je,qe,fe,d,p,Qe);if(!(_t===k?Uu(qe,je,3,x,Qe):_t))return!1}}return!0}function Cc(d){return!(!yr(d)||function Br(d){return!!ol&&ol in d}(d))&&(iu(d)?Jd:hs).test(Vc(d))}function rh(d){return"function"==typeof d?d:null==d?ma:"object"==typeof d?gn(d)?gp(d[0],d[1]):ha(d):Lm(d)}function cr(d){if(!La(d))return Nu(d);var p=[];for(var b in ii(d))ti.call(d,b)&&"constructor"!=b&&p.push(b);return p}function ki(d,p){return d<p}function da(d,p){var b=-1,x=pa(d)?Se(d.length):[];return N(d,function(P,G,Y){x[++b]=p(P,G,Y)}),x}function ha(d){var p=_f(d);return 1==p.length&&p[0][2]?Bc(p[0][0],p[0][1]):function(b){return b===d||fp(b,d,p)}}function gp(d,p){return Nt(d)&&_h(p)?Bc(Ba(d),p):function(b){var x=lb(b,d);return x===k&&x===p?Cv(b,d):Uu(p,x,3)}}function dr(d,p,b,x,P){d!==p&&Vt(p,function(G,Y){if(P||(P=new _s),yr(G))!function mp(d,p,b,x,P,G,Y){var re=vf(d,b),fe=vf(p,b),je=Y.get(fe);if(je)Ai(d,b,je);else{var qe=G?G(re,fe,b+"",d,p,Y):k,Qe=qe===k;if(Qe){var _t=gn(fe),Lt=!_t&&Xu(fe),Rt=!_t&&!Lt&&io(fe);qe=fe,_t||Lt||Rt?gn(re)?qe=re:Zr(re)?qe=Ln(re):Lt?(Qe=!1,qe=xc(fe,!0)):Rt?(Qe=!1,qe=dh(fe,!0)):qe=[]:Wp(fe)||Ju(fe)?(qe=re,Ju(re)?qe=Rf(re):(!yr(re)||iu(re))&&(qe=I(fe))):Qe=!1}Qe&&(Y.set(fe,qe),P(qe,fe,x,G,Y),Y.delete(fe)),Ai(d,b,qe)}}(d,p,Y,b,dr,x,P);else{var re=x?x(vf(d,Y),G,Y+"",d,p,P):k;re===k&&(re=G),Ai(d,Y,re)}},Ga)}function Ic(d,p){var b=d.length;if(b)return Te(p+=p<0?b:0,b)?d[p]:k}function ka(d,p,b){p=p.length?Ii(p,function(G){return gn(G)?function(Y){return ji(Y,1===G.length?G[0]:G)}:G}):[ma];var x=-1;return p=Ii(p,Hi(Gt())),function id(de,Ve){var Se=de.length;for(de.sort(Ve);Se--;)de[Se]=de[Se].value;return de}(da(d,function(G,Y,re){return{criteria:Ii(p,function(je){return je(G)}),index:++x,value:G}}),function(G,Y){return function Nc(d,p,b){for(var x=-1,P=d.criteria,G=p.criteria,Y=P.length,re=b.length;++x<Y;){var fe=Ac(P[x],G[x]);if(fe)return x>=re?fe:fe*("desc"==b[x]?-1:1)}return d.index-p.index}(G,Y,b)})}function sh(d,p,b){for(var x=-1,P=p.length,G={};++x<P;){var Y=p[x],re=ji(d,Y);b(re,Y)&&Sc(G,fa(Y,d),re)}return G}function Bo(d,p,b,x){var P=x?Ji:ra,G=-1,Y=p.length,re=d;for(d===p&&(p=Ln(p)),b&&(re=Ii(d,Hi(b)));++G<Y;)for(var fe=0,je=p[G],qe=b?b(je):je;(fe=P(re,qe,fe,x))>-1;)re!==d&&xa.call(re,fe,1),xa.call(d,fe,1);return d}function vp(d,p){for(var b=d?p.length:0,x=b-1;b--;){var P=p[b];if(b==x||P!==G){var G=P;Te(P)?xa.call(d,P,1):Uo(d,P)}}return d}function Tc(d,p){return d+vo(Ou()*(p-d+1))}function bo(d,p){var b="";if(!d||p<1||p>Mt)return b;do{p%2&&(b+=d),(p=vo(p/2))&&(d+=d)}while(p);return b}function vn(d,p){return yf(yh(d,p,ma),d+"")}function Vo(d){return af(_l(d))}function Ec(d,p){var b=_l(d);return Sp(b,Ks(p,0,b.length))}function Sc(d,p,b,x){if(!yr(d))return d;for(var P=-1,G=(p=fa(p,d)).length,Y=G-1,re=d;null!=re&&++P<G;){var fe=Ba(p[P]),je=b;if("__proto__"===fe||"constructor"===fe||"prototype"===fe)return d;if(P!=Y){var qe=re[fe];(je=x?x(qe,fe,re):k)===k&&(je=yr(qe)?qe:Te(p[P+1])?[]:{})}Pi(re,fe,je),re=re[fe]}return d}var cf=hl?function(d,p){return hl.set(d,p),d}:ma,df=al?function(d,p){return al(d,"toString",{configurable:!0,enumerable:!1,value:Uv(p),writable:!0})}:ma;function $g(d){return Sp(_l(d))}function kr(d,p,b){var x=-1,P=d.length;p<0&&(p=-p>P?0:P+p),(b=b>P?P:b)<0&&(b+=P),P=p>b?0:b-p>>>0,p>>>=0;for(var G=Se(P);++x<P;)G[x]=d[x+p];return G}function Gg(d,p){var b;return N(d,function(x,P,G){return!(b=p(x,P,G))}),!!b}function Ni(d,p,b){var x=0,P=null==d?x:d.length;if("number"==typeof p&&p==p&&P<=2147483647){for(;x<P;){var G=x+P>>>1,Y=d[G];null!==Y&&!no(Y)&&(b?Y<=p:Y<p)?x=G+1:P=G}return P}return Fa(d,p,ma,b)}function Fa(d,p,b,x){var P=0,G=null==d?0:d.length;if(0===G)return 0;for(var Y=(p=b(p))!=p,re=null===p,fe=no(p),je=p===k;P<G;){var qe=vo((P+G)/2),Qe=b(d[qe]),_t=Qe!==k,Lt=null===Qe,Rt=Qe==Qe,hn=no(Qe);if(Y)var Jt=x||Rt;else Jt=je?Rt&&(x||_t):re?Rt&&_t&&(x||!Lt):fe?Rt&&_t&&!Lt&&(x||!hn):!Lt&&!hn&&(x?Qe<=p:Qe<p);Jt?P=qe+1:G=qe}return er(G,4294967294)}function yp(d,p){for(var b=-1,x=d.length,P=0,G=[];++b<x;){var Y=d[b],re=p?p(Y):Y;if(!b||!ys(re,fe)){var fe=re;G[P++]=0===Y?0:Y}}return G}function hf(d){return"number"==typeof d?d:no(d)?NaN:+d}function Js(d){if("string"==typeof d)return d;if(gn(d))return Ii(d,Js)+"";if(no(d))return pi?pi.call(d):"";var p=d+"";return"0"==p&&1/d==-Je?"-0":p}function Xs(d,p,b){var x=-1,P=Zt,G=d.length,Y=!0,re=[],fe=re;if(b)Y=!1,P=Ol;else if(G>=200){var je=p?null:ph(d);if(je)return kl(je);Y=!1,P=_o,fe=new tr}else fe=p?[]:re;e:for(;++x<G;){var qe=d[x],Qe=p?p(qe):qe;if(qe=b||0!==qe?qe:0,Y&&Qe==Qe){for(var _t=fe.length;_t--;)if(fe[_t]===Qe)continue e;p&&fe.push(Qe),re.push(qe)}else P(fe,Qe,b)||(fe!==re&&fe.push(Qe),re.push(qe))}return re}function Uo(d,p){return null==(d=bh(d,p=fa(p,d)))||delete d[Ba(Ho(p))]}function Hu(d,p,b,x){return Sc(d,p,b(ji(d,p)),x)}function zl(d,p,b,x){for(var P=d.length,G=x?P:-1;(x?G--:++G<P)&&p(d[G],G,d););return b?kr(d,x?0:G,x?G+1:P):kr(d,x?G+1:0,x?P:G)}function oh(d,p){var b=d;return b instanceof wn&&(b=b.value()),Ml(p,function(x,P){return P.func.apply(P.thisArg,go([x],P.args))},b)}function vd(d,p,b){var x=d.length;if(x<2)return x?Xs(d[0]):[];for(var P=-1,G=Se(x);++P<x;)for(var Y=d[P],re=-1;++re<x;)re!=P&&(G[P]=S(G[P]||Y,d[re],p,b));return Xs(nt(G,1),p,b)}function ah(d,p,b){for(var x=-1,P=d.length,G=p.length,Y={};++x<P;)b(Y,d[x],x<G?p[x]:k);return Y}function yd(d){return Zr(d)?d:[]}function ff(d){return"function"==typeof d?d:ma}function fa(d,p){return gn(d)?d:Nt(d,p)?[d]:W_(si(d))}var lh=vn;function ql(d,p,b){var x=d.length;return b=b===k?x:b,!p&&b>=x?d:kr(d,p,b)}var bp=ll||function(d){return Hn.clearTimeout(d)};function xc(d,p){if(p)return d.slice();var b=d.length,x=Bl?Bl(b):new d.constructor(b);return d.copy(x),x}function uh(d){var p=new d.constructor(d.byteLength);return new Sa(p).set(new Sa(d)),p}function dh(d,p){var b=p?uh(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.length)}function Ac(d,p){if(d!==p){var b=d!==k,x=null===d,P=d==d,G=no(d),Y=p!==k,re=null===p,fe=p==p,je=no(p);if(!re&&!je&&!G&&d>p||G&&Y&&fe&&!re&&!je||x&&Y&&fe||!b&&fe||!P)return 1;if(!x&&!G&&!je&&d<p||je&&b&&P&&!x&&!G||re&&b&&P||!Y&&P||!fe)return-1}return 0}function Oc(d,p,b,x){for(var P=-1,G=d.length,Y=b.length,re=-1,fe=p.length,je=sr(G-Y,0),qe=Se(fe+je),Qe=!x;++re<fe;)qe[re]=p[re];for(;++P<Y;)(Qe||P<G)&&(qe[b[P]]=d[P]);for(;je--;)qe[re++]=d[P++];return qe}function wd(d,p,b,x){for(var P=-1,G=d.length,Y=-1,re=b.length,fe=-1,je=p.length,qe=sr(G-re,0),Qe=Se(qe+je),_t=!x;++P<qe;)Qe[P]=d[P];for(var Lt=P;++fe<je;)Qe[Lt+fe]=p[fe];for(;++Y<re;)(_t||P<G)&&(Qe[Lt+b[Y]]=d[P++]);return Qe}function Ln(d,p){var b=-1,x=d.length;for(p||(p=Se(x));++b<x;)p[b]=d[b];return p}function wo(d,p,b,x){var P=!b;b||(b={});for(var G=-1,Y=p.length;++G<Y;){var re=p[G],fe=x?x(b[re],d[re],re,b,d):k;fe===k&&(fe=d[re]),P?Pr(b,re,fe):Pi(b,re,fe)}return b}function $o(d,p){return function(b,x){var P=gn(b)?Xa:Wn,G=p?p():{};return P(b,d,Gt(x,2),G)}}function ju(d){return vn(function(p,b){var x=-1,P=b.length,G=P>1?b[P-1]:k,Y=P>2?b[2]:k;for(G=d.length>3&&"function"==typeof G?(P--,G):k,Y&&Xe(b[0],b[1],Y)&&(G=P<3?k:G,P=1),p=ii(p);++x<P;){var re=b[x];re&&d(p,re,x,G)}return p})}function Dd(d,p){return function(b,x){if(null==b)return b;if(!pa(b))return d(b,x);for(var P=b.length,G=p?P:-1,Y=ii(b);(p?G--:++G<P)&&!1!==x(Y[G],G,Y););return b}}function Hg(d){return function(p,b,x){for(var P=-1,G=ii(p),Y=x(p),re=Y.length;re--;){var fe=Y[d?re:++P];if(!1===b(G[fe],fe,G))break}return p}}function Cp(d){return function(p){var b=Ta(p=si(p))?ms(p):k,x=b?b[0]:p.charAt(0),P=b?ql(b,1).join(""):p.slice(1);return x[d]()+P}}function Wu(d){return function(p){return Ml(Mm(Yp(p).replace(qd,"")),d,"")}}function zu(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Ru(d.prototype),x=d.apply(b,p);return yr(x)?x:b}}function qu(d){return function(p,b,x){var P=ii(p);if(!pa(p)){var G=Gt(b,3);p=ro(p),b=function(re){return G(P[re],re,P)}}var Y=d(p,b,x);return Y>-1?P[G?p[Y]:Y]:k}}function Id(d){return Do(function(p){var b=p.length,x=b,P=Ys.prototype.thru;for(d&&p.reverse();x--;){var G=p[x];if("function"!=typeof G)throw new Dr(Ce);if(P&&!Y&&"wrapper"==Fc(G))var Y=new Ys([],!0)}for(x=Y?x:b;++x<b;){var re=Fc(G=p[x]),fe="wrapper"==re?kc(G):k;Y=fe&&$t(fe[0])&&424==fe[1]&&!fe[4].length&&1==fe[9]?Y[Fc(fe[0])].apply(Y,fe[3]):1==G.length&&$t(G)?Y[re]():Y.thru(G)}return function(){var je=arguments,qe=je[0];if(Y&&1==je.length&&gn(qe))return Y.plant(qe).value();for(var Qe=0,_t=b?p[Qe].apply(this,je):qe;++Qe<b;)_t=p[Qe].call(this,_t);return _t}})}function Mc(d,p,b,x,P,G,Y,re,fe,je){var qe=128&p,Qe=1&p,_t=2&p,Lt=24&p,Rt=512&p,hn=_t?k:zu(d);return function Jt(){for(var sn=arguments.length,Nn=Se(sn),rr=sn;rr--;)Nn[rr]=arguments[rr];if(Lt)var Vr=Ir(Jt),Er=Du(Nn,Vr);if(x&&(Nn=Oc(Nn,x,P,Lt)),G&&(Nn=wd(Nn,G,Y,Lt)),sn-=Er,Lt&&sn<je){var yi=Mo(Nn,Vr);return Sd(d,p,Mc,Jt.placeholder,b,Nn,yi,re,fe,je-sn)}var so=Qe?b:this,qo=_t?so[d]:d;return sn=Nn.length,re?Nn=Tp(Nn,re):Rt&&sn>1&&Nn.reverse(),qe&&fe<sn&&(Nn.length=fe),this&&this!==Hn&&this instanceof Jt&&(qo=hn||zu(qo)),qo.apply(so,Nn)}}function gf(d,p){return function(b,x){return function Qs(d,p,b,x){return qt(d,function(P,G,Y){p(x,b(P),G,Y)}),x}(b,d,p(x),{})}}function mf(d,p){return function(b,x){var P;if(b===k&&x===k)return p;if(b!==k&&(P=b),x!==k){if(P===k)return x;"string"==typeof b||"string"==typeof x?(b=Js(b),x=Js(x)):(b=hf(b),x=hf(x)),P=d(b,x)}return P}}function Td(d){return Do(function(p){return p=Ii(p,Hi(Gt())),vn(function(b){var x=this;return d(p,function(P){return zr(P,x,b)})})})}function hh(d,p){var b=(p=p===k?" ":Js(p)).length;if(b<2)return b?bo(p,d):p;var x=bo(p,ul(d/Zs(p)));return Ta(p)?ql(ms(x),0,d).join(""):x.slice(0,d)}function fh(d){return function(p,b,x){return x&&"number"!=typeof x&&Xe(p,b,x)&&(b=x=k),p=ru(p),b===k?(b=p,p=0):b=ru(b),function Gu(d,p,b,x){for(var P=-1,G=sr(ul((p-d)/(b||1)),0),Y=Se(G);G--;)Y[x?G:++P]=d,d+=b;return Y}(p,b,x=x===k?p<b?1:-1:ru(x),d)}}function Ed(d){return function(p,b){return"string"==typeof p&&"string"==typeof b||(p=ml(p),b=ml(b)),d(p,b)}}function Sd(d,p,b,x,P,G,Y,re,fe,je){var qe=8&p;p|=qe?32:64,4&(p&=~(qe?64:32))||(p&=-4);var hn=[d,p,P,qe?G:k,qe?Y:k,qe?k:G,qe?k:Y,re,fe,je],Jt=b.apply(k,hn);return $t(d)&&Ep(Jt,hn),Jt.placeholder=x,jg(Jt,d,p)}function Rc(d){var p=Ei[d];return function(b,x){if(b=ml(b),(x=null==x?0:er(Dn(x),292))&&vc(b)){var P=(si(b)+"e").split("e");return+((P=(si(p(P[0]+"e"+(+P[1]+x)))+"e").split("e"))[0]+"e"+(+P[1]-x))}return p(b)}}var ph=la&&1/kl(new la([,-0]))[1]==Je?function(d){return new la(d)}:Pf;function Zl(d){return function(p){var b=Lr(p);return b==hi?Pl(p):b==Cn?function od(de){var Ve=-1,Se=Array(de.size);return de.forEach(function(Ct){Se[++Ve]=[Ct,Ct]}),Se}(p):function bu(de,Ve){return Ii(Ve,function(Se){return[Se,de[Se]]})}(p,d(p))}}function Go(d,p,b,x,P,G,Y,re){var fe=2&p;if(!fe&&"function"!=typeof d)throw new Dr(Ce);var je=x?x.length:0;if(je||(p&=-97,x=P=k),Y=Y===k?Y:sr(Dn(Y),0),re=re===k?re:Dn(re),je-=P?P.length:0,64&p){var qe=x,Qe=P;x=P=k}var _t=fe?k:kc(d),Lt=[d,p,b,x,P,qe,Qe,G,Y,re];if(_t&&function H_(d,p){var b=d[1],x=p[1],P=b|x;if(!(P<131||(128==x&&8==b||128==x&&256==b&&d[7].length<=p[8]||384==x&&p[7].length<=p[8]&&8==b)))return d;1&x&&(d[2]=p[2],P|=1&b?0:4);var re=p[3];if(re){var fe=d[3];d[3]=fe?Oc(fe,re,p[4]):re,d[4]=fe?Mo(d[3],J):p[4]}(re=p[5])&&(d[5]=(fe=d[5])?wd(fe,re,p[6]):re,d[6]=fe?Mo(d[5],J):p[6]),(re=p[7])&&(d[7]=re),128&x&&(d[8]=null==d[8]?p[8]:er(d[8],p[8])),null==d[9]&&(d[9]=p[9]),d[0]=p[0],d[1]=P}(Lt,_t),d=Lt[0],p=Lt[1],b=Lt[2],x=Lt[3],P=Lt[4],!(re=Lt[9]=Lt[9]===k?fe?0:d.length:sr(Lt[9]-je,0))&&24&p&&(p&=-25),p&&1!=p)Rt=8==p||16==p?function Cd(d,p,b){var x=zu(d);return function P(){for(var G=arguments.length,Y=Se(G),re=G,fe=Ir(P);re--;)Y[re]=arguments[re];var je=G<3&&Y[0]!==fe&&Y[G-1]!==fe?[]:Mo(Y,fe);return(G-=je.length)<b?Sd(d,p,Mc,P.placeholder,k,Y,je,k,k,b-G):zr(this&&this!==Hn&&this instanceof P?x:d,this,Y)}}(d,p,re):32!=p&&33!=p||P.length?Mc.apply(k,Lt):function eo(d,p,b,x){var P=1&p,G=zu(d);return function Y(){for(var re=-1,fe=arguments.length,je=-1,qe=x.length,Qe=Se(qe+fe),_t=this&&this!==Hn&&this instanceof Y?G:d;++je<qe;)Qe[je]=x[je];for(;fe--;)Qe[je++]=arguments[++re];return zr(_t,P?b:this,Qe)}}(d,p,b,x);else var Rt=function Dp(d,p,b){var x=1&p,P=zu(d);return function G(){return(this&&this!==Hn&&this instanceof G?P:d).apply(x?b:this,arguments)}}(d,p,b);return jg((_t?cf:Ep)(Rt,Lt),d,p)}function Yl(d,p,b,x){return d===k||ys(d,sa[b])&&!ti.call(x,b)?p:d}function ks(d,p,b,x,P,G){return yr(d)&&yr(p)&&(G.set(p,d),dr(d,p,k,ks,G),G.delete(p)),d}function Zu(d){return Wp(d)?k:d}function Kl(d,p,b,x,P,G){var Y=1&b,re=d.length,fe=p.length;if(re!=fe&&!(Y&&fe>re))return!1;var je=G.get(d),qe=G.get(p);if(je&&qe)return je==p&&qe==d;var Qe=-1,_t=!0,Lt=2&b?new tr:k;for(G.set(d,p),G.set(p,d);++Qe<re;){var Rt=d[Qe],hn=p[Qe];if(x)var Jt=Y?x(hn,Rt,Qe,p,d,G):x(Rt,hn,Qe,d,p,G);if(Jt!==k){if(Jt)continue;_t=!1;break}if(Lt){if(!mo(p,function(sn,Nn){if(!_o(Lt,Nn)&&(Rt===sn||P(Rt,sn,b,x,G)))return Lt.push(Nn)})){_t=!1;break}}else if(Rt!==hn&&!P(Rt,hn,b,x,G)){_t=!1;break}}return G.delete(d),G.delete(p),_t}function Do(d){return yf(yh(d,k,Yg),d+"")}function Fr(d){return Zn(d,ro,Lc)}function Jl(d){return Zn(d,Ga,Ku)}var kc=hl?function(d){return hl.get(d)}:Pf;function Fc(d){for(var p=d.name+"",b=Cr[p],x=ti.call(Cr,p)?b.length:0;x--;){var P=b[x],G=P.func;if(null==G||G==d)return P.name}return p}function Ir(d){return(ti.call(U,"placeholder")?U:d).placeholder}function Gt(){var d=U.iteratee||$v;return d=d===$v?rh:d,arguments.length?d(arguments[0],arguments[1]):d}function gh(d,p){var b=d.__data__;return function Kt(d){var p=typeof d;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==d:null===d}(p)?b["string"==typeof p?"string":"hash"]:b.map}function _f(d){for(var p=ro(d),b=p.length;b--;){var x=p[b],P=d[x];p[b]=[x,P,_h(P)]}return p}function Yu(d,p){var b=function Cu(de,Ve){return null==de?k:de[Ve]}(d,p);return Cc(b)?b:k}var Lc=_c?function(d){return null==d?[]:(d=ii(d),ei(_c(d),function(p){return ud.call(d,p)}))}:vl,Ku=_c?function(d){for(var p=[];d;)go(p,Lc(d)),d=Os(d);return p}:vl,Lr=ur;function m(d,p,b){for(var x=-1,P=(p=fa(p,d)).length,G=!1;++x<P;){var Y=Ba(p[x]);if(!(G=null!=d&&b(d,Y)))break;d=d[Y]}return G||++x!=P?G:!!(P=null==d?0:d.length)&&Gp(P)&&Te(Y,P)&&(gn(d)||Ju(d))}function I(d){return"function"!=typeof d.constructor||La(d)?{}:Ru(Os(d))}function le(d){return gn(d)||Ju(d)||!!(gc&&d&&d[gc])}function Te(d,p){var b=typeof d;return!!(p=p??Mt)&&("number"==b||"symbol"!=b&&Kn.test(d))&&d>-1&&d%1==0&&d<p}function Xe(d,p,b){if(!yr(b))return!1;var x=typeof p;return!!("number"==x?pa(b)&&Te(p,b.length):"string"==x&&p in b)&&ys(b[p],d)}function Nt(d,p){if(gn(d))return!1;var b=typeof d;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=d&&!no(d))||mn.test(d)||!qi.test(d)||null!=p&&d in ii(p)}function $t(d){var p=Fc(d),b=U[p];if("function"!=typeof b||!(p in wn.prototype))return!1;if(d===b)return!0;var x=kc(b);return!!x&&d===x[0]}(aa&&Lr(new aa(new ArrayBuffer(1)))!=Ot||dl&&Lr(new dl)!=hi||yo&&Lr(yo.resolve())!=yt||la&&Lr(new la)!=Cn||ko&&Lr(new ko)!=wi)&&(Lr=function(d){var p=ur(d),b=p==vi?d.constructor:k,x=b?Vc(b):"";if(x)switch(x){case Na:return Ot;case Ul:return hi;case $l:return yt;case yc:return Cn;case Gl:return wi}return p});var to=sl?iu:kf;function La(d){var p=d&&d.constructor;return d===("function"==typeof p&&p.prototype||sa)}function _h(d){return d==d&&!yr(d)}function Bc(d,p){return function(b){return null!=b&&b[d]===p&&(p!==k||d in ii(b))}}function yh(d,p,b){return p=sr(p===k?d.length-1:p,0),function(){for(var x=arguments,P=-1,G=sr(x.length-p,0),Y=Se(G);++P<G;)Y[P]=x[p+P];P=-1;for(var re=Se(p+1);++P<p;)re[P]=x[P];return re[p]=b(Y),zr(d,this,re)}}function bh(d,p){return p.length<2?d:ji(d,kr(p,0,-1))}function Tp(d,p){for(var b=d.length,x=er(p.length,b),P=Ln(d);x--;){var G=p[x];d[x]=Te(G,b)?P[G]:k}return d}function vf(d,p){if(("constructor"!==p||"function"!=typeof d[p])&&"__proto__"!=p)return d[p]}var Ep=j_(cf),Ad=mc||function(d,p){return Hn.setTimeout(d,p)},yf=j_(df);function jg(d,p,b){var x=p+"";return yf(d,function V(d,p){var b=p.length;if(!b)return d;var x=b-1;return p[x]=(b>1?"& ":"")+p[x],p=p.join(b>2?", ":" "),d.replace(Vi,"{\n/* [wrapped with "+p+"] */\n")}(x,function Wg(d,p){return ss(Vn,function(b){var x="_."+b[0];p&b[1]&&!Zt(d,x)&&d.push(x)}),d.sort()}(function w(d){var p=d.match(mt);return p?p[1].split(Wt):[]}(x),b)))}function j_(d){var p=0,b=0;return function(){var x=oa(),P=16-(x-b);if(b=x,P>0){if(++p>=800)return arguments[0]}else p=0;return d.apply(k,arguments)}}function Sp(d,p){var b=-1,x=d.length,P=x-1;for(p=p===k?x:p;++b<p;){var G=Tc(b,P),Y=d[G];d[G]=d[b],d[b]=Y}return d.length=p,d}var W_=function vh(d){var p=Hc(d,function(x){return 500===b.size&&b.clear(),x}),b=p.cache;return p}(function(d){var p=[];return 46===d.charCodeAt(0)&&p.push(""),d.replace(on,function(b,x,P,G){p.push(P?G.replace(ds,"$1"):x||b)}),p});function Ba(d){if("string"==typeof d||no(d))return d;var p=d+"";return"0"==p&&1/d==-Je?"-0":p}function Vc(d){if(null!=d){try{return Eu.call(d)}catch{}try{return d+""}catch{}}return""}function Nd(d){if(d instanceof wn)return d.clone();var p=new Ys(d.__wrapped__,d.__chain__);return p.__actions__=Ln(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}var zg=vn(function(d,p){return Zr(d)?S(d,nt(p,1,Zr,!0)):[]}),A0=vn(function(d,p){var b=Ho(p);return Zr(b)&&(b=k),Zr(d)?S(d,nt(p,1,Zr,!0),Gt(b,2)):[]}),vD=vn(function(d,p){var b=Ho(p);return Zr(b)&&(b=k),Zr(d)?S(d,nt(p,1,Zr,!0),k,b):[]});function qg(d,p,b){var x=null==d?0:d.length;if(!x)return-1;var P=null==b?0:Dn(b);return P<0&&(P=sr(x+P,0)),el(d,Gt(p,3),P)}function Zg(d,p,b){var x=null==d?0:d.length;if(!x)return-1;var P=x-1;return b!==k&&(P=Dn(b),P=b<0?sr(x+P,0):er(P,x-1)),el(d,Gt(p,3),P,!0)}function Yg(d){return null!=d&&d.length?nt(d,1):[]}function bf(d){return d&&d.length?d[0]:k}var wh=vn(function(d){var p=Ii(d,yd);return p.length&&p[0]===d[0]?Pa(p):[]}),Y_=vn(function(d){var p=Ho(d),b=Ii(d,yd);return p===Ho(b)?p=k:b.pop(),b.length&&b[0]===d[0]?Pa(b,Gt(p,2)):[]}),K_=vn(function(d){var p=Ho(d),b=Ii(d,yd);return(p="function"==typeof p?p:k)&&b.pop(),b.length&&b[0]===d[0]?Pa(b,k,p):[]});function Ho(d){var p=null==d?0:d.length;return p?d[p-1]:k}var k0=vn(Jg);function Jg(d,p){return d&&d.length&&p&&p.length?Bo(d,p):d}var yD=Do(function(d,p){var b=null==d?0:d.length,x=Ps(d,p);return vp(d,Ii(p,function(P){return Te(P,b)?+P:P}).sort(Ac)),x});function em(d){return null==d?d:Mu.call(d)}var Dh=vn(function(d){return Xs(nt(d,1,Zr,!0))}),$0=vn(function(d){var p=Ho(d);return Zr(p)&&(p=k),Xs(nt(d,1,Zr,!0),Gt(p,2))}),J_=vn(function(d){var p=Ho(d);return p="function"==typeof p?p:k,Xs(nt(d,1,Zr,!0),k,p)});function H0(d){if(!d||!d.length)return[];var p=0;return d=ei(d,function(b){if(Zr(b))return p=sr(b.length,p),!0}),hc(p,function(b){return Ii(d,gs(b))})}function Ch(d,p){if(!d||!d.length)return[];var b=H0(d);return null==p?b:Ii(b,function(x){return zr(p,k,x)})}var rm=vn(function(d,p){return Zr(d)?S(d,p):[]}),X_=vn(function(d){return vd(ei(d,Zr))}),DD=vn(function(d){var p=Ho(d);return Zr(p)&&(p=k),vd(ei(d,Zr),Gt(p,2))}),sm=vn(function(d){var p=Ho(d);return p="function"==typeof p?p:k,vd(ei(d,Zr),k,p)}),CD=vn(H0),ED=vn(function(d){var p=d.length,b=p>1?d[p-1]:k;return b="function"==typeof b?(d.pop(),b):k,Ch(d,b)});function j0(d){var p=U(d);return p.__chain__=!0,p}function Mp(d,p){return p(d)}var om=Do(function(d){var p=d.length,b=p?d[0]:0,x=this.__wrapped__,P=function(G){return Ps(G,d)};return!(p>1||this.__actions__.length)&&x instanceof wn&&Te(b)?((x=x.slice(b,+b+(p?1:0))).__actions__.push({func:Mp,args:[P],thisArg:k}),new Ys(x,this.__chain__).thru(function(G){return p&&!G.length&&G.push(k),G})):this.thru(P)}),Wo=$o(function(d,p,b){ti.call(d,b)?++d[b]:Pr(d,b,1)}),If=qu(qg),Uc=qu(Zg);function lm(d,p){return(gn(d)?ss:N)(d,Gt(p,3))}function Tf(d,p){return(gn(d)?po:F)(d,Gt(p,3))}var um=$o(function(d,p,b){ti.call(d,b)?d[b].push(p):Pr(d,b,[p])}),kp=vn(function(d,p,b){var x=-1,P="function"==typeof p,G=pa(d)?Se(d.length):[];return N(d,function(Y){G[++x]=P?zr(p,Y,b):pl(Y,p,b)}),G}),tv=$o(function(d,p,b){Pr(d,b,p)});function Th(d,p){return(gn(d)?Ii:da)(d,Gt(p,3))}var cm=$o(function(d,p,b){d[b?0:1].push(p)},function(){return[[],[]]}),Rd=vn(function(d,p){if(null==d)return[];var b=p.length;return b>1&&Xe(d,p[0],p[1])?p=[]:b>2&&Xe(p[0],p[1],p[2])&&(p=[p[0]]),ka(d,nt(p,1),[])}),gl=Au||function(){return Hn.Date.now()};function Gc(d,p,b){return p=b?k:p,Go(d,128,k,k,k,k,p=d&&null==p?d.length:p)}function Bp(d,p){var b;if("function"!=typeof p)throw new Dr(Ce);return d=Dn(d),function(){return--d>0&&(b=p.apply(this,arguments)),d<=1&&(p=k),b}}var Vp=vn(function(d,p,b){var x=1;if(b.length){var P=Mo(b,Ir(Vp));x|=32}return Go(d,x,p,b,P)}),Bs=vn(function(d,p,b){var x=3;if(b.length){var P=Mo(b,Ir(Bs));x|=32}return Go(p,x,d,b,P)});function rv(d,p,b){var x,P,G,Y,re,fe,je=0,qe=!1,Qe=!1,_t=!0;if("function"!=typeof d)throw new Dr(Ce);function Lt(yi){var so=x,qo=P;return x=P=k,je=yi,Y=d.apply(qo,so)}function Rt(yi){return je=yi,re=Ad(sn,p),qe?Lt(yi):Y}function Jt(yi){var so=yi-fe;return fe===k||so>=p||so<0||Qe&&yi-je>=G}function sn(){var yi=gl();if(Jt(yi))return Nn(yi);re=Ad(sn,function hn(yi){var Wc=p-(yi-fe);return Qe?er(Wc,G-(yi-je)):Wc}(yi))}function Nn(yi){return re=k,_t&&x?Lt(yi):(x=P=k,Y)}function Er(){var yi=gl(),so=Jt(yi);if(x=arguments,P=this,fe=yi,so){if(re===k)return Rt(fe);if(Qe)return bp(re),re=Ad(sn,p),Lt(fe)}return re===k&&(re=Ad(sn,p)),Y}return p=ml(p)||0,yr(b)&&(qe=!!b.leading,G=(Qe="maxWait"in b)?sr(ml(b.maxWait)||0,p):G,_t="trailing"in b?!!b.trailing:_t),Er.cancel=function rr(){re!==k&&bp(re),je=0,x=fe=P=re=k},Er.flush=function Vr(){return re===k?Y:Nn(gl())},Er}var Qu=vn(function(d,p){return eh(d,1,p)}),Y0=vn(function(d,p,b){return eh(d,ml(p)||0,b)});function Hc(d,p){if("function"!=typeof d||null!=p&&"function"!=typeof p)throw new Dr(Ce);var b=function(){var x=arguments,P=p?p.apply(this,x):x[0],G=b.cache;if(G.has(P))return G.get(P);var Y=d.apply(this,x);return b.cache=G.set(P,Y)||G,Y};return b.cache=new(Hc.Cache||It),b}function Eh(d){if("function"!=typeof d)throw new Dr(Ce);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}Hc.Cache=It;var xf=lh(function(d,p){var b=(p=1==p.length&&gn(p[0])?Ii(p[0],Hi(Gt())):Ii(nt(p,1),Hi(Gt()))).length;return vn(function(x){for(var P=-1,G=er(x.length,b);++P<G;)x[P]=p[P].call(this,x[P]);return zr(d,this,x)})}),ln=vn(function(d,p){var b=Mo(p,Ir(ln));return Go(d,32,k,p,b)}),$p=vn(function(d,p){var b=Mo(p,Ir($p));return Go(d,64,k,p,b)}),ov=Do(function(d,p){return Go(d,256,k,k,k,p)});function ys(d,p){return d===p||d!=d&&p!=p}var hv=Ed(ca),Af=Ed(function(d,p){return d>=p}),Ju=lf(function(){return arguments}())?lf:function(d){return Tr(d)&&ti.call(d,"callee")&&!ud.call(d,"callee")},gn=Se.isArray,xD=As?Hi(As):function th(d){return Tr(d)&&ur(d)==Ft};function pa(d){return null!=d&&Gp(d.length)&&!iu(d)}function Zr(d){return Tr(d)&&pa(d)}var Xu=Aa||kf,fv=rs?Hi(rs):function Ug(d){return Tr(d)&&ur(d)==xr};function Nh(d){if(!Tr(d))return!1;var p=ur(d);return p==kn||"[object DOMException]"==p||"string"==typeof d.message&&"string"==typeof d.name&&!Wp(d)}function iu(d){if(!yr(d))return!1;var p=ur(d);return p==Wi||p==ts||"[object AsyncFunction]"==p||"[object Proxy]"==p}function gv(d){return"number"==typeof d&&d==Dn(d)}function Gp(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=Mt}function yr(d){var p=typeof d;return null!=d&&("object"==p||"function"==p)}function Tr(d){return null!=d&&"object"==typeof d}var mv=gu?Hi(gu):function Dc(d){return Tr(d)&&Lr(d)==hi};function jp(d){return"number"==typeof d||Tr(d)&&ur(d)==Oi}function Wp(d){if(!Tr(d)||ur(d)!=vi)return!1;var p=Os(d);if(null===p)return!0;var b=ti.call(p,"constructor")&&p.constructor;return"function"==typeof b&&b instanceof b&&Eu.call(b)==pc}var Of=Ja?Hi(Ja):function nh(d){return Tr(d)&&ur(d)==Hr},pm=No?Hi(No):function pp(d){return Tr(d)&&Lr(d)==Cn};function Mf(d){return"string"==typeof d||!gn(d)&&Tr(d)&&ur(d)==ni}function no(d){return"symbol"==typeof d||Tr(d)&&ur(d)==Nr}var io=An?Hi(An):function ih(d){return Tr(d)&&Gp(d.length)&&!!Jn[ur(d)]},ec=Ed(ki),mm=Ed(function(d,p){return d<=p});function _m(d){if(!d)return[];if(pa(d))return Mf(d)?ms(d):Ln(d);if(xi&&d[xi])return function sd(de){for(var Ve,Se=[];!(Ve=de.next()).done;)Se.push(Ve.value);return Se}(d[xi]());var p=Lr(d);return(p==hi?Pl:p==Cn?kl:_l)(d)}function ru(d){return d?(d=ml(d))===Je||d===-Je?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function Dn(d){var p=ru(d),b=p%1;return p==p?b?p-b:p:0}function vm(d){return d?Ks(Dn(d),0,pt):0}function ml(d){if("number"==typeof d)return d;if(no(d))return NaN;if(yr(d)){var p="function"==typeof d.valueOf?d.valueOf():d;d=yr(p)?p+"":p}if("string"!=typeof d)return 0===d?d:+d;d=Gi(d);var b=Hs.test(d);return b||tn.test(d)?xs(d.slice(2),b?2:8):li.test(d)?NaN:+d}function Rf(d){return wo(d,Ga(d))}function si(d){return null==d?"":Js(d)}var ym=ju(function(d,p){if(La(p)||pa(p))wo(p,ro(p),d);else for(var b in p)ti.call(p,b)&&Pi(d,b,p[b])}),qp=ju(function(d,p){wo(p,Ga(p),d)}),bm=ju(function(d,p,b,x){wo(p,Ga(p),d,x)}),rb=ju(function(d,p,b,x){wo(p,ro(p),d,x)}),sb=Do(Ps),AD=vn(function(d,p){d=ii(d);var b=-1,x=p.length,P=x>2?p[2]:k;for(P&&Xe(p[0],p[1],P)&&(x=1);++b<x;)for(var G=p[b],Y=Ga(G),re=-1,fe=Y.length;++re<fe;){var je=Y[re],qe=d[je];(qe===k||ys(qe,sa[je])&&!ti.call(d,je))&&(d[je]=G[je])}return d}),wm=vn(function(d){return d.push(k,ks),zr(Iv,k,d)});function lb(d,p,b){var x=null==d?k:ji(d,p);return x===k?b:x}function Cv(d,p){return null!=d&&m(d,p,Ma)}var RD=gf(function(d,p,b){null!=p&&"function"!=typeof p.toString&&(p=Po.call(p)),d[p]=b},Uv(ma)),PD=gf(function(d,p,b){null!=p&&"function"!=typeof p.toString&&(p=Po.call(p)),ti.call(d,p)?d[p].push(b):d[p]=[b]},Gt),PE=vn(pl);function ro(d){return pa(d)?_d(d):cr(d)}function Ga(d){return pa(d)?_d(d,!0):function ir(d){if(!yr(d))return function Ip(d){var p=[];if(null!=d)for(var b in ii(d))p.push(b);return p}(d);var p=La(d),b=[];for(var x in d)"constructor"==x&&(p||!ti.call(d,x))||b.push(x);return b}(d)}var Dm=ju(function(d,p,b){dr(d,p,b)}),Iv=ju(function(d,p,b,x){dr(d,p,b,x)}),ub=Do(function(d,p){var b={};if(null==d)return b;var x=!1;p=Ii(p,function(G){return G=fa(G,d),x||(x=G.length>1),G}),wo(d,Jl(d),b),x&&(b=vr(b,7,Zu));for(var P=p.length;P--;)Uo(b,p[P]);return b}),cb=Do(function(d,p){return null==d?{}:function uf(d,p){return sh(d,p,function(b,x){return Cv(d,x)})}(d,p)});function Cm(d,p){if(null==d)return{};var b=Ii(Jl(d),function(x){return[x]});return p=Gt(p),sh(d,b,function(x,P){return p(x,P[0])})}var Ev=Zl(ro),Sv=Zl(Ga);function _l(d){return null==d?[]:wu(d,ro(d))}var Av=Wu(function(d,p,b){return p=p.toLowerCase(),d+(b?Sm(p):p)});function Sm(d){return Om(si(d).toLowerCase())}function Yp(d){return(d=si(d))&&d.replace(js,cp).replace(Zd,"")}var gb=Wu(function(d,p,b){return d+(b?"-":"")+p.toLowerCase()}),kD=Wu(function(d,p,b){return d+(b?" ":"")+p.toLowerCase()}),mb=Cp("toLowerCase"),Pv=Wu(function(d,p,b){return d+(b?"_":"")+p.toLowerCase()}),kv=Wu(function(d,p,b){return d+(b?" ":"")+Om(p)}),Tb=Wu(function(d,p,b){return d+(b?" ":"")+p.toUpperCase()}),Om=Cp("toUpperCase");function Mm(d,p,b){return d=si(d),(p=b?k:p)===k?function Iu(de){return Ao.test(de)}(d)?function ld(de){return de.match(tf)||[]}(d):function Ze(de){return de.match($n)||[]}(d):d.match(p)||[]}var Vv=vn(function(d,p){try{return zr(d,k,p)}catch(b){return Nh(b)?b:new Yt(b)}}),FD=Do(function(d,p){return ss(p,function(b){b=Ba(b),Pr(d,b,Vp(d[b],d))}),d});function Uv(d){return function(){return d}}var FE=Id(),Eb=Id(!0);function ma(d){return d}function $v(d){return rh("function"==typeof d?d:vr(d,1))}var BD=vn(function(d,p){return function(b){return pl(b,d,p)}}),VD=vn(function(d,p){return function(b){return pl(d,b,p)}});function Rh(d,p,b){var x=ro(p),P=gi(p,x);null==b&&(!yr(p)||!P.length&&x.length)&&(b=p,p=d,d=this,P=gi(p,ro(p)));var G=!(yr(b)&&"chain"in b&&!b.chain),Y=iu(d);return ss(P,function(re){var fe=p[re];d[re]=fe,Y&&(d.prototype[re]=function(){var je=this.__chain__;if(G||je){var qe=d(this.__wrapped__),Qe=qe.__actions__=Ln(this.__actions__);return Qe.push({func:fe,args:arguments,thisArg:d}),qe.__chain__=je,qe}return fe.apply(d,go([this.value()],arguments))})}),d}function Pf(){}var Fm=Td(Ii),BE=Td(mu),Gv=Td(mo);function Lm(d){return Nt(d)?gs(Ba(d)):function _p(d){return function(p){return ji(p,d)}}(d)}var Ab=fh(),Bm=fh(!0);function vl(){return[]}function kf(){return!1}var Fd=mf(function(d,p){return d+p},0),Ph=Rc("ceil"),UD=mf(function(d,p){return d/p},1),VE=Rc("floor"),Qp=mf(function(d,p){return d*p},1),Mb=Rc("round"),Um=mf(function(d,p){return d-p},0);return U.after=function Lp(d,p){if("function"!=typeof p)throw new Dr(Ce);return d=Dn(d),function(){if(--d<1)return p.apply(this,arguments)}},U.ary=Gc,U.assign=ym,U.assignIn=qp,U.assignInWith=bm,U.assignWith=rb,U.at=sb,U.before=Bp,U.bind=Vp,U.bindAll=FD,U.bindKey=Bs,U.castArray=function cv(){if(!arguments.length)return[];var d=arguments[0];return gn(d)?d:[d]},U.chain=j0,U.chunk=function z_(d,p,b){p=(b?Xe(d,p,b):p===k)?1:sr(Dn(p),0);var x=null==d?0:d.length;if(!x||p<1)return[];for(var P=0,G=0,Y=Se(ul(x/p));P<x;)Y[G++]=kr(d,P,P+=p);return Y},U.compact=function S0(d){for(var p=-1,b=null==d?0:d.length,x=0,P=[];++p<b;){var G=d[p];G&&(P[x++]=G)}return P},U.concat=function x0(){var d=arguments.length;if(!d)return[];for(var p=Se(d-1),b=arguments[0],x=d;x--;)p[x-1]=arguments[x];return go(gn(b)?Ln(b):[b],nt(p,1))},U.cond=function tc(d){var p=null==d?0:d.length,b=Gt();return d=p?Ii(d,function(x){if("function"!=typeof x[1])throw new Dr(Ce);return[b(x[0]),x[1]]}):[],vn(function(x){for(var P=-1;++P<p;){var G=d[P];if(zr(G[0],this,x))return zr(G[1],this,x)}})},U.conforms=function Rm(d){return function wc(d){var p=ro(d);return function(b){return nr(b,d,p)}}(vr(d,1))},U.constant=Uv,U.countBy=Wo,U.create=function ob(d,p){var b=Ru(d);return null==p?b:bt(b,p)},U.curry=function Up(d,p,b){var x=Go(d,8,k,k,k,k,k,p=b?k:p);return x.placeholder=Up.placeholder,x},U.curryRight=function Sf(d,p,b){var x=Go(d,16,k,k,k,k,k,p=b?k:p);return x.placeholder=Sf.placeholder,x},U.debounce=rv,U.defaults=AD,U.defaultsDeep=wm,U.defer=Qu,U.delay=Y0,U.difference=zg,U.differenceBy=A0,U.differenceWith=vD,U.drop=function q_(d,p,b){var x=null==d?0:d.length;return x?kr(d,(p=b||p===k?1:Dn(p))<0?0:p,x):[]},U.dropRight=function N0(d,p,b){var x=null==d?0:d.length;return x?kr(d,0,(p=x-(p=b||p===k?1:Dn(p)))<0?0:p):[]},U.dropRightWhile=function xp(d,p){return d&&d.length?zl(d,Gt(p,3),!0,!0):[]},U.dropWhile=function O0(d,p){return d&&d.length?zl(d,Gt(p,3),!0):[]},U.fill=function Z_(d,p,b,x){var P=null==d?0:d.length;return P?(b&&"number"!=typeof b&&Xe(d,p,b)&&(b=0,x=P),function Ee(d,p,b,x){var P=d.length;for((b=Dn(b))<0&&(b=-b>P?0:P+b),(x=x===k||x>P?P:Dn(x))<0&&(x+=P),x=b>x?0:vm(x);b<x;)d[b++]=p;return d}(d,p,b,x)):[]},U.filter=function Cf(d,p){return(gn(d)?ei:We)(d,Gt(p,3))},U.flatMap=function z0(d,p){return nt(Th(d,p),1)},U.flatMapDeep=function am(d,p){return nt(Th(d,p),Je)},U.flatMapDepth=function Ih(d,p,b){return b=b===k?1:Dn(b),nt(Th(d,p),b)},U.flatten=Yg,U.flattenDeep=function M0(d){return null!=d&&d.length?nt(d,Je):[]},U.flattenDepth=function Fs(d,p){return null!=d&&d.length?nt(d,p=p===k?1:Dn(p)):[]},U.flip=function nu(d){return Go(d,512)},U.flow=FE,U.flowRight=Eb,U.fromPairs=function Kg(d){for(var p=-1,b=null==d?0:d.length,x={};++p<b;){var P=d[p];x[P[0]]=P[1]}return x},U.functions=function Dv(d){return null==d?[]:gi(d,ro(d))},U.functionsIn=function ME(d){return null==d?[]:gi(d,Ga(d))},U.groupBy=um,U.initial=function vs(d){return null!=d&&d.length?kr(d,0,-1):[]},U.intersection=wh,U.intersectionBy=Y_,U.intersectionWith=K_,U.invert=RD,U.invertBy=PD,U.invokeMap=kp,U.iteratee=$v,U.keyBy=tv,U.keys=ro,U.keysIn=Ga,U.map=Th,U.mapKeys=function kE(d,p){var b={};return p=Gt(p,3),qt(d,function(x,P,G){Pr(b,p(x,P,G),x)}),b},U.mapValues=function Pd(d,p){var b={};return p=Gt(p,3),qt(d,function(x,P,G){Pr(b,P,p(x,P,G))}),b},U.matches=function Sb(d){return ha(vr(d,1))},U.matchesProperty=function Pm(d,p){return gp(d,vr(p,1))},U.memoize=Hc,U.merge=Dm,U.mergeWith=Iv,U.method=BD,U.methodOf=VD,U.mixin=Rh,U.negate=Eh,U.nthArg=function LE(d){return d=Dn(d),vn(function(p){return Ic(p,d)})},U.omit=ub,U.omitBy=function Tv(d,p){return Cm(d,Eh(Gt(p)))},U.once=function sv(d){return Bp(2,d)},U.orderBy=function nv(d,p,b,x){return null==d?[]:(gn(p)||(p=null==p?[]:[p]),gn(b=x?k:b)||(b=null==b?[]:[b]),ka(d,p,b))},U.over=Fm,U.overArgs=xf,U.overEvery=BE,U.overSome=Gv,U.partial=ln,U.partialRight=$p,U.partition=cm,U.pick=cb,U.pickBy=Cm,U.property=Lm,U.propertyOf=function xb(d){return function(p){return null==d?k:ji(d,p)}},U.pull=k0,U.pullAll=Jg,U.pullAllBy=function Q_(d,p,b){return d&&d.length&&p&&p.length?Bo(d,p,Gt(b,2)):d},U.pullAllWith=function F0(d,p,b){return d&&d.length&&p&&p.length?Bo(d,p,k,b):d},U.pullAt=yD,U.range=Ab,U.rangeRight=Bm,U.rearg=ov,U.reject=function iv(d,p){return(gn(d)?ei:We)(d,Eh(Gt(p,3)))},U.remove=function Xg(d,p){var b=[];if(!d||!d.length)return b;var x=-1,P=[],G=d.length;for(p=Gt(p,3);++x<G;){var Y=d[x];p(Y,x,d)&&(b.push(Y),P.push(x))}return vp(d,P),b},U.rest=function Sh(d,p){if("function"!=typeof d)throw new Dr(Ce);return vn(d,p=p===k?p:Dn(p))},U.reverse=em,U.sampleSize=function $a(d,p,b){return p=(b?Xe(d,p,b):p===k)?1:Dn(p),(gn(d)?Bu:Ec)(d,p)},U.set=function jc(d,p,b){return null==d?d:Sc(d,p,b)},U.setWith=function hb(d,p,b,x){return x="function"==typeof x?x:k,null==d?d:Sc(d,p,b,x)},U.shuffle=function $c(d){return(gn(d)?Vu:$g)(d)},U.slice=function Od(d,p,b){var x=null==d?0:d.length;return x?(b&&"number"!=typeof b&&Xe(d,p,b)?(p=0,b=x):(p=null==p?0:Dn(p),b=b===k?x:Dn(b)),kr(d,p,b)):[]},U.sortBy=Rd,U.sortedUniq=function wD(d){return d&&d.length?yp(d):[]},U.sortedUniqBy=function tu(d,p){return d&&d.length?yp(d,Gt(p,2)):[]},U.split=function yb(d,p,b){return b&&"number"!=typeof b&&Xe(d,p,b)&&(p=b=k),(b=b===k?pt:b>>>0)?(d=si(d))&&("string"==typeof p||null!=p&&!Of(p))&&!(p=Js(p))&&Ta(d)?ql(ms(d),0,b):d.split(p,b):[]},U.spread=function av(d,p){if("function"!=typeof d)throw new Dr(Ce);return p=null==p?0:sr(Dn(p),0),vn(function(b){var x=b[p],P=ql(b,0,p);return x&&go(P,x),zr(d,this,P)})},U.tail=function wf(d){var p=null==d?0:d.length;return p?kr(d,1,p):[]},U.take=function Np(d,p,b){return d&&d.length?kr(d,0,(p=b||p===k?1:Dn(p))<0?0:p):[]},U.takeRight=function V0(d,p,b){var x=null==d?0:d.length;return x?kr(d,(p=x-(p=b||p===k?1:Dn(p)))<0?0:p,x):[]},U.takeRightWhile=function nm(d,p){return d&&d.length?zl(d,Gt(p,3),!1,!0):[]},U.takeWhile=function U0(d,p){return d&&d.length?zl(d,Gt(p,3)):[]},U.tap=function SD(d,p){return p(d),d},U.throttle=function dm(d,p,b){var x=!0,P=!0;if("function"!=typeof d)throw new Dr(Ce);return yr(b)&&(x="leading"in b?!!b.leading:x,P="trailing"in b?!!b.trailing:P),rv(d,p,{leading:x,maxWait:p,trailing:P})},U.thru=Mp,U.toArray=_m,U.toPairs=Ev,U.toPairsIn=Sv,U.toPath=function su(d){return gn(d)?Ii(d,Ba):no(d)?[d]:Ln(W_(si(d)))},U.toPlainObject=Rf,U.transform=function xv(d,p,b){var x=gn(d),P=x||Xu(d)||io(d);if(p=Gt(p,4),null==b){var G=d&&d.constructor;b=P?x?new G:[]:yr(d)&&iu(G)?Ru(Os(d)):{}}return(P?ss:qt)(d,function(Y,re,fe){return p(b,Y,re,fe)}),b},U.unary=function lv(d){return Gc(d,1)},U.union=Dh,U.unionBy=$0,U.unionWith=J_,U.uniq=function im(d){return d&&d.length?Xs(d):[]},U.uniqBy=function Op(d,p){return d&&d.length?Xs(d,Gt(p,2)):[]},U.uniqWith=function G0(d,p){return p="function"==typeof p?p:k,d&&d.length?Xs(d,k,p):[]},U.unset=function fb(d,p){return null==d||Uo(d,p)},U.unzip=H0,U.unzipWith=Ch,U.update=function pb(d,p,b){return null==d?d:Hu(d,p,ff(b))},U.updateWith=function Im(d,p,b,x){return x="function"==typeof x?x:k,null==d?d:Hu(d,p,ff(b),x)},U.values=_l,U.valuesIn=function Tm(d){return null==d?[]:wu(d,Ga(d))},U.without=rm,U.words=Mm,U.wrap=function uv(d,p){return ln(ff(p),d)},U.xor=X_,U.xorBy=DD,U.xorWith=sm,U.zip=CD,U.zipObject=function ID(d,p){return ah(d||[],p||[],Pi)},U.zipObjectDeep=function TD(d,p){return ah(d||[],p||[],Sc)},U.zipWith=ED,U.entries=Ev,U.entriesIn=Sv,U.extend=qp,U.extendWith=bm,Rh(U,U),U.add=Fd,U.attempt=Vv,U.camelCase=Av,U.capitalize=Sm,U.ceil=Ph,U.clamp=function Mh(d,p,b){return b===k&&(b=p,p=k),b!==k&&(b=(b=ml(b))==b?b:0),p!==k&&(p=(p=ml(p))==p?p:0),Ks(ml(d),p,b)},U.clone=function K0(d){return vr(d,4)},U.cloneDeep=function dv(d){return vr(d,5)},U.cloneDeepWith=function hm(d,p){return vr(d,5,p="function"==typeof p?p:k)},U.cloneWith=function xh(d,p){return vr(d,4,p="function"==typeof p?p:k)},U.conformsTo=function fm(d,p){return null==p||nr(d,p,ro(p))},U.deburr=Yp,U.defaultTo=function LD(d,p){return null==d||d!=d?p:d},U.divide=UD,U.endsWith=function xm(d,p,b){d=si(d),p=Js(p);var x=d.length,P=b=b===k?x:Ks(Dn(b),0,x);return(b-=p.length)>=0&&d.slice(b,P)==p},U.eq=ys,U.escape=function Nv(d){return(d=si(d))&&ct.test(d)?d.replace(ie,rd):d},U.escapeRegExp=function Am(d){return(d=si(d))&&Di.test(d)?d.replace(ai,"\\$&"):d},U.every=function Rp(d,p,b){var x=gn(d)?mu:q;return b&&Xe(d,p,b)&&(p=k),x(d,Gt(p,3))},U.find=If,U.findIndex=qg,U.findKey=function ND(d,p){return _n(d,Gt(p,3),qt)},U.findLast=Uc,U.findLastIndex=Zg,U.findLastKey=function ab(d,p){return _n(d,Gt(p,3),Ut)},U.floor=VE,U.forEach=lm,U.forEachRight=Tf,U.forIn=function OD(d,p){return null==d?d:Vt(d,Gt(p,3),Ga)},U.forInRight=function bv(d,p){return null==d?d:Ht(d,Gt(p,3),Ga)},U.forOwn=function wv(d,p){return d&&qt(d,Gt(p,3))},U.forOwnRight=function MD(d,p){return d&&Ut(d,Gt(p,3))},U.get=lb,U.gt=hv,U.gte=Af,U.has=function RE(d,p){return null!=d&&m(d,p,Wl)},U.hasIn=Cv,U.head=bf,U.identity=ma,U.includes=function Pp(d,p,b,x){d=pa(d)?d:_l(d),b=b&&!x?Dn(b):0;var P=d.length;return b<0&&(b=sr(P+b,0)),Mf(d)?b<=P&&d.indexOf(p,b)>-1:!!P&&ra(d,p,b)>-1},U.indexOf=function Qg(d,p,b){var x=null==d?0:d.length;if(!x)return-1;var P=null==b?0:Dn(b);return P<0&&(P=sr(x+P,0)),ra(d,p,P)},U.inRange=function Em(d,p,b){return p=ru(p),b===k?(b=p,p=0):b=ru(b),function Ra(d,p,b){return d>=er(p,b)&&d<sr(p,b)}(d=ml(d),p,b)},U.invoke=PE,U.isArguments=Ju,U.isArray=gn,U.isArrayBuffer=xD,U.isArrayLike=pa,U.isArrayLikeObject=Zr,U.isBoolean=function Nf(d){return!0===d||!1===d||Tr(d)&&ur(d)==Qt},U.isBuffer=Xu,U.isDate=fv,U.isElement=function Q0(d){return Tr(d)&&1===d.nodeType&&!Wp(d)},U.isEmpty=function Ah(d){if(null==d)return!0;if(pa(d)&&(gn(d)||"string"==typeof d||"function"==typeof d.splice||Xu(d)||io(d)||Ju(d)))return!d.length;var p=Lr(d);if(p==hi||p==Cn)return!d.size;if(La(d))return!cr(d).length;for(var b in d)if(ti.call(d,b))return!1;return!0},U.isEqual=function J0(d,p){return Uu(d,p)},U.isEqualWith=function pv(d,p,b){var x=(b="function"==typeof b?b:k)?b(d,p):k;return x===k?Uu(d,p,k,b):!!x},U.isError=Nh,U.isFinite=function X0(d){return"number"==typeof d&&vc(d)},U.isFunction=iu,U.isInteger=gv,U.isLength=Gp,U.isMap=mv,U.isMatch=function _v(d,p){return d===p||fp(d,p,_f(p))},U.isMatchWith=function eb(d,p,b){return b="function"==typeof b?b:k,fp(d,p,_f(p),b)},U.isNaN=function tb(d){return jp(d)&&d!=+d},U.isNative=function nb(d){if(to(d))throw new Yt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cc(d)},U.isNil=function ib(d){return null==d},U.isNull=function Hp(d){return null===d},U.isNumber=jp,U.isObject=yr,U.isObjectLike=Tr,U.isPlainObject=Wp,U.isRegExp=Of,U.isSafeInteger=function Oh(d){return gv(d)&&d>=-Mt&&d<=Mt},U.isSet=pm,U.isString=Mf,U.isSymbol=no,U.isTypedArray=io,U.isUndefined=function vv(d){return d===k},U.isWeakMap=function yv(d){return Tr(d)&&Lr(d)==wi},U.isWeakSet=function gm(d){return Tr(d)&&"[object WeakSet]"==ur(d)},U.join=function R0(d,p){return null==d?"":cl.call(d,p)},U.kebabCase=gb,U.last=Ho,U.lastIndexOf=function P0(d,p,b){var x=null==d?0:d.length;if(!x)return-1;var P=x;return b!==k&&(P=(P=Dn(b))<0?sr(x+P,0):er(P,x-1)),p==p?function il(de,Ve,Se){for(var Ct=Se+1;Ct--;)if(de[Ct]===Ve)return Ct;return Ct}(d,p,P):el(d,vu,P,!0)},U.lowerCase=kD,U.lowerFirst=mb,U.lt=ec,U.lte=mm,U.max=function $D(d){return d&&d.length?he(d,ma,ca):k},U.maxBy=function GD(d,p){return d&&d.length?he(d,Gt(p,2),ca):k},U.mean=function kh(d){return tl(d,ma)},U.meanBy=function Ob(d,p){return tl(d,Gt(p,2))},U.min=function HD(d){return d&&d.length?he(d,ma,ki):k},U.minBy=function Hv(d,p){return d&&d.length?he(d,Gt(p,2),ki):k},U.stubArray=vl,U.stubFalse=kf,U.stubObject=function kd(){return{}},U.stubString=function Kp(){return""},U.stubTrue=function Nb(){return!0},U.multiply=Qp,U.nth=function Ap(d,p){return d&&d.length?Ic(d,Dn(p)):k},U.noConflict=function km(){return Hn._===this&&(Hn._=Su),this},U.noop=Pf,U.now=gl,U.pad=function Ov(d,p,b){d=si(d);var x=(p=Dn(p))?Zs(d):0;if(!p||x>=p)return d;var P=(p-x)/2;return hh(vo(P),b)+d+hh(ul(P),b)},U.padEnd=function _b(d,p,b){d=si(d);var x=(p=Dn(p))?Zs(d):0;return p&&x<p?d+hh(p-x,b):d},U.padStart=function Mv(d,p,b){d=si(d);var x=(p=Dn(p))?Zs(d):0;return p&&x<p?hh(p-x,b)+d:d},U.parseInt=function Rv(d,p,b){return b||null==p?p=0:p&&(p=+p),cd(si(d).replace(us,""),p||0)},U.random=function Zp(d,p,b){if(b&&"boolean"!=typeof b&&Xe(d,p,b)&&(p=b=k),b===k&&("boolean"==typeof p?(b=p,p=k):"boolean"==typeof d&&(b=d,d=k)),d===k&&p===k?(d=0,p=1):(d=ru(d),p===k?(p=d,d=0):p=ru(p)),d>p){var x=d;d=p,p=x}if(b||d%1||p%1){var P=Ou();return er(d+P*(p-d+zs("1e-"+((P+"").length-1))),p)}return Tc(d,p)},U.reduce=function Ef(d,p,b){var x=gn(d)?Ml:Rl,P=arguments.length<3;return x(d,Gt(p,4),b,P,N)},U.reduceRight=function q0(d,p,b){var x=gn(d)?td:Rl,P=arguments.length<3;return x(d,Gt(p,4),b,P,F)},U.repeat=function vb(d,p,b){return p=(b?Xe(d,p,b):p===k)?1:Dn(p),bo(si(d),p)},U.replace=function ga(){var d=arguments,p=si(d[0]);return d.length<3?p:p.replace(d[1],d[2])},U.result=function db(d,p,b){var x=-1,P=(p=fa(p,d)).length;for(P||(P=1,d=k);++x<P;){var G=null==d?k:d[Ba(p[x])];G===k&&(x=P,G=b),d=iu(G)?G.call(d):G}return d},U.round=Mb,U.runInContext=de,U.sample=function Z0(d){return(gn(d)?af:Vo)(d)},U.size=function zo(d){if(null==d)return 0;if(pa(d))return Mf(d)?Zs(d):d.length;var p=Lr(d);return p==hi||p==Cn?d.size:cr(d).length},U.snakeCase=Pv,U.some=function Fp(d,p,b){var x=gn(d)?mo:Gg;return b&&Xe(d,p,b)&&(p=k),x(d,Gt(p,3))},U.sortedIndex=function eu(d,p){return Ni(d,p)},U.sortedIndexBy=function Md(d,p,b){return Fa(d,p,Gt(b,2))},U.sortedIndexOf=function L0(d,p){var b=null==d?0:d.length;if(b){var x=Ni(d,p);if(x<b&&ys(d[x],p))return x}return-1},U.sortedLastIndex=function B0(d,p){return Ni(d,p,!0)},U.sortedLastIndexBy=function bD(d,p,b){return Fa(d,p,Gt(b,2),!0)},U.sortedLastIndexOf=function tm(d,p){if(null!=d&&d.length){var x=Ni(d,p,!0)-1;if(ys(d[x],p))return x}return-1},U.startCase=kv,U.startsWith=function bb(d,p,b){return d=si(d),b=null==b?0:Ks(Dn(b),0,d.length),p=Js(p),d.slice(b,b+p.length)==p},U.subtract=Um,U.sum=function Lf(d){return d&&d.length?yu(d,ma):0},U.sumBy=function Co(d,p){return d&&d.length?yu(d,Gt(p,2)):0},U.template=function Nm(d,p,b){var x=U.templateSettings;b&&Xe(d,p,b)&&(p=k),d=si(d),p=bm({},p,x,Yl);var re,fe,P=bm({},p.imports,x.imports,Yl),G=ro(P),Y=wu(P,G),je=0,qe=p.interpolate||Eo,Qe="__p += '",_t=Ro((p.escape||Eo).source+"|"+qe.source+"|"+(qe===Fn?Zi:Eo).source+"|"+(p.evaluate||Eo).source+"|$","g"),Lt="//# sourceURL="+(ti.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ka+"]")+"\n";d.replace(_t,function(Jt,sn,Nn,rr,Vr,Er){return Nn||(Nn=rr),Qe+=d.slice(je,Er).replace(Ws,fc),sn&&(re=!0,Qe+="' +\n__e("+sn+") +\n'"),Vr&&(fe=!0,Qe+="';\n"+Vr+";\n__p += '"),Nn&&(Qe+="' +\n((__t = ("+Nn+")) == null ? '' : __t) +\n'"),je=Er+Jt.length,Jt}),Qe+="';\n";var Rt=ti.call(p,"variable")&&p.variable;if(Rt){if(cs.test(Rt))throw new Yt("Invalid `variable` option passed into `_.template`")}else Qe="with (obj) {\n"+Qe+"\n}\n";Qe=(fe?Qe.replace(oe,""):Qe).replace(te,"$1").replace(K,"$1;"),Qe="function("+(Rt||"obj")+") {\n"+(Rt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(re?", __e = _.escape":"")+(fe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Qe+"return __p\n}";var hn=Vv(function(){return jn(G,Lt+"return "+Qe).apply(k,Y)});if(hn.source=Qe,Nh(hn))throw hn;return hn},U.times=function Ff(d,p){if((d=Dn(d))<1||d>Mt)return[];var b=pt,x=er(d,pt);p=Gt(p),d-=pt;for(var P=hc(x,p);++b<d;)p(b);return P},U.toFinite=ru,U.toInteger=Dn,U.toLength=vm,U.toLower=function Fv(d){return si(d).toLowerCase()},U.toNumber=ml,U.toSafeInteger=function zp(d){return d?Ks(Dn(d),-Mt,Mt):0===d?d:0},U.toString=si,U.toUpper=function wb(d){return si(d).toUpperCase()},U.trim=function Db(d,p,b){if((d=si(d))&&(b||p===k))return Gi(d);if(!d||!(p=Js(p)))return d;var x=ms(d),P=ms(p);return ql(x,Oo(x,P),rf(x,P)+1).join("")},U.trimEnd=function Cb(d,p,b){if((d=si(d))&&(b||p===k))return d.slice(0,_r(d)+1);if(!d||!(p=Js(p)))return d;var x=ms(d);return ql(x,0,rf(x,ms(p))+1).join("")},U.trimStart=function Lv(d,p,b){if((d=si(d))&&(b||p===k))return d.replace(us,"");if(!d||!(p=Js(p)))return d;var x=ms(d);return ql(x,Oo(x,ms(p))).join("")},U.truncate=function Ib(d,p){var b=30,x="...";if(yr(p)){var P="separator"in p?p.separator:P;b="length"in p?Dn(p.length):b,x="omission"in p?Js(p.omission):x}var G=(d=si(d)).length;if(Ta(d)){var Y=ms(d);G=Y.length}if(b>=G)return d;var re=b-Zs(x);if(re<1)return x;var fe=Y?ql(Y,0,re).join(""):d.slice(0,re);if(P===k)return fe+x;if(Y&&(re+=fe.length-re),Of(P)){if(d.slice(re).search(P)){var je,qe=fe;for(P.global||(P=Ro(P.source,si(co.exec(P))+"g")),P.lastIndex=0;je=P.exec(qe);)var Qe=je.index;fe=fe.slice(0,Qe===k?re:Qe)}}else if(d.indexOf(Js(P),re)!=re){var _t=fe.lastIndexOf(P);_t>-1&&(fe=fe.slice(0,_t))}return fe+x},U.unescape=function Bv(d){return(d=si(d))&&ze.test(d)?d.replace(ne,Ns):d},U.uniqueId=function Vm(d){var p=++Ll;return si(d)+p},U.upperCase=Tb,U.upperFirst=Om,U.each=lm,U.eachRight=Tf,U.first=bf,Rh(U,function(){var d={};return qt(U,function(p,b){ti.call(U.prototype,b)||(d[b]=p)}),d}(),{chain:!1}),U.VERSION="4.17.21",ss(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){U[d].placeholder=U}),ss(["drop","take"],function(d,p){wn.prototype[d]=function(b){b=b===k?1:sr(Dn(b),0);var x=this.__filtered__&&!p?new wn(this):this.clone();return x.__filtered__?x.__takeCount__=er(b,x.__takeCount__):x.__views__.push({size:er(b,pt),type:d+(x.__dir__<0?"Right":"")}),x},wn.prototype[d+"Right"]=function(b){return this.reverse()[d](b).reverse()}}),ss(["filter","map","takeWhile"],function(d,p){var b=p+1,x=1==b||3==b;wn.prototype[d]=function(P){var G=this.clone();return G.__iteratees__.push({iteratee:Gt(P,3),type:b}),G.__filtered__=G.__filtered__||x,G}}),ss(["head","last"],function(d,p){var b="take"+(p?"Right":"");wn.prototype[d]=function(){return this[b](1).value()[0]}}),ss(["initial","tail"],function(d,p){var b="drop"+(p?"":"Right");wn.prototype[d]=function(){return this.__filtered__?new wn(this):this[b](1)}}),wn.prototype.compact=function(){return this.filter(ma)},wn.prototype.find=function(d){return this.filter(d).head()},wn.prototype.findLast=function(d){return this.reverse().find(d)},wn.prototype.invokeMap=vn(function(d,p){return"function"==typeof d?new wn(this):this.map(function(b){return pl(b,d,p)})}),wn.prototype.reject=function(d){return this.filter(Eh(Gt(d)))},wn.prototype.slice=function(d,p){d=Dn(d);var b=this;return b.__filtered__&&(d>0||p<0)?new wn(b):(d<0?b=b.takeRight(-d):d&&(b=b.drop(d)),p!==k&&(b=(p=Dn(p))<0?b.dropRight(-p):b.take(p-d)),b)},wn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},wn.prototype.toArray=function(){return this.take(pt)},qt(wn.prototype,function(d,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),x=/^(?:head|last)$/.test(p),P=U[x?"take"+("last"==p?"Right":""):p],G=x||/^find/.test(p);!P||(U.prototype[p]=function(){var Y=this.__wrapped__,re=x?[1]:arguments,fe=Y instanceof wn,je=re[0],qe=fe||gn(Y),Qe=function(sn){var Nn=P.apply(U,go([sn],re));return x&&_t?Nn[0]:Nn};qe&&b&&"function"==typeof je&&1!=je.length&&(fe=qe=!1);var _t=this.__chain__,Lt=!!this.__actions__.length,Rt=G&&!_t,hn=fe&&!Lt;if(!G&&qe){Y=hn?Y:new wn(this);var Jt=d.apply(Y,re);return Jt.__actions__.push({func:Mp,args:[Qe],thisArg:k}),new Ys(Jt,_t)}return Rt&&hn?d.apply(this,re):(Jt=this.thru(Qe),Rt?x?Jt.value()[0]:Jt.value():Jt)})}),ss(["pop","push","shift","sort","splice","unshift"],function(d){var p=rl[d],b=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",x=/^(?:pop|shift)$/.test(d);U.prototype[d]=function(){var P=arguments;if(x&&!this.__chain__){var G=this.value();return p.apply(gn(G)?G:[],P)}return this[b](function(Y){return p.apply(gn(Y)?Y:[],P)})}}),qt(wn.prototype,function(d,p){var b=U[p];if(b){var x=b.name+"";ti.call(Cr,x)||(Cr[x]=[]),Cr[x].push({name:p,func:b})}}),Cr[Mc(k,2).name]=[{name:"wrapper",func:k}],wn.prototype.clone=function Xd(){var d=new wn(this.__wrapped__);return d.__actions__=Ln(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Ln(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Ln(this.__views__),d},wn.prototype.reverse=function Vg(){if(this.__filtered__){var d=new wn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},wn.prototype.value=function Pu(){var d=this.__wrapped__.value(),p=this.__dir__,b=gn(d),x=p<0,P=b?d.length:0,G=function xd(d,p,b){for(var x=-1,P=b.length;++x<P;){var G=b[x],Y=G.size;switch(G.type){case"drop":d+=Y;break;case"dropRight":p-=Y;break;case"take":p=er(p,d+Y);break;case"takeRight":d=sr(d,p-Y)}}return{start:d,end:p}}(0,P,this.__views__),Y=G.start,re=G.end,fe=re-Y,je=x?re:Y-1,qe=this.__iteratees__,Qe=qe.length,_t=0,Lt=er(fe,this.__takeCount__);if(!b||!x&&P==fe&&Lt==fe)return oh(d,this.__actions__);var Rt=[];e:for(;fe--&&_t<Lt;){for(var hn=-1,Jt=d[je+=p];++hn<Qe;){var sn=qe[hn],rr=sn.type,Vr=(0,sn.iteratee)(Jt);if(2==rr)Jt=Vr;else if(!Vr){if(1==rr)continue e;break e}}Rt[_t++]=Jt}return Rt},U.prototype.at=om,U.prototype.chain=function Df(){return j0(this)},U.prototype.commit=function Va(){return new Ys(this.value(),this.__chain__)},U.prototype.next=function W0(){this.__values__===k&&(this.__values__=_m(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?k:this.__values__[this.__index__++]}},U.prototype.plant=function jo(d){for(var p,b=this;b instanceof Hl;){var x=Nd(b);x.__index__=0,x.__values__=k,p?P.__wrapped__=x:p=x;var P=x;b=b.__wrapped__}return P.__wrapped__=d,p},U.prototype.reverse=function Ua(){var d=this.__wrapped__;if(d instanceof wn){var p=d;return this.__actions__.length&&(p=new wn(this)),(p=p.reverse()).__actions__.push({func:Mp,args:[em],thisArg:k}),new Ys(p,this.__chain__)}return this.thru(em)},U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=function Ls(){return oh(this.__wrapped__,this.__actions__)},U.prototype.first=U.prototype.head,xi&&(U.prototype[xi]=function ev(){return this}),U}();Hn._=Fl,(u=function(){return Fl}.call(Ge,j,Ge,At))!==k&&(At.exports=u)}.call(this)},9751:(At,Ge,j)=>{"use strict";j.d(Ge,{y:()=>Ne});var u=j(930),k=j(727),W=j(8822),be=j(9635),ge=j(2416),Ce=j(576),Ie=j(2806);let Ne=(()=>{class ce{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Le=new ce;return Le.source=this,Le.operator=Ue,Le}subscribe(Ue,Le,ht){const Oe=function X(ce){return ce&&ce instanceof u.Lv||function J(ce){return ce&&(0,Ce.m)(ce.next)&&(0,Ce.m)(ce.error)&&(0,Ce.m)(ce.complete)}(ce)&&(0,k.Nn)(ce)}(Ue)?Ue:new u.Hp(Ue,Le,ht);return(0,Ie.x)(()=>{const{operator:Me,source:at}=this;Oe.add(Me?Me.call(Oe,at):at?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Le){Ue.error(Le)}}forEach(Ue,Le){return new(Le=Ae(Le))((ht,Oe)=>{const Me=new u.Hp({next:at=>{try{Ue(at)}catch(St){Oe(St),Me.unsubscribe()}},error:Oe,complete:ht});this.subscribe(Me)})}_subscribe(Ue){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ue)}[W.L](){return this}pipe(...Ue){return(0,be.U)(Ue)(this)}toPromise(Ue){return new(Ue=Ae(Ue))((Le,ht)=>{let Oe;this.subscribe(Me=>Oe=Me,Me=>ht(Me),()=>Le(Oe))})}}return ce.create=tt=>new ce(tt),ce})();function Ae(ce){var tt;return null!==(tt=ce??ge.v.Promise)&&void 0!==tt?tt:Promise}},7579:(At,Ge,j)=>{"use strict";j.d(Ge,{x:()=>Ie});var u=j(9751),k=j(727);const be=(0,j(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=j(8737),Ce=j(2806);let Ie=(()=>{class Ae extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const ce=new Ne(this,this);return ce.operator=X,ce}_throwIfClosed(){if(this.closed)throw new be}next(X){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(X)}})}error(X){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:ce}=this;for(;ce.length;)ce.shift().error(X)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:ce,isStopped:tt,observers:Ue}=this;return ce||tt?k.Lc:(this.currentObservers=null,Ue.push(X),new k.w0(()=>{this.currentObservers=null,(0,ge.P)(Ue,X)}))}_checkFinalizedStatuses(X){const{hasError:ce,thrownError:tt,isStopped:Ue}=this;ce?X.error(tt):Ue&&X.complete()}asObservable(){const X=new u.y;return X.source=this,X}}return Ae.create=(J,X)=>new Ne(J,X),Ae})();class Ne extends Ie{constructor(J,X){super(),this.destination=J,this.source=X}next(J){var X,ce;null===(ce=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===ce||ce.call(X,J)}error(J){var X,ce;null===(ce=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===ce||ce.call(X,J)}complete(){var J,X;null===(X=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===X||X.call(J)}_subscribe(J){var X,ce;return null!==(ce=null===(X=this.source)||void 0===X?void 0:X.subscribe(J))&&void 0!==ce?ce:k.Lc}}},930:(At,Ge,j)=>{"use strict";j.d(Ge,{Hp:()=>ht,Lv:()=>ce});var u=j(576),k=j(727),W=j(2416),be=j(7849),ge=j(5032);const Ce=Ae("C",void 0,void 0);function Ae(He,ke,Fe){return{kind:He,value:ke,error:Fe}}var J=j(3410),X=j(2806);class ce extends k.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,k.Nn)(ke)&&ke.add(this)):this.destination=St}static create(ke,Fe,st){return new ht(ke,Fe,st)}next(ke){this.isStopped?at(function Ne(He){return Ae("N",He,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?at(function Ie(He){return Ae("E",void 0,He)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?at(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Ue(He,ke){return tt.call(He,ke)}class Le{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(ke)}catch(st){Oe(st)}}error(ke){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(ke)}catch(st){Oe(st)}else Oe(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Fe){Oe(Fe)}}}class ht extends ce{constructor(ke,Fe,st){let ft;if(super(),(0,u.m)(ke)||!ke)ft={next:ke??void 0,error:Fe??void 0,complete:st??void 0};else{let Q;this&&W.v.useDeprecatedNextContext?(Q=Object.create(ke),Q.unsubscribe=()=>this.unsubscribe(),ft={next:ke.next&&Ue(ke.next,Q),error:ke.error&&Ue(ke.error,Q),complete:ke.complete&&Ue(ke.complete,Q)}):ft=ke}this.destination=new Le(ft)}}function Oe(He){W.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(He):(0,be.h)(He)}function at(He,ke){const{onStoppedNotification:Fe}=W.v;Fe&&J.z.setTimeout(()=>Fe(He,ke))}const St={closed:!0,next:ge.Z,error:function Me(He){throw He},complete:ge.Z}},727:(At,Ge,j)=>{"use strict";j.d(Ge,{Lc:()=>Ce,w0:()=>ge,Nn:()=>Ie});var u=j(576);const W=(0,j(3888).d)(Ae=>function(X){Ae(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((ce,tt)=>`${tt+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var be=j(8737);class ge{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Ue of X)Ue.remove(this);else X.remove(this);const{initialTeardown:ce}=this;if((0,u.m)(ce))try{ce()}catch(Ue){J=Ue instanceof W?Ue.errors:[Ue]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Ue of tt)try{Ne(Ue)}catch(Le){J=J??[],Le instanceof W?J=[...J,...Le.errors]:J.push(Le)}}if(J)throw new W(J)}}add(J){var X;if(J&&J!==this)if(this.closed)Ne(J);else{if(J instanceof ge){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(J)}}_hasParent(J){const{_parentage:X}=this;return X===J||Array.isArray(X)&&X.includes(J)}_addParent(J){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(J),X):X?[X,J]:J}_removeParent(J){const{_parentage:X}=this;X===J?this._parentage=null:Array.isArray(X)&&(0,be.P)(X,J)}remove(J){const{_finalizers:X}=this;X&&(0,be.P)(X,J),J instanceof ge&&J._removeParent(this)}}ge.EMPTY=(()=>{const Ae=new ge;return Ae.closed=!0,Ae})();const Ce=ge.EMPTY;function Ie(Ae){return Ae instanceof ge||Ae&&"closed"in Ae&&(0,u.m)(Ae.remove)&&(0,u.m)(Ae.add)&&(0,u.m)(Ae.unsubscribe)}function Ne(Ae){(0,u.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(At,Ge,j)=>{"use strict";j.d(Ge,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(At,Ge,j)=>{"use strict";j.d(Ge,{E:()=>k});const k=new(j(9751).y)(ge=>ge.complete())},8996:(At,Ge,j)=>{"use strict";j.d(Ge,{D:()=>ke});var u=j(8421),k=j(5363),W=j(9468),Ce=j(9751),Ne=j(2202),Ae=j(576),J=j(9672);function ce(Fe,st){if(!Fe)throw new Error("Iterable cannot be null");return new Ce.y(ft=>{(0,J.f)(ft,st,()=>{const Q=Fe[Symbol.asyncIterator]();(0,J.f)(ft,st,()=>{Q.next().then(Re=>{Re.done?ft.complete():ft.next(Re.value)})},0,!0)})})}var tt=j(3670),Ue=j(8239),Le=j(1144),ht=j(6495),Oe=j(2206),Me=j(4532),at=j(3260);function ke(Fe,st){return st?function He(Fe,st){if(null!=Fe){if((0,tt.c)(Fe))return function be(Fe,st){return(0,u.Xf)(Fe).pipe((0,W.R)(st),(0,k.Q)(st))}(Fe,st);if((0,Le.z)(Fe))return function Ie(Fe,st){return new Ce.y(ft=>{let Q=0;return st.schedule(function(){Q===Fe.length?ft.complete():(ft.next(Fe[Q++]),ft.closed||this.schedule())})})}(Fe,st);if((0,Ue.t)(Fe))return function ge(Fe,st){return(0,u.Xf)(Fe).pipe((0,W.R)(st),(0,k.Q)(st))}(Fe,st);if((0,Oe.D)(Fe))return ce(Fe,st);if((0,ht.T)(Fe))return function X(Fe,st){return new Ce.y(ft=>{let Q;return(0,J.f)(ft,st,()=>{Q=Fe[Ne.h](),(0,J.f)(ft,st,()=>{let Re,ae;try{({value:Re,done:ae}=Q.next())}catch(pe){return void ft.error(pe)}ae?ft.complete():ft.next(Re)},0,!0)}),()=>(0,Ae.m)(Q?.return)&&Q.return()})}(Fe,st);if((0,at.L)(Fe))return function St(Fe,st){return ce((0,at.Q)(Fe),st)}(Fe,st)}throw(0,Me.z)(Fe)}(Fe,st):(0,u.Xf)(Fe)}},8421:(At,Ge,j)=>{"use strict";j.d(Ge,{Xf:()=>tt});var u=j(655),k=j(1144),W=j(8239),be=j(9751),ge=j(3670),Ce=j(2206),Ie=j(4532),Ne=j(6495),Ae=j(3260),J=j(576),X=j(7849),ce=j(8822);function tt(He){if(He instanceof be.y)return He;if(null!=He){if((0,ge.c)(He))return function Ue(He){return new be.y(ke=>{const Fe=He[ce.L]();if((0,J.m)(Fe.subscribe))return Fe.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,k.z)(He))return function Le(He){return new be.y(ke=>{for(let Fe=0;Fe<He.length&&!ke.closed;Fe++)ke.next(He[Fe]);ke.complete()})}(He);if((0,W.t)(He))return function ht(He){return new be.y(ke=>{He.then(Fe=>{ke.closed||(ke.next(Fe),ke.complete())},Fe=>ke.error(Fe)).then(null,X.h)})}(He);if((0,Ce.D)(He))return Me(He);if((0,Ne.T)(He))return function Oe(He){return new be.y(ke=>{for(const Fe of He)if(ke.next(Fe),ke.closed)return;ke.complete()})}(He);if((0,Ae.L)(He))return function at(He){return Me((0,Ae.Q)(He))}(He)}throw(0,Ie.z)(He)}function Me(He){return new be.y(ke=>{(function St(He,ke){var Fe,st,ft,Q;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,u.KL)(He);!(st=yield Fe.next()).done;)if(ke.next(st.value),ke.closed)return}catch(Re){ft={error:Re}}finally{try{st&&!st.done&&(Q=Fe.return)&&(yield Q.call(Fe))}finally{if(ft)throw ft.error}}ke.complete()})})(He,ke).catch(Fe=>ke.error(Fe))})}},6451:(At,Ge,j)=>{"use strict";j.d(Ge,{T:()=>Ce});var u=j(8189),k=j(8421),W=j(515),be=j(3269),ge=j(8996);function Ce(...Ie){const Ne=(0,be.yG)(Ie),Ae=(0,be._6)(Ie,1/0),J=Ie;return J.length?1===J.length?(0,k.Xf)(J[0]):(0,u.J)(Ae)((0,ge.D)(J,Ne)):W.E}},5403:(At,Ge,j)=>{"use strict";j.d(Ge,{x:()=>k});var u=j(930);function k(be,ge,Ce,Ie,Ne){return new W(be,ge,Ce,Ie,Ne)}class W extends u.Lv{constructor(ge,Ce,Ie,Ne,Ae,J){super(ge),this.onFinalize=Ae,this.shouldUnsubscribe=J,this._next=Ce?function(X){try{Ce(X)}catch(ce){ge.error(ce)}}:super._next,this._error=Ne?function(X){try{Ne(X)}catch(ce){ge.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(X){ge.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(At,Ge,j)=>{"use strict";j.d(Ge,{U:()=>W});var u=j(4482),k=j(5403);function W(be,ge){return(0,u.e)((Ce,Ie)=>{let Ne=0;Ce.subscribe((0,k.x)(Ie,Ae=>{Ie.next(be.call(ge,Ae,Ne++))}))})}},8189:(At,Ge,j)=>{"use strict";j.d(Ge,{J:()=>W});var u=j(5577),k=j(4671);function W(be=1/0){return(0,u.z)(k.y,be)}},5577:(At,Ge,j)=>{"use strict";j.d(Ge,{z:()=>Ne});var u=j(4004),k=j(8421),W=j(4482),be=j(9672),ge=j(5403),Ie=j(576);function Ne(Ae,J,X=1/0){return(0,Ie.m)(J)?Ne((ce,tt)=>(0,u.U)((Ue,Le)=>J(ce,Ue,tt,Le))((0,k.Xf)(Ae(ce,tt))),X):("number"==typeof J&&(X=J),(0,W.e)((ce,tt)=>function Ce(Ae,J,X,ce,tt,Ue,Le,ht){const Oe=[];let Me=0,at=0,St=!1;const He=()=>{St&&!Oe.length&&!Me&&J.complete()},ke=st=>Me<ce?Fe(st):Oe.push(st),Fe=st=>{Ue&&J.next(st),Me++;let ft=!1;(0,k.Xf)(X(st,at++)).subscribe((0,ge.x)(J,Q=>{tt?.(Q),Ue?ke(Q):J.next(Q)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Me--;Oe.length&&Me<ce;){const Q=Oe.shift();Le?(0,be.f)(J,Le,()=>Fe(Q)):Fe(Q)}He()}catch(Q){J.error(Q)}}))};return Ae.subscribe((0,ge.x)(J,ke,()=>{St=!0,He()})),()=>{ht?.()}}(ce,tt,Ae,X)))}},5363:(At,Ge,j)=>{"use strict";j.d(Ge,{Q:()=>be});var u=j(9672),k=j(4482),W=j(5403);function be(ge,Ce=0){return(0,k.e)((Ie,Ne)=>{Ie.subscribe((0,W.x)(Ne,Ae=>(0,u.f)(Ne,ge,()=>Ne.next(Ae),Ce),()=>(0,u.f)(Ne,ge,()=>Ne.complete(),Ce),Ae=>(0,u.f)(Ne,ge,()=>Ne.error(Ae),Ce)))})}},3099:(At,Ge,j)=>{"use strict";j.d(Ge,{B:()=>ge});var u=j(8421),k=j(7579),W=j(930),be=j(4482);function ge(Ie={}){const{connector:Ne=(()=>new k.x),resetOnError:Ae=!0,resetOnComplete:J=!0,resetOnRefCountZero:X=!0}=Ie;return ce=>{let tt,Ue,Le,ht=0,Oe=!1,Me=!1;const at=()=>{Ue?.unsubscribe(),Ue=void 0},St=()=>{at(),tt=Le=void 0,Oe=Me=!1},He=()=>{const ke=tt;St(),ke?.unsubscribe()};return(0,be.e)((ke,Fe)=>{ht++,!Me&&!Oe&&at();const st=Le=Le??Ne();Fe.add(()=>{ht--,0===ht&&!Me&&!Oe&&(Ue=Ce(He,X))}),st.subscribe(Fe),!tt&&ht>0&&(tt=new W.Hp({next:ft=>st.next(ft),error:ft=>{Me=!0,at(),Ue=Ce(St,Ae,ft),st.error(ft)},complete:()=>{Oe=!0,at(),Ue=Ce(St,J),st.complete()}}),(0,u.Xf)(ke).subscribe(tt))})(ce)}}function Ce(Ie,Ne,...Ae){if(!0===Ne)return void Ie();if(!1===Ne)return;const J=new W.Hp({next:()=>{J.unsubscribe(),Ie()}});return Ne(...Ae).subscribe(J)}},9468:(At,Ge,j)=>{"use strict";j.d(Ge,{R:()=>k});var u=j(4482);function k(W,be=0){return(0,u.e)((ge,Ce)=>{Ce.add(W.schedule(()=>ge.subscribe(Ce),be))})}},8505:(At,Ge,j)=>{"use strict";j.d(Ge,{b:()=>ge});var u=j(576),k=j(4482),W=j(5403),be=j(4671);function ge(Ce,Ie,Ne){const Ae=(0,u.m)(Ce)||Ie||Ne?{next:Ce,error:Ie,complete:Ne}:Ce;return Ae?(0,k.e)((J,X)=>{var ce;null===(ce=Ae.subscribe)||void 0===ce||ce.call(Ae);let tt=!0;J.subscribe((0,W.x)(X,Ue=>{var Le;null===(Le=Ae.next)||void 0===Le||Le.call(Ae,Ue),X.next(Ue)},()=>{var Ue;tt=!1,null===(Ue=Ae.complete)||void 0===Ue||Ue.call(Ae),X.complete()},Ue=>{var Le;tt=!1,null===(Le=Ae.error)||void 0===Le||Le.call(Ae,Ue),X.error(Ue)},()=>{var Ue,Le;tt&&(null===(Ue=Ae.unsubscribe)||void 0===Ue||Ue.call(Ae)),null===(Le=Ae.finalize)||void 0===Le||Le.call(Ae)}))}):be.y}},4408:(At,Ge,j)=>{"use strict";j.d(Ge,{o:()=>ge});var u=j(727);class k extends u.w0{constructor(Ie,Ne){super()}schedule(Ie,Ne=0){return this}}const W={setInterval(Ce,Ie,...Ne){const{delegate:Ae}=W;return Ae?.setInterval?Ae.setInterval(Ce,Ie,...Ne):setInterval(Ce,Ie,...Ne)},clearInterval(Ce){const{delegate:Ie}=W;return(Ie?.clearInterval||clearInterval)(Ce)},delegate:void 0};var be=j(8737);class ge extends k{constructor(Ie,Ne){super(Ie,Ne),this.scheduler=Ie,this.work=Ne,this.pending=!1}schedule(Ie,Ne=0){if(this.closed)return this;this.state=Ie;const Ae=this.id,J=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(J,Ae,Ne)),this.pending=!0,this.delay=Ne,this.id=this.id||this.requestAsyncId(J,this.id,Ne),this}requestAsyncId(Ie,Ne,Ae=0){return W.setInterval(Ie.flush.bind(Ie,this),Ae)}recycleAsyncId(Ie,Ne,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ne;W.clearInterval(Ne)}execute(Ie,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Ie,Ne);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,Ne){let J,Ae=!1;try{this.work(Ie)}catch(X){Ae=!0,J=X||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:Ne}=this,{actions:Ae}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Ae,this),null!=Ie&&(this.id=this.recycleAsyncId(Ne,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(At,Ge,j)=>{"use strict";j.d(Ge,{v:()=>W});var u=j(6063);class k{constructor(ge,Ce=k.now){this.schedulerActionCtor=ge,this.now=Ce}schedule(ge,Ce=0,Ie){return new this.schedulerActionCtor(this,ge).schedule(Ie,Ce)}}k.now=u.l.now;class W extends k{constructor(ge,Ce=k.now){super(ge,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:Ce}=this;if(this._active)return void Ce.push(ge);let Ie;this._active=!0;do{if(Ie=ge.execute(ge.state,ge.delay))break}while(ge=Ce.shift());if(this._active=!1,Ie){for(;ge=Ce.shift();)ge.unsubscribe();throw Ie}}}},4986:(At,Ge,j)=>{"use strict";j.d(Ge,{P:()=>be,z:()=>W});var u=j(4408);const W=new(j(7565).v)(u.o),be=W},6063:(At,Ge,j)=>{"use strict";j.d(Ge,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(At,Ge,j)=>{"use strict";j.d(Ge,{z:()=>u});const u={setTimeout(k,W,...be){const{delegate:ge}=u;return ge?.setTimeout?ge.setTimeout(k,W,...be):setTimeout(k,W,...be)},clearTimeout(k){const{delegate:W}=u;return(W?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(At,Ge,j)=>{"use strict";j.d(Ge,{h:()=>k});const k=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(At,Ge,j)=>{"use strict";j.d(Ge,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(At,Ge,j)=>{"use strict";j.d(Ge,{_6:()=>Ce,jO:()=>be,yG:()=>ge});var u=j(576),k=j(3532);function W(Ie){return Ie[Ie.length-1]}function be(Ie){return(0,u.m)(W(Ie))?Ie.pop():void 0}function ge(Ie){return(0,k.K)(W(Ie))?Ie.pop():void 0}function Ce(Ie,Ne){return"number"==typeof W(Ie)?Ie.pop():Ne}},8737:(At,Ge,j)=>{"use strict";function u(k,W){if(k){const be=k.indexOf(W);0<=be&&k.splice(be,1)}}j.d(Ge,{P:()=>u})},3888:(At,Ge,j)=>{"use strict";function u(k){const be=k(ge=>{Error.call(ge),ge.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}j.d(Ge,{d:()=>u})},2806:(At,Ge,j)=>{"use strict";j.d(Ge,{O:()=>be,x:()=>W});var u=j(2416);let k=null;function W(ge){if(u.v.useDeprecatedSynchronousErrorHandling){const Ce=!k;if(Ce&&(k={errorThrown:!1,error:null}),ge(),Ce){const{errorThrown:Ie,error:Ne}=k;if(k=null,Ie)throw Ne}}else ge()}function be(ge){u.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=ge)}},9672:(At,Ge,j)=>{"use strict";function u(k,W,be,ge=0,Ce=!1){const Ie=W.schedule(function(){be(),Ce?k.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(k.add(Ie),!Ce)return Ie}j.d(Ge,{f:()=>u})},4671:(At,Ge,j)=>{"use strict";function u(k){return k}j.d(Ge,{y:()=>u})},1144:(At,Ge,j)=>{"use strict";j.d(Ge,{z:()=>u});const u=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(At,Ge,j)=>{"use strict";j.d(Ge,{D:()=>k});var u=j(576);function k(W){return Symbol.asyncIterator&&(0,u.m)(W?.[Symbol.asyncIterator])}},576:(At,Ge,j)=>{"use strict";function u(k){return"function"==typeof k}j.d(Ge,{m:()=>u})},3670:(At,Ge,j)=>{"use strict";j.d(Ge,{c:()=>W});var u=j(8822),k=j(576);function W(be){return(0,k.m)(be[u.L])}},6495:(At,Ge,j)=>{"use strict";j.d(Ge,{T:()=>W});var u=j(2202),k=j(576);function W(be){return(0,k.m)(be?.[u.h])}},8239:(At,Ge,j)=>{"use strict";j.d(Ge,{t:()=>k});var u=j(576);function k(W){return(0,u.m)(W?.then)}},3260:(At,Ge,j)=>{"use strict";j.d(Ge,{L:()=>be,Q:()=>W});var u=j(655),k=j(576);function W(ge){return(0,u.FC)(this,arguments,function*(){const Ie=ge.getReader();try{for(;;){const{value:Ne,done:Ae}=yield(0,u.qq)(Ie.read());if(Ae)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ne)}}finally{Ie.releaseLock()}})}function be(ge){return(0,k.m)(ge?.getReader)}},3532:(At,Ge,j)=>{"use strict";j.d(Ge,{K:()=>k});var u=j(576);function k(W){return W&&(0,u.m)(W.schedule)}},4482:(At,Ge,j)=>{"use strict";j.d(Ge,{A:()=>k,e:()=>W});var u=j(576);function k(be){return(0,u.m)(be?.lift)}function W(be){return ge=>{if(k(ge))return ge.lift(function(Ce){try{return be(Ce,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(At,Ge,j)=>{"use strict";function u(){}j.d(Ge,{Z:()=>u})},9635:(At,Ge,j)=>{"use strict";j.d(Ge,{U:()=>W,z:()=>k});var u=j(4671);function k(...be){return W(be)}function W(be){return 0===be.length?u.y:1===be.length?be[0]:function(Ce){return be.reduce((Ie,Ne)=>Ne(Ie),Ce)}}},7849:(At,Ge,j)=>{"use strict";j.d(Ge,{h:()=>W});var u=j(2416),k=j(3410);function W(be){k.z.setTimeout(()=>{const{onUnhandledError:ge}=u.v;if(!ge)throw be;ge(be)})}},4532:(At,Ge,j)=>{"use strict";function u(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ge,{z:()=>u})},655:(At,Ge,j)=>{"use strict";function be(ae,pe){var ye={};for(var ve in ae)Object.prototype.hasOwnProperty.call(ae,ve)&&pe.indexOf(ve)<0&&(ye[ve]=ae[ve]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(ve=Object.getOwnPropertySymbols(ae);it<ve.length;it++)pe.indexOf(ve[it])<0&&Object.prototype.propertyIsEnumerable.call(ae,ve[it])&&(ye[ve[it]]=ae[ve[it]])}return ye}function Ne(ae,pe,ye,ve){return new(ye||(ye=Promise))(function(Je,Mt){function Tn(Yn){try{pt(ve.next(Yn))}catch(di){Mt(di)}}function cn(Yn){try{pt(ve.throw(Yn))}catch(di){Mt(di)}}function pt(Yn){Yn.done?Je(Yn.value):function it(Je){return Je instanceof ye?Je:new ye(function(Mt){Mt(Je)})}(Yn.value).then(Tn,cn)}pt((ve=ve.apply(ae,pe||[])).next())})}function Oe(ae){return this instanceof Oe?(this.v=ae,this):new Oe(ae)}function Me(ae,pe,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,ve=ye.apply(ae,pe||[]),Je=[];return it={},Mt("next"),Mt("throw"),Mt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Mt(Vn){ve[Vn]&&(it[Vn]=function(pn){return new Promise(function(pr,dn){Je.push([Vn,pn,pr,dn])>1||Tn(Vn,pn)})})}function Tn(Vn,pn){try{!function cn(Vn){Vn.value instanceof Oe?Promise.resolve(Vn.value.v).then(pt,Yn):di(Je[0][2],Vn)}(ve[Vn](pn))}catch(pr){di(Je[0][3],pr)}}function pt(Vn){Tn("next",Vn)}function Yn(Vn){Tn("throw",Vn)}function di(Vn,pn){Vn(pn),Je.shift(),Je.length&&Tn(Je[0][0],Je[0][1])}}function St(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,pe=ae[Symbol.asyncIterator];return pe?pe.call(ae):(ae=function ce(ae){var pe="function"==typeof Symbol&&Symbol.iterator,ye=pe&&ae[pe],ve=0;if(ye)return ye.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ve>=ae.length&&(ae=void 0),{value:ae&&ae[ve++],done:!ae}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ye={},ve("next"),ve("throw"),ve("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ve(Je){ye[Je]=ae[Je]&&function(Mt){return new Promise(function(Tn,cn){!function it(Je,Mt,Tn,cn){Promise.resolve(cn).then(function(pt){Je({value:pt,done:Tn})},Mt)}(Tn,cn,(Mt=ae[Je](Mt)).done,Mt.value)})}}}j.d(Ge,{FC:()=>Me,KL:()=>St,_T:()=>be,mG:()=>Ne,qq:()=>Oe})},4650:(At,Ge,j)=>{"use strict";j.d(Ge,{$8M:()=>hl,$Z:()=>pm,AFp:()=>wI,ALo:()=>qC,AaK:()=>Ne,AsE:()=>hr,BQk:()=>Ub,CHM:()=>el,CRH:()=>Xm,CZH:()=>my,CqO:()=>KE,D6c:()=>hA,EJc:()=>Uw,EiD:()=>Nc,EpF:()=>ZE,F$t:()=>tS,F4k:()=>YE,FYo:()=>Xe,FiY:()=>nt,G48:()=>Ny,Gf:()=>iI,GfV:()=>Br,GkF:()=>zD,Gpc:()=>X,Hsn:()=>nS,Ikx:()=>gC,JOm:()=>tu,JVY:()=>cf,KtG:()=>ra,L6k:()=>df,LAX:()=>kr,LFG:()=>nr,LMc:()=>iP,LSH:()=>os,Lbi:()=>DI,Lck:()=>lx,MAs:()=>zE,MGl:()=>Hb,MMx:()=>_w,NdJ:()=>Gb,O4$:()=>ad,OlP:()=>pi,Oqu:()=>uC,PXZ:()=>Zx,Q6J:()=>jD,QGY:()=>$b,QP$:()=>us,Qsj:()=>Nt,QtT:()=>rx,R0b:()=>yl,RDi:()=>cr,Rgc:()=>ag,SBq:()=>V,SDv:()=>ix,Sil:()=>$R,Suo:()=>rI,TTD:()=>na,TgZ:()=>Fb,Tol:()=>fS,Udp:()=>sC,VKq:()=>ww,W1O:()=>dy,WD2:()=>Ao,WLB:()=>Zm,X6Q:()=>Ay,XFs:()=>yt,Xpm:()=>ne,Xts:()=>qu,Y36:()=>Oh,YKP:()=>VC,YNc:()=>WE,Yjl:()=>mn,Yz7:()=>pn,Z0I:()=>xr,ZZ4:()=>By,_Bn:()=>BC,_UZ:()=>Bb,_Vd:()=>v,_c5:()=>cA,_uU:()=>Zb,aQg:()=>Xw,c2e:()=>Vw,cJS:()=>dn,cg1:()=>Qv,dDg:()=>jx,dqk:()=>Un,eBb:()=>$g,eFA:()=>NI,ekj:()=>oC,eoX:()=>xI,f3M:()=>S,g9A:()=>Lw,h0i:()=>rg,hGG:()=>dA,hYB:()=>ZD,hij:()=>Ha,iGM:()=>nI,ifc:()=>Ot,ip1:()=>pg,jDz:()=>UC,kEZ:()=>Dw,kL8:()=>_C,kcU:()=>Qd,lG2:()=>qi,lcZ:()=>ZC,lqb:()=>Ql,lri:()=>mg,mCW:()=>Xs,n5z:()=>yo,oAB:()=>kt,oJD:()=>wo,oxw:()=>qD,pB0:()=>Gg,pQV:()=>kC,q3G:()=>Ln,q4F:()=>to,qLn:()=>Nd,qOj:()=>Qp,qZA:()=>Lb,qzn:()=>Ec,rWj:()=>SI,s9C:()=>as,sBO:()=>eA,sIi:()=>re,s_b:()=>Km,soG:()=>by,tb:()=>CI,tp0:()=>Ht,uIk:()=>Nn,vHH:()=>Le,vpe:()=>ou,wAp:()=>Xt,xp6:()=>$p,ynx:()=>Vb,z2F:()=>Ey,z3N:()=>Vo,zSh:()=>Yl,zs3:()=>ys});var u=j(7579),k=j(727),W=j(9751),be=j(6451),ge=j(3099);function Ce(s){for(let o in s)if(s[o]===Ce)return o;throw Error("Could not find renamed property on target object.")}function Ie(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ae(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const J=Ce({__forward_ref__:Ce});function X(s){return s.__forward_ref__=X,s.toString=function(){return Ne(this())},s}function ce(s){return tt(s)?s():s}function tt(s){return"function"==typeof s&&s.hasOwnProperty(J)&&s.__forward_ref__===X}class Le extends Error{constructor(o,l){super(function ht(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Oe(s){return"string"==typeof s?s:null==s?"":String(s)}function ke(s,o){throw new Le(-201,!1)}function pt(s,o,l,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${l} ${h} ${o} <=Actual]`))}function pn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function dn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Qt(s){return En(s,hi)||En(s,Ar)}function xr(s){return null!==Qt(s)}function En(s,o){return s.hasOwnProperty(o)?s[o]:null}function ts(s){return s&&(s.hasOwnProperty(Oi)||s.hasOwnProperty(vi))?s[Oi]:null}const hi=Ce({\u0275prov:Ce}),Oi=Ce({\u0275inj:Ce}),Ar=Ce({ngInjectableDef:Ce}),vi=Ce({ngInjectorDef:Ce});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Gr;function Cn(s){const o=Gr;return Gr=s,o}function ni(s,o,l){const h=Qt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&yt.Optional?null:void 0!==o?o:void ke(Ne(s))}function Fi(s){return{toString:s}.toString()}var wi=(()=>((wi=wi||{})[wi.OnPush=0]="OnPush",wi[wi.Default=1]="Default",wi))(),Ot=(()=>{return(s=Ot||(Ot={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ot;var s})();const Un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zi={},jt=[],Is=Ce({\u0275cmp:Ce}),Sn=Ce({\u0275dir:Ce}),ns=Ce({\u0275pipe:Ce}),In=Ce({\u0275mod:Ce}),oe=Ce({\u0275fac:Ce}),te=Ce({__NG_ELEMENT_ID__:Ce});let K=0;function ne(s){return Fi(()=>{const l=!0===s.standalone,h={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===wi.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ot.Emulated,id:"c"+K++,styles:s.styles||jt,_:null,setInput:null,schemas:s.schemas||null,tView:null},_=s.dependencies,D=s.features;return f.inputs=Fn(s.inputs,h),f.outputs=Fn(s.outputs),D&&D.forEach(T=>T(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(ze).filter(ct):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(Di).filter(ct):null,f})}function ze(s){return on(s)||ai(s)}function ct(s){return null!==s}function kt(s){return Fi(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Fn(s,o){if(null==s)return zi;const l={};for(const h in s)if(s.hasOwnProperty(h)){let f=s[h],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),l[f]=h,o&&(o[f]=_)}return l}const qi=ne;function mn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function on(s){return s[Is]||null}function ai(s){return s[Sn]||null}function Di(s){return s[ns]||null}function us(s){const o=on(s)||ai(s)||Di(s);return null!==o&&o.standalone}function jr(s,o){const l=s[In]||null;if(!l&&!0===o)throw new Error(`Type ${Ne(s)} does not have '\u0275mod' property.`);return l}function Ui(s){return Array.isArray(s)&&"object"==typeof s[1]}function Qi(s){return Array.isArray(s)&&!0===s[1]}function ho(s){return 0!=(8&s.flags)}function ps(s){return 2==(2&s.flags)}function xl(s){return 1==(1&s.flags)}function gr(s){return null!==s.template}function Ya(s){return 0!=(256&s[2])}function xo(s,o){return s.hasOwnProperty(oe)?s[oe]:null}class Ao{constructor(o,l,h){this.previousValue=o,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function na(){return Ka}function Ka(s){return s.type.prototype.ngOnChanges&&(s.setInput=Xn),Jn}function Jn(){const s=nf(this),o=s?.current;if(o){const l=s.previous;if(l===zi)s.previous=o;else for(let h in o)l[h]=o[h];s.current=null,this.ngOnChanges(o)}}function Xn(s,o,l,h){const f=nf(s)||function mr(s,o){return s[ed]=o}(s,{previous:zi,current:null}),_=f.current||(f.current={}),D=f.previous,T=this.declaredInputs[l],E=D[T];_[T]=new Ao(E&&E.currentValue,o,D===zi),s[h]=o}na.ngInherit=!0;const ed="__ngSimpleChanges__";function nf(s){return s[ed]||null}function $i(s){for(;Array.isArray(s);)s=s[0];return s}function As(s,o){return $i(o[s])}function rs(s,o){return $i(o[s.index])}function Ja(s,o){return s.data[o]}function No(s,o){return s[o]}function An(s,o){const l=o[s];return Ui(l)?l:l[0]}function Xa(s){return 64==(64&s[2])}function po(s,o){return null==o?null:s[o]}function mu(s){s[18]=0}function ei(s,o){s[5]+=o;let l=s,h=s[3];for(;null!==h&&(1===o&&1===l[5]||-1===o&&0===l[5]);)h[5]+=o,l=h,h=h[3]}const Zt={lFrame:kl(null),bindingsEnabled:!0};function mo(){return Zt.bindingsEnabled}function Ze(){return Zt.lFrame.lView}function _n(){return Zt.lFrame.tView}function el(s){return Zt.lFrame.contextLView=s,s[8]}function ra(s){return Zt.lFrame.contextLView=null,s}function Ji(){let s=vu();for(;null!==s&&64===s.type;)s=s.parent;return s}function vu(){return Zt.lFrame.currentTNode}function tl(){const s=Zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function gs(s,o){const l=Zt.lFrame;l.currentTNode=s,l.isParent=o}function nl(){return Zt.lFrame.isParent}function Rl(){Zt.lFrame.isParent=!1}function Gi(){const s=Zt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Hi(){return Zt.lFrame.bindingIndex}function _o(){return Zt.lFrame.bindingIndex++}function Oo(s){const o=Zt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Du(s){Zt.lFrame.inI18n=s}function cp(s,o){const l=Zt.lFrame;l.bindingIndex=l.bindingRootIndex=s,fc(o)}function fc(s){Zt.lFrame.currentDirectiveIndex=s}function Ta(){return Zt.lFrame.currentQueryIndex}function Iu(s){Zt.lFrame.currentQueryIndex=s}function sd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Pl(s,o,l){if(l&yt.SkipSelf){let f=o,_=s;for(;!(f=f.parent,null!==f||l&yt.Host||(f=sd(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;o=f,s=_}const h=Zt.lFrame=Mo();return h.currentTNode=o,h.lView=s,!0}function Tu(s){const o=Mo(),l=s[1];Zt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Mo(){const s=Zt.lFrame,o=null===s?null:s.child;return null===o?kl(s):o}function kl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function od(){const s=Zt.lFrame;return Zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Kd=od;function il(){const s=od();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function _r(){return Zt.lFrame.selectedIndex}function Ns(s){Zt.lFrame.selectedIndex=s}function Ti(){const s=Zt.lFrame;return Ja(s.tView,s.selectedIndex)}function ad(){Zt.lFrame.currentNamespace="svg"}function Qd(){!function Fl(){Zt.lFrame.currentNamespace=null}()}function Se(s,o){for(let l=o.directiveStart,h=o.directiveEnd;l<h;l++){const _=s.data[l].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:T,ngAfterViewInit:E,ngAfterViewChecked:O,ngOnDestroy:L}=_;D&&(s.contentHooks||(s.contentHooks=[])).push(-l,D),T&&((s.contentHooks||(s.contentHooks=[])).push(l,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,T)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),O&&((s.viewHooks||(s.viewHooks=[])).push(l,O),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,O)),null!=L&&(s.destroyHooks||(s.destroyHooks=[])).push(l,L)}}function Ct(s,o,l){Ei(s,o,3,l)}function Yt(s,o,l,h){(3&s[2])===l&&Ei(s,o,l,h)}function jn(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Ei(s,o,l,h){const _=h??-1,D=o.length-1;let T=0;for(let E=void 0!==h?65535&s[18]:0;E<D;E++)if("number"==typeof o[E+1]){if(T=o[E],null!=h&&T>=h)break}else o[E]<0&&(s[18]+=65536),(T<_||-1==_)&&(ii(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function ii(s,o,l,h){const f=l[h]<0,_=l[h+1],T=s[f?-l[h]:l[h]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{_.call(T)}finally{}}}else try{_.call(T)}finally{}}class Ea{constructor(o,l,h){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function ol(s,o,l){let h=0;for(;h<l.length;){const f=l[h];if("number"==typeof f){if(0!==f)break;h++;const _=l[h++],D=l[h++],T=l[h++];s.setAttribute(o,D,T,_)}else{const _=f,D=l[++h];pc(_)?s.setProperty(o,_,D):s.setAttribute(o,_,D),h++}}return h}function Po(s){return 3===s||4===s||6===s}function pc(s){return 64===s.charCodeAt(0)}function Su(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let h=0;h<o.length;h++){const f=o[h];"number"==typeof f?l=f:0===l||Jd(s,l,f,null,-1===l||2===l?o[++h]:null)}}return s}function Jd(s,o,l,h,f){let _=0,D=s.length;if(-1===o)D=-1;else for(;_<s.length;){const T=s[_++];if("number"==typeof T){if(T===o){D=-1;break}if(T>o){D=_-1;break}}}for(;_<s.length;){const T=s[_];if("number"==typeof T)break;if(T===l){if(null===h)return void(null!==f&&(s[_+1]=f));if(h===s[_+1])return void(s[_+2]=f)}_++,null!==h&&_++,null!==f&&_++}-1!==D&&(s.splice(D,0,o),_=D+1),s.splice(_++,0,l),null!==h&&s.splice(_++,0,h),null!==f&&s.splice(_++,0,f)}function xu(s){return-1!==s}function Si(s){return 32767&s}function Bl(s,o){let l=function Sa(s){return s>>16}(s),h=o;for(;l>0;)h=h[15],l--;return h}let Os=!0;function Vl(s){const o=Os;return Os=s,o}let xi=0;const Mr={};function ll(s,o){const l=mc(s,o);if(-1!==l)return l;const h=o[1];h.firstCreatePass&&(s.injectorIndex=o.length,Au(h.data,s),Au(o,null),Au(h.blueprint,null));const f=ul(s,o),_=s.injectorIndex;if(xu(f)){const D=Si(f),T=Bl(f,o),E=T[1].data;for(let O=0;O<8;O++)o[_+O]=T[D+O]|E[D+O]}return o[_+8]=f,_}function Au(s,o){s.push(0,0,0,0,0,0,0,0,o)}function mc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ul(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,h=null,f=o;for(;null!==f;){if(h=Fo(f),null===h)return-1;if(l++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function vo(s,o,l){!function al(s,o,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(te)&&(h=l[te]),null==h&&(h=l[te]=xi++);const f=255&h;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function Aa(s,o,l){if(l&yt.Optional||void 0!==s)return s;ke()}function vc(s,o,l,h){if(l&yt.Optional&&void 0===h&&(h=null),0==(l&(yt.Self|yt.Host))){const f=s[9],_=Cn(void 0);try{return f?f.get(o,h,l&yt.Optional):ni(o,h,l&yt.Optional)}finally{Cn(_)}}return Aa(h,0,l)}function cl(s,o,l,h=yt.Default,f){if(null!==s){if(1024&o[2]){const D=function ko(s,o,l,h,f){let _=s,D=o;for(;null!==_&&null!==D&&1024&D[2]&&!(256&D[2]);){const T=Nu(_,D,l,h|yt.Self,Mr);if(T!==Mr)return T;let E=_.parent;if(!E){const O=D[21];if(O){const L=O.get(l,Mr,h);if(L!==Mr)return L}E=Fo(D),D=D[15]}_=E}return f}(s,o,l,h,Mr);if(D!==Mr)return D}const _=Nu(s,o,l,h,Mr);if(_!==Mr)return _}return vc(o,l,h,f)}function Nu(s,o,l,h,f){const _=function cd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(te)?s[te]:void 0;return"number"==typeof o?o>=0?255&o:dl:o}(l);if("function"==typeof _){if(!Pl(o,s,h))return h&yt.Host?Aa(f,0,h):vc(o,l,h,f);try{const D=_(h);if(null!=D||h&yt.Optional)return D;ke()}finally{Kd()}}else if("number"==typeof _){let D=null,T=mc(s,o),E=-1,O=h&yt.Host?o[16][6]:null;for((-1===T||h&yt.SkipSelf)&&(E=-1===T?ul(s,o):o[T+8],-1!==E&&Mu(h,!1)?(D=o[1],T=Si(E),o=Bl(E,o)):T=-1);-1!==T;){const L=o[1];if(Ou(_,T,L.data)){const z=sr(T,o,l,D,h,O);if(z!==Mr)return z}E=o[T+8],-1!==E&&Mu(h,o[1].data[T+8]===O)&&Ou(_,T,o)?(D=L,T=Si(E),o=Bl(E,o)):T=-1}}return f}function sr(s,o,l,h,f,_){const D=o[1],T=D.data[s+8],L=er(T,D,l,null==h?ps(T)&&Os:h!=D&&0!=(3&T.type),f&yt.Host&&_===T);return null!==L?oa(o,D,L,T):Mr}function er(s,o,l,h,f){const _=s.providerIndexes,D=o.data,T=1048575&_,E=s.directiveStart,L=_>>20,se=f?T+L:s.directiveEnd;for(let me=h?T:T+L;me<se;me++){const $e=D[me];if(me<E&&l===$e||me>=E&&$e.type===l)return me}if(f){const me=D[E];if(me&&gr(me)&&me.type===l)return E}return null}function oa(s,o,l,h){let f=s[l];const _=o.data;if(function Dr(s){return s instanceof Ea}(f)){const D=f;D.resolving&&function at(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Oe(s)}(_[l]));const T=Vl(D.canSeeViewProviders);D.resolving=!0;const E=D.injectImpl?Cn(D.injectImpl):null;Pl(s,h,yt.Default);try{f=s[l]=D.factory(void 0,_,s,h),o.firstCreatePass&&l>=h.directiveStart&&function Ve(s,o,l){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:_}=o.type.prototype;if(h){const D=Ka(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,D),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,D)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),_&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_))}(l,_[l],o)}finally{null!==E&&Cn(E),Vl(T),D.resolving=!1,Kd()}}return f}function Ou(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Mu(s,o){return!(s&yt.Self||s&yt.Host&&o)}class aa{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,h){return cl(this._tNode,this._lView,o,h,l)}}function dl(){return new aa(Ji(),Ze())}function yo(s){return Fi(()=>{const o=s.prototype.constructor,l=o[oe]||la(o),h=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==h;){const _=f[oe]||la(f);if(_&&_!==l)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function la(s){return tt(s)?()=>{const o=la(ce(s));return o&&o()}:xo(s)}function Fo(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function hl(s){return function _c(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const h=l.length;let f=0;for(;f<h;){const _=l[f];if(Po(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<h&&"string"==typeof l[f];)f++;else{if(_===o)return l[f+1];f+=2}}}return null}(Ji(),s)}const Na="__parameters__";function Gl(s,o,l){return Fi(()=>{const h=function yc(s){return function(...l){if(s){const h=s(...l);for(const f in h)this[f]=h[f]}}}(o);function f(..._){if(this instanceof f)return h.apply(this,_),this;const D=new f(..._);return T.annotation=D,T;function T(E,O,L){const z=E.hasOwnProperty(Na)?E[Na]:Object.defineProperty(E,Na,{value:[]})[Na];for(;z.length<=L;)z.push(null);return(z[L]=z[L]||[]).push(D),E}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class pi{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=pn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let h=s[l];Array.isArray(h)?(o===s&&(o=s.slice(0,l)),qr(h,o)):o!==s&&o.push(h)}return o}function or(s,o){s.forEach(l=>Array.isArray(l)?or(l,o):o(l))}function ar(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ri(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qn(s,o){const l=[];for(let h=0;h<s;h++)l.push(o);return l}function tr(s,o,l){let h=Oa(s,o);return h>=0?s[1|h]=l:(h=~h,function fd(s,o,l,h){let f=s.length;if(f==o)s.push(l,h);else if(1===f)s.push(h,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=h}}(s,h,o,l)),h}function ku(s,o){const l=Oa(s,o);if(l>=0)return s[1|l]}function Oa(s,o){return function Fu(s,o,l){let h=0,f=s.length>>l;for(;f!==h;){const _=h+(f-h>>1),D=s[_<<l];if(o===D)return _<<l;D>o?f=_:h=_+1}return~(f<<l)}(s,o,1)}const Pi={},Rs="__NG_DI_FLAG__",Wn="ngTempTokenPath",lr=/\n/gm,Ps="__source";let Ks;function vr(s){const o=Ks;return Ks=s,o}function wc(s,o=yt.Default){if(void 0===Ks)throw new Le(-203,!1);return null===Ks?ni(s,void 0,o):Ks.get(s,o&yt.Optional?null:void 0,o)}function nr(s,o=yt.Default){return(function Hr(){return Gr}()||wc)(ce(s),o)}function S(s,o=yt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),nr(s,o)}function N(s){const o=[];for(let l=0;l<s.length;l++){const h=ce(s[l]);if(Array.isArray(h)){if(0===h.length)throw new Le(900,!1);let f,_=yt.Default;for(let D=0;D<h.length;D++){const T=h[D],E=q(T);"number"==typeof E?-1===E?f=T.token:_|=E:f=T}o.push(nr(f,_))}else o.push(nr(h))}return o}function F(s,o){return s[Rs]=o,s.prototype[Rs]=o,s}function q(s){return s[Rs]}const nt=F(Gl("Optional"),8),Ht=F(Gl("SkipSelf"),4);let rh,ki,Ic;function cr(s){rh=s}function ir(){return void 0!==rh?rh:typeof document<"u"?document:void 0}function ha(s){return function da(){if(void 0===ki&&(ki=null,Un.trustedTypes))try{ki=Un.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ki}()?.createHTML(s)||s}function uf(s){return function ka(){if(void 0===Ic&&(Ic=null,Un.trustedTypes))try{Ic=Un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ic}()?.createHTML(s)||s}class Bo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vp extends Bo{getTypeName(){return"HTML"}}class Tc extends Bo{getTypeName(){return"Style"}}class Gu extends Bo{getTypeName(){return"Script"}}class bo extends Bo{getTypeName(){return"URL"}}class vn extends Bo{getTypeName(){return"ResourceURL"}}function Vo(s){return s instanceof Bo?s.changingThisBreaksApplicationSecurity:s}function Ec(s,o){const l=function Sc(s){return s instanceof Bo&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function cf(s){return new vp(s)}function df(s){return new Tc(s)}function $g(s){return new Gu(s)}function kr(s){return new bo(s)}function Gg(s){return new vn(s)}function Ni(s){const o=new yp(s);return function hf(){try{return!!(new window.DOMParser).parseFromString(ha(""),"text/html")}catch{return!1}}()?new Fa(o):o}class Fa{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(ha(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class yp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=ha(o),l;const h=this.inertDocument.createElement("body");return h.innerHTML=ha(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const D=l.item(f).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&o.removeAttribute(D)}let h=o.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Js=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xs(s){return(s=String(s)).match(Js)?s:"unsafe:"+s}function Uo(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Hu(...s){const o={};for(const l of s)for(const h in l)l.hasOwnProperty(h)&&(o[h]=!0);return o}const zl=Uo("area,br,col,hr,img,wbr"),oh=Uo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vd=Uo("rp,rt"),fa=Hu(zl,Hu(oh,Uo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hu(vd,Uo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hu(vd,oh)),lh=Uo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xc=Hu(lh,Uo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Uo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uh=Uo("script,style,template");class pf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!fa.hasOwnProperty(l))return this.sanitizedSomething=!0,!uh.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=o.attributes;for(let f=0;f<h.length;f++){const _=h.item(f),D=_.name,T=D.toLowerCase();if(!xc.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let E=_.value;lh[T]&&(E=Xs(E)),this.buf.push(" ",D,'="',dh(E),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();fa.hasOwnProperty(l)&&!zl.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(dh(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const ch=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bd=/([^\#-~ |!])/g;function dh(s){return s.replace(/&/g,"&amp;").replace(ch,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(bd,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ac;function Nc(s,o){let l=null;try{Ac=Ac||Ni(s);let h=o?String(o):"";l=Ac.getInertBodyElement(h);let f=5,_=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=_,_=l.innerHTML,l=Ac.getInertBodyElement(h)}while(h!==_);return ha((new pf).sanitizeChildren(Oc(l)||l))}finally{if(l){const h=Oc(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Oc(s){return"content"in s&&function wd(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function wo(s){const o=Cd();return o?uf(o.sanitize(Ln.HTML,s)||""):Ec(s,"HTML")?uf(Vo(s)):Nc(ir(),Oe(s))}function os(s){const o=Cd();return o?o.sanitize(Ln.URL,s)||"":Ec(s,"URL")?Vo(s):Xs(Oe(s))}function Cd(){const s=Ze();return s&&s[12]}const qu=new pi("ENVIRONMENT_INITIALIZER"),Id=new pi("INJECTOR",-1),Mc=new pi("INJECTOR_DEF_TYPES");class gf{get(o,l=Pi){if(l===Pi){const h=new Error(`NullInjectorError: No provider for ${Ne(o)}!`);throw h.name="NullInjectorError",h}return l}}function mf(...s){return{\u0275providers:Td(0,s)}}function Td(s,...o){const l=[],h=new Set;let f;return or(o,_=>{const D=_;eo(D,l,[],h)&&(f||(f=[]),f.push(D))}),void 0!==f&&hh(f,l),l}function hh(s,o){for(let l=0;l<s.length;l++){const{providers:f}=s[l];or(f,_=>{o.push(_)})}}function eo(s,o,l,h){if(!(s=ce(s)))return!1;let f=null,_=ts(s);const D=!_&&on(s);if(_||D){if(D&&!D.standalone)return!1;f=s}else{const E=s.ngModule;if(_=ts(E),!_)return!1;f=E}const T=h.has(f);if(D){if(T)return!1;if(h.add(f),D.dependencies){const E="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const O of E)eo(O,o,l,h)}}else{if(!_)return!1;{if(null!=_.imports&&!T){let O;h.add(f);try{or(_.imports,L=>{eo(L,o,l,h)&&(O||(O=[]),O.push(L))})}finally{}void 0!==O&&hh(O,o)}if(!T){const O=xo(f)||(()=>new f);o.push({provide:f,useFactory:O,deps:jt},{provide:Mc,useValue:f,multi:!0},{provide:qu,useValue:()=>nr(f),multi:!0})}const E=_.providers;null==E||T||or(E,L=>{o.push(L)})}}return f!==s&&void 0!==s.providers}const Ed=Ce({provide:String,useValue:Ce});function Sd(s){return null!==s&&"object"==typeof s&&Ed in s}function Zl(s){return"function"==typeof s}const Yl=new pi("Set Injector scope."),ks={},Zu={};let Kl;function Pc(){return void 0===Kl&&(Kl=new gf),Kl}class Ql{}class Do extends Ql{constructor(o,l,h,f){super(),this.parent=l,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mh(o,D=>this.processProvider(D)),this.records.set(Id,Ir(void 0,this)),f.has("environment")&&this.records.set(Ql,Ir(void 0,this));const _=this.records.get(Yl);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Mc.multi,jt,yt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=vr(this),h=Cn(void 0);try{return o()}finally{vr(l),Cn(h)}}get(o,l=Pi,h=yt.Default){this.assertNotDestroyed();const f=vr(this),_=Cn(void 0);try{if(!(h&yt.SkipSelf)){let T=this.records.get(o);if(void 0===T){const E=function _f(s){return"function"==typeof s||"object"==typeof s&&s instanceof pi}(o)&&Qt(o);T=E&&this.injectableDefInScope(E)?Ir(Fr(o),ks):null,this.records.set(o,T)}if(null!=T)return this.hydrate(o,T)}return(h&yt.Self?Pc():this.parent).get(o,l=h&yt.Optional&&l===Pi?null:l)}catch(D){if("NullInjectorError"===D.name){if((D[Wn]=D[Wn]||[]).unshift(Ne(o)),f)throw D;return function he(s,o,l,h){const f=s[Wn];throw o[Ps]&&f.unshift(o[Ps]),s.message=function Ee(s,o,l,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=Ne(o);if(Array.isArray(o))f=o.map(Ne).join(" -> ");else if("object"==typeof o){let _=[];for(let D in o)if(o.hasOwnProperty(D)){let T=o[D];_.push(D+":"+("string"==typeof T?JSON.stringify(T):Ne(T)))}f=`{${_.join(", ")}}`}return`${l}${h?"("+h+")":""}[${f}]: ${s.replace(lr,"\n  ")}`}("\n"+s.message,f,l,h),s.ngTokenPath=f,s[Wn]=null,s}(D,o,"R3InjectorError",this.source)}throw D}finally{Cn(_),vr(f)}}resolveInjectorInitializers(){const o=vr(this),l=Cn(void 0);try{const h=this.get(qu.multi,jt,yt.Self);for(const f of h)f()}finally{vr(o),Cn(l)}}toString(){const o=[],l=this.records;for(const h of l.keys())o.push(Ne(h));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(o){let l=Zl(o=ce(o))?o:ce(o&&o.provide);const h=function kc(s){return Sd(s)?Ir(void 0,s.useValue):Ir(Fc(s),ks)}(o);if(Zl(o)||!0!==o.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Ir(void 0,ks,!0),f.factory=()=>N(f.multi),this.records.set(l,f)),l=o,f.multi.push(o)}this.records.set(l,h)}hydrate(o,l){return l.value===ks&&(l.value=Zu,l.value=l.factory()),"object"==typeof l.value&&l.value&&function gh(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ce(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Fr(s){const o=Qt(s),l=null!==o?o.factory:xo(s);if(null!==l)return l;if(s instanceof pi)throw new Le(204,!1);if(s instanceof Function)return function Jl(s){const o=s.length;if(o>0)throw qn(o,"?"),new Le(204,!1);const l=function kn(s){const o=s&&(s[hi]||s[Ar]);if(o){const l=function Wi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Le(204,!1)}function Fc(s,o,l){let h;if(Zl(s)){const f=ce(s);return xo(f)||Fr(f)}if(Sd(s))h=()=>ce(s.useValue);else if(function ph(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...N(s.deps||[]));else if(function Rc(s){return!(!s||!s.useExisting)}(s))h=()=>nr(ce(s.useExisting));else{const f=ce(s&&(s.useClass||s.provide));if(!function Gt(s){return!!s.deps}(s))return xo(f)||Fr(f);h=()=>new f(...N(s.deps))}return h}function Ir(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Yu(s){return!!s.\u0275providers}function mh(s,o){for(const l of s)Array.isArray(l)?mh(l,o):Yu(l)?mh(l.\u0275providers,o):o(l)}class Ku{}class m{resolveComponentFactory(o){throw function Lr(s){const o=Error(`No component factory found for ${Ne(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let v=(()=>{class s{}return s.NULL=new m,s})();function I(){return M(Ji(),Ze())}function M(s,o){return new V(rs(s,o))}let V=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=I,s})();function le(s){return s instanceof V?s.nativeElement:s}class Xe{}let Nt=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Kt(){const s=Ze(),l=An(Ji().index,s);return(Ui(l)?l:s)[11]}(),s})(),$t=(()=>{class s{}return s.\u0275prov=pn({token:s,providedIn:"root",factory:()=>null}),s})();class Br{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const to=new Br("14.2.2"),La={};function Wg(s){return s.ngOriginalError}class Nd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Wg(o);for(;l&&Wg(l);)l=Wg(l);return l||null}}const z_=/^>|^->|<!--|-->|--!>|<!-$/g,S0=/(<|>)/;const xp=new Map;let O0=0;const Qg="__ngContext__";function vs(s,o){Ui(o)?(s[Qg]=o[20],function qg(s){xp.set(s[20],s)}(o)):s[Qg]=o}function eu(s){return s instanceof Function?s():s}var tu=(()=>((tu=tu||{})[tu.Important=1]="Important",tu[tu.DashCase=2]="DashCase",tu))();let wf;function Np(s,o){return wf(s,o)}function Dh(s){const o=s[3];return Qi(o)?o[3]:o}function im(s){return G0(s[13])}function Op(s){return G0(s[4])}function G0(s){for(;null!==s&&!Qi(s);)s=s[4];return s}function Ch(s,o,l,h,f){if(null!=h){let _,D=!1;Qi(h)?_=h:Ui(h)&&(D=!0,h=h[0]);const T=$i(h);0===s&&null!==l?null==f?Wo(o,l,T):Ls(o,l,T,f||null,!0):1===s&&null!==l?Ls(o,l,T,f||null,!0):2===s?nv(o,T,D):3===s&&o.destroyNode(T),null!=_&&function Z0(s,o,l,h,f){const _=l[7];_!==$i(l)&&Ch(o,s,h,_,f);for(let T=10;T<l.length;T++){const E=l[T];Ef(E[1],E,s,o,h,_)}}(o,s,_,l,f)}}function rm(s,o){return s.createText(o)}function X_(s,o,l){s.setValue(o,l)}function DD(s,o){return s.createComment(function zg(s){return s.replace(z_,o=>o.replace(S0,"\u200b$1\u200b"))}(o))}function sm(s,o,l){return s.createElement(o,l)}function Mp(s,o){const l=s[9],h=l.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,ei(f,-1)),l.splice(h,1)}function om(s,o){if(s.length<=10)return;const l=10+o,h=s[l];if(h){const f=h[17];null!==f&&f!==s&&Mp(f,h),o>0&&(s[l-1][4]=h[4]);const _=ri(s,10+o);!function CD(s,o){Ef(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(h[1],h);const D=_[19];null!==D&&D.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Df(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Ef(s,o,l,3,null,null),function ED(s){let o=s[13];if(!o)return Va(s[1],s);for(;o;){let l=null;if(Ui(o))l=o[13];else{const h=o[10];h&&(l=h)}if(!l){for(;o&&!o[4]&&o!==s;)Ui(o)&&Va(o[1],o),o=o[3];null===o&&(o=s),Ui(o)&&Va(o[1],o),l=o&&o[4]}o=l}}(o)}}function Va(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function ev(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let h=0;h<l.length;h+=2){const f=o[l[h]];if(!(f instanceof Ea)){const _=l[h+1];if(Array.isArray(_))for(let D=0;D<_.length;D+=2){const T=f[_[D]],E=_[D+1];try{E.call(T)}finally{}}else try{_.call(f)}finally{}}}}(s,o),function W0(s,o){const l=s.cleanup,h=o[7];let f=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const D=l[_+1],T="function"==typeof D?D(o):$i(o[D]),E=h[f=l[_+2]],O=l[_+3];"boolean"==typeof O?T.removeEventListener(l[_],E,O):O>=0?h[f=O]():h[f=-O].unsubscribe(),_+=2}else{const D=h[f=l[_+1]];l[_].call(D)}if(null!==h){for(let _=f+1;_<h.length;_++)(0,h[_])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Qi(o[3])){l!==o[3]&&Mp(l,o);const h=o[19];null!==h&&h.detachView(s)}!function Yg(s){xp.delete(s[20])}(o)}}function jo(s,o,l){return Ua(s,o.parent,l)}function Ua(s,o,l){let h=o;for(;null!==h&&40&h.type;)h=(o=h).parent;if(null===h)return l[0];if(2&h.flags){const f=s.data[h.directiveStart].encapsulation;if(f===Ot.None||f===Ot.Emulated)return null}return rs(h,l)}function Ls(s,o,l,h,f){s.insertBefore(o,l,h,f)}function Wo(s,o,l){s.appendChild(o,l)}function Rp(s,o,l,h,f){null!==h?Ls(s,o,l,h,f):Wo(s,o,l)}function Uc(s,o){return s.parentNode(o)}function am(s,o,l){return lm(s,o,l)}function Ih(s,o,l){return 40&s.type?rs(s,l):null}let Tf,lm=Ih;function um(s,o){lm=s,Tf=o}function Pp(s,o,l,h){const f=jo(s,h,o),_=o[11],T=am(h.parent||o[6],h,o);if(null!=f)if(Array.isArray(l))for(let E=0;E<l.length;E++)Rp(_,f,l[E],T,!1);else Rp(_,f,l,T,!1);void 0!==Tf&&Tf(_,h,o,l,f)}function kp(s,o){if(null!==o){const l=o.type;if(3&l)return rs(o,s);if(4&l)return Th(-1,s[o.index]);if(8&l){const h=o.child;if(null!==h)return kp(s,h);{const f=s[o.index];return Qi(f)?Th(-1,f):$i(f)}}if(32&l)return Np(o,s)()||$i(s[o.index]);{const h=tv(s,o);return null!==h?Array.isArray(h)?h[0]:kp(Dh(s[16]),h):kp(s,o.next)}}return null}function tv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Th(s,o){const l=10+s+1;if(l<o.length){const h=o[l],f=h[1].firstChild;if(null!==f)return kp(h,f)}return o[7]}function nv(s,o,l){const h=Uc(s,o);h&&function Cf(s,o,l,h){s.removeChild(o,l,h)}(s,h,o,l)}function cm(s,o,l,h,f,_,D){for(;null!=l;){const T=h[l.index],E=l.type;if(D&&0===o&&(T&&vs($i(T),h),l.flags|=4),64!=(64&l.flags))if(8&E)cm(s,o,l.child,h,f,_,!1),Ch(o,s,f,T,_);else if(32&E){const O=Np(l,h);let L;for(;L=O();)Ch(o,s,f,L,_);Ch(o,s,f,T,_)}else 16&E?iv(s,o,h,l,f,_):Ch(o,s,f,T,_);l=D?l.projectionNext:l.next}}function Ef(s,o,l,h,f,_){cm(l,h,s.firstChild,o,f,_,!1)}function iv(s,o,l,h,f,_){const D=l[16],E=D[6].projection[h.projection];if(Array.isArray(E))for(let O=0;O<E.length;O++)Ch(o,s,f,E[O],_);else cm(s,o,E,D[3],f,_,!0)}function $c(s,o,l){s.setAttribute(o,"style",l)}function zo(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Fp(s,o,l){let h=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const _=o.length;if(f+_===h||s.charCodeAt(f+_)<=32)return f}l=f+1}}const gl="ng-template";function Lp(s,o,l){let h=0;for(;h<s.length;){let f=s[h++];if(l&&"class"===f){if(f=s[h],-1!==Fp(f.toLowerCase(),o,0))return!0}else if(1===f){for(;h<s.length&&"string"==typeof(f=s[h++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function Gc(s){return 4===s.type&&s.value!==gl}function Bp(s,o,l){return o===(4!==s.type||l?s.value:gl)}function Vp(s,o,l){let h=4;const f=s.attrs||[],_=function Qu(s){for(let o=0;o<s.length;o++)if(Po(s[o]))return o;return s.length}(f);let D=!1;for(let T=0;T<o.length;T++){const E=o[T];if("number"!=typeof E){if(!D)if(4&h){if(h=2|1&h,""!==E&&!Bp(s,E,l)||""===E&&1===o.length){if(Bs(h))return!1;D=!0}}else{const O=8&h?E:o[++T];if(8&h&&null!==s.attrs){if(!Lp(s.attrs,O,l)){if(Bs(h))return!1;D=!0}continue}const z=Up(8&h?"class":E,f,Gc(s),l);if(-1===z){if(Bs(h))return!1;D=!0;continue}if(""!==O){let se;se=z>_?"":f[z+1].toLowerCase();const me=8&h?se:null;if(me&&-1!==Fp(me,O,0)||2&h&&O!==se){if(Bs(h))return!1;D=!0}}}}else{if(!D&&!Bs(h)&&!Bs(E))return!1;if(D&&Bs(E))continue;D=!1,h=E|1&h}}return Bs(h)||D}function Bs(s){return 0==(1&s)}function Up(s,o,l,h){if(null===o)return-1;let f=0;if(h||!l){let _=!1;for(;f<o.length;){const D=o[f];if(D===s)return f;if(3===D||6===D)_=!0;else{if(1===D||2===D){let T=o[++f];for(;"string"==typeof T;)T=o[++f];continue}if(4===D)break;if(0===D){f+=4;continue}}f+=_?1:2}return-1}return function Y0(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const h=s[l];if("number"==typeof h)return-1;if(h===o)return l;l++}return-1}(o,s)}function Sf(s,o,l=!1){for(let h=0;h<o.length;h++)if(Vp(s,o[h],l))return!0;return!1}function nu(s,o){e:for(let l=0;l<o.length;l++){const h=o[l];if(s.length===h.length){for(let f=0;f<s.length;f++)if(s[f]!==h[f])continue e;return!0}}return!1}function Hc(s,o){return s?":not("+o.trim()+")":o}function Eh(s){let o=s[0],l=1,h=2,f="",_=!1;for(;l<s.length;){let D=s[l];if("string"==typeof D)if(2&h){const T=s[++l];f+="["+D+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?f+="."+D:4&h&&(f+=" "+D);else""!==f&&!Bs(D)&&(o+=Hc(_,f),f=""),h=D,_=_||!Bs(h);l++}return""!==f&&(o+=Hc(_,f)),o}const ln={};function $p(s){ov(_n(),Ze(),_r()+s,!1)}function ov(s,o,l,h){if(!h)if(3==(3&o[2])){const _=s.preOrderCheckHooks;null!==_&&Ct(o,_,l)}else{const _=s.preOrderHooks;null!==_&&Yt(o,_,0,l)}Ns(l)}function hm(s,o=null,l=null,h){const f=fm(s,o,l,h);return f.resolveInjectorInitializers(),f}function fm(s,o=null,l=null,h,f=new Set){const _=[l||jt,mf(s)];return h=h||("object"==typeof s?void 0:Ne(s)),new Do(_,o||Pc(),h||null,f)}let ys=(()=>{class s{static create(l,h){if(Array.isArray(l))return hm({name:""},h,l,"");{const f=l.name??"";return hm({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=Pi,s.NULL=new gf,s.\u0275prov=pn({token:s,providedIn:"any",factory:()=>nr(Id)}),s.__NG_ELEMENT_ID__=-1,s})();function Oh(s,o=yt.Default){const l=Ze();return null===l?nr(s,o):cl(Ji(),l,ce(s),o)}function pm(){throw new Error("invalid")}function no(s,o){return s<<17|o<<2}function io(s){return s>>17&32767}function gm(s){return 2|s}function ec(s){return(131068&s)>>2}function mm(s,o){return-131069&s|o<<2}function ru(s){return 1|s}function xv(s,o){const l=s.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const f=l[h],_=l[h+1];if(-1!==_){const D=s.data[_];Iu(f),D.contentQueries(2,o[_],_)}}}function Im(s,o,l,h,f,_,D,T,E,O,L){const z=o.blueprint.slice();return z[0]=f,z[2]=76|h,(null!==L||s&&1024&s[2])&&(z[2]|=1024),mu(z),z[3]=z[15]=s,z[8]=l,z[10]=D||s&&s[10],z[11]=T||s&&s[11],z[12]=E||s&&s[12]||null,z[9]=O||s&&s[9]||null,z[6]=_,z[20]=function Z_(){return O0++}(),z[21]=L,z[16]=2==o.type?s[16]:z,z}function _l(s,o,l,h,f){let _=s.data[o];if(null===_)_=Tm(s,o,l,h,f),function rf(){return Zt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=l,_.value=h,_.attrs=f;const D=tl();_.injectorIndex=null===D?-1:D.injectorIndex}return gs(_,!0),_}function Tm(s,o,l,h,f){const _=vu(),D=nl(),E=s.data[o]=function _b(s,o,l,h,f,_){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?_:_&&_.parent,l,o,h,f);return null===s.firstChild&&(s.firstChild=E),null!==_&&(D?null==_.child&&null!==E.parent&&(_.child=E):null===_.next&&(_.next=E)),E}function Mh(s,o,l,h){if(0===l)return-1;const f=o.length;for(let _=0;_<l;_++)o.push(h),s.blueprint.push(h),s.data.push(null);return f}function Em(s,o,l){Tu(o);try{const h=s.viewQuery;null!==h&&Fm(1,h,l);const f=s.template;null!==f&&Av(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&xv(s,o),s.staticViewQueries&&Fm(2,s.viewQuery,l);const _=s.components;null!==_&&function pb(s,o){for(let l=0;l<o.length;l++)BD(s,o[l])}(o,_)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{o[2]&=-5,il()}}function Zp(s,o,l,h){const f=o[2];if(128!=(128&f)){Tu(o);try{mu(o),function wu(s){return Zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Av(s,o,l,2,h);const D=3==(3&f);if(D){const O=s.preOrderCheckHooks;null!==O&&Ct(o,O,null)}else{const O=s.preOrderHooks;null!==O&&Yt(o,O,0,null),jn(o,0)}if(function $v(s){for(let o=im(s);null!==o;o=Op(o)){if(!o[2])continue;const l=o[9];for(let h=0;h<l.length;h++){const f=l[h],_=f[3];0==(512&f[2])&&ei(_,1),f[2]|=512}}}(o),function ma(s){for(let o=im(s);null!==o;o=Op(o))for(let l=10;l<o.length;l++){const h=o[l],f=h[1];Xa(h)&&Zp(f,h,f.template,h[8])}}(o),null!==s.contentQueries&&xv(s,o),D){const O=s.contentCheckHooks;null!==O&&Ct(o,O)}else{const O=s.contentHooks;null!==O&&Yt(o,O,1),jn(o,1)}!function Sv(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const f=l[h];if(f<0)Ns(~f);else{const _=f,D=l[++h],T=l[++h];cp(D,_),T(2,o[_])}}}finally{Ns(-1)}}(s,o);const T=s.components;null!==T&&function fb(s,o){for(let l=0;l<o.length;l++)Sb(s,o[l])}(o,T);const E=s.viewQuery;if(null!==E&&Fm(2,E,h),D){const O=s.viewCheckHooks;null!==O&&Ct(o,O)}else{const O=s.viewHooks;null!==O&&Yt(o,O,2),jn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,ei(o[3],-1))}finally{il()}}}function Av(s,o,l,h,f){const _=_r(),D=2&h;try{Ns(-1),D&&o.length>22&&ov(s,o,22,!1),l(h,f)}finally{Ns(_)}}function Sm(s,o,l){if(ho(o)){const f=o.directiveEnd;for(let _=o.directiveStart;_<f;_++){const D=s.data[_];D.contentQueries&&D.contentQueries(1,l[_],_)}}}function Yp(s,o,l){!mo()||(function Db(s,o,l,h){const f=l.directiveStart,_=l.directiveEnd;s.firstCreatePass||ll(l,o),vs(h,o);const D=l.initialInputs;for(let T=f;T<_;T++){const E=s.data[T],O=gr(E);O&&FD(o,l,E);const L=oa(o,s,T,l);vs(L,o),null!==D&&Uv(0,T-f,L,E,0,D),O&&(An(l.index,o)[8]=L)}}(s,o,l,rs(l,o)),128==(128&l.flags)&&function Cb(s,o,l){const h=l.directiveStart,f=l.directiveEnd,_=l.index,D=function rd(){return Zt.lFrame.currentDirectiveIndex}();try{Ns(_);for(let T=h;T<f;T++){const E=s.data[T],O=o[T];fc(T),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Lv(E,O)}}finally{Ns(-1),fc(D)}}(s,o,l))}function xm(s,o,l=rs){const h=o.localNames;if(null!==h){let f=o.index+1;for(let _=0;_<h.length;_+=2){const D=h[_+1],T=-1===D?l(o,s):s[D];s[f++]=T}}}function Nv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Am(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Am(s,o,l,h,f,_,D,T,E,O){const L=22+h,z=L+f,se=function gb(s,o){const l=[];for(let h=0;h<o;h++)l.push(h<s?null:ln);return l}(L,z),me="function"==typeof O?O():O;return se[1]={type:s,blueprint:se,template:l,queries:null,viewQuery:T,declTNode:o,data:se.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:E,consts:me,incompleteFirstPass:!1}}function Ov(s,o,l,h){const f=Gv(o);null===l?f.push(h):(f.push(l),s.firstCreatePass&&Lm(s).push(h,f.length-1))}function Mv(s,o,l){for(let h in s)if(s.hasOwnProperty(h)){const f=s[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(o,f):l[h]=[o,f]}return l}function Rv(s,o){const h=o.directiveEnd,f=s.data,_=o.attrs,D=[];let T=null,E=null;for(let O=o.directiveStart;O<h;O++){const L=f[O],z=L.inputs,se=null===_||Gc(o)?null:LD(z,_);D.push(se),T=Mv(z,O,T),E=Mv(L.outputs,O,E)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=16),T.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=D,o.inputs=T,o.outputs=E}function ga(s,o,l,h,f,_,D,T){const E=rs(o,l);let L,O=o.inputs;!T&&null!=O&&(L=O[h])?(Bm(s,l,L,h,f),ps(o)&&Pv(l,o.index)):3&o.type&&(h=function vb(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),f=null!=D?D(f,o.value||"",h):f,_.setProperty(E,h,f))}function Pv(s,o){const l=An(o,s);16&l[2]||(l[2]|=32)}function Nm(s,o,l,h){let f=!1;if(mo()){const _=function Ib(s,o,l){const h=s.directiveRegistry;let f=null;if(h)for(let _=0;_<h.length;_++){const D=h[_];Sf(l,D.selectors,!1)&&(f||(f=[]),vo(ll(l,o),s,D.type),gr(D)?(Bv(s,l),f.unshift(D)):f.push(D))}return f}(s,o,l),D=null===h?null:{"":-1};if(null!==_){f=!0,Mm(l,s.data.length,_.length);for(let L=0;L<_.length;L++){const z=_[L];z.providersResolver&&z.providersResolver(z)}let T=!1,E=!1,O=Mh(s,o,_.length,null);for(let L=0;L<_.length;L++){const z=_[L];l.mergedAttrs=Su(l.mergedAttrs,z.hostAttrs),Vv(s,l,o,O,z),Om(O,z,D),null!==z.contentQueries&&(l.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(l.flags|=128);const se=z.type.prototype;!T&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),T=!0),!E&&(se.ngOnChanges||se.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),O++}Rv(s,l)}D&&function Tb(s,o,l){if(o){const h=s.localNames=[];for(let f=0;f<o.length;f+=2){const _=l[o[f+1]];if(null==_)throw new Le(-301,!1);h.push(o[f],_)}}}(l,h,D)}return l.mergedAttrs=Su(l.mergedAttrs,l.attrs),f}function Fv(s,o,l,h,f,_){const D=_.hostBindings;if(D){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const E=~o.index;(function wb(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(T)!=E&&T.push(E),T.push(h,f,D)}}function Lv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Bv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Om(s,o,l){if(l){if(o.exportAs)for(let h=0;h<o.exportAs.length;h++)l[o.exportAs[h]]=s;gr(o)&&(l[""]=s)}}function Mm(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Vv(s,o,l,h,f){s.data[h]=f;const _=f.factory||(f.factory=xo(f.type)),D=new Ea(_,gr(f),Oh);s.blueprint[h]=D,l[h]=D,Fv(s,o,0,h,Mh(s,l,f.hostVars,ln),f)}function FD(s,o,l){const h=rs(o,s),f=Nv(l),_=s[10],D=Rh(s,Im(s,f,null,l.onPush?32:16,h,o,_,_.createRenderer(h,l),null,null,null));s[o.index]=D}function Rm(s,o,l,h,f,_,D){if(null==_)s.removeAttribute(o,f,l);else{const T=null==D?Oe(_):D(_,h||"",f);s.setAttribute(o,f,T,l)}}function Uv(s,o,l,h,f,_){const D=_[o];if(null!==D){const T=h.setInput;for(let E=0;E<D.length;){const O=D[E++],L=D[E++],z=D[E++];null!==T?h.setInput(l,z,O,L):l[L]=z}}}function LD(s,o){let l=null,h=0;for(;h<o.length;){const f=o[h];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[h+1])),h+=2}else h+=2;else h+=4}return l}function Eb(s,o,l,h){return new Array(s,!0,!1,o,null,0,h,l,null,null)}function Sb(s,o){const l=An(o,s);if(Xa(l)){const h=l[1];48&l[2]?Zp(h,l,h.template,l[8]):l[5]>0&&Pm(l)}}function Pm(s){for(let h=im(s);null!==h;h=Op(h))for(let f=10;f<h.length;f++){const _=h[f];if(Xa(_))if(512&_[2]){const D=_[1];Zp(D,_,D.template,_[8])}else _[5]>0&&Pm(_)}const l=s[1].components;if(null!==l)for(let h=0;h<l.length;h++){const f=An(l[h],s);Xa(f)&&f[5]>0&&Pm(f)}}function BD(s,o){const l=An(o,s),h=l[1];(function VD(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(h,l),Em(h,l,l[8])}function Rh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function km(s){for(;s;){s[2]|=32;const o=Dh(s);if(Ya(s)&&!o)return s;s=o}return null}function Pf(s,o,l,h=!0){const f=o[10];f.begin&&f.begin();try{Zp(s,o,s.template,l)}catch(D){throw h&&Ab(o,D),D}finally{f.end&&f.end()}}function Fm(s,o,l){Iu(0),o(s,l)}function Gv(s){return s[7]||(s[7]=[])}function Lm(s){return s.cleanup||(s.cleanup=[])}function Ab(s,o){const l=s[9],h=l?l.get(Nd,null):null;h&&h.handleError(o)}function Bm(s,o,l,h,f){for(let _=0;_<l.length;){const D=l[_++],T=l[_++],E=o[D],O=s.data[D];null!==O.setInput?O.setInput(E,f,h,T):E[T]=f}}function vl(s,o,l){const h=As(o,s);X_(s[11],h,l)}function kf(s,o,l){let h=l?s.styles:null,f=l?s.classes:null,_=0;if(null!==o)for(let D=0;D<o.length;D++){const T=o[D];"number"==typeof T?_=T:1==_?f=Ae(f,T):2==_&&(h=Ae(h,T+": "+o[++D]+";"))}l?s.styles=h:s.stylesWithoutHost=h,l?s.classes=f:s.classesWithoutHost=f}function kd(s,o,l,h,f=!1){for(;null!==l;){const _=o[l.index];if(null!==_&&h.push($i(_)),Qi(_))for(let T=10;T<_.length;T++){const E=_[T],O=E[1].firstChild;null!==O&&kd(E[1],E,O,h)}const D=l.type;if(8&D)kd(s,o,l.child,h);else if(32&D){const T=Np(l,o);let E;for(;E=T();)h.push(E)}else if(16&D){const T=tv(o,l);if(Array.isArray(T))h.push(...T);else{const E=Dh(o[16]);kd(E[1],E,T,h,!0)}}l=f?l.projectionNext:l.next}return h}class Kp{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return kd(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Qi(o)){const l=o[8],h=l?l.indexOf(this):-1;h>-1&&(om(o,h),ri(l,h))}this._attachedToViewContainer=!1}Df(this._lView[1],this._lView)}onDestroy(o){Ov(this._lView[1],this._lView,null,o)}markForCheck(){km(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Pf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TD(s,o){Ef(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=o}}class Nb extends Kp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Pf(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Ff extends v{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=on(o);return new Ph(l,this.ngModule)}}function su(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Fd{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,h){const f=this.injector.get(o,La,h);return f!==La||l===La?f:this.parentInjector.get(o,l,h)}}class Ph extends Ku{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function sv(s){return s.map(Eh).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return su(this.componentDef.inputs)}get outputs(){return su(this.componentDef.outputs)}create(o,l,h,f){let _=(f=f||this.ngModule)instanceof Ql?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const D=_?new Fd(o,_):o,T=D.get(Xe,null);if(null===T)throw new Le(407,!1);const E=D.get($t,null),O=T.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",z=h?function mb(s,o,l){return s.selectRootElement(o,l===Ot.ShadowDom)}(O,h,this.componentDef.encapsulation):sm(T.createRenderer(null,this.componentDef),L,function Vm(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),se=this.componentDef.onPush?288:272,me=Am(0,null,null,1,0,null,null,null,null,null),$e=Im(null,me,null,se,null,null,T,O,E,D,null);let dt,wt;Tu($e);try{const Pt=function kh(s,o,l,h,f,_){const D=l[1];l[22]=s;const E=_l(D,22,2,"#host",null),O=E.mergedAttrs=o.hostAttrs;null!==O&&(kf(E,O,!0),null!==s&&(ol(f,s,O),null!==E.classes&&zo(f,s,E.classes),null!==E.styles&&$c(f,s,E.styles)));const L=h.createRenderer(s,o),z=Im(l,Nv(o),null,o.onPush?32:16,l[22],E,h,L,_||null,null,null);return D.firstCreatePass&&(vo(ll(E,l),D,o.type),Bv(D,E),Mm(E,l.length,1)),Rh(l,z),l[22]=z}(z,this.componentDef,$e,T,O);if(z)if(h)ol(O,z,["ng-version",to.full]);else{const{attrs:en,classes:Ke}=function xf(s){const o=[],l=[];let h=1,f=2;for(;h<s.length;){let _=s[h];if("string"==typeof _)2===f?""!==_&&o.push(_,s[++h]):8===f&&l.push(_);else{if(!Bs(f))break;f=_}h++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);en&&ol(O,z,en),Ke&&Ke.length>0&&zo(O,z,Ke.join(" "))}if(wt=Ja(me,22),void 0!==l){const en=wt.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const nn=l[Ke];en.push(null!=nn?Array.from(nn):null)}}dt=function Ob(s,o,l,h){const f=l[1],_=function bb(s,o,l){const h=Ji();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Vv(s,h,o,Mh(s,o,1,null),l),Rv(s,h));const f=oa(o,s,h.directiveStart,h);vs(f,o);const _=rs(h,o);return _&&vs(_,o),f}(f,l,o);if(s[8]=l[8]=_,null!==h)for(const T of h)T(_,o);if(o.contentQueries){const T=Ji();o.contentQueries(1,_,T.directiveStart)}const D=Ji();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ns(D.index),Fv(l[1],D,0,D.directiveStart,D.directiveEnd,o),Lv(o,_)),_}(Pt,this.componentDef,$e,[HD]),Em(me,$e,null)}finally{il()}return new $D(this.componentType,dt,M(wt,$e),$e,wt)}}class $D extends class Lc{}{constructor(o,l,h,f,_){super(),this.location=h,this._rootLView=f,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new Nb(f),this.componentType=o}setInput(o,l){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[o])){const _=this._rootLView;Bm(_[1],_,f,o,l),Pv(_,this._tNode.index)}}get injector(){return new aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function HD(){const s=Ji();Se(Ze()[1],s)}function Qp(s){let o=function Hv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const h=[s];for(;o;){let f;if(gr(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,!1);f=o.\u0275dir}if(f){if(l){h.push(f);const D=s;D.inputs=Um(s.inputs),D.declaredInputs=Um(s.declaredInputs),D.outputs=Um(s.outputs);const T=f.hostBindings;T&&d(s,T);const E=f.viewQuery,O=f.contentQueries;if(E&&Lf(s,E),O&&Co(s,O),Ie(s.inputs,f.inputs),Ie(s.declaredInputs,f.declaredInputs),Ie(s.outputs,f.outputs),gr(f)&&f.data.animation){const L=s.data;L.animation=(L.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let D=0;D<_.length;D++){const T=_[D];T&&T.ngInherit&&T(s),T===Qp&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Mb(s){let o=0,l=null;for(let h=s.length-1;h>=0;h--){const f=s[h];f.hostVars=o+=f.hostVars,f.hostAttrs=Su(f.hostAttrs,l=Su(l,f.hostAttrs))}}(h)}function Um(s){return s===zi?{}:s===jt?[]:s}function Lf(s,o){const l=s.viewQuery;s.viewQuery=l?(h,f)=>{o(h,f),l(h,f)}:o}function Co(s,o){const l=s.contentQueries;s.contentQueries=l?(h,f,_)=>{o(h,f,_),l(h,f,_)}:o}function d(s,o){const l=s.hostBindings;s.hostBindings=l?(h,f)=>{o(h,f),l(h,f)}:o}let P=null;function G(){if(!P){const s=Un.Symbol;if(s&&s.iterator)P=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const h=o[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(P=h)}}}return P}function re(s){return!!qe(s)&&(Array.isArray(s)||!(s instanceof Map)&&G()in s)}function qe(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _t(s,o,l){return s[o]=l}function Rt(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function hn(s,o,l,h){const f=Rt(s,o,l);return Rt(s,o+1,h)||f}function Nn(s,o,l,h){const f=Ze();return Rt(f,_o(),o)&&(_n(),function tc(s,o,l,h,f,_){const D=rs(s,o);Rm(o[11],D,_,s.value,l,h,f)}(Ti(),f,s,o,l,h)),Nn}function Vr(s,o,l,h){return Rt(s,_o(),l)?o+Oe(l)+h:ln}function Er(s,o,l,h,f,_){const T=hn(s,Hi(),l,f);return Oo(2),T?o+Oe(l)+h+Oe(f)+_:ln}function WE(s,o,l,h,f,_,D,T){const E=Ze(),O=_n(),L=s+22,z=O.firstCreatePass?function jE(s,o,l,h,f,_,D,T,E){const O=o.consts,L=_l(o,s,4,D||null,po(O,T));Nm(o,l,L,po(O,E)),Se(o,L);const z=L.tViews=Am(2,L,h,f,_,o.directiveRegistry,o.pipeRegistry,null,o.schemas,O);return null!==o.queries&&(o.queries.template(o,L),z.queries=o.queries.embeddedTView(L)),L}(L,O,E,o,l,h,f,_,D):O.data[L];gs(z,!1);const se=E[11].createComment("");Pp(O,E,se,z),vs(se,E),Rh(E,E[L]=Eb(se,E,se,z)),xl(z)&&Yp(O,E,z),null!=D&&xm(E,z,T)}function zE(s){return No(function yu(){return Zt.lFrame.contextLView}(),22+s)}function jD(s,o,l){const h=Ze();return Rt(h,_o(),o)&&ga(_n(),Ti(),h,s,o,h[11],l,!1),jD}function WD(s,o,l,h,f){const D=f?"class":"style";Bm(s,l,o.inputs[D],D,h)}function Fb(s,o,l,h){const f=Ze(),_=_n(),D=22+s,T=f[11],E=f[D]=sm(T,o,function de(){return Zt.lFrame.currentNamespace}()),O=_.firstCreatePass?function WM(s,o,l,h,f,_,D){const T=o.consts,O=_l(o,s,2,f,po(T,_));return Nm(o,l,O,po(T,D)),null!==O.attrs&&kf(O,O.attrs,!1),null!==O.mergedAttrs&&kf(O,O.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,O),O}(D,_,f,0,o,l,h):_.data[D];gs(O,!0);const L=O.mergedAttrs;null!==L&&ol(T,E,L);const z=O.classes;null!==z&&zo(T,E,z);const se=O.styles;return null!==se&&$c(T,E,se),64!=(64&O.flags)&&Pp(_,f,E,O),0===function go(){return Zt.lFrame.elementDepthCount}()&&vs(E,f),function Ml(){Zt.lFrame.elementDepthCount++}(),xl(O)&&(Yp(_,f,O),Sm(_,O,f)),null!==h&&xm(f,O),Fb}function Lb(){let s=Ji();nl()?Rl():(s=s.parent,gs(s,!1));const o=s;!function td(){Zt.lFrame.elementDepthCount--}();const l=_n();return l.firstCreatePass&&(Se(l,s),ho(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function sl(s){return 0!=(16&s.flags)}(o)&&WD(l,o,Ze(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Eu(s){return 0!=(32&s.flags)}(o)&&WD(l,o,Ze(),o.stylesWithoutHost,!1),Lb}function Bb(s,o,l,h){return Fb(s,o,l,h),Lb(),Bb}function Vb(s,o,l){const h=Ze(),f=_n(),_=s+22,D=f.firstCreatePass?function qE(s,o,l,h,f){const _=o.consts,D=po(_,h),T=_l(o,s,8,"ng-container",D);return null!==D&&kf(T,D,!0),Nm(o,l,T,po(_,f)),null!==o.queries&&o.queries.elementStart(o,T),T}(_,f,h,o,l):f.data[_];gs(D,!0);const T=h[_]=h[11].createComment("");return Pp(f,h,T,D),vs(T,h),xl(D)&&(Yp(f,h,D),Sm(f,D,h)),null!=l&&xm(h,D),Vb}function Ub(){let s=Ji();const o=_n();return nl()?Rl():(s=s.parent,gs(s,!1)),o.firstCreatePass&&(Se(o,s),ho(s)&&o.queries.elementEnd(s)),Ub}function zD(s,o,l){return Vb(s,o,l),Ub(),zD}function ZE(){return Ze()}function $b(s){return!!s&&"function"==typeof s.then}function YE(s){return!!s&&"function"==typeof s.subscribe}const KE=YE;function Gb(s,o,l,h){const f=Ze(),_=_n(),D=Ji();return function JE(s,o,l,h,f,_,D,T){const E=xl(h),L=s.firstCreatePass&&Lm(s),z=o[8],se=Gv(o);let me=!0;if(3&h.type||T){const wt=rs(h,o),Pt=T?T(wt):wt,en=se.length,Ke=T?bi=>T($i(bi[h.index])):h.index;let nn=null;if(!T&&E&&(nn=function zM(s,o,l,h){const f=s.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const D=f[_];if(D===l&&f[_+1]===h){const T=o[7],E=f[_+2];return T.length>E?T[E]:null}"string"==typeof D&&(_+=2)}return null}(s,o,f,h.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=_,nn.__ngLastListenerFn__=_,me=!1;else{_=eS(h,o,z,_,!1);const bi=l.listen(Pt,f,_);se.push(_,bi),L&&L.push(f,Ke,en,en+1)}}else _=eS(h,o,z,_,!1);const $e=h.outputs;let dt;if(me&&null!==$e&&(dt=$e[f])){const wt=dt.length;if(wt)for(let Pt=0;Pt<wt;Pt+=2){const br=o[dt[Pt]][dt[Pt+1]].subscribe(_),Jf=se.length;se.push(_,br),L&&L.push(f,h.index,Jf,-(Jf+1))}}}(_,f,f[11],D,s,o,0,h),Gb}function XE(s,o,l,h){try{return!1!==l(h)}catch(f){return Ab(s,f),!1}}function eS(s,o,l,h,f){return function _(D){if(D===Function)return h;km(2&s.flags?An(s.index,o):o);let E=XE(o,0,h,D),O=_.__ngNextListenerFn__;for(;O;)E=XE(o,0,O,D)&&E,O=O.__ngNextListenerFn__;return f&&!1===E&&(D.preventDefault(),D.returnValue=!1),E}}function qD(s=1){return function Zs(s){return(Zt.lFrame.contextLView=function ms(s,o){for(;s>0;)o=o[15],s--;return o}(s,Zt.lFrame.contextLView))[8]}(s)}function qM(s,o){let l=null;const h=function rv(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const _=o[f];if("*"!==_){if(null===h?Sf(s,_,!0):nu(h,_))return f}else l=f}return l}function tS(s){const o=Ze()[16][6];if(!o.projection){const h=o.projection=qn(s?s.length:1,null),f=h.slice();let _=o.child;for(;null!==_;){const D=s?qM(_,s):0;null!==D&&(f[D]?f[D].projectionNext=_:h[D]=_,f[D]=_),_=_.next}}}function nS(s,o=0,l){const h=Ze(),f=_n(),_=_l(f,22+s,16,null,l||null);null===_.projection&&(_.projection=o),Rl(),64!=(64&_.flags)&&function q0(s,o,l){iv(o[11],0,o,l,jo(s,l,o),am(l.parent||o[6],l,o))}(f,h,_)}function as(s,o,l){return Hb(s,"",o,"",l),as}function Hb(s,o,l,h,f){const _=Ze(),D=Vr(_,o,l,h);return D!==ln&&ga(_n(),Ti(),_,s,D,_[11],f,!1),Hb}function ZD(s,o,l,h,f,_,D){const T=Ze(),E=Er(T,o,l,h,f,_);return E!==ln&&ga(_n(),Ti(),T,s,E,T[11],D,!1),ZD}function JD(s,o,l,h,f){const _=s[l+1],D=null===o;let T=h?io(_):ec(_),E=!1;for(;0!==T&&(!1===E||D);){const L=s[T+1];aS(s[T],o)&&(E=!0,s[T+1]=h?ru(L):gm(L)),T=h?io(L):ec(L)}E&&(s[l+1]=h?gm(_):ru(_))}function aS(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Oa(s,o)>=0}const Vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XD(s){return s.substring(Vs.key,Vs.keyEnd)}function eC(s,o){const l=Vs.textEnd;return l===o?-1:(o=Vs.keyEnd=function dS(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Vs.key=o,l),Xp(s,o,l))}function Xp(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function sC(s,o,l){return qc(s,o,l,!1),sC}function oC(s,o){return qc(s,o,null,!0),oC}function fS(s){!function Zc(s,o,l,h){const f=_n(),_=Oo(2);f.firstUpdatePass&&gS(f,null,_,h);const D=Ze();if(l!==ln&&Rt(D,_,l)){const T=f.data[_r()];if(vS(T,h)&&!pS(f,_)){let E=h?T.classesWithoutHost:T.stylesWithoutHost;null!==E&&(l=Ae(E,l||"")),WD(f,T,D,l,h)}else!function tR(s,o,l,h,f,_,D,T){f===ln&&(f=jt);let E=0,O=0,L=0<f.length?f[0]:null,z=0<_.length?_[0]:null;for(;null!==L||null!==z;){const se=E<f.length?f[E+1]:void 0,me=O<_.length?_[O+1]:void 0;let dt,$e=null;L===z?(E+=2,O+=2,se!==me&&($e=z,dt=me)):null===z||null!==L&&L<z?(E+=2,$e=L):(O+=2,$e=z,dt=me),null!==$e&&mS(s,o,l,h,$e,dt,D,T),L=E<f.length?f[E]:null,z=O<_.length?_[O]:null}}(f,T,D,D[11],D[_+1],D[_+1]=function eR(s,o,l){if(null==l||""===l)return jt;const h=[],f=Vo(l);if(Array.isArray(f))for(let _=0;_<f.length;_++)s(h,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&s(h,_,f[_]);else"string"==typeof f&&o(h,f);return h}(s,o,l),h,_)}}(tr,Ld,s,!0)}function Ld(s,o){for(let l=function uS(s){return function nC(s){Vs.key=0,Vs.keyEnd=0,Vs.value=0,Vs.valueEnd=0,Vs.textEnd=s.length}(s),eC(s,Xp(s,0,Vs.textEnd))}(o);l>=0;l=eC(o,l))tr(s,XD(o),!0)}function qc(s,o,l,h){const f=Ze(),_=_n(),D=Oo(2);_.firstUpdatePass&&gS(_,s,D,h),o!==ln&&Rt(f,D,o)&&mS(_,_.data[_r()],f,f[11],s,f[D+1]=function nR(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ne(Vo(s)))),s}(o,l),h,D)}function pS(s,o){return o>=s.expandoStartIndex}function gS(s,o,l,h){const f=s.data;if(null===f[l+1]){const _=f[_r()],D=pS(s,l);vS(_,h)&&null===o&&!D&&(o=!1),o=function KM(s,o,l,h){const f=function Cu(s){const o=Zt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let _=h?o.residualClasses:o.residualStyles;if(null===f)0===(h?o.classBindings:o.styleBindings)&&(l=jv(l=aC(null,s,o,l,h),o.attrs,h),_=null);else{const D=o.directiveStylingLast;if(-1===D||s[D]!==f)if(l=aC(f,s,o,l,h),null===_){let E=function QM(s,o,l){const h=l?o.classBindings:o.styleBindings;if(0!==ec(h))return s[io(h)]}(s,o,h);void 0!==E&&Array.isArray(E)&&(E=aC(null,s,o,E[1],h),E=jv(E,o.attrs,h),function JM(s,o,l,h){s[io(l?o.classBindings:o.styleBindings)]=h}(s,o,h,E))}else _=function XM(s,o,l){let h;const f=o.directiveEnd;for(let _=1+o.directiveStylingLast;_<f;_++)h=jv(h,s[_].hostAttrs,l);return jv(h,o.attrs,l)}(s,o,h)}return void 0!==_&&(h?o.residualClasses=_:o.residualStyles=_),l}(f,_,o,h),function QD(s,o,l,h,f,_){let D=_?o.classBindings:o.styleBindings,T=io(D),E=ec(D);s[h]=l;let L,O=!1;if(Array.isArray(l)){const z=l;L=z[1],(null===L||Oa(z,L)>0)&&(O=!0)}else L=l;if(f)if(0!==E){const se=io(s[T+1]);s[h+1]=no(se,T),0!==se&&(s[se+1]=mm(s[se+1],h)),s[T+1]=function yv(s,o){return 131071&s|o<<17}(s[T+1],h)}else s[h+1]=no(T,0),0!==T&&(s[T+1]=mm(s[T+1],h)),T=h;else s[h+1]=no(E,0),0===T?T=h:s[E+1]=mm(s[E+1],h),E=h;O&&(s[h+1]=gm(s[h+1])),JD(s,L,h,!0),JD(s,L,h,!1),function oS(s,o,l,h,f){const _=f?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof o&&Oa(_,o)>=0&&(l[h+1]=ru(l[h+1]))}(o,L,s,h,_),D=no(T,E),_?o.classBindings=D:o.styleBindings=D}(f,_,o,l,D,h)}}function aC(s,o,l,h,f){let _=null;const D=l.directiveEnd;let T=l.directiveStylingLast;for(-1===T?T=l.directiveStart:T++;T<D&&(_=o[T],h=jv(h,_.hostAttrs,f),_!==s);)T++;return null!==s&&(l.directiveStylingLast=T),h}function jv(s,o,l){const h=l?1:2;let f=-1;if(null!==o)for(let _=0;_<o.length;_++){const D=o[_];"number"==typeof D?f=D:f===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),tr(s,D,!!l||o[++_]))}return void 0===s?null:s}function mS(s,o,l,h,f,_,D,T){if(!(3&o.type))return;const E=s.data,O=E[T+1];qb(function _m(s){return 1==(1&s)}(O)?_S(E,o,l,f,ec(O),D):void 0)||(qb(_)||function vv(s){return 2==(2&s)}(O)&&(_=_S(E,null,l,f,T,D)),function $a(s,o,l,h,f){if(o)f?s.addClass(l,h):s.removeClass(l,h);else{let _=-1===h.indexOf("-")?void 0:tu.DashCase;null==f?s.removeStyle(l,h,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=tu.Important),s.setStyle(l,h,f,_))}}(h,D,As(_r(),l),f,_))}function _S(s,o,l,h,f,_){const D=null===o;let T;for(;f>0;){const E=s[f],O=Array.isArray(E),L=O?E[1]:E,z=null===L;let se=l[f+1];se===ln&&(se=z?jt:void 0);let me=z?ku(se,h):L===h?se:void 0;if(O&&!qb(me)&&(me=ku(E,h)),qb(me)&&(T=me,D))return T;const $e=s[f+1];f=D?io($e):ec($e)}if(null!==o){let E=_?o.residualClasses:o.residualStyles;null!=E&&(T=ku(E,h))}return T}function qb(s){return void 0!==s}function vS(s,o){return 0!=(s.flags&(o?16:32))}function Zb(s,o=""){const l=Ze(),h=_n(),f=s+22,_=h.firstCreatePass?_l(h,f,1,o,null):h.data[f],D=l[f]=rm(l[11],o);Pp(h,l,D,_),gs(_,!1)}function uC(s){return Ha("",s,""),uC}function Ha(s,o,l){const h=Ze(),f=Vr(h,s,o,l);return f!==ln&&vl(h,_r(),f),Ha}function hr(s,o,l,h,f){const _=Ze(),D=Er(_,s,o,l,h,f);return D!==ln&&vl(_,_r(),D),hr}function gC(s,o,l){const h=Ze();return Rt(h,_o(),o)&&ga(_n(),Ti(),h,s,o,h[11],l,!0),gC}const tg=void 0;var PS=["en",[["a","p"],["AM","PM"],tg],[["AM","PM"],tg,tg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tg,"{1} 'at' {0}",tg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mC(s){const l=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let Uf={};function Qv(s){const o=function $f(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=jm(o);if(l)return l;const h=o.split("-")[0];if(l=jm(h),l)return l;if("en"===h)return PS;throw new Le(701,!1)}function _C(s){return Qv(s)[Xt.PluralCase]}function jm(s){return s in Uf||(Uf[s]=Un.ng&&Un.ng.common&&Un.ng.common.locales&&Un.ng.common.locales[s]),Uf[s]}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const FS=["zero","one","two","few","many"],Gf="en-US",Bh={marker:"element"},Jv={marker:"ICU"};var Yr=(()=>((Yr=Yr||{})[Yr.SHIFT=2]="SHIFT",Yr[Yr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Yr[Yr.COMMENT=2]="COMMENT",Yr))();let vC=Gf;function Qb(s){(function cn(s,o){null==s&&pt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(vC=s.toLowerCase().replace(/_/g,"-"))}function bC(s,o,l){const h=o.insertBeforeIndex,f=Array.isArray(h)?h[0]:h;return null===f?Ih(s,0,l):$i(l[f])}function Jb(s,o,l,h,f){const _=o.insertBeforeIndex;if(Array.isArray(_)){let D=h,T=null;if(3&o.type||(T=D,D=f),null!==D&&0==(2&o.flags))for(let E=1;E<_.length;E++)Ls(s,D,l[_[E]],T,!1)}}function wC(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const h=s[l];Xb(h)||ew(h,o)&&null===tw(h)&&DC(h,o.index)}}function Xb(s){return!(64&s.type)}function ew(s,o){return Xb(o)||s.index>o.index}function tw(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function DC(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(um(bC,Jb),s.insertBeforeIndex=o)}function Wm(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function aR(s,o,l){const h=Tm(s,l,64,null,null);return wC(o,h),h}function iw(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function rw(s){return s>>>17}function CC(s){return(131070&s)>>>1}let ng=0,ig=0;function US(s,o,l,h){const f=l[11];let D,_=null;for(let T=0;T<o.length;T++){const E=o[T];if("string"==typeof E){const O=o[++T];null===l[O]&&(l[O]=rm(f,E))}else if("number"==typeof E)switch(1&E){case 0:const O=rw(E);let L,z;if(null===_&&(_=O,D=Uc(f,h)),O===_?(L=h,z=D):(L=null,z=$i(l[O])),null!==z){const dt=CC(E);Ls(f,z,l[dt],L,!1);const Pt=Wm(s,dt);if(null!==Pt&&"object"==typeof Pt){const en=iw(Pt,l);null!==en&&US(s,Pt.create[en],l,l[Pt.anchorIdx])}}break;case 1:const me=o[++T],$e=o[++T];Rm(f,As(E>>>1,l),null,null,me,$e,null)}else switch(E){case Jv:const O=o[++T],L=o[++T];null===l[L]&&vs(l[L]=DD(f,O),l);break;case Bh:const z=o[++T],se=o[++T];null===l[se]&&vs(l[se]=sm(f,z,null),l)}}}function $S(s,o,l,h,f){for(let _=0;_<l.length;_++){const D=l[_],T=l[++_];if(D&f){let E="";for(let O=_+1;O<=_+T;O++){const L=l[O];if("string"==typeof L)E+=L;else if("number"==typeof L)if(L<0)E+=Oe(o[h-L]);else{const z=L>>>2;switch(3&L){case 1:const se=l[++O],me=l[++O],$e=s.data[z];"string"==typeof $e?Rm(o[11],o[z],null,$e,se,E,me):ga(s,$e,o,se,E,o[11],me,!1);break;case 0:const dt=o[z];null!==dt&&X_(o[11],dt,E);break;case 2:GS(s,Wm(s,z),o,E);break;case 3:ow(s,Wm(s,z),h,o)}}}}else{const E=l[_+1];if(E>0&&3==(3&E)){const L=Wm(s,E>>>2);o[L.currentCaseLViewIndex]<0&&ow(s,L,h,o)}}_+=T}}function ow(s,o,l,h){let f=h[o.currentCaseLViewIndex];if(null!==f){let _=ng;f<0&&(f=h[o.currentCaseLViewIndex]=~f,_=-1),$S(s,h,o.update[f],l,_)}}function GS(s,o,l,h){const f=function HS(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const h=function LS(s,o){const l=_C(o)(parseInt(s,10)),h=FS[l];return void 0!==h?h:"other"}(o,function yC(){return vC}());l=s.cases.indexOf(h),-1===l&&"other"!==h&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,h);if(iw(o,l)!==f&&(xC(s,o,l),l[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const D=l[o.anchorIdx];D&&US(s,o.create[f],l,D)}}function xC(s,o,l){let h=iw(o,l);if(null!==h){const f=o.remove[h];for(let _=0;_<f.length;_++){const D=f[_];if(D>0){const T=As(D,l);null!==T&&nv(l[11],T)}else xC(s,Wm(s,~D),l)}}}function jS(){const s=[];let l,h,o=-1;function _(T,E){o=0;const O=iw(T,E);h=null!==O?T.remove[O]:jt}function D(){if(o<h.length){const T=h[o++];return T>0?l[T]:(s.push(o,h),_(l[1].data[~T],l),D())}return 0===s.length?null:(h=s.pop(),o=s.pop(),D())}return function f(T,E){for(l=E;s.length;)s.pop();return _(T.value,E),D}}const aw=/\ufffd(\d+):?\d*\ufffd/gi,AC=/\ufffd(\d+)\ufffd/,qS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,NC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hR=/\uE500/g;function ZS(s,o,l,h,f,_,D){const T=Mh(s,h,1,null);let E=T<<Yr.SHIFT,O=tl();o===O&&(O=null),null===O&&(E|=Yr.APPEND_EAGERLY),D&&(E|=Yr.COMMENT,function V0(s){void 0===wf&&(wf=s())}(jS)),f.push(E,null===_?"":_);const L=Tm(s,T,D?32:1,null===_?"":_,null);wC(l,L);const z=L.index;return gs(L,!1),null!==O&&o!==O&&function nw(s,o){let l=s.insertBeforeIndex;null===l?(um(bC,Jb),l=s.insertBeforeIndex=[null,o]):(function Re(s,o,l){s!=o&&pt(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(O,z),L}function pR(s,o,l,h,f,_,D){const T=D.match(aw),E=ZS(s,o,l,_,h,T?null:D,!1);T&&zm(f,D,E.index,null,0,null)}function zm(s,o,l,h,f,_){const D=s.length,T=D+1;s.push(null,null);const E=D+2,O=o.split(aw);let L=0;for(let z=0;z<O.length;z++){const se=O[z];if(1&z){const me=f+parseInt(se,10);s.push(-1-me),L|=YS(me)}else""!==se&&s.push(se)}return s.push(l<<2|(h?1:0)),h&&s.push(h,_),s[D]=L,s[T]=s.length-E,L}function YS(s){return 1<<Math.min(s,31)}function QS(s){let o,_,l="",h=0,f=!1;for(;null!==(o=NC.exec(s));)f?o[0]===`\ufffd/*${_}\ufffd`&&(h=o.index,f=!1):(l+=s.substring(h,o.index+o[0].length),_=o[1],f=!0);return l+=s.slice(h),l}function lw(s,o,l,h,f,_){let D=0;const T={type:f.type,currentCaseLViewIndex:Mh(s,o,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function uw(s,o,l){s.push(YS(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,f,_),function VS(s,o,l){const h=s.data[o];null===h?s.data[o]=l:h.value=l}(s,_,T);const E=f.values;for(let O=0;O<E.length;O++){const L=E[O],z=[];for(let se=0;se<L.length;se++){const me=L[se];if("string"!=typeof me){const $e=z.push(me)-1;L[se]=`\x3c!--\ufffd${$e}\ufffd--\x3e`}}D=yR(s,T,o,l,h,f.cases[O],L.join(""),z)|D}D&&function ex(s,o,l){s.push(o,1,l<<2|3)}(l,D,_)}function vR(s){const o=[],l=[];let h=1,f=0;const _=MC(s=s.replace(qS,function(D,T,E){return h="select"===E?0:1,f=parseInt(T.slice(1),10),""}));for(let D=0;D<_.length;){let T=_[D++].trim();1===h&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&o.push(T);const E=MC(_[D++]);o.length>l.length&&l.push(E)}return{type:h,mainBinding:f,cases:o,values:l}}function MC(s){if(!s)return[];let o=0;const l=[],h=[],f=/[{}]/g;let _;for(f.lastIndex=0;_=f.exec(s);){const T=_.index;if("}"==_[0]){if(l.pop(),0==l.length){const E=s.substring(o,T);qS.test(E)?h.push(vR(E)):h.push(E),o=T+1}}else{if(0==l.length){const E=s.substring(o,T);h.push(E),o=T+1}l.push("{")}}const D=s.substring(o);return h.push(D),h}function yR(s,o,l,h,f,_,D,T){const E=[],O=[],L=[];o.cases.push(_),o.create.push(E),o.remove.push(O),o.update.push(L);const se=Ni(ir()).getInertBodyElement(D),me=Oc(se)||se;return me?JS(s,o,l,h,E,O,L,me,f,T,0):0}function JS(s,o,l,h,f,_,D,T,E,O,L){let z=0,se=T.firstChild;for(;se;){const me=Mh(s,l,1,null);switch(se.nodeType){case Node.ELEMENT_NODE:const $e=se,dt=$e.tagName.toLowerCase();if(fa.hasOwnProperty(dt)){cw(f,Bh,dt,E,me),s.data[me]=dt;const Ke=$e.attributes;for(let nn=0;nn<Ke.length;nn++){const bi=Ke.item(nn),br=bi.name.toLowerCase();bi.value.match(aw)?xc.hasOwnProperty(br)&&zm(D,bi.value,me,bi.name,0,lh[br]?Xs:null):PC(f,me,bi)}z=JS(s,o,l,h,f,_,D,se,me,O,L+1)|z,XS(_,me,L)}break;case Node.TEXT_NODE:const wt=se.textContent||"",Pt=wt.match(aw);cw(f,null,Pt?"":wt,E,me),XS(_,me,L),Pt&&(z=zm(D,wt,me,null,0,null)|z);break;case Node.COMMENT_NODE:const en=AC.exec(se.textContent||"");if(en){const nn=O[parseInt(en[1],10)];cw(f,Jv,"",E,me),lw(s,l,h,E,nn,me),RC(_,me,L)}}se=se.nextSibling}return z}function XS(s,o,l){0===l&&s.push(o)}function RC(s,o,l){0===l&&(s.push(~o),s.push(o))}function cw(s,o,l,h,f){null!==o&&s.push(o),s.push(l,f,function IC(s,o,l){return s|o<<17|l<<1}(0,h,f))}function PC(s,o,l){s.push(o<<1|1,l.name,l.value)}function nx(s,o,l=-1){const h=_n(),f=Ze(),_=22+s,D=po(h.consts,o),T=tl();h.firstCreatePass&&function fR(s,o,l,h,f,_){const D=tl(),T=[],E=[],O=[[]];f=function _R(s,o){if(function KS(s){return-1===s}(o))return QS(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,h=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return QS(s.substring(l,h))}}(f,_);const L=function OC(s){return s.replace(hR," ")}(f).split(dR);for(let z=0;z<L.length;z++){let se=L[z];if(0==(1&z)){const me=MC(se);for(let $e=0;$e<me.length;$e++){let dt=me[$e];if(0==(1&$e)){const wt=dt;""!==wt&&pR(s,D,O[0],T,E,l,wt)}else{const wt=dt;if("object"!=typeof wt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);lw(s,l,E,o,wt,ZS(s,D,O[0],l,T,"",!0).index)}}}else{const me=47===se.charCodeAt(0),dt=(se.charCodeAt(me?1:0),22+Number.parseInt(se.substring(me?2:1)));if(me)O.shift(),gs(tl(),!1);else{const wt=aR(s,O[0],dt);O.unshift([]),gs(wt,!0)}}}s.data[h]={create:T,update:E}}(h,null===T?0:T.index,f,_,D,l);const E=h.data[_],L=Ua(h,T===f[6]?null:T,f);(function SC(s,o,l,h){const f=s[11];for(let _=0;_<o.length;_++){const D=o[_++],T=o[_],E=(D&Yr.COMMENT)===Yr.COMMENT,O=(D&Yr.APPEND_EAGERLY)===Yr.APPEND_EAGERLY,L=D>>>Yr.SHIFT;let z=s[L];null===z&&(z=s[L]=E?f.createComment(T):rm(f,T)),O&&null!==l&&Ls(f,l,z,h,!1)}})(f,E.create,L,T&&8&T.type?f[T.index]:null),Du(!0)}function ix(s,o,l){nx(s,o,l),function hw(){Du(!1)}()}function kC(s){return function TC(s){s&&(ng|=1<<Math.min(ig,31)),ig++}(Rt(Ze(),_o(),s)),kC}function rx(s){!function EC(s,o,l){if(ig>0){const h=s.data[l];$S(s,o,Array.isArray(h)?h:h.update,Hi()-ig-1,ng)}ng=0,ig=0}(_n(),Ze(),s+22)}function FC(s,o,l,h,f){if(s=ce(s),Array.isArray(s))for(let _=0;_<s.length;_++)FC(s[_],o,l,h,f);else{const _=_n(),D=Ze();let T=Zl(s)?s:ce(s.provide),E=Fc(s);const O=Ji(),L=1048575&O.providerIndexes,z=O.directiveStart,se=O.providerIndexes>>20;if(Zl(s)||!s.multi){const me=new Ea(E,f,Oh),$e=pw(T,o,f?L:L+se,z);-1===$e?(vo(ll(O,D),_,T),LC(_,s,o.length),o.push(T),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(me),D.push(me)):(l[$e]=me,D[$e]=me)}else{const me=pw(T,o,L+se,z),$e=pw(T,o,L,L+se),dt=me>=0&&l[me],wt=$e>=0&&l[$e];if(f&&!wt||!f&&!dt){vo(ll(O,D),_,T);const Pt=function ax(s,o,l,h,f){const _=new Ea(s,l,Oh);return _.multi=[],_.index=o,_.componentProviders=0,fw(_,f,h&&!l),_}(f?ox:sx,l.length,f,h,E);!f&&wt&&(l[$e].providerFactory=Pt),LC(_,s,o.length,0),o.push(T),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(Pt),D.push(Pt)}else LC(_,s,me>-1?me:$e,fw(l[f?$e:me],E,!f&&h));!f&&h&&wt&&l[$e].componentProviders++}}}function LC(s,o,l,h){const f=Zl(o),_=function Go(s){return!!s.useClass}(o);if(f||_){const E=(_?ce(o.useClass):o).prototype.ngOnDestroy;if(E){const O=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const L=O.indexOf(l);-1===L?O.push(l,[h,E]):O[L+1].push(h,E)}else O.push(l,E)}}}function fw(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function pw(s,o,l,h){for(let f=l;f<h;f++)if(o[f]===s)return f;return-1}function sx(s,o,l,h){return gw(this.multi,[])}function ox(s,o,l,h){const f=this.multi;let _;if(this.providerFactory){const D=this.providerFactory.componentProviders,T=oa(l,l[1],this.providerFactory.index,h);_=T.slice(0,D),gw(f,_);for(let E=D;E<T.length;E++)_.push(T[E])}else _=[],gw(f,_);return _}function gw(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function BC(s,o=[]){return l=>{l.providersResolver=(h,f)=>function AR(s,o,l){const h=_n();if(h.firstCreatePass){const f=gr(s);FC(l,h.data,h.blueprint,f,!0),FC(o,h.data,h.blueprint,f,!1)}}(h,f?f(s):s,o)}}class rg{}class VC{}function lx(s,o){return new ux(s,o??null)}class ux extends rg{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ff(this);const h=jr(o);this._bootstrapComponents=eu(h.bootstrap),this._r3Injector=fm(o,l,[{provide:rg,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],Ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class mw extends VC{constructor(o){super(),this.moduleType=o}create(o){return new ux(this.moduleType,o)}}class OR extends rg{constructor(o,l,h){super(),this.componentFactoryResolver=new Ff(this),this.instance=null;const f=new Do([...o,{provide:rg,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],l||Pc(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function _w(s,o,l=null){return new OR(s,o,l).injector}let cx=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=Td(0,l.type),f=h.length>0?_w([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=pn({token:s,providedIn:"environment",factory:()=>new s(nr(Ql))}),s})();function UC(s){s.getStandaloneInjector=o=>o.get(cx).getOrCreateStandaloneInjector(s)}function ww(s,o,l,h){return Cw(Ze(),Gi(),s,o,l,h)}function Zm(s,o,l,h,f){return function zC(s,o,l,h,f,_,D){const T=o+l;return hn(s,T,f,_)?_t(s,T+2,D?h.call(D,f,_):h(f,_)):jf(s,T+2)}(Ze(),Gi(),s,o,l,h,f)}function Dw(s,o,l,h,f,_){return function iy(s,o,l,h,f,_,D,T){const E=o+l;return function Jt(s,o,l,h,f){const _=hn(s,o,l,h);return Rt(s,o+2,f)||_}(s,E,f,_,D)?_t(s,E+3,T?h.call(T,f,_,D):h(f,_,D)):jf(s,E+3)}(Ze(),Gi(),s,o,l,h,f,_)}function jf(s,o){const l=s[o];return l===ln?void 0:l}function Cw(s,o,l,h,f,_){const D=o+l;return Rt(s,D,f)?_t(s,D+1,_?h.call(_,f):h(f)):jf(s,D+1)}function qC(s,o){const l=_n();let h;const f=s+22;l.firstCreatePass?(h=function og(s,o){if(o)for(let l=o.length-1;l>=0;l--){const h=o[l];if(s===h.name)return h}}(o,l.pipeRegistry),l.data[f]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,h.onDestroy)):h=l.data[f];const _=h.factory||(h.factory=xo(h.type)),D=Cn(Oh);try{const T=Vl(!1),E=_();return Vl(T),function jM(s,o,l,h){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=h}(l,Ze(),f,E),E}finally{Cn(D)}}function ZC(s,o,l){const h=s+22,f=Ze(),_=No(f,h);return function ry(s,o){return s[1].data[o].pure}(f,h)?Cw(f,Gi(),o,_.transform,l,_):_.transform(l)}function Kc(s){return o=>{setTimeout(s,void 0,o)}}const ou=class Io extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,h){let f=o,_=l||(()=>null),D=h;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),_=E.error?.bind(E),D=E.complete?.bind(E)}this.__isAsync&&(_=Kc(_),f&&(f=Kc(f)),D&&(D=Kc(D)));const T=super.subscribe({next:f,error:_,complete:D});return o instanceof k.w0&&o.add(T),T}};function vx(){return this._results[G()]()}class Iw{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=G(),h=Iw.prototype;h[l]||(h[l]=vx)}get changes(){return this._changes||(this._changes=new ou)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const h=this;h.dirty=!1;const f=qr(o);(this._changesDetected=!function Ms(s,o,l){if(s.length!==o.length)return!1;for(let h=0;h<s.length;h++){let f=s[h],_=o[h];if(l&&(f=l(f),_=l(_)),_!==f)return!1}return!0}(h._results,f,l))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ag=(()=>{class s{}return s.__NG_ELEMENT_ID__=XC,s})();const JC=ag,yx=class extends JC{constructor(o,l,h){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(o,l){const h=this._declarationTContainer.tViews,f=Im(this._declarationLView,h,o,16,null,h.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(f[19]=D.createEmbeddedView(h)),Em(h,f,o),new Kp(f)}};function XC(){return sy(Ji(),Ze())}function sy(s,o){return 4&s.type?new yx(o,s,M(s,o)):null}let Km=(()=>{class s{}return s.__NG_ELEMENT_ID__=eI,s})();function eI(){return tI(Ji(),Ze())}const oy=Km,Uh=class extends oy{constructor(o,l,h){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=h}get element(){return M(this._hostTNode,this._hostLView)}get injector(){return new aa(this._hostTNode,this._hostLView)}get parentInjector(){const o=ul(this._hostTNode,this._hostLView);if(xu(o)){const l=Bl(o,this._hostLView),h=Si(o);return new aa(l[1].data[h+8],l)}return new aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Bn(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,h){let f,_;"number"==typeof h?f=h:null!=h&&(f=h.index,_=h.injector);const D=o.createEmbeddedView(l||{},_);return this.insert(D,f),D}createComponent(o,l,h,f,_){const D=o&&!function zn(s){return"function"==typeof s}(o);let T;if(D)T=l;else{const z=l||{};T=z.index,h=z.injector,f=z.projectableNodes,_=z.environmentInjector||z.ngModuleRef}const E=D?o:new Ph(on(o)),O=h||this.parentInjector;if(!_&&null==E.ngModule){const se=(D?O:this.parentInjector).get(Ql,null);se&&(_=se)}const L=E.create(O,f,void 0,_);return this.insert(L.hostView,T),L}insert(o,l){const h=o._lView,f=h[1];if(function ss(s){return Qi(s[3])}(h)){const L=this.indexOf(o);if(-1!==L)this.detach(L);else{const z=h[3],se=new Uh(z,z[6],z[3]);se.detach(se.indexOf(o))}}const _=this._adjustIndex(l),D=this._lContainer;!function j0(s,o,l,h){const f=10+h,_=l.length;h>0&&(l[f-1][4]=o),h<_-10?(o[4]=l[f],ar(l,10+h,o)):(l.push(o),o[4]=null),o[3]=l;const D=o[17];null!==D&&l!==D&&function SD(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(D,o);const T=o[19];null!==T&&T.insertView(s),o[2]|=64}(f,h,D,_);const T=Th(_,D),E=h[11],O=Uc(E,D[7]);return null!==O&&function ID(s,o,l,h,f,_){h[0]=f,h[6]=o,Ef(s,h,l,1,f,_)}(f,D[6],E,h,O,T),o.attachToViewContainerRef(),ar(Wf(D),_,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Bn(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),h=om(this._lContainer,l);h&&(ri(Wf(this._lContainer),l),Df(h[1],h))}detach(o){const l=this._adjustIndex(o,-1),h=om(this._lContainer,l);return h&&null!=ri(Wf(this._lContainer),l)?new Kp(h):null}_adjustIndex(o,l=0){return o??this.length+l}};function Bn(s){return s[8]}function Wf(s){return s[8]||(s[8]=[])}function tI(s,o){let l;const h=o[s.index];if(Qi(h))l=h;else{let f;if(8&s.type)f=$i(h);else{const _=o[11];f=_.createComment("");const D=rs(s,o);Ls(_,Uc(_,D),f,function z0(s,o){return s.nextSibling(o)}(_,D),!1)}o[s.index]=l=Eb(h,o,f,s),Rh(o,l)}return new Uh(l,s,o)}class Qm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Qm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const h=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let _=0;_<h;_++){const D=l.getByIndex(_);f.push(this.queries[D.indexInDeclarationView].clone())}return new Tw(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==aI(o,l).matches&&this.queries[l].setDirty()}}class Jm{constructor(o,l,h=null){this.predicate=o,this.flags=l,this.read=h}}class qf{constructor(o=[]){this.queries=o}elementStart(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let h=0;h<this.length;h++){const f=null!==l?l.length:0,_=this.getByIndex(h).embeddedTView(o,f);_&&(_.indexInDeclarationView=h,null!==l?l.push(_):l=[_])}return null!==l?new qf(l):null}template(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ay{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ay(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=o.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const _=h[f];this.matchTNodeWithReadOption(o,l,ly(l,_)),this.matchTNodeWithReadOption(o,l,er(l,o,_,!1,!1))}else h===ag?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,er(l,o,h,!1,!1))}matchTNodeWithReadOption(o,l,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===V||f===Km||f===ag&&4&l.type)this.addMatch(l.index,-2);else{const _=er(l,o,f,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,h)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function ly(s,o){const l=s.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===o)return l[h+1];return null}function Ew(s,o,l,h){return-1===l?function Dx(s,o){return 11&s.type?M(s,o):4&s.type?sy(s,o):null}(o,s):-2===l?function uy(s,o,l){return l===V?M(o,s):l===ag?sy(o,s):l===Km?tI(o,s):void 0}(s,o,h):oa(s,s[1],l,o)}function Sw(s,o,l,h){const f=o[19].queries[h];if(null===f.matches){const _=s.data,D=l.matches,T=[];for(let E=0;E<D.length;E+=2){const O=D[E];T.push(O<0?null:Ew(o,_[O],D[E+1],l.metadata.read))}f.matches=T}return f.matches}function cy(s,o,l,h){const f=s.queries.getByIndex(l),_=f.matches;if(null!==_){const D=Sw(s,o,f,l);for(let T=0;T<_.length;T+=2){const E=_[T];if(E>0)h.push(D[T/2]);else{const O=_[T+1],L=o[-E];for(let z=10;z<L.length;z++){const se=L[z];se[17]===se[3]&&cy(se[1],se,O,h)}if(null!==L[9]){const z=L[9];for(let se=0;se<z.length;se++){const me=z[se];cy(me[1],me,O,h)}}}}}return h}function nI(s){const o=Ze(),l=_n(),h=Ta();Iu(h+1);const f=aI(l,h);if(s.dirty&&function zr(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const _=f.crossesNgTemplate?cy(l,o,h,[]):Sw(l,o,f,h);s.reset(_,le),s.notifyOnChanges()}return!0}return!1}function iI(s,o,l){const h=_n();h.firstCreatePass&&(oI(h,new Jm(s,o,l),-1),2==(2&o)&&(h.staticViewQueries=!0)),sI(h,Ze(),o)}function rI(s,o,l,h){const f=_n();if(f.firstCreatePass){const _=Ji();oI(f,new Jm(o,l,h),_.index),function Ix(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}sI(f,Ze(),l)}function Xm(){return function Cx(s,o){return s[19].queries[o].queryList}(Ze(),Ta())}function sI(s,o,l){const h=new Iw(4==(4&l));Ov(s,o,h,h.destroy),null===o[19]&&(o[19]=new Tw),o[19].queries.push(new Qm(h))}function oI(s,o,l){null===s.queries&&(s.queries=new qf),s.queries.track(new ay(o,l))}function aI(s,o){return s.queries.getByIndex(o)}function dy(s,o){return sy(s,o)}function fg(...s){}const pg=new pi("Application Initializer");let my=(()=>{class s{constructor(l){this.appInits=l,this.resolve=fg,this.reject=fg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if($b(_))l.push(_);else if(KE(_)){const D=new Promise((T,E)=>{_.subscribe({complete:T,error:E})});l.push(D)}}Promise.all(l).then(()=>{h()}).catch(f=>{this.reject(f)}),0===l.length&&h(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(nr(pg,8))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const wI=new pi("AppId",{providedIn:"root",factory:function _y(){return`${vy()}${vy()}${vy()}`}});function vy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lw=new pi("Platform Initializer"),DI=new pi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CI=new pi("appBootstrapListener");let Vw=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const by=new pi("LocaleId",{providedIn:"root",factory:()=>S(by,yt.Optional|yt.SkipSelf)||function Vx(){return typeof $localize<"u"&&$localize.locale||Gf}()}),Uw=new pi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class UR{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let $R=(()=>{class s{compileModuleSync(l){return new mw(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),_=eu(jr(l).declarations).reduce((D,T)=>{const E=on(T);return E&&D.push(new Ph(E)),D},[]);return new UR(h,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const n_=(()=>Promise.resolve(0))();function Gw(s){typeof Zone>"u"?n_.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class yl{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ou(!1),this.onMicrotaskEmpty=new ou(!1),this.onStable=new ou(!1),this.onError=new ou(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&l,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Gx(){let s=Un.requestAnimationFrame,o=Un.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const h=o[Zone.__symbol__("OriginalDelegate")];h&&(o=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function gg(s){const o=()=>{!function Hx(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Un,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Qf(s),s.isCheckStableRunning=!0,Hw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Qf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,f,_,D,T)=>{try{return TI(s),l.invokeTask(f,_,D,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&o(),EI(s)}},onInvoke:(l,h,f,_,D,T,E)=>{try{return TI(s),l.invoke(f,_,D,T,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),EI(s)}},onHasTask:(l,h,f,_)=>{l.hasTask(f,_),h===f&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,Qf(s),Hw(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,h,f,_)=>(l.handleError(f,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yl.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(yl.isInAngularZone())throw new Le(909,!1)}run(o,l,h){return this._inner.run(o,l,h)}runTask(o,l,h,f){const _=this._inner,D=_.scheduleEventTask("NgZoneEvent: "+f,o,Dy,fg,fg);try{return _.runTask(D,l,h)}finally{_.cancelTask(D)}}runGuarded(o,l,h){return this._inner.runGuarded(o,l,h)}runOutsideAngular(o){return this._outer.run(o)}}const Dy={};function Hw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Qf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function TI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function EI(s){s._nesting--,Hw(s)}class i_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ou,this.onMicrotaskEmpty=new ou,this.onStable=new ou,this.onError=new ou}run(o,l,h){return o.apply(l,h)}runGuarded(o,l,h){return o.apply(l,h)}runOutsideAngular(o){return o()}runTask(o,l,h,f){return o.apply(l,h)}}const mg=new pi(""),SI=new pi("");let jw,jx=(()=>{class s{constructor(l,h,f){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jw||(function Wx(s){jw=s}(f),f.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yl.assertNotInAngularZone(),Gw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gw(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,f){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==_),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:f})}whenStable(l,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(nr(yl),nr(xI),nr(SI))},s.\u0275prov=pn({token:s,factory:s.\u0275fac}),s})(),xI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return jw?.findTestabilityInTree(this,l,h)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Gh=null;const zx=new pi("AllowMultipleToken"),Ww=new pi("PlatformDestroyListeners");class Zx{constructor(o,l){this.name=o,this.token=l}}function NI(s,o,l=[]){const h=`Platform: ${o}`,f=new pi(h);return(_=[])=>{let D=zw();if(!D||D.injector.get(zx,!1)){const T=[...l,..._,{provide:f,useValue:!0}];s?s(T):function Yx(s){if(Gh&&!Gh.get(zx,!1))throw new Le(400,!1);Gh=s;const o=s.get(Iy);(function AI(s){const o=s.get(Lw,null);o&&o.forEach(l=>l())})(s)}(function OI(s=[],o){return ys.create({name:o,providers:[{provide:Yl,useValue:"platform"},{provide:Ww,useValue:new Set([()=>Gh=null])},...s]})}(T,h))}return function Qx(s){const o=zw();if(!o)throw new Le(401,!1);return o}()}}function zw(){return Gh?.get(Iy)??null}let Iy=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const f=function Ty(s,o){let l;return l="noop"===s?new i_:("zone.js"===s?void 0:s)||new yl(o),l}(h?.ngZone,function qw(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:yl,useValue:f}];return f.run(()=>{const D=ys.create({providers:_,parent:this.injector,name:l.moduleType.name}),T=l.create(D),E=T.injector.get(Nd,null);if(!E)throw new Le(402,!1);return f.runOutsideAngular(()=>{const O=f.onError.subscribe({next:L=>{E.handleError(L)}});T.onDestroy(()=>{Sy(this._modules,T),O.unsubscribe()})}),function s_(s,o,l){try{const h=l();return $b(h)?h.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):h}catch(h){throw o.runOutsideAngular(()=>s.handleError(h)),h}}(E,f,()=>{const O=T.injector.get(my);return O.runInitializers(),O.donePromise.then(()=>(Qb(T.injector.get(by,Gf)||Gf),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,h=[]){const f=MI({},h);return function Cy(s,o,l){const h=new mw(l);return Promise.resolve(h)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(l){const h=l.injector.get(Ey);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Le(403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(Ww,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(nr(ys))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function MI(s,o){return Array.isArray(o)?o.reduce(MI,s):{...s,...o}}let Ey=(()=>{class s{constructor(l,h,f){this._zone=l,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new W.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new W.y(T=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{yl.assertNotInAngularZone(),Gw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{yl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{E.unsubscribe(),O.unsubscribe()}});this.isStable=(0,be.T)(_,D.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const f=l instanceof Ku;if(!this._injector.get(my).done)throw!f&&us(l),new Le(405,false);let D;D=f?l:this._injector.get(v).resolveComponentFactory(l),this.componentTypes.push(D.componentType);const T=function qx(s){return s.isBoundToModule}(D)?void 0:this._injector.get(rg),O=D.create(ys.NULL,[],h||D.selector,T),L=O.location.nativeElement,z=O.injector.get(mg,null);return z?.registerApplication(L),O.onDestroy(()=>{this.detachView(O.hostView),Sy(this.components,O),z?.unregisterApplication(L)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Sy(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(CI,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Sy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Le(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(nr(yl),nr(Ql),nr(Nd))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Sy(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let Zw=!0,Yw=!1;function Ay(){return Yw=!0,Zw}function Ny(){if(Yw)throw new Error("Cannot enable prod mode after platform setup.");Zw=!1}let eA=(()=>{class s{}return s.__NG_ELEMENT_ID__=tA,s})();function tA(s){return function nA(s,o,l){if(ps(s)&&!l){const h=An(s.index,o);return new Kp(h,h)}return 47&s.type?new Kp(o[16],o):null}(Ji(),Ze(),16==(16&s))}class LI{constructor(){}supports(o){return re(o)}create(o){return new Jw(o)}}const BI=(s,o)=>o;class Jw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||BI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,h=this._removalsHead,f=0,_=null;for(;l||h;){const D=!h||l&&l.currentIndex<$I(h,f,_)?l:h,T=$I(D,f,_),E=D.currentIndex;if(D===h)f--,h=h._nextRemoved;else if(l=l._next,null==D.previousIndex)f++;else{_||(_=[]);const O=T-f,L=E-f;if(O!=L){for(let se=0;se<O;se++){const me=se<_.length?_[se]:_[se]=0,$e=me+se;L<=$e&&$e<O&&(_[se]=me+1)}_[D.previousIndex]=L-O}}T!==E&&o(D,T,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!re(o))throw new Le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,_,D,l=this._itHead,h=!1;if(Array.isArray(o)){this.length=o.length;for(let T=0;T<this.length;T++)_=o[T],D=this._trackByFn(T,_),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,_,D,T)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,D,T),h=!0),l=l._next}else f=0,function je(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[G()]();let h;for(;!(h=l.next()).done;)o(h.value)}}(o,T=>{D=this._trackByFn(f,T),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,T,D,f)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,D,f),h=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,h,f){let _;return null===o?_=this._itTail:(_=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,_,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,_,f)):o=this._addAfter(new VI(l,h),_,f),o}_verifyReinsertion(o,l,h,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?o=this._reinsertAfter(_,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,_=o._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(o,l,h),this._addToMoves(o,h),o}_moveAfter(o,l,h){return this._unlink(o),this._insertAfter(o,l,h),this._addToMoves(o,h),o}_addAfter(o,l,h){return this._insertAfter(o,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,h){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new oA),this._linkedRecords.put(o),o.currentIndex=h,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,h=o._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oA),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class VI{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,o))return h;return null}remove(o){const l=o._prevDup,h=o._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class oA{constructor(){this.map=new Map}put(o){const l=o.trackById;let h=this.map.get(l);h||(h=new UI,this.map.set(l,h)),h.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $I(s,o,l){const h=s.previousIndex;if(null===h)return h;let f=0;return l&&h<l.length&&(f=l[h]),h+o+f}class GI{constructor(){}supports(o){return o instanceof Map||qe(o)}create(){return new aA}}class aA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||qe(o)))throw new Le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(h,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(f,h);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const h=o._prev;return l._next=o,l._prev=h,o._prev=l,h&&(h._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const _=f._prev,D=f._next;return _&&(_._next=D),D&&(D._prev=_),f._next=null,f._prev=null,f}const h=new lA(o);return this._records.set(o,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(h=>l(o[h],h))}}class lA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function o_(){return new By([new LI])}let By=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(null!=h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||o_()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(null!=h)return h;throw new Le(901,!1)}}return s.\u0275prov=pn({token:s,providedIn:"root",factory:o_}),s})();function Vy(){return new Xw([new GI])}let Xw=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||Vy()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(h)return h;throw new Le(901,!1)}}return s.\u0275prov=pn({token:s,providedIn:"root",factory:Vy}),s})();const cA=NI(null,"core",[]);let dA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(nr(Ey))},s.\u0275mod=kt({type:s}),s.\u0275inj=dn({}),s})();function hA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function iP(s,o){const l=on(s),h=o.elementInjector||Pc();return new Ph(l).create(h,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(At,Ge,j)=>{"use strict";j.d(Ge,{Z:()=>Le});var u=j(2090),k=j(4859),W=j(9681),be=j(1877);class ge{constructor(Oe,Me){this._delegate=Oe,this.firebase=Me,(0,W._addComponent)(Oe,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Oe,Me=W._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const St=this._delegate.container.getProvider(Oe);return!St.isInitialized()&&"EXPLICIT"===(null===(at=St.getComponent())||void 0===at?void 0:at.instantiationMode)&&St.initialize(),St.getImmediate({identifier:Me})}_removeServiceInstance(Oe,Me=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Me)}_addComponent(Oe){(0,W._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,W._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Ae(){const ht=function Ne(ht){const Oe={},Me={__esModule:!0,initializeApp:function He(ft,Q={}){const Re=W.initializeApp(ft,Q);if((0,u.r3)(Oe,Re.name))return Oe[Re.name];const ae=new ht(Re,Me);return Oe[Re.name]=ae,ae},app:St,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Fe(ft){const Q=ft.name,Re=Q.replace("-compat","");if(W._registerComponent(ft)&&"PUBLIC"===ft.type){const ae=(pe=St())=>{if("function"!=typeof pe[Re])throw Ie.create("invalid-app-argument",{appName:Q});return pe[Re]()};void 0!==ft.serviceProps&&(0,u.ZB)(ae,ft.serviceProps),Me[Re]=ae,ht.prototype[Re]=function(...pe){return this._getService.bind(this,Q).apply(this,ft.multipleInstances?pe:[])}}return"PUBLIC"===ft.type?Me[Re]:null},removeApp:function at(ft){delete Oe[ft]},useAsService:function st(ft,Q){return"serverAuth"===Q?null:Q},modularAPIs:W}};function St(ft){if(!(0,u.r3)(Oe,ft=ft||W._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:ft});return Oe[ft]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function ke(){return Object.keys(Oe).map(ft=>Oe[ft])}}),St.App=ht,Me}(ge);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Oe(Me){(0,u.ZB)(ht,Me)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ht}(),X=new be.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=J;!function Ue(ht){(0,W.registerVersion)("@firebase/app-compat","0.1.34",ht)}()},9681:(At,Ge,j)=>{"use strict";j.r(Ge),j.d(Ge,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>ts,_DEFAULT_ENTRY_NAME:()=>cn,_addComponent:()=>Vn,_addOrOverwriteComponent:()=>pn,_apps:()=>Yn,_clearComponents:()=>xr,_components:()=>di,_getProvider:()=>dn,_registerComponent:()=>pr,_removeServiceInstance:()=>Qt,deleteApp:()=>vi,getApp:()=>Oi,getApps:()=>Ar,initializeApp:()=>hi,onLog:()=>Hr,registerVersion:()=>Gr,setLogLevel:()=>Cn});var u=j(5861),k=j(4859),W=j(1877),be=j(2090),ge=j(8766);class Ce{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(ie=>{if(function Ie(K){return"VERSION"===K.getComponent()?.type}(ie)){const ze=ie.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(ie=>ie).join(" ")}}const Ne="@firebase/app",J=new W.Yd("@firebase/app"),cn="[DEFAULT]",pt={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yn=new Map,di=new Map;function Vn(K,ne){try{K.container.addComponent(ne)}catch(ie){J.debug(`Component ${ne.name} failed to register with FirebaseApp ${K.name}`,ie)}}function pn(K,ne){K.container.addOrOverwriteComponent(ne)}function pr(K){const ne=K.name;if(di.has(ne))return J.debug(`There were multiple attempts to register component ${ne}.`),!1;di.set(ne,K);for(const ie of Yn.values())Vn(ie,K);return!0}function dn(K,ne){const ie=K.container.getProvider("heartbeat").getImmediate({optional:!0});return ie&&ie.triggerHeartbeat(),K.container.getProvider(ne)}function Qt(K,ne,ie=cn){dn(K,ne).clearInstance(ie)}function xr(){di.clear()}const kn=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wi{constructor(ne,ie,ze){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},ie),this._name=ie.name,this._automaticDataCollectionEnabled=ie.automaticDataCollectionEnabled,this._container=ze,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const ts="9.10.0";function hi(K,ne={}){"object"!=typeof ne&&(ne={name:ne});const ie=Object.assign({name:cn,automaticDataCollectionEnabled:!1},ne),ze=ie.name;if("string"!=typeof ze||!ze)throw kn.create("bad-app-name",{appName:String(ze)});const ct=Yn.get(ze);if(ct){if((0,be.vZ)(K,ct.options)&&(0,be.vZ)(ie,ct.config))return ct;throw kn.create("duplicate-app",{appName:ze})}const kt=new k.H0(ze);for(const Fn of di.values())kt.addComponent(Fn);const oi=new Wi(K,ie,kt);return Yn.set(ze,oi),oi}function Oi(K=cn){const ne=Yn.get(K);if(!ne)throw kn.create("no-app",{appName:K});return ne}function Ar(){return Array.from(Yn.values())}function vi(K){return yt.apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(K){const ne=K.name;Yn.has(ne)&&(Yn.delete(ne),yield Promise.all(K.container.getProviders().map(ie=>ie.delete())),K.isDeleted=!0)})).apply(this,arguments)}function Gr(K,ne,ie){var ze;let ct=null!==(ze=pt[K])&&void 0!==ze?ze:K;ie&&(ct+=`-${ie}`);const kt=ct.match(/\s|\//),oi=ne.match(/\s|\//);if(kt||oi){const Fn=[`Unable to register library "${ct}" with version "${ne}":`];return kt&&Fn.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),kt&&oi&&Fn.push("and"),oi&&Fn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void J.warn(Fn.join(" "))}pr(new k.wA(`${ct}-version`,()=>({library:ct,version:ne}),"VERSION"))}function Hr(K,ne){if(null!==K&&"function"!=typeof K)throw kn.create("invalid-log-argument");(0,W.Am)(K,ne)}function Cn(K){(0,W.Ub)(K)}const Fi="firebase-heartbeat-store";let wi=null;function fi(){return wi||(wi=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(K,ne)=>{0===ne&&K.createObjectStore(Fi)}}).catch(K=>{throw kn.create("idb-open",{originalErrorMessage:K.message})})),wi}function Ot(){return(Ot=(0,u.Z)(function*(K){var ne;try{return(yield fi()).transaction(Fi).objectStore(Fi).get(Bi(K))}catch(ie){if(ie instanceof be.ZR)J.warn(ie.message);else{const ze=kn.create("idb-get",{originalErrorMessage:null===(ne=ie)||void 0===ne?void 0:ne.message});J.warn(ze.message)}}})).apply(this,arguments)}function Un(K,ne){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(K,ne){var ie;try{const ct=(yield fi()).transaction(Fi,"readwrite");return yield ct.objectStore(Fi).put(ne,Bi(K)),ct.done}catch(ze){if(ze instanceof be.ZR)J.warn(ze.message);else{const ct=kn.create("idb-set",{originalErrorMessage:null===(ie=ze)||void 0===ie?void 0:ie.message});J.warn(ct.message)}}})).apply(this,arguments)}function Bi(K){return`${K.name}!${K.options.appId}`}class Is{constructor(ne){this.container=ne,this._heartbeatsCache=null;const ie=this.container.getProvider("app").getImmediate();this._storage=new In(ie),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var ne=this;return(0,u.Z)(function*(){const ze=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=Sn();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==ct&&!ne._heartbeatsCache.heartbeats.some(kt=>kt.date===ct))return ne._heartbeatsCache.heartbeats.push({date:ct,agent:ze}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(kt=>{const oi=new Date(kt.date).valueOf();return Date.now()-oi<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,u.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const ie=Sn(),{heartbeatsToSend:ze,unsentEntries:ct}=function ns(K,ne=1024){const ie=[];let ze=K.slice();for(const ct of K){const kt=ie.find(oi=>oi.agent===ct.agent);if(kt){if(kt.dates.push(ct.date),oe(ie)>ne){kt.dates.pop();break}}else if(ie.push({agent:ct.agent,dates:[ct.date]}),oe(ie)>ne){ie.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:ie,unsentEntries:ze}}(ne._heartbeatsCache.heartbeats),kt=(0,be.L)(JSON.stringify({version:2,heartbeats:ze}));return ne._heartbeatsCache.lastSentHeartbeatDate=ie,ct.length>0?(ne._heartbeatsCache.heartbeats=ct,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),kt})()}}function Sn(){return(new Date).toISOString().substring(0,10)}class In{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,u.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function Ft(K){return Ot.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var ie=this;return(0,u.Z)(function*(){var ze;if(yield ie._canUseIndexedDBPromise){const kt=yield ie.read();return Un(ie.app,{lastSentHeartbeatDate:null!==(ze=ne.lastSentHeartbeatDate)&&void 0!==ze?ze:kt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var ie=this;return(0,u.Z)(function*(){var ze;if(yield ie._canUseIndexedDBPromise){const kt=yield ie.read();return Un(ie.app,{lastSentHeartbeatDate:null!==(ze=ne.lastSentHeartbeatDate)&&void 0!==ze?ze:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...ne.heartbeats]})}})()}}function oe(K){return(0,be.L)(JSON.stringify({version:2,heartbeats:K})).length}!function te(K){pr(new k.wA("platform-logger",ne=>new Ce(ne),"PRIVATE")),pr(new k.wA("heartbeat",ne=>new Is(ne),"PRIVATE")),Gr(Ne,"0.7.33",K),Gr(Ne,"0.7.33","esm2017"),Gr("fire-js","")}("")},4859:(At,Ge,j)=>{"use strict";j.d(Ge,{H0:()=>Ne,wA:()=>W});var u=j(5861),k=j(2090);class W{constructor(J,X,ce){this.name=J,this.instanceFactory=X,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const be="[DEFAULT]";class ge{constructor(J,X){this.name=J,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const X=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(X)){const ce=new k.BH;if(this.instancesDeferred.set(X,ce),this.isInitialized(X)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:X});tt&&ce.resolve(tt)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(J){var X;const ce=this.normalizeInstanceIdentifier(J?.identifier),tt=null!==(X=J?.optional)&&void 0!==X&&X;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(Ue){if(tt)return null;throw Ue}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Ie(Ae){return"EAGER"===Ae.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[X,ce]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(X);try{const Ue=this.getOrInitializeService({instanceIdentifier:tt});ce.resolve(Ue)}catch{}}}}clearInstance(J=be){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,u.Z)(function*(){const X=Array.from(J.instances.values());yield Promise.all([...X.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...X.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=be){return this.instances.has(J)}getOptions(J=be){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:X={}}=J,ce=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:ce,options:X});for(const[Ue,Le]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(Ue)&&Le.resolve(tt);return tt}onInit(J,X){var ce;const tt=this.normalizeInstanceIdentifier(X),Ue=null!==(ce=this.onInitCallbacks.get(tt))&&void 0!==ce?ce:new Set;Ue.add(J),this.onInitCallbacks.set(tt,Ue);const Le=this.instances.get(tt);return Le&&J(Le,tt),()=>{Ue.delete(J)}}invokeOnInitCallbacks(J,X){const ce=this.onInitCallbacks.get(X);if(ce)for(const tt of ce)try{tt(J,X)}catch{}}getOrInitializeService({instanceIdentifier:J,options:X={}}){let ce=this.instances.get(J);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=J,Ae===be?void 0:Ae),options:X}),this.instances.set(J,ce),this.instancesOptions.set(J,X),this.invokeOnInitCallbacks(ce,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ce)}catch{}var Ae;return ce||null}normalizeInstanceIdentifier(J=be){return this.component?this.component.multipleInstances?J:be:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const X=this.getProvider(J.name);if(X.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);X.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const X=new ge(J,this);return this.providers.set(J,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(At,Ge,j)=>{"use strict";j.d(Ge,{Am:()=>Ae,Ub:()=>Ne,Yd:()=>Ie,in:()=>k});const u=[];var k=(()=>{return(J=k||(k={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",k;var J})();const W={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},be=k.INFO,ge={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},Ce=(J,X,...ce)=>{if(X<J.logLevel)return;const tt=(new Date).toISOString(),Ue=ge[X];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Ue](`[${tt}]  ${J.name}:`,...ce)};class Ie{constructor(X){this.name=X,this._logLevel=be,this._logHandler=Ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in k))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?W[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...X),this._logHandler(this,k.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...X),this._logHandler(this,k.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,k.INFO,...X),this._logHandler(this,k.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,k.WARN,...X),this._logHandler(this,k.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...X),this._logHandler(this,k.ERROR,...X)}}function Ne(J){u.forEach(X=>{X.setLogLevel(J)})}function Ae(J,X){for(const ce of u){let tt=null;X&&X.level&&(tt=W[X.level]),ce.userLogHandler=null===J?null:(Ue,Le,...ht)=>{const Oe=ht.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Le>=(tt??Ue.logLevel)&&J({level:k[Le].toLowerCase(),message:Oe,args:ht,type:Ue.name})}}}},8766:(At,Ge,j)=>{"use strict";j.d(Ge,{Lj:()=>He,X3:()=>St});var u=j(5861);let W,be;const Ie=new WeakMap,Ne=new WeakMap,Ae=new WeakMap,J=new WeakMap,X=new WeakMap;let Ue={get(Q,Re,ae){if(Q instanceof IDBTransaction){if("done"===Re)return Ne.get(Q);if("objectStoreNames"===Re)return Q.objectStoreNames||Ae.get(Q);if("store"===Re)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Me(Q[Re])},set:(Q,Re,ae)=>(Q[Re]=ae,!0),has:(Q,Re)=>Q instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in Q};function Oe(Q){return"function"==typeof Q?function ht(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...Re){return Q.apply(at(this),Re),Me(Ie.get(this))}:function(...Re){return Me(Q.apply(at(this),Re))}:function(Re,...ae){const pe=Q.call(at(this),Re,...ae);return Ae.set(pe,Re.sort?Re.sort():[Re]),Me(pe)}}(Q):(Q instanceof IDBTransaction&&function tt(Q){if(Ne.has(Q))return;const Re=new Promise((ae,pe)=>{const ye=()=>{Q.removeEventListener("complete",ve),Q.removeEventListener("error",it),Q.removeEventListener("abort",it)},ve=()=>{ae(),ye()},it=()=>{pe(Q.error||new DOMException("AbortError","AbortError")),ye()};Q.addEventListener("complete",ve),Q.addEventListener("error",it),Q.addEventListener("abort",it)});Ne.set(Q,Re)}(Q),((Q,Re)=>Re.some(ae=>Q instanceof ae))(Q,function ge(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Ue):Q)}function Me(Q){if(Q instanceof IDBRequest)return function ce(Q){const Re=new Promise((ae,pe)=>{const ye=()=>{Q.removeEventListener("success",ve),Q.removeEventListener("error",it)},ve=()=>{ae(Me(Q.result)),ye()},it=()=>{pe(Q.error),ye()};Q.addEventListener("success",ve),Q.addEventListener("error",it)});return Re.then(ae=>{ae instanceof IDBCursor&&Ie.set(ae,Q)}).catch(()=>{}),X.set(Re,Q),Re}(Q);if(J.has(Q))return J.get(Q);const Re=Oe(Q);return Re!==Q&&(J.set(Q,Re),X.set(Re,Q)),Re}const at=Q=>X.get(Q);function St(Q,Re,{blocked:ae,upgrade:pe,blocking:ye,terminated:ve}={}){const it=indexedDB.open(Q,Re),Je=Me(it);return pe&&it.addEventListener("upgradeneeded",Mt=>{pe(Me(it.result),Mt.oldVersion,Mt.newVersion,Me(it.transaction))}),ae&&it.addEventListener("blocked",()=>ae()),Je.then(Mt=>{ve&&Mt.addEventListener("close",()=>ve()),ye&&Mt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),Je}function He(Q,{blocked:Re}={}){const ae=indexedDB.deleteDatabase(Q);return Re&&ae.addEventListener("blocked",()=>Re()),Me(ae).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],st=new Map;function ft(Q,Re){if(!(Q instanceof IDBDatabase)||Re in Q||"string"!=typeof Re)return;if(st.get(Re))return st.get(Re);const ae=Re.replace(/FromIndex$/,""),pe=Re!==ae,ye=Fe.includes(ae);if(!(ae in(pe?IDBIndex:IDBObjectStore).prototype)||!ye&&!ke.includes(ae))return;const ve=function(){var it=(0,u.Z)(function*(Je,...Mt){const Tn=this.transaction(Je,ye?"readwrite":"readonly");let cn=Tn.store;return pe&&(cn=cn.index(Mt.shift())),(yield Promise.all([cn[ae](...Mt),ye&&Tn.done]))[0]});return function(Mt){return it.apply(this,arguments)}}();return st.set(Re,ve),ve}!function Le(Q){Ue=Q(Ue)}(Q=>({...Q,get:(Re,ae,pe)=>ft(Re,ae)||Q.get(Re,ae,pe),has:(Re,ae)=>!!ft(Re,ae)||Q.has(Re,ae)}))},5861:(At,Ge,j)=>{"use strict";function u(W,be,ge,Ce,Ie,Ne,Ae){try{var J=W[Ne](Ae),X=J.value}catch(ce){return void ge(ce)}J.done?be(X):Promise.resolve(X).then(Ce,Ie)}function k(W){return function(){var be=this,ge=arguments;return new Promise(function(Ce,Ie){var Ne=W.apply(be,ge);function Ae(X){u(Ne,Ce,Ie,Ae,J,"next",X)}function J(X){u(Ne,Ce,Ie,Ae,J,"throw",X)}Ae(void 0)})}}j.d(Ge,{Z:()=>k})}},At=>{At(At.s=7021)}]);