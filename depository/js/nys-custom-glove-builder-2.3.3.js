(()=>{"use strict";var e,b={},d={};function t(e){var o=d[e];if(void 0!==o)return o.exports;var r=d[e]={id:e,loaded:!1,exports:{}};return b[e].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.m=b,e=[],t.O=(o,r,a,f)=>{if(!r){var i=1/0;for(n=0;n<e.length;n++){for(var[r,a,f]=e[n],c=!0,s=0;s<r.length;s++)(!1&f||i>=f)&&Object.keys(t.O).every(u=>t.O[u](r[s]))?r.splice(s--,1):(c=!1,f<i&&(i=f));if(c){e.splice(n--,1);var l=a();void 0!==l&&(o=l)}}return o}f=f||0;for(var n=e.length;n>0&&e[n-1][2]>f;n--)e[n]=e[n-1];e[n]=[r,a,f]},(()=>{var o,e=Object.getPrototypeOf?r=>Object.getPrototypeOf(r):r=>r.__proto__;t.t=function(r,a){if(1&a&&(r=this(r)),8&a||"object"==typeof r&&r&&(4&a&&r.__esModule||16&a&&"function"==typeof r.then))return r;var f=Object.create(null);t.r(f);var n={};o=o||[null,e({}),e([]),e(e)];for(var i=2&a&&r;"object"==typeof i&&!~o.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach(c=>n[c]=()=>r[c]);return n.default=()=>r,t.d(f,n),f}})(),t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={666:0};t.O.j=a=>0===e[a];var o=(a,f)=>{var s,l,[n,i,c]=f,p=0;if(n.some(_=>0!==e[_])){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(c)var h=c(t)}for(a&&a(f);p<n.length;p++)t.o(e,l=n[p])&&e[l]&&e[l][0](),e[l]=0;return t.O(h)},r=self.webpackChunknystixTools=self.webpackChunknystixTools||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})()})();
"use strict";(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[429],{5565:(jt,zn,Kn)=>{Error;const $o=function(s,...e){if($o.translate){const n=$o.translate(s,e);s=n[0],e=n[1]}let t=Wl(s[0],s.raw[0]);for(let n=1;n<s.length;n++)t+=e[n-1]+Wl(s[n],s.raw[n]);return t};function Wl(s,e){return":"===e.charAt(0)?s.substring(function Hl(s,e){for(let t=1,n=1;t<s.length;t++,n++)if("\\"===e[n])n++;else if(":"===s[t])return t;throw new Error(`Unterminated $localize metadata block in "${e}".`)}(s,e)+1):s}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=$o,Kn(8583)},8583:()=>{!function(d){const v=d.performance;function T(de){v&&v.mark&&v.mark(de)}function _(de,q){v&&v.measure&&v.measure(de,q)}T("Zone");const S=d.__Zone_symbol_prefix||"__zone_symbol__";function A(de){return S+de}const H=!0===d[A("forceDuplicateZoneCheck")];if(d.Zone){if(H||"function"!=typeof d.Zone.__symbol__)throw new Error("Zone already loaded.");return d.Zone}let U=(()=>{class de{constructor(h,m){this._parent=h,this._name=m?m.name||"unnamed":"<root>",this._properties=m&&m.properties||{},this._zoneDelegate=new Q(this,this._parent&&this._parent._zoneDelegate,m)}static assertZonePatched(){if(d.Promise!==Qe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let h=de.current;for(;h.parent;)h=h.parent;return h}static get current(){return Me.zone}static get currentTask(){return $e}static __load_patch(h,m,X=!1){if(Qe.hasOwnProperty(h)){if(!X&&H)throw Error("Already loaded patch: "+h)}else if(!d["__Zone_disable_"+h]){const ne="Zone:"+h;T(ne),Qe[h]=m(d,de,Le),_(ne,ne)}}get parent(){return this._parent}get name(){return this._name}get(h){const m=this.getZoneWith(h);if(m)return m._properties[h]}getZoneWith(h){let m=this;for(;m;){if(m._properties.hasOwnProperty(h))return m;m=m._parent}return null}fork(h){if(!h)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,h)}wrap(h,m){if("function"!=typeof h)throw new Error("Expecting function got: "+h);const X=this._zoneDelegate.intercept(this,h,m),ne=this;return function(){return ne.runGuarded(X,this,arguments,m)}}run(h,m,X,ne){Me={parent:Me,zone:this};try{return this._zoneDelegate.invoke(this,h,m,X,ne)}finally{Me=Me.parent}}runGuarded(h,m=null,X,ne){Me={parent:Me,zone:this};try{try{return this._zoneDelegate.invoke(this,h,m,X,ne)}catch(B){if(this._zoneDelegate.handleError(this,B))throw B}}finally{Me=Me.parent}}runTask(h,m,X){if(h.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");if(h.state===K&&(h.type===Ye||h.type===te))return;const ne=h.state!=W;ne&&h._transitionTo(W,le),h.runCount++;const B=$e;$e=h,Me={parent:Me,zone:this};try{h.type==te&&h.data&&!h.data.isPeriodic&&(h.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,h,m,X)}catch(b){if(this._zoneDelegate.handleError(this,b))throw b}}finally{h.state!==K&&h.state!==L&&(h.type==Ye||h.data&&h.data.isPeriodic?ne&&h._transitionTo(le,W):(h.runCount=0,this._updateTaskCount(h,-1),ne&&h._transitionTo(K,W,K))),Me=Me.parent,$e=B}}scheduleTask(h){if(h.zone&&h.zone!==this){let X=this;for(;X;){if(X===h.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${h.zone.name}`);X=X.parent}}h._transitionTo(Te,K);const m=[];h._zoneDelegates=m,h._zone=this;try{h=this._zoneDelegate.scheduleTask(this,h)}catch(X){throw h._transitionTo(L,Te,K),this._zoneDelegate.handleError(this,X),X}return h._zoneDelegates===m&&this._updateTaskCount(h,1),h.state==Te&&h._transitionTo(le,Te),h}scheduleMicroTask(h,m,X,ne){return this.scheduleTask(new z(J,h,m,X,ne,void 0))}scheduleMacroTask(h,m,X,ne,B){return this.scheduleTask(new z(te,h,m,X,ne,B))}scheduleEventTask(h,m,X,ne,B){return this.scheduleTask(new z(Ye,h,m,X,ne,B))}cancelTask(h){if(h.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");h._transitionTo(Ce,le,W);try{this._zoneDelegate.cancelTask(this,h)}catch(m){throw h._transitionTo(L,Ce),this._zoneDelegate.handleError(this,m),m}return this._updateTaskCount(h,-1),h._transitionTo(K,Ce),h.runCount=0,h}_updateTaskCount(h,m){const X=h._zoneDelegates;-1==m&&(h._zoneDelegates=null);for(let ne=0;ne<X.length;ne++)X[ne]._updateTaskCount(h.type,m)}}return de.__symbol__=A,de})();const $={name:"",onHasTask:(de,q,h,m)=>de.hasTask(h,m),onScheduleTask:(de,q,h,m)=>de.scheduleTask(h,m),onInvokeTask:(de,q,h,m,X,ne)=>de.invokeTask(h,m,X,ne),onCancelTask:(de,q,h,m)=>de.cancelTask(h,m)};class Q{constructor(q,h,m){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=q,this._parentDelegate=h,this._forkZS=m&&(m&&m.onFork?m:h._forkZS),this._forkDlgt=m&&(m.onFork?h:h._forkDlgt),this._forkCurrZone=m&&(m.onFork?this.zone:h._forkCurrZone),this._interceptZS=m&&(m.onIntercept?m:h._interceptZS),this._interceptDlgt=m&&(m.onIntercept?h:h._interceptDlgt),this._interceptCurrZone=m&&(m.onIntercept?this.zone:h._interceptCurrZone),this._invokeZS=m&&(m.onInvoke?m:h._invokeZS),this._invokeDlgt=m&&(m.onInvoke?h:h._invokeDlgt),this._invokeCurrZone=m&&(m.onInvoke?this.zone:h._invokeCurrZone),this._handleErrorZS=m&&(m.onHandleError?m:h._handleErrorZS),this._handleErrorDlgt=m&&(m.onHandleError?h:h._handleErrorDlgt),this._handleErrorCurrZone=m&&(m.onHandleError?this.zone:h._handleErrorCurrZone),this._scheduleTaskZS=m&&(m.onScheduleTask?m:h._scheduleTaskZS),this._scheduleTaskDlgt=m&&(m.onScheduleTask?h:h._scheduleTaskDlgt),this._scheduleTaskCurrZone=m&&(m.onScheduleTask?this.zone:h._scheduleTaskCurrZone),this._invokeTaskZS=m&&(m.onInvokeTask?m:h._invokeTaskZS),this._invokeTaskDlgt=m&&(m.onInvokeTask?h:h._invokeTaskDlgt),this._invokeTaskCurrZone=m&&(m.onInvokeTask?this.zone:h._invokeTaskCurrZone),this._cancelTaskZS=m&&(m.onCancelTask?m:h._cancelTaskZS),this._cancelTaskDlgt=m&&(m.onCancelTask?h:h._cancelTaskDlgt),this._cancelTaskCurrZone=m&&(m.onCancelTask?this.zone:h._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const X=m&&m.onHasTask;(X||h&&h._hasTaskZS)&&(this._hasTaskZS=X?m:$,this._hasTaskDlgt=h,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=q,m.onScheduleTask||(this._scheduleTaskZS=$,this._scheduleTaskDlgt=h,this._scheduleTaskCurrZone=this.zone),m.onInvokeTask||(this._invokeTaskZS=$,this._invokeTaskDlgt=h,this._invokeTaskCurrZone=this.zone),m.onCancelTask||(this._cancelTaskZS=$,this._cancelTaskDlgt=h,this._cancelTaskCurrZone=this.zone))}fork(q,h){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,q,h):new U(q,h)}intercept(q,h,m){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,q,h,m):h}invoke(q,h,m,X,ne){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,q,h,m,X,ne):h.apply(m,X)}handleError(q,h){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,q,h)}scheduleTask(q,h){let m=h;if(this._scheduleTaskZS)this._hasTaskZS&&m._zoneDelegates.push(this._hasTaskDlgtOwner),m=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,q,h),m||(m=h);else if(h.scheduleFn)h.scheduleFn(h);else{if(h.type!=J)throw new Error("Task is missing scheduleFn.");ie(h)}return m}invokeTask(q,h,m,X){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,q,h,m,X):h.callback.apply(m,X)}cancelTask(q,h){let m;if(this._cancelTaskZS)m=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,q,h);else{if(!h.cancelFn)throw Error("Task is not cancelable");m=h.cancelFn(h)}return m}hasTask(q,h){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,q,h)}catch(m){this.handleError(q,m)}}_updateTaskCount(q,h){const m=this._taskCounts,X=m[q],ne=m[q]=X+h;if(ne<0)throw new Error("More tasks executed then were scheduled.");0!=X&&0!=ne||this.hasTask(this.zone,{microTask:m.microTask>0,macroTask:m.macroTask>0,eventTask:m.eventTask>0,change:q})}}class z{constructor(q,h,m,X,ne,B){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=q,this.source=h,this.data=X,this.scheduleFn=ne,this.cancelFn=B,!m)throw new Error("callback is not defined");this.callback=m;const b=this;this.invoke=q===Ye&&X&&X.useG?z.invokeTask:function(){return z.invokeTask.call(d,b,this,arguments)}}static invokeTask(q,h,m){q||(q=this),Ie++;try{return q.runCount++,q.zone.runTask(q,h,m)}finally{1==Ie&&R(),Ie--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(K,Te)}_transitionTo(q,h,m){if(this._state!==h&&this._state!==m)throw new Error(`${this.type} '${this.source}': can not transition to '${q}', expecting state '${h}'${m?" or '"+m+"'":""}, was '${this._state}'.`);this._state=q,q==K&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Ee=A("setTimeout"),ue=A("Promise"),re=A("then");let Ke,De=[],we=!1;function ke(de){if(Ke||d[ue]&&(Ke=d[ue].resolve(0)),Ke){let q=Ke[re];q||(q=Ke.then),q.call(Ke,de)}else d[Ee](de,0)}function ie(de){0===Ie&&0===De.length&&ke(R),de&&De.push(de)}function R(){if(!we){for(we=!0;De.length;){const de=De;De=[];for(let q=0;q<de.length;q++){const h=de[q];try{h.zone.runTask(h,null,null)}catch(m){Le.onUnhandledError(m)}}}Le.microtaskDrainDone(),we=!1}}const Be={name:"NO ZONE"},K="notScheduled",Te="scheduling",le="scheduled",W="running",Ce="canceling",L="unknown",J="microTask",te="macroTask",Ye="eventTask",Qe={},Le={symbol:A,currentZoneFrame:()=>Me,onUnhandledError:x,microtaskDrainDone:x,scheduleMicroTask:ie,showUncaughtError:()=>!U[A("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:x,patchMethod:()=>x,bindArguments:()=>[],patchThen:()=>x,patchMacroTask:()=>x,patchEventPrototype:()=>x,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>x,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>x,wrapWithCurrentZone:()=>x,filterProperties:()=>[],attachOriginToPatched:()=>x,_redefineProperty:()=>x,patchCallbacks:()=>x,nativeScheduleMicroTask:ke};let Me={parent:null,zone:new U(null,null)},$e=null,Ie=0;function x(){}_("Zone","Zone"),d.Zone=U}(typeof window<"u"&&window||typeof self<"u"&&self||global);const jt=Object.getOwnPropertyDescriptor,zn=Object.defineProperty,Kn=Object.getPrototypeOf,Oe=Object.create,mt=Array.prototype.slice,In="addEventListener",bn="removeEventListener",Ts=Zone.__symbol__(In),Zn=Zone.__symbol__(bn),gt="true",ee="false",ln=Zone.__symbol__("");function cn(d,v){return Zone.current.wrap(d,v)}function Dn(d,v,T,_,S){return Zone.current.scheduleMacroTask(d,v,T,_,S)}const ye=Zone.__symbol__,vt=typeof window<"u",Nt=vt?window:void 0,He=vt&&Nt||"object"==typeof self&&self||global;function xs(d,v){for(let T=d.length-1;T>=0;T--)"function"==typeof d[T]&&(d[T]=cn(d[T],v+"_"+T));return d}function lt(d){return!d||!1!==d.writable&&!("function"==typeof d.get&&typeof d.set>"u")}const Xn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,pn=!("nw"in He)&&typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process),Cs=!pn&&!Xn&&!(!vt||!Nt.HTMLElement),pe=typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process)&&!Xn&&!(!vt||!Nt.HTMLElement),je={},ur=function(d){if(!(d=d||He.event))return;let v=je[d.type];v||(v=je[d.type]=ye("ON_PROPERTY"+d.type));const T=this||d.target||He,_=T[v];let S;if(Cs&&T===Nt&&"error"===d.type){const A=d;S=_&&_.call(this,A.message,A.filename,A.lineno,A.colno,A.error),!0===S&&d.preventDefault()}else S=_&&_.apply(this,arguments),null!=S&&!S&&d.preventDefault();return S};function lr(d,v,T){let _=jt(d,v);if(!_&&T&&jt(T,v)&&(_={enumerable:!0,configurable:!0}),!_||!_.configurable)return;const S=ye("on"+v+"patched");if(d.hasOwnProperty(S)&&d[S])return;delete _.writable,delete _.value;const A=_.get,H=_.set,U=v.slice(2);let $=je[U];$||($=je[U]=ye("ON_PROPERTY"+U)),_.set=function(Q){let z=this;!z&&d===He&&(z=He),z&&("function"==typeof z[$]&&z.removeEventListener(U,ur),H&&H.call(z,null),z[$]=Q,"function"==typeof Q&&z.addEventListener(U,ur,!1))},_.get=function(){let Q=this;if(!Q&&d===He&&(Q=He),!Q)return null;const z=Q[$];if(z)return z;if(A){let Ee=A.call(this);if(Ee)return _.set.call(this,Ee),"function"==typeof Q.removeAttribute&&Q.removeAttribute(v),Ee}return null},zn(d,v,_),d[S]=!0}function cr(d,v,T){if(v)for(let _=0;_<v.length;_++)lr(d,"on"+v[_],T);else{const _=[];for(const S in d)"on"==S.slice(0,2)&&_.push(S);for(let S=0;S<_.length;S++)lr(d,_[S],T)}}const et=ye("originalInstance");function Yn(d){const v=He[d];if(!v)return;He[ye(d)]=v,He[d]=function(){const S=xs(arguments,d);switch(S.length){case 0:this[et]=new v;break;case 1:this[et]=new v(S[0]);break;case 2:this[et]=new v(S[0],S[1]);break;case 3:this[et]=new v(S[0],S[1],S[2]);break;case 4:this[et]=new v(S[0],S[1],S[2],S[3]);break;default:throw new Error("Arg list too long.")}},kt(He[d],v);const T=new v(function(){});let _;for(_ in T)"XMLHttpRequest"===d&&"responseBlob"===_||function(S){"function"==typeof T[S]?He[d].prototype[S]=function(){return this[et][S].apply(this[et],arguments)}:zn(He[d].prototype,S,{set:function(A){"function"==typeof A?(this[et][S]=cn(A,d+"."+S),kt(this[et][S],A)):this[et][S]=A},get:function(){return this[et][S]}})}(_);for(_ in v)"prototype"!==_&&v.hasOwnProperty(_)&&(He[d][_]=v[_])}function Pt(d,v,T){let _=d;for(;_&&!_.hasOwnProperty(v);)_=Kn(_);!_&&d[v]&&(_=d);const S=ye(v);let A=null;if(_&&(!(A=_[S])||!_.hasOwnProperty(S))&&(A=_[S]=_[v],lt(_&&jt(_,v)))){const U=T(A,S,v);_[v]=function(){return U(this,arguments)},kt(_[v],A)}return A}function ai(d,v,T){let _=null;function S(A){const H=A.data;return H.args[H.cbIdx]=function(){A.invoke.apply(this,arguments)},_.apply(H.target,H.args),A}_=Pt(d,v,A=>function(H,U){const $=T(H,U);return $.cbIdx>=0&&"function"==typeof U[$.cbIdx]?Dn($.name,U[$.cbIdx],$,S):A.apply(H,U)})}function kt(d,v){d[ye("OriginalDelegate")]=v}let pr=!1,Qn=!1;function Jn(){if(pr)return Qn;pr=!0;try{const d=Nt.navigator.userAgent;(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/")||-1!==d.indexOf("Edge/"))&&(Qn=!0)}catch{}return Qn}Zone.__load_patch("ZoneAwarePromise",(d,v,T)=>{const _=Object.getOwnPropertyDescriptor,S=Object.defineProperty,H=T.symbol,U=[],$=!0===d[H("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Q=H("Promise"),z=H("then");T.onUnhandledError=b=>{if(T.showUncaughtError()){const N=b&&b.rejection;N?console.error("Unhandled Promise rejection:",N instanceof Error?N.message:N,"; Zone:",b.zone.name,"; Task:",b.task&&b.task.source,"; Value:",N,N instanceof Error?N.stack:void 0):console.error(b)}},T.microtaskDrainDone=()=>{for(;U.length;){const b=U.shift();try{b.zone.runGuarded(()=>{throw b.throwOriginal?b.rejection:b})}catch(N){re(N)}}};const ue=H("unhandledPromiseRejectionHandler");function re(b){T.onUnhandledError(b);try{const N=v[ue];"function"==typeof N&&N.call(this,b)}catch{}}function De(b){return b&&b.then}function we(b){return b}function Ke(b){return h.reject(b)}const ke=H("state"),ie=H("value"),R=H("finally"),Be=H("parentPromiseValue"),K=H("parentPromiseState"),le=null,W=!0,Ce=!1;function J(b,N){return w=>{try{Le(b,N,w)}catch(D){Le(b,!1,D)}}}const te=function(){let b=!1;return function(w){return function(){b||(b=!0,w.apply(null,arguments))}}},Qe=H("currentTaskTrace");function Le(b,N,w){const D=te();if(b===w)throw new TypeError("Promise resolved with itself");if(b[ke]===le){let j=null;try{("object"==typeof w||"function"==typeof w)&&(j=w&&w.then)}catch(Y){return D(()=>{Le(b,!1,Y)})(),b}if(N!==Ce&&w instanceof h&&w.hasOwnProperty(ke)&&w.hasOwnProperty(ie)&&w[ke]!==le)$e(w),Le(b,w[ke],w[ie]);else if(N!==Ce&&"function"==typeof j)try{j.call(w,D(J(b,N)),D(J(b,!1)))}catch(Y){D(()=>{Le(b,!1,Y)})()}else{b[ke]=N;const Y=b[ie];if(b[ie]=w,b[R]===R&&N===W&&(b[ke]=b[K],b[ie]=b[Be]),N===Ce&&w instanceof Error){const M=v.currentTask&&v.currentTask.data&&v.currentTask.data.__creationTrace__;M&&S(w,Qe,{configurable:!0,enumerable:!1,writable:!0,value:M})}for(let M=0;M<Y.length;)Ie(b,Y[M++],Y[M++],Y[M++],Y[M++]);if(0==Y.length&&N==Ce){b[ke]=0;let M=w;try{throw new Error("Uncaught (in promise): "+function A(b){return b&&b.toString===Object.prototype.toString?(b.constructor&&b.constructor.name||"")+": "+JSON.stringify(b):b?b.toString():Object.prototype.toString.call(b)}(w)+(w&&w.stack?"\n"+w.stack:""))}catch(oe){M=oe}$&&(M.throwOriginal=!0),M.rejection=w,M.promise=b,M.zone=v.current,M.task=v.currentTask,U.push(M),T.scheduleMicroTask()}}}return b}const Me=H("rejectionHandledHandler");function $e(b){if(0===b[ke]){try{const N=v[Me];N&&"function"==typeof N&&N.call(this,{rejection:b[ie],promise:b})}catch{}b[ke]=Ce;for(let N=0;N<U.length;N++)b===U[N].promise&&U.splice(N,1)}}function Ie(b,N,w,D,j){$e(b);const Y=b[ke],M=Y?"function"==typeof D?D:we:"function"==typeof j?j:Ke;N.scheduleMicroTask("Promise.then",()=>{try{const oe=b[ie],ae=!!w&&R===w[R];ae&&(w[Be]=oe,w[K]=Y);const se=N.run(M,void 0,ae&&M!==Ke&&M!==we?[]:[oe]);Le(w,!0,se)}catch(oe){Le(w,!1,oe)}},w)}const de=function(){},q=d.AggregateError;class h{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(N){return Le(new this(null),W,N)}static reject(N){return Le(new this(null),Ce,N)}static any(N){if(!N||"function"!=typeof N[Symbol.iterator])return Promise.reject(new q([],"All promises were rejected"));const w=[];let D=0;try{for(let M of N)D++,w.push(h.resolve(M))}catch{return Promise.reject(new q([],"All promises were rejected"))}if(0===D)return Promise.reject(new q([],"All promises were rejected"));let j=!1;const Y=[];return new h((M,oe)=>{for(let ae=0;ae<w.length;ae++)w[ae].then(se=>{j||(j=!0,M(se))},se=>{Y.push(se),D--,0===D&&(j=!0,oe(new q(Y,"All promises were rejected")))})})}static race(N){let w,D,j=new this((oe,ae)=>{w=oe,D=ae});function Y(oe){w(oe)}function M(oe){D(oe)}for(let oe of N)De(oe)||(oe=this.resolve(oe)),oe.then(Y,M);return j}static all(N){return h.allWithCallback(N)}static allSettled(N){return(this&&this.prototype instanceof h?this:h).allWithCallback(N,{thenCallback:D=>({status:"fulfilled",value:D}),errorCallback:D=>({status:"rejected",reason:D})})}static allWithCallback(N,w){let D,j,Y=new this((se,Se)=>{D=se,j=Se}),M=2,oe=0;const ae=[];for(let se of N){De(se)||(se=this.resolve(se));const Se=oe;try{se.then(Ae=>{ae[Se]=w?w.thenCallback(Ae):Ae,M--,0===M&&D(ae)},Ae=>{w?(ae[Se]=w.errorCallback(Ae),M--,0===M&&D(ae)):j(Ae)})}catch(Ae){j(Ae)}M++,oe++}return M-=2,0===M&&D(ae),Y}constructor(N){const w=this;if(!(w instanceof h))throw new Error("Must be an instanceof Promise.");w[ke]=le,w[ie]=[];try{const D=te();N&&N(D(J(w,W)),D(J(w,Ce)))}catch(D){Le(w,!1,D)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return h}then(N,w){var D;let j=null===(D=this.constructor)||void 0===D?void 0:D[Symbol.species];(!j||"function"!=typeof j)&&(j=this.constructor||h);const Y=new j(de),M=v.current;return this[ke]==le?this[ie].push(M,Y,N,w):Ie(this,M,Y,N,w),Y}catch(N){return this.then(null,N)}finally(N){var w;let D=null===(w=this.constructor)||void 0===w?void 0:w[Symbol.species];(!D||"function"!=typeof D)&&(D=h);const j=new D(de);j[R]=R;const Y=v.current;return this[ke]==le?this[ie].push(Y,j,N,N):Ie(this,Y,j,N,N),j}}h.resolve=h.resolve,h.reject=h.reject,h.race=h.race,h.all=h.all;const m=d[Q]=d.Promise;d.Promise=h;const X=H("thenPatched");function ne(b){const N=b.prototype,w=_(N,"then");if(w&&(!1===w.writable||!w.configurable))return;const D=N.then;N[z]=D,b.prototype.then=function(j,Y){return new h((oe,ae)=>{D.call(this,oe,ae)}).then(j,Y)},b[X]=!0}return T.patchThen=ne,m&&(ne(m),Pt(d,"fetch",b=>function B(b){return function(N,w){let D=b.apply(N,w);if(D instanceof h)return D;let j=D.constructor;return j[X]||ne(j),D}}(b))),Promise[v.__symbol__("uncaughtPromiseErrors")]=U,h}),Zone.__load_patch("toString",d=>{const v=Function.prototype.toString,T=ye("OriginalDelegate"),_=ye("Promise"),S=ye("Error"),A=function(){if("function"==typeof this){const Q=this[T];if(Q)return"function"==typeof Q?v.call(Q):Object.prototype.toString.call(Q);if(this===Promise){const z=d[_];if(z)return v.call(z)}if(this===Error){const z=d[S];if(z)return v.call(z)}}return v.call(this)};A[T]=v,Function.prototype.toString=A;const H=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":H.call(this)}});let Nn=!1;if(typeof window<"u")try{const d=Object.defineProperty({},"passive",{get:function(){Nn=!0}});window.addEventListener("test",d,d),window.removeEventListener("test",d,d)}catch{Nn=!1}const As={useG:!0},nt={},hr={},Wt=new RegExp("^"+ln+"(\\w+)(true|false)$"),dr=ye("propagationStopped");function fr(d,v){const T=(v?v(d):d)+ee,_=(v?v(d):d)+gt,S=ln+T,A=ln+_;nt[d]={},nt[d][ee]=S,nt[d][gt]=A}function hn(d,v,T,_){const S=_&&_.add||In,A=_&&_.rm||bn,H=_&&_.listeners||"eventListeners",U=_&&_.rmAll||"removeAllListeners",$=ye(S),Q="."+S+":",ue=function(ie,R,Be){if(ie.isRemoved)return;const K=ie.callback;let Te;"object"==typeof K&&K.handleEvent&&(ie.callback=W=>K.handleEvent(W),ie.originalDelegate=K);try{ie.invoke(ie,R,[Be])}catch(W){Te=W}const le=ie.options;return le&&"object"==typeof le&&le.once&&R[A].call(R,Be.type,ie.originalDelegate?ie.originalDelegate:ie.callback,le),Te};function re(ie,R,Be){if(!(R=R||d.event))return;const K=ie||R.target||d,Te=K[nt[R.type][Be?gt:ee]];if(Te){const le=[];if(1===Te.length){const W=ue(Te[0],K,R);W&&le.push(W)}else{const W=Te.slice();for(let Ce=0;Ce<W.length&&(!R||!0!==R[dr]);Ce++){const L=ue(W[Ce],K,R);L&&le.push(L)}}if(1===le.length)throw le[0];for(let W=0;W<le.length;W++){const Ce=le[W];v.nativeScheduleMicroTask(()=>{throw Ce})}}}const De=function(ie){return re(this,ie,!1)},we=function(ie){return re(this,ie,!0)};function Ke(ie,R){if(!ie)return!1;let Be=!0;R&&void 0!==R.useG&&(Be=R.useG);const K=R&&R.vh;let Te=!0;R&&void 0!==R.chkDup&&(Te=R.chkDup);let le=!1;R&&void 0!==R.rt&&(le=R.rt);let W=ie;for(;W&&!W.hasOwnProperty(S);)W=Kn(W);if(!W&&ie[S]&&(W=ie),!W||W[$])return!1;const Ce=R&&R.eventNameToString,L={},J=W[$]=W[S],te=W[ye(A)]=W[A],Ye=W[ye(H)]=W[H],Qe=W[ye(U)]=W[U];let Le;function Me(w,D){return!Nn&&"object"==typeof w&&w?!!w.capture:Nn&&D?"boolean"==typeof w?{capture:w,passive:!0}:w?"object"==typeof w&&!1!==w.passive?Object.assign(Object.assign({},w),{passive:!0}):w:{passive:!0}:w}R&&R.prepend&&(Le=W[ye(R.prepend)]=W[R.prepend]);const h=Be?function(w){if(!L.isExisting)return J.call(L.target,L.eventName,L.capture?we:De,L.options)}:function(w){return J.call(L.target,L.eventName,w.invoke,L.options)},m=Be?function(w){if(!w.isRemoved){const D=nt[w.eventName];let j;D&&(j=D[w.capture?gt:ee]);const Y=j&&w.target[j];if(Y)for(let M=0;M<Y.length;M++)if(Y[M]===w){Y.splice(M,1),w.isRemoved=!0,0===Y.length&&(w.allRemoved=!0,w.target[j]=null);break}}if(w.allRemoved)return te.call(w.target,w.eventName,w.capture?we:De,w.options)}:function(w){return te.call(w.target,w.eventName,w.invoke,w.options)},ne=R&&R.diff?R.diff:function(w,D){const j=typeof D;return"function"===j&&w.callback===D||"object"===j&&w.originalDelegate===D},B=Zone[ye("UNPATCHED_EVENTS")],b=d[ye("PASSIVE_EVENTS")],N=function(w,D,j,Y,M=!1,oe=!1){return function(){const ae=this||d;let se=arguments[0];R&&R.transferEventName&&(se=R.transferEventName(se));let Se=arguments[1];if(!Se)return w.apply(this,arguments);if(pn&&"uncaughtException"===se)return w.apply(this,arguments);let Ae=!1;if("function"!=typeof Se){if(!Se.handleEvent)return w.apply(this,arguments);Ae=!0}if(K&&!K(w,Se,ae,arguments))return;const Lt=Nn&&!!b&&-1!==b.indexOf(se),Tt=Me(arguments[2],Lt);if(B)for(let Et=0;Et<B.length;Et++)if(se===B[Et])return Lt?w.call(ae,se,Se,Tt):w.apply(this,arguments);const ss=!!Tt&&("boolean"==typeof Tt||Tt.capture),Pn=!(!Tt||"object"!=typeof Tt)&&Tt.once,di=Zone.current;let Ds=nt[se];Ds||(fr(se,Ce),Ds=nt[se]);const rs=Ds[ss?gt:ee];let is,Gt=ae[rs],fn=!1;if(Gt){if(fn=!0,Te)for(let Et=0;Et<Gt.length;Et++)if(ne(Gt[Et],Se))return}else Gt=ae[rs]=[];const kn=ae.constructor.name,Ln=hr[kn];Ln&&(is=Ln[se]),is||(is=kn+D+(Ce?Ce(se):se)),L.options=Tt,Pn&&(L.options.once=!1),L.target=ae,L.capture=ss,L.eventName=se,L.isExisting=fn;const Ue=Be?As:void 0;Ue&&(Ue.taskData=L);const st=di.scheduleEventTask(is,Se,Ue,j,Y);return L.target=null,Ue&&(Ue.taskData=null),Pn&&(Tt.once=!0),!Nn&&"boolean"==typeof st.options||(st.options=Tt),st.target=ae,st.capture=ss,st.eventName=se,Ae&&(st.originalDelegate=Se),oe?Gt.unshift(st):Gt.push(st),M?ae:void 0}};return W[S]=N(J,Q,h,m,le),Le&&(W.prependListener=N(Le,".prependListener:",function(w){return Le.call(L.target,L.eventName,w.invoke,L.options)},m,le,!0)),W[A]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=arguments[2],Y=!!j&&("boolean"==typeof j||j.capture),M=arguments[1];if(!M)return te.apply(this,arguments);if(K&&!K(te,M,w,arguments))return;const oe=nt[D];let ae;oe&&(ae=oe[Y?gt:ee]);const se=ae&&w[ae];if(se)for(let Se=0;Se<se.length;Se++){const Ae=se[Se];if(ne(Ae,M))return se.splice(Se,1),Ae.isRemoved=!0,0===se.length&&(Ae.allRemoved=!0,w[ae]=null,"string"==typeof D)&&(w[ln+"ON_PROPERTY"+D]=null),Ae.zone.cancelTask(Ae),le?w:void 0}return te.apply(this,arguments)},W[H]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=[],Y=Is(w,Ce?Ce(D):D);for(let M=0;M<Y.length;M++){const oe=Y[M];j.push(oe.originalDelegate?oe.originalDelegate:oe.callback)}return j},W[U]=function(){const w=this||d;let D=arguments[0];if(D){R&&R.transferEventName&&(D=R.transferEventName(D));const j=nt[D];if(j){const oe=w[j[ee]],ae=w[j[gt]];if(oe){const se=oe.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}if(ae){const se=ae.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}}}else{const j=Object.keys(w);for(let Y=0;Y<j.length;Y++){const oe=Wt.exec(j[Y]);let ae=oe&&oe[1];ae&&"removeListener"!==ae&&this[U].call(this,ae)}this[U].call(this,"removeListener")}if(le)return this},kt(W[S],J),kt(W[A],te),Qe&&kt(W[U],Qe),Ye&&kt(W[H],Ye),!0}let ke=[];for(let ie=0;ie<T.length;ie++)ke[ie]=Ke(T[ie],_);return ke}function Is(d,v){if(!v){const A=[];for(let H in d){const U=Wt.exec(H);let $=U&&U[1];if($&&(!v||$===v)){const Q=d[H];if(Q)for(let z=0;z<Q.length;z++)A.push(Q[z])}}return A}let T=nt[v];T||(fr(v),T=nt[v]);const _=d[T[ee]],S=d[T[gt]];return _?S?_.concat(S):_.slice():S?S.slice():[]}function li(d,v){const T=d.Event;T&&T.prototype&&v.patchMethod(T.prototype,"stopImmediatePropagation",_=>function(S,A){S[dr]=!0,_&&_.apply(S,A)})}function mr(d,v,T,_,S){const A=Zone.__symbol__(_);if(v[A])return;const H=v[A]=v[_];v[_]=function(U,$,Q){return $&&$.prototype&&S.forEach(function(z){const Ee=`${T}.${_}::`+z,ue=$.prototype;try{if(ue.hasOwnProperty(z)){const re=d.ObjectGetOwnPropertyDescriptor(ue,z);re&&re.value?(re.value=d.wrapWithCurrentZone(re.value,Ee),d._redefineProperty($.prototype,z,re)):ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}else ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}catch{}}),H.call(v,U,$,Q)},d.attachOriginToPatched(v[_],H)}function bs(d,v,T){if(!T||0===T.length)return v;const _=T.filter(A=>A.target===d);if(!_||0===_.length)return v;const S=_[0].ignoreProperties;return v.filter(A=>-1===S.indexOf(A))}function es(d,v,T,_){d&&cr(d,bs(d,v,T),_)}function ts(d){return Object.getOwnPropertyNames(d).filter(v=>v.startsWith("on")&&v.length>2).map(v=>v.substring(2))}Zone.__load_patch("util",(d,v,T)=>{const _=ts(d);T.patchOnProperties=cr,T.patchMethod=Pt,T.bindArguments=xs,T.patchMacroTask=ai;const S=v.__symbol__("BLACK_LISTED_EVENTS"),A=v.__symbol__("UNPATCHED_EVENTS");d[A]&&(d[S]=d[A]),d[S]&&(v[S]=v[A]=d[S]),T.patchEventPrototype=li,T.patchEventTarget=hn,T.isIEOrEdge=Jn,T.ObjectDefineProperty=zn,T.ObjectGetOwnPropertyDescriptor=jt,T.ObjectCreate=Oe,T.ArraySlice=mt,T.patchClass=Yn,T.wrapWithCurrentZone=cn,T.filterProperties=bs,T.attachOriginToPatched=kt,T._redefineProperty=Object.defineProperty,T.patchCallbacks=mr,T.getGlobalObjects=()=>({globalSources:hr,zoneSymbolEventNames:nt,eventNames:_,isBrowser:Cs,isMix:pe,isNode:pn,TRUE_STR:gt,FALSE_STR:ee,ZONE_SYMBOL_PREFIX:ln,ADD_EVENT_LISTENER_STR:In,REMOVE_EVENT_LISTENER_STR:bn})});const ns=ye("zoneTask");function dn(d,v,T,_){let S=null,A=null;T+=_;const H={};function U(Q){const z=Q.data;return z.args[0]=function(){return Q.invoke.apply(this,arguments)},z.handleId=S.apply(d,z.args),Q}function $(Q){return A.call(d,Q.data.handleId)}S=Pt(d,v+=_,Q=>function(z,Ee){if("function"==typeof Ee[0]){const ue={isPeriodic:"Interval"===_,delay:"Timeout"===_||"Interval"===_?Ee[1]||0:void 0,args:Ee},re=Ee[0];Ee[0]=function(){try{return re.apply(this,arguments)}finally{ue.isPeriodic||("number"==typeof ue.handleId?delete H[ue.handleId]:ue.handleId&&(ue.handleId[ns]=null))}};const De=Dn(v,Ee[0],ue,U,$);if(!De)return De;const we=De.data.handleId;return"number"==typeof we?H[we]=De:we&&(we[ns]=De),we&&we.ref&&we.unref&&"function"==typeof we.ref&&"function"==typeof we.unref&&(De.ref=we.ref.bind(we),De.unref=we.unref.bind(we)),"number"==typeof we||we?we:De}return Q.apply(d,Ee)}),A=Pt(d,T,Q=>function(z,Ee){const ue=Ee[0];let re;"number"==typeof ue?re=H[ue]:(re=ue&&ue[ns],re||(re=ue)),re&&"string"==typeof re.type?"notScheduled"!==re.state&&(re.cancelFn&&re.data.isPeriodic||0===re.runCount)&&("number"==typeof ue?delete H[ue]:ue&&(ue[ns]=null),re.zone.cancelTask(re)):Q.apply(d,Ee)})}Zone.__load_patch("legacy",d=>{const v=d[Zone.__symbol__("legacyPatch")];v&&v()}),Zone.__load_patch("queueMicrotask",(d,v,T)=>{T.patchMethod(d,"queueMicrotask",_=>function(S,A){v.current.scheduleMicroTask("queueMicrotask",A[0])})}),Zone.__load_patch("timers",d=>{const v="set",T="clear";dn(d,v,T,"Timeout"),dn(d,v,T,"Interval"),dn(d,v,T,"Immediate")}),Zone.__load_patch("requestAnimationFrame",d=>{dn(d,"request","cancel","AnimationFrame"),dn(d,"mozRequest","mozCancel","AnimationFrame"),dn(d,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(d,v)=>{const T=["alert","prompt","confirm"];for(let _=0;_<T.length;_++)Pt(d,T[_],(A,H,U)=>function($,Q){return v.current.run(A,d,Q,U)})}),Zone.__load_patch("EventTarget",(d,v,T)=>{(function hi(d,v){v.patchEventPrototype(d,v)})(d,T),function pi(d,v){if(Zone[v.symbol("patchEventTarget")])return;const{eventNames:T,zoneSymbolEventNames:_,TRUE_STR:S,FALSE_STR:A,ZONE_SYMBOL_PREFIX:H}=v.getGlobalObjects();for(let $=0;$<T.length;$++){const Q=T[$],ue=H+(Q+A),re=H+(Q+S);_[Q]={},_[Q][A]=ue,_[Q][S]=re}const U=d.EventTarget;U&&U.prototype&&v.patchEventTarget(d,v,[U&&U.prototype])}(d,T);const _=d.XMLHttpRequestEventTarget;_&&_.prototype&&T.patchEventTarget(d,T,[_.prototype])}),Zone.__load_patch("MutationObserver",(d,v,T)=>{Yn("MutationObserver"),Yn("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(d,v,T)=>{Yn("IntersectionObserver")}),Zone.__load_patch("FileReader",(d,v,T)=>{Yn("FileReader")}),Zone.__load_patch("on_property",(d,v,T)=>{!function gr(d,v){if(pn&&!pe||Zone[d.symbol("patchEvents")])return;const T=v.__Zone_ignore_on_properties;let _=[];if(Cs){const S=window;_=_.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const A=function ui(){try{const d=Nt.navigator.userAgent;if(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:S,ignoreProperties:["error"]}]:[];es(S,ts(S),T&&T.concat(A),Kn(S))}_=_.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let S=0;S<_.length;S++){const A=v[_[S]];A&&A.prototype&&es(A.prototype,ts(A.prototype),T)}}(T,d)}),Zone.__load_patch("customElements",(d,v,T)=>{!function ci(d,v){const{isBrowser:T,isMix:_}=v.getGlobalObjects();(T||_)&&d.customElements&&"customElements"in d&&v.patchCallbacks(v,d.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(d,T)}),Zone.__load_patch("XHR",(d,v)=>{!function $(Q){const z=Q.XMLHttpRequest;if(!z)return;const Ee=z.prototype;let re=Ee[Ts],De=Ee[Zn];if(!re){const L=Q.XMLHttpRequestEventTarget;if(L){const J=L.prototype;re=J[Ts],De=J[Zn]}}const we="readystatechange",Ke="scheduled";function ke(L){const J=L.data,te=J.target;te[A]=!1,te[U]=!1;const Ye=te[S];re||(re=te[Ts],De=te[Zn]),Ye&&De.call(te,we,Ye);const Qe=te[S]=()=>{if(te.readyState===te.DONE)if(!J.aborted&&te[A]&&L.state===Ke){const Me=te[v.__symbol__("loadfalse")];if(0!==te.status&&Me&&Me.length>0){const $e=L.invoke;L.invoke=function(){const Ie=te[v.__symbol__("loadfalse")];for(let x=0;x<Ie.length;x++)Ie[x]===L&&Ie.splice(x,1);!J.aborted&&L.state===Ke&&$e.call(L)},Me.push(L)}else L.invoke()}else!J.aborted&&!1===te[A]&&(te[U]=!0)};return re.call(te,we,Qe),te[T]||(te[T]=L),W.apply(te,J.args),te[A]=!0,L}function ie(){}function R(L){const J=L.data;return J.aborted=!0,Ce.apply(J.target,J.args)}const Be=Pt(Ee,"open",()=>function(L,J){return L[_]=0==J[2],L[H]=J[1],Be.apply(L,J)}),Te=ye("fetchTaskAborting"),le=ye("fetchTaskScheduling"),W=Pt(Ee,"send",()=>function(L,J){if(!0===v.current[le]||L[_])return W.apply(L,J);{const te={target:L,url:L[H],isPeriodic:!1,args:J,aborted:!1},Ye=Dn("XMLHttpRequest.send",ie,te,ke,R);L&&!0===L[U]&&!te.aborted&&Ye.state===Ke&&Ye.invoke()}}),Ce=Pt(Ee,"abort",()=>function(L,J){const te=function ue(L){return L[T]}(L);if(te&&"string"==typeof te.type){if(null==te.cancelFn||te.data&&te.data.aborted)return;te.zone.cancelTask(te)}else if(!0===v.current[Te])return Ce.apply(L,J)})}(d);const T=ye("xhrTask"),_=ye("xhrSync"),S=ye("xhrListener"),A=ye("xhrScheduled"),H=ye("xhrURL"),U=ye("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",d=>{d.navigator&&d.navigator.geolocation&&function qe(d,v){const T=d.constructor.name;for(let _=0;_<v.length;_++){const S=v[_],A=d[S];if(A){if(!lt(jt(d,S)))continue;d[S]=(U=>{const $=function(){return U.apply(this,xs(arguments,T+"."+S))};return kt($,U),$})(A)}}}(d.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(d,v)=>{function T(_){return function(S){Is(d,_).forEach(H=>{const U=d.PromiseRejectionEvent;if(U){const $=new U(_,{promise:S.promise,reason:S.rejection});H.invoke($)}})}}d.PromiseRejectionEvent&&(v[ye("unhandledPromiseRejectionHandler")]=T("unhandledrejection"),v[ye("rejectionHandledHandler")]=T("rejectionhandled"))})}},jt=>{jt(jt.s=5565)}]);
(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[179],{2011:(Nt,$e,G)=>{"use strict";G.d($e,{Dh:()=>Ne,GT:()=>Ie,cc:()=>Ue,hO:()=>tt,on:()=>J,pX:()=>ge,xv:()=>Ae});var c=G(4650),F=G(127),W=G(5813);Nt=G.hmd(Nt);const be=["ngOnDestroy"],ge=(Me,at,Et,He={})=>new Proxy(Me,{get:(Pe,ke)=>Et.runOutsideAngular(()=>{var st;if(Me[ke])return!(null===(st=He?.spy)||void 0===st)&&st.get&&He.spy.get(ke,Me[ke]),Me[ke];if(be.indexOf(ke)>-1)return()=>{};const ft=at.toPromise().then(Q=>{const Re=Q&&Q[ke];return"function"==typeof Re?Re.bind(Q):Re&&Re.then?Re.then(ae=>Et.run(()=>ae)):Et.run(()=>Re)});return new Proxy(()=>{},{get:(Q,Re)=>ft[Re],apply:(Q,Re,ae)=>ft.then(pe=>{var ye;const ve=pe&&pe(...ae);return!(null===(ye=He?.spy)||void 0===ye)&&ye.apply&&He.spy.apply(ke,ae,ve),ve})})})}),Ie=(Me,at)=>{at.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(He=>{Object.defineProperty(Me.prototype,He,Object.getOwnPropertyDescriptor(Et.prototype||Et,He))})})};class Ee{constructor(at){return at}}const Ne=new c.OlP("angularfire2.app.options"),Ae=new c.OlP("angularfire2.app.name");function J(Me,at,Et){const Pe="object"==typeof Et&&Et||{};Pe.name=Pe.name||"string"==typeof Et&&Et||"[DEFAULT]";const st=F.Z.apps.filter(ft=>ft&&ft.name===Pe.name)[0]||at.runOutsideAngular(()=>F.Z.initializeApp(Me,Pe));try{JSON.stringify(Me)!==JSON.stringify(st.options)&&X("error",`${st.name} Firebase App already initialized with different options${Nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(st)}const X=(Me,...at)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Me](...at)},ce={provide:Ee,useFactory:J,deps:[Ne,c.R0b,[new c.FiY,Ae]]};let tt=(()=>{class Me{constructor(Et){F.Z.registerVersion("angularfire",W.q4.full,"core"),F.Z.registerVersion("angularfire",W.q4.full,"app-compat"),F.Z.registerVersion("angular",c.q4F.full,Et.toString())}static initializeApp(Et,He){return{ngModule:Me,providers:[{provide:Ne,useValue:Et},{provide:Ae,useValue:He}]}}}return Me.\u0275fac=function(Et){return new(Et||Me)(c.LFG(c.Lbi))},Me.\u0275mod=c.oAB({type:Me}),Me.\u0275inj=c.cJS({providers:[ce]}),Me})();function Ue(Me,at,Et,He,Pe){const[,ke,st]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===Me)||[];if(ke)return function Le(Me,at){try{return Me.toString()===at.toString()}catch{return Me===at}}(Pe,st)||(Oe("error",`${at} was already initialized on the ${Et} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:Pe,was:st})),ke;{const ft=He();return globalThis.\u0275AngularfireInstanceCache.push([Me,ft,Pe]),ft}}const ht=!!Nt.hot,Oe=(Me,...at)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Me](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Nt,$e,G)=>{"use strict";G.d($e,{q4:()=>ei,iC:()=>vi,fc:()=>Fs,HU:()=>jn,vb:()=>$u,JM:()=>Uu});var c=G(4650),F=G(5867),W=G(5861),be=G(9681),ge=G(2090),Ie=G(4859),Ee=G(1877),Ne=G(8766);const Ae="@firebase/installations",J="0.5.12",ce=`w:${J}`,tt="FIS_v2",at=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Et(x){return x instanceof ge.ZR&&x.code.includes("request-failed")}function He({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Pe(x){return{token:x.token,requestStatus:2,expiresIn:pe(x.expiresIn),creationTime:Date.now()}}function ke(x,N){return st.apply(this,arguments)}function st(){return(st=(0,W.Z)(function*(x,N){const q=(yield N.json()).error;return at.create("request-failed",{requestName:x,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function ft({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Q(x,{refreshToken:N}){const k=ft(x);return k.append("Authorization",function ye(x){return`${tt} ${x}`}(N)),k}function Re(x){return ae.apply(this,arguments)}function ae(){return(ae=(0,W.Z)(function*(x){const N=yield x();return N.status>=500&&N.status<600?x():N})).apply(this,arguments)}function pe(x){return Number(x.replace("s","000"))}function ve(x,N){return rt.apply(this,arguments)}function rt(){return(rt=(0,W.Z)(function*({appConfig:x,heartbeatServiceProvider:N},{fid:k}){const q=He(x),he=ft(x),Te=N.getImmediate({optional:!0});if(Te){const Ht=yield Te.getHeartbeatsHeader();Ht&&he.append("x-firebase-client",Ht)}const nt={method:"POST",headers:he,body:JSON.stringify({fid:k,authVersion:tt,appId:x.appId,sdkVersion:ce})},Vt=yield Re(()=>fetch(q,nt));if(Vt.ok){const Ht=yield Vt.json();return{fid:Ht.fid||k,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:Pe(Ht.authToken)}}throw yield ke("Create Installation",Vt)})).apply(this,arguments)}function Qe(x){return new Promise(N=>{setTimeout(N,x)})}const En=/^[cdef][\w-]{21}$/;function pt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const k=function Zn(x){return function Mt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return En.test(k)?k:""}catch{return""}}function dr(x){return`${x.appName}!${x.appId}`}const Bn=new Map;function gn(x,N){const k=dr(x);Xt(k,N),function Si(x,N){const k=function Pn(){return!xn&&"BroadcastChannel"in self&&(xn=new BroadcastChannel("[Firebase] FID Change"),xn.onmessage=x=>{Xt(x.data.key,x.data.fid)}),xn}();k&&k.postMessage({key:x,fid:N}),function Gr(){0===Bn.size&&xn&&(xn.close(),xn=null)}()}(k,N)}function Xt(x,N){const k=Bn.get(x);if(k)for(const q of k)q(N)}let xn=null;const Sr="firebase-installations-store";let Ai=null;function yr(){return Ai||(Ai=(0,Ne.X3)("firebase-installations-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(Sr)}})),Ai}function yt(x,N){return $i.apply(this,arguments)}function $i(){return($i=(0,W.Z)(function*(x,N){const k=dr(x),he=(yield yr()).transaction(Sr,"readwrite"),Te=he.objectStore(Sr),Ge=yield Te.get(k);return yield Te.put(N,k),yield he.done,(!Ge||Ge.fid!==N.fid)&&gn(x,N.fid),N})).apply(this,arguments)}function Hi(x){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,W.Z)(function*(x){const N=dr(x),q=(yield yr()).transaction(Sr,"readwrite");yield q.objectStore(Sr).delete(N),yield q.done})).apply(this,arguments)}function tr(x,N){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,W.Z)(function*(x,N){const k=dr(x),he=(yield yr()).transaction(Sr,"readwrite"),Te=he.objectStore(Sr),Ge=yield Te.get(k),nt=N(Ge);return void 0===nt?yield Te.delete(k):yield Te.put(nt,k),yield he.done,nt&&(!Ge||Ge.fid!==nt.fid)&&gn(x,nt.fid),nt})).apply(this,arguments)}function Rr(x){return br.apply(this,arguments)}function br(){return(br=(0,W.Z)(function*(x){let N;const k=yield tr(x.appConfig,q=>{const he=fr(q),Te=kt(x,he);return N=Te.registrationPromise,Te.installationEntry});return""===k.fid?{installationEntry:yield N}:{installationEntry:k,registrationPromise:N}})).apply(this,arguments)}function fr(x){return jt(x||{fid:pt(),registrationStatus:0})}function kt(x,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(at.create("app-offline"))};const k={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},q=function Ot(x,N){return Vn.apply(this,arguments)}(x,k);return{installationEntry:k,registrationPromise:q}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Fr(x)}:{installationEntry:N}}function Vn(){return(Vn=(0,W.Z)(function*(x,N){try{const k=yield ve(x,N);return yt(x.appConfig,k)}catch(k){throw Et(k)&&409===k.customData.serverCode?yield Hi(x.appConfig):yield yt(x.appConfig,{fid:N.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Fr(x){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,W.Z)(function*(x){let N=yield Wr(x.appConfig);for(;1===N.registrationStatus;)yield Qe(100),N=yield Wr(x.appConfig);if(0===N.registrationStatus){const{installationEntry:k,registrationPromise:q}=yield Rr(x);return q||k}return N})).apply(this,arguments)}function Wr(x){return tr(x,N=>{if(!N)throw at.create("installation-not-found");return jt(N)})}function jt(x){return function Is(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Sn(x,N){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,W.Z)(function*({appConfig:x,heartbeatServiceProvider:N},k){const q=Tn(x,k),he=Q(x,k),Te=N.getImmediate({optional:!0});if(Te){const Ht=yield Te.getHeartbeatsHeader();Ht&&he.append("x-firebase-client",Ht)}const nt={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:ce,appId:x.appId}})},Vt=yield Re(()=>fetch(q,nt));if(Vt.ok)return Pe(yield Vt.json());throw yield ke("Generate Auth Token",Vt)})).apply(this,arguments)}function Tn(x,{fid:N}){return`${He(x)}/${N}/authTokens:generate`}function oe(x){return te.apply(this,arguments)}function te(){return(te=(0,W.Z)(function*(x,N=!1){let k;const q=yield tr(x.appConfig,Te=>{if(!Ft(Te))throw at.create("not-registered");const Ge=Te.authToken;if(!N&&or(Ge))return Te;if(1===Ge.requestStatus)return k=Y(x,N),Te;{if(!navigator.onLine)throw at.create("app-offline");const nt=zr(Te);return k=ze(x,nt),nt}});return k?yield k:q.authToken})).apply(this,arguments)}function Y(x,N){return ne.apply(this,arguments)}function ne(){return(ne=(0,W.Z)(function*(x,N){let k=yield re(x.appConfig);for(;1===k.authToken.requestStatus;)yield Qe(100),k=yield re(x.appConfig);const q=k.authToken;return 0===q.requestStatus?oe(x,N):q})).apply(this,arguments)}function re(x){return tr(x,N=>{if(!Ft(N))throw at.create("not-registered");return function _n(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function ze(x,N){return ct.apply(this,arguments)}function ct(){return(ct=(0,W.Z)(function*(x,N){try{const k=yield Sn(x,N),q=Object.assign(Object.assign({},N),{authToken:k});return yield yt(x.appConfig,q),k}catch(k){if(!Et(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const q=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield yt(x.appConfig,q)}else yield Hi(x.appConfig);throw k}})).apply(this,arguments)}function Ft(x){return void 0!==x&&2===x.registrationStatus}function or(x){return 2===x.requestStatus&&!function kn(x){const N=Date.now();return N<x.creationTime||x.creationTime+x.expiresIn<N+36e5}(x)}function zr(x){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:N})}function ar(){return(ar=(0,W.Z)(function*(x){const N=x,{installationEntry:k,registrationPromise:q}=yield Rr(N);return q?q.catch(console.error):oe(N).catch(console.error),k.fid})).apply(this,arguments)}function us(){return(us=(0,W.Z)(function*(x,N=!1){const k=x;return yield ji(k),(yield oe(k,N)).token})).apply(this,arguments)}function ji(x){return kr.apply(this,arguments)}function kr(){return(kr=(0,W.Z)(function*(x){const{registrationPromise:N}=yield Rr(x);N&&(yield N)})).apply(this,arguments)}function $s(x){return at.create("missing-app-config-values",{valueName:x})}const hs="installations",Kn=x=>{const N=x.getProvider("app").getImmediate(),k=function lr(x){if(!x||!x.options)throw $s("App Configuration");if(!x.name)throw $s("App Name");const N=["projectId","apiKey","appId"];for(const k of N)if(!x.options[k])throw $s(k);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(N);return{app:N,appConfig:k,heartbeatServiceProvider:(0,be._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Hs=x=>{const N=x.getProvider("app").getImmediate(),k=(0,be._getProvider)(N,hs).getImmediate();return{getId:()=>function an(x){return ar.apply(this,arguments)}(k),getToken:he=>function wr(x){return us.apply(this,arguments)}(k,he)}};(function Io(){(0,be._registerComponent)(new Ie.wA(hs,Kn,"PUBLIC")),(0,be._registerComponent)(new Ie.wA("installations-internal",Hs,"PRIVATE"))})(),(0,be.registerVersion)(Ae,J),(0,be.registerVersion)(Ae,J,"esm2017");const js="@firebase/remote-config",Yn=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class lc{constructor(N,k,q,he){this.client=N,this.storage=k,this.storageCache=q,this.logger=he}isCachedDataFresh(N,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-k,he=q<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${he}.`),he}fetch(N){var k=this;return(0,W.Z)(function*(){const[q,he]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(he&&k.isCachedDataFresh(N.cacheMaxAgeMillis,q))return he;N.eTag=he&&he.eTag;const Te=yield k.client.fetch(N),Ge=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Te.status&&Ge.push(k.storage.setLastSuccessfulFetchResponse(Te)),yield Promise.all(Ge),Te})()}}function uo(x=navigator){return x.languages&&x.languages[0]||x.language}class B{constructor(N,k,q,he,Te,Ge){this.firebaseInstallations=N,this.sdkVersion=k,this.namespace=q,this.projectId=he,this.apiKey=Te,this.appId=Ge}fetch(N){var k=this;return(0,W.Z)(function*(){var q,he,Te;const[Ge,nt]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Zt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Ut={sdk_version:k.sdkVersion,app_instance_id:Ge,app_instance_id_token:nt,app_id:k.appId,language_code:uo()},gr={method:"POST",headers:Zt,body:JSON.stringify(Ut)},$r=fetch(Ht,gr),zn=new Promise((ka,Ks)=>{N.signal.addEventListener(()=>{const yl=new Error("The operation was aborted.");yl.name="AbortError",Ks(yl)})});let oi;try{yield Promise.race([$r,zn]),oi=yield $r}catch(ka){let Ks="fetch-client-network";throw"AbortError"===(null===(q=ka)||void 0===q?void 0:q.name)&&(Ks="fetch-timeout"),Yn.create(Ks,{originalErrorMessage:null===(he=ka)||void 0===he?void 0:he.message})}let ia=oi.status;const Xl=oi.headers.get("ETag")||void 0;let Fa,Pa;if(200===oi.status){let ka;try{ka=yield oi.json()}catch(Ks){throw Yn.create("fetch-client-parse",{originalErrorMessage:null===(Te=Ks)||void 0===Te?void 0:Te.message})}Fa=ka.entries,Pa=ka.state}if("INSTANCE_STATE_UNSPECIFIED"===Pa?ia=500:"NO_CHANGE"===Pa?ia=304:("NO_TEMPLATE"===Pa||"EMPTY_CONFIG"===Pa)&&(Fa={}),304!==ia&&200!==ia)throw Yn.create("fetch-status",{httpStatus:ia});return{status:ia,eTag:Xl,config:Fa}})()}}class we{constructor(N,k){this.client=N,this.storage=k}fetch(N){var k=this;return(0,W.Z)(function*(){const q=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(N,q)})()}attemptFetch(N,{throttleEndTimeMillis:k,backoffCount:q}){var he=this;return(0,W.Z)(function*(){yield function $(x,N){return new Promise((k,q)=>{const he=Math.max(N-Date.now(),0),Te=setTimeout(k,he);x.addEventListener(()=>{clearTimeout(Te),q(Yn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,k);try{const Te=yield he.client.fetch(N);return yield he.storage.deleteThrottleMetadata(),Te}catch(Te){if(!function ee(x){if(!(x instanceof ge.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Te))throw Te;const Ge={throttleEndTimeMillis:Date.now()+(0,ge.$s)(q),backoffCount:q+1};return yield he.storage.setThrottleMetadata(Ge),he.attemptFetch(N,Ge)}})()}}class dn{constructor(N,k,q,he,Te){this.app=N,this._client=k,this._storageCache=q,this._storage=he,this._logger=Te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nr(x,N){var k;const q=x.target.error||void 0;return Yn.create(N,{originalErrorMessage:q&&(null===(k=q)||void 0===k?void 0:k.message)})}const ur="app_namespace_store";class ef{constructor(N,k,q,he=function op(){return new Promise((x,N)=>{var k;try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=he=>{N(Nr(he,"storage-open"))},q.onsuccess=he=>{x(he.target.result)},q.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(ur,{keyPath:"compositeKey"})}}catch(q){N(Yn.create("storage-open",{originalErrorMessage:null===(k=q)||void 0===k?void 0:k.message}))}})}()){this.appId=N,this.appName=k,this.namespace=q,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var k=this;return(0,W.Z)(function*(){const q=yield k.openDbPromise;return new Promise((he,Te)=>{var Ge;const Vt=q.transaction([ur],"readonly").objectStore(ur),Ht=k.createCompositeKey(N);try{const Zt=Vt.get(Ht);Zt.onerror=Ut=>{Te(Nr(Ut,"storage-get"))},Zt.onsuccess=Ut=>{const gr=Ut.target.result;he(gr?gr.value:void 0)}}catch(Zt){Te(Yn.create("storage-get",{originalErrorMessage:null===(Ge=Zt)||void 0===Ge?void 0:Ge.message}))}})})()}set(N,k){var q=this;return(0,W.Z)(function*(){const he=yield q.openDbPromise;return new Promise((Te,Ge)=>{var nt;const Ht=he.transaction([ur],"readwrite").objectStore(ur),Zt=q.createCompositeKey(N);try{const Ut=Ht.put({compositeKey:Zt,value:k});Ut.onerror=gr=>{Ge(Nr(gr,"storage-set"))},Ut.onsuccess=()=>{Te()}}catch(Ut){Ge(Yn.create("storage-set",{originalErrorMessage:null===(nt=Ut)||void 0===nt?void 0:nt.message}))}})})()}delete(N){var k=this;return(0,W.Z)(function*(){const q=yield k.openDbPromise;return new Promise((he,Te)=>{var Ge;const Vt=q.transaction([ur],"readwrite").objectStore(ur),Ht=k.createCompositeKey(N);try{const Zt=Vt.delete(Ht);Zt.onerror=Ut=>{Te(Nr(Ut,"storage-delete"))},Zt.onsuccess=()=>{he()}}catch(Zt){Te(Yn.create("storage-delete",{originalErrorMessage:null===(Ge=Zt)||void 0===Ge?void 0:Ge.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Kd{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,W.Z)(function*(){const k=N.storage.getLastFetchStatus(),q=N.storage.getLastSuccessfulFetchTimestampMillis(),he=N.storage.getActiveConfig(),Te=yield k;Te&&(N.lastFetchStatus=Te);const Ge=yield q;Ge&&(N.lastSuccessfulFetchTimestampMillis=Ge);const nt=yield he;nt&&(N.activeConfig=nt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Bl(){return tf.apply(this,arguments)}function tf(){return(tf=(0,W.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Ea(){(0,be._registerComponent)(new Ie.wA("remote-config",function x(N,{instanceIdentifier:k}){const q=N.getProvider("app").getImmediate(),he=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Yn.create("registration-window");if(!(0,ge.hl)())throw Yn.create("indexed-db-unavailable");const{projectId:Te,apiKey:Ge,appId:nt}=q.options;if(!Te)throw Yn.create("registration-project-id");if(!Ge)throw Yn.create("registration-api-key");if(!nt)throw Yn.create("registration-app-id");const Vt=new ef(nt,q.name,k=k||"firebase"),Ht=new Kd(Vt),Zt=new Ee.Yd(js);Zt.logLevel=Ee.in.ERROR;const Ut=new B(he,be.SDK_VERSION,k,Te,Ge,nt),gr=new we(Ut,Vt),$r=new lc(gr,Vt,Ht,Zt),zn=new dn(q,$r,Ht,Vt,Zt);return function nr(x){const N=(0,ge.m9)(x);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(zn),zn},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(js,"0.3.11"),(0,be.registerVersion)(js,"0.3.11","esm2017")}();const Eo="/firebase-messaging-sw.js",xo="/firebase-cloud-messaging-push-scope",Yo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qn="google.c.a.c_id",Jn="google.c.a.c_l",Jc="google.c.a.ts",nf="google.c.a.e";var Qo=(()=>{return(x=Qo||(Qo={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Qo;var x})();function Gs(x){const N=new Uint8Array(x);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ss(x){const k=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(k),he=new Uint8Array(q.length);for(let Te=0;Te<q.length;++Te)he[Te]=q.charCodeAt(Te);return he}const nl="fcm_token_details_db",$n="fcm_token_object_Store";function Jd(x){return mu.apply(this,arguments)}function mu(){return mu=(0,W.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Te=>Te.name).includes(nl))return null;let N=null;return(yield(0,Ne.X3)(nl,5,{upgrade:(q=(0,W.Z)(function*(he,Te,Ge,nt){var Vt;if(Te<2||!he.objectStoreNames.contains($n))return;const Ht=nt.objectStore($n),Zt=yield Ht.index("fcmSenderId").get(x);if(yield Ht.clear(),Zt)if(2===Te){const Ut=Zt;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;N={token:Ut.fcmToken,createTime:null!==(Vt=Ut.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:Gs(Ut.vapidKey)}}}else if(3===Te){const Ut=Zt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Gs(Ut.auth),p256dh:Gs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Gs(Ut.vapidKey)}}}else if(4===Te){const Ut=Zt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Gs(Ut.auth),p256dh:Gs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Gs(Ut.vapidKey)}}}}),function(Te,Ge,nt,Vt){return q.apply(this,arguments)})})).close(),yield(0,Ne.Lj)(nl),yield(0,Ne.Lj)("fcm_vapid_details_db"),yield(0,Ne.Lj)("undefined"),Br(N)?N:null;var q}),mu.apply(this,arguments)}function Br(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:N}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const As="firebase-messaging-store";let ts=null;function _u(){return ts||(ts=(0,Ne.X3)("firebase-messaging-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(As)}})),ts}function rl(x){return So.apply(this,arguments)}function So(){return(So=(0,W.Z)(function*(x){const N=co(x),q=yield(yield _u()).transaction(As).objectStore(As).get(N);if(q)return q;{const he=yield Jd(x.appConfig.senderId);if(he)return yield Nn(x,he),he}})).apply(this,arguments)}function Nn(x,N){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,W.Z)(function*(x,N){const k=co(x),he=(yield _u()).transaction(As,"readwrite");return yield he.objectStore(As).put(N,k),yield he.done,N})).apply(this,arguments)}function il(x){return ns.apply(this,arguments)}function ns(){return(ns=(0,W.Z)(function*(x){const N=co(x),q=(yield _u()).transaction(As,"readwrite");yield q.objectStore(As).delete(N),yield q.done})).apply(this,arguments)}function co({appConfig:x}){return x.appId}const Xn=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yt(x,N){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,W.Z)(function*(x,N){var k;const q=yield ed(x),he=Ze(N),Te={method:"POST",headers:q,body:JSON.stringify(he)};let Ge;try{Ge=yield(yield fetch(fo(x.appConfig),Te)).json()}catch(nt){throw Xn.create("token-subscribe-failed",{errorInfo:null===(k=nt)||void 0===k?void 0:k.toString()})}if(Ge.error)throw Xn.create("token-subscribe-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw Xn.create("token-subscribe-no-token");return Ge.token})).apply(this,arguments)}function Ir(x,N){return ho.apply(this,arguments)}function ho(){return(ho=(0,W.Z)(function*(x,N){var k;const q=yield ed(x),he=Ze(N.subscriptionOptions),Te={method:"PATCH",headers:q,body:JSON.stringify(he)};let Ge;try{Ge=yield(yield fetch(`${fo(x.appConfig)}/${N.token}`,Te)).json()}catch(nt){throw Xn.create("token-update-failed",{errorInfo:null===(k=nt)||void 0===k?void 0:k.toString()})}if(Ge.error)throw Xn.create("token-update-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw Xn.create("token-update-no-token");return Ge.token})).apply(this,arguments)}function $l(x,N){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,W.Z)(function*(x,N){var k;const he={method:"DELETE",headers:yield ed(x)};try{const Ge=yield(yield fetch(`${fo(x.appConfig)}/${N}`,he)).json();if(Ge.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:Ge.error.message})}catch(Te){throw Xn.create("token-unsubscribe-failed",{errorInfo:null===(k=Te)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function fo({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function ed(x){return yu.apply(this,arguments)}function yu(){return(yu=(0,W.Z)(function*({appConfig:x,installations:N}){const k=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Ze({p256dh:x,auth:N,endpoint:k,vapidKey:q}){const he={web:{endpoint:k,auth:N,p256dh:x}};return q!==Yo&&(he.web.applicationPubKey=q),he}const yn=6048e5;function sl(x){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,W.Z)(function*(x){const N=yield td(x.swRegistration,x.vapidKey),k={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:N.endpoint,auth:Gs(N.getKey("auth")),p256dh:Gs(N.getKey("p256dh"))},q=yield rl(x.firebaseDependencies);if(q){if(uc(q.subscriptionOptions,k))return Date.now()>=q.createTime+yn?ol(x,{token:q.token,createTime:Date.now(),subscriptionOptions:k}):q.token;try{yield $l(x.firebaseDependencies,q.token)}catch(he){console.warn(he)}return al(x.firebaseDependencies,k)}return al(x.firebaseDependencies,k)})).apply(this,arguments)}function Qr(x){return bu.apply(this,arguments)}function bu(){return(bu=(0,W.Z)(function*(x){const N=yield rl(x.firebaseDependencies);N&&(yield $l(x.firebaseDependencies,N.token),yield il(x.firebaseDependencies));const k=yield x.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function ol(x,N){return ps.apply(this,arguments)}function ps(){return(ps=(0,W.Z)(function*(x,N){try{const k=yield Ir(x.firebaseDependencies,N),q=Object.assign(Object.assign({},N),{token:k,createTime:Date.now()});return yield Nn(x.firebaseDependencies,q),k}catch(k){throw yield Qr(x),k}})).apply(this,arguments)}function al(x,N){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,W.Z)(function*(x,N){const q={token:yield Yt(x,N),createTime:Date.now(),subscriptionOptions:N};return yield Nn(x,q),q.token})).apply(this,arguments)}function td(x,N){return wu.apply(this,arguments)}function wu(){return(wu=(0,W.Z)(function*(x,N){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ss(N)})})).apply(this,arguments)}function uc(x,N){return N.vapidKey===x.vapidKey&&N.endpoint===x.endpoint&&N.auth===x.auth&&N.p256dh===x.p256dh}function Du(x){const N={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Vr(x,N){if(!N.notification)return;x.notification={};const k=N.notification.title;k&&(x.notification.title=k);const q=N.notification.body;q&&(x.notification.body=q);const he=N.notification.image;he&&(x.notification.image=he)}(N,x),function Ur(x,N){!N.data||(x.data=N.data)}(N,x),function Iu(x,N){var k,q,he,Te,Ge;if(!(N.fcmOptions||null!==(k=N.notification)&&void 0!==k&&k.click_action))return;x.fcmOptions={};const nt=null!==(he=null===(q=N.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==he?he:null===(Te=N.notification)||void 0===Te?void 0:Te.click_action;nt&&(x.fcmOptions.link=nt);const Vt=null===(Ge=N.fcmOptions)||void 0===Ge?void 0:Ge.analytics_label;Vt&&(x.fcmOptions.analyticsLabel=Vt)}(N,x),N}function po(x){return"object"==typeof x&&!!x&&Qn in x}function Ao(x,N){const k=[];for(let q=0;q<x.length;q++)k.push(x.charAt(q)),q<N.length&&k.push(N.charAt(q));return k.join("")}function Cu(x){return Xn.create("missing-app-config-values",{valueName:x})}Ao("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ao("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ap{constructor(N,k,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function rf(x){if(!x||!x.options)throw Cu("App Configuration Object");if(!x.name)throw Cu("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:k}=x;for(const q of N)if(!k[q])throw Cu(q);return{appName:x.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:he,installations:k,analyticsProvider:q}}_delete(){return Promise.resolve()}}function nd(x){return cc.apply(this,arguments)}function cc(){return(cc=(0,W.Z)(function*(x){var N;try{x.swRegistration=yield navigator.serviceWorker.register(Eo,{scope:xo}),x.swRegistration.update().catch(()=>{})}catch(k){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:null===(N=k)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function Tu(x,N){return xa.apply(this,arguments)}function xa(){return(xa=(0,W.Z)(function*(x,N){if(!N&&!x.swRegistration&&(yield nd(x)),N||!x.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");x.swRegistration=N}})).apply(this,arguments)}function Eu(x,N){return rd.apply(this,arguments)}function rd(){return(rd=(0,W.Z)(function*(x,N){N?x.vapidKey=N:x.vapidKey||(x.vapidKey=Yo)})).apply(this,arguments)}function xu(){return(xu=(0,W.Z)(function*(x,N){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield Eu(x,N?.vapidKey),yield Tu(x,N?.serviceWorkerRegistration),sl(x)})).apply(this,arguments)}function No(x,N,k){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,W.Z)(function*(x,N,k){const q=id(N);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:k[Qn],message_name:k[Jn],message_time:k[Jc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function id(x){switch(x){case Qo.NOTIFICATION_CLICKED:return"notification_open";case Qo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ll(){return(ll=(0,W.Z)(function*(x,N){const k=N.data;if(!k.isFirebaseMessaging)return;x.onMessageHandler&&k.messageType===Qo.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Du(k)):x.onMessageHandler.next(Du(k)));const q=k.data;po(q)&&"1"===q[nf]&&(yield No(x,k.messageType,q))})).apply(this,arguments)}const zs="@firebase/messaging",mi=x=>{const N=new ap(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Xd(x,N){return ll.apply(this,arguments)}(N,k)),N},Ns=x=>{const N=x.getProvider("messaging").getImmediate();return{getToken:q=>function jl(x,N){return xu.apply(this,arguments)}(N,q)}};function sd(){return od.apply(this,arguments)}function od(){return(od=(0,W.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cr(){(0,be._registerComponent)(new Ie.wA("messaging",mi,"PUBLIC")),(0,be._registerComponent)(new Ie.wA("messaging-internal",Ns,"PRIVATE")),(0,be.registerVersion)(zs,"0.9.16"),(0,be.registerVersion)(zs,"0.9.16","esm2017")}();const Tr="analytics",rr="firebase_id",Ii="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ul="https://www.googletagmanager.com/gtag/js",Jr=new Ee.Yd("@firebase/analytics");function Xo(x){return Promise.all(x.map(N=>N.catch(k=>k)))}function cl(x,N){const k=document.createElement("script");k.src=`${ul}?l=${x}&id=${N}`,k.async=!0,document.head.appendChild(k)}function er(x,N,k,q,he,Te){return zl.apply(this,arguments)}function zl(){return(zl=(0,W.Z)(function*(x,N,k,q,he,Te){const Ge=q[he];try{if(Ge)yield N[Ge];else{const Vt=(yield Xo(k)).find(Ht=>Ht.measurementId===he);Vt&&(yield N[Vt.appId])}}catch(nt){Jr.error(nt)}x("config",he,Te)})).apply(this,arguments)}function dl(x,N,k,q,he){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,W.Z)(function*(x,N,k,q,he){try{let Te=[];if(he&&he.send_to){let Ge=he.send_to;Array.isArray(Ge)||(Ge=[Ge]);const nt=yield Xo(k);for(const Vt of Ge){const Ht=nt.find(Ut=>Ut.measurementId===Vt),Zt=Ht&&N[Ht.appId];if(!Zt){Te=[];break}Te.push(Zt)}}0===Te.length&&(Te=Object.values(N)),yield Promise.all(Te),x("event",q,he||{})}catch(Te){Jr.error(Te)}})).apply(this,arguments)}function eh(){const x=window.document.getElementsByTagName("script");for(const N of Object.values(x))if(N.src&&N.src.includes(ul))return N;return null}const Er=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Zl=new class Os{constructor(N={},k=1e3){this.throttleMetadata=N,this.intervalMillis=k}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,k){this.throttleMetadata[N]=k}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function ad(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Na(x){return hc.apply(this,arguments)}function hc(){return(hc=(0,W.Z)(function*(x){var N;const{appId:k,apiKey:q}=x,he={method:"GET",headers:ad(q)},Te=Ii.replace("{app-id}",k),Ge=yield fetch(Te,he);if(200!==Ge.status&&304!==Ge.status){let nt="";try{const Vt=yield Ge.json();null!==(N=Vt.error)&&void 0!==N&&N.message&&(nt=Vt.error.message)}catch{}throw Er.create("config-fetch-failed",{httpStatus:Ge.status,responseMessage:nt})}return Ge.json()})).apply(this,arguments)}function xr(x){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,W.Z)(function*(x,N=Zl,k){const{appId:q,apiKey:he,measurementId:Te}=x.options;if(!q)throw Er.create("no-app-id");if(!he){if(Te)return{measurementId:Te,appId:q};throw Er.create("no-api-key")}const Ge=N.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new pl;return setTimeout((0,W.Z)(function*(){nt.abort()}),void 0!==k?k:6e4),hl({appId:q,apiKey:he,measurementId:Te},Ge,nt,N)})).apply(this,arguments)}function hl(x,N,k){return fl.apply(this,arguments)}function fl(){return(fl=(0,W.Z)(function*(x,{throttleEndTimeMillis:N,backoffCount:k},q,he=Zl){var Te,Ge;const{appId:nt,measurementId:Vt}=x;try{yield Ou(q,N)}catch(Ht){if(Vt)return Jr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${null===(Te=Ht)||void 0===Te?void 0:Te.message}]`),{appId:nt,measurementId:Vt};throw Ht}try{const Ht=yield Na(x);return he.deleteThrottleMetadata(nt),Ht}catch(Ht){const Zt=Ht;if(!fc(Zt)){if(he.deleteThrottleMetadata(nt),Vt)return Jr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:nt,measurementId:Vt};throw Ht}const Ut=503===Number(null===(Ge=Zt?.customData)||void 0===Ge?void 0:Ge.httpStatus)?(0,ge.$s)(k,he.intervalMillis,30):(0,ge.$s)(k,he.intervalMillis),gr={throttleEndTimeMillis:Date.now()+Ut,backoffCount:k+1};return he.setThrottleMetadata(nt,gr),Jr.debug(`Calling attemptFetch again in ${Ut} millis`),hl(x,gr,q,he)}})).apply(this,arguments)}function Ou(x,N){return new Promise((k,q)=>{const he=Math.max(N-Date.now(),0),Te=setTimeout(k,he);x.addEventListener(()=>{clearTimeout(Te),q(Er.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function fc(x){if(!(x instanceof ge.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}class pl{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let go,Fu;function Oa(){return(Oa=(0,W.Z)(function*(x,N,k,q,he){if(he&&he.global)x("event",k,q);else{const Te=yield N;x("event",k,Object.assign(Object.assign({},q),{send_to:Te}))}})).apply(this,arguments)}function ta(x){Fu=x}function ml(x){go=x}function mo(){return na.apply(this,arguments)}function na(){return(na=(0,W.Z)(function*(){var x;if(!(0,ge.hl)())return Jr.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(N){return Jr.warn(Er.create("indexeddb-unavailable",{errorInfo:null===(x=N)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function Fo(){return(Fo=(0,W.Z)(function*(x,N,k,q,he,Te,Ge){var nt;const Vt=xr(x);Vt.then($r=>{k[$r.measurementId]=$r.appId,x.options.measurementId&&$r.measurementId!==x.options.measurementId&&Jr.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${$r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($r=>Jr.error($r)),N.push(Vt);const Ht=mo().then($r=>{if($r)return q.getId()}),[Zt,Ut]=yield Promise.all([Vt,Ht]);eh()||cl(Te,Zt.measurementId),Fu&&(he("consent","default",Fu),ta(void 0)),he("js",new Date);const gr=null!==(nt=Ge?.config)&&void 0!==nt?nt:{};return gr.origin="firebase",gr.update=!0,null!=Ut&&(gr[rr]=Ut),he("config",Zt.measurementId,gr),go&&(he("set",go),ml(void 0)),Zt.measurementId})).apply(this,arguments)}class _l{constructor(N){this.app=N}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},Ma=[];const Kl={};let Ql,Po,Yl="dataLayer",ra=!1;function Pu(x,N,k){!function U(){const x=[];if((0,ge.ru)()&&x.push("This is a browser extension environment."),(0,ge.zI)()||x.push("Cookies are not available."),x.length>0){const N=x.map((q,he)=>`(${he+1}) ${q}`).join(" "),k=Er.create("invalid-analytics-context",{errorInfo:N});Jr.warn(k.message)}}();const q=x.options.appId;if(!q)throw Er.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Er.create("no-api-key");Jr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[q])throw Er.create("already-exists",{id:q});if(!ra){!function Su(x){let N=[];Array.isArray(window[x])?N=window[x]:window[x]=N}(Yl);const{wrappedGtag:Te,gtagCore:Ge}=function Au(x,N,k,q,he){let Te=function(...Ge){window[q].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Te=window[he]),window[he]=function dc(x,N,k,q){function Te(){return(Te=(0,W.Z)(function*(Ge,nt,Vt){try{"event"===Ge?yield dl(x,N,k,nt,Vt):"config"===Ge?yield er(x,N,k,q,nt,Vt):"consent"===Ge?x("consent","update",Vt):x("set",nt)}catch(Ht){Jr.error(Ht)}})).apply(this,arguments)}return function he(Ge,nt,Vt){return Te.apply(this,arguments)}}(Te,x,N,k),{gtagCore:Te,wrappedGtag:window[he]}}(Ci,Ma,Kl,Yl,"gtag");Po=Te,Ql=Ge,ra=!0}return Ci[q]=function Ro(x,N,k,q,he,Te,Ge){return Fo.apply(this,arguments)}(x,Ma,Kl,N,Ql,Yl,k),new _l(x)}function Dn(){return th.apply(this,arguments)}function th(){return(th=(0,W.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}const af="@firebase/analytics";!function rs(){(0,be._registerComponent)(new Ie.wA(Tr,(N,{options:k})=>Pu(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,be._registerComponent)(new Ie.wA("analytics-internal",function x(N){try{const k=N.getProvider(Tr).getImmediate();return{logEvent:(q,he,Te)=>function cd(x,N,k,q){x=(0,ge.m9)(x),function pc(x,N,k,q,he){return Oa.apply(this,arguments)}(Po,Ci[x.app.options.appId],N,k,q).catch(he=>Jr.error(he))}(k,q,he,Te)}}catch(k){throw Er.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,be.registerVersion)(af,"0.8.0"),(0,be.registerVersion)(af,"0.8.0","esm2017")}();var ii=G(4408),ir=G(7565);const xt=new class Wn extends ir.v{}(class si extends ii.o{constructor(N,k){super(N,k),this.scheduler=N,this.work=k}schedule(N,k=0){return k>0?super.schedule(N,k):(this.delay=k,this.state=N,this.scheduler.flush(this),this)}execute(N,k){return k>0||this.closed?super.execute(N,k):this._execute(N,k)}requestAsyncId(N,k,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(N,k,q):N.flush(this)}});var hd=G(4986),_c=G(8505),vl=G(5363),fd=G(9468);const ei=new c.GfV("7.4.1"),Lu="__angularfire_symbol__analyticsIsSupportedValue",Ra="__angularfire_symbol__analyticsIsSupported",ms="__angularfire_symbol__remoteConfigIsSupportedValue",Bu="__angularfire_symbol__remoteConfigIsSupported",pd="__angularfire_symbol__messagingIsSupportedValue",gd="__angularfire_symbol__messagingIsSupported";function Uu(x,N,k){if(N){if(1===N.length)return N[0];const Te=N.filter(Ge=>Ge.app===k);if(1===Te.length)return Te[0]}return k.container.getProvider(x).getImmediate({optional:!0})}globalThis[Ra]||(globalThis[Ra]=Dn().then(x=>globalThis[Lu]=x).catch(()=>globalThis[Lu]=!1)),globalThis[gd]||(globalThis[gd]=sd().then(x=>globalThis[pd]=x).catch(()=>globalThis[pd]=!1)),globalThis[Bu]||(globalThis[Bu]=Bl().then(x=>globalThis[ms]=x).catch(()=>globalThis[ms]=!1));const $u=(x,N)=>{const k=N?[N]:(0,F.C6)(),q=[];return k.forEach(he=>{he.container.getProvider(x).instances.forEach(Ge=>{q.includes(Ge)||q.push(Ge)})}),q};function Or(){}class Mr{constructor(N,k=xt){this.zone=N,this.delegate=k}now(){return this.delegate.now()}schedule(N,k,q){const he=this.zone;return this.delegate.schedule(function(Ge){he.runGuarded(()=>{N.apply(this,[Ge])})},k,q)}}class Rs{constructor(N){this.zone=N,this.task=null}call(N,k){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Or,{},Or,Or)),k.pipe((0,_c.b)({next:q,complete:q,error:q})).subscribe(N).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jn=(()=>{class x{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Mr(Zone.current)),this.insideAngular=k.run(()=>new Mr(Zone.current,hd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(k){return new(k||x)(c.LFG(c.R0b))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function wt(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Fs(x){return x.pipe((0,vl.Q)(wt().outsideAngular))}function vi(x){return wt(),function vc(x){return function(k){return(k=k.lift(new Rs(x.ngZone))).pipe((0,fd.R)(x.outsideAngular),(0,vl.Q)(x.insideAngular))}}(wt())(x)}},2090:(Nt,$e,G)=>{"use strict";G.d($e,{$s:()=>Is,BH:()=>tt,G6:()=>ft,L:()=>Ne,LL:()=>rt,Sg:()=>Ue,UG:()=>Oe,US:()=>Ie,ZB:()=>X,ZR:()=>ve,b$:()=>Et,eu:()=>Re,hl:()=>Q,jU:()=>Me,m9:()=>Tn,ne:()=>yr,pd:()=>Sr,r3:()=>fi,ru:()=>at,tV:()=>Ae,uI:()=>ht,vZ:()=>xn,w1:()=>Pe,xO:()=>Ji,xb:()=>Xt,z$:()=>Le,zI:()=>ae,zd:()=>hr});const be=function(oe){const te=[];let Y=0;for(let ne=0;ne<oe.length;ne++){let re=oe.charCodeAt(ne);re<128?te[Y++]=re:re<2048?(te[Y++]=re>>6|192,te[Y++]=63&re|128):55296==(64512&re)&&ne+1<oe.length&&56320==(64512&oe.charCodeAt(ne+1))?(re=65536+((1023&re)<<10)+(1023&oe.charCodeAt(++ne)),te[Y++]=re>>18|240,te[Y++]=re>>12&63|128,te[Y++]=re>>6&63|128,te[Y++]=63&re|128):(te[Y++]=re>>12|224,te[Y++]=re>>6&63|128,te[Y++]=63&re|128)}return te},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,te){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let re=0;re<oe.length;re+=3){const ze=oe[re],ct=re+1<oe.length,Ft=ct?oe[re+1]:0,or=re+2<oe.length,kn=or?oe[re+2]:0;let an=(15&Ft)<<2|kn>>6,ar=63&kn;or||(ar=64,ct||(an=64)),ne.push(Y[ze>>2],Y[(3&ze)<<4|Ft>>4],Y[an],Y[ar])}return ne.join("")},encodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(oe):this.encodeByteArray(be(oe),te)},decodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(oe):function(oe){const te=[];let Y=0,ne=0;for(;Y<oe.length;){const re=oe[Y++];if(re<128)te[ne++]=String.fromCharCode(re);else if(re>191&&re<224){const ze=oe[Y++];te[ne++]=String.fromCharCode((31&re)<<6|63&ze)}else if(re>239&&re<365){const or=((7&re)<<18|(63&oe[Y++])<<12|(63&oe[Y++])<<6|63&oe[Y++])-65536;te[ne++]=String.fromCharCode(55296+(or>>10)),te[ne++]=String.fromCharCode(56320+(1023&or))}else{const ze=oe[Y++],ct=oe[Y++];te[ne++]=String.fromCharCode((15&re)<<12|(63&ze)<<6|63&ct)}}return te.join("")}(this.decodeStringToByteArray(oe,te))},decodeStringToByteArray(oe,te){this.init_();const Y=te?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let re=0;re<oe.length;){const ze=Y[oe.charAt(re++)],Ft=re<oe.length?Y[oe.charAt(re)]:0;++re;const kn=re<oe.length?Y[oe.charAt(re)]:64;++re;const _n=re<oe.length?Y[oe.charAt(re)]:64;if(++re,null==ze||null==Ft||null==kn||null==_n)throw Error();ne.push(ze<<2|Ft>>4),64!==kn&&(ne.push(Ft<<4&240|kn>>2),64!==_n&&ne.push(kn<<6&192|_n))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},Ne=function(oe){return function(oe){const te=be(oe);return Ie.encodeByteArray(te,!0)}(oe).replace(/\./g,"")},Ae=function(oe){try{return Ie.decodeString(oe,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function X(oe,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return te}for(const Y in te)!te.hasOwnProperty(Y)||!ce(Y)||(oe[Y]=X(oe[Y],te[Y]));return oe}function ce(oe){return"__proto__"!==oe}class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,Y)=>{this.resolve=te,this.reject=Y})}wrapCallback(te){return(Y,ne)=>{Y?this.reject(Y):this.resolve(ne),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(Y):te(Y,ne))}}}function Ue(oe,te){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=te||"demo-project",re=oe.iat||0,ze=oe.sub||oe.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:re,exp:re+3600,auth_time:re,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(ct)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ht(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return"object"==typeof self&&self.self===self}function at(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){const oe=Le();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function ft(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"object"==typeof indexedDB}function Re(){return new Promise((oe,te)=>{try{let Y=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(ne);re.onsuccess=()=>{re.result.close(),Y||self.indexedDB.deleteDatabase(ne),oe(!0)},re.onupgradeneeded=()=>{Y=!1},re.onerror=()=>{var ze;te((null===(ze=re.error)||void 0===ze?void 0:ze.message)||"")}}catch(Y){te(Y)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(te,Y,ne){super(Y),this.code=te,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(te,Y,ne){this.service=te,this.serviceName=Y,this.errors=ne}create(te,...Y){const ne=Y[0]||{},re=`${this.service}/${te}`,ze=this.errors[te],ct=ze?function Qe(oe,te){return oe.replace(Mt,(Y,ne)=>{const re=te[ne];return null!=re?String(re):`<${ne}?>`})}(ze,ne):"Error";return new ve(re,`${this.serviceName}: ${ct} (${re}).`,ne)}}const Mt=/\{\$([^}]+)}/g;function fi(oe,te){return Object.prototype.hasOwnProperty.call(oe,te)}function Xt(oe){for(const te in oe)if(Object.prototype.hasOwnProperty.call(oe,te))return!1;return!0}function xn(oe,te){if(oe===te)return!0;const Y=Object.keys(oe),ne=Object.keys(te);for(const re of Y){if(!ne.includes(re))return!1;const ze=oe[re],ct=te[re];if(Pn(ze)&&Pn(ct)){if(!xn(ze,ct))return!1}else if(ze!==ct)return!1}for(const re of ne)if(!Y.includes(re))return!1;return!0}function Pn(oe){return null!==oe&&"object"==typeof oe}function Ji(oe){const te=[];for(const[Y,ne]of Object.entries(oe))Array.isArray(ne)?ne.forEach(re=>{te.push(encodeURIComponent(Y)+"="+encodeURIComponent(re))}):te.push(encodeURIComponent(Y)+"="+encodeURIComponent(ne));return te.length?"&"+te.join("&"):""}function hr(oe){const te={};return oe.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[re,ze]=ne.split("=");te[decodeURIComponent(re)]=decodeURIComponent(ze)}}),te}function Sr(oe){const te=oe.indexOf("?");if(!te)return"";const Y=oe.indexOf("#",te);return oe.substring(te,Y>0?Y:void 0)}function yr(oe,te){const Y=new yt(oe,te);return Y.subscribe.bind(Y)}class yt{constructor(te,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{te(this)}).catch(ne=>{this.error(ne)})}next(te){this.forEachObserver(Y=>{Y.next(te)})}error(te){this.forEachObserver(Y=>{Y.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,Y,ne){let re;if(void 0===te&&void 0===Y&&void 0===ne)throw new Error("Missing Observer.");re=function Hi(oe,te){if("object"!=typeof oe||null===oe)return!1;for(const Y of te)if(Y in oe&&"function"==typeof oe[Y])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:Y,complete:ne},void 0===re.next&&(re.next=Cn),void 0===re.error&&(re.error=Cn),void 0===re.complete&&(re.complete=Cn);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),ze}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,te)}sendOne(te,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{Y(this.observers[te])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function Is(oe,te=1e3,Y=2){const ne=te*Math.pow(Y,oe),re=Math.round(.5*ne*(Math.random()-.5)*2);return Math.min(144e5,ne+re)}function Tn(oe){return oe&&oe._delegate?oe._delegate:oe}},5583:(Nt,$e,G)=>{"use strict";var c=G(4650);let F=null;function W(){return F}const Ee=new c.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ae(){return(0,c.LFG)(X)}()},providedIn:"platform"}),n})();const J=new c.OlP("Location Initialized");let X=(()=>{class n extends Ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(t){const r=W().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=W().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ce()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ce()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function tt(){return new X((0,c.LFG)(Ee))}()},providedIn:"platform"}),n})();function ce(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ht(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(at)},providedIn:"root"}),n})();const Me=new c.OlP("appBaseHref");let at=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ht(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+ht(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+ht(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ne),c.LFG(Me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Et=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+ht(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+ht(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ne),c.LFG(Me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Le(st(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ht(r))}normalize(t){return n.stripTrailingSlash(function ke(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,st(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ht,n.joinWithSlash=Ue,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(c.LFG(Oe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return new He((0,c.LFG)(Oe))}()},providedIn:"root"}),n})();function st(n){return n.replace(/\/index.html$/,"")}class Ta{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ta(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const g=r.get(a);r.move(g,u),Kr(g,i)}});for(let i=0,a=r.length;i<a;i++){const g=r.get(i).context;g.index=i,g.count=a,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Kr(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kr(n,e){n.context.$implicit=e.item}let nr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Xa{constructor(){this.$implicit=null,this.ngIf=null}}function Lr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let uo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})(),gi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Qo="browser";function gu(n){return n===Qo}function $n(n){return"server"===n}let Vl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Ws((0,c.LFG)(Ee),window)}),n})();class Ws{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ts(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=As(this.window.history)||As(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function As(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ll extends class Xd extends class Ie{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){F||(F=n)}(new ll)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function gs(){return zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null}();return null==t?null:function Ns(n){mi=mi||document.createElement("a"),mi.setAttribute("href",n);const e=mi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function es(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let mi,zs=null;const Cr=new c.OlP("TRANSITION_ID"),od=[{provide:c.ip1,useFactory:function sd(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=W(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Cr,Ee,c.zs3],multi:!0}];let Wl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const de=new c.OlP("EventManagerPlugins");let Be=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class xe{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=W().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let It=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Qt=(()=>{class n extends It{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Hn),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Hn))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Hn(n){W().remove(n)}const Tr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rr=/%COMP%/g;function cl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?cl(n,i,t):(i=i.replace(rr,n),t.push(i))}return t}function Su(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let zl=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new dl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new eh(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new Nu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=cl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Be),c.LFG(Qt),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class dl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Tr[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Au(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Au(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Tr[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Tr[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Su(r)):this.eventManager.addEventListener(e,t,Su(r))}}function Au(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class eh extends dl{constructor(e,t,r,i){super(e),this.component=r;const a=cl(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Jr(n){return"_ngcontent-%COMP%".replace(rr,n)}(i+"-"+r.id),this.hostAttr=function Xo(n){return"_nghost-%COMP%".replace(rr,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Nu extends dl{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=cl(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const g=document.createElement("style");g.textContent=a[u],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Er=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Aa=["alt","control","meta","shift"],ql={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Os={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Zl=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),u="code."),Aa.forEach(C=>{const S=r.indexOf(C);S>-1&&(r.splice(S,1),u+=C+".")}),u+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=u,y}static matchEventFullKeyCode(t,r){let i=ql[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Aa.forEach(u=>{u!==i&&(0,Os[u])(t)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const pl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Qo},{provide:c.g9A,useValue:function hl(){ll.makeCurrent()},multi:!0},{provide:Ee,useFactory:function Ou(){return(0,c.RDi)(document),document},deps:[]}]),go=new c.OlP(""),pc=[{provide:c.rWj,useClass:class sf{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const g=function(y){u=u||y,a--,0==a&&r(u)};i.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?W().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Oa=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function fl(){return new c.qLn},deps:[]},{provide:de,useClass:Er,multi:!0,deps:[Ee,c.R0b,c.Lbi]},{provide:de,useClass:Zl,multi:!0,deps:[Ee]},{provide:zl,useClass:zl,deps:[Be,Qt,c.AFp]},{provide:c.FYo,useExisting:zl},{provide:It,useExisting:Qt},{provide:Qt,useClass:Qt,deps:[Ee]},{provide:Be,useClass:Be,deps:[de,c.R0b]},{provide:class rl{},useClass:Wl,deps:[]},[]];let gc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Cr,useExisting:c.AFp},od]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(go,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Oa,...pc],imports:[gi,c.hGG]}),n})(),ea=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Xr(){return new ea((0,c.LFG)(Ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const Pu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Jl=new c.OlP("HammerGestureConfig"),qs=new c.OlP("HammerLoader");let Dn=(()=>{class n{constructor(){this.events=[],this.overrides={}}buildHammer(t){const r=new Hammer(t,this.options);r.get("pinch").set({enable:!0}),r.get("rotate").set({enable:!0});for(const i in this.overrides)r.get(i).set(this.overrides[i]);return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),th=(()=>{class n extends xe{constructor(t,r,i,a){super(t),this._config=r,this.console=i,this.loader=a,this._loaderPromise=null}supports(t){return!(!Pu.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader)}addEventListener(t,r,i){const a=this.manager.getZone();if(r=r.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||a.runOutsideAngular(()=>this.loader());let u=!1,g=()=>{u=!0};return a.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?u||(g=this.addEventListener(t,r,i)):g=()=>{}}).catch(()=>{g=()=>{}})),()=>{g()}}return a.runOutsideAngular(()=>{const u=this._config.buildHammer(t),g=function(y){a.runGuarded(function(){i(y)})};return u.on(r,g),()=>{u.off(r,g),"function"==typeof u.destroy&&u.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee),c.LFG(Jl),c.LFG(c.c2e),c.LFG(qs,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Bg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:de,useClass:th,multi:!0,deps:[Ee,Jl,c.c2e,[new c.FiY,qs]]},{provide:Jl,useClass:Dn,deps:[]}]}),n})();var cd=G(5386),qn=G(7579),af=G(6063);class Ms extends qn.x{constructor(e=1/0,t=1/0,r=af.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let g=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)g=y;g&&r.splice(0,g+1)}}}var rs=G(6451),ii=G(8421),si=G(4482),ir=G(5403);function Wn(n,e){return(0,si.e)((t,r)=>{let i=null,a=0,u=!1;const g=()=>u&&!i&&r.complete();t.subscribe((0,ir.x)(r,y=>{i?.unsubscribe();let C=0;const S=a++;(0,ii.Xf)(n(y,S)).subscribe(i=(0,ir.x)(r,R=>r.next(e?e(y,R,S,C++):R),()=>{i=null,g()}))},()=>{u=!0,g()}))})}var xt=G(4004);const dd={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return dd.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return dd.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let ei;function gd(n,e,t){let r=t;return function _c(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((i,a)=>!("*"===i||!function Lu(n,e){if(!ei){const t=Element.prototype;ei=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&ei.call(n,e)}(n,i)||(r=a,0))),r}class lp{constructor(e,t){this.componentFactory=t.get(c._Vd).resolveComponentFactory(e)}create(e){return new md(this.componentFactory,e)}}class md{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new Ms(1),this.events=this.eventEmitters.pipe(Wn(r=>(0,rs.T)(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(c.R0b),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=dd.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function Ra(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=c.zs3.create({providers:[],parent:this.injector}),r=function pd(n,e){const t=n.childNodes,r=e.map(()=>[]);let i=-1;e.some((a,u)=>"*"===a&&(i=u,!0));for(let a=0,u=t.length;a<u;++a){const g=t[a],y=gd(g,e,i);-1!==y&&r[y].push(g)}return r}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,r,e),this.viewChangeDetectorRef=this.componentRef.injector.get(c.sBO),this.implementsOnChanges=function vl(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(c.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:r,templateName:i})=>e.instance[r].pipe((0,xt.U)(u=>({name:i,value:u}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=dd.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const r=this.inputChanges[e];if(r)return void(r.currentValue=t);const i=this.unchangedInputs.has(e),a=i?void 0:this.getInputValue(e);this.inputChanges[e]=new c.WD2(a,t,i)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class lf extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}var Or=G(9751),Mr=G(515),Rs=G(3269),jn=G(8996);function wt(...n){const e=(0,Rs.yG)(n);return(0,jn.D)(n,e)}var _i=G(5577),Pi=G(1144),Fs=G(576);const{isArray:Zs}=Array;function vc(n){return(0,xt.U)(e=>function vi(n,e){return Zs(e)?n(...e):n(e)}(n,e))}const ti=["addListener","removeListener"],nh=["addEventListener","removeEventListener"],x=["on","off"];function N(n,e,t,r){if((0,Fs.m)(t)&&(r=t,t=void 0),r)return N(n,e,t).pipe(vc(r));const[i,a]=function Te(n){return(0,Fs.m)(n.addEventListener)&&(0,Fs.m)(n.removeEventListener)}(n)?nh.map(u=>g=>n[u](e,g,t)):function q(n){return(0,Fs.m)(n.addListener)&&(0,Fs.m)(n.removeListener)}(n)?ti.map(k(n,e)):function he(n){return(0,Fs.m)(n.on)&&(0,Fs.m)(n.off)}(n)?x.map(k(n,e)):[];if(!i&&(0,Pi.z)(n))return(0,_i.z)(u=>N(u,e,t))((0,ii.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Or.y(u=>{const g=(...y)=>u.next(1<y.length?y:y[0]);return i(g),()=>a(g)})}function k(n,e){return t=>r=>n[t](e,r)}var Ge=G(4986),nt=G(3532);function Ht(n=0,e,t=Ge.P){let r=-1;return null!=e&&((0,nt.K)(e)?t=e:r=e),new Or.y(i=>{let a=function Vt(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:Zt}=Array;function Ut(n){return 1===n.length&&Zt(n[0])?n[0]:n}class zn extends qn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:oi}=Array,{getPrototypeOf:ia,prototype:Xl,keys:Fa}=Object;var Ks=G(4671);var uf=G(9672);function rh(...n){const e=(0,Rs.yG)(n),t=(0,Rs.jO)(n),{args:r,keys:i}=function Pa(n){if(1===n.length){const e=n[0];if(oi(e))return{args:e,keys:null};if(function ka(n){return n&&"object"==typeof n&&ia(n)===Xl}(e)){const t=Fa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,jn.D)([],e);const a=new Or.y(function Ug(n,e,t=Ks.y){return r=>{Hu(e,()=>{const{length:i}=n,a=new Array(i);let u=i,g=i;for(let y=0;y<i;y++)Hu(e,()=>{const C=(0,jn.D)(n[y],e);let S=!1;C.subscribe((0,ir.x)(r,R=>{a[y]=R,S||(S=!0,g--),g||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>function yl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,u):Ks.y));return t?a.pipe(vc(t)):a}function Hu(n,e,t){n?(0,uf.f)(t,n,e):e()}var ju=G(5032);function bc(...n){const e=(0,Rs.jO)(n),t=Ut(n);return t.length?new Or.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let u=0;!r.closed&&u<t.length;u++)(0,ii.Xf)(t[u]).subscribe((0,ir.x)(r,g=>{if(i[u].push(g),i.every(y=>y.length)){const y=i.map(C=>C.shift());r.next(e?e(...y):y),i.some((C,S)=>!C.length&&a[S])&&r.complete()}},()=>{a[u]=!0,!i[u].length&&r.complete()}));return()=>{i=a=null}}):Mr.E}new Or.y(ju.Z);var ih=G(8189);function sh(...n){return function cp(){return(0,ih.J)(1)}()((0,jn.D)(n,(0,Rs.yG)(n)))}function ai(n){return(0,si.e)((e,t)=>{(0,ii.Xf)(n).subscribe((0,ir.x)(t,()=>t.complete(),ju.Z)),!t.closed&&e.subscribe(t)})}function ki(n,e){return(0,si.e)((t,r)=>{let i=0;t.subscribe((0,ir.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function Hr(n){return n<=0?()=>Mr.E:(0,si.e)((e,t)=>{let r=0;e.subscribe((0,ir.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sa(...n){const e=(0,Rs.yG)(n);return(0,si.e)((t,r)=>{(e?sh(n,t,e):sh(n,t)).subscribe(r)})}function dp(n,e){return n===e}var yi=G(8505);function hp(...n){const e=(0,Rs.jO)(n);return(0,si.e)((t,r)=>{const i=n.length,a=new Array(i);let u=n.map(()=>!1),g=!1;for(let y=0;y<i;y++)(0,ii.Xf)(n[y]).subscribe((0,ir.x)(r,C=>{a[y]=C,!g&&!u[y]&&(u[y]=!0,(g=u.every(Ks.y))&&(u=null))},ju.Z));t.subscribe((0,ir.x)(r,y=>{if(g){const C=[y,...a];r.next(e?e(...C):C)}}))})}function Ba(n){return(0,xt.U)(()=>n)}let W_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Md=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[W_]}),n})(),em=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Md]}),n})();function kp(n,e){}function sr(n,e){if(1&n&&(c.TgZ(0,"button",3),c._uU(1),c.YNc(2,kp,0,0,"ng-template",4),c.qZA()),2&n){const t=e.$implicit;c.Q6J("ngbPanelToggle",t),c.xp6(1),c.hij(" ",t.title,""),c.xp6(1),c.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function wm(n,e){}function Lp(n,e){}function Dm(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",8),c.NdJ("ngbRef",function(i){c.CHM(t);const a=c.oxw().$implicit;return c.KtG(a.panelDiv=i)}),c.TgZ(1,"div",9),c.YNc(2,Lp,0,0,"ng-template",4),c.qZA()()}if(2&n){const t=c.oxw().$implicit;c.s9C("id",t.id),c.uIk("aria-labelledby",t.id+"-header"),c.xp6(2),c.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const J0=function(n,e){return{$implicit:n,opened:e}};function X0(n,e){if(1&n&&(c.TgZ(0,"div")(1,"div",5),c.YNc(2,wm,0,0,"ng-template",6),c.qZA(),c.YNc(3,Dm,3,3,"div",7),c.qZA()),2&n){const t=e.$implicit,r=c.oxw(),i=c.MAs(1);c.Tol("accordion-item "+(t.cardClass||"")),c.xp6(1),c.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),c.MGl("id","",t.id,"-header"),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",c.WLB(8,J0,t,t.isOpen)),c.xp6(1),c.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}const eb=["*"],Vp=["dialog"];function Pm(n){return"string"==typeof n}function kd(n){return null!=n}function Bf(n){return(n||document.body).getBoundingClientRect()}const km={animation:!0,transitionTimerDelayMs:5},Lm=()=>{},{transitionTimerDelayMs:Eb}=km,Ld=new Map,bo=(n,e,t,r)=>{let i=r.context||{};const a=Ld.get(e);if(a)switch(r.runningTransition){case"continue":return Mr.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Ld.delete(e)}const u=t(e,r.animation,i)||Lm;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),wt(void 0).pipe(function Cb(n){return e=>new Or.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new qn.x,y=new qn.x,C=g.pipe(function oh(...n){return e=>sh(e,wt(...n))}(!0));Ld.set(e,{transition$:g,complete:()=>{y.next(),y.complete()},context:i});const S=function Tb(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const R=N(e,"transitionend").pipe(ai(C),ki(({target:Z})=>Z===e));(function gr(...n){return 1===(n=Ut(n)).length?(0,ii.Xf)(n[0]):new Or.y(function $r(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ii.Xf)(n[r]).subscribe((0,ir.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(Ht(S+Eb).pipe(ai(C)),R,y).pipe(ai(C)).subscribe(()=>{Ld.delete(e),n.run(()=>{u(),g.next(),g.complete()})})}),g.asObservable()},p=(n,e,t)=>{let{direction:r,maxHeight:i}=t;const{classList:a}=n;function u(){a.add("collapse"),"show"===r?a.add("show"):a.remove("show")}if(e)return i||(i=function d(n){if(typeof navigator>"u")return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return t||e.remove("show"),r}(n),t.maxHeight=i,n.style.height="show"!==r?i:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),Bf(n),a.add("collapsing")),n.style.height="show"===r?i:"0px",()=>{u(),a.remove("collapsing"),n.style.height=""};u()};let b=(()=>{class n{constructor(){this.animation=km.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P=0,H=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]]}),n})(),K=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]]}),n})(),ie=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]]}),n})(),fe=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+P++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new c.vpe,this.hidden=new c.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,K,4),c.Suo(i,H,4),c.Suo(i,ie,4)),2&t){let a;c.iGM(a=c.CRH())&&(r.titleTpls=a),c.iGM(a=c.CRH())&&(r.headerTpls=a),c.iGM(a=c.CRH())&&(r.contentTpls=a)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),n})(),qe=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new c.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),n})(),We=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new c.vpe,this.shown=new c.vpe,this.hidden=new c.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){Pm(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(Hr(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,bo(this._ngZone,r,p,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&bo(this._ngZone,r.panelDiv,p,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide"}}).subscribe(()=>{r.transitionRunning=!1;const{id:a}=r;r.isOpen?(r.shown.emit(),this.shown.emit(a)):(r.hidden.emit(),this.hidden.emit(a))})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(A),c.Y36(c.R0b),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,fe,4),2&t){let a;c.iGM(a=c.CRH())&&(r.panels=a)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(c.YNc(0,sr,3,3,"ng-template",0,1,c.W1O),c.YNc(2,X0,4,11,"ng-template",2)),2&t&&(c.xp6(2),c.Q6J("ngForOf",r.panels))},dependencies:function(){return[Oi,nr,uo,qe,H,Xe]},encapsulation:2}),n})(),Xe=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(We),c.Y36(fe,9))},n.\u0275dir=c.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(c.Ikx("disabled",r.panel.disabled),c.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),c.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),n})(),Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),Sb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),Ab=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var vs=(()=>{return(n=vs||(vs={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",vs;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const kb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function XE(n){const e=Array.from(n.querySelectorAll(kb)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Bh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi,em]}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class Wt{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Rx=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Hr(1)).subscribe(()=>{bo(this._zone,this._el.nativeElement,(t,r)=>{r&&Bf(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return bo(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(c.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),c.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class oI{close(e){}dismiss(e){}}class Kp{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new qn.x,this._dismissed=new qn.x,this._hidden=new qn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ai(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ai(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Kv(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():wt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),bc(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var $m=(()=>{return(n=$m||($m={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",$m;var n})();let iy=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new qn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new qn.x,this.hidden=new qn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Pm(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Hr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},u=bc(bo(this._zone,t,()=>t.classList.remove("show"),r),bo(this._zone,this._dialogEl.nativeElement,()=>{},r));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};bc(bo(this._zone,this._elRef.nativeElement,(a,u)=>{u&&Bf(a),a.classList.add("show")},t),bo(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{N(t,"keydown").pipe(ai(this._closed$),ki(i=>i.which===vs.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss($m.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;N(this._dialogEl.nativeElement,"mousedown").pipe(ai(this._closed$),(0,yi.b)(()=>r=!1),Wn(()=>N(t,"mouseup").pipe(ai(this._closed$),Hr(1))),ki(({target:i})=>t===i)).subscribe(()=>{r=!0}),N(t,"click").pipe(ai(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss($m.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=XE(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&bo(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ee),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&c.Gf(Vp,7),2&t){let i;c.iGM(i=c.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),c.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),c.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:eb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&t&&c.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),sy=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:u}=i;if(t>0){const g=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${g+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=u),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qi=(()=>{class n{constructor(t,r,i,a,u,g){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=u,this._ngZone=g,this._activeWindowCmptHasChanged=new qn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=N(e,"focusin").pipe(ai(t),(0,xt.U)(a=>a.target));N(e,"keydown").pipe(ai(t),ki(a=>a.which===vs.Tab),hp(i)).subscribe(([a,u])=>{const[g,y]=XE(e);(u===g||u===e)&&a.shiftKey&&(y.focus(),a.preventDefault()),u===y&&!a.shiftKey&&(g.focus(),a.preventDefault())}),r&&N(e,"click").pipe(ai(t),hp(i),(0,xt.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:kd(i.container)?this._document.querySelector(i.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new oI,y=this._getContentRef(i.injector||t,r,g,i);let C=!1!==i.backdrop?this._attachBackdrop(a):void 0,S=this._attachWindowComponent(a,y.nodes),R=new Kp(S,y,C,i.beforeDismiss);return this._registerModalRef(R),this._registerWindowCmpt(S),R.hidden.pipe(Hr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=j=>{R.close(j)},g.dismiss=j=>{R.dismiss(j)},this._applyWindowOptions(S.instance,i),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,i),C.changeDetectorRef.detectChanges()),S.changeDetectorRef.detectChanges(),R}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,c.LMc)(Rx,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,c.LMc)(iy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{kd(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{kd(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a){return r?r instanceof c.Rgc?this._createFromTemplateRef(r,i):Pm(r)?this._createFromString(r):this._createFromComponent(t,r,i,a):new Wt([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(u){r.close(u)},dismiss(u){r.dismiss(u)}});return this._applicationRef.attachView(a),new Wt([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Wt([[r]])}_createFromComponent(t,r,i,a){const u=c.zs3.create({providers:[{provide:oI,useValue:i}],parent:t}),g=(0,c.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:u}),y=g.location.nativeElement;return a.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new Wt([[y]],g.hostView,g)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(Ee),c.LFG(sy),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JM=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aI=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(qi),c.LFG(JM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[aI]}),n})(),jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),Zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),_I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),Jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),vI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),bI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),Yb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),II=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function qx(){return 100}});let Qb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})(),ly=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const EI=[Rt,nn,Sb,Ab,Bh,Mx,$b,jm,ly,Zb,_I,Jp,vI,bI,Yb,II,Qb];let Jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[EI,Rt,nn,Sb,Ab,Bh,Mx,$b,jm,ly,Zb,_I,Jp,vI,bI,Yb,II,Qb]}),n})();const Jx=["ngucarousel"],Xb=["nguItemsContainer"],Xx=["touchContainer"],xI=[[["","NguCarouselPrev",""]],[["","NguCarouselNext",""]],[["","NguCarouselPoint",""]]],Xp=["[NguCarouselPrev]","[NguCarouselNext]","[NguCarouselPoint]"],SI=["*"];class AI{}class tS{}class ew{constructor(e=0,t=0,r=0,i=0,a=0){this.xs=e,this.sm=t,this.md=r,this.lg=i,this.all=a,this.xl=0}}class nS{constructor(e=768,t=992,r=1200,i=1200){this.sm=e,this.md=t,this.lg=r,this.xl=i}}class tw{constructor(e){this.$implicit=e}}let nw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","NguCarouselNext",""]]}),n})(),rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","NguCarouselPrev",""]]}),n})(),OI=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","nguCarouselDef",""]]}),n})(),MI=(()=>{class n{constructor(t){this.viewContainer=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","nguCarouselOutlet",""]]}),n})(),oS=(()=>{class n extends class eS{constructor(e=new tS,t=new AI,r,i=new ew,a,u,g,y="fixed",C="",S=0,R=0,j=0,Z=0,ue=0,_e=0,De=0,ot=0,ut=0,vt="cubic-bezier(0, 0, 0.2, 1)",it=200,gt=!1,Dt=0,sn=0,Fn=!1,Ui=!0,Us=!1,ls=!1,oc=!0,Ca=1){this.touch=e,this.vertical=t,this.interval=r,this.transform=i,this.button=a,this.visibleItems=u,this.deviceType=g,this.type=y,this.token=C,this.items=S,this.load=R,this.deviceWidth=j,this.carouselWidth=Z,this.itemWidth=ue,this.slideItems=_e,this.itemWidthPer=De,this.itemLength=ot,this.currentSlide=ut,this.easing=vt,this.speed=it,this.loop=gt,this.dexVal=Dt,this.touchTransform=sn,this.isEnd=Fn,this.isFirst=Ui,this.isLast=Us,this.RTL=ls,this.point=oc,this.velocity=Ca}}{constructor(t,r,i,a,u){super(),this._el=t,this._renderer=r,this._differs=i,this.platformId=a,this.cdr=u,this.withAnim=!0,this.isHovered=!1,this.carouselLoad=new c.vpe,this.onMove=new c.vpe,this._intervalController$=new qn.x,this.pointNumbers=[]}get dataSource(){return this._dataSource}set dataSource(t){t&&this._switchDataSource(t)}set nextBtn(t){this.listener2?.(),t&&(this.listener2=this._renderer.listen(t.nativeElement,"click",()=>this._carouselScrollOne(1)))}set prevBtn(t){this.listener1?.(),t&&(this.listener1=this._renderer.listen(t.nativeElement,"click",()=>this._carouselScrollOne(0)))}get trackBy(){return this._trackByFn}set trackBy(t){(0,c.X6Q)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}ngOnInit(){this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(t,r):r)}ngDoCheck(){this.arrayChanges=this._dataDiffer.diff(this.dataSource),this.arrayChanges&&this._defDirec&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource=t,this._defDirec&&this._observeRenderChanges()}_observeRenderChanges(){let t;this._dataSource instanceof Or.y?t=this._dataSource:Array.isArray(this._dataSource)&&(t=wt(this._dataSource)),t&&(this._dataSubscription=t.pipe(ai(this._intervalController$)).subscribe(r=>{this.renderNodeChanges(r),this.isLast=this.pointIndex===this.currentSlide}))}renderNodeChanges(t,r=this._nodeOutlet.viewContainer){!this.arrayChanges||(this.arrayChanges.forEachOperation((i,a,u)=>{const g=this._getNodeDef(t[u],u);if(null==i.previousIndex){const y=new tw(t[u]);y.index=u,r.createEmbeddedView(g.template,y,u)}else if(null==u)r.remove(a);else{const y=r.get(a);r.move(y,u)}}),this._updateItemIndexContext(),this.carousel&&this._storeCarouselData())}_updateItemIndexContext(){const t=this._nodeOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const u=t.get(r).context;u.count=i,u.first=0===r,u.last=r===i-1,u.even=r%2==0,u.odd=!u.even,u.index=r}}_getNodeDef(t,r){return 1===this._defDirec.length?this._defDirec.first:this._defDirec.find(a=>a.when&&a.when(r,t))||this._defaultNodeDef}ngAfterViewInit(){this.carousel=this._el.nativeElement,this._inputValidation(),this.carouselCssNode=this._createStyleElem(),gu(this.platformId)&&(this._carouselInterval(),this.vertical.enabled||this._touch(),this.listener3=this._renderer.listen("window","resize",t=>{this._onResizing(t)}),this._onWindowScrolling())}ngAfterContentInit(){this._observeRenderChanges(),this.cdr.markForCheck()}_inputValidation(){this.inputs.gridBreakpoints=this.inputs.gridBreakpoints?this.inputs.gridBreakpoints:new nS,void 0===this.inputs.grid.xl&&(this.inputs.grid.xl=this.inputs.grid.lg),this.type=0!==this.inputs.grid.all?"fixed":"responsive",this.loop=this.inputs.loop||!1,this.inputs.easing=this.inputs.easing||"cubic-bezier(0, 0, 0.2, 1)",this.touch.active=this.inputs.touch||!1,this.RTL=!!this.inputs.RTL,this.interval=this.inputs.interval||null,this.velocity="number"==typeof this.inputs.velocity?this.inputs.velocity:this.velocity,this.inputs.vertical&&this.inputs.vertical.enabled&&(this.vertical.enabled=this.inputs.vertical.enabled,this.vertical.height=this.inputs.vertical.height),this.directionSym=this.RTL?"":"-",this.point=!(this.inputs.point&&typeof this.inputs.point.visible<"u")||this.inputs.point.visible,this._carouselSize()}ngOnDestroy(){this.carouselInt&&this.carouselInt.unsubscribe(),this._intervalController$.unsubscribe(),this.carouselLoad.complete(),this.onMove.complete(),clearTimeout(this.onScrolling);for(let t=1;t<=4;t++){const r=`listener${t}`;this[r]&&this[r]()}}_onResizing(t){clearTimeout(this.onResize),this.onResize=setTimeout(()=>{this.deviceWidth!==t.target.outerWidth&&(this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this._storeCarouselData())},500)}_touch(){this.inputs.touch&&Promise.resolve().then(G.t.bind(G,5386,19)).then(()=>{const t=new Hammer(this.touchContainer.nativeElement);t.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),t.on("panstart",r=>{this.carouselWidth=this.nguItemsContainer.nativeElement.offsetWidth,this.touchTransform=this.transform[this.deviceType],this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","")}),this.vertical.enabled?(t.on("panup",r=>{this._touchHandling("panleft",r)}),t.on("pandown",r=>{this._touchHandling("panright",r)})):(t.on("panleft",r=>{this._touchHandling("panleft",r)}),t.on("panright",r=>{this._touchHandling("panright",r)})),t.on("panend pancancel",r=>{if(Math.abs(r.velocity)>=this.velocity){this.touch.velocity=r.velocity;let i=0;i=this.RTL?"panright"===this.touch.swipe?1:0:"panright"===this.touch.swipe?0:1,this._carouselScrollOne(i)}else this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","transform 324ms cubic-bezier(0, 0, 0.2, 1)"),this._setStyle(this.nguItemsContainer.nativeElement,"transform","")}),t.on("hammer.input",r=>{r.srcEvent.stopPropagation()})})}_touchHandling(t,r){if(0===r.center.x)return;let i=(r=Math.abs(this.vertical.enabled?r.deltaY:r.deltaX))-this.dexVal;i="responsive"===this.type?Math.abs(r-this.dexVal)/(this.vertical.enabled?this.vertical.height:this.carouselWidth)*100:i,this.dexVal=r,this.touch.swipe=t,this._setTouchTransfrom(t,i),this._setTransformFromTouch()}_setTouchTransfrom(t,r){this.touchTransform=t===(this.RTL?"panright":"panleft")?r+this.touchTransform:this.touchTransform-r}_setTransformFromTouch(){this.touchTransform<0&&(this.touchTransform=0);const t="responsive"===this.type?"%":"px";this._setStyle(this.nguItemsContainer.nativeElement,"transform",this.vertical.enabled?`translate3d(0, ${this.directionSym}${this.touchTransform}${t}, 0)`:`translate3d(${this.directionSym}${this.touchTransform}${t}, 0, 0)`)}_onWindowScrolling(){const t=this.carousel.offsetTop,r=window.scrollY,i=window.innerHeight,a=this.carousel.offsetHeight;this._intervalController$.next(t<=r+i-a/4&&t+a/2>=r?1:0)}_storeCarouselData(){const t=this.inputs.gridBreakpoints;this.deviceWidth=gu(this.platformId)?window.innerWidth:t.xl,this.carouselWidth=this.carouselMain1.nativeElement.offsetWidth,"responsive"===this.type?(this.deviceType=this.deviceWidth>=t.xl?"xl":this.deviceWidth>=t.lg?"lg":this.deviceWidth>=t.md?"md":this.deviceWidth>=t.sm?"sm":"xs",this.items=this.inputs.grid[this.deviceType],this.itemWidth=this.carouselWidth/this.items):(this.items=Math.trunc(this.carouselWidth/this.inputs.grid.all),this.itemWidth=this.inputs.grid.all,this.deviceType="all"),this.slideItems=+(this.inputs.slide<this.items?this.inputs.slide:this.items),this.load=this.inputs.load>=this.slideItems?this.inputs.load:this.slideItems,this.speed=this.inputs.speed&&this.inputs.speed>-1?this.inputs.speed:400,this._carouselPoint()}reset(t){t&&(this.withAnim=!1),this.carouselCssNode.textContent="",this.moveTo(0),this._carouselPoint()}_carouselPoint(){this.pointIndex=Math.ceil((this.dataSource.length-(this.items-this.slideItems))/this.slideItems);const r=[];if(this.pointIndex>1||!this.inputs.point.hideOnSingleSlide)for(let i=0;i<this.pointIndex;i++)r.push(i);this.pointNumbers=r,this._carouselPointActiver(),this.pointIndex<=1?this._btnBoolean(1,1):this._btnBoolean(0!==this.currentSlide||this.loop?0:1,0)}_carouselPointActiver(){const t=Math.ceil(this.currentSlide/this.slideItems);this.activePoint=t,this.cdr.markForCheck()}moveTo(t,r){if(r&&(this.withAnim=!1),this.activePoint!==t&&t<this.pointIndex){let i;const a=this.currentSlide<t?1:0;switch(t){case 0:this._btnBoolean(1,0),i=t*this.slideItems;break;case this.pointIndex-1:this._btnBoolean(0,1),i=this.dataSource.length-this.items;break;default:this._btnBoolean(0,0),i=t*this.slideItems}this._carouselScrollTwo(a,i,this.speed)}}_carouselSize(){this.token=this._generateID();let t="";this.styleid=`.${this.token} > .ngucarousel > .ngu-touch-container > .ngucarousel-items`,"banner"===this.inputs.custom&&this._renderer.addClass(this.carousel,"banner"),"lazy"===this.inputs.animation&&(t+=`${this.styleid} > .item {transition: transform .6s ease;}`);const r=this.inputs.gridBreakpoints;let i="";i=this.vertical.enabled?`@media (max-width:${r.sm-1}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xs}px}}\n                    @media (max-width:${r.sm}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.sm}px}}\n                    @media (min-width:${r.md}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.md}px}}\n                    @media (min-width:${r.lg}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.lg}px}}\n                    @media (min-width:${r.xl}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xl}px}}`:"responsive"===this.type?`@media (max-width:${r.sm-1}px){${"mobile"===this.inputs.type?`${this.styleid} .item {flex: 0 0 ${95/+this.inputs.grid.xs}%; width: ${95/+this.inputs.grid.xs}%;}`:`${this.styleid} .item {flex: 0 0 ${100/+this.inputs.grid.xs}%; width: ${100/+this.inputs.grid.xs}%;}`}}\n                    @media (min-width:${r.sm}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.sm}%; width: ${100/+this.inputs.grid.sm}%}}\n                    @media (min-width:${r.md}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.md}%; width: ${100/+this.inputs.grid.md}%}}\n                    @media (min-width:${r.lg}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.lg}%; width: ${100/+this.inputs.grid.lg}%}}\n                    @media (min-width:${r.xl}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.xl}%; width: ${100/+this.inputs.grid.xl}%}}`:`${this.styleid} .item {flex: 0 0 ${this.inputs.grid.all}px; width: ${this.inputs.grid.all}px;}`,this._renderer.addClass(this.carousel,this.token),this.vertical.enabled&&(this._renderer.addClass(this.nguItemsContainer.nativeElement,"nguvertical"),this._renderer.setStyle(this.carouselMain1.nativeElement,"height",`${this.vertical.height}px`)),this.RTL&&!this.vertical.enabled&&this._renderer.addClass(this.carousel,"ngurtl"),this._createStyleElem(`${t} ${i}`),this._storeCarouselData()}_carouselScrollOne(t){let r=this.speed,i=0,a=0,u=Math.ceil(this.dexVal/this.itemWidth);if(u=isFinite(u)?u:0,this._setStyle(this.nguItemsContainer.nativeElement,"transform",""),1!==this.pointIndex)if(0!==t||(this.loop||this.isFirst)&&!this.loop)1===t&&(!this.loop&&!this.isLast||this.loop)&&(this.dataSource.length<=this.currentSlide+this.items+this.slideItems&&!this.isLast?(a=this.dataSource.length-this.items,this._btnBoolean(0,1)):this.isLast?(a=i=0,r=400,this._btnBoolean(1,0)):(this._btnBoolean(0,0),u>this.slideItems?(a=this.currentSlide+this.slideItems+(u-this.slideItems),r=200):a=this.currentSlide+this.slideItems),this._carouselScrollTwo(t,a,r));else{const y=this.currentSlide-this.slideItems+this.slideItems;this._btnBoolean(0,1),0===this.currentSlide?(a=this.dataSource.length-this.items,r=400,this._btnBoolean(0,1)):this.slideItems>=y?(a=i=0,this._btnBoolean(1,0)):(this._btnBoolean(0,0),u>this.slideItems?(a=this.currentSlide-u,r=200):a=this.currentSlide-this.slideItems),this._carouselScrollTwo(t,a,r)}}_carouselScrollTwo(t,r,i){if(0!==this.dexVal){const a=Math.abs(this.touch.velocity);let u=Math.floor(this.dexVal/a/this.dexVal*(this.deviceWidth-this.dexVal));u=u>i?i:u,i=u<200?200:u,this.dexVal=0}this.withAnim?(this._setStyle(this.nguItemsContainer.nativeElement,"transition",`transform ${i}ms ${this.inputs.easing}`),this.inputs.animation&&this._carouselAnimator(t,r+1,r+this.items,i,Math.abs(this.currentSlide-r))):this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this.itemLength=this.dataSource.length,this._transformStyle(r),this.currentSlide=r,this.onMove.emit(this),this._carouselPointActiver(),this._carouselLoadTrigger(),this.withAnim=!0}_btnBoolean(t,r){this.isFirst=!!t,this.isLast=!!r}_transformString(t,r){let i="";return i+=`${this.styleid} { transform: translate3d(`,this.vertical.enabled?(this.transform[t]=this.vertical.height/this.inputs.grid[t]*r,i+=`0, -${this.transform[t]}px, 0`):(this.transform[t]=100/this.inputs.grid[t]*r,i+=`${this.directionSym}${this.transform[t]}%, 0, 0`),i+="); }",i}_transformStyle(t){let r="";if("responsive"===this.type){const i=this.inputs.gridBreakpoints;r=`@media (max-width: ${i.sm-1}px) {${this._transformString("xs",t)}}\n      @media (min-width: ${i.sm}px) {${this._transformString("sm",t)} }\n      @media (min-width: ${i.md}px) {${this._transformString("md",t)} }\n      @media (min-width: ${i.lg}px) {${this._transformString("lg",t)} }\n      @media (min-width: ${i.xl}px) {${this._transformString("xl",t)} }`}else this.transform.all=this.inputs.grid.all*t,r=`${this.styleid} { transform: translate3d(${this.directionSym}${this.transform.all}px, 0, 0);`;this.carouselCssNode.textContent=r}_carouselLoadTrigger(){"number"==typeof this.inputs.load&&this.dataSource.length-this.load<=this.currentSlide+this.items&&this.carouselLoad.emit(this.currentSlide)}_generateID(){let t="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<6;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return`ngucarousel${t}`}_carouselInterval(){const t=this.carouselMain1.nativeElement;if(this.interval&&this.loop){this.listener4=this._renderer.listen("window","scroll",()=>{clearTimeout(this.onScrolling),this.onScrolling=setTimeout(()=>{this._onWindowScrolling()},600)});const r=N(t,"mouseleave").pipe(Ba(1)),i=N(t,"mouseenter").pipe(Ba(0)),a=N(t,"touchstart").pipe(Ba(1)),u=N(t,"touchend").pipe(Ba(0)),g=function Qx(n=0,e=Ge.z){return n<0&&(n=0),Ht(n,n,e)}(this.inputs.interval.timing).pipe(Ba(1));setTimeout(()=>{this.carouselInt=(0,rs.T)(r,a,i,u,this._intervalController$).pipe(sa(1),Wn(y=>(this.isHovered=!y,this.cdr.markForCheck(),y?g:Mr.E))).subscribe(y=>{this._carouselScrollOne(1)})},this.interval.initialDelay)}}_updateItemIndexContextAni(){const t=this._nodeOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const u=t.get(r).context;u.count=i,u.first=0===r,u.last=r===i-1,u.even=r%2==0,u.odd=!u.even,u.index=r}}_carouselAnimator(t,r,i,a,u,g=this._nodeOutlet.viewContainer){let y=u<5?u:5;y=1===y?3:y;const C=[];if(1===t)for(let S=r-1;S<i;S++)C.push(S),y*=2,g.get(S).context.animate={value:!0,params:{distance:y}};else for(let S=i-1;S>=r-1;S--)C.push(S),y*=2,g.get(S).context.animate={value:!0,params:{distance:-y}};this.cdr.markForCheck(),setTimeout(()=>{this._removeAnimations(C)},.7*a)}_removeAnimations(t){const r=this._nodeOutlet.viewContainer;t.forEach(i=>{r.get(i).context.animate={value:!1,params:{distance:0}}}),this.cdr.markForCheck()}_setStyle(t,r,i){this._renderer.setStyle(t,r,i)}_createStyleElem(t){const r=this._renderer.createElement("style");if(t){const i=this._renderer.createText(t);this._renderer.appendChild(r,i)}return this._renderer.appendChild(this.carousel,r),r}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.ZZ4),c.Y36(c.Lbi),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngu-carousel"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,nw,5,c.SBq),c.Suo(i,rw,5,c.SBq),c.Suo(i,OI,4)),2&t){let a;c.iGM(a=c.CRH())&&(r.nextBtn=a.first),c.iGM(a=c.CRH())&&(r.prevBtn=a.first),c.iGM(a=c.CRH())&&(r._defDirec=a)}},viewQuery:function(t,r){if(1&t&&(c.Gf(MI,7),c.Gf(Jx,7,c.SBq),c.Gf(Xb,7,c.SBq),c.Gf(Xx,7,c.SBq)),2&t){let i;c.iGM(i=c.CRH())&&(r._nodeOutlet=i.first),c.iGM(i=c.CRH())&&(r.carouselMain1=i.first),c.iGM(i=c.CRH())&&(r.nguItemsContainer=i.first),c.iGM(i=c.CRH())&&(r.touchContainer=i.first)}},inputs:{inputs:"inputs",dataSource:"dataSource",trackBy:"trackBy"},outputs:{carouselLoad:"carouselLoad",onMove:"onMove"},features:[c.qOj],ngContentSelectors:Xp,decls:11,vars:0,consts:[[1,"ngucarousel"],["ngucarousel",""],[1,"ngu-touch-container"],["touchContainer",""],[1,"ngucarousel-items"],["nguItemsContainer",""],["nguCarouselOutlet",""],[1,"nguclearFix"]],template:function(t,r){1&t&&(c.F$t(xI),c.TgZ(0,"div",0,1),c.Hsn(2),c.TgZ(3,"div",2,3)(5,"div",4,5),c.GkF(7,6),c.qZA()(),c._UZ(8,"div",7),c.Hsn(9,1),c.qZA(),c.Hsn(10,2))},dependencies:[MI],styles:["[_nghost-%COMP%]{display:block;position:relative}.ngurtl[_nghost-%COMP%]{direction:rtl}.ngucarousel[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%}.ngucarousel[_ngcontent-%COMP%]   .ngucarousel-items[_ngcontent-%COMP%]{position:relative;display:flex;height:100%}.nguvertical[_ngcontent-%COMP%]{flex-direction:column}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:20px}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:rgba(255,255,255,.55)}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:white}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{list-style-type:none;text-align:center;padding:12px;margin:0;white-space:nowrap;overflow:auto;box-sizing:border-box}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border-radius:50%;background:rgba(0,0,0,.55);padding:4px;margin:0 4px;transition-timing-function:cubic-bezier(.17,.67,.83,.67);transition:.4s}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#6b6b6b;transform:scale(1.8)}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.nguclearFix[_ngcontent-%COMP%]{clear:both}"],changeDetection:0}),n})(),RI=(()=>{class n{constructor(){this.classes=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngu-tile"]],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("item",r.classes)},ngContentSelectors:SI,decls:2,vars:0,consts:[[1,"tile"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:["[_nghost-%COMP%]{padding:10px;box-sizing:border-box}.tile[_ngcontent-%COMP%]{box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f}"]}),n})(),aS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi]}),n})();const uy=(0,G(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function PI(n){return new Or.y(e=>{(0,ii.Xf)(n()).subscribe(e)})}var xR=G(9635);function cy(n,e){const t=(0,Fs.m)(n)?n:()=>n,r=i=>i.error(t());return new Or.y(e?i=>e.schedule(r,0,i):r)}var kI=G(727);function iw(){return(0,si.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ir.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class LI extends Or.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,si.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kI.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ir.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kI.w0.EMPTY)}return e}refCount(){return iw()(this)}}function Gm(n){return(0,si.e)((e,t)=>{let r=!1;e.subscribe((0,ir.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function sw(n=BI){return(0,si.e)((e,t)=>{let r=!1;e.subscribe((0,ir.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function BI(){return new uy}function $d(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ki((i,a)=>n(i,a,r)):Ks.y,Hr(1),t?Gm(e):sw(()=>new uy))}function jf(n,e){return(0,Fs.m)(e)?(0,_i.z)(n,e,1):(0,_i.z)(n,1)}function Vh(n){return(0,si.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,ir.x)(t,void 0,void 0,u=>{a=(0,ii.Xf)(n(u,Vh(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function lS(n,e,t,r,i){return(a,u)=>{let g=t,y=e,C=0;a.subscribe((0,ir.x)(u,S=>{const R=C++;y=g?n(y,S,R):(g=!0,S),r&&u.next(y)},i&&(()=>{g&&u.next(y),u.complete()})))}}function Wm(n,e){return(0,si.e)(lS(n,e,arguments.length>=2,!0))}function ow(n){return n<=0?()=>Mr.E:(0,si.e)((e,t)=>{let r=[];e.subscribe((0,ir.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function eg(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ki((i,a)=>n(i,a,r)):Ks.y,ow(1),t?Gm(e):sw(()=>new uy))}function dy(n){return(0,si.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const On="primary",tg=Symbol("RouteTitle");class UI{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ng(n){return new UI(n)}function uS(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],g=n[a];if(u.startsWith(":"))i[u.substring(1)]=g;else if(u!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!$I(n[i],e[i]))return!1;return!0}function $I(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function HI(n){return Array.prototype.concat.apply([],n)}function jI(n){return n.length>0?n[n.length-1]:null}function as(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Uh(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,jn.D)(Promise.resolve(n)):wt(n)}const cS={exact:function GI(n,e,t){if(!$h(n.segments,e.segments)||!fy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!GI(n.children[r],e.children[r],t))return!1;return!0},subset:qm},hy={exact:function dS(n,e){return Zc(n,e)},subset:function hS(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$I(n[t],e[t]))},ignored:()=>!0};function rg(n,e,t){return cS[t.paths](n.root,e.root,t.matrixParams)&&hy[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function qm(n,e,t){return Zm(n,e,e.segments,t)}function Zm(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!$h(i,t)||e.hasChildren()||!fy(i,t,r))}if(n.segments.length===t.length){if(!$h(n.segments,t)||!fy(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!qm(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!($h(n.segments,i)&&fy(n.segments,i,r)&&n.children[On])&&Zm(n.children[On],e,a,r)}}function fy(n,e,t){return e.every((r,i)=>hy[t](n[i].parameters,r.parameters))}class Gf{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ng(this.queryParams)),this._queryParamMap}toString(){return lw.serialize(this)}}class Ln{constructor(e,t){this.segments=e,this.children=t,this.parent=null,as(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sg(this)}}class ig{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ng(this.parameters)),this._parameterMap}toString(){return cw(this)}}function $h(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let WI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new zI},providedIn:"root"}),n})();class zI{parse(e){const t=new mS(e);return new Gf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${og(e.root,!0)}`,r=function ZI(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ag(t)}=${ag(i)}`).join("&"):`${ag(t)}=${ag(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function pS(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lw=new zI;function sg(n){return n.segments.map(e=>cw(e)).join("/")}function og(n,e){if(!n.hasChildren())return sg(n);if(e){const t=n.children[On]?og(n.children[On],!1):"",r=[];return as(n.children,(i,a)=>{a!==On&&r.push(`${a}:${og(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function fS(n,e){let t=[];return as(n.children,(r,i)=>{i===On&&(t=t.concat(e(r,i)))}),as(n.children,(r,i)=>{i!==On&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===On?[og(n.children[On],!1)]:[`${i}:${og(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[On]?`${sg(n)}/${t[0]}`:`${sg(n)}/(${t.join("//")})`}}function py(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ag(n){return py(n).replace(/%3B/gi,";")}function uw(n){return py(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gy(n){return decodeURIComponent(n)}function qI(n){return gy(n.replace(/\+/g,"%20"))}function cw(n){return`${uw(n.path)}${function dw(n){return Object.keys(n).map(e=>`;${uw(e)}=${uw(n[e])}`).join("")}(n.parameters)}`}const KI=/^[^\/()?;=#]+/;function Km(n){const e=n.match(KI);return e?e[0]:""}const YI=/^[^=?&#]+/,QI=/^[^&#]+/;class mS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ln([],{}):new Ln([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[On]=new Ln(e,t)),r}parseSegment(){const e=Km(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new ig(gy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Km(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Km(this.remaining);i&&(r=i,this.capture(r))}e[gy(t)]=gy(r)}parseQueryParam(e){const t=function gS(n){const e=n.match(YI);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function JI(n){const e=n.match(QI);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=qI(t),a=qI(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Km(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=On);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[On]:new Ln([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function my(n){return n.segments.length>0?new Ln([],{[On]:n}):n}function Ym(n){const e={};for(const r of Object.keys(n.children)){const a=Ym(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function ma(n){if(1===n.numberOfChildren&&n.children[On]){const e=n.children[On];return new Ln(n.segments.concat(e.segments),e.children)}return n}(new Ln(n.segments,e))}function lu(n){return n instanceof Gf}function XI(n,e,t,r,i){if(0===t.length)return ug(e.root,e.root,e.root,r,i);const a=function fw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eC(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const g={};return as(a.outlets,(y,C)=>{g[C]="string"==typeof y?y.split("/"):y}),[...i,{outlets:g}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,a]},[]);return new eC(t,e,r)}(t);return a.toRoot()?ug(e.root,e.root,new Ln([],{}),r,i):function u(y){const C=function vS(n,e,t,r){if(n.isAbsolute)return new cg(e.root,!0,0);if(-1===r)return new cg(t,t===e.root,0);return function vy(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new c.vHH(4005,!1);i=r.segments.length}return new cg(r,!1,i-a)}(t,r+(lg(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),S=C.processChildren?Hh(C.segmentGroup,C.index,a.commands):yy(C.segmentGroup,C.index,a.commands);return ug(e.root,C.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function lg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hd(n){return"object"==typeof n&&null!=n&&n.outlets}function ug(n,e,t,r,i){let u,a={};r&&as(r,(y,C)=>{a[C]=Array.isArray(y)?y.map(S=>`${S}`):`${y}`}),u=n===e?t:_y(n,e,t);const g=my(Ym(u));return new Gf(g,a,i)}function _y(n,e,t){const r={};return as(n.children,(i,a)=>{r[a]=i===e?t:_y(i,e,t)}),new Ln(n.segments,r)}class eC{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&lg(r[0]))throw new c.vHH(4003,!1);const i=r.find(Hd);if(i&&i!==jI(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yy(n,e,t){if(n||(n=new Ln([],{})),0===n.segments.length&&n.hasChildren())return Hh(n,e,t);const r=function pw(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],g=t[r];if(Hd(g))break;const y=`${g}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&C&&"object"==typeof C&&void 0===C.outlets){if(!gw(y,C,u))return a;r+=2}else{if(!gw(y,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Ln(n.segments.slice(0,r.pathIndex),{});return a.children[On]=new Ln(n.segments.slice(r.pathIndex),n.children),Hh(a,0,i)}return r.match&&0===i.length?new Ln(n.segments,{}):r.match&&!n.hasChildren()?nC(n,e,t):r.match?Hh(n,0,i):nC(n,e,t)}function Hh(n,e,t){if(0===t.length)return new Ln(n.segments,{});{const r=function tC(n){return Hd(n[0])?n[0].outlets:{[On]:n}}(t),i={};return as(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=yy(n.children[u],e,a))}),as(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new Ln(n.segments,i)}}function nC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Hd(a)){const y=rC(a.outlets);return new Ln(r,y)}if(0===i&&lg(t[0])){r.push(new ig(n.segments[e].path,iC(t[0]))),i++;continue}const u=Hd(a)?a.outlets[On]:`${a}`,g=i<t.length-1?t[i+1]:null;u&&g&&lg(g)?(r.push(new ig(u,iC(g))),i+=2):(r.push(new ig(u,{})),i++)}return new Ln(r,{})}function rC(n){const e={};return as(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=nC(new Ln([],{}),0,t))}),e}function iC(n){const e={};return as(n,(t,r)=>e[r]=`${t}`),e}function gw(n,e,t){return n==t.path&&Zc(e,t.parameters)}class Za{constructor(e,t){this.id=e,this.url=t}}class by extends Za{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jd extends Za{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wf extends Za{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sC extends Za{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yS extends Za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RR extends Za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bS extends Za{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wS extends Za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DS extends Za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oC{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IS{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lC{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uC{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CS{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cC{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=wy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=wy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Dy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dy(e,this._root).map(t=>t.value)}}function wy(n,e){if(n===e.value)return e;for(const t of e.children){const r=wy(n,t);if(r)return r}return null}function Dy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Dy(n,t);if(r.length)return r.unshift(e),r}return[]}class Yc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fC extends hC{constructor(e,t){super(e),this.snapshot=t,gC(this,e)}toString(){return this.snapshot.toString()}}function pC(n,e){const t=function FR(n,e){const u=new mw([],{},{},"",{},On,e,null,n.root,-1,{});return new ES("",new Yc(u,[]))}(n,e),r=new zn([new ig("",{})]),i=new zn({}),a=new zn({}),u=new zn({}),g=new zn(""),y=new jh(r,i,u,g,a,On,e,t.root);return y.snapshot=t.root,new fC(new Yc(y,[]),t)}class jh{constructor(e,t,r,i,a,u,g,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=g,this.title=this.data?.pipe((0,xt.U)(C=>C[tg]))??wt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>ng(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>ng(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TS(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function PR(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mw{constructor(e,t,r,i,a,u,g,y,C,S,R,j){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=g,this.title=this.data?.[tg],this.routeConfig=y,this._urlSegment=C,this._lastPathIndex=S,this._correctedLastPathIndex=j??S,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ng(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ng(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ES extends hC{constructor(e,t){super(t),this.url=e,gC(this,t)}toString(){return xS(this._root)}}function gC(n,e){e.value._routerState=n,e.children.forEach(t=>gC(n,t))}function xS(n){const e=n.children.length>0?` { ${n.children.map(xS).join(", ")} } `:"";return`${n.value}${e}`}function mC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zc(e.params,t.params)||n.params.next(t.params),function SR(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _C(n,e){const t=Zc(n.params,e.params)&&function aw(n,e){return $h(n,e)&&n.every((t,r)=>Zc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||_C(n.parent,e.parent))}function Cy(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function vC(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cy(n,r,i);return Cy(n,r)})}(n,e,t);return new Yc(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(g=>Cy(n,g)),u}}const r=function Ty(n){return new jh(new zn(n.url),new zn(n.params),new zn(n.queryParams),new zn(n.fragment),new zn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Cy(n,a));return new Yc(r,i)}}const Ey="ngNavigationCancelingError";function _w(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=lu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SS(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function SS(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ey]=!0,r.cancellationCode=e,t&&(r.url=t),r}function xy(n){return vw(n)&&lu(n.url)}function vw(n){return n&&n[Ey]}class AS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new dg,this.attachRef=null}}let dg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new AS,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yw=!1;let yC=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=i||On,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,yw);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,yw);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,yw);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,yw);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new NS(t,g,i.injector);if(r&&function OS(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(u);this.activated=i.createComponent(C,i.length,y)}else this.activated=i.createComponent(u,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dg),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class NS{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===jh?this.route:e===dg?this.childContexts:this.parent.get(e,t)}}let hg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[yC],encapsulation:2}),n})();function bC(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Sy(n){const e=n.children&&n.children.map(Sy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==On&&(t.component=hg),t}function Sl(n){return n.outlet||On}function FS(n,e){const t=n.filter(r=>Sl(r)===e);return t.push(...n.filter(r=>Sl(r)!==e)),t}function _a(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ww{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=zf(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),as(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=zf(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=zf(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=zf(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new CS(a.value.snapshot))}),e.children.length&&this.forwardEvent(new lC(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(mC(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(g.contexts),u.attachRef=g.componentRef,u.route=g.route.value,u.outlet&&u.outlet.attach(g.componentRef,g.route.value),mC(g.route.value),this.activateChildRoutes(e,null,u.children)}else{const g=_a(i.snapshot),y=g?.get(c._Vd)??null;u.attachRef=null,u.route=i,u.resolver=y,u.injector=g,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class wC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class va{constructor(e,t){this.component=e,this.route=t}}function kS(n,e,t){const r=n._root;return Qm(r,e?e._root:null,t,[r.value])}function fg(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Qm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=zf(e);return n.children.forEach(u=>{(function Iw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const y=function DC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!$h(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$h(n.url,e.url)||!Zc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_C(n,e)||!Zc(n.queryParams,e.queryParams);default:return!_C(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new wC(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Qm(n,e,a.component?g?g.children:null:t,r,i),y&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new va(g.outlet.component,u))}else u&&pg(e,g,i),i.canActivateChecks.push(new wC(r)),Qm(n,null,a.component?g?g.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),as(a,(u,g)=>pg(u,t.getContext(g),i)),i}function pg(n,e,t){const r=zf(n),i=n.value;as(r,(a,u)=>{pg(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new va(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Jm(n){return"function"==typeof n}function Xm(n){return n instanceof uy||"EmptyError"===n?.name}const uu=Symbol("INITIAL_VALUE");function gg(){return Wn(n=>rh(n.map(e=>e.pipe(Hr(1),sa(uu)))).pipe((0,xt.U)(e=>{for(const t of e)if(!0!==t){if(t===uu)return uu;if(!1===t||t instanceof Gf)return t}return!0}),ki(e=>e!==uu),Hr(1)))}function Tw(n){return(0,xR.z)((0,yi.b)(e=>{if(lu(e))throw _w(0,e)}),(0,xt.U)(e=>!0===e))}const e_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ew(n,e,t,r,i){const a=Ay(n,e,t);return a.matched?function UR(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?wt(i.map(u=>{const g=fg(u,n);return Uh(function Cw(n){return n&&Jm(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(gg(),Tw()):wt(!0)}(r=bC(e,r),e,t).pipe((0,xt.U)(u=>!0===u?a:{...e_})):wt(a)}function Ay(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...e_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uS)(t,n,e);if(!i)return{...e_};const a={};as(i.posParams,(g,y)=>{a[y]=g.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function t_(n,e,t,r,i="corrected"){if(t.length>0&&function Ny(n,e,t){return t.some(r=>n_(n,e,r)&&Sl(r)!==On)}(n,t,r)){const u=new Ln(e,function NC(n,e,t,r){const i={};i[On]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Sl(a)!==On){const u=new Ln([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[Sl(a)]=u}return i}(n,e,r,new Ln(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Oy(n,e,t){return t.some(r=>n_(n,e,r))}(n,t,r)){const u=new Ln(n.segments,function AC(n,e,t,r,i,a){const u={};for(const g of r)if(n_(n,t,g)&&!i[Sl(g)]){const y=new Ln([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Sl(g)]=y}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new Ln(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function n_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function OC(n,e,t,r){return!!(Sl(n)===r||r!==On&&n_(e,t,n))&&("**"===n.path||Ay(e,n,t).matched)}function xw(n,e,t){return 0===e.length&&!n.children[t]}const r_=!1;class My{constructor(e){this.segmentGroup=e||null}}class MC{constructor(e){this.urlTree=e}}function Ry(n){return cy(new My(n))}function GS(n){return cy(new MC(n))}class qS{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=t_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ln(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,On).pipe((0,xt.U)(a=>this.createUrlTree(Ym(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vh(a=>{if(a instanceof MC)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof My?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,On).pipe((0,xt.U)(i=>this.createUrlTree(Ym(i),e.queryParams,e.fragment))).pipe(Vh(i=>{throw i instanceof My?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,r_)}createUrlTree(e,t,r){const i=my(e);return new Gf(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(a=>new Ln([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,jn.D)(i).pipe(jf(a=>{const u=r.children[a],g=FS(t,a);return this.expandSegmentGroup(e,g,u,a).pipe((0,xt.U)(y=>({segment:y,outlet:a})))}),Wm((a,u)=>(a[u.outlet]=u.segment,a),{}),eg())}expandSegment(e,t,r,i,a,u){return(0,jn.D)(r).pipe(jf(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,a,u).pipe(Vh(C=>{if(C instanceof My)return wt(null);throw C}))),$d(g=>!!g),Vh((g,y)=>{if(Xm(g))return xw(t,i,a)?wt(new Ln([],{})):Ry(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,a,u,g){return OC(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):Ry(t):Ry(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?GS(a):this.lineralizeSegments(r,a).pipe((0,_i.z)(u=>{const g=new Ln(u,{});return this.expandSegment(e,g,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:g,consumedSegments:y,remainingSegments:C,positionalParamSegments:S}=Ay(t,i,a);if(!g)return Ry(t);const R=this.applyRedirectCommands(y,i.redirectTo,S);return i.redirectTo.startsWith("/")?GS(R):this.lineralizeSegments(i,R).pipe((0,_i.z)(j=>this.expandSegment(e,t,r,j.concat(C),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=bC(r,e),r.loadChildren?(r._loadedRoutes?wt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,xt.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new Ln(i,{})))):wt(new Ln(i,{}))):Ew(t,r,i,e).pipe(Wn(({matched:u,consumedSegments:g,remainingSegments:y})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,_i.z)(S=>{const R=S.injector??e,j=S.routes,{segmentGroup:Z,slicedSegments:ue}=t_(t,g,y,j),_e=new Ln(Z.segments,Z.children);if(0===ue.length&&_e.hasChildren())return this.expandChildren(R,j,_e).pipe((0,xt.U)(vt=>new Ln(g,vt)));if(0===j.length&&0===ue.length)return wt(new Ln(g,{}));const De=Sl(r)===a;return this.expandSegment(R,_e,j,ue,De?On:a,!0).pipe((0,xt.U)(ut=>new Ln(g.concat(ut.segments),ut.children)))})):Ry(t)))}getChildConfig(e,t,r){return t.children?wt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?wt({routes:t._loadedRoutes,injector:t._loadedInjector}):function jS(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?wt(!0):wt(i.map(u=>{const g=fg(u,n);return Uh(function CC(n){return n&&Jm(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(gg(),Tw())}(e,t,r).pipe((0,_i.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,yi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function WS(n){return cy(SS(r_,3))}())):wt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return wt(r);if(i.numberOfChildren>1||!i.children[On])return cy(new c.vHH(4e3,r_));i=i.children[On]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Gf(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return as(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[a]=t[g]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return as(t.children,(g,y)=>{u[y]=this.createSegmentGroup(e,g,r,i)}),new Ln(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,r_);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class HR{}class ZS{constructor(e,t,r,i,a,u,g,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const e=t_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,On).pipe((0,xt.U)(t=>{if(null===t)return null;const r=new mw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Yc(r,t),a=new ES(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=TS(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,jn.D)(Object.keys(r.children)).pipe(jf(i=>{const a=r.children[i],u=FS(t,i);return this.processSegmentGroup(e,u,a,i)}),Wm((i,a)=>i&&a?(i.push(...a),i):null),function VI(n,e=!1){return(0,si.e)((t,r)=>{let i=0;t.subscribe((0,ir.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),Gm(null),eg(),(0,xt.U)(i=>{if(null===i)return null;const a=Aw(i);return function Fy(n){n.sort((e,t)=>e.value.outlet===On?-1:t.value.outlet===On?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,jn.D)(t).pipe(jf(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,a)),$d(u=>!!u),Vh(u=>{if(Xm(u))return xw(r,i,a)?wt([]):wt(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!OC(t,r,i,a))return wt(null);let u;if("**"===t.path){const g=i.length>0?jI(i).parameters:{},y=Py(r)+i.length;u=wt({snapshot:new mw(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FC(t),Sl(t),t.component??t._loadedComponent??null,t,Nw(r),y,Ly(t),y),consumedSegments:[],remainingSegments:[]})}else u=Ew(r,t,i,e).pipe((0,xt.U)(({matched:g,consumedSegments:y,remainingSegments:C,parameters:S})=>{if(!g)return null;const R=Py(r)+y.length;return{snapshot:new mw(y,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FC(t),Sl(t),t.component??t._loadedComponent??null,t,Nw(r),R,Ly(t),R),consumedSegments:y,remainingSegments:C}}));return u.pipe(Wn(g=>{if(null===g)return wt(null);const{snapshot:y,consumedSegments:C,remainingSegments:S}=g;e=t._injector??e;const R=t._loadedInjector??e,j=function KS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:ue}=t_(r,C,S,j.filter(De=>void 0===De.redirectTo),this.relativeLinkResolution);if(0===ue.length&&Z.hasChildren())return this.processChildren(R,j,Z).pipe((0,xt.U)(De=>null===De?null:[new Yc(y,De)]));if(0===j.length&&0===ue.length)return wt([new Yc(y,[])]);const _e=Sl(t)===a;return this.processSegment(R,j,Z,ue,_e?On:a).pipe((0,xt.U)(De=>null===De?null:[new Yc(y,De)]))}))}}function YS(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Aw(n){const e=[],t=new Set;for(const r of n){if(!YS(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Aw(r.children);e.push(new Yc(r.value,i))}return e.filter(r=>!t.has(r))}function Nw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Py(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function FC(n){return n.data||{}}function Ly(n){return n.resolve||{}}function Mw(n){return"string"==typeof n.title||null===n.title}function Rw(n){return Wn(e=>{const t=n(e);return t?(0,jn.D)(t).pipe((0,xt.U)(()=>e)):wt(e)})}let PC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===On);return r}getResolvedTitleForRoute(t){return t.data[tg]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(kC)},providedIn:"root"}),n})(),kC=(()=>{class n extends PC{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ea))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LC{}class VC extends class BC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Vy=new c.OlP("",{providedIn:"root",factory:()=>({})}),i_=new c.OlP("ROUTES");let UC=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return wt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Uh(t.loadComponent()).pipe((0,yi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),dy(()=>{this.componentLoaders.delete(t)})),i=new LI(r,()=>new qn.x).pipe(iw());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return wt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,xt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,C,S=!1;Array.isArray(g)?C=g:(y=g.create(t).injector,C=HI(y.get(i_,[],c.XFs.Self|c.XFs.Optional)));return{routes:C.map(Sy),injector:y}}),dy(()=>{this.childrenLoaders.delete(r)})),u=new LI(a,()=>new qn.x).pipe(iw());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Uh(t()).pipe((0,_i.z)(r=>r instanceof c.YKP||Array.isArray(r)?wt(r):(0,jn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $C{}class Pw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function JS(n){throw n}function YR(n,e,t){return e.parse("/")}const QR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function HC(){const n=(0,c.f3M)(WI),e=(0,c.f3M)(dg),t=(0,c.f3M)(He),r=(0,c.f3M)(c.zs3),i=(0,c.f3M)(c.Sil),a=(0,c.f3M)(i_,{optional:!0})??[],u=(0,c.f3M)(Vy,{optional:!0})??{},g=(0,c.f3M)(kC),y=(0,c.f3M)(PC,{optional:!0}),C=(0,c.f3M)($C,{optional:!0}),S=(0,c.f3M)(LC,{optional:!0}),R=new Bs(null,n,e,t,r,i,HI(a));return C&&(R.urlHandlingStrategy=C),S&&(R.routeReuseStrategy=S),R.titleStrategy=y??g,function eA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,R),R}let Bs=(()=>{class n{constructor(t,r,i,a,u,g,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qn.x,this.errorHandler=JS,this.malformedUriErrorHandler=YR,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>wt(void 0),this.urlHandlingStrategy=new Pw,this.routeReuseStrategy=new VC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(UC),this.configLoader.onLoadEndListener=j=>this.triggerEvent(new aC(j)),this.configLoader.onLoadStartListener=j=>this.triggerEvent(new oC(j)),this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const R=u.get(c.R0b);this.isNgZoneEnabled=R instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Kc(){return new Gf(new Ln([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pC(this.currentUrlTree,this.rootComponentType),this.transitions=new zn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ki(i=>0!==i.id),(0,xt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Wn(i=>{let a=!1,u=!1;return wt(i).pipe((0,yi.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wn(g=>{const y=this.browserUrlTree.toString(),C=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return tA(g.source)&&(this.browserUrlTree=g.extractedUrl),wt(g).pipe(Wn(R=>{const j=this.transitions.getValue();return r.next(new by(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),j!==this.transitions.getValue()?Mr.E:Promise.resolve(R)}),function $R(n,e,t,r){return Wn(i=>function zS(n,e,t,r,i){return new qS(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,xt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yi.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},i.urlAfterRedirects=R.urlAfterRedirects}),function Ow(n,e,t,r,i,a){return(0,_i.z)(u=>function GR(n,e,t,r,i,a,u="emptyOnly",g="legacy"){return new ZS(n,e,t,r,i,u,g,a).recognize().pipe(Wn(y=>null===y?function jR(n){return new Or.y(e=>e.error(n))}(new HR):wt(y)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,a).pipe((0,xt.U)(g=>({...u,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yi.b)(R=>{if(i.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const Z=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(Z,R)}this.browserUrlTree=R.urlAfterRedirects}const j=new yS(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(j)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:Z,source:ue,restoredState:_e,extras:De}=g,ot=new by(j,this.serializeUrl(Z),ue,_e);r.next(ot);const ut=pC(Z,this.rootComponentType).snapshot;return wt(i={...g,targetSnapshot:ut,urlAfterRedirects:Z,extras:{...De,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),Mr.E}),(0,yi.b)(g=>{const y=new RR(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,xt.U)(g=>i={...g,guards:kS(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function BR(n,e){return(0,_i.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?wt({...t,guardsResult:!0}):function VS(n,e,t,r){return(0,jn.D)(n).pipe((0,_i.z)(i=>function SC(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?wt(a.map(g=>{const y=_a(e)??i,C=fg(g,y);return Uh(function BS(n){return n&&Jm(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):y.runInContext(()=>C(n,e,t,r))).pipe($d())})).pipe(gg()):wt(!0)}(i.component,i.route,t,e,r)),$d(i=>!0!==i,!0))}(u,r,i,n).pipe((0,_i.z)(g=>g&&function IC(n){return"boolean"==typeof n}(g)?function US(n,e,t,r){return(0,jn.D)(e).pipe(jf(i=>sh(function HS(n,e){return null!==n&&e&&e(new IS(n)),wt(!0)}(i.route.parent,r),function $S(n,e){return null!==n&&e&&e(new uC(n)),wt(!0)}(i.route,r),function VR(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Dw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>PI(()=>wt(u.guards.map(y=>{const C=_a(u.node)??t,S=fg(y,C);return Uh(function TC(n){return n&&Jm(n.canActivateChild)}(S)?S.canActivateChild(r,n):C.runInContext(()=>S(r,n))).pipe($d())})).pipe(gg())));return wt(a).pipe(gg())}(n,i.path,t),function xC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return wt(!0);const i=r.map(a=>PI(()=>{const u=_a(e)??t,g=fg(a,u);return Uh(function LS(n){return n&&Jm(n.canActivate)}(g)?g.canActivate(e,n):u.runInContext(()=>g(e,n))).pipe($d())}));return wt(i).pipe(gg())}(n,i.route,t))),$d(i=>!0!==i,!0))}(r,a,n,e):wt(g)),(0,xt.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,yi.b)(g=>{if(i.guardsResult=g.guardsResult,lu(g.guardsResult))throw _w(0,g.guardsResult);const y=new bS(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),ki(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Rw(g=>{if(g.guards.canActivateChecks.length)return wt(g).pipe((0,yi.b)(y=>{const C=new wS(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}),Wn(y=>{let C=!1;return wt(y).pipe(function By(n,e){return(0,_i.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return wt(t);let a=0;return(0,jn.D)(i).pipe(jf(u=>function WR(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Mw(i)&&(a[tg]=i.title),function zR(n,e,t,r){const i=function qR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return wt({});const a={};return(0,jn.D)(i).pipe((0,_i.z)(u=>function ZR(n,e,t,r){const i=_a(e)??r,a=fg(n,i);return Uh(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe($d(),(0,yi.b)(g=>{a[u]=g}))),ow(1),Ba(a),Vh(u=>Xm(u)?Mr.E:cy(u)))}(a,n,e,r).pipe((0,xt.U)(u=>(n._resolvedData=u,n.data=TS(n,t).resolve,i&&Mw(i)&&(n.data[tg]=i.title),null)))}(u.route,r,n,e)),(0,yi.b)(()=>a++),ow(1),(0,_i.z)(u=>a===i.length?wt(t):Mr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yi.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,yi.b)(y=>{const C=new DS(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}))}),Rw(g=>{const y=C=>{const S=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,yi.b)(R=>{C.component=R}),(0,xt.U)(()=>{})));for(const R of C.children)S.push(...y(R));return S};return rh(y(g.targetSnapshot.root)).pipe(Gm(),Hr(1))}),Rw(()=>this.afterPreactivation()),(0,xt.U)(g=>{const y=function Iy(n,e,t){const r=Cy(n,e._root,t?t._root:void 0);return new fC(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return i={...g,targetRouterState:y}}),(0,yi.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new ww(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,yi.b)({next(){a=!0},complete(){a=!0}}),dy(()=>{a||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Vh(g=>{if(u=!0,vw(g)){xy(g)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Wf(i.id,this.serializeUrl(i.extractedUrl),g.message,g.cancellationCode);if(r.next(y),xy(g)){const C=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tA(i.source)};this.scheduleNavigation(C,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new sC(i.id,this.serializeUrl(i.extractedUrl),g,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(g))}catch(C){i.reject(C)}}return Mr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const g={...a};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(i.state=g)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Sy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:g,preserveFragment:y}=r,C=i||this.routerState.root,S=y?this.currentUrlTree.fragment:u;let R=null;switch(g){case"merge":R={...this.currentUrlTree.queryParams,...a};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=a||null}return null!==R&&(R=this.removeEmptyProps(R)),XI(C,this.currentUrlTree,t,R,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=lu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function JR(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...QR}:!1===r?{...XS}:r,lu(t))return rg(this.currentUrlTree,t,i);const a=this.parseUrl(t);return rg(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new jd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let g,y,C;u?(g=u.resolve,y=u.reject,C=u.promise):C=new Promise((j,Z)=>{g=j,y=Z});const S=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),R=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:S,targetPageId:R,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:g,reject:y,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(j=>Promise.reject(j))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Wf(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return HC()},providedIn:"root"}),n})();function tA(n){return"imperative"!==n}class rA{}let iA=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ki(t=>t instanceof jd),jf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,g=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(g,a.children??a._loadedRoutes))}return(0,jn.D)(i).pipe((0,ih.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):wt(null);const a=i.pipe((0,_i.z)(u=>null===u?wt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,jn.D)([a,u]).pipe((0,ih.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bs),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(rA),c.LFG(UC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WC=new c.OlP("");let s=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof by?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new cC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function f(n,e){return{\u0275kind:n,\u0275providers:e}}function _(n){return[{provide:i_,multi:!0,useValue:n}]}function T(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(Bs),i=n.get(E);1===n.get(O)&&r.initialNavigation(),n.get(me,null,c.XFs.Optional)?.setUpPreloading(),n.get(WC,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const E=new c.OlP("",{factory:()=>new qn.x}),O=new c.OlP("",{providedIn:"root",factory:()=>1});const me=new c.OlP("");function je(n){return f(0,[{provide:me,useExisting:iA},{provide:rA,useExisting:n}])}const Jt=new c.OlP("ROUTER_FORROOT_GUARD"),Ye=[He,{provide:WI,useClass:zI},{provide:Bs,useFactory:HC},dg,{provide:jh,useFactory:function h(n){return n.routerState.root},deps:[Bs]},UC];function rn(){return new c.PXZ("Router",Bs)}let mr=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ye,[],_(t),{provide:Jt,useFactory:Lw,deps:[[Bs,new c.FiY,new c.tp0]]},{provide:Vy,useValue:r||{}},r?.useHash?{provide:Oe,useClass:Et}:{provide:Oe,useClass:at},{provide:WC,useFactory:()=>{const n=(0,c.f3M)(Bs),e=(0,c.f3M)(Vl),t=(0,c.f3M)(Vy);return t.scrollOffset&&e.setOffset(t.scrollOffset),new s(n,e,t)}},r?.preloadingStrategy?je(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:rn},r?.initialNavigation?Bw(r):[],[{provide:$y,useFactory:T},{provide:c.tb,multi:!0,useExisting:$y}]]}}static forChild(t){return{ngModule:n,providers:[_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Jt,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[hg]}),n})();function Lw(n){return"guarded"}function Bw(n){return["disabled"===n.initialNavigation?f(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Bs);return()=>{e.setUpLocationChangeListener()}}},{provide:O,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?f(2,[{provide:O,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(J,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(Bs),g=e.get(E);(function i(a){e.get(Bs).events.pipe(ki(g=>g instanceof jd||g instanceof Wf||g instanceof sC),(0,xt.U)(g=>g instanceof jd||g instanceof Wf&&(0===g.code||1===g.code)&&null),ki(g=>null!==g),Hr(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),u.afterPreactivation=()=>(a(!0),r||g.closed?wt(void 0):g),u.initialNavigation()}))}}]).\u0275providers:[]]}const $y=new c.OlP(""),Uw=[{attribute_pewc:"pewc_group_89335_89339",name:'10.5"',glove:["infielder","pitcher"],seqNo:1},{attribute_pewc:"pewc_group_89335_89339",glove:["infielder","pitcher"],seqNo:2,name:'11"'},{seqNo:3,glove:["infielder","pitcher"],name:'11.5"',attribute_pewc:"pewc_group_89335_89339"},{glove:["infielder","pitcher"],seqNo:4,attribute_pewc:"pewc_group_89335_89339",name:'11.75"'},{attribute_pewc:"pewc_group_89335_89339",seqNo:5,glove:["infielder","pitcher"],name:'12"'},{seqNo:6,glove:["outfielder","pitcher","first base","1st base"],name:'12.5"',attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder"],name:'12.75"',seqNo:7,attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder","first base","1st base"],attribute_pewc:"pewc_group_89335_89339",name:'13"',seqNo:8},{seqNo:9,glove:["outfielder","first base","1st base"],attribute_pewc:"pewc_group_89335_89339",name:'14"'},{name:'32"',attribute_pewc:"pewc_group_89335_89339",seqNo:10,glove:[]},{seqNo:11,attribute_pewc:"pewc_group_89335_89339",name:'32.50"',glove:["catcher"]},{glove:[],attribute_pewc:"pewc_group_89335_89339",seqNo:12,name:'33"'},{seqNo:13,name:'33.50"',glove:["catcher"],attribute_pewc:"pewc_group_89335_89339"},{name:'34"',attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:14},{name:'34.50"',attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:15}],$w=[{seqNo:1,id:"main-",disabled:!1,includeOptions:!1,title:"Glove Type",label:"Glove Type:",variations:[{attribute_pewc:"pewc_group_89335_89336",name:"Baseball",label:"Glove Type"},{label:"Glove Type",name:"Softball",attribute_pewc:"pewc_group_89335_89336"}]},{seqNo:2,id:"main-",disabled:!1,includeOptions:!1,attribute_pewc:"pewc_group_89335_89338",title:"Glove Position",label:"Glove Position",variations:[{gloveType:"glove",label:"Field Position",attribute_pewc:"pewc_group_89335_89338",name:"Infielder",gloveBase:"inf"},{gloveType:"mitt",name:"Catcher",gloveBase:"catcher-mitt",attribute_pewc:"pewc_group_89335_89338",label:"Field Position"},{attribute_pewc:"pewc_group_89335_89338",label:"Field Position",name:"1st Base",gloveType:"mitt",gloveBase:"fbase"},{name:"Outfielder",attribute_pewc:"pewc_group_89335_89338",label:"Field Position",gloveBase:"of",gloveType:"glove"}]},{seqNo:3,id:"main-",disabled:!1,includeOptions:!1,attribute_pewc:"pewc_group_89335_89339",label:"Glove Size",title:"Glove Size",options:[],variations:[]},{seqNo:4,id:"main-",attribute_pewc:"pewc_group_89335_89340",disabled:!1,includeOptions:!1,label:"Throwing Arm",title:"Throwing Arm",options:[],variations:[{name:"Right Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340"},{name:"Left Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340"}]},{seqNo:5,id:"main-",disabled:!1,label:"Glove Brand",title:"Glove Brand",includeOptions:!0,options:[],variations:[{id:"pa_glove-brand",valueString:"NYStix",attribute_pewc:"pewc_group_89335_89341",img:"https://nystix.com/wp-content/uploads/2021/10/nystix.svg",value:"nystix",name:"NYStix"},{name:"9Positions",value:"9positions",attribute_pewc:"pewc_group_89335_89341",img:"https://nystix.com/wp-content/uploads/2021/10/nine-positions.svg",id:"pa_glove-brand",valueString:"9Positions"},{attribute_pewc:"pewc_group_89335_89341",img:"//nystix.com/wp-content/uploads/2021/10/nystix-alt.svg",value:"nystix-alt",valueString:"NYStix Alt",id:"pa_glove-brand",name:"NYStix Alt"}]},{seqNo:6,id:"main-",disabled:!1,includeOptions:!0,contents:[],title:"Glove Designer",label:"Glove Designer",options:[{id:"",type:"leather",title:"",label:"Surface Leather",header:"glove-design-",info:{description:null,label:null},input:"buttons",prompt:[{active:!0,title:"Glove Shell",elementRef:"radio",type:"leather",gloveInputs:[{glovePart:"thb",fingerId:"1",label:"Thumb Finger",gloveType:["mitt"],attribute_wp:"pa_thumb-finger-color",attribute_pewc:"pewc_group_89335_89342",required:!0,active:!0},{glovePart:"bfg",attribute_pewc:"pewc_group_89335_89343",label:"Back Finger",gloveType:["mitt"],fingerId:"2",attribute_wp:"pa_back-finger-color",required:!0,active:!0},{glovePart:"thbo",attribute_pewc:"pewc_group_89335_89344",gloveType:["glove"],label:"Thumb Outer",attribute_wp:"pa_thumb-outer-color",fingerId:"1",required:!0,active:!0},{attribute_wp:"pa_thumb-inner-color",glovePart:"thbi",label:"Thumb Inner",attribute_pewc:"pewc_group_89335_89345",gloveType:["glove"],fingerId:"2",required:!0,active:!0},{fingerId:"3",gloveType:["glove"],label:"Index Inner",glovePart:"indi",attribute_pewc:"pewc_group_89335_89346",attribute_wp:"pa_index-inside-color",required:!0,active:!0},{glovePart:"indo",attribute_wp:"pa_index-outer-color",fingerId:"4",gloveType:["glove"],label:"Index Outer",attribute_pewc:"pewc_group_89335_89347",required:!0,active:!0},{fingerId:"5",label:"Middle Inner",gloveType:["glove"],glovePart:"midi",attribute_pewc:"pewc_group_89335_89348",attribute_wp:"pa_middle-finger-color",required:!0,active:!0},{attribute_wp:"pa_middle-finger-color",fingerId:"5",glovePart:"mido",gloveType:["glove"],label:"Middle Outer",attribute_pewc:"pewc_group_89335_89349",required:!0,active:!0},{gloveType:["glove"],fingerId:"6",attribute_pewc:"pewc_group_89335_89350",label:"Ring Inner",attribute_wp:"pa_ring-inner-color",glovePart:"rngi",required:!0,active:!0},{attribute_wp:"pa_ring-outer-color",attribute_pewc:"pewc_group_89335_89351",fingerId:"7",label:"Ring Outer",glovePart:"rngo",gloveType:["glove"],required:!0,active:!0},{fingerId:"8",gloveType:["glove"],attribute_pewc:"pewc_group_89335_89352",glovePart:"pnki",label:"Pinky Inner",attribute_wp:"pa_pinky-inside-color",required:!0,active:!0},{label:"Pinky Outer",gloveType:["glove"],attribute_wp:"pa_pinky-outside-color",fingerId:"9",glovePart:"pnko",attribute_pewc:"pewc_group_89335_89353",required:!0,active:!0},{fingerId:"10",gloveType:["glove","mitt"],attribute_pewc:"pewc_group_89335_89354",label:"Wrist Color",attribute_wp:"pa_wrist-color",glovePart:"wst",required:!0,active:!0}],info:{description:null,label:null}},{title:"Glove Pocket",header:"glove-design-",type:"leather",elementRef:"radio",active:!0,info:{label:null,description:null},gloveInputs:[{attribute_pewc:"pewc_group_89335_89355",attribute_wp:"pa_palm-color",glovePart:"plm",gloveType:["glove","mitt"],fingerId:"11",label:"Palm Color",required:!0,active:!0},{attribute_pewc:"pewc_group_89335_90148",attribute_wp:"pa_lining-color",glovePart:"lin",gloveType:["glove","mitt"],fingerId:"11",label:"Lining",required:!0,active:!0,info:{label:null,description:"The palm lining is inside of the glove. The color will not be visible."}},{attribute_pewc:"pewc_group_89335_89356",attribute_wp:"pa_palm-color",glovePart:"tgt",gloveType:["mitt"],fingerId:"11",label:"Target Color",required:!1,active:!0}]},{title:"Finger Loop",header:"glove-design-",active:!1,type:"leather",elementRef:"radio",gloveInputs:[{attribute_wp:"",glovePart:"fstrap",attribute_pewc:"pewc_group_89335_89357",fingerId:"11",gloveType:["mitt","glove"],label:"Thumb/Little Finger Strap",required:!1,active:!1}],info:{label:null,description:"Finger loops are the laces that secure the thumbs and pinky fingers."}}]},{label:"Glove Web",header:"glove-web-",id:"static-",input:"buttons",type:"leather",info:{label:null,description:"Swipe to view all web options and select the web for your glove. "},prompt:[{active:!0,title:"Webs",attribute_pewc:"pewc_group_89335_89358",header:"",elementRef:"radio",type:"leather",gloveInputs:[{label:"Web Color",glovePart:"web",attribute_pewc:"pewc_group_89335_89359",fingerId:"13",attribute_wp:"pa_web-color",gloveType:["glove","mitt"],required:!0,active:!0},{attribute_pewc:"pewc_group_89335_89360",glovePart:"utoe",gloveType:["mitt"],attribute_wp:"pa_web-base-color",fingerId:"4",label:"Web Base Color",required:!0,active:!0}],info:{label:null,description:null}}]},{label:"Glove Binding, Lace & Welt",header:"glove-trim-",type:"leather",info:{label:null,description:"Select colors for binding, lace and welt. Selections are required."},input:"buttons",prompt:[{type:"leather",glovePart:"bnd",title:"Glove Trim",elementRef:"radio",active:!0,gloveInputs:[{attribute_wp:"pa_binding-color",attribute_pewc:"pewc_group_89335_89361",fingerId:"15",gloveType:["glove","mitt"],label:"Binding Color",glovePart:"bnd",required:!0,active:!0},{attribute_wp:"pa_lace-color",attribute_pewc:"pewc_group_89335_89362",gloveType:["glove","mitt"],fingerId:"14",label:"Lace Color",glovePart:"lce",required:!0,active:!0},{attribute_wp:"pa_welt-color",attribute_pewc:"pewc_group_89335_89363",gloveType:["glove","mitt"],fingerId:"13",label:"Welt Color",glovePart:"wlt",required:!0,active:!0}],info:{description:null,label:null}}]},{label:"Glove Embroidery and Stitching",title:"",header:"glove-thread-",type:"embroidery",info:{label:null,description:"In the Logo Color section, choose the thread color for the wrist logo and personalization. The stitching tread color will be used to bind the leather parts."},input:"buttons",prompt:[{active:!0,type:"embroidery",header:"",glovePart:"logo",title:"Embroidery",elementRef:"radio",gloveInputs:[{fingerId:"17",attribute_wp:"pa_nystix-logo-color",glovePart:"logo",label:"Logo Color",attribute_pewc:"pewc_group_89335_89364",gloveType:["mitt","glove"],required:!0,active:!0},{glovePart:"stch",gloveType:["glove","mitt"],label:"Stitching Color",fingerId:"16",attribute_wp:"pa_stitching-color",attribute_pewc:"pewc_group_89335_89365",required:!0,active:!0}],info:{label:null,description:null}}]},{id:"static-",title:"",prompt:[{title:"Finger Cover",active:!0,elementRef:"radio",header:"",info:{label:null,description:"Select the type of finger cover you want to add to your glove. It is not required to have a finger cover."},variations:[{attribute_pewc:"pewc_group_89335_89366",img:"https://nystix.com/wp-content/uploads/2020/11/no-pad-hood.jpg",name:"No Pad"},{name:"Finger Pad",attribute_pewc:"pewc_group_89335_89366",img:"https://nystix.com/wp-content/uploads/2020/11/nystix-finger-pad.jpg"},{img:"https://nystix.com/wp-content/uploads/2020/11/finger-hood.jpg",name:"F. Hood",attribute_pewc:"pewc_group_89335_89366"}],type:"leather",gloveInputs:[]},{title:"Pad/Hood Color",active:!0,type:"leather",elementRef:"radio",info:{label:'Not required if "No Pad" was selected in previous step.',description:"The color of the finger cover might not change in glove view."},gloveInputs:[{glovePart:"fpad",fingerId:"",attribute_pewc:"pewc_group_89335_89367",attribute_wp:"pa_finger-pad-color",label:"Finger Pad Color",gloveType:["mitt","glove"],required:!1,active:!0}]}],info:{label:null,description:null},input:"buttons",label:"Finger Protection",header:"finger-protector",type:"leather"},{title:"",label:"Glove Personalization",header:"glove-design-",input:"buttons",active:!0,info:{label:null,description:null},type:"leather",id:"static-",prompt:[{title:"Glove Personalization",info:{label:null,description:null},active:!0,gloveInputs:[{label:"Glove Personalization",glovePart:"lin",active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89368",elementRef:"text",attribute_wp:"pa_glove-personalization",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}},{elementRef:"text",attribute_pewc:"pewc_group_89335_89369",label:"Embroidery Font",fingerId:null,attribute_wp:"pa_embroidery-font",active:!0,required:!1,variations:[{name:"Script Font",attribute_pewc:"pewc_group_89335_51",label:"Glove Embroidery"},{name:"Block Font",attribute_pewc:"pewc_group_89335_51",label:"Glove Embroidery"}],glovePart:"",gloveType:["glove","mitt"],info:{label:null,description:null}},{label:"Customer Notes",glovePart:"lin",active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89568",elementRef:"text",attribute_wp:"pa_glove-personalization",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}}]}]}],variations:[]}];var di=G(5813);function sA(){return(0,si.e)((n,e)=>{let t,r=!1;n.subscribe((0,ir.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var qt,Al=G(2011),eF=(G(2476),G(3942)),Ve=G(5861),Gd=G(9681),Hy=G(4859),mg=G(1877),Mn=G(2090),TV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yf={},oA=oA||{},bn=TV||self;function qC(){}function ZC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var aA="closure_uid_"+(1e9*Math.random()>>>0),xV=0;function SV(n,e,t){return n.call.apply(n.bind,arguments)}function AV(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ka(n,e,t){return(Ka=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SV:AV).apply(null,arguments)}function KC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ya(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var u=Array(arguments.length-2),g=2;g<arguments.length;g++)u[g-2]=arguments[g];return e.prototype[i].apply(r,u)}}function _g(){this.s=this.s,this.o=this.o}var OV={};_g.prototype.s=!1,_g.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function EV(n){return Object.prototype.hasOwnProperty.call(n,aA)&&n[aA]||(n[aA]=++xV)}(this);delete OV[n]}},_g.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function lA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function nF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ZC(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function Ya(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ya.prototype.h=function(){this.defaultPrevented=!0};var MV=function(){if(!bn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bn.addEventListener("test",qC,e),bn.removeEventListener("test",qC,e)}catch{}return n}();function YC(n){return/^[\s\xa0]*$/.test(n)}var rF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function uA(n,e){return n<e?-1:n>e?1:0}function QC(){var n=bn.navigator;return n&&(n=n.userAgent)?n:""}function Gh(n){return-1!=QC().indexOf(n)}function cA(n){return cA[" "](n),n}cA[" "]=qC;var JC,n,FV=Gh("Opera"),jy=Gh("Trident")||Gh("MSIE"),iF=Gh("Edge"),dA=iF||jy,sF=Gh("Gecko")&&!(-1!=QC().toLowerCase().indexOf("webkit")&&!Gh("Edge"))&&!(Gh("Trident")||Gh("MSIE"))&&!Gh("Edge"),PV=-1!=QC().toLowerCase().indexOf("webkit")&&!Gh("Edge");function oF(){var n=bn.document;return n?n.documentMode:void 0}e:{var hA="",fA=(n=QC(),sF?/rv:([^\);]+)(\)|;)/.exec(n):iF?/Edge\/([\d\.]+)/.exec(n):jy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):PV?/WebKit\/(\S+)/.exec(n):FV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fA&&(hA=fA?fA[1]:""),jy){var pA=oF();if(null!=pA&&pA>parseFloat(hA)){JC=String(pA);break e}}JC=hA}var kV={};var BV=bn.document&&jy&&(oF()||parseInt(JC,10))||void 0;function jw(n,e){if(Ya.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(sF){e:{try{cA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VV[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jw.X.h.call(this)}}ya(jw,Ya);var VV={2:"touch",3:"pen",4:"mouse"};jw.prototype.h=function(){jw.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gw="closure_listenable_"+(1e6*Math.random()|0),UV=0;function $V(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++UV,this.ba=this.ea=!1}function XC(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function mA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function lF(n){const e={};for(const t in n)e[t]=n[t];return e}const uF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<uF.length;a++)t=uF[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function eT(n){this.src=n,this.g={},this.h=0}function _A(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=tF(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(XC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}eT.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=vA(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new $V(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var yA="closure_lm_"+(1e6*Math.random()|0),bA={};function dF(n,e,t,r,i){if(r&&r.once)return fF(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)dF(n,e[a],t,r,i);return null}return t=CA(t),n&&n[Gw]?n.N(e,t,Hw(r)?!!r.capture:!!r,i):hF(n,e,t,!1,r,i)}function hF(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Hw(i)?!!i.capture:!!i,g=DA(n);if(g||(n[yA]=g=new eT(n)),(t=g.add(e,t,r,u,a)).proxy)return t;if(r=function HV(){const e=jV;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)MV||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(gF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function fF(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)fF(n,e[a],t,r,i);return null}return t=CA(t),n&&n[Gw]?n.O(e,t,Hw(r)?!!r.capture:!!r,i):hF(n,e,t,!0,r,i)}function pF(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)pF(n,e[a],t,r,i);else r=Hw(r)?!!r.capture:!!r,t=CA(t),n&&n[Gw]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vA(a=n.g[e],t,r,i))&&(XC(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=DA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vA(e,t,r,i)),(t=-1<n?e[n]:null)&&wA(t))}function wA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Gw])_A(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(gF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=DA(e))?(_A(t,n),0==t.h&&(t.src=null,e[yA]=null)):XC(n)}}}function gF(n){return n in bA?bA[n]:bA[n]="on"+n}function jV(n,e){if(n.ba)n=!0;else{e=new jw(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&wA(n),n=t.call(r,e)}return n}function DA(n){return(n=n[yA])instanceof eT?n:null}var IA="__closure_events_fn_"+(1e9*Math.random()>>>0);function CA(n){return"function"==typeof n?n:(n[IA]||(n[IA]=function(e){return n.handleEvent(e)}),n[IA])}function jo(){_g.call(this),this.i=new eT(this),this.P=this,this.I=null}function ba(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ya(e,n);else if(e instanceof Ya)e.target=e.target||n;else{var i=e;cF(e=new Ya(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=tT(u,r,!0,e)&&i}if(i=tT(u=e.g=n,r,!0,e)&&i,i=tT(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=tT(u=e.g=t[a],r,!1,e)&&i}function tT(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var g=u.listener,y=u.ha||u.src;u.ea&&_A(n.i,u),i=!1!==g.call(y,r)&&i}}return i&&!r.defaultPrevented}ya(jo,_g),jo.prototype[Gw]=!0,jo.prototype.removeEventListener=function(n,e,t,r){pF(this,n,e,t,r)},jo.prototype.M=function(){if(jo.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)XC(t[r]);delete n.g[e],n.h--}}this.I=null},jo.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},jo.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var TA=bn.JSON.stringify;function GV(){var n=vF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var EA,mF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zV,n=>n.reset());class zV{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qV(n){bn.setTimeout(()=>{throw n},0)}function _F(n,e){EA||function ZV(){var n=bn.Promise.resolve(void 0);EA=function(){n.then(KV)}}(),xA||(EA(),xA=!0),vF.add(n,e)}var xA=!1,vF=new class WV{constructor(){this.h=this.g=null}add(e,t){const r=mF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function KV(){for(var n;n=GV();){try{n.h.call(n.g)}catch(t){qV(t)}var e=mF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xA=!1}function nT(n,e){jo.call(this),this.h=n||1,this.g=e||bn,this.j=Ka(this.kb,this),this.l=Date.now()}function SA(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function AA(n,e,t){if("function"==typeof n)t&&(n=Ka(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ka(n.handleEvent,n)}return 2147483647<Number(e)?-1:bn.setTimeout(n,e||0)}function yF(n){n.g=AA(()=>{n.g=null,n.i&&(n.i=!1,yF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ya(nT,jo),(qt=nT.prototype).ca=!1,qt.R=null,qt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ba(this,"tick"),this.ca&&(SA(this),this.start()))}},qt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.M=function(){nT.X.M.call(this),SA(this),delete this.g};class YV extends _g{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yF(this)}M(){super.M(),this.g&&(bn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ww(n){_g.call(this),this.h=n,this.g={}}ya(Ww,_g);var bF=[];function wF(n,e,t,r){Array.isArray(t)||(t&&(bF[0]=t.toString()),t=bF);for(var i=0;i<t.length;i++){var a=dF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function DF(n){mA(n.g,function(e,t){this.g.hasOwnProperty(t)&&wA(e)},n),n.g={}}function rT(){this.g=!0}function Gy(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function e5(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return TA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ww.prototype.M=function(){Ww.X.M.call(this),DF(this)},Ww.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rT.prototype.Aa=function(){this.g=!1},rT.prototype.info=function(){};var s_={},IF=null;function iT(){return IF=IF||new jo}function CF(n){Ya.call(this,s_.Oa,n)}function zw(n){const e=iT();ba(e,new CF(e,n))}function TF(n,e){Ya.call(this,s_.STAT_EVENT,n),this.stat=e}function Nl(n){const e=iT();ba(e,new TF(e,n))}function EF(n,e){Ya.call(this,s_.Pa,n),this.size=e}function qw(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bn.setTimeout(function(){n()},e)}s_.Oa="serverreachability",ya(CF,Ya),s_.STAT_EVENT="statevent",ya(TF,Ya),s_.Pa="timingevent",ya(EF,Ya);var sT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},xF={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function NA(){}function AF(){}NA.prototype.h=null;var RA,Zw={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function OA(){Ya.call(this,"d")}function MA(){Ya.call(this,"c")}function oT(){}function Kw(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Ww(this),this.O=t5,this.T=new nT(n=dA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new NF}function NF(){this.i=null,this.g="",this.h=!1}ya(OA,Ya),ya(MA,Ya),ya(oT,NA),oT.prototype.g=function(){return new XMLHttpRequest},oT.prototype.i=function(){return{}},RA=new oT;var t5=45e3,FA={},aT={};function PA(n,e,t){n.K=1,n.v=dT(Qf(e)),n.s=t,n.P=!0,OF(n,null)}function OF(n,e){n.F=Date.now(),Yw(n),n.A=Qf(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),$F(t.i,"t",r),n.C=0,t=n.l.H,n.h=new NF,n.g=dP(n.l,t?e:null,!n.s),0<n.N&&(n.L=new YV(Ka(n.Ka,n,n.g),n.N)),wF(n.S,n.g,"readystatechange",n.hb),e=n.H?lF(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),zw(1),function QV(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",g=a.split("&"),y=0;y<g.length;y++){var C=g[y].split("=");if(1<C.length){var S=C[0];C=C[1];var R=S.split("_");u=2<=R.length&&"type"==R[1]?u+(S+"=")+C+"&":u+(S+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function MF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function RF(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=n5(n,t),i==aT){4==e&&(n.o=4,Nl(14),r=!1),Gy(n.j,n.m,null,"[Incomplete Response]");break}if(i==FA){n.o=4,Nl(15),Gy(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Gy(n.j,n.m,i,null),kA(n,i)}MF(n)&&i!=aT&&i!=FA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Nl(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),GA(e),e.K=!0,Nl(11))):(Gy(n.j,n.m,t,"[Invalid Chunked Response]"),o_(n),Qw(n))}function n5(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?aT:(t=Number(e.substring(t,r)),isNaN(t)?FA:(r+=1)+t>e.length?aT:(e=e.substr(r,t),n.C=r+t,e))}function Yw(n){n.V=Date.now()+n.O,FF(n,n.O)}function FF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qw(Ka(n.fb,n),e)}function lT(n){n.B&&(bn.clearTimeout(n.B),n.B=null)}function Qw(n){0==n.l.G||n.I||aP(n.l,n)}function o_(n){lT(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,SA(n.T),DF(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function kA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||LA(t.h,n)))if(!n.J&&LA(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;_T(t),gT(t)}jA(t),Nl(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=qw(Ka(t.bb,t),6e3));if(1>=GF(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else l_(t,11)}else if((n.J||t.g==n)&&_T(t),!YC(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const S=C[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const R=C[4];null!=R&&(t.Ca=R,t.j.info("SVER="+t.Ca));const j=C[5];null!=j&&"number"==typeof j&&0<j&&(t.J=r=1.5*j,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const ue=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var a=r.h;a.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(BA(a,a.h),a.h=null))}if(r.D){const _e=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;_e&&(r.za=_e,Zi(r.F,r.D,_e))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=cP(r,r.H?r.ka:null,r.V),u.J){WF(r.h,u);var g=u,y=r.J;y&&g.setTimeout(y),g.B&&(lT(g),Yw(g)),r.g=u}else sP(r);0<t.i.length&&mT(t)}else"stop"!=C[0]&&"close"!=C[0]||l_(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?l_(t,7):HA(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}zw(4)}catch{}}function PF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ZC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function i5(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ZC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function r5(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ZC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(qt=Kw.prototype).setTimeout=function(n){this.O=n},qt.hb=function(n){n=n.target;const e=this.L;e&&3==Jf(n)?e.l():this.Ka(n)},qt.Ka=function(n){try{if(n==this.g)e:{const S=Jf(this.g);var e=this.g.Ea();const R=this.g.aa();if(!(3>S)&&(3!=S||dA||this.g&&(this.h.h||this.g.fa()||XF(this.g)))){this.I||4!=S||7==e||zw(8==e||0>=R?3:2),lT(this);var t=this.g.aa();this.Y=t;t:if(MF(this)){var r=XF(this.g);n="";var i=r.length,a=4==Jf(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){o_(this),Qw(this);var u="";break t}this.h.i=new bn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function JV(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!YC(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Nl(12),o_(this),Qw(this);break e}Gy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kA(this,t)}this.P?(RF(this,S,u),dA&&this.i&&3==S&&(wF(this.S,this.T,"tick",this.gb),this.T.start())):(Gy(this.j,this.m,u,null),kA(this,u)),4==S&&o_(this),this.i&&!this.I&&(4==S?aP(this.l,this):(this.i=!1,Yw(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Nl(12)):(this.o=0,Nl(13)),o_(this),Qw(this)}}}catch{}},qt.gb=function(){if(this.g){var n=Jf(this.g),e=this.g.fa();this.C<e.length&&(lT(this),RF(this,n,e),this.i&&4!=n&&Yw(this))}},qt.cancel=function(){this.I=!0,o_(this)},qt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function XV(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zw(3),Nl(17)),o_(this),this.o=2,Qw(this)):FF(this,this.V-n)};var kF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a_(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof a_){this.h=void 0!==e?e:n.h,uT(this,n.j),this.s=n.s,this.g=n.g,cT(this,n.m),this.l=n.l,e=n.i;var t=new e1;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),LF(this,t),this.o=n.o}else n&&(t=String(n).match(kF))?(this.h=!!e,uT(this,t[1]||"",!0),this.s=Jw(t[2]||""),this.g=Jw(t[3]||"",!0),cT(this,t[4]),this.l=Jw(t[5]||"",!0),LF(this,t[6]||"",!0),this.o=Jw(t[7]||"")):(this.h=!!e,this.i=new e1(null,this.h))}function Qf(n){return new a_(n)}function uT(n,e,t){n.j=t?Jw(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function LF(n,e,t){e instanceof e1?(n.i=e,function d5(n,e){e&&!n.j&&(vg(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(VF(this,r),$F(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Xw(e,u5)),n.i=new e1(e,n.h))}function Zi(n,e,t){n.i.set(e,t)}function dT(n){return Zi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jw(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xw(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,o5),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function o5(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}a_.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Xw(e,BF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Xw(e,BF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Xw(t,"/"==t.charAt(0)?l5:a5,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Xw(t,c5)),n.join("")};var BF=/[#\/\?@]/g,a5=/[#\?:]/g,l5=/[#\?]/g,u5=/[#\?@]/g,c5=/#/g;function e1(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vg(n){n.g||(n.g=new Map,n.h=0,n.i&&function s5(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function VF(n,e){vg(n),e=Wy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function UF(n,e){return vg(n),e=Wy(n,e),n.g.has(e)}function $F(n,e,t){VF(n,e),0<t.length&&(n.i=null,n.g.set(Wy(n,e),lA(t)),n.h+=t.length)}function Wy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function HF(n){this.l=n||f5,n=bn.PerformanceNavigationTiming?0<(n=bn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bn.g&&bn.g.Ga&&bn.g.Ga()&&bn.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qt=e1.prototype).add=function(n,e){vg(this),this.i=null,n=Wy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qt.forEach=function(n,e){vg(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},qt.oa=function(){vg(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},qt.W=function(n){vg(this);let e=[];if("string"==typeof n)UF(this,n)&&(e=e.concat(this.g.get(Wy(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},qt.set=function(n,e){return vg(this),this.i=null,UF(this,n=Wy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var f5=10;function jF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function GF(n){return n.h?1:n.g?n.g.size:0}function LA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function BA(n,e){n.g?n.g.add(e):n.h=e}function WF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function zF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return lA(n.i)}function VA(){}function p5(){this.g=new VA}function g5(n,e,t){const r=t||"";try{PF(n,function(i,a){let u=i;Hw(i)&&(u=TA(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hT(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function t1(n){this.l=n.$b||null,this.j=n.ib||!1}function fT(n,e){jo.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=UA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}HF.prototype.cancel=function(){if(this.i=zF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},VA.prototype.stringify=function(n){return bn.JSON.stringify(n,void 0)},VA.prototype.parse=function(n){return bn.JSON.parse(n,void 0)},ya(t1,NA),t1.prototype.g=function(){return new fT(this.l,this.j)},t1.prototype.i=function(n){return function(){return n}}({}),ya(fT,jo);var UA=0;function qF(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function n1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,r1(n)}function r1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qt=fT.prototype).open=function(n,e){if(this.readyState!=UA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,r1(this)},qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||bn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,n1(this)),this.readyState=UA},qt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,r1(this)),this.g&&(this.readyState=3,r1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof bn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qF(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},qt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?n1(this):r1(this),3==this.readyState&&qF(this)}},qt.Ua=function(n){this.g&&(this.response=this.responseText=n,n1(this))},qt.Ta=function(n){this.g&&(this.response=n,n1(this))},qt.ga=function(){this.g&&n1(this)},qt.setRequestHeader=function(n,e){this.v.append(n,e)},qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _5=bn.JSON.parse;function io(n){jo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZF,this.K=this.L=!1}ya(io,jo);var ZF="",v5=/^https?$/i,y5=["POST","PUT"];function KF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,YF(n),pT(n)}function YF(n){n.D||(n.D=!0,ba(n,"complete"),ba(n,"error"))}function QF(n){if(n.h&&typeof oA<"u"&&(!n.C[1]||4!=Jf(n)||2!=n.aa()))if(n.v&&4==Jf(n))AA(n.Ha,0,n);else if(ba(n,"readystatechange"),4==Jf(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(kF)[1]||null;if(!i&&bn.self&&bn.self.location){var a=bn.self.location.protocol;i=a.substr(0,a.length-1)}r=!v5.test(i?i.toLowerCase():"")}t=r}if(t)ba(n,"complete"),ba(n,"success");else{n.m=6;try{var u=2<Jf(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",YF(n)}}finally{pT(n)}}}function pT(n,e){if(n.g){JF(n);const t=n.g,r=n.C[0]?qC:null;n.g=null,n.C=null,e||ba(n,"ready");try{t.onreadystatechange=r}catch{}}}function JF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(bn.clearTimeout(n.A),n.A=null)}function Jf(n){return n.g?n.g.readyState:0}function XF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ZF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function eP(n){let e="";return mA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function $A(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=eP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zi(n,e,t))}function i1(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function tP(n){this.Ca=0,this.i=[],this.j=new rT,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=i1("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=i1("baseRetryDelayMs",5e3,n),this.ab=i1("retryDelaySeedMs",1e4,n),this.Za=i1("forwardChannelMaxRetries",2,n),this.ta=i1("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new HF(n&&n.concurrentRequestLimit),this.Fa=new p5,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function HA(n){if(nP(n),3==n.G){var e=n.U++,t=Qf(n.F);Zi(t,"SID",n.I),Zi(t,"RID",e),Zi(t,"TYPE","terminate"),s1(n,t),(e=new Kw(n,n.j,e,void 0)).K=2,e.v=dT(Qf(t)),t=!1,bn.navigator&&bn.navigator.sendBeacon&&(t=bn.navigator.sendBeacon(e.v.toString(),"")),!t&&bn.Image&&((new Image).src=e.v,t=!0),t||(e.g=dP(e.l,null),e.g.da(e.v)),e.F=Date.now(),Yw(e)}uP(n)}function gT(n){n.g&&(GA(n),n.g.cancel(),n.g=null)}function nP(n){gT(n),n.u&&(bn.clearTimeout(n.u),n.u=null),_T(n),n.h.cancel(),n.m&&("number"==typeof n.m&&bn.clearTimeout(n.m),n.m=null)}function mT(n){jF(n.h)||n.m||(n.m=!0,_F(n.Ja,n),n.C=0)}function rP(n,e){var t;t=e?e.m:n.U++;const r=Qf(n.F);Zi(r,"SID",n.I),Zi(r,"RID",t),Zi(r,"AID",n.T),s1(n,r),n.o&&n.s&&$A(r,n.o,n.s),t=new Kw(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=iP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),BA(n.h,t),PA(t,r,e)}function s1(n,e){n.ia&&mA(n.ia,function(t,r){Zi(e,r,t)}),n.l&&PF({},function(t,r){Zi(e,r,t)})}function iP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ka(n.l.Qa,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let g=!0;for(let y=0;y<t;y++){let C=i[y].h;const S=i[y].g;if(C-=a,0>C)a=Math.max(0,i[y].h-100),g=!1;else try{g5(S,u,"req"+C+"_")}catch{r&&r(S)}}if(g){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function sP(n){n.g||n.u||(n.Z=1,_F(n.Ia,n),n.A=0)}function jA(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=qw(Ka(n.Ia,n),lP(n,n.A)),n.A++,0))}function GA(n){null!=n.B&&(bn.clearTimeout(n.B),n.B=null)}function oP(n){n.g=new Kw(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Qf(n.sa);Zi(e,"RID","rpc"),Zi(e,"SID",n.I),Zi(e,"CI",n.L?"0":"1"),Zi(e,"AID",n.T),Zi(e,"TYPE","xmlhttp"),s1(n,e),n.o&&n.s&&$A(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=dT(Qf(e)),t.s=null,t.P=!0,OF(t,n)}function _T(n){null!=n.v&&(bn.clearTimeout(n.v),n.v=null)}function aP(n,e){var t=null;if(n.g==e){_T(n),GA(n),n.g=null;var r=2}else{if(!LA(n.h,e))return;t=e.D,WF(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ba(r=iT(),new EF(r,t,e,i)),mT(n)}else sP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function w5(n,e){return!(GF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=qw(Ka(n.Ja,n,e),lP(n,n.C)),n.C++,0)))}(n,e)||2==r&&jA(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:l_(n,5);break;case 4:l_(n,10);break;case 3:l_(n,6);break;default:l_(n,2)}}function lP(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function l_(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ka(n.jb,n);t||(t=new a_("//www.google.com/images/cleardot.gif"),bn.location&&"http"==bn.location.protocol||uT(t,"https"),dT(t)),function m5(n,e){const t=new rT;if(bn.Image){const r=new Image;r.onload=KC(hT,t,r,"TestLoadImage: loaded",!0,e),r.onerror=KC(hT,t,r,"TestLoadImage: error",!1,e),r.onabort=KC(hT,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=KC(hT,t,r,"TestLoadImage: timeout",!1,e),bn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Nl(2);n.G=0,n.l&&n.l.va(e),uP(n),nP(n)}function uP(n){if(n.G=0,n.la=[],n.l){const e=zF(n.h);(0!=e.length||0!=n.i.length)&&(nF(n.la,e),nF(n.la,n.i),n.h.i.length=0,lA(n.i),n.i.length=0),n.l.ua()}}function cP(n,e,t){var r=t instanceof a_?Qf(t):new a_(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),cT(r,r.m);else{var i=bn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new a_(null,void 0);r&&uT(a,r),e&&(a.g=e),i&&cT(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Zi(r,t,e),Zi(r,"VER",n.ma),s1(n,r),r}function dP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new io(t&&n.Da&&!n.ra?new t1({ib:!0}):n.ra)).L=n.H,e}function hP(){}function vT(){if(jy&&!(10<=Number(BV)))throw Error("Environmental error: no available transport.")}function nc(n,e){jo.call(this),this.g=new tP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!YC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!YC(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new zy(this)}function fP(n){OA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function pP(){MA.call(this),this.status=1}function zy(n){this.g=n}(qt=io.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():RA.g(),this.C=function SF(n){return n.h||(n.h=n.i())}(this.u?this.u:RA),this.g.onreadystatechange=Ka(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void KF(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=bn.FormData&&n instanceof bn.FormData,!(0<=tF(y5,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{JF(this),0<this.B&&((this.K=function b5(n){return jy&&function LV(){return function RV(n){var e=kV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=rF(String(JC)).split("."),t=rF("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=uA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||uA(0==i[2].length,0==a[2].length)||uA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ka(this.qa,this)):this.A=AA(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){KF(this,a)}},qt.qa=function(){typeof oA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ba(this,"timeout"),this.abort(8))},qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ba(this,"complete"),ba(this,"abort"),pT(this))},qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pT(this,!0)),io.X.M.call(this)},qt.Ha=function(){this.s||(this.F||this.v||this.l?QF(this):this.eb())},qt.eb=function(){QF(this)},qt.aa=function(){try{return 2<Jf(this)?this.g.status:-1}catch{return-1}},qt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},qt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_5(e)}},qt.Ea=function(){return this.m},qt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=tP.prototype).ma=8,qt.G=1,qt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Kw(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=lF(a),cF(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=iP(this,i,e),Zi(t=Qf(this.F),"RID",n),Zi(t,"CVER",22),this.D&&Zi(t,"X-HTTP-Session-Id",this.D),s1(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(eP(a)))+"&"+e:this.o&&$A(t,this.o,a)),BA(this.h,i),this.Xa&&Zi(t,"TYPE","init"),this.O?(Zi(t,"$req",e),Zi(t,"SID","null"),i.Z=!0,PA(i,t,null)):PA(i,t,e),this.G=2}}else 3==this.G&&(n?rP(this,n):0==this.i.length||jF(this.h)||rP(this))},qt.Ia=function(){if(this.u=null,oP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=qw(Ka(this.cb,this),n)}},qt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Nl(10),gT(this),oP(this))},qt.bb=function(){null!=this.v&&(this.v=null,gT(this),jA(this),Nl(19))},qt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Nl(2)):(this.j.info("Failed to ping google.com"),Nl(1))},(qt=hP.prototype).xa=function(){},qt.wa=function(){},qt.va=function(){},qt.ua=function(){},qt.Qa=function(){},vT.prototype.g=function(n,e){return new nc(n,e)},ya(nc,jo),nc.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Nl(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=cP(n,null,n.V),mT(n)},nc.prototype.close=function(){HA(this.g)},nc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=TA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&mT(e)},nc.prototype.M=function(){this.g.l=null,delete this.j,HA(this.g),delete this.g,nc.X.M.call(this)},ya(fP,OA),ya(pP,MA),ya(zy,hP),zy.prototype.xa=function(){ba(this.g,"a")},zy.prototype.wa=function(n){ba(this.g,new fP(n))},zy.prototype.va=function(n){ba(this.g,new pP(n))},zy.prototype.ua=function(){ba(this.g,"b")},vT.prototype.createWebChannel=vT.prototype.g,nc.prototype.send=nc.prototype.u,nc.prototype.open=nc.prototype.m,nc.prototype.close=nc.prototype.close,sT.NO_ERROR=0,sT.TIMEOUT=8,sT.HTTP_ERROR=6,xF.COMPLETE="complete",AF.EventType=Zw,Zw.OPEN="a",Zw.CLOSE="b",Zw.ERROR="c",Zw.MESSAGE="d",jo.prototype.listen=jo.prototype.N,io.prototype.listenOnce=io.prototype.O,io.prototype.getLastError=io.prototype.Na,io.prototype.getLastErrorCode=io.prototype.Ea,io.prototype.getStatus=io.prototype.aa,io.prototype.getResponseJson=io.prototype.Ra,io.prototype.getResponseText=io.prototype.fa,io.prototype.send=io.prototype.da;var D5=Yf.createWebChannelTransport=function(){return new vT},I5=Yf.getStatEventTarget=function(){return iT()},WA=Yf.ErrorCode=sT,C5=Yf.EventType=xF,T5=Yf.Event=s_,gP=Yf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},E5=Yf.FetchXmlHttpFactory=t1,yT=Yf.WebChannel=AF,x5=Yf.XhrIo=io;const mP="@firebase/firestore";class Go{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Go.UNAUTHENTICATED=new Go(null),Go.GOOGLE_CREDENTIALS=new Go("google-credentials-uid"),Go.FIRST_PARTY=new Go("first-party-uid"),Go.MOCK_USER=new Go("mock-user");let qy="9.10.0";const yg=new mg.Yd("@firebase/firestore");function zA(){return yg.logLevel}function lt(n,...e){if(yg.logLevel<=mg.in.DEBUG){const t=e.map(qA);yg.debug(`Firestore (${qy}): ${n}`,...t)}}function Vs(n,...e){if(yg.logLevel<=mg.in.ERROR){const t=e.map(qA);yg.error(`Firestore (${qy}): ${n}`,...t)}}function u_(n,...e){if(yg.logLevel<=mg.in.WARN){const t=e.map(qA);yg.warn(`Firestore (${qy}): ${n}`,...t)}}function qA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Bt(n="Unexpected state"){const e=`FIRESTORE (${qy}) INTERNAL ASSERTION FAILED: `+n;throw Vs(e),new Error(e)}function pn(n,e){n||Bt()}function At(n,e){return n}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _P{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Go.UNAUTHENTICATED))}shutdown(){}}class O5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class M5{constructor(e){this.t=e,this.currentUser=Go.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=C=>this.i!==i?(i=this.i,t(C)):Promise.resolve();let u=new Wo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wo,e.enqueueRetryable(()=>a(this.currentUser))};const g=()=>{const C=u;e.enqueueRetryable((0,Ve.Z)(function*(){yield C.promise,yield a(r.currentUser)}))},y=C=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>y(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?y(C):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wo)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pn("string"==typeof r.accessToken),new _P(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pn(null===e||"string"==typeof e),new Go(e)}}class R5{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Go.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(pn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class F5{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new R5(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Go.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P5{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,lt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pn("string"==typeof t.token),this.A=t.token,new vP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function k5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class yP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=k5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function wn(n,e){return n<e?-1:n>e?1:0}function Zy(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function bP(n){return n+"\0"}class Ki{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new et(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ki.fromMillis(Date.now())}static fromDate(e){return Ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ki(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wn(this.nanoseconds,e.nanoseconds):wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ln(e)}static min(){return new ln(new Ki(0,0))}static max(){return new ln(new Ki(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class o1{constructor(e,t,r){void 0===t?t=0:t>e.length&&Bt(),void 0===r?r=e.length-t:r>e.length-t&&Bt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===o1.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof o1?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _r extends o1{construct(e,t,r){return new _r(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new et(Fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _r(t)}static emptyPath(){return new _r([])}}const L5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ys extends o1{construct(e,t,r){return new ys(e,t,r)}static isValidIdentifier(e){return L5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ys.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ys(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new et(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new et(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new et(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===g?(u=!u,i++):"."!==g||u?(r+=g,i++):(a(),i++)}if(a(),u)throw new et(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ys(t)}static emptyPath(){return new ys([])}}class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(_r.fromString(e))}static fromName(e){return new Ct(_r.fromString(e).popFirst(5))}static empty(){return new Ct(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_r.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _r.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new _r(e.slice()))}}class bT{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function ZA(n){return n.fields.find(e=>2===e.kind)}function c_(n){return n.fields.filter(e=>2!==e.kind)}bT.UNKNOWN_ID=-1;class wT{constructor(e,t){this.fieldPath=e,this.kind=t}}class a1{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new a1(0,rc.min())}}function wP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ln.fromTimestamp(1e9===r?new Ki(t+1,0):new Ki(t,r));return new rc(i,Ct.empty(),e)}function DP(n){return new rc(n.readTime,n.key,-1)}class rc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rc(ln.min(),Ct.empty(),-1)}static max(){return new rc(ln.max(),Ct.empty(),-1)}}function KA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ct.comparator(n.documentKey,e.documentKey),0!==t?t:wn(n.largestBatchId,e.largestBatchId))}const IP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function bg(n){return YA.apply(this,arguments)}function YA(){return YA=(0,Ve.Z)(function*(n){if(n.code!==Fe.FAILED_PRECONDITION||n.message!==IP)throw n;lt("LocalStore","Unexpectedly lost primary lease")}),YA.apply(this,arguments)}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,r)=>{t(e)})}static reject(e){return new Se((t,r)=>{r(e)})}static waitFor(e){return new Se((t,r)=>{let i=0,a=0,u=!1;e.forEach(g=>{++i,g.next(()=>{++a,u&&a===i&&t()},y=>r(y))}),u=!0,a===i&&t()})}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next(i=>i?Se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Se((r,i)=>{const a=e.length,u=new Array(a);let g=0;for(let y=0;y<a;y++){const C=y;t(e[C]).next(S=>{u[C]=S,++g,g===a&&r(u)},S=>i(S))}})}static doWhile(e,t){return new Se((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class DT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Wo,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new l1(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=QA(r.target.error);this.P.reject(new l1(e,i))}}static open(e,t,r,i){try{return new DT(t,e.transaction(i,r))}catch(a){throw new l1(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $5(t)}}class Wd{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Wd.D((0,Mn.z$)())&&Vs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lt("SimpleDb","Removing database:",e),d_(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Mn.hl)())return!1;if(Wd.N())return!0;const e=(0,Mn.z$)(),t=Wd.D(e),r=0<t&&t<10,i=Wd.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ve.Z)(function*(){return t.db||(lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new l1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const g=u.target.error;i("VersionError"===g.name?new et(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new et(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new l1(e,g))},a.onupgradeneeded=u=>{lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ve.Z)(function*(){const u="readonly"===t;let g=0;for(;;){++g;try{a.db=yield a.F(e);const y=DT.open(a.db,e,u?"readonly":"readwrite",r),C=i(y).next(S=>(y.V(),S)).catch(S=>(y.abort(S),Se.reject(S))).toPromise();return C.catch(()=>{}),yield y.v,C}catch(y){const C=y,S="FirebaseError"!==C.name&&g<3;if(lt("SimpleDb","Transaction failed with error:",C.message,"Retrying:",S),a.close(),!S)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class U5{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return d_(this.U.delete())}}class l1 extends et{constructor(e,t){super(Fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wg(n){return"IndexedDbTransactionError"===n.name}class $5{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(lt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),d_(r)}add(e){return lt("SimpleDb","ADD",this.store.name,e,e),d_(this.store.add(e))}get(e){return d_(this.store.get(e)).next(t=>(void 0===t&&(t=null),lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return lt("SimpleDb","DELETE",this.store.name,e),d_(this.store.delete(e))}count(){return lt("SimpleDb","COUNT",this.store.name),d_(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(u,g)=>{a.push(g)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Se((a,u)=>{i.onerror=g=>{u(g.target.error)},i.onsuccess=g=>{a(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Se((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){lt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,u,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new Se((r,i)=>{t.onerror=a=>{const u=QA(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(g=>{g?u.continue():r()}):r()}})}H(e,t){const r=[];return new Se((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const g=u.target.result;if(!g)return void i();const y=new U5(g),C=t(g.primaryKey,g.value,y);if(C instanceof Se){const S=C.catch(R=>(y.done(),Se.reject(R)));r.push(S)}y.isDone?i():null===y.G?g.continue():g.continue(y.G)}}).next(()=>Se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function d_(n){return new Se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=QA(r.target.error);t(i)}})}let TP=!1;function QA(n){const e=Wd.D((0,Mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TP||(TP=!0,setTimeout(()=>{throw r},0)),r}}return n}class H5{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ve.Z)(function*(){t.task=null;try{lt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){wg(r)?lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield bg(r)}yield t.nt(6e4)}))}}class j5{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return Se.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return lt("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(g=>{i-=g,r.add(u)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,a)).next(g=>(lt("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=DP(a);KA(u,r)>0&&(r=u)}),new rc(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class cu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function EP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function h_(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}cu.at=-1;class bs{constructor(e,t){this.comparator=e,this.root=t||wa.EMPTY}insert(e,t){return new bs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wa.BLACK,null,null))}remove(e){return new bs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new IT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new IT(this.root,e,this.comparator,!1)}getReverseIterator(){return new IT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new IT(this.root,e,this.comparator,!0)}}class IT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wa{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??wa.RED,this.left=i??wa.EMPTY,this.right=a??wa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new wa(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return wa.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}wa.EMPTY=null,wa.RED=!0,wa.BLACK=!1,wa.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new wa(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hi{constructor(e){this.comparator=e,this.data=new bs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SP(this.data.getIterator())}getIteratorFrom(e){return new SP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof hi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hi(this.comparator);return t.data=e,t}}class SP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ky(n){return n.hasNext()?n.getNext():void 0}class ic{constructor(e){this.fields=e,e.sort(ys.comparator)}static empty(){return new ic([])}unionWith(e){let t=new hi(ys.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ic(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wo(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new wo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wo.EMPTY_BYTE_STRING=new wo("");const W5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dg(n){if(pn(!!n),"string"==typeof n){let e=0;const t=W5.exec(n);if(pn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ws(n.seconds),nanos:ws(n.nanos)}}function ws(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function f_(n){return"string"==typeof n?wo.fromBase64String(n):wo.fromUint8Array(n)}function JA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function AP(n){const e=n.mapValue.fields.__previous_value__;return JA(e)?AP(e):e}function u1(n){const e=Dg(n.mapValue.fields.__local_write_time__.timestampValue);return new Ki(e.seconds,e.nanos)}class z5{constructor(e,t,r,i,a,u,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class Ig{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ig("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ig&&e.projectId===this.projectId&&e.database===this.database}}function c1(n){return null==n}function d1(n){return 0===n&&1/n==-1/0}function NP(n){return"number"==typeof n&&Number.isInteger(n)&&!d1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Cg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},CT={nullValue:"NULL_VALUE"};function p_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?JA(n)?4:FP(n)?9007199254740991:10:Bt()}function Wh(n,e){if(n===e)return!0;const t=p_(n);if(t!==p_(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return u1(n).isEqual(u1(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Dg(r.timestampValue),u=Dg(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,f_(n.bytesValue).isEqual(f_(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ws(r.geoPointValue.latitude)===ws(i.geoPointValue.latitude)&&ws(r.geoPointValue.longitude)===ws(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ws(r.integerValue)===ws(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=ws(r.doubleValue),u=ws(i.doubleValue);return a===u?d1(a)===d1(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Zy(n.arrayValue.values||[],e.arrayValue.values||[],Wh);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(EP(a)!==EP(u))return!1;for(const g in a)if(a.hasOwnProperty(g)&&(void 0===u[g]||!Wh(a[g],u[g])))return!1;return!0}(n,e);default:return Bt()}var i}function h1(n,e){return void 0!==(n.values||[]).find(t=>Wh(t,e))}function Tg(n,e){if(n===e)return 0;const t=p_(n),r=p_(e);if(t!==r)return wn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=ws(i.integerValue||i.doubleValue),g=ws(a.integerValue||a.doubleValue);return u<g?-1:u>g?1:u===g?0:isNaN(u)?isNaN(g)?0:-1:1}(n,e);case 3:return OP(n.timestampValue,e.timestampValue);case 4:return OP(u1(n),u1(e));case 5:return wn(n.stringValue,e.stringValue);case 6:return function(i,a){const u=f_(i),g=f_(a);return u.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),g=a.split("/");for(let y=0;y<u.length&&y<g.length;y++){const C=wn(u[y],g[y]);if(0!==C)return C}return wn(u.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=wn(ws(i.latitude),ws(a.latitude));return 0!==u?u:wn(ws(i.longitude),ws(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],g=a.values||[];for(let y=0;y<u.length&&y<g.length;++y){const C=Tg(u[y],g[y]);if(C)return C}return wn(u.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Cg.mapValue&&a===Cg.mapValue)return 0;if(i===Cg.mapValue)return 1;if(a===Cg.mapValue)return-1;const u=i.fields||{},g=Object.keys(u),y=a.fields||{},C=Object.keys(y);g.sort(),C.sort();for(let S=0;S<g.length&&S<C.length;++S){const R=wn(g[S],C[S]);if(0!==R)return R;const j=Tg(u[g[S]],y[C[S]]);if(0!==j)return j}return wn(g.length,C.length)}(n.mapValue,e.mapValue);default:throw Bt()}}function OP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return wn(n,e);const t=Dg(n),r=Dg(e),i=wn(t.seconds,r.seconds);return 0!==i?i:wn(t.nanos,r.nanos)}function Yy(n){return XA(n)}function XA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Dg(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?f_(n.bytesValue).toBase64():"referenceValue"in n?Ct.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=XA(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const g of i)u?u=!1:a+=",",a+=`${g}:${XA(r.fields[g])}`;return a+"}"}(n.mapValue):Bt();var e}function g_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eN(n){return!!n&&"integerValue"in n}function f1(n){return!!n&&"arrayValue"in n}function MP(n){return!!n&&"nullValue"in n}function RP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function TT(n){return!!n&&"mapValue"in n}function p1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return h_(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=p1(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=p1(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function q5(n){return"nullValue"in n?CT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?g_(Ig.empty(),Ct.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Bt()}function Z5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?g_(Ig.empty(),Ct.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Cg:Bt()}function PP(n,e){const t=Tg(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function kP(n,e){const t=Tg(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Da{constructor(e){this.value=e}static empty(){return new Da({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!TT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=p1(t)}setAll(e){let t=ys.emptyPath(),r={},i=[];e.forEach((u,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=g.popLast()}u?r[g.lastSegment()]=p1(u):i.push(g.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());TT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];TT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){h_(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Da(p1(this.value))}}function LP(n){const e=[];return h_(n.fields,(t,r)=>{const i=new ys([t]);if(TT(r)){const a=LP(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new ic(e)}class xi{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new xi(e,0,ln.min(),ln.min(),Da.empty(),0)}static newFoundDocument(e,t,r){return new xi(e,1,t,ln.min(),r,0)}static newNoDocument(e,t){return new xi(e,2,t,ln.min(),Da.empty(),0)}static newUnknownDocument(e,t){return new xi(e,3,t,ln.min(),Da.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Da.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class K5{constructor(e,t=null,r=[],i=[],a=null,u=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=g,this.ht=null}}function BP(n,e=null,t=[],r=[],i=null,a=null,u=null){return new K5(n,e,t,r,i,a,u)}function m_(n){const e=At(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Yy(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),c1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yy(r)).join(",")),e.ht=t}return e.ht}function g1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!iU(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Wh(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jP(n.startAt,e.startAt)&&jP(n.endAt,e.endAt)}function ET(n){return Ct.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xT(n,e){return n.filters.filter(t=>t instanceof Ia&&t.field.isEqual(e))}function VP(n,e,t){let r=CT,i=!0;for(const a of xT(n,e)){let u=CT,g=!0;switch(a.op){case"<":case"<=":u=q5(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,g=!1;break;case"!=":case"not-in":u=CT}PP({value:r,inclusive:i},{value:u,inclusive:g})<0&&(r=u,i=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];PP({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function UP(n,e,t){let r=Cg,i=!0;for(const a of xT(n,e)){let u=Cg,g=!0;switch(a.op){case">=":case">":u=Z5(a.value),g=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,g=!1;break;case"!=":case"not-in":u=Cg}kP({value:r,inclusive:i},{value:u,inclusive:g})>0&&(r=u,i=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];kP({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class Ia extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Q5(e,t,r):"array-contains"===t?new eU(e,r):"in"===t?new tU(e,r):"not-in"===t?new nU(e,r):"array-contains-any"===t?new rU(e,r):new Ia(e,t,r)}static lt(e,t,r){return"in"===t?new J5(e,r):new X5(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Tg(t,this.value)):null!==t&&p_(this.value)===p_(t)&&this.ft(Tg(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Q5 extends Ia{constructor(e,t,r){super(e,t,r),this.key=Ct.fromName(r.referenceValue)}matches(e){const t=Ct.comparator(e.key,this.key);return this.ft(t)}}class J5 extends Ia{constructor(e,t){super(e,"in",t),this.keys=$P(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class X5 extends Ia{constructor(e,t){super(e,"not-in",t),this.keys=$P(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $P(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ct.fromName(r.referenceValue))}class eU extends Ia{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return f1(t)&&h1(t.arrayValue,this.value)}}class tU extends Ia{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&h1(this.value.arrayValue,t)}}class nU extends Ia{constructor(e,t){super(e,"not-in",t)}matches(e){if(h1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!h1(this.value.arrayValue,t)}}class rU extends Ia{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!f1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>h1(this.value.arrayValue,r))}}class Eg{constructor(e,t){this.position=e,this.inclusive=t}}class Qy{constructor(e,t="asc"){this.field=e,this.dir=t}}function iU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function HP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Ct.comparator(Ct.fromName(u.referenceValue),t.key):Tg(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function jP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wh(n.position[t],e.position[t]))return!1;return!0}class Xf{constructor(e,t=null,r=[],i=[],a=null,u="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=g,this.endAt=y,this._t=null,this.wt=null}}function GP(n,e,t,r,i,a,u,g){return new Xf(n,e,t,r,i,a,u,g)}function Jy(n){return new Xf(n)}function WP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function tN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function nN(n){for(const e of n.filters)if(e.dt())return e.field;return null}function rN(n){return null!==n.collectionGroup}function Xy(n){const e=At(n);if(null===e._t){e._t=[];const t=nN(e),r=tN(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Qy(t)),e._t.push(new Qy(ys.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Qy(ys.keyField(),a))}}}return e._t}function du(n){const e=At(n);if(!e.wt)if("F"===e.limitType)e.wt=BP(e.path,e.collectionGroup,Xy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Xy(e))t.push(new Qy(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Eg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Eg(e.startAt.position,e.startAt.inclusive):null;e.wt=BP(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function ST(n,e,t){return new Xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function m1(n,e){return g1(du(n),du(e))&&n.limitType===e.limitType}function zP(n){return`${m_(du(n))}|lt:${n.limitType}`}function iN(n){return`Query(target=${function Y5(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Yy(r.value)}`;var r}).join(", ")}]`),c1(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Yy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Yy(t)).join(",")),`Target(${e})`}(du(n))}; limitType=${n.limitType})`}function sN(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ct.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const g=HP(i,a,u);return i.inclusive?g<=0:g<0}(t.startAt,Xy(t),r)||t.endAt&&!function(i,a,u){const g=HP(i,a,u);return i.inclusive?g>=0:g>0}(t.endAt,Xy(t),r)));var t,r}function qP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZP(n){return(e,t)=>{let r=!1;for(const i of Xy(n)){const a=sU(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function sU(n,e,t){const r=n.field.isKeyField()?Ct.comparator(e.key,t.key):function(i,a,u){const g=a.data.field(i),y=u.data.field(i);return null!==g&&null!==y?Tg(g,y):Bt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Bt()}}function KP(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:d1(e)?"-0":e}}function YP(n){return{integerValue:""+n}}function QP(n,e){return NP(e)?YP(e):KP(n,e)}class AT{constructor(){this._=void 0}}function oU(n,e,t){return n instanceof e0?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof __?XP(n,e):n instanceof v_?ek(n,e):function(r,i){const a=JP(r,i),u=tk(a)+tk(r.yt);return eN(a)&&eN(r.yt)?YP(u):KP(r.It,u)}(n,e)}function aU(n,e,t){return n instanceof __?XP(n,e):n instanceof v_?ek(n,e):t}function JP(n,e){return n instanceof t0?eN(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class e0 extends AT{}class __ extends AT{constructor(e){super(),this.elements=e}}function XP(n,e){const t=nk(e);for(const r of n.elements)t.some(i=>Wh(i,r))||t.push(r);return{arrayValue:{values:t}}}class v_ extends AT{constructor(e){super(),this.elements=e}}function ek(n,e){let t=nk(e);for(const r of n.elements)t=t.filter(i=>!Wh(i,r));return{arrayValue:{values:t}}}class t0 extends AT{constructor(e,t){super(),this.It=e,this.yt=t}}function tk(n){return ws(n.integerValue||n.doubleValue)}function nk(n){return f1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _1{constructor(e,t){this.field=e,this.transform=t}}class uU{constructor(e,t){this.version=e,this.transformResults=t}}class Yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function NT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class OT{}function rk(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new r0(n.key,Yi.none()):new n0(n.key,n.data,Yi.none());{const t=n.data,r=Da.empty();let i=new hi(ys.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new ep(n.key,r,new ic(i.toArray()),Yi.none())}}function cU(n,e,t){n instanceof n0?function(r,i,a){const u=r.value.clone(),g=ok(r.fieldTransforms,i,a.transformResults);u.setAll(g),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ep?function(r,i,a){if(!NT(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=ok(r.fieldTransforms,i,a.transformResults),g=i.data;g.setAll(sk(r)),g.setAll(u),i.convertToFoundDocument(a.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function v1(n,e,t,r){return n instanceof n0?function(i,a,u,g){if(!NT(i.precondition,a))return u;const y=i.value.clone(),C=ak(i.fieldTransforms,g,a);return y.setAll(C),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof ep?function(i,a,u,g){if(!NT(i.precondition,a))return u;const y=ak(i.fieldTransforms,g,a),C=a.data;return C.setAll(sk(i)),C.setAll(y),a.convertToFoundDocument(a.version,C).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(u=t,NT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function dU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=JP(r.transform,i||null);null!=a&&(null===t&&(t=Da.empty()),t.set(r.field,a))}return t||null}function ik(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Zy(t,r,(i,a)=>function lU(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof __&&r instanceof __||t instanceof v_&&r instanceof v_?Zy(t.elements,r.elements,Wh):t instanceof t0&&r instanceof t0?Wh(t.yt,r.yt):t instanceof e0&&r instanceof e0);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class n0 extends OT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ep extends OT{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ok(n,e,t){const r=new Map;pn(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,g=e.data.field(a.field);r.set(a.field,aU(u,g,t[i]))}return r}function ak(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,oU(a,u,e))}return r}class r0 extends OT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oN extends OT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hU{constructor(e){this.count=e}}var so,vr;function lk(n){switch(n){default:return Bt();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function uk(n){if(void 0===n)return Vs("GRPC error has no .code"),Fe.UNKNOWN;switch(n){case so.OK:return Fe.OK;case so.CANCELLED:return Fe.CANCELLED;case so.UNKNOWN:return Fe.UNKNOWN;case so.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case so.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case so.INTERNAL:return Fe.INTERNAL;case so.UNAVAILABLE:return Fe.UNAVAILABLE;case so.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case so.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case so.NOT_FOUND:return Fe.NOT_FOUND;case so.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case so.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case so.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case so.ABORTED:return Fe.ABORTED;case so.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case so.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case so.DATA_LOSS:return Fe.DATA_LOSS;default:return Bt()}}(vr=so||(so={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";class xg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){h_(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return xP(this.inner)}size(){return this.innerSize}}const fU=new bs(Ct.comparator);function hu(){return fU}const ck=new bs(Ct.comparator);function y1(...n){let e=ck;for(const t of n)e=e.insert(t.key,t);return e}function dk(n){let e=ck;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zh(){return b1()}function hk(){return b1()}function b1(){return new xg(n=>n.toString(),(n,e)=>n.isEqual(e))}const pU=new bs(Ct.comparator),gU=new hi(Ct.comparator);function Rn(...n){let e=gU;for(const t of n)e=e.add(t);return e}const mU=new hi(wn);function MT(){return mU}class w1{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,D1.createSynthesizedTargetChangeForCurrentChange(e,t)),new w1(ln.min(),r,MT(),hu(),Rn())}}class D1{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new D1(wo.EMPTY_BYTE_STRING,t,Rn(),Rn(),Rn())}}class RT{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class fk{constructor(e,t){this.targetId=e,this.At=t}}class pk{constructor(e,t,r=wo.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class gk{constructor(){this.Rt=0,this.bt=_k(),this.Pt=wo.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rn(),t=Rn(),r=Rn();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Bt()}}),new D1(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=_k()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class _U{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=hu(),this.qt=mk(),this.Kt=new hi(wn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(ET(a))if(0===r){const u=new Ct(a.path);this.jt(t,u,xi.newNoDocument(u,ln.min()))}else pn(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const g=this.Xt(u);if(g){if(a.current&&ET(g.target)){const y=new Ct(g.target.path);null!==this.Ut.get(y)||this.ee(u,y)||this.jt(u,y,xi.newNoDocument(y,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let r=Rn();this.qt.forEach((a,u)=>{let g=!0;u.forEachWhile(y=>{const C=this.Xt(y);return!C||2===C.purpose||(g=!1,!1)}),g&&(r=r.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const i=new w1(e,t,this.Kt,this.Ut,r);return this.Ut=hu(),this.qt=mk(),this.Kt=new hi(wn),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new gk,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new hi(wn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||lt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new gk),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function mk(){return new bs(Ct.comparator)}function _k(){return new bs(Ct.comparator)}const vU={asc:"ASCENDING",desc:"DESCENDING"},yU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class bU{constructor(e,t){this.databaseId=e,this.gt=t}}function I1(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vk(n,e){return n.gt?e.toBase64():e.toUint8Array()}function wU(n,e){return I1(n,e.toTimestamp())}function zo(n){return pn(!!n),ln.fromTimestamp(function(e){const t=Dg(e);return new Ki(t.seconds,t.nanos)}(n))}function aN(n,e){return(t=n,new _r(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function yk(n){const e=_r.fromString(n);return pn(Sk(e)),e}function C1(n,e){return aN(n.databaseId,e.path)}function qh(n,e){const t=yk(e);if(t.get(1)!==n.databaseId.projectId)throw new et(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new et(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ct(wk(t))}function lN(n,e){return aN(n.databaseId,e)}function bk(n){const e=yk(n);return 4===e.length?_r.emptyPath():wk(e)}function T1(n){return new _r(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wk(n){return pn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Dk(n,e,t){return{name:C1(n,e),fields:t.value.mapValue.fields}}function Ik(n,e,t){const r=qh(n,e.name),i=zo(e.updateTime),a=new Da({mapValue:{fields:e.fields}}),u=xi.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function E1(n,e){let t;if(e instanceof n0)t={update:Dk(n,e.key,e.value)};else if(e instanceof r0)t={delete:C1(n,e.key)};else if(e instanceof ep)t={update:Dk(n,e.key,e.data),updateMask:NU(e.fieldMask)};else{if(!(e instanceof oN))return Bt();t={verify:C1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof e0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof __)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof v_)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof t0)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw Bt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:wU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Bt()),t;var i}function uN(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Yi.updateTime(zo(i.updateTime)):void 0!==i.exists?Yi.exists(i.exists):Yi.none():Yi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let g=null;"setToServerValue"in u?(pn("REQUEST_TIME"===u.setToServerValue),g=new e0):"appendMissingElements"in u?g=new __(u.appendMissingElements.values||[]):"removeAllFromArray"in u?g=new v_(u.removeAllFromArray.values||[]):"increment"in u?g=new t0(a,u.increment):Bt();const y=ys.fromServerFormat(u.fieldPath);return new _1(y,g)}(n,i)):[];var i;if(e.update){const i=qh(n,e.update.name),a=new Da({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new ic((e.updateMask.fieldPaths||[]).map(C=>ys.fromServerFormat(C)));return new ep(i,a,u,t,r)}return new n0(i,a,t,r)}if(e.delete){const i=qh(n,e.delete);return new r0(i,t)}if(e.verify){const i=qh(n,e.verify);return new oN(i,t)}return Bt()}function Ck(n,e){return{documents:[lN(n,e.path)]}}function Tk(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=lN(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lN(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const C=y.map(S=>function(R){if("=="===R.op){if(RP(R.value))return{unaryFilter:{field:s0(R.field),op:"IS_NAN"}};if(MP(R.value))return{unaryFilter:{field:s0(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(RP(R.value))return{unaryFilter:{field:s0(R.field),op:"IS_NOT_NAN"}};if(MP(R.value))return{unaryFilter:{field:s0(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:s0(R.field),op:xU(R.op),value:R.value}}}(S));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(C=>{return{field:s0((S=C).field),direction:EU(S.dir)};var S})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(C=e.limit,n.gt||c1(C)?C:{value:C});var C,g,y;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Ek(n){let e=bk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pn(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let a=[];t.where&&(a=xk(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(S=>{return new Qy(o0((R=S).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let g=null;t.limit&&(g=function(S){let R;return R="object"==typeof S?S.value:S,c1(R)?null:R}(t.limit));let y=null;var S;t.startAt&&(y=new Eg((S=t.startAt).values||[],!!S.before));let C=null;return t.endAt&&(C=function(S){return new Eg(S.values||[],!S.before)}(t.endAt)),GP(e,i,u,a,g,"F",y,C)}function xk(n){return n?void 0!==n.unaryFilter?[AU(n)]:void 0!==n.fieldFilter?[SU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>xk(e)).reduce((e,t)=>e.concat(t)):Bt():[]}function EU(n){return vU[n]}function xU(n){return yU[n]}function s0(n){return{fieldPath:n.canonicalString()}}function o0(n){return ys.fromServerFormat(n.fieldPath)}function SU(n){return Ia.create(o0(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function AU(n){switch(n.unaryFilter.op){case"IS_NAN":const e=o0(n.unaryFilter.field);return Ia.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=o0(n.unaryFilter.field);return Ia.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=o0(n.unaryFilter.field);return Ia.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=o0(n.unaryFilter.field);return Ia.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}function NU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Sk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ol(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ak(e)),e=OU(n.get(t),e);return Ak(e)}function OU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Ak(n){return n+"\x01\x01"}function Zh(n){const e=n.length;if(pn(e>=2),2===e)return pn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_r.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&Bt(),n.charAt(u+1)){case"\x01":const g=n.substring(a,u);let y;0===i.length?y=g:(i+=g,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:Bt()}a=u+2}return new _r(r)}const Nk=["userId","batchId"];function FT(n,e){return[n,Ol(e)]}function Ok(n,e,t){return[n,Ol(e),t]}const MU={},RU=["prefixPath","collectionGroup","readTime","documentId"],FU=["prefixPath","collectionGroup","documentId"],PU=["collectionGroup","readTime","prefixPath","documentId"],kU=["canonicalId","targetId"],LU=["targetId","path"],BU=["path","targetId"],VU=["collectionId","parent"],UU=["indexId","uid"],$U=["uid","sequenceNumber"],HU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jU=["indexId","uid","orderedDocumentKey"],GU=["userId","collectionPath","documentId"],WU=["userId","collectionPath","largestBatchId"],zU=["userId","collectionGroup","largestBatchId"],Mk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qU=[...Mk,"documentOverlays"],Rk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fk=Rk,ZU=[...Fk,"indexConfiguration","indexState","indexEntries"];class cN extends CP{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function qo(n,e){const t=At(n);return Wd.O(t.ie,e)}class dN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&cU(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=v1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=v1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=hk();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let g=this.applyToLocalView(u,a.mutatedFields);g=t.has(i.key)?null:g;const y=rk(u,g);null!==y&&r.set(i.key,y),u.isValidDocument()||u.convertToNoDocument(ln.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rn())}isEqual(e){return this.batchId===e.batchId&&Zy(this.mutations,e.mutations,(t,r)=>ik(t,r))&&Zy(this.baseMutations,e.baseMutations,(t,r)=>ik(t,r))}}class hN{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pn(e.mutations.length===r.length);let i=pU;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new hN(e,t,r,i)}}class fN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sg{constructor(e,t,r,i,a=ln.min(),u=ln.min(),g=wo.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=g}withSequenceNumber(e){return new Sg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Pk{constructor(e){this.re=e}}function kk(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:PT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:C1(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:I1(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:y_(e.version)};else{if(!e.isUnknownDocument())return Bt();r.unknownDocument={path:t.path.toArray(),version:y_(e.version)}}var i,a;return r}function PT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function y_(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function b_(n){const e=new Ki(n.seconds,n.nanoseconds);return ln.fromTimestamp(e)}function w_(n,e){const t=(e.baseMutations||[]).map(a=>uN(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>uN(n.re,a)),i=Ki.fromMillis(e.localWriteTimeMs);return new dN(e.batchId,i,t,r)}function x1(n){const e=b_(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?b_(n.lastLimboFreeSnapshotVersion):ln.min();let r;var i;return void 0!==n.query.documents?(pn(1===(i=n.query).documents.length),r=du(Jy(bk(i.documents[0])))):r=du(Ek(n.query)),new Sg(r,n.targetId,0,n.lastListenSequenceNumber,e,t,wo.fromBase64String(n.resumeToken))}function Lk(n,e){const t=y_(e.snapshotVersion),r=y_(e.lastLimboFreeSnapshotVersion);let i;i=ET(e.target)?Ck(n.re,e.target):Tk(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:m_(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function pN(n){const e=Ek({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ST(e,e.limit,"L"):e}function gN(n,e){return new fN(e.largestBatchId,uN(n.re,e.overlayMutation))}function Bk(n,e){const t=e.path.lastSegment();return[n,Ol(e.path.popLast()),t]}function Vk(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:y_(r.readTime),documentKey:Ol(r.documentKey.path),largestBatchId:r.largestBatchId}}class YU{getBundleMetadata(e,t){return Uk(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:b_(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Uk(e).put({bundleId:(r=t).id,createTime:y_(zo(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return $k(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:pN(i.bundledQuery),readTime:b_(i.readTime)};var i})}saveNamedQuery(e,t){return $k(e).put({name:(r=t).name,readTime:y_(zo(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Uk(n){return qo(n,"bundles")}function $k(n){return qo(n,"namedQueries")}class kT{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new kT(e,t.uid||"")}getOverlay(e,t){return S1(e).get(Bk(this.userId,t)).next(r=>r?gN(this.It,r):null)}getOverlays(e,t){const r=zh();return Se.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const g=new fN(t,u);i.push(this.ue(e,g))}),Se.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Ol(u.getCollectionPath())));const a=[];return i.forEach(u=>{const g=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(S1(e).Y("collectionPathOverlayIndex",g))}),Se.waitFor(a)}getOverlaysForCollection(e,t,r){const i=zh(),a=Ol(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return S1(e).W("collectionPathOverlayIndex",u).next(g=>{for(const y of g){const C=gN(this.It,y);i.set(C.getKey(),C)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=zh();let u;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return S1(e).Z({index:"collectionGroupOverlayIndex",range:g},(y,C,S)=>{const R=gN(this.It,C);a.size()<i||R.largestBatchId===u?(a.set(R.getKey(),R),u=R.largestBatchId):S.done()}).next(()=>a)}ue(e,t){return S1(e).put(function(r,i,a){const[u,g,y]=Bk(i,a.mutation.key);return{userId:i,collectionPath:g,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:E1(r.re,a.mutation)}}(this.It,this.userId,t))}}function S1(n){return qo(n,"documentOverlays")}class D_{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ws(e.integerValue));else if("doubleValue"in e){const r=ws(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),d1(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(f_(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?FP(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Bt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Ct.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function QU(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Hk(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=QU(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}D_.Te=new D_;class JU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=Hk(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=Hk(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class XU{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class e3{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class A1{constructor(){this.Be=new JU,this.Le=new XU(this.Be),this.Ue=new e3(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class I_{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new I_(this.indexId,this.documentKey,this.arrayValue,r)}}function C_(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=jk(n.arrayValue,e.arrayValue),0!==t?t:(t=jk(n.directionalValue,e.directionalValue),0!==t?t:Ct.comparator(n.documentKey,e.documentKey)))}function jk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class t3{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=ZA(e);if(void 0!==t&&!this.ze(t))return!1;const r=c_(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const u=r[i];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class n3{constructor(){this.Ye=new mN}addToCollectionParentIndex(e,t){return this.Ye.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Se.resolve()}deleteFieldIndex(e,t){return Se.resolve()}getDocumentsMatchingTarget(e,t){return Se.resolve(null)}getIndexType(e,t){return Se.resolve(0)}getFieldIndexes(e,t){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,t){return Se.resolve(rc.min())}getMinOffsetFromCollectionGroup(e,t){return Se.resolve(rc.min())}updateCollectionGroup(e,t,r){return Se.resolve()}updateIndexEntries(e,t){return Se.resolve()}}class mN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new hi(_r.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hi(_r.comparator)).toArray()}}const LT=new Uint8Array(0);class r3{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new mN,this.Ze=new xg(r=>m_(r),(r,i)=>g1(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:Ol(i)};return Gk(e).put(a)}return Se.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[bP(t),""],!1,!0);return Gk(e).W(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(Zh(u.parent))}return r})}addFieldIndex(e,t){const r=BT(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=O1(e);return a.next(g=>{u.put(Vk(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=BT(e),i=O1(e),a=N1(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=N1(e);let i=!0;const a=new Map;return Se.forEach(this.tn(t),u=>this.en(e,u).next(g=>{i&&(i=!!g),a.set(u,g)})).next(()=>{if(i){let u=Rn();const g=[];return Se.forEach(a,(y,C)=>{var S;lt("IndexedDbIndexManager",`Using index ${S=y,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${m_(t)}`);const R=function(vt,it){const gt=ZA(it);if(void 0===gt)return null;for(const Dt of xT(vt,gt.fieldPath))switch(Dt.op){case"array-contains-any":return Dt.value.arrayValue.values||[];case"array-contains":return[Dt.value]}return null}(C,y),j=function(vt,it){const gt=new Map;for(const Dt of c_(it))for(const sn of xT(vt,Dt.fieldPath))switch(sn.op){case"==":case"in":gt.set(Dt.fieldPath.canonicalString(),sn.value);break;case"not-in":case"!=":return gt.set(Dt.fieldPath.canonicalString(),sn.value),Array.from(gt.values())}return null}(C,y),Z=function(vt,it){const gt=[];let Dt=!0;for(const sn of c_(it)){const Fn=0===sn.kind?VP(vt,sn.fieldPath,vt.startAt):UP(vt,sn.fieldPath,vt.startAt);gt.push(Fn.value),Dt&&(Dt=Fn.inclusive)}return new Eg(gt,Dt)}(C,y),ue=function(vt,it){const gt=[];let Dt=!0;for(const sn of c_(it)){const Fn=0===sn.kind?UP(vt,sn.fieldPath,vt.endAt):VP(vt,sn.fieldPath,vt.endAt);gt.push(Fn.value),Dt&&(Dt=Fn.inclusive)}return new Eg(gt,Dt)}(C,y),_e=this.nn(y,C,Z),De=this.nn(y,C,ue),ot=this.sn(y,C,j),ut=this.rn(y.indexId,R,_e,Z.inclusive,De,ue.inclusive,ot);return Se.forEach(ut,vt=>r.J(vt,t.limit).next(it=>{it.forEach(gt=>{const Dt=Ct.fromSegments(gt.documentKey);u.has(Dt)||(u=u.add(Dt),g.push(Dt))})}))}).next(()=>g)}return Se.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,u,g){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),C=y/(null!=t?t.length:1),S=[];for(let R=0;R<y;++R){const j=t?this.on(t[R/C]):LT,Z=this.un(e,j,r[R%C],i),ue=this.cn(e,j,a[R%C],u),_e=g.map(De=>this.un(e,j,De,!0));S.push(...this.createRange(Z,ue,_e))}return S}un(e,t,r,i){const a=new I_(e,Ct.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new I_(e,Ct.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new t3(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const g of a)r.We(g)&&(!u||g.fields.length>u.fields.length)&&(u=g);return u})}getIndexType(e,t){let r=2;return Se.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(u){let g=new hi(ys.comparator),y=!1;for(const C of u.filters){const S=C;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:g=g.add(S.field))}for(const C of u.orderBy)C.field.isKeyField()||(g=g.add(C.field));return g.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new A1;for(const i of c_(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.qe(i.kind);D_.Te.ce(a,u)}return r.$e()}on(e){const t=new A1;return D_.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new A1;return D_.Te.ce(g_(this.databaseId,t),r.qe(function(i){const a=c_(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new A1);let a=0;for(const u of c_(e)){const g=r[a++];for(const y of i)if(this.ln(t,u.fieldPath)&&f1(g))i=this.fn(i,u,g);else{const C=y.qe(u.kind);D_.Te.ce(g,C)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const g of i){const y=new A1;y.seed(g.$e()),D_.Te.ce(u,y.qe(t.kind)),a.push(y)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof Ia&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=BT(e),i=O1(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const u=[];return Se.forEach(a,g=>i.get([g.indexId,this.uid]).next(y=>{u.push(function(C,S){const R=S?new a1(S.sequenceNumber,new rc(b_(S.readTime),new Ct(Zh(S.documentKey)),S.largestBatchId)):a1.empty(),j=C.fields.map(([Z,ue])=>new wT(ys.fromServerFormat(Z),ue));return new bT(C.indexId,C.collectionGroup,j,R)}(g,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:wn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=BT(e),a=O1(e);return this._n(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>Se.forEach(g,y=>a.put(Vk(y.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return Se.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?Se.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),Se.forEach(g,y=>this.wn(e,i,y).next(C=>{const S=this.mn(a,y);return C.isEqual(S)?Se.resolve():this.gn(e,a,y,C,S)}))))})}yn(e,t,r,i){return N1(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return N1(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=N1(e);let a=new hi(C_);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(u,g)=>{a=a.add(new I_(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>a)}mn(e,t){let r=new hi(C_);const i=this.an(t,e);if(null==i)return r;const a=ZA(t);if(null!=a){const u=e.data.field(a.fieldPath);if(f1(u))for(const g of u.arrayValue.values||[])r=r.add(new I_(t.indexId,e.key,this.on(g),i))}else r=r.add(new I_(t.indexId,e.key,LT,i));return r}gn(e,t,r,i,a){lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(g,y,C,S,R){const j=g.getIterator(),Z=y.getIterator();let ue=Ky(j),_e=Ky(Z);for(;ue||_e;){let De=!1,ot=!1;if(ue&&_e){const ut=C(ue,_e);ut<0?ot=!0:ut>0&&(De=!0)}else null!=ue?ot=!0:De=!0;De?(S(_e),_e=Ky(Z)):ot?(R(ue),ue=Ky(j)):(ue=Ky(j),_e=Ky(Z))}}(i,a,C_,g=>{u.push(this.yn(e,t,r,g))},g=>{u.push(this.pn(e,t,r,g))}),Se.waitFor(u)}_n(e){let t=1;return O1(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,g)=>C_(u,g)).filter((u,g,y)=>!g||0!==C_(u,y[g-1]));const i=[];i.push(e);for(const u of r){const g=C_(u,e),y=C_(u,t);if(0===g)i[0]=e.Ke();else if(g>0&&y<0)i.push(u),i.push(u.Ke());else if(y>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,LT,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,LT,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Wk)}getMinOffset(e,t){return Se.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Bt())).next(Wk)}}function Gk(n){return qo(n,"collectionParents")}function N1(n){return qo(n,"indexEntries")}function BT(n){return qo(n,"indexConfiguration")}function O1(n){return qo(n,"indexState")}function Wk(n){pn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;KA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new rc(e.readTime,e.documentKey,t)}const zk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fu{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fu(e,fu.DEFAULT_COLLECTION_PERCENTILE,fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qk(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let g=0;const y=r.Z({range:u},(S,R,j)=>(g++,j.delete()));a.push(y.next(()=>{pn(1===g)}));const C=[];for(const S of t.mutations){const R=Ok(e,S.key.path,t.batchId);a.push(i.delete(R)),C.push(S.key)}return Se.waitFor(a).next(()=>C)}function VT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Bt();e=n.noDocument}return JSON.stringify(e).length}fu.DEFAULT_COLLECTION_PERCENTILE=10,fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fu.DEFAULT=new fu(41943040,fu.DEFAULT_COLLECTION_PERCENTILE,fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fu.DISABLED=new fu(-1,0,0);class UT{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){pn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new UT(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ag(e).Z({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=a0(e),u=Ag(e);return u.add({}).next(g=>{pn("number"==typeof g);const y=new dN(g,t,r,i),C=function(j,Z,ue){const _e=ue.baseMutations.map(ot=>E1(j.re,ot)),De=ue.mutations.map(ot=>E1(j.re,ot));return{userId:Z,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:_e,mutations:De}}(this.It,this.userId,y),S=[];let R=new hi((j,Z)=>wn(j.canonicalString(),Z.canonicalString()));for(const j of i){const Z=Ok(this.userId,j.key.path,g);R=R.add(j.key.path.popLast()),S.push(u.put(C)),S.push(a.put(Z,MU))}return R.forEach(j=>{S.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.In[g]=y.keys()}),Se.waitFor(S).next(()=>y)})}lookupMutationBatch(e,t){return Ag(e).get(t).next(r=>r?(pn(r.userId===this.userId),w_(this.It,r)):null)}Tn(e,t){return this.In[t]?Se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Ag(e).Z({index:"userMutationsIndex",range:i},(u,g,y)=>{g.userId===this.userId&&(pn(g.batchId>=r),a=w_(this.It,g)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ag(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ag(e).W("userMutationsIndex",t).next(r=>r.map(i=>w_(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=FT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return a0(e).Z({range:i},(u,g,y)=>{const[C,S,R]=u,j=Zh(S);if(C===this.userId&&t.path.isEqual(j))return Ag(e).get(R).next(Z=>{if(!Z)throw Bt();pn(Z.userId===this.userId),a.push(w_(this.It,Z))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hi(wn);const i=[];return t.forEach(a=>{const u=FT(this.userId,a.path),g=IDBKeyRange.lowerBound(u),y=a0(e).Z({range:g},(C,S,R)=>{const[j,Z,ue]=C,_e=Zh(Z);j===this.userId&&a.path.isEqual(_e)?r=r.add(ue):R.done()});i.push(y)}),Se.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=FT(this.userId,r),u=IDBKeyRange.lowerBound(a);let g=new hi(wn);return a0(e).Z({range:u},(y,C,S)=>{const[R,j,Z]=y,ue=Zh(j);R===this.userId&&r.isPrefixOf(ue)?ue.length===i&&(g=g.add(Z)):S.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Ag(e).get(a).next(u=>{if(null===u)throw Bt();pn(u.userId===this.userId),r.push(w_(this.It,u))}))}),Se.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return qk(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Se.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Se.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return a0(e).Z({range:r},(a,u,g)=>{if(a[0]===this.userId){const y=Zh(a[1]);i.push(y)}else g.done()}).next(()=>{pn(0===i.length)})})}containsKey(e,t){return Zk(e,this.userId,t)}Rn(e){return Kk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Zk(n,e,t){const r=FT(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return a0(n).Z({range:a,X:!0},(g,y,C)=>{const[S,R,j]=g;S===e&&R===i&&(u=!0),C.done()}).next(()=>u)}function Ag(n){return qo(n,"mutations")}function a0(n){return qo(n,"documentMutations")}function Kk(n){return qo(n,"mutationQueues")}class T_{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new T_(0)}static vn(){return new T_(-1)}}class s3{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new T_(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>ln.fromTimestamp(new Ki(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>l0(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(pn(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return l0(e).Z((u,g)=>{const y=x1(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>Se.waitFor(a)).next(()=>i)}forEachTarget(e,t){return l0(e).Z((r,i)=>{const a=x1(i);t(a)})}Vn(e){return Yk(e).get("targetGlobalKey").next(t=>(pn(null!==t),t))}Sn(e,t){return Yk(e).put("targetGlobalKey",t)}Dn(e,t){return l0(e).put(Lk(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=m_(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return l0(e).Z({range:i,index:"queryTargetsIndex"},(u,g,y)=>{const C=x1(g);g1(t,C.target)&&(a=C,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Ng(e);return t.forEach(u=>{const g=Ol(u.path);i.push(a.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,u))}),Se.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ng(e);return Se.forEach(t,a=>{const u=Ol(a.path);return Se.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Ng(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ng(e);let a=Rn();return i.Z({range:r,X:!0},(u,g,y)=>{const C=Zh(u[1]),S=new Ct(C);a=a.add(S)}).next(()=>a)}containsKey(e,t){const r=Ol(t.path),i=IDBKeyRange.bound([r],[bP(r)],!1,!0);let a=0;return Ng(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,g],y,C)=>{0!==u&&(a++,C.done())}).next(()=>a>0)}se(e,t){return l0(e).get(t).next(r=>r?x1(r):null)}}function l0(n){return qo(n,"targets")}function Yk(n){return qo(n,"targetGlobal")}function Ng(n){return qo(n,"targetDocuments")}function Qk([n,e],[t,r]){const i=wn(n,t);return 0===i?wn(e,r):i}class o3{constructor(e){this.xn=e,this.buffer=new hi(Qk),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Qk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class a3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ve.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){wg(r)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield bg(r)}yield t.Fn(3e5)}))}}class l3{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Se.resolve(cu.at);const r=new o3(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(zk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zk):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,u,g,y,C;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,u=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,g=Date.now(),this.removeTargets(e,r,t))).next(R=>(a=R,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(C=Date.now(),zA()<=mg.in.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-S}ms\n\tDetermined least recently used ${i} in `+(g-u)+`ms\n\tRemoved ${a} targets in `+(y-g)+`ms\n\tRemoved ${R} documents in `+(C-y)+`ms\nTotal Duration: ${C-S}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:R})))}}class u3{constructor(e,t){this.db=e,this.garbageCollector=new l3(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return $T(e,r)}removeReference(e,t,r){return $T(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $T(e,t)}Gn(e,t){return function(r,i){let a=!1;return Kk(r).tt(u=>Zk(r,u,i).next(g=>(g&&(a=!0),Se.resolve(!g)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(u,g)=>{if(g<=t){const y=this.Gn(e,u).next(C=>{if(!C)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,ln.min()),Ng(e).delete([0,Ol(u.path)])))});i.push(y)}}).next(()=>Se.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $T(e,t)}Kn(e,t){const r=Ng(e);let i,a=cu.at;return r.Z({index:"documentTargetsIndex"},([u,g],{path:y,sequenceNumber:C})=>{0===u?(a!==cu.at&&t(new Ct(Zh(i)),a),a=C,i=y):a=cu.at}).next(()=>{a!==cu.at&&t(new Ct(Zh(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $T(n,e){return Ng(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ol(e.path),sequenceNumber:r}));var r}class Jk{constructor(){this.changes=new xg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class c3{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return E_(e).put(r)}removeEntry(e,t,r){return E_(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],PT(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=xi.newInvalidDocument(t);return E_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(M1(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:xi.newInvalidDocument(t)};return E_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(M1(t))},(i,a)=>{r={document:this.jn(t,a),size:VT(a)}}).next(()=>r)}getEntries(e,t){let r=hu();return this.zn(e,t,(i,a)=>{const u=this.jn(i,a);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=hu(),i=new bs(Ct.comparator);return this.zn(e,t,(a,u)=>{const g=this.jn(a,u);r=r.insert(a,g),i=i.insert(a,VT(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return Se.resolve();let i=new hi(nL);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(M1(i.first()),M1(i.last())),u=i.getIterator();let g=u.getNext();return E_(e).Z({index:"documentKeyIndex",range:a},(y,C,S)=>{const R=Ct.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;g&&nL(g,R)<0;)r(g,null),g=u.getNext();g&&g.isEqual(R)&&(r(g,C),g=u.hasNext()?u.getNext():null),g?S.j(M1(g)):S.done()}).next(()=>{for(;g;)r(g,null),g=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),PT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return E_(e).W(IDBKeyRange.bound(i,a,!0)).next(u=>{let g=hu();for(const y of u){const C=this.jn(Ct.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(C.key,C)}return g})}getAllFromCollectionGroup(e,t,r,i){let a=hu();const u=tL(t,r),g=tL(t,rc.max());return E_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,g,!0)},(y,C,S)=>{const R=this.jn(Ct.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);a=a.insert(R.key,R),a.size===i&&S.done()}).next(()=>a)}newChangeBuffer(e){return new d3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return eL(e).get("remoteDocumentGlobalKey").next(t=>(pn(!!t),t))}Qn(e,t){return eL(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function KU(n,e){let t;if(e.document)t=Ik(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ct.fromSegments(e.noDocument.path),i=b_(e.noDocument.readTime);t=xi.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Bt();{const r=Ct.fromSegments(e.unknownDocument.path),i=b_(e.unknownDocument.version);t=xi.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ki(r[0],r[1]);return ln.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(ln.min()))return r}return xi.newInvalidDocument(e)}}function Xk(n){return new c3(n)}class d3 extends Jk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new xg(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new hi((a,u)=>wn(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const g=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,g.readTime)),u.isValidDocument()){const y=kk(this.Yn.It,u);i=i.add(a.path.popLast()),r+=VT(y)-g.size,t.push(this.Yn.addEntry(e,a,y))}else if(r-=g.size,this.trackRemovals){const y=kk(this.Yn.It,u.convertToNoDocument(ln.min()));t.push(this.Yn.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),Se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function eL(n){return qo(n,"remoteDocumentGlobal")}function E_(n){return qo(n,"remoteDocumentsV14")}function M1(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tL(n,e){const t=e.documentKey.path.toArray();return[n,PT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function nL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=wn(t[a],r[a]),i)return i;return i=wn(t.length,r.length),i||(i=wn(t[t.length-2],r[r.length-2]),i||wn(t[t.length-1],r[r.length-1]))}class h3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&v1(r.mutation,i,ic.empty(),Ki.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Rn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Rn()){const i=zh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=y1();return a.forEach((g,y)=>{u=u.insert(g,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=zh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Rn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,g)=>{t.set(u,g)})})}computeViews(e,t,r,i){let a=hu();const u=b1(),g=b1();return t.forEach((y,C)=>{const S=r.get(C.key);i.has(C.key)&&(void 0===S||S.mutation instanceof ep)?a=a.insert(C.key,C):void 0!==S&&(u.set(C.key,S.mutation.getFieldMask()),v1(S.mutation,C,S.mutation.getFieldMask(),Ki.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((C,S)=>u.set(C,S)),t.forEach((C,S)=>{var R;return g.set(C,new h3(S,null!==(R=u.get(C))&&void 0!==R?R:null))}),g))}recalculateAndSaveOverlays(e,t){const r=b1();let i=new bs((u,g)=>u-g),a=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const g of u)g.keys().forEach(y=>{const C=t.get(y);if(null===C)return;let S=r.get(y)||ic.empty();S=g.applyToLocalView(C,S),r.set(y,S);const R=(i.get(g.batchId)||Rn()).add(y);i=i.insert(g.batchId,R)})}).next(()=>{const u=[],g=i.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),C=y.key,S=y.value,R=hk();S.forEach(j=>{if(!a.has(j)){const Z=rk(t.get(j),r.get(j));null!==Z&&R.set(j,Z),a=a.add(j)}}),u.push(this.documentOverlayCache.saveOverlays(e,C,R))}return Se.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ct.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):rN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Se.resolve(zh());let g=-1,y=a;return u.next(C=>Se.forEach(C,(S,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),a.get(S)?Se.resolve():this.getBaseDocument(e,S,R).next(j=>{y=y.insert(S,j)}))).next(()=>this.populateOverlays(e,C,a)).next(()=>this.computeViews(e,y,C,Rn())).next(S=>({batchId:g,changes:dk(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ct(t)).next(r=>{let i=y1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=y1();return this.indexManager.getCollectionParents(e,i).next(u=>Se.forEach(u,g=>{const y=(C=t,S=g.child(i),new Xf(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(C=>{C.forEach((S,R)=>{a=a.insert(S,R)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((g,y)=>{const C=y.getKey();null===i.get(C)&&(i=i.insert(C,xi.newInvalidDocument(C)))});let u=y1();return i.forEach((g,y)=>{const C=a.get(g);void 0!==C&&v1(C.mutation,y,ic.empty(),Ki.now()),sN(t,y)&&(u=u.insert(g,y))}),u})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Se.resolve(xi.newInvalidDocument(t))}}class f3{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:zo(r.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:pN(r.bundledQuery),readTime:zo(r.readTime)}),Se.resolve();var r}}class p3{constructor(){this.overlays=new bs(Ct.comparator),this.es=new Map}getOverlay(e,t){return Se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zh();return Se.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),Se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),Se.resolve()}getOverlaysForCollection(e,t,r){const i=zh(),a=t.length+1,u=new Ct(t.child("")),g=this.overlays.getIteratorFrom(u);for(;g.hasNext();){const y=g.getNext().value,C=y.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new bs((C,S)=>C-S);const u=this.overlays.getIterator();for(;u.hasNext();){const C=u.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let S=a.get(C.largestBatchId);null===S&&(S=zh(),a=a.insert(C.largestBatchId,S)),S.set(C.getKey(),C)}}const g=zh(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((C,S)=>g.set(C,S)),!(g.size()>=i)););return Se.resolve(g)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new fN(t,r));let a=this.es.get(t);void 0===a&&(a=Rn(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class _N{constructor(){this.ns=new hi(Zo.ss),this.rs=new hi(Zo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Zo(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Zo(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ct(new _r([])),r=new Zo(t,e),i=new Zo(t,e+1),a=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ct(new _r([])),r=new Zo(t,e),i=new Zo(t,e+1);let a=Rn();return this.rs.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Zo(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ct.comparator(e.key,t.key)||wn(e._s,t._s)}static os(e,t){return wn(e._s,t._s)||Ct.comparator(e.key,t.key)}}class g3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new hi(Zo.ss)}checkEmpty(e){return Se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const u=new dN(a,t,r,i);this.mutationQueue.push(u);for(const g of i)this.gs=this.gs.add(new Zo(g.key,a)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Se.resolve(u)}lookupMutationBatch(e,t){return Se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return Se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zo(t,0),i=new Zo(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],u=>{const g=this.ys(u._s);a.push(g)}),Se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hi(wn);return t.forEach(i=>{const a=new Zo(i,0),u=new Zo(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],g=>{r=r.add(g._s)})}),Se.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ct.isDocumentKey(a)||(a=a.child(""));const u=new Zo(new Ct(a),0);let g=new hi(wn);return this.gs.forEachWhile(y=>{const C=y.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(g=g.add(y._s)),!0)},u),Se.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){pn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Se.forEach(t.mutations,i=>{const a=new Zo(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Zo(t,0),i=this.gs.firstAfterOrEqual(r);return Se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class m3{constructor(e){this.Es=e,this.docs=new bs(Ct.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():xi.newInvalidDocument(t))}getEntries(e,t){let r=hu();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():xi.newInvalidDocument(i))}),Se.resolve(r)}getAllFromCollection(e,t,r){let i=hu();const a=new Ct(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:g,value:{document:y}}=u.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||KA(DP(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return Se.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Bt()}As(e,t){return Se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _3(this)}getSize(e){return Se.resolve(this.size)}}class _3 extends Jk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),Se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class v3{constructor(e){this.persistence=e,this.Rs=new xg(t=>m_(t),g1),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _N,this.targetCount=0,this.vs=T_.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new T_(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.Dn(t),Se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((u,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),Se.waitFor(a).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),Se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.Ps.containsKey(t))}}class iL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new cu(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new v3(this),this.indexManager=new n3,this.remoteDocumentCache=new m3(r=>this.referenceDelegate.xs(r)),this.It=new Pk(t),this.Ns=new f3(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new g3(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){lt("MemoryPersistence","Starting transaction:",e);const i=new y3(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,t){return Se.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class y3 extends CP{constructor(e){super(),this.currentSequenceNumber=e}}class HT{constructor(e){this.persistence=e,this.Fs=new _N,this.$s=null}static Bs(e){return new HT(e)}get Ls(){if(this.$s)return this.$s;throw Bt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ls,r=>{const i=Ct.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,ln.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Se.or([()=>Se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class b3{constructor(e){this.It=e}$(e,t,r,i){const a=new DT("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nk,{unique:!0}),g.createObjectStore("documentMutations"),sL(e),function(g){g.createObjectStore("remoteDocuments")}(e));let u=Se.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),sL(e)),u=u.next(()=>function(g){const y=g.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ln.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",C)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(g,y){return y.store("mutations").W().next(C=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nk,{unique:!0});const S=y.store("mutations"),R=C.map(j=>S.put(j));return Se.waitFor(R)})}(e,a))),u=u.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.qs(a))),r<6&&i>=6&&(u=u.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(a))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(a))),r<11&&i>=11&&(u=u.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:GU});y.createIndex("collectionPathOverlayIndex",WU,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",zU,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:RU});y.createIndex("documentKeyIndex",FU),y.createIndex("collectionGroupIndex",PU)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,a))),r<15&&i>=15&&(u=u.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:UU}).createIndex("sequenceNumberIndex",$U,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:HU}).createIndex("documentKeyIndex",jU,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=VT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Se.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(g=>Se.forEach(g,y=>{pn(y.userId===a.userId);const C=w_(this.It,y);return qk(e,a.userId,C).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((u,g)=>{const y=new _r(u),C=[0,Ol(y)];a.push(t.get(C).next(S=>S?Se.resolve():t.put({targetId:0,path:Ol(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Se.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:VU});const r=t.store("collectionParents"),i=new mN,a=u=>{if(i.add(u)){const g=u.lastSegment(),y=u.popLast();return r.put({collectionId:g,parent:Ol(y)})}};return t.store("remoteDocuments").Z({X:!0},(u,g)=>{const y=new _r(u);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,g,y],C)=>{const S=Zh(g);return a(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=x1(i),u=Lk(this.It,a);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,u)=>{const g=t.store("remoteDocumentsV14"),y=(C=u,C.document?new Ct(_r.fromString(C.document.name).popFirst(5)):C.noDocument?Ct.fromSegments(C.noDocument.path):C.unknownDocument?Ct.fromSegments(C.unknownDocument.path):Bt()).path.toArray();var C;const S={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(g.put(S))}).next(()=>Se.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Xk(this.It),a=new iL(HT.Bs,this.It.re);return r.W().next(u=>{const g=new Map;return u.forEach(y=>{var C;let S=null!==(C=g.get(y.userId))&&void 0!==C?C:Rn();w_(this.It,y).keys().forEach(R=>S=S.add(R)),g.set(y.userId,S)}),Se.forEach(g,(y,C)=>{const S=new Go(C),R=kT.oe(this.It,S),j=a.getIndexManager(S),Z=UT.oe(S,this.It,j,a.referenceDelegate);return new rL(i,Z,R,j).recalculateAndSaveOverlaysForDocumentKeys(new cN(t,cu.at),y).next()})})}}function sL(n){n.createObjectStore("targetDocuments",{keyPath:LU}).createIndex("documentTargetsIndex",BU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kU,{unique:!0}),n.createObjectStore("targetGlobal")}const vN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yN{constructor(e,t,r,i,a,u,g,y,C,S,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=u,this.document=g,this.Js=C,this.Ys=S,this.Xs=R,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=j=>Promise.resolve(),!yN.C())throw new et(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new u3(this,i),this.ii=t+"main",this.It=new Pk(y),this.ri=new Wd(this.ii,this.Xs,new b3(this.It)),this.Cs=new s3(this.referenceDelegate,this.It),this.remoteDocumentCache=Xk(this.It),this.Ns=new YU,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&Vs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Fe.FAILED_PRECONDITION,vN);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new cu(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ve.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(wg(e))return lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return R1(e).get("owner").next(t=>Se.resolve(this.mi(t)))}gi(e){return jT(e).delete(this.clientId)}yi(){var e=this;return(0,Ve.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=qo(r,"clientMetadata");return i.W().next(a=>{const u=e.Ii(a,18e5),g=a.filter(y=>-1===u.indexOf(y));return Se.forEach(g,y=>i.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Se.resolve(!0):R1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new et(Fe.FAILED_PRECONDITION,vN);return!1}}return!(!this.networkEnabled||!this.inForeground)||jT(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ve.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new cN(t,cu.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>jT(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return UT.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new r3(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return kT.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){lt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?ZU:14===u?Fk:13===u?Rk:12===u?qU:11===u?Mk:void Bt();var u;let g;return this.ri.runTransaction(e,i,a,y=>(g=new cN(y,this.Ss?this.Ss.next():cu.at),"readwrite-primary"===t?this.fi(g).next(C=>!!C||this.di(g)).next(C=>{if(!C)throw Vs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new et(Fe.FAILED_PRECONDITION,IP);return r(g)}).next(C=>this.wi(g).next(()=>C)):this.Vi(g).next(()=>r(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}Vi(e){return R1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new et(Fe.FAILED_PRECONDITION,vN)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return R1(e).put("owner",t)}static C(){return Wd.C()}_i(e){const t=R1(e);return t.get("owner").next(r=>this.mi(r)?(lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Se.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vs(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return lt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vs("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Vs("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function R1(n){return qo(n,"owner")}function jT(n){return qo(n,"clientMetadata")}function bN(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class wN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Rn(),i=Rn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new wN(e,t.fromCache,r,i)}}class oL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Mi(e,t,i,r)).next(a=>a||this.Oi(e,t))}ki(e,t){if(WP(t))return Se.resolve(null);let r=du(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ST(t,null,"F"),r=du(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Rn(...a);return this.Ni.getDocuments(e,u).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const C=this.Fi(t,g);return this.$i(t,C,u,y.readTime)?this.ki(e,ST(t,null,"F")):this.Bi(e,C,t,y)}))})))}Mi(e,t,r,i){return WP(t)||i.isEqual(ln.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,r,i)?this.Oi(e,t):(zA()<=mg.in.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iN(t)),this.Bi(e,u,t,wP(i,-1)))})}Fi(e,t){let r=new hi(ZP(e));return t.forEach((i,a)=>{sN(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,t){return zA()<=mg.in.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",iN(t)),this.Ni.getDocumentsMatchingQuery(e,t,rc.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class w3{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new bs(wn),this.qi=new xg(a=>m_(a),g1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function aL(n,e,t,r){return new w3(n,e,t,r)}function lL(n,e){return DN.apply(this,arguments)}function DN(){return DN=(0,Ve.Z)(function*(n,e){const t=At(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],g=[];let y=Rn();for(const C of i){u.push(C.batchId);for(const S of C.mutations)y=y.add(S.key)}for(const C of a){g.push(C.batchId);for(const S of C.mutations)y=y.add(S.key)}return t.localDocuments.getDocuments(r,y).next(C=>({ji:C,removedBatchIds:u,addedBatchIds:g}))})})}),DN.apply(this,arguments)}function D3(n,e){const t=At(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,g,y,C){const S=y.batch,R=S.keys();let j=Se.resolve();return R.forEach(Z=>{j=j.next(()=>C.getEntry(g,Z)).next(ue=>{const _e=y.docVersions.get(Z);pn(null!==_e),ue.version.compareTo(_e)<0&&(S.applyToRemoteDocument(ue,y),ue.isValidDocument()&&(ue.setReadTime(y.commitVersion),C.addEntry(ue)))})}),j.next(()=>u.mutationQueue.removeMutationBatch(g,S))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let g=Rn();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(g=g.add(u.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uL(n){const e=At(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function I3(n,e){const t=At(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const g=[];e.targetChanges.forEach((S,R)=>{const j=i.get(R);if(!j)return;g.push(t.Cs.removeMatchingKeys(a,S.removedDocuments,R).next(()=>t.Cs.addMatchingKeys(a,S.addedDocuments,R)));let Z=j.withSequenceNumber(a.currentSequenceNumber);var ue,_e,De;e.targetMismatches.has(R)?Z=Z.withResumeToken(wo.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):S.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(S.resumeToken,r)),i=i.insert(R,Z),_e=Z,De=S,(0===(ue=j).resumeToken.approximateByteSize()||_e.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(a,Z))});let y=hu(),C=Rn();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(a,S))}),g.push(cL(a,u,e.documentUpdates).next(S=>{y=S.Wi,C=S.zi})),!r.isEqual(ln.min())){const S=t.Cs.getLastRemoteSnapshotVersion(a).next(R=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));g.push(S)}return Se.waitFor(g).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,C)).next(()=>y)}).then(a=>(t.Ui=i,a))}function cL(n,e,t){let r=Rn(),i=Rn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=hu();return t.forEach((g,y)=>{const C=a.get(g);y.isFoundDocument()!==C.isFoundDocument()&&(i=i.add(g)),y.isNoDocument()&&y.version.isEqual(ln.min())?(e.removeEntry(g,y.readTime),u=u.insert(g,y)):!C.isValidDocument()||y.version.compareTo(C.version)>0||0===y.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(y),u=u.insert(g,y)):lt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",y.version)}),{Wi:u,zi:i}})}function C3(n,e){const t=At(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u0(n,e){const t=At(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,Se.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new Sg(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function c0(n,e,t){return IN.apply(this,arguments)}function IN(){return IN=(0,Ve.Z)(function*(n,e,t){const r=At(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!wg(u))throw u;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),IN.apply(this,arguments)}function GT(n,e,t){const r=At(n);let i=ln.min(),a=Rn();return r.persistence.runTransaction("Execute query","readonly",u=>function(g,y,C){const S=At(g),R=S.qi.get(C);return void 0!==R?Se.resolve(S.Ui.get(R)):S.Cs.getTargetData(y,C)}(r,u,du(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,g.targetId).next(y=>{a=y})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:ln.min(),t?a:Rn())).next(g=>(fL(r,qP(e),g),{documents:g,Hi:a})))}function dL(n,e){const t=At(n),r=At(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(u=>u?u.target:null))}function hL(n,e){const t=At(n),r=t.Ki.get(e)||ln.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,wP(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(fL(t,e,i),i))}function fL(n,e,t){let r=ln.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function CN(){return CN=(0,Ve.Z)(function*(n,e,t,r){const i=At(n);let a=Rn(),u=hu();for(const C of t){const S=e.Ji(C.metadata.name);C.document&&(a=a.add(S));const R=e.Yi(C);R.setReadTime(e.Xi(C.metadata.readTime)),u=u.insert(S,R)}const g=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield u0(i,(C=r,du(Jy(_r.fromString(`__bundle__/docs/${C}`)))));var C;return i.persistence.runTransaction("Apply bundle documents","readwrite",C=>cL(C,g,u).next(S=>(g.apply(C),S)).next(S=>i.Cs.removeMatchingKeysForTargetId(C,y.targetId).next(()=>i.Cs.addMatchingKeys(C,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(C,S.Wi,S.zi)).next(()=>S.Wi)))}),CN.apply(this,arguments)}function E3(n,e){return TN.apply(this,arguments)}function TN(){return TN=(0,Ve.Z)(function*(n,e,t=Rn()){const r=yield u0(n,du(pN(e.bundledQuery))),i=At(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=zo(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(a,e);const g=r.withResumeToken(wo.EMPTY_BYTE_STRING,u);return i.Ui=i.Ui.insert(g.targetId,g),i.Cs.updateTargetData(a,g).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),TN.apply(this,arguments)}function pL(n,e){return`firestore_clients_${n}_${e}`}function gL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function EN(n,e){return`firestore_targets_${n}_${e}`}class WT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new et(i.error.code,i.error.message))),u?new WT(e,t,i.state,a):(Vs("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class F1{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new et(r.error.code,r.error.message))),a?new F1(e,r.state,i):(Vs("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=MT();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=NP(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new zT(e,a):(Vs("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xN{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xN(t.clientId,t.onlineState):(Vs("SharedClientState",`Failed to parse online state: ${e}`),null)}}class SN{constructor(){this.activeTargetIds=MT()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AN{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new bs(wn),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=pL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new SN),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ve.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(pL(e.persistenceKey,i));if(a){const u=zT.Zi(i,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(EN(this.persistenceKey,e));if(r){const i=F1.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(EN(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return lt("SharedClientState","READ",e,t),t}setItem(e,t){lt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(lt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Vs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let u=cu.at;if(null!=a)try{const g=JSON.parse(a);pn("number"==typeof g),u=g}catch(g){Vs("SharedClientState","Failed to read sequence number from WebStorage",g)}return u}(r.newValue);i!==cu.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new WT(this.currentUser,e,t,r),a=gL(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=gL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=EN(this.persistenceKey,e),a=new F1(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return zT.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return WT.Zi(new Go(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return F1.Zi(i,t)}yr(e){return xN.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),u=[],g=[];return a.forEach(y=>{i.has(y)||u.push(y)}),i.forEach(y=>{a.has(y)||g.push(y)}),this.syncEngine.Br(u,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=MT();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class mL{constructor(){this.Lr=new SN,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new SN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class x3{qr(e){}shutdown(){}}class _L{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const S3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class A3{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class N3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,a){const u=this.ao(e,t);lt("RestConnection","Sending: ",u,r);const g={};return this.ho(g,i,a),this.lo(e,u,g,r).then(y=>(lt("RestConnection","Received: ",y),y),y=>{throw u_("RestConnection",`${e} failed with error: `,y,"url: ",u,"request:",r),y})}fo(e,t,r,i,a,u){return this.co(e,t,r,i,a)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,t){return`${this.oo}/v1/${t}:${S3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((a,u)=>{const g=new x5;g.listenOnce(C5.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case WA.NO_ERROR:const C=g.getResponseJson();lt("Connection","XHR received:",JSON.stringify(C)),a(C);break;case WA.TIMEOUT:lt("Connection",'RPC "'+e+'" timed out'),u(new et(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case WA.HTTP_ERROR:const S=g.getStatus();if(lt("Connection",'RPC "'+e+'" failed with status:',S,"response text:",g.getResponseText()),S>0){const R=g.getResponseJson().error;if(R&&R.status&&R.message){const j=function(Z){const ue=Z.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(ue)>=0?ue:Fe.UNKNOWN}(R.status);u(new et(j,R.message))}else u(new et(Fe.UNKNOWN,"Server responded with status "+g.getStatus()))}else u(new et(Fe.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{lt("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);g.send(t,"POST",y,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=D5(),u=I5(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new E5({})),this.ho(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=i.join("");lt("Connection","Creating WebChannel: "+y,g);const C=a.createWebChannel(y,g);let S=!1,R=!1;const j=new A3({Hr:ue=>{R?lt("Connection","Not sending because WebChannel is closed:",ue):(S||(lt("Connection","Opening WebChannel transport."),C.open(),S=!0),lt("Connection","WebChannel sending:",ue),C.send(ue))},Jr:()=>C.close()}),Z=(ue,_e,De)=>{ue.listen(_e,ot=>{try{De(ot)}catch(ut){setTimeout(()=>{throw ut},0)}})};return Z(C,yT.EventType.OPEN,()=>{R||lt("Connection","WebChannel transport opened.")}),Z(C,yT.EventType.CLOSE,()=>{R||(R=!0,lt("Connection","WebChannel transport closed"),j.io())}),Z(C,yT.EventType.ERROR,ue=>{R||(R=!0,u_("Connection","WebChannel transport errored:",ue),j.io(new et(Fe.UNAVAILABLE,"The operation could not be completed")))}),Z(C,yT.EventType.MESSAGE,ue=>{var _e;if(!R){const De=ue.data[0];pn(!!De);const ot=De,ut=ot.error||(null===(_e=ot[0])||void 0===_e?void 0:_e.error);if(ut){lt("Connection","WebChannel received error:",ut);const vt=ut.status;let it=function(Dt){const sn=so[Dt];if(void 0!==sn)return uk(sn)}(vt),gt=ut.message;void 0===it&&(it=Fe.INTERNAL,gt="Unknown error status: "+vt+" with message "+ut.message),R=!0,j.io(new et(it,gt)),C.close()}else lt("Connection","WebChannel received:",De),j.ro(De)}}),Z(u,T5.STAT_EVENT,ue=>{ue.stat===gP.PROXY?lt("Connection","Detected buffering proxy"):ue.stat===gP.NOPROXY&&lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.so()},0),j}}function vL(){return typeof window<"u"?window:null}function qT(){return typeof document<"u"?document:null}function P1(n){return new bU(n,!0)}class NN{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&lt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class yL{constructor(e,t,r,i,a,u,g,y){this.Hs=e,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new NN(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ve.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ve.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ve.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Fe.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===Fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new et(Fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Ve.Z)(function*(){e.state=0,e.start()}))}Qo(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O3 extends yL{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function IU(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Bt(),i=e.targetChange.targetIds||[],a=function(y,C){return y.gt?(pn(void 0===C||"string"==typeof C),wo.fromBase64String(C||"")):(pn(void 0===C||C instanceof Uint8Array),wo.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,g=u&&function(y){const C=void 0===y.code?Fe.UNKNOWN:uk(y.code);return new et(C,y.message||"")}(u);t=new pk(r,i,a,g||null)}else if("documentChange"in e){const r=e.documentChange,i=qh(n,r.document.name),a=zo(r.document.updateTime),u=new Da({mapValue:{fields:r.document.fields}}),g=xi.newFoundDocument(i,a,u);t=new RT(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=qh(n,r.document),a=r.readTime?zo(r.readTime):ln.min(),u=xi.newNoDocument(i,a);t=new RT([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=qh(n,r.document);t=new RT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Bt();{const r=e.filter,a=new hU(r.count||0);t=new fk(r.targetId,a)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return ln.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ln.min():a.readTime?zo(a.readTime):ln.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=T1(this.It),t.addTarget=function(i,a){let u;const g=a.target;return u=ET(g)?{documents:Ck(i,g)}:{query:Tk(i,g)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=vk(i,a.resumeToken):a.snapshotVersion.compareTo(ln.min())>0&&(u.readTime=I1(i,a.snapshotVersion.toTimestamp())),u}(this.It,e);const r=function TU(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=T1(this.It),t.removeTarget=e,this.Bo(t)}}class M3 extends yL{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function CU(n,e){return n&&n.length>0?(pn(void 0!==e),n.map(t=>function(r,i){let a=zo(r.updateTime?r.updateTime:i);return a.isEqual(ln.min())&&(a=zo(i)),new uU(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zo(e.commitTime);return this.listener.Zo(r,t)}return pn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=T1(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>E1(this.It,r))};this.Bo(t)}}class R3 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new et(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new et(Fe.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.fo(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new et(Fe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class F3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Vs(t),this.ou=!1):lt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class P3{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(g=>{r.enqueueAndForget((0,Ve.Z)(function*(){var y;Og(u)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Ve.Z)(function*(C){const S=At(C);S._u.add(4),yield d0(S),S.gu.set("Unknown"),S._u.delete(4),yield k1(S)}),function(C){return y.apply(this,arguments)})(u))}))}),this.gu=new F3(r,i)}}function k1(n){return ON.apply(this,arguments)}function ON(){return ON=(0,Ve.Z)(function*(n){if(Og(n))for(const e of n.wu)yield e(!0)}),ON.apply(this,arguments)}function d0(n){return MN.apply(this,arguments)}function MN(){return MN=(0,Ve.Z)(function*(n){for(const e of n.wu)yield e(!1)}),MN.apply(this,arguments)}function ZT(n,e){const t=At(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),PN(t)?FN(t):f0(t).ko()&&RN(t,e))}function L1(n,e){const t=At(n),r=f0(t);t.du.delete(e),r.ko()&&bL(t,e),0===t.du.size&&(r.ko()?r.Fo():Og(t)&&t.gu.set("Unknown"))}function RN(n,e){n.yu.Ot(e.targetId),f0(n).zo(e)}function bL(n,e){n.yu.Ot(e),f0(n).Ho(e)}function FN(n){n.yu=new _U({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),f0(n).start(),n.gu.uu()}function PN(n){return Og(n)&&!f0(n).No()&&n.du.size>0}function Og(n){return 0===At(n)._u.size}function wL(n){n.yu=void 0}function k3(n){return kN.apply(this,arguments)}function kN(){return kN=(0,Ve.Z)(function*(n){n.du.forEach((e,t)=>{RN(n,e)})}),kN.apply(this,arguments)}function L3(n,e){return LN.apply(this,arguments)}function LN(){return LN=(0,Ve.Z)(function*(n,e){wL(n),PN(n)?(n.gu.hu(e),FN(n)):n.gu.set("Unknown")}),LN.apply(this,arguments)}function B3(n,e,t){return BN.apply(this,arguments)}function BN(){return BN=(0,Ve.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof pk&&2===e.state&&e.cause)try{yield(r=(0,Ve.Z)(function*(i,a){const u=a.cause;for(const g of a.targetIds)i.du.has(g)&&(yield i.remoteSyncer.rejectListen(g,u),i.du.delete(g),i.yu.removeTarget(g))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield KT(n,r)}else if(e instanceof RT?n.yu.Gt(e):e instanceof fk?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(ln.min()))try{const r=yield uL(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.yu.te(a);return u.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const C=i.du.get(y);C&&i.du.set(y,C.withResumeToken(g.resumeToken,a))}}),u.targetMismatches.forEach(g=>{const y=i.du.get(g);if(!y)return;i.du.set(g,y.withResumeToken(wo.EMPTY_BYTE_STRING,y.snapshotVersion)),bL(i,g);const C=new Sg(y.target,g,1,y.sequenceNumber);RN(i,C)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){lt("RemoteStore","Failed to raise snapshot:",r),yield KT(n,r)}var r}),BN.apply(this,arguments)}function KT(n,e,t){return VN.apply(this,arguments)}function VN(){return VN=(0,Ve.Z)(function*(n,e,t){if(!wg(e))throw e;n._u.add(1),yield d0(n),n.gu.set("Offline"),t||(t=()=>uL(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ve.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield k1(n)}))}),VN.apply(this,arguments)}function DL(n,e){return e().catch(t=>KT(n,t,e))}function h0(n){return UN.apply(this,arguments)}function UN(){return UN=(0,Ve.Z)(function*(n){const e=At(n),t=Mg(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;V3(e);)try{const i=yield C3(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,U3(e,i)}catch(i){yield KT(e,i)}IL(e)&&CL(e)}),UN.apply(this,arguments)}function V3(n){return Og(n)&&n.fu.length<10}function U3(n,e){n.fu.push(e);const t=Mg(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function IL(n){return Og(n)&&!Mg(n).No()&&n.fu.length>0}function CL(n){Mg(n).start()}function $3(n){return $N.apply(this,arguments)}function $N(){return $N=(0,Ve.Z)(function*(n){Mg(n).eu()}),$N.apply(this,arguments)}function H3(n){return HN.apply(this,arguments)}function HN(){return HN=(0,Ve.Z)(function*(n){const e=Mg(n);for(const t of n.fu)e.Xo(t.mutations)}),HN.apply(this,arguments)}function j3(n,e,t){return jN.apply(this,arguments)}function jN(){return jN=(0,Ve.Z)(function*(n,e,t){const r=n.fu.shift(),i=hN.from(r,e,t);yield DL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield h0(n)}),jN.apply(this,arguments)}function G3(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,Ve.Z)(function*(n,e){var t;e&&Mg(n).Yo&&(yield(t=(0,Ve.Z)(function*(r,i){if(lk(a=i.code)&&a!==Fe.ABORTED){const u=r.fu.shift();Mg(r).Oo(),yield DL(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield h0(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),IL(n)&&CL(n)}),GN.apply(this,arguments)}function TL(n,e){return WN.apply(this,arguments)}function WN(){return WN=(0,Ve.Z)(function*(n,e){const t=At(n);t.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const r=Og(t);t._u.add(3),yield d0(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield k1(t)}),WN.apply(this,arguments)}function zN(n,e){return qN.apply(this,arguments)}function qN(){return qN=(0,Ve.Z)(function*(n,e){const t=At(n);e?(t._u.delete(2),yield k1(t)):e||(t._u.add(2),yield d0(t),t.gu.set("Unknown"))}),qN.apply(this,arguments)}function f0(n){return n.pu||(n.pu=function(e,t,r){const i=At(e);return i.su(),new O3(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:k3.bind(null,n),Zr:L3.bind(null,n),Wo:B3.bind(null,n)}),n.wu.push(function(){var e=(0,Ve.Z)(function*(t){t?(n.pu.Oo(),PN(n)?FN(n):n.gu.set("Unknown")):(yield n.pu.stop(),wL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Mg(n){return n.Iu||(n.Iu=function(e,t,r){const i=At(e);return i.su(),new M3(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:$3.bind(null,n),Zr:G3.bind(null,n),tu:H3.bind(null,n),Zo:j3.bind(null,n)}),n.wu.push(function(){var e=(0,Ve.Z)(function*(t){t?(n.Iu.Oo(),yield h0(n)):(yield n.Iu.stop(),n.fu.length>0&&(lt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class ZN{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,g=new ZN(e,t,u,i,a);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(n,e){if(Vs("AsyncQueue",`${e}: ${n}`),wg(n))return new et(Fe.UNAVAILABLE,`${e}: ${n}`);throw n}class g0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ct.comparator(t.key,r.key):(t,r)=>Ct.comparator(t.key,r.key),this.keyedMap=y1(),this.sortedSet=new bs(this.comparator)}static emptySet(e){return new g0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof g0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new g0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class EL{constructor(){this.Tu=new bs(Ct.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Bt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class m0{constructor(e,t,r,i,a,u,g,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=g,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new m0(e,t,g0.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&m1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class W3{constructor(){this.Au=void 0,this.listeners=[]}}class z3{constructor(){this.queries=new xg(e=>zP(e),m1),this.onlineState="Unknown",this.Ru=new Set}}function KN(n,e){return YN.apply(this,arguments)}function YN(){return YN=(0,Ve.Z)(function*(n,e){const t=At(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new W3),i)try{a.Au=yield t.onListen(r)}catch(u){const g=p0(u,`Initialization of query '${iN(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&XN(t)}),YN.apply(this,arguments)}function QN(n,e){return JN.apply(this,arguments)}function JN(){return JN=(0,Ve.Z)(function*(n,e){const t=At(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),JN.apply(this,arguments)}function q3(n,e){const t=At(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const g of u.listeners)g.Pu(i)&&(r=!0);u.Au=i}}r&&XN(t)}function Z3(n,e,t){const r=At(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function XN(n){n.Ru.forEach(e=>{e.next()})}class eO{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new m0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=m0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class K3{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class xL{constructor(e){this.It=e}Ji(e){return qh(this.It,e)}Yi(e){return e.metadata.exists?Ik(this.It,e.document,!1):xi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return zo(e)}}class Y3{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SL(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=_r.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new xL(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const g=(t.get(u)||Rn()).add(a);t.set(u,g)}}return t}complete(){var e=this;return(0,Ve.Z)(function*(){const t=yield function T3(n,e,t,r){return CN.apply(this,arguments)}(e.localStore,new xL(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield E3(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function SL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class AL{constructor(e){this.key=e}}class NL{constructor(e){this.key=e}}class OL{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Rn(),this.mutatedKeys=Rn(),this.Ku=ZP(e),this.Gu=new g0(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new EL,i=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,g=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,R)=>{const j=i.get(S),Z=sN(this.query,R)?R:null,ue=!!j&&this.mutatedKeys.has(j.key),_e=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let De=!1;j&&Z?j.data.isEqual(Z.data)?ue!==_e&&(r.track({type:3,doc:Z}),De=!0):this.zu(j,Z)||(r.track({type:2,doc:Z}),De=!0,(y&&this.Ku(Z,y)>0||C&&this.Ku(Z,C)<0)&&(g=!0)):!j&&Z?(r.track({type:0,doc:Z}),De=!0):j&&!Z&&(r.track({type:1,doc:j}),De=!0,(y||C)&&(g=!0)),De&&(Z?(u=u.add(Z),a=_e?a.add(S):a.delete(S)):(u=u.delete(S),a=a.delete(S)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const S="F"===this.query.limitType?u.last():u.first();u=u.delete(S.key),a=a.delete(S.key),r.track({type:1,doc:S})}return{Gu:u,Wu:r,$i:g,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((C,S)=>function(R,j){const Z=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return Z(R)-Z(j)}(C.type,S.type)||this.Ku(C.doc,S.doc)),this.Hu(r);const u=t?this.Ju():[],g=0===this.qu.size&&this.current?1:0,y=g!==this.Uu;return this.Uu=g,0!==a.length||y?{snapshot:new m0(this.query,e.Gu,i,a,e.mutatedKeys,0===g,y,!1),Yu:u}:{Yu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new EL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Rn(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new NL(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new AL(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=Rn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return m0.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Q3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class J3{constructor(e){this.key=e,this.ec=!1}}class X3{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new xg(g=>zP(g),m1),this.ic=new Map,this.rc=new Set,this.oc=new bs(Ct.comparator),this.uc=new Map,this.cc=new _N,this.ac={},this.hc=new Map,this.lc=T_.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function e$(n,e){return tO.apply(this,arguments)}function tO(){return tO=(0,Ve.Z)(function*(n,e){const t=CO(n);let r,i;const a=t.sc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const u=yield u0(t.localStore,du(e));t.isPrimaryClient&&ZT(t.remoteStore,u);const g=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield nO(t,e,r,"current"===g)}return i}),tO.apply(this,arguments)}function nO(n,e,t,r){return rO.apply(this,arguments)}function rO(){return rO=(0,Ve.Z)(function*(n,e,t,r){n.dc=(S,R,j)=>{return(Z=(0,Ve.Z)(function*(ue,_e,De,ot){let ut=_e.view.ju(De);ut.$i&&(ut=yield GT(ue.localStore,_e.query,!1).then(({documents:gt})=>_e.view.ju(gt,ut)));const vt=ot&&ot.targetChanges.get(_e.targetId),it=_e.view.applyChanges(ut,ue.isPrimaryClient,vt);return fO(ue,_e.targetId,it.Yu),it.snapshot}),function(ue,_e,De,ot){return Z.apply(this,arguments)})(n,S,R,j);var Z};const i=yield GT(n.localStore,e,!0),a=new OL(e,i.Hi),u=a.ju(i.documents),g=D1.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=a.applyChanges(u,n.isPrimaryClient,g);fO(n,t,y.Yu);const C=new Q3(e,t,a);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),rO.apply(this,arguments)}function t$(n,e){return iO.apply(this,arguments)}function iO(){return iO=(0,Ve.Z)(function*(n,e){const t=At(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(a=>!m1(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield c0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),L1(t.remoteStore,r.targetId),_0(t,r.targetId)}).catch(bg))):(_0(t,r.targetId),yield c0(t.localStore,r.targetId,!0))}),iO.apply(this,arguments)}function sO(){return sO=(0,Ve.Z)(function*(n,e,t){const r=TO(n);try{const i=yield function(a,u){const g=At(a),y=Ki.now(),C=u.reduce((j,Z)=>j.add(Z.key),Rn());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Z=hu(),ue=Rn();return g.Gi.getEntries(j,C).next(_e=>{Z=_e,Z.forEach((De,ot)=>{ot.isValidDocument()||(ue=ue.add(De))})}).next(()=>g.localDocuments.getOverlayedDocuments(j,Z)).next(_e=>{S=_e;const De=[];for(const ot of u){const ut=dU(ot,S.get(ot.key).overlayedDocument);null!=ut&&De.push(new ep(ot.key,ut,LP(ut.value.mapValue),Yi.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,De,u)}).next(_e=>{R=_e;const De=_e.applyToLocalDocumentSet(S,ue);return g.documentOverlayCache.saveOverlays(j,_e.batchId,De)})}).then(()=>({batchId:R.batchId,changes:dk(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,g){let y=a.ac[a.currentUser.toKey()];y||(y=new bs(wn)),y=y.insert(u,g),a.ac[a.currentUser.toKey()]=y}(r,i.batchId,t),yield tp(r,i.changes),yield h0(r.remoteStore)}catch(i){const a=p0(i,"Failed to persist write");t.reject(a)}}),sO.apply(this,arguments)}function ML(n,e){return oO.apply(this,arguments)}function oO(){return oO=(0,Ve.Z)(function*(n,e){const t=At(n);try{const r=yield I3(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.uc.get(a);u&&(pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.ec=!0:i.modifiedDocuments.size>0?pn(u.ec):i.removedDocuments.size>0&&(pn(u.ec),u.ec=!1))}),yield tp(t,r,e)}catch(r){yield bg(r)}}),oO.apply(this,arguments)}function RL(n,e,t){const r=At(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((a,u)=>{const g=u.view.bu(e);g.snapshot&&i.push(g.snapshot)}),function(a,u){const g=At(a);g.onlineState=u;let y=!1;g.queries.forEach((C,S)=>{for(const R of S.listeners)R.bu(u)&&(y=!0)}),y&&XN(g)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function r$(n,e,t){return aO.apply(this,arguments)}function aO(){return aO=(0,Ve.Z)(function*(n,e,t){const r=At(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),a=i&&i.key;if(a){let u=new bs(Ct.comparator);u=u.insert(a,xi.newNoDocument(a,ln.min()));const g=Rn().add(a),y=new w1(ln.min(),new Map,new hi(wn),u,g);yield ML(r,y),r.oc=r.oc.remove(a),r.uc.delete(e),pO(r)}else yield c0(r.localStore,e,!1).then(()=>_0(r,e,t)).catch(bg)}),aO.apply(this,arguments)}function i$(n,e){return lO.apply(this,arguments)}function lO(){return lO=(0,Ve.Z)(function*(n,e){const t=At(n),r=e.batch.batchId;try{const i=yield D3(t.localStore,e);hO(t,r,null),dO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield tp(t,i)}catch(i){yield bg(i)}}),lO.apply(this,arguments)}function s$(n,e,t){return uO.apply(this,arguments)}function uO(){return uO=(0,Ve.Z)(function*(n,e,t){const r=At(n);try{const i=yield function(a,u){const g=At(a);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let C;return g.mutationQueue.lookupMutationBatch(y,u).next(S=>(pn(null!==S),C=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,C,u)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,C)).next(()=>g.localDocuments.getDocuments(y,C))})}(r.localStore,e);hO(r,e,t),dO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield tp(r,i)}catch(i){yield bg(i)}}),uO.apply(this,arguments)}function cO(){return cO=(0,Ve.Z)(function*(n,e){const t=At(n);Og(t.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=At(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>u.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=p0(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),cO.apply(this,arguments)}function dO(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function hO(n,e,t){const r=At(n);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function _0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||FL(n,r)})}function FL(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(L1(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),pO(n))}function fO(n,e,t){for(const r of t)r instanceof AL?(n.cc.addReference(r.key,e),a$(n,r)):r instanceof NL?(lt("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||FL(n,r.key)):Bt()}function a$(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(lt("SyncEngine","New document in limbo: "+t),n.rc.add(r),pO(n))}function pO(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ct(_r.fromString(e)),r=n.lc.next();n.uc.set(r,new J3(t)),n.oc=n.oc.insert(t,r),ZT(n.remoteStore,new Sg(du(Jy(t.path)),r,2,cu.at))}}function tp(n,e,t){return gO.apply(this,arguments)}function gO(){return gO=(0,Ve.Z)(function*(n,e,t){const r=At(n),i=[],a=[],u=[];var g;r.sc.isEmpty()||(r.sc.forEach((g,y)=>{u.push(r.dc(y,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,C.fromCache?"not-current":"current"),i.push(C);const S=wN.Ci(y.targetId,C);a.push(S)}}))}),yield Promise.all(u),r.nc.Wo(i),yield(g=(0,Ve.Z)(function*(y,C){const S=At(y);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Se.forEach(C,j=>Se.forEach(j.Si,Z=>S.persistence.referenceDelegate.addReference(R,j.targetId,Z)).next(()=>Se.forEach(j.Di,Z=>S.persistence.referenceDelegate.removeReference(R,j.targetId,Z)))))}catch(R){if(!wg(R))throw R;lt("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const j=R.targetId;if(!R.fromCache){const Z=S.Ui.get(j),_e=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);S.Ui=S.Ui.insert(j,_e)}}}),function(y,C){return g.apply(this,arguments)})(r.localStore,a))}),gO.apply(this,arguments)}function l$(n,e){return mO.apply(this,arguments)}function mO(){return mO=(0,Ve.Z)(function*(n,e){const t=At(n);if(!t.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const r=yield lL(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(u=>{u.forEach(g=>{g.reject(new et(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield tp(t,r.ji)}var i}),mO.apply(this,arguments)}function u$(n,e){const t=At(n),r=t.uc.get(e);if(r&&r.ec)return Rn().add(r.key);{let i=Rn();const a=t.ic.get(e);if(!a)return i;for(const u of a){const g=t.sc.get(u);i=i.unionWith(g.view.Qu)}return i}}function c$(n,e){return _O.apply(this,arguments)}function _O(){return _O=(0,Ve.Z)(function*(n,e){const t=At(n),r=yield GT(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&fO(t,e.targetId,i.Yu),i}),_O.apply(this,arguments)}function d$(n,e){return vO.apply(this,arguments)}function vO(){return vO=(0,Ve.Z)(function*(n,e){const t=At(n);return hL(t.localStore,e).then(r=>tp(t,r))}),vO.apply(this,arguments)}function h$(n,e,t,r){return yO.apply(this,arguments)}function yO(){return yO=(0,Ve.Z)(function*(n,e,t,r){const i=At(n),a=yield function(u,g){const y=At(u),C=At(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",S=>C.Tn(S,g).next(R=>R?y.localDocuments.getDocuments(S,R):Se.resolve(null)))}(i.localStore,e);var g;null!==a?("pending"===t?yield h0(i.remoteStore):"acknowledged"===t||"rejected"===t?(hO(i,e,r||null),dO(i,e),g=e,At(At(i.localStore).mutationQueue).An(g)):Bt(),yield tp(i,a)):lt("SyncEngine","Cannot apply mutation batch with id: "+e)}),yO.apply(this,arguments)}function bO(){return bO=(0,Ve.Z)(function*(n,e){const t=At(n);if(CO(t),TO(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield PL(t,r.toArray());t.fc=!0,yield zN(t.remoteStore,!0);for(const a of i)ZT(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(_0(t,u),c0(t.localStore,u,!0))),L1(t.remoteStore,u)}),yield i,yield PL(t,r),function(a){const u=At(a);u.uc.forEach((g,y)=>{L1(u.remoteStore,y)}),u.cc.fs(),u.uc=new Map,u.oc=new bs(Ct.comparator)}(t),t.fc=!1,yield zN(t.remoteStore,!1)}}),bO.apply(this,arguments)}function PL(n,e,t){return wO.apply(this,arguments)}function wO(){return wO=(0,Ve.Z)(function*(n,e,t){const r=At(n),i=[],a=[];for(const u of e){let g;const y=r.ic.get(u);if(y&&0!==y.length){g=yield u0(r.localStore,du(y[0]));for(const C of y){const S=r.sc.get(C),R=yield c$(r,S);R.snapshot&&a.push(R.snapshot)}}else{const C=yield dL(r.localStore,u);g=yield u0(r.localStore,C),yield nO(r,kL(C),u,!1)}i.push(g)}return r.nc.Wo(a),i}),wO.apply(this,arguments)}function kL(n){return GP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function p$(n){const e=At(n);return At(At(e.localStore).persistence).vi()}function g$(n,e,t,r){return DO.apply(this,arguments)}function DO(){return DO=(0,Ve.Z)(function*(n,e,t,r){const i=At(n);if(i.fc)return void lt("SyncEngine","Ignoring unexpected query state notification.");const a=i.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield hL(i.localStore,qP(a[0])),g=w1.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield tp(i,u,g);break}case"rejected":yield c0(i.localStore,e,!0),_0(i,e,r);break;default:Bt()}}),DO.apply(this,arguments)}function m$(n,e,t){return IO.apply(this,arguments)}function IO(){return IO=(0,Ve.Z)(function*(n,e,t){const r=CO(n);if(r.fc){for(const i of e){if(r.ic.has(i)){lt("SyncEngine","Adding an already active target "+i);continue}const a=yield dL(r.localStore,i),u=yield u0(r.localStore,a);yield nO(r,kL(a),u.targetId,!1),ZT(r.remoteStore,u)}for(const i of t)r.ic.has(i)&&(yield c0(r.localStore,i,!1).then(()=>{L1(r.remoteStore,i),_0(r,i)}).catch(bg))}}),IO.apply(this,arguments)}function CO(n){const e=At(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ML.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r$.bind(null,e),e.nc.Wo=q3.bind(null,e.eventManager),e.nc._c=Z3.bind(null,e.eventManager),e}function TO(n){const e=At(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s$.bind(null,e),e}class LL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ve.Z)(function*(){t.It=P1(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return aL(this.persistence,new oL,e.initialUser,this.It)}gc(e){return new iL(HT.Bs,this.It)}mc(e){return new mL}terminate(){var e=this;return(0,Ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class BL extends LL{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ve.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield TO(r.Ec.syncEngine),yield h0(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return aL(this.persistence,new oL,e.initialUser,this.It)}Ic(e,t){return new a3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new j5(t,this.persistence);return new H5(e.asyncQueue,r)}gc(e){const t=bN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fu.withCacheSize(this.cacheSizeBytes):fu.DEFAULT;return new yN(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,vL(),qT(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new mL}}class v$ extends BL{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ve.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof AN&&(r.sharedClientState.syncEngine={Fr:h$.bind(null,i),$r:g$.bind(null,i),Br:m$.bind(null,i),vi:p$.bind(null,i),Or:d$.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,Ve.Z)(function*(u){yield function f$(n,e){return bO.apply(this,arguments)}(r.Ec.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}mc(e){const t=vL();if(!AN.C(t))throw new et(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=bN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class EO{initialize(e,t){var r=this;return(0,Ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>RL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=l$.bind(null,r.syncEngine),yield zN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new z3}createDatastore(e){const t=P1(e.databaseInfo.databaseId),r=new N3(e.databaseInfo);return new R3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=g=>RL(this.syncEngine,g,0),u=_L.C()?new _L:new x3,new P3(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,g,y,C){const S=new X3(r,i,a,u,g,y);return C&&(S.fc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ve.Z)(function*(t){const r=At(t);lt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield d0(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function VL(n,e=10240){let t=0;return{read:()=>(0,Ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class YT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class y${constructor(e,t){this.bc=e,this.It=t,this.metadata=new Wo,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Ve.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Ve.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Ve.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const a=yield e.Dc(i);return new K3(JSON.parse(a),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Ve.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,Ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Ve.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class b${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new et(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ve.Z)(function*(a,u){const g=At(a),y=T1(g.It)+"/documents",C={documents:u.map(Z=>C1(g.It,Z))},S=yield g.fo("BatchGetDocuments",y,C,u.length),R=new Map;S.forEach(Z=>{const ue=function DU(n,e){return"found"in e?function(t,r){pn(!!r.found);const i=qh(t,r.found.name),a=zo(r.found.updateTime),u=new Da({mapValue:{fields:r.found.fields}});return xi.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){pn(!!r.missing),pn(!!r.readTime);const i=qh(t,r.missing),a=zo(r.readTime);return xi.newNoDocument(i,a)}(n,e):Bt()}(g.It,Z);R.set(ue.key.toString(),ue)});const j=[];return u.forEach(Z=>{const ue=R.get(Z.toString());pn(!!ue),j.push(ue)}),j}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new r0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ct.fromPath(i);e.mutations.push(new oN(a,e.precondition(a)))}),yield(r=(0,Ve.Z)(function*(i,a){const u=At(i),g=T1(u.It)+"/documents",y={writes:a.map(C=>E1(u.It,C))};yield u.co("Commit",g,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bt();t=ln.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new et(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ln.min())?Yi.exists(!1):Yi.updateTime(t):Yi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ln.min()))throw new et(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yi.updateTime(t)}return Yi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class w${constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new NN(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Ve.Z)(function*(){const t=new b$(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Oc(a)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!c1(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!lk(t)}return!1}}class D${constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Go.UNAUTHENTICATED,this.clientId=yP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Ve.Z)(function*(g){lt("FirestoreClient","Received user=",g.uid),yield a.authCredentialListener(g),a.user=g});return function(g){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(lt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=p0(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function UL(n,e){return xO.apply(this,arguments)}function xO(){return xO=(0,Ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ve.Z)(function*(a){r.isEqual(a)||(yield lL(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),xO.apply(this,arguments)}function $L(n,e){return SO.apply(this,arguments)}function SO(){return SO=(0,Ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield AO(n);lt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>TL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>TL(e.remoteStore,a)),n.onlineComponents=e}),SO.apply(this,arguments)}function AO(n){return NO.apply(this,arguments)}function NO(){return NO=(0,Ve.Z)(function*(n){return n.offlineComponents||(lt("FirestoreClient","Using default OfflineComponentProvider"),yield UL(n,new LL)),n.offlineComponents}),NO.apply(this,arguments)}function QT(n){return OO.apply(this,arguments)}function OO(){return OO=(0,Ve.Z)(function*(n){return n.onlineComponents||(lt("FirestoreClient","Using default OnlineComponentProvider"),yield $L(n,new EO)),n.onlineComponents}),OO.apply(this,arguments)}function HL(n){return AO(n).then(e=>e.persistence)}function JT(n){return AO(n).then(e=>e.localStore)}function jL(n){return QT(n).then(e=>e.remoteStore)}function MO(n){return QT(n).then(e=>e.syncEngine)}function v0(n){return RO.apply(this,arguments)}function RO(){return RO=(0,Ve.Z)(function*(n){const e=yield QT(n),t=e.eventManager;return t.onListen=e$.bind(null,e.syncEngine),t.onUnlisten=t$.bind(null,e.syncEngine),t}),RO.apply(this,arguments)}function GL(n,e,t={}){const r=new Wo;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(i,a,u,g,y){const C=new YT({next:R=>{a.enqueueAndForget(()=>QN(i,S));const j=R.docs.has(u);!j&&R.fromCache?y.reject(new et(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&R.fromCache&&g&&"server"===g.source?y.reject(new et(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new eO(Jy(u.path),C,{includeMetadataChanges:!0,Nu:!0});return KN(i,S)}(yield v0(n),n.asyncQueue,e,t,r)})),r.promise}function WL(n,e,t={}){const r=new Wo;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(i,a,u,g,y){const C=new YT({next:R=>{a.enqueueAndForget(()=>QN(i,S)),R.fromCache&&"server"===g.source?y.reject(new et(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new eO(u,C,{includeMetadataChanges:!0,Nu:!0});return KN(i,S)}(yield v0(n),n.asyncQueue,e,t,r)})),r.promise}const zL=new Map;function FO(n,e,t){if(!t)throw new et(Fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qL(n,e,t,r){if(!0===e&&!0===r)throw new et(Fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZL(n){if(!Ct.isDocumentKey(n))throw new et(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KL(n){if(Ct.isDocumentKey(n))throw new et(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Bt()}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new et(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XT(n);throw new et(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function YL(n,e){if(e<=0)throw new et(Fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class QL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new et(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new et(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B1{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new et(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new et(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new N5;switch(t.type){case"gapi":return new F5(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new et(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zL.get(e);t&&(lt("ComponentProvider","Removing Datastore"),zL.delete(e),t.terminate())}(this),Promise.resolve()}}class Vi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vi(this.firestore,e,this._key)}}class Qa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class Kh extends Qa{constructor(e,t,r){super(e,t,Jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vi(this.firestore,null,new Ct(e))}withConverter(e){return new Kh(this.firestore,e,this._path)}}function JL(n,e,...t){if(n=(0,Mn.m9)(n),FO("collection","path",e),n instanceof B1){const r=_r.fromString(e,...t);return KL(r),new Kh(n,null,r)}{if(!(n instanceof Vi||n instanceof Kh))throw new et(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_r.fromString(e,...t));return KL(r),new Kh(n.firestore,null,r)}}function eE(n,e,...t){if(n=(0,Mn.m9)(n),1===arguments.length&&(e=yP.R()),FO("doc","path",e),n instanceof B1){const r=_r.fromString(e,...t);return ZL(r),new Vi(n,null,new Ct(r))}{if(!(n instanceof Vi||n instanceof Kh))throw new et(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_r.fromString(e,...t));return ZL(r),new Vi(n.firestore,n instanceof Kh?n.converter:null,new Ct(r))}}function XL(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),(n instanceof Vi||n instanceof Kh)&&(e instanceof Vi||e instanceof Kh)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function e2(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),n instanceof Qa&&e instanceof Qa&&n.firestore===e.firestore&&m1(n._query,e._query)&&n.converter===e.converter}class R${constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new NN(this,"async_queue_retry"),this.jc=()=>{const t=qT();t&&lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=qT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=qT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Wo;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Ve.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!wg(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Vs("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=ZN.createAndSchedule(this,e,t,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Bt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Ve.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function PO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class F${constructor(){this._progressObserver={},this._taskCompletionResolver=new Wo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qi extends B1{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new R$,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||t2(this),this._firestoreClient.terminate()}}function oo(n){return n._firestoreClient||t2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function t2(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new z5(n._databaseId,a,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var a,g;n._firestoreClient=new D$(n._authCredentials,n._appCheckCredentials,n._queue,r)}function n2(n,e,t){const r=new Wo;return n.asyncQueue.enqueue((0,Ve.Z)(function*(){try{yield UL(n,t),yield $L(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===Fe.FAILED_PRECONDITION||u.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;u_("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function r2(n){if(n._initialized||n._terminated)throw new et(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class np{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new et(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ys(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yh(wo.fromBase64String(e))}catch(t){throw new et(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yh(wo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class x_{constructor(e){this._methodName=e}}class tE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wn(this._lat,e._lat)||wn(this._long,e._long)}}const G$=/^__.*__$/;class W${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ep(e,this.data,this.fieldMask,t,this.fieldTransforms):new n0(e,this.data,t,this.fieldTransforms)}}class s2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ep(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function o2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class nE{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new nE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return sE(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(o2(this.na)&&G$.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class z${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||P1(e)}fa(e,t,r,i=!1){return new nE({na:e,methodName:t,la:r,path:ys.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function S_(n){const e=n._freezeSettings(),t=P1(n._databaseId);return new z$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rE(n,e,t,r,i,a={}){const u=n.fa(a.merge||a.mergeFields?2:0,e,t,i);VO("Data must be an object, but it was:",u,r);const g=u2(r,u);let y,C;if(a.merge)y=new ic(u.fieldMask),C=u.fieldTransforms;else if(a.mergeFields){const S=[];for(const R of a.mergeFields){const j=UO(e,R,t);if(!u.contains(j))throw new et(Fe.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);d2(S,j)||S.push(j)}y=new ic(S),C=u.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,C=u.fieldTransforms;return new W$(new Da(g),y,C)}class V1 extends x_{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof V1}}function a2(n,e,t){return new nE({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class kO extends x_{_toFieldTransform(e){return new _1(e.path,new e0)}isEqual(e){return e instanceof kO}}class q$ extends x_{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=a2(this,e,!0),r=this.da.map(a=>A_(a,t)),i=new __(r);return new _1(e.path,i)}isEqual(e){return this===e}}class Z$ extends x_{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=a2(this,e,!0),r=this.da.map(a=>A_(a,t)),i=new v_(r);return new _1(e.path,i)}isEqual(e){return this===e}}class K$ extends x_{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new t0(e.It,QP(e.It,this._a));return new _1(e.path,t)}isEqual(e){return this===e}}function LO(n,e,t,r){const i=n.fa(1,e,t);VO("Data must be an object, but it was:",i,r);const a=[],u=Da.empty();h_(r,(y,C)=>{const S=iE(e,y,t);C=(0,Mn.m9)(C);const R=i.ua(S);if(C instanceof V1)a.push(S);else{const j=A_(C,R);null!=j&&(a.push(S),u.set(S,j))}});const g=new ic(a);return new s2(u,g,i.fieldTransforms)}function BO(n,e,t,r,i,a){const u=n.fa(1,e,t),g=[UO(e,r,t)],y=[i];if(a.length%2!=0)throw new et(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<a.length;j+=2)g.push(UO(e,a[j])),y.push(a[j+1]);const C=[],S=Da.empty();for(let j=g.length-1;j>=0;--j)if(!d2(C,g[j])){const Z=g[j];let ue=y[j];ue=(0,Mn.m9)(ue);const _e=u.ua(Z);if(ue instanceof V1)C.push(Z);else{const De=A_(ue,_e);null!=De&&(C.push(Z),S.set(Z,De))}}const R=new ic(C);return new s2(S,R,u.fieldTransforms)}function l2(n,e,t,r=!1){return A_(t,n.fa(r?4:3,e))}function A_(n,e){if(c2(n=(0,Mn.m9)(n)))return VO("Unsupported field value:",e,n),u2(n,e);if(n instanceof x_)return function(t,r){if(!o2(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let g=A_(u,r.ca(a));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return QP(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ki.fromDate(t);return{timestampValue:I1(r.It,i)}}if(t instanceof Ki){const i=new Ki(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:I1(r.It,i)}}if(t instanceof tE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yh)return{bytesValue:vk(r.It,t._byteString)};if(t instanceof Vi){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:aN(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${XT(t)}`)}(n,e)}function u2(n,e){const t={};return xP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):h_(n,(r,i)=>{const a=A_(i,e.ia(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function c2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ki||n instanceof tE||n instanceof Yh||n instanceof Vi||n instanceof x_)}function VO(n,e,t){if(!c2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=XT(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function UO(n,e,t){if((e=(0,Mn.m9)(e))instanceof np)return e._internalPath;if("string"==typeof e)return iE(n,e);throw sE("Field path arguments must be of type string or ",n,!1,void 0,t)}const Y$=new RegExp("[~\\*/\\[\\]]");function iE(n,e,t){if(e.search(Y$)>=0)throw sE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new np(...e.split("."))._internalPath}catch{throw sE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sE(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(a||u)&&(y+=" (found",a&&(y+=` in field ${r}`),u&&(y+=` in document ${i}`),y+=")"),new et(Fe.INVALID_ARGUMENT,g+n+y)}function d2(n,e){return n.some(t=>t.isEqual(e))}class U1{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Q$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Q$ extends U1{data(){return super.data()}}function oE(n,e){return"string"==typeof e?iE(n,e):e instanceof np?e._internalPath:e._delegate._internalPath}class N_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rp extends U1{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $1 extends rp{data(e={}){return super.data(e)}}class Rg{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new N_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $1(this._firestore,this._userDataWriter,r.key,r,new N_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new $1(r._firestore,r._userDataWriter,u.doc.key,u.doc,new N_(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const g=new $1(r._firestore,r._userDataWriter,u.doc.key,u.doc,new N_(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,C=-1;return 0!==u.type&&(y=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),C=a.indexOf(u.doc.key)),{type:J$(u.type),doc:g,oldIndex:y,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function J$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function h2(n,e){return n instanceof rp&&e instanceof rp?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rg&&e instanceof Rg&&n._firestore===e._firestore&&e2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function f2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new et(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H1{}function Fg(n,...e){for(const t of e)n=t._apply(n);return n}class X$ extends H1{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=S_(e.firestore),r=function(i,a,u,g,y,C,S){let R;if(y.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){y2(S,C);const Z=[];for(const ue of S)Z.push(v2(g,i,ue));R={arrayValue:{values:Z}}}else R=v2(g,i,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||y2(S,C),R=l2(u,"where",S,"in"===C||"not-in"===C);const j=Ia.create(y,C,R);return function(Z,ue){if(ue.dt()){const De=nN(Z);if(null!==De&&!De.isEqual(ue.field))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${ue.field.toString()}'`);const ot=tN(Z);null!==ot&&b2(0,ue.field,ot)}const _e=function(De,ot){for(const ut of De.filters)if(ot.indexOf(ut.op)>=0)return ut.op;return null}(Z,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ue.op));if(null!==_e)throw new et(Fe.INVALID_ARGUMENT,_e===ue.op?`Invalid query. You cannot use more than one '${ue.op.toString()}' filter.`:`Invalid query. You cannot use '${ue.op.toString()}' filters with '${_e.toString()}' filters.`)}(i,j),j}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Qa(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new Xf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class tH extends H1{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Qy(i,a);return function(g,y){if(null===tN(g)){const C=nN(g);null!==C&&b2(0,C,y.field)}}(r,u),u}(e._query,this.wa,this.ya);return new Qa(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Xf(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class p2 extends H1{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new Qa(e.firestore,e.converter,ST(e._query,this.pa,this.Ia))}}class g2 extends H1{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=_2(e,this.type,this.Ta,this.Ea);return new Qa(e.firestore,e.converter,(i=t,new Xf((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class m2 extends H1{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=_2(e,this.type,this.Ta,this.Ea);return new Qa(e.firestore,e.converter,(i=t,new Xf((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function _2(n,e,t,r){if(t[0]=(0,Mn.m9)(t[0]),t[0]instanceof U1)return function(i,a,u,g,y){if(!g)throw new et(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const C=[];for(const S of Xy(i))if(S.field.isKeyField())C.push(g_(a,g.key));else{const R=g.data.field(S.field);if(JA(R))throw new et(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const j=S.field.canonicalString();throw new et(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}C.push(R)}return new Eg(C,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=S_(n.firestore);return function(a,u,g,y,C,S){const R=a.explicitOrderBy;if(C.length>R.length)throw new et(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let Z=0;Z<C.length;Z++){const ue=C[Z];if(R[Z].field.isKeyField()){if("string"!=typeof ue)throw new et(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ue}`);if(!rN(a)&&-1!==ue.indexOf("/"))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ue}' contains a slash.`);const _e=a.path.child(_r.fromString(ue));if(!Ct.isDocumentKey(_e))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${_e}' is not because it contains an odd number of segments.`);const De=new Ct(_e);j.push(g_(u,De))}else{const _e=l2(g,y,ue);j.push(_e)}}return new Eg(j,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function v2(n,e,t){if("string"==typeof(t=(0,Mn.m9)(t))){if(""===t)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rN(e)&&-1!==t.indexOf("/"))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_r.fromString(t));if(!Ct.isDocumentKey(r))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g_(n,new Ct(r))}if(t instanceof Vi)return g_(n,t._key);throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XT(t)}.`)}function y2(n,e){if(!Array.isArray(n)||0===n.length)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function b2(n,e,t){if(!t.isEqual(e))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const uH={maxAttempts:5};class $O{convertValue(e,t="none"){switch(p_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ws(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(f_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bt()}}convertObject(e,t){const r={};return h_(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new tE(ws(e.latitude),ws(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=AP(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(u1(e));default:return null}}convertTimestamp(e){const t=Dg(e);return new Ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_r.fromString(e);pn(Sk(r));const i=new Ig(r.get(1),r.get(3)),a=new Ct(r.popFirst(5));return i.isEqual(t)||Vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function aE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class cH extends $O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vi(this.firestore,null,t)}}class w2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=S_(e)}set(e,t,r){this._verifyNotCommitted();const i=Pg(e,this._firestore),a=aE(i.converter,t,r),u=rE(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Yi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Pg(e,this._firestore);let u;return u="string"==typeof(t=(0,Mn.m9)(t))||t instanceof np?BO(this._dataReader,"WriteBatch.update",a._key,t,r,i):LO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pg(e,this._firestore);return this._mutations=this._mutations.concat(new r0(t._key,Yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pg(n,e){if((n=(0,Mn.m9)(n)).firestore!==e)throw new et(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class O_ extends $O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vi(this.firestore,null,t)}}function D2(n,e,t){n=cr(n,Vi);const r=cr(n.firestore,Qi),i=aE(n.converter,e,t);return y0(r,[rE(S_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Yi.none())])}function I2(n,e,t,...r){n=cr(n,Vi);const i=cr(n.firestore,Qi),a=S_(i);let u;return u="string"==typeof(e=(0,Mn.m9)(e))||e instanceof np?BO(a,"updateDoc",n._key,e,t,r):LO(a,"updateDoc",n._key,e),y0(i,[u.toMutation(n._key,Yi.exists(!0))])}function C2(n,...e){var t,r,i;n=(0,Mn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||PO(e[u])||(a=e[u],u++);const g={includeMetadataChanges:a.includeMetadataChanges};if(PO(e[u])){const R=e[u];e[u]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[u+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[u+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let y,C,S;if(n instanceof Vi)C=cr(n.firestore,Qi),S=Jy(n._key.path),y={next:R=>{e[u]&&e[u](HO(C,n,R))},error:e[u+1],complete:e[u+2]};else{const R=cr(n,Qa);C=cr(R.firestore,Qi),S=R._query;const j=new O_(C);y={next:Z=>{e[u]&&e[u](new Rg(C,j,R,Z))},error:e[u+1],complete:e[u+2]},f2(n._query)}return function(R,j,Z,ue){const _e=new YT(ue),De=new eO(j,_e,Z);return R.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return KN(yield v0(R),De)})),()=>{_e.Rc(),R.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return QN(yield v0(R),De)}))}}(oo(C),S,g,y)}function y0(n,e){return function(t,r){const i=new Wo;return t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function n$(n,e,t){return sO.apply(this,arguments)}(yield MO(t),r,i)})),i.promise}(oo(n),e)}function HO(n,e,t){const r=t.docs.get(e._key),i=new O_(n);return new rp(n,i,e._key,r,new N_(t.hasPendingWrites,t.fromCache),e.converter)}class bH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=S_(e)}get(e){const t=Pg(e,this._firestore),r=new cH(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Bt();const a=i[0];if(a.isFoundDocument())return new U1(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new U1(this._firestore,r,t._key,null,t.converter);throw Bt()})}set(e,t,r){const i=Pg(e,this._firestore),a=aE(i.converter,t,r),u=rE(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=Pg(e,this._firestore);let u;return u="string"==typeof(t=(0,Mn.m9)(t))||t instanceof np?BO(this._dataReader,"Transaction.update",a._key,t,r,i):LO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Pg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pg(e,this._firestore),r=new O_(this._firestore);return super.get(e).then(i=>new rp(this._firestore,r,t._key,i._document,new N_(!1,!1),t.converter))}}function jO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new et("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function E2(){if(typeof Uint8Array>"u")throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function x2(){if(!function G5(){return typeof atob<"u"}())throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){qy=Gd.SDK_VERSION,(0,Gd._registerComponent)(new Hy.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new Qi(new M5(t.getProvider("auth-internal")),new P5(t.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new et(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ig(g.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Gd.registerVersion)(mP,"3.5.0",n),(0,Gd.registerVersion)(mP,"3.5.0","esm2017")}();class j1{constructor(e){this._delegate=e}static fromBase64String(e){return x2(),new j1(Yh.fromBase64String(e))}static fromUint8Array(e){return E2(),new j1(Yh.fromUint8Array(e))}toBase64(){return x2(),this._delegate.toBase64()}toUint8Array(){return E2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function GO(n){return function AH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class NH{enableIndexedDbPersistence(e,t){return function k$(n,e){r2(n=cr(n,Qi));const t=oo(n),r=n._freezeSettings(),i=new EO;return n2(t,i,new BL(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function L$(n){r2(n=cr(n,Qi));const e=oo(n),t=n._freezeSettings(),r=new EO;return n2(e,r,new v$(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function B$(n){if(n._initialized&&!n._terminated)throw new et(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ve.Z)(function*(){try{yield(t=(0,Ve.Z)(function*(r){if(!Wd.C())return Promise.resolve();const i=r+"main";yield Wd.delete(i)}),function(r){return t.apply(this,arguments)})(bN(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class S2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ig||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&u_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function O$(n,e,t,r={}){var i;const a=(n=cr(n,B1))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&u_("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,g;if("string"==typeof r.mockUserToken)u=r.mockUserToken,g=Go.MOCK_USER;else{u=(0,Mn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new et(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Go(y)}n._authCredentials=new O5(new _P(u,g))}}(this._delegate,e,t,r)}enableNetwork(){return function U$(n){return function I$(n){return n.asyncQueue.enqueue((0,Ve.Z)(function*(){const e=yield HL(n),t=yield jL(n);return e.setNetworkEnabled(!0),function(r){const i=At(r);return i._u.delete(0),k1(i)}(t)}))}(oo(n=cr(n,Qi)))}(this._delegate)}disableNetwork(){return function $$(n){return function C$(n){return n.asyncQueue.enqueue((0,Ve.Z)(function*(){const e=yield HL(n),t=yield jL(n);return e.setNetworkEnabled(!1),(r=(0,Ve.Z)(function*(i){const a=At(i);a._u.add(0),yield d0(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(oo(n=cr(n,Qi)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function V$(n){return function(e){const t=new Wo;return e.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function o$(n,e){return cO.apply(this,arguments)}(yield MO(e),t)})),t.promise}(oo(n=cr(n,Qi)))}(this._delegate)}onSnapshotsInSync(e){return function yH(n,e){return function x$(n,e){const t=new YT(e);return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return r=yield v0(n),i=t,At(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return r=yield v0(n),i=t,void At(r).Ru.delete(i);var r,i}))}}(oo(n=cr(n,Qi)),PO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new b0(this,JL(this._delegate,e))}catch(t){throw Ml(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qc(this,eE(this._delegate,e))}catch(t){throw Ml(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rl(this,function M$(n,e){if(n=cr(n,B1),FO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new et(Fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qa(n,null,(t=e,new Xf(_r.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ml(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wH(n,e,t){n=cr(n,Qi);const r=Object.assign(Object.assign({},uH),t);return function(i){if(i.maxAttempts<1)throw new et(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function S$(n,e,t){const r=new Wo;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){const i=yield(a=n,QT(a).then(u=>u.datastore));var a;new w$(n.asyncQueue,i,t,e,r).run()})),r.promise}(oo(n),i=>e(new bH(n,i)),r)}(this._delegate,t=>e(new A2(this,t)))}batch(){return oo(this._delegate),new N2(new w2(this._delegate,e=>y0(this._delegate,e)))}loadBundle(e){return function H$(n,e){const t=oo(n=cr(n,Qi)),r=new F$;return function A$(n,e,t,r){const i=function(a,u){let g;return g="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,C){if(y instanceof Uint8Array)return VL(y,C);if(y instanceof ArrayBuffer)return VL(new Uint8Array(y),C);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new y$(y,u);var y}(t,P1(e));n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){!function _$(n,e,t){const r=At(n);var i;(i=(0,Ve.Z)(function*(a,u,g){try{const y=yield u.getMetadata();if(yield function(j,Z){const ue=At(j),_e=zo(Z.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",De=>ue.Ns.getBundleMetadata(De,Z.id)).then(De=>!!De&&De.createTime.compareTo(_e)>=0)}(a.localStore,y))return yield u.close(),g._completeWith({taskState:"Success",documentsLoaded:(j=y).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);g._updateProgress(SL(y));const C=new Y3(y,a.localStore,u.It);let S=yield u.wc();for(;S;){const j=yield C.Ou(S);j&&g._updateProgress(j),S=yield u.wc()}const R=yield C.complete();return yield tp(a,R.Bu,void 0),yield function(j,Z){const ue=At(j);return ue.persistence.runTransaction("Save bundle","readwrite",_e=>ue.Ns.saveBundleMetadata(_e,Z))}(a.localStore,y),g._completeWith(R.progress),Promise.resolve(R.$u)}catch(y){return u_("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var j}),function(a,u,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield MO(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function j$(n,e){return function N$(n,e){return n.asyncQueue.enqueue((0,Ve.Z)(function*(){return function(t,r){const i=At(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield JT(n),e)}))}(oo(n=cr(n,Qi)),e).then(t=>t?new Qa(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rl(this,t):null)}}class lE extends $O{constructor(e){super(),this.firestore=e}convertBytes(e){return new j1(new Yh(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qc.forKey(t,this.firestore,null)}}class A2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lE(e)}get(e){const t=R_(e);return this._delegate.get(t).then(r=>new G1(this._firestore,new rp(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=R_(e);return r?(jO("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=R_(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=R_(e);return this._delegate.delete(t),this}}class N2{constructor(e){this._delegate=e}set(e,t,r){const i=R_(e);return r?(jO("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=R_(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=R_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class M_{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new $1(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new W1(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=M_.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new M_(e,new lE(e),t),i.set(t,a)),a}}M_.INSTANCES=new WeakMap;class Qc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qc(t,new Vi(t._delegate,r,new Ct(e)))}static forKey(e,t,r){return new Qc(t,new Vi(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new b0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new b0(this.firestore,JL(this._delegate,e))}catch(t){throw Ml(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mn.m9)(e))instanceof Vi&&XL(this._delegate,e)}set(e,t){t=jO("DocumentReference.set",t);try{return t?D2(this._delegate,e,t):D2(this._delegate,e)}catch(r){throw Ml(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?I2(this._delegate,e):I2(this._delegate,e,t,...r)}catch(i){throw Ml(i,"updateDoc()","DocumentReference.update()")}}delete(){return function _H(n){return y0(cr(n.firestore,Qi),[new r0(n._key,Yi.none())])}(this._delegate)}onSnapshot(...e){const t=O2(e),r=M2(e,i=>new G1(this.firestore,new rp(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return C2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function hH(n){n=cr(n,Vi);const e=cr(n.firestore,Qi),t=oo(e),r=new O_(e);return function T$(n,e){const t=new Wo;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return(r=(0,Ve.Z)(function*(i,a,u){try{const g=yield function(y,C){const S=At(y);return S.persistence.runTransaction("read document","readonly",R=>S.localDocuments.getDocument(R,C))}(i,a);g.isFoundDocument()?u.resolve(g):g.isNoDocument()?u.resolve(null):u.reject(new et(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=p0(g,`Failed to get document '${a} from cache`);u.reject(y)}}),function(i,a,u){return r.apply(this,arguments)})(yield JT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new rp(e,r,n._key,i,new N_(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function fH(n){n=cr(n,Vi);const e=cr(n.firestore,Qi);return GL(oo(e),n._key,{source:"server"}).then(t=>HO(e,n,t))}(this._delegate):function dH(n){n=cr(n,Vi);const e=cr(n.firestore,Qi);return GL(oo(e),n._key).then(t=>HO(e,n,t))}(this._delegate),t.then(r=>new G1(this.firestore,new rp(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Qc(this.firestore,this._delegate.withConverter(e?M_.getInstance(this.firestore,e):null))}}function Ml(n,e,t){return n.message=n.message.replace(e,t),n}function O2(n){for(const e of n)if("object"==typeof e&&!GO(e))return e;return{}}function M2(n,e){var t,r;let i;return i=GO(n[0])?n[0]:GO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class G1{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return h2(this._delegate,e._delegate)}}class W1 extends G1{data(e){const t=this._delegate.data(e);return function A5(n,e){n||Bt()}(void 0!==t),t}}class Rl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lE(e)}where(e,t,r){try{return new Rl(this.firestore,Fg(this._delegate,function eH(n,e,t){const r=e,i=oE("where",n);return new X$(i,r,t)}(e,t,r)))}catch(i){throw Ml(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rl(this.firestore,Fg(this._delegate,function nH(n,e="asc"){const t=e,r=oE("orderBy",n);return new tH(r,t)}(e,t)))}catch(r){throw Ml(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rl(this.firestore,Fg(this._delegate,function rH(n){return YL("limit",n),new p2("limit",n,"F")}(e)))}catch(t){throw Ml(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rl(this.firestore,Fg(this._delegate,function iH(n){return YL("limitToLast",n),new p2("limitToLast",n,"L")}(e)))}catch(t){throw Ml(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rl(this.firestore,Fg(this._delegate,function sH(...n){return new g2("startAt",n,!0)}(...e)))}catch(t){throw Ml(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rl(this.firestore,Fg(this._delegate,function oH(...n){return new g2("startAfter",n,!1)}(...e)))}catch(t){throw Ml(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rl(this.firestore,Fg(this._delegate,function aH(...n){return new m2("endBefore",n,!1)}(...e)))}catch(t){throw Ml(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rl(this.firestore,Fg(this._delegate,function lH(...n){return new m2("endAt",n,!0)}(...e)))}catch(t){throw Ml(t,"endAt()","Query.endAt()")}}isEqual(e){return e2(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function gH(n){n=cr(n,Qa);const e=cr(n.firestore,Qi),t=oo(e),r=new O_(e);return function E$(n,e){const t=new Wo;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return(r=(0,Ve.Z)(function*(i,a,u){try{const g=yield GT(i,a,!0),y=new OL(a,g.Hi),C=y.ju(g.documents),S=y.applyChanges(C,!1);u.resolve(S.snapshot)}catch(g){const y=p0(g,`Failed to execute query '${a} against cache`);u.reject(y)}}),function(i,a,u){return r.apply(this,arguments)})(yield JT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Rg(e,r,n,i))}(this._delegate):"server"===e?.source?function mH(n){n=cr(n,Qa);const e=cr(n.firestore,Qi),t=oo(e),r=new O_(e);return WL(t,n._query,{source:"server"}).then(i=>new Rg(e,r,n,i))}(this._delegate):function pH(n){n=cr(n,Qa);const e=cr(n.firestore,Qi),t=oo(e),r=new O_(e);return f2(n._query),WL(t,n._query).then(i=>new Rg(e,r,n,i))}(this._delegate),t.then(r=>new WO(this.firestore,new Rg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=O2(e),r=M2(e,i=>new WO(this.firestore,new Rg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return C2(this._delegate,t,r)}withConverter(e){return new Rl(this.firestore,this._delegate.withConverter(e?M_.getInstance(this.firestore,e):null))}}class MH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new W1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class WO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new W1(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new MH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new W1(this._firestore,r))})}isEqual(e){return h2(this._delegate,e._delegate)}}class b0 extends Rl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qc(this.firestore,e):null}doc(e){try{return new Qc(this.firestore,void 0===e?eE(this._delegate):eE(this._delegate,e))}catch(t){throw Ml(t,"doc()","CollectionReference.doc()")}}add(e){return function vH(n,e){const t=cr(n.firestore,Qi),r=eE(n),i=aE(n.converter,e);return y0(t,[rE(S_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Yi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Qc(this.firestore,t))}isEqual(e){return XL(this._delegate,e._delegate)}withConverter(e){return new b0(this.firestore,this._delegate.withConverter(e?M_.getInstance(this.firestore,e):null))}}function R_(n){return cr(n,Vi)}class zO{constructor(...e){this._delegate=new np(...e)}static documentId(){return new zO(ys.keyField().canonicalString())}isEqual(e){return(e=(0,Mn.m9)(e))instanceof np&&this._delegate._internalPath.isEqual(e._internalPath)}}class F_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function IH(){return new kO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new F_(e)}static delete(){const e=function DH(){return new V1("deleteField")}();return e._methodName="FieldValue.delete",new F_(e)}static arrayUnion(...e){const t=function CH(...n){return new q$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new F_(t)}static arrayRemove(...e){const t=function TH(...n){return new Z$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new F_(t)}static increment(e){const t=function EH(n){return new K$("increment",n)}(e);return t._methodName="FieldValue.increment",new F_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RH={Firestore:S2,GeoPoint:tE,Timestamp:Ki,Blob:j1,Transaction:A2,WriteBatch:N2,DocumentReference:Qc,DocumentSnapshot:G1,Query:Rl,QueryDocumentSnapshot:W1,QuerySnapshot:WO,CollectionReference:b0,FieldPath:zO,FieldValue:F_,setLogLevel:function OH(n){!function S5(n){yg.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function PH(n){(function FH(n,e){n.INTERNAL.registerComponent(new Hy.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},RH)))})(n,(e,t)=>new S2(e,t,new NH)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(eF.Z);var uE=G(5363),kH=G(3099);function R2(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,kH.B)({connector:()=>new Ms(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function F2(n,e){return(0,Fs.m)(e)?Wn(()=>n,e):Wn(()=>n)}var qO=G(9468);G(5867);const k2=new Map,$H={activated:!1,tokenObservers:[]},HH={initialized:!1,enabled:!1};function Ko(n){return k2.get(n)||$H}function zd(n,e){k2.set(n,e)}function dE(){return HH}class qH{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ve.Z)(function*(){t.stop();try{t.pending=new Mn.BH,yield function ZH(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fl=new Mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function B2(n){if(!Ko(n).activated)throw Fl.create("use-before-activation",{appName:n.name})}function QO(n,e){return JO.apply(this,arguments)}function JO(){return JO=(0,Ve.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const Z=yield u.getHeartbeatsHeader();Z&&(a["X-Firebase-Client"]=Z)}const g={method:"POST",body:JSON.stringify(e),headers:a};let y,C;try{y=yield fetch(n,g)}catch(Z){throw Fl.create("fetch-network-error",{originalErrorMessage:null===(r=Z)||void 0===r?void 0:r.message})}if(200!==y.status)throw Fl.create("fetch-status-error",{httpStatus:y.status});try{C=yield y.json()}catch(Z){throw Fl.create("fetch-parse-error",{originalErrorMessage:null===(i=Z)||void 0===i?void 0:i.message})}const S=C.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Fl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const R=1e3*Number(S[1]),j=Date.now();return{token:C.token,expireTimeMillis:j+R,issuedAtTimeMillis:j}}),JO.apply(this,arguments)}function JH(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const z1="firebase-app-check-store";let pE=null;function U2(){return pE||(pE=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Fl.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(z1,{keyPath:"compositeKey"})}}catch(r){e(Fl.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),pE)}function XO(){return XO=(0,Ve.Z)(function*(n,e){const r=(yield U2()).transaction(z1,"readwrite"),a=r.objectStore(z1).put({compositeKey:n,value:e});return new Promise((u,g)=>{a.onsuccess=y=>{u()},r.onerror=y=>{var C;g(Fl.create("storage-set",{originalErrorMessage:null===(C=y.target.error)||void 0===C?void 0:C.message}))}})}),XO.apply(this,arguments)}const q1=new mg.Yd("@firebase/app-check");function G2(n,e){return(0,Mn.hl)()?function nj(n,e){return function $2(n,e){return XO.apply(this,arguments)}(function j2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{q1.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function W2(){return dE().enabled}function z2(){return rM.apply(this,arguments)}function rM(){return rM=(0,Ve.Z)(function*(){const n=dE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),rM.apply(this,arguments)}const lj={error:"UNKNOWN_ERROR"};function uj(n){return Mn.US.encodeString(JSON.stringify(n),!1)}function gE(n){return iM.apply(this,arguments)}function iM(){return iM=(0,Ve.Z)(function*(n,e=!1){const t=n.app;B2(t);const r=Ko(t);let a,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&mE(y)&&(i=y)}if(!e&&i&&mE(i))return{token:i.token};let g,u=!1;if(W2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=QO(JH(t,yield z2()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),u=!0);const y=yield r.exchangeTokenPromise;return yield G2(t,y),zd(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),u=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?q1.warn(y.message):q1.error(y),a=y}return i?(g={token:i.token},zd(t,Object.assign(Object.assign({},r),{token:i})),yield G2(t,i)):g=dj(a),u&&Z2(t,g),g}),iM.apply(this,arguments)}function oM(n,e){const t=Ko(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),zd(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function q2(n){const{app:e}=n,t=Ko(e);let r=t.tokenRefresher;r||(r=function cj(n){const{app:e}=n;return new qH((0,Ve.Z)(function*(){let r;if(r=Ko(e).token?yield gE(n,!0):yield gE(n),r.error)throw r.error}),()=>!0,()=>{const t=Ko(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),zd(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Z2(n,e){const t=Ko(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function mE(n){return n.expireTimeMillis-Date.now()>0}function dj(n){return{token:uj(lj),error:n}}class hj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ko(this.app);for(const t of e)oM(this.app,t.next);return Promise.resolve()}}const nB="app-check-internal";!function Ej(){(0,Gd._registerComponent)(new Hy.wA("app-check",n=>function fj(n,e){return new hj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nB).initialize()})),(0,Gd._registerComponent)(new Hy.wA(nB,n=>function pj(n){return{getToken:e=>gE(n,e),addTokenListener:e=>function sM(n,e,t,r){const{app:i}=n,a=Ko(i),u={next:t,error:r,type:e};if(zd(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&mE(a.token)){const g=a.token;Promise.resolve().then(()=>{t({token:g.token}),q2(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>q2(n))}(n,"INTERNAL",e),removeTokenListener:e=>oM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gd.registerVersion)("@firebase/app-check","0.5.12")}();class vE{constructor(){return(0,di.vb)("app-check")}}typeof window<"u"&&window;var dM=G(127);const iB=new c.OlP("angularfire2.auth.use-emulator"),sB=new c.OlP("angularfire2.auth.settings"),oB=new c.OlP("angularfire2.auth.tenant-id"),aB=new c.OlP("angularfire2.auth.langugage-code"),lB=new c.OlP("angularfire2.auth.use-device-language"),uB=new c.OlP("angularfire.auth.persistence"),cB=(n,e,t,r,i,a,u,g)=>(0,Al.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),u)for(const[C,S]of Object.entries(u))y.settings[C]=S;return g&&y.setPersistence(g),y},[t,r,i,a,u,g]);let hM=(()=>{class n{constructor(t,r,i,a,u,g,y,C,S,R,j,Z){const ue=new qn.x,_e=wt(void 0).pipe((0,uE.Q)(u.outsideAngular),Wn(()=>a.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,2476)))),(0,xt.U)(()=>(0,Al.on)(t,a,r)),(0,xt.U)(De=>cB(De,a,g,C,S,R,y,j)),R2({bufferSize:1,refCount:!1}));if($n(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{_e.pipe($d()).subscribe();const ot=_e.pipe(Wn(it=>it.getRedirectResult().then(gt=>gt,()=>null)),di.iC,R2({bufferSize:1,refCount:!1})),ut=_e.pipe(Wn(it=>new Or.y(gt=>({unsubscribe:a.runOutsideAngular(()=>it.onAuthStateChanged(Dt=>gt.next(Dt),Dt=>gt.error(Dt),()=>gt.complete()))})))),vt=_e.pipe(Wn(it=>new Or.y(gt=>({unsubscribe:a.runOutsideAngular(()=>it.onIdTokenChanged(Dt=>gt.next(Dt),Dt=>gt.error(Dt),()=>gt.complete()))}))));this.authState=ot.pipe(F2(ut),(0,qO.R)(u.outsideAngular),(0,uE.Q)(u.insideAngular)),this.user=ot.pipe(F2(vt),(0,qO.R)(u.outsideAngular),(0,uE.Q)(u.insideAngular)),this.idToken=this.user.pipe(Wn(it=>it?(0,jn.D)(it.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(Wn(it=>it?(0,jn.D)(it.getIdTokenResult()):wt(null))),this.credential=(0,rs.T)(ot,ue,this.authState.pipe(ki(it=>!it))).pipe((0,xt.U)(it=>it?.user?it:null),(0,qO.R)(u.outsideAngular),(0,uE.Q)(u.insideAngular))}return(0,Al.pX)(this,_e,a,{spy:{apply:(De,ot,ut)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&ut.then(vt=>ue.next(vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Al.Dh),c.LFG(Al.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(di.HU),c.LFG(iB,8),c.LFG(sB,8),c.LFG(oB,8),c.LFG(aB,8),c.LFG(lB,8),c.LFG(uB,8),c.LFG(vE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Mj=(()=>{class n{constructor(){dM.Z.registerVersion("angularfire",di.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hM]}),n})();function dB(n,e){return function Rj(n,e=Ge.z){return new Or.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function fM(n,e){return dB(n,e).pipe((0,xt.U)(t=>({payload:t,type:"query"})))}function yE(n,e){return fM(n,e).pipe(sa(void 0),sA(),(0,xt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,g)=>{const y=i.find(S=>S.doc.ref.isEqual(u.ref)),C=t?.payload.docs.find(S=>S.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&C&&JSON.stringify(C.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:u}})}),a}))}function hB(n,e,t){return yE(n,t).pipe(Wm((r,i)=>function Pj(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function kj(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return pM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return pM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function La(n,e=Ks.y){return n=n??dp,(0,si.e)((t,r)=>{let i,a=!0;t.subscribe((0,ir.x)(r,u=>{const g=e(u);(a||!n(i,g))&&(a=!1,i=g,r.next(u))}))})}(),(0,xt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function pM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function fB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class pB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=yE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(sa(void 0),sA(),ki(([r,i])=>i.length>0||!r),(0,xt.U)(([r,i])=>i),di.iC)}auditTrail(e){return this.stateChanges(e).pipe(Wm((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fB(e);return hB(this.query,t,this.afs.schedulers.outsideAngular).pipe(di.iC)}valueChanges(e={}){return fM(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),di.iC)}get(e){return(0,jn.D)(this.query.get(e)).pipe(di.iC)}add(e){return this.ref.add(e)}doc(e){return new gB(this.ref.doc(e),this.afs)}}class gB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=vB(r,t);return new pB(i,a,this.afs)}snapshotChanges(){return function Fj(n,e){return dB(n,e).pipe(sa(void 0),sA(),(0,xt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(di.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,jn.D)(this.ref.get(e)).pipe(di.iC)}}class Lj{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yE(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ki(t=>t.length>0),di.iC):yE(this.query,this.afs.schedulers.outsideAngular).pipe(di.iC)}auditTrail(e){return this.stateChanges(e).pipe(Wm((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fB(e);return hB(this.query,t,this.afs.schedulers.outsideAngular).pipe(di.iC)}valueChanges(e={}){return fM(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),di.iC)}get(e){return(0,jn.D)(this.query.get(e)).pipe(di.iC)}}const mB=new c.OlP("angularfire2.enableFirestorePersistence"),_B=new c.OlP("angularfire2.firestore.persistenceSettings"),Bj=new c.OlP("angularfire2.firestore.settings"),Vj=new c.OlP("angularfire2.firestore.use-emulator");function vB(n,e=(t=>t)){return{query:e(n),ref:n}}let gM=(()=>{class n{constructor(t,r,i,a,u,g,y,C,S,R,j,Z,ue,_e,De,ot,ut){this.schedulers=y;const vt=(0,Al.on)(t,g,r),it=S;R&&cB(vt,g,j,ue,_e,De,Z,ot),[this.firestore,this.persistenceEnabled$]=(0,Al.cc)(`${vt.name}.firestore`,"AngularFirestore",vt.name,()=>{const gt=g.runOutsideAngular(()=>vt.firestore());if(a&&gt.settings(a),it&&gt.useEmulator(...it),i&&!$n(u)){const Dt=()=>{try{return(0,jn.D)(gt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(sn){return typeof console<"u"&&console.warn(sn),wt(!1)}};return[gt,g.runOutsideAngular(Dt)]}return[gt,wt(!1)]},[a,it,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=vB(i,r),g=this.schedulers.ngZone.run(()=>a);return new pB(g,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new Lj(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new gB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Al.Dh),c.LFG(Al.xv,8),c.LFG(mB,8),c.LFG(Bj,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(di.HU),c.LFG(_B,8),c.LFG(Vj,8),c.LFG(hM,8),c.LFG(iB,8),c.LFG(sB,8),c.LFG(oB,8),c.LFG(aB,8),c.LFG(lB,8),c.LFG(uB,8),c.LFG(vE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Uj=(()=>{class n{constructor(){dM.Z.registerVersion("angularfire",di.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:mB,useValue:!0},{provide:_B,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gM]}),n})();var Do=G(7489);const ao_imgSrc="https://cdn.jsdelivr.net/gh/phantomodm/nystixCDN@2.0/depository/";let yB=(()=>{class n{constructor(t){this.afs=t}getColors(){return this.afs.collection("gloveColors").valueChanges()}getSteps(){return this.afs.collection("gloveSteps",t=>t.orderBy("seqNo","asc")).valueChanges()}getGloveSize(){return this.afs.collection("gloveSize",t=>t.orderBy("seqNo","asc")).valueChanges()}getGloveWebs(){return this.afs.collection("gloveWebs").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bB=(()=>{class n{constructor(t){this.wizardData=t,this.errorLog=[],this.snapLoaded=!1,this.product=new zn({}),this.product$=this.product.asObservable(),this.storage=new zn(null),this.storage$=this.storage.asObservable(),this.gloveType=new zn({name:null,glove:null}),this.gloveType$=this.gloveType.asObservable(),this.fillChange=new qn.x,this.fillChange$=this.fillChange.asObservable(),this.gloveDesign=new zn(void 0),this.gloveDesign$=this.gloveDesign.asObservable(),this.leatherSelected=new qn.x,this.leatherSelected$=this.leatherSelected.asObservable(),this.gloveColors=new zn([]),this.gloveColors$=this.gloveColors.asObservable(),this.gloveWebs=new zn([]),this.gloveWebs$=this.gloveWebs.asObservable(),this.gloveCustom=new zn(void 0),this.gloveCustom$=this.gloveCustom.asObservable(),this.clearGloveCanvas=()=>{try{this.oView.clear(),this.iView.clear(),this.sView.clear()}catch{}},this.wizardData.getColors().subscribe(r=>{this.gloveColors.next(r)}),this.wizardData.getGloveWebs().pipe((0,xt.U)(r=>r.map(i=>({name:i.valueString,...i})))).subscribe(r=>{this.gloveWebs.next(r)}),this.leatherSelected$.subscribe(r=>console.log(r))}init(t){return this.initCanvas()}initCanvas(){var t=this;return(0,Ve.Z)(function*(){try{if(t.snapLoaded||(t.svgMain=Snap("#svg-main"),t.svgInside=Snap("#svg-inside"),t.svgSide=Snap("#svg-side"),t.oView=t.svgMain.group(),t.iView=t.svgInside.group(),t.sView=t.svgSide.group(),t.snapLoaded=!0),t._gloveBase===t.gloveBase)return;switch(t.clearGloveCanvas(),t.gloveBase){case"catcher-mitt":default:t.loadCatcher();break;case"catcher-fastback":t.loadCatcherFB();break;case"inf":case"pitcher":t.loadInfield();break;case"inf_dw":t.loadInfield2Welt();break;case"fbase":t.loadFbase();break;case"of":t.loadOutfield()}return t._gloveBase=t.gloveBase,{loaded:!0}}catch(r){return console.error(r),{loaded:!1,error:r}}})()}setGloveBase(t){this.gloveBase!==t.gloveBase&&(this.clearGloveCanvas(),this.gloveBase=t.gloveBase,this.gloveType.next({name:t.name,glove:t.gloveType}))}setGloveType(t){this.leatherType=t}addVariation(t){t.name.toLowerCase()}applyFilltoCanvas(t){["svg-main:_x5F_:vw3","svg-side:_x5F_:vw2","svg-inside:_x5F_:vw1"].forEach(r=>{const i=r.split(":"),a=i[0],u=`#${this.gloveBase}${i[1]}${i[2]}${i[1]}${t.section}`;switch(document.querySelector(`${u}`),this.fillChange.next({id:t.section,fill:"stroke",color:t.rgb}),a){case"svg-main":case"svg-inside":case"svg-side":if(0!=u.length){if(u.includes("stch")){document.querySelector(`${u}`)?.setAttribute("stroke",t.rgb);break}document.querySelector(`${u}`)?.setAttribute("fill",t.rgb)}}})}logError(t){this.errorLog.push(`Error adding value ${t.err}`)}_applyFormValue(t){const r=t.name.toLowerCase();try{if("steer"===r||"kip"===t.name)return void document.getElementById(`${t.attribute_pewc}`).click();document.getElementById(`${t.attribute_pewc}`).value=r,document.querySelector(`[data-id="${t.attribute_pewc}"]`).dataset.fieldValue=r}catch{}}applyFormValue(t){this._applyFormValue(t)}colorFilter(){let t=[];this.leatherSelected$.subscribe(r=>{this.gloveColors.value.forEach(i=>{"leather"===r?("steer"===r||"kip"===r)&&i.leather.includes(r)&&t.push(i):i.leather.includes(r)&&t.push(i)})})}separatorCheck(t,r){return t.split(r).length>1}triggerAddToCart(){document.getElementsByName("add-to-cart")[0].click()}valueFormatter(t){return t.split(" ").length>1?t=r(t," "):t.split("-").length>1?t=r(t,"-"):i(t);function r(a,u){let g=a.split(u);return g.forEach((y,C)=>{g[C]=i(y)}),g.join(" ")}function i(a){return a.charAt(0).toUpperCase()+a.slice(1)}}setSeriesOnGlove(t,r){0!==r.length&&r.attr({opacity:1,fill:"#FFFAFA"})}resetStitching(){document.querySelectorAll("").forEach(t=>{t.setAttribute("fill","none")})}loadCatcher(){const t=this;Snap.load(`${ao_imgSrc}assets/images/nys_catcher_back_view.svg`,r=>{this.svgMain.attr({viewBox:"0 -10 400 400"}),r.selectAll("#catcher-mitt_x5F_vw3_x5F_utoe, #catcher-mitt_x5F_vw3_x5F_thb, #catcher-mitt_x5F_vw3_x5F_bfg, #catcher-mitt_x5F_vw3_x5F_web, #catcher-mitt_x5F_vw3_x5F_plm, #catcher-mitt_x5F_vw3_x5F_lin, #catcher-mitt_x5F_vw3_x5F_bnd, #catcher-mitt_x5F_vw3_x5F_fpad, #catcher-mitt_x5F_vw3_x5F_stch, #catcher-mitt_x5F_vw3_x5F_lce, #catcher-mitt_x5F_vw3_x5F_logo, #catcher-mitt_x5F_open_x5F_back").forEach(function(a,u){Do.includes(["catcher-mitt_x5F_vw3_x5F_utoe","catcher-mitt_x5F_vw3_x5F_thb","catcher-mitt_x5F_vw3_x5F_bfg","catcher-mitt_x5F_vw3_x5F_web","catcher-mitt_x5F_vw3_x5F_plm","catcher-mitt_x5F_vw3_x5F_lin","catcher-mitt_x5F_vw3_x5F_bnd","catcher-mitt_x5F_vw3_x5F_fpad","catcher-mitt_x5F_vw3_x5F_stch","catcher-mitt_x5F_vw3_x5F_lce","catcher-mitt_x5F_vw3_x5F_logo","catcher-mitt_x5F_open_xF_back"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_catcher_inside_view.svg`,r=>{this.svgInside.attr({viewBox:"0 -10 400 400"}),r.selectAll("#catcher-mitt_x5F_vw2_x5F_plm, #catcher-mitt_x5F_vw2_x5F_web, #catcher-mitt_x5F_vw2_x5F_tgt, #catcher-mitt_x5F_vw2_x5F_stch, #catcher-mitt_x5F_vw2_x5F_bnd, #catcher-mitt_x5F_vw2_x5F_lce, #catcher-mitt_x5F_pocket_x5F_view, #catcher-mitt_x5F_vw2_x5F_rse, #catcher-mitt_x5F_rise_x5F_logo").forEach((a,u)=>{Do.includes(["catcher-mitt_x5F_vw2_x5F_plm","catcher-mitt_x5F_vw2_x5F_web","catcher-mitt_x5F_vw2_x5F_tgt","catcher-mitt_x5F_vw2_x5F_stch","catcher-mitt_x5F_vw2_x5F_bnd","catcher-mitt_x5F_vw2_x5F_lce","catcher-mitt_x5F_pocket_x5F_view","catcher-mitt_x5F_vw2_x5F_rse","catcher-mitt__x5F_rise_x5F_logo"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(t.iView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_catcher_side_view.svg`,r=>{this.svgSide.attr({viewBox:"0 0 400 400"}),r.selectAll("#catcher-mitt_x5F_vw1_x5F_utoe, #catcher-mitt_x5F_vw1_x5F_thb, #catcher-mitt_x5F_vw1_x5F_logo, #catcher-mitt_x5F_vw1_x5F_bnd, #catcher-mitt_x5F_vw1_x5F_plm, #catcher-mitt_x5F_vw1_x5F_web, #catcher-mitt_x5F_vw1_x5F_fpad, #catcher-mitt_x5F_vw1_x5F_stch, #catcher-mitt_x5F_vw1_x5F_lce, #catcher-mitt_x5F_side_x5F_view").forEach((a,u)=>{Do.includes(["catcher-mitt_x5F_vw1_x5F_utoe","catcher-mitt_x5F_vw1_x5F_thb","catcher-mitt_x5F_vw1_x5F_logo","catcher-mitt_x5F_vw1_x5F_bnd","catcher-mitt_x5F_vw1_x5F_plm","catcher-mitt_x5F_vw1_x5F_web","catcher-mitt_x5F_vw1_x5F_fpad","catcher-mitt_x5F_vw1_x5F_stch","catcher-mitt_x5F_vw1_x5F_lce","catcher-mitt_x5F_side_x5F_view"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}loadOutfield(){const t=this;Snap.load(`${ao_imgSrc}assets/images/nys_outfield_back_view.svg`,r=>{this.svgMain.attr({viewBox:"0 0 400 400"}),r.selectAll("#of_x5F_vw3_x5F_wst, #of_x5F_vw3_x5F_logo, #of_x5F_vw3_x5F_indo, #of_x5F_vw3_x5F_indi, #of_x5F_vw3_x5F_midi, #of_x5F_vw3_x5F_mido, #of_x5F_vw3_x5F_rngo, #of_x5F_vw3_x5F_rngi, #of_x5F_vw3_x5F_pnko, #of_x5F_vw3_x5F_pnki, #of_x5F_vw3_x5F_plm, #of_x5F_vw3_x5F_wlt, #of_x5F_vw3_x5F_bnd, #of_x5F_vw3_x5F_stch, #of_x5F_vw3_x5F_web, #of_x5F_vw3_x5F_lce, #of_x5F_open_x5F_back").forEach(function(a,u){Do.includes(["of_x5F_vw3_x5F_wst","of_x5F_vw3_x5F_logo","of_x5F_vw3_x5F_indo","of_x5F_vw3_x5F_indi","of_x5F_vw3_x5F_midi","of_x5F_vw3_x5F_mido","of_x5F_vw3_x5F_rngo","of_x5F_vw3_x5F_rngi","of_x5F_vw3_x5F_pnko","of_x5F_vw3_x5F_pnki","of_x5F_vw3_x5F_plm","of_x5F_vw3_x5F_wlt","of_x5F_vw3_x5F_bnd","of_x5F_vw3_x5F_stch","of_x5F_vw3_x5F_web","of_x5F_vw3_x5F_lce","of_x5F_open_x5F_back"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_outfield_inside_view.svg`,r=>{this.svgInside.attr({viewBox:"0 0 400 400"}),r.selectAll("#of_x5F_vw2_x5F_thbo, #of_x5F_vw2_x5F_thbi, #of_x5F_vw2_x5F_plm, #of_x5F_vw2_x5F_indo, #of_x5F_vw2_x5F_indi, #of_x5F_vw2_x5F_mido, #of_x5F_vw2_x5F_rngo, #of_x5F_vw2_x5F_rngi, #of_x5F_vw2_x5F_pnki, #of_x5F_vw2_x5F_pnko, #of_x5F_vw2_x5F_wlt, #of_x5F_vw2_x5F_web, #of_x5F_vw2_x5F_bnd, #of_x5F_vw2_x5F_stch, #of_x5F_vw2_x5F_lce, #of_x5F_open_x5F_pocket").forEach((a,u)=>{Do.includes(["of_x5F_vw2_x5F_thbo","of_x5F_vw2_x5F_thbi","of_x5F_vw2_x5F_plm","of_x5F_vw2_x5F_indo","of_x5F_vw2_x5F_indi","of_x5F_vw2_x5F_mido","of_x5F_vw2_x5F_rngo","of_x5F_vw2_x5F_rngi","of_x5F_vw2_x5F_pnki","of_x5F_vw2_x5F_pnko","of_x5F_vw2_x5F_wlt","of_x5F_vw2_x5F_web","of_x5F_vw2_x5F_bnd","of_x5F_vw2_x5F_stch","of_x5F_vw2_x5F_lce","of_x5F_open_x5F_pocket"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(t.iView)}),document.getElementById("of_x5F_vw2_x5F_stch").style.fill="none"}),Snap.load(`${ao_imgSrc}assets/images/nys_outfield_side_view.svg`,r=>{this.svgSide.attr({viewBox:"0 0 400 400"}),r.selectAll("#of_x5F_vw1_x5F_wst,#of_x5F_vw1_x5F_logo, #of_x5F_vw1_x5F_thbi, #of_x5F_vw1_x5F_thbo, #of_x5F_vw1_x5F_indo, #of_x5F_vw1_x5F_plm,#of_x5F_vw1_x5F_web, #of_x5F_vw1_x5F_bnd, #of_x5F_vw1_x5F_wlt, #of_x5F_vw1_x5F_stch, #of_x5F_vw1_x5F_lce, #of_x5F_side_x5F_view").forEach((a,u)=>{Do.includes(["of_x5F_vw1_x5F_wst","of_x5F_vw1_x5F_logo","of_x5F_vw1_x5F_thbi","of_x5F_vw1_x5F_thbo","of_x5F_vw1_x5F_indo","of_x5F_vw1_x5F_plm","of_x5F_vw1_x5F_web","of_x5F_vw1_x5F_bnd","of_x5F_vw1_x5F_wlt","of_x5F_vw1_x5F_stch","of_x5F_vw1_x5F_lce","of_x5F_side_x5F_view"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)}),document.getElementById("of_x5F_vw1_x5F_stch").style.fill="none"})}loadInfield(){const t=this;Snap.load(`${ao_imgSrc}assets/images/nys_infield_swelt_back.svg`,r=>{this.svgMain.attr({viewBox:"0 -10 400 400"}),r.selectAll("#inf_x5F_vw3_x5F_wst, #inf_x5F_vw3_x5F_thbi, #inf_x5F_vw3_x5F_web, #inf_x5F_vw3_x5F_indo, #inf_x5F_vw3_x5F_plm, #inf_x5F_vw3_x5F_indi, #inf_x5F_vw3_x5F_midi, #inf_x5F_vw3_x5F_mido, #inf_x5F_vw3_x5F_rngo, #inf_x5F_vw3_x5F_rngi, #inf_x5F_vw3_x5F_pnko, #inf_x5F_vw3_x5F_pnki, #inf_x5F_vw3_x5F_logo, #inf_x5F_vw3_x5F_wlt, #inf_x5F_vw3_x5F_stch, #inf_x5F_vw3_x5F_bnd, #inf_x5F_vw3_x5F_lce, #inf_x5F_open_x5F_back,#inf_x5F_vw3_x5F_rise,#inf_x5F_vw3_x5F_elite,#inf_x5F_logo_x5F_elite,#inf_x5F_logo_x5F_rise").forEach((a,u)=>{const y=["inf_x5F_vw3_x5F_wst","inf_x5F_vw3_x5F_thbi","inf_x5F_vw3_x5F_web","inf_x5F_vw3_x5F_indo","inf_x5F_vw3_x5F_plm","inf_x5F_vw3_x5F_indi","inf_x5F_vw3_x5F_midi","inf_x5F_vw3_x5F_mido","inf_x5F_vw3_x5F_rngo","inf_x5F_vw3_x5F_rngi","inf_x5F_vw3_x5F_pnko","inf_x5F_vw3_x5F_pnki","inf_x5F_vw3_x5F_logo","inf_x5F_vw3_x5F_wlt","inf_x5F_vw3_x5F_stch","inf_x5F_vw3_x5F_bnd","inf_x5F_vw3_x5F_lce","inf_x5F_open_x5F_back","inf_x5F_vw3_x5F_rise","inf_x5F_vw3_x5F_elite","inf_x5F_logo_x5F_elite","inf_x5F_logo_x5F_rise"][u],C=y.split("_").pop();Do.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),("rise"===C||"elite"===C)&&(a.attr({opacity:0}),0!==a.length&&a.attr({opacity:1,fill:"#FFFAFA"}),this.setSeriesOnGlove(C,a)),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_infield_swelt_pocket.svg`,r=>{this.svgInside.attr({viewBox:"0 -10 400 400"}),r.selectAll("#inf_x5F_vw2_x5F_plm, #inf_x5F_vw2_x5F_thbo, #inf_x5F_vw2_x5F_thbi, #inf_x5F_vw2_x5F_indo, #inf_x5F_vw2_x5F_indi,#inf_x5F_vw2_x5F_mid,#inf_x5F_vw2_x5F_rngo,#inf_x5F_vw2_x5F_rngi,#inf_x5F_vw2_x5F_pnko,#inf_x5F_vw2_x5F_pnki, #inf_x5F_vw2_x5F_web, #inf_x5F_vw2_x5F_stch, #inf_x5F_vw2_x5F_bnd , #inf_x5F_vw2_x5F_wlt, #inf_x5F_vw2_x5F_lce, #inf_x5F_open_x5F_pocket").forEach((a,u)=>{Do.includes(["inf_x5F_vw2_x5F_plm","inf_x5F_vw2_x5F_thbo","inf_x5F_vw2_x5F_thbi","inf_x5F_vw2_x5F_indo","inf_x5F_vw2_x5F_indi","inf_x5F_vw2_x5F_midi","inf_x5F_vw2_x5F_mido","inf_x5F_vw2_x5F_rngo","inf_x5F_vw2_x5F_rngi","inf_x5F_vw2_x5F_pnko","inf_x5F_vw2_x5F_pnki","inf_x5F_vw2_x5F_web","inf_x5F_vw2_x5F_stch","inf_x5F_vw2_x5F_bnd","inf_x5F_vw2_x5F_wlt","inf_x5F_vw2_x5F_lce","inf_x5F_open_x5F_pocket"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#fffafa"}),t.iView.add(a),t.svgInside.append(this.iView)}),document.getElementById("inf_x5F_vw2_x5F_stch").style.fill="none"}),Snap.load(`${ao_imgSrc}assets/images/nys_infield_swelt_side.svg`,r=>{this.svgSide.attr({viewBox:"-60 0 400 400"}),r.selectAll("#inf_x5F_vw1_x5F_thbi, #inf_x5F_vw1_x5F_mid, #inf_x5F_vw1_x5F_indi, #inf_x5F_vw1_x5F_wst, #inf_x5F_vw1_x5F_plm, #inf_x5F_vw1_x5F_bnd, #inf_x5F_vw1_x5F_indo, #inf_x5F_vw1_x5F_thbo, #inf_x5F_vw1_x5F_wlt, #inf_x5F_vw1_x5F_web, #inf_x5F_vw1_x5F_stch,  #inf_x5F_vw1_x5F_lce, #inf_x5F_open_x5F_side").forEach((a,u)=>{Do.includes(["inf_x5F_vw1_x5F_thbi","inf_x5F_vw1_x5F_mid","inf_x5F_vw1_x5F_indi","inf_x5F_vw1_x5F_wst","inf_x5F_vw1_x5F_plm","inf_x5F_vw1_x5F_bnd","inf_x5F_vw1_x5F_indo","inf_x5F_vw1_x5F_thbo","inf_x5F_vw1_x5F_wlt","inf_x5F_vw1_x5F_web","inf_x5F_vw1_x5F_stch","inf_x5F_vw1_x5F_lce","inf_x5F_open_x5F_side"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)}),document.getElementById("inf_x5F_vw1_x5F_stch").style.fill="none"})}loadFbase(){const t=this;Snap.load(`${ao_imgSrc}assets/images/nys_fbase_back_view.svg`,function(r){t.svgMain.attr({viewBox:"0 -10 400 400"}),r.selectAll("#fbase_x5F_vw3_x5F_thb, #fbase_x5F_vw3_x5F_bfg, #fbase_x5F_vw3_x5F_plm, #fbase_x5F_vw3_x5F_utoe, #fbase_x5F_vw3_x5F_wst, #fbase_x5F_vw3_x5F_logo, #fbase_x5F_vw3_x5F_web, #fbase_x5F_vw3_x5F_stch, #fbase_x5F_vw3_x5F_bnd, #fbase_x5F_vw3_x5F_lce, #fbase_x5F_vw3_x5F_rise, #fbase_x5F_vw3_x5F_elite, #fbase_x5F_open_x5F_back, #fbase_x5F_logo_x5F_elite, #fbase_x5F_logo_x5F_rise").forEach(function(a,u){const y=["fbase_x5F_vw3_x5F_thb","fbase_x5F_vw3_x5F_bfg","fbase_x5F_vw3_x5F_plm","fbase_x5F_vw3_x5F_utoe","fbase_x5F_vw3_x5F_wst","fbase_x5F_vw3_x5F_logo","fbase_x5F_vw3_x5F_web","fbase_x5F_vw3_x5F_stch","fbase_x5F_vw3_x5F_bnd","fbase_x5F_vw3_x5F_lce","fbase_x5F_vw3_x5F_rise","fbase_x5F_vw3_x5F_elite","fbase_x5F_open_x5F_back","fbase_x5F_logo_x5F_elite","fbase_x5F_logo_x5F_rise"][u],C=y.split("_").pop();Do.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),("rise"===C||"elite"===C)&&(a.attr({opacity:0}),t.setSeriesOnGlove(C,a)),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_fbase_inside_view.svg`,function(r){t.svgInside.attr({viewBox:"0 -10 400 400"}),r.selectAll("#fbase_x5F_vw2_x5F_plm, #fbase_x5F_vw2_x5F_bnd, #fbase_x5F_vw2_x5F_web, #fbase_x5F_vw2_x5F_stch, #fbase_x5F_vw2_x5F_lce, #fbase_x5F_open_x5F_pocket").forEach(function(a,u){Do.includes(["fbase_x5F_vw2_x5F_plm","fbase_x5F_vw2_x5F_bnd","fbase_x5F_vw2_x5F_web","fbase_x5F_vw2_x5F_stch","fbase_x5F_vw2_x5F_lce","fbase_x5F_open_x5F_pocket"][u],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(t.iView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_fbase_side_view.svg`,function(r){t.svgSide.attr({viewBox:"-10 0 400 400"}),r.selectAll("#fbase_x5F_vw1_x5F_wst, #fbase_x5F_vw1_x5F_logo, #fbase_x5F_vw1_x5F_plm, #fbase_x5F_vw1_x5F_thb, #fbase_x5F_vw1_x5F_bfg, #fbase_x5F_vw1_x5F_utoe, #fbase_x5F_vw1_x5F_web, #fbase_x5F_vw1_x5F_stch, #fbase_x5F_vw1_x5F_bnd, #fbase_x5F_vw1_x5F_lce, #fbase_x5F_side_x5F_view").forEach(function(a,u){Do.includes(["fbase_x5F_vw1_x5F_wst","fbase_x5F_vw1_x5F_logo","fbase_x5F_vw1_x5F_plm","fbase_x5F_vw1_x5F_thb","fbase_x5F_vw1_x5F_bfg","fbase_x5F_vw1_x5F_utoe","fbase_x5F_vw1_x5F_web","fbase_x5F_vw1_x5F_stch","fbase_x5F_vw1_x5F_bnd","fbase_x5F_vw1_x5F_lce","fbase_x5F_side_x5F_view"][u],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}loadCatcherFB(){const t=this;Snap.load(`${ao_imgSrc}assets/images/nys_catcher_fastback_back.svg`,r=>{this.svgMain.attr({viewBox:"0 0 400 400"}),r.selectAll("#catcher-fastback_x5F_vw3_x5F_utoe, #catcher-fastback_x5F_vw3_x5F_thb, #catcher-fastback_x5F_vw3_x5F_logo, #catcher-fastback_x5F_vw3_x5F_mid, #catcher-fastback_x5F_vw3_x5F_bfg, #catcher-fastback_x5F_vw3_x5F_plm, #catcher-fastback_x5F_vw3_x5F_wlt ,#catcher-fastback_x5F_vw3_x5F_stch, #catcher-fastback_x5F_vw3_x5F_bnd, #catcher-fastback_x5F_vw3_x5F_web, #catcher-fastback_x5F_vw3_x5F_lce, #catcher-fastback_x5F_vw3_x5F_fpad, #catcher-fastback_x5F_fastback_x5F_back").forEach(function(a,u){Do.includes(["catcher-fastback_x5F_vw3_x5F_utoe","catcher-fastback_x5F_vw3_x5F_thb","#catcher-fastback_x5F_vw3_x5F_logo","#catcher-fastback_x5F_vw3_x5F_mid","catcher-fastback_x5F_vw3_x5F_bfg","#catcher-fastback_x5F_vw3_x5F_plm","#catcher-fastback_x5F_vw3_x5F_wlt","#catcher-fastback_x5F_vw3_x5F_stch","catcher-fastback_x5F_vw3_x5F_bnd","catcher-fastback_x5F_vw3_x5F_web","catcher-fastback_x5F_vw3_x5F_lce","catcher-fastback_x5F_vw3_x5F_fpad","catcher-fastback_x5F_fastback_x5F_back"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_catcher_fastback_inside_view.svg`,r=>{this.svgInside.attr({viewBox:"0 0 400 400"}),r.selectAll("#catcher-fastback_x5F_vw2_x5F_plm, #catcher-fastback_x5F_vw2_x5F_web, #catcher-fastback_x5F_vw2_x5F_tgt, #catcher-fastback_x5F_vw2_x5F_stch, #catcher-fastback_x5F_vw2_x5F_bnd, #catcher-fastback_x5F_vw2_x5F_lce, #catcher-fastback_x5F_pocket_x5F_view, #catcher-fastback_x5F_vw2_x5F_rse, #catcher-fastback_x5F_rise_x5F_logo").forEach((a,u)=>{Do.includes(["catcher-fastback_x5F_vw2_x5F_plm","catcher-fastback_x5F_vw2_x5F_web","catcher-fastback_x5F_vw2_x5F_tgt","catcher-fastback_x5F_vw2_x5F_stch","catcher-fastback_x5F_vw2_x5F_bnd","catcher-fastback_x5F_vw2_x5F_lce","catcher-fastback_x5F_pocket_x5F_view","catcher-fastback_x5F_vw2_x5F_rse","catcher-fastback_x5F_rise_x5F_logo"][u],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(t.iView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_catcher_fastback_side.svg`,r=>{this.svgSide.attr({viewBox:"0 0 400 400"}),r.selectAll("#catcher-fastback_x5F_vw1_x5F_thb, #catcher-fastback_x5F_vw1_x5F_logo, #catcher-fastback_x5F_vw1_x5F_utoe, #catcher-fastback_x5F_vw1_x5F_wlt, #catcher-fastback_x5F_vw1_x5F_web, #catcher-fastback_x5F_vw1_x5F_bnd, #catcher-fastback_x5F_vw1_x5F_plm, #catcher-fastback_x5F_vw1_x5F_stch, #catcher-fastback_x5F_vw1_x5F_blt, #catcher-fastback_x5F_vw1_x5F_lce, #catcher-fastback_x5F_vw1_x5F_fastback_x5F_side").forEach((a,u)=>{Do.includes(["catcher-fastback_x5F_vw1_x5F_thb","catcher-fastback_x5F_vw1_x5F_logo","catcher-fastback_x5F_vw1_x5F_utoe","catcher-fastback_x5F_vw1_x5F_wlt","catcher-fastback_x5F_vw1_x5F_web","catcher-fastback_x5F_vw1_x5F_bnd","catcher-fastback_x5F_vw1_x5F_plm","catcher-fastback_x5F_vw1_x5F_stch","catcher-fastback_x5F_vw1_x5F_blt","catcher-fastback_x5F_vw1_x5F_lce","catcher-fastback_x5F_vw1_x5F_fastback_x5F_side"][u],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}loadInfield2Welt(){const t=this;Snap.load(`${ao_imgSrc}assets/images/nys_infield_dwelt_back.svg`,r=>{this.svgMain.attr({viewBox:"0 0 400 400"}),r.selectAll("#inf_dw_x5F_vw3_x5F_bfg, #inf_dw_x5F_vw3_x5F_mid, #inf_dw_x5F_vw3_x5F_wst, #inf_dw_x5F_vw3_x5F_wlt, #inf_dw_x5F_vw3_x5F_bnd, #inf_dw_x5F_vw3_x5F_logo, #inf_dw_x5F_vw3_x5F_web, #inf_dw_x5F_vw3_x5F_plm, #inf_dw_x5F_vw3_x5F_stch, #inf_dw_x5F_vw3_x5F_lce, #inf_dw_x5F_dwelt_x5F_back, #inf_dw_x5F_vw3_x5F_rse, inf_dw_x5F_vw3_x5F_elt, inf_dw_x5F_elite_x5F_logo, inf_dw_x5F_rise_x5F_logo").forEach((a,u)=>{const y=["inf_dw_x5F_vw3_x5F_bfg","inf_dw_x5F_vw3_x5F_mid","inf_dw_x5F_vw3_x5F_wst","inf_dw_x5F_vw3_x5F_wlt","inf_dw_x5F_vw3_x5F_bnd","inf_dw_x5F_vw3_x5F_logo","inf_dw_x5F_vw3_x5F_web","inf_dw_x5F_vw3_x5F_plm","inf_dw_x5F_vw3_x5F_stch","inf_dw_x5F_vw3_x5F_lce","inf_dw_x5F_dwelt_x5F_back","inf_dw_x5F_vw3_x5F_rse","inf_dw_x5F_vw3_x5F_elt","inf_dw_x5F_elite_x5F_logo","inf_dw_x5F_rise_x5F_logo"][u],C=y.split("_").pop();Do.includes(y,"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),("rise"===C||"elite"===C||"rse"===C)&&(a.attr({opacity:0}),this.setSeriesOnGlove(C,a)),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_infield_dwelt_pocket.svg`,r=>{this.svgInside.attr({viewBox:"0 0 400 400"}),r.selectAll("#inf_dw_x5F_vw2_x5F_web, #inf_dw_x5F_vw2_x5F_plm, #inf_dw_x5F_vw2_x5F_mid, #inf_dw_x5F_vw2_x5F_bfg, #inf_dw_x5F_vw2_x5F_wlt, #inf_dw_x5F_vw2_x5F_bnd,#inf_dw_x5F_vw2_x5F_stch, #inf_dw_x5F_vw2_x5F_lce, #inf_dw_x5F_dwelt_x5F_inside").forEach((a,u)=>{Do.includes(["inf_dw_x5F_vw2_x5F_web","inf_dw_x5F_vw2_x5F_plm","inf_dw_x5F_vw2_x5F_mid","inf_dw_x5F_vw2_x5F_bfg","inf_dw_x5F_vw2_x5F_wlt","inf_dw_x5F_vw2_x5F_bnd","inf_dw_x5F_vw2_x5F_stch","inf_dw_x5F_vw2_x5F_lce","inf_dw_x5F_dwelt_x5F_inside"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(this.iView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_infield_dwelt_side.svg`,r=>{this.svgSide.attr({viewBox:"0 0 400 400"}),r.selectAll("#inf_dw_x5F_vw1_x5F_plm, #inf_dw_x5F_vw1_x5F_bfg, #inf_dw_x5F_vw1_x5F_mid, #inf_dw_x5F_vw1_x5F_wlt, #inf_dw_x5F_vw1_x5F_web, #inf_dw_x5F_vw1_x5F_wst, #inf_dw_x5F_vw1_x5F_stch, #inf_dw_x5F_vw1_x5F_bnd, #inf_dw_x5F_vw1_x5F_lce, #inf_dw_x5F_vw1_x5F_logo, #inf_dw_x5F_dwelt_x5F_side").forEach((a,u)=>{Do.includes(["inf_dw_x5F_vw1_x5F_plm","inf_dw_x5F_vw1_x5F_bfg","inf_dw_x5F_vw1_x5F_mid","inf_dw_x5F_vw1_x5F_wlt","inf_dw_x5F_vw1_x5F_web","inf_dw_x5F_vw1_x5F_wst","inf_dw_x5F_vw1_x5F_stch","inf_dw_x5F_vw1_x5F_bnd","inf_dw_x5F_vw1_x5F_lce","inf_dw_x5F_vw1_x5F_logo, inf_dw_x5F_dwelt_x5F_side"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}loadPitcher(){const t=this;Snap.load(`${ao_imgSrc}assets/images/nys_pitcher_open_back.svg`,function(r){t.svgMain.attr({viewBox:"0 0 400 400"}),r.selectAll(" #pitcher_x5F_vw3_x5F_wst, #pitcher_x5F_vw3_x5F_logo, #pitcher_x5F_vw3_x5F_thbi, #pitcher_x5F_vw3_x5F_plm, #pitcher_x5F_vw3_x5F_web, #pitcher_x5F_vw3_x5F_indi, #pitcher_x5F_vw3_x5F_indo, #pitcher_x5F_vw3_x5F_mid, #pitcher_x5F_vw3_x5F_rngo, #pitcher_x5F_vw3_x5F_rngi, #pitcher_x5F_vw3_x5F_pnko, #pitcher_x5F_vw3_x5F_pnki, #pitcher_x5F_vw3_x5F_stch, #pitcher_x5F_vw3_x5F_wlt, #pitcher_x5F_vw3_x5F_bnd, #pitcher_x5F_vw3_x5F_bnd, #pitcher_x5F_vw3_x5F_lce, #pitcher_x5F_open_x5F_back,#pitcher_x5F_vw3_x5F_rse,#pitcher_x5F_vw3_x5F_elt,#pitcher_x5F_logo_x5F_elite,#pitcher_x5F_logo_x5F_rise").forEach(function(a,u){const y=["pitcher_x5F_vw3_x5F_wst","pitcher_x5F_vw3_x5F_logo","pitcher_x5F_vw3_x5F_thbi","pitcher_x5F_vw3_x5F_plm","pitcher_x5F_vw3_x5F_web","pitcher_x5F_vw3_x5F_indi","pitcher_x5F_vw3_x5F_indo","pitcher_x5F_vw3_x5F_mid","pitcher_x5F_vw3_x5F_rngo","pitcher_x5F_vw3_x5F_rngi","pitcher_x5F_vw3_x5F_pnko","pitcher_x5F_vw3_x5F_pnki","pitcher_x5F_vw3_x5F_stch","pitcher_x5F_vw3_x5F_wlt","pitcher_x5F_vw3_x5F_bnd","pitcher_x5F_vw3_x5F_bnd","pitcher_x5F_vw3_x5F_lce","pitcher_x5F_open_x5F_back","pitcher_x5F_vw3_x5F_rse","pitcher_x5F_vw3_x5F_elt","pitcher_x5F_logo_x5F_elite","pitcher_x5F_logo_x5F_rise"][u],C=y.split("_").pop();Do.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),("rise"===C||"elite"===C)&&(a.attr({opacity:0}),t.setSeriesOnGlove(C,a)),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${ao_imgSrc}assets/images/nys_pitcher_side_view.svg`,function(r){t.svgInside.attr({viewBox:"0 0 400 400"}),r.selectAll("#pitcher_x5F_vw1_x5F_lin,#pitcher_x5F_vw1_x5F_bfg,#pitcher_x5F_vw1_x5F_plm,#pitcher_x5F_vw1_x5F_web,#pitcher_x5F_vw1_x5F_wst,#pitcher_x5F_vw1_x5F_logo, #pitcher_x5F_vw1_x5F_wlt, #pitcher_x5F_vw1_x5F_bnd, #pitcher_x5F_vw1_x5F_stch, #pitcher_x5F_vw1_x5F_lce,#pitcher_x5F_open_x5F_side").forEach(function(a,u){t.iView.add(a),t.svgInside.append(t.iView)})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $j=["mainStep"];function Hj(n,e){if(1&n&&(c.TgZ(0,"h6"),c._uU(1),c.qZA()),2&n){const t=c.oxw(2).$implicit;c.xp6(1),c.Oqu(t.title)}}function jj(n,e){1&n&&(c.ynx(0),c.YNc(1,Hj,2,1,"ng-template",7),c.BQk())}function Gj(n,e){if(1&n){const t=c.EpF();c.ynx(0),c._UZ(1,"input",13),c.TgZ(2,"button",14),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(6);return c.KtG(u.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(1),c.hYB("id","",t,"-",r,""),c.xp6(2),c.Oqu(t.name)}}function Wj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"dd",11)(2,"div",12),c.YNc(3,Gj,4,3,"ng-container",4),c.qZA()(),c.BQk()),2&n){const t=c.oxw(5);c.xp6(3),c.Q6J("ngForOf",t.setGloveSize())}}function zj(n,e){if(1&n){const t=c.EpF();c.ynx(0),c._UZ(1,"input",13),c.TgZ(2,"button",14),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(6);return c.KtG(u.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(1),c.hYB("id","",t,"-",r,""),c.xp6(2),c.Oqu(t.name)}}function qj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"dd",11)(2,"div",12),c.YNc(3,zj,4,3,"ng-container",4),c.qZA()(),c.BQk()),2&n){const t=c.oxw(3).$implicit;c.xp6(3),c.Q6J("ngForOf",t.variations)}}function Zj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"dt",9),c._uU(2),c.qZA(),c.YNc(3,Wj,4,1,"ng-container",3),c.YNc(4,qj,4,1,"ng-container",3),c._UZ(5,"div",10),c.BQk()),2&n){const t=c.oxw(2).$implicit;c.xp6(2),c.hij(" ",t.label," "),c.xp6(1),c.Q6J("ngIf","glove size"===t.label.toLowerCase()),c.xp6(1),c.Q6J("ngIf","glove size"!==t.title.toLowerCase())}}function Kj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ngu-tile")(1,"section")(2,"div",21)(3,"div",22)(4,"h4",23),c._uU(5),c.qZA()(),c.TgZ(6,"div",22),c._UZ(7,"img",24),c.qZA(),c.TgZ(8,"div",25)(9,"button",26),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(6);return c.KtG(u.addVariation(a))}),c._uU(10,"Select"),c.qZA()()()()()}if(2&n){const t=e.$implicit;c.xp6(5),c.Oqu(null==t?null:t.name),c.xp6(2),c.Q6J("src",null==t?null:t.img,c.LSH)}}function Yj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",15)(2,"div",16)(3,"ngu-carousel",17),c._UZ(4,"button",18)(5,"button",19),c.YNc(6,Kj,11,2,"ngu-tile",20),c.qZA()()(),c.BQk()),2&n){const t=c.oxw(3).$implicit,r=c.oxw(2);c.xp6(3),c.Q6J("inputs",r.carouselTile)("dataSource",t.variations)}}function Qj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Yj,7,2,"ng-container",3),c.BQk()),2&n){const t=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngIf","Glove Brand"===t.title)}}function Jj(n,e){if(1&n&&(c.TgZ(0,"dl",8),c.YNc(1,Zj,6,3,"ng-container",3),c.YNc(2,Qj,2,1,"ng-container",3),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("ngIf",!t.includeOptions),c.xp6(1),c.Q6J("ngIf",t.includeOptions)}}function Xj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"ngb-panel",5),c.YNc(2,jj,2,0,"ng-container",4),c.YNc(3,Jj,3,2,"ng-template",6),c.qZA(),c.BQk()),2&n){const t=e.$implicit,r=e.index,i=c.oxw(2);c.xp6(1),c.hYB("id","",t.id,"",r,""),c.Q6J("disabled",t.disabled),c.xp6(1),c.Q6J("ngForOf",i.steps)}}function eG(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Xj,4,4,"ng-container",4),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.steps)}}const tG=[{path:"",component:(()=>{class n{constructor(t){this.router=t}ngOnInit(){}start(){console.log("start"),this.router.navigate(["wizard"],{skipLocationChange:!0})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bs))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-splash-screen"]],decls:14,vars:0,consts:[[1,"row"],["id","splash-screen"],["width","900","height","500","autoplay","",1,"glove-video"],["src","//nystix.com/wp-content/uploads/2022/10/intro.mp4"],["viewBox","-20 0 100 100",1,"start-button",3,"click"],["id","layer1","transform","translate(-48.380947,-83.910709)"],["id","g864"],["r","33.072918","cy","116.98363","cx","81.453865","id","path835",2,"opacity","0.999","fill","#f4f416","fill-opacity","1","stroke-width","0.397726"],["aria-label","START","id","text839",2,"font-style","italic","font-weight","bold","font-size","12.6109px","line-height","1.25","font-family","sans-serif","-inkscape-font-specification","sans-serif Bold Italic","stroke-width","0.315275"],["d","m 61.709237,121.73428 q -1.176114,0 -2.099764,-0.2032 -0.917492,-0.20321 -1.588678,-0.50493 l 0.474141,-2.19829 h 0.258622 q 0.634239,0.57882 1.490155,0.89902 0.855915,0.31404 1.841142,0.31404 1.009857,0 1.483997,-0.27093 0.474141,-0.2771 0.474141,-0.78819 0,-0.19088 -0.08005,-0.32635 -0.07389,-0.14163 -0.295568,-0.2771 -0.221676,-0.13547 -0.609609,-0.26478 -0.381775,-0.13547 -0.991384,-0.30788 -0.671186,-0.18473 -1.206903,-0.40025 -0.529559,-0.21552 -0.905177,-0.51108 -0.375617,-0.30173 -0.572663,-0.69582 -0.190887,-0.39409 -0.190887,-0.94212 0,-1.37932 1.21306,-2.19829 1.219218,-0.82513 3.331297,-0.82513 1.016015,0 1.915034,0.16626 0.905177,0.16626 1.533259,0.44951 l -0.449509,2.11208 h -0.252465 q -0.480298,-0.44335 -1.268479,-0.73892 -0.782023,-0.30173 -1.711831,-0.30173 -0.911335,0 -1.410105,0.26478 -0.498771,0.26478 -0.498771,0.73276 0,0.21552 0.07389,0.35715 0.07389,0.14163 0.301725,0.27709 0.197046,0.12316 0.621924,0.27094 0.424879,0.14163 0.997542,0.29557 1.539417,0.41256 2.198287,0.96675 0.65887,0.55419 0.65887,1.50247 0,0.79434 -0.357144,1.39779 -0.357145,0.60345 -0.985227,0.97907 -0.65887,0.40025 -1.496313,0.58498 -0.837442,0.18473 -1.896561,0.18473 z","id","path846",2,"stroke-width","0.315275"],["d","m 76.204383,114.17267 h -2.857157 l -1.705673,7.39535 h -2.376859 l 1.705673,-7.39535 H 68.11321 l 0.406406,-1.77341 h 8.091173 z","id","path848",2,"stroke-width","0.315275"],["d","m 84.47413,121.56802 h -2.383017 l -0.209361,-1.87193 h -3.374401 l -1.071434,1.87193 h -2.469224 l 5.498796,-9.16876 h 2.734004 z m -2.77095,-3.51602 -0.36946,-3.29435 -1.890404,3.29435 z","id","path850",2,"stroke-width","0.315275"],["d","m 94.91753,114.70838 q 0,1.10223 -0.671185,1.85346 -0.671186,0.75124 -1.82267,1.13301 l 2.118238,3.87317 h -2.641639 l -1.724147,-3.36208 h -1.330056 l -0.775865,3.36208 h -2.364544 l 2.118237,-9.16876 h 3.577604 q 1.681043,0 2.598535,0.57266 0.917492,0.56651 0.917492,1.73646 z m -2.549274,0.39409 q 0,-0.55419 -0.357144,-0.78202 -0.350987,-0.23399 -1.040646,-0.23399 H 89.80051 l -0.572663,2.46922 h 1.163799 q 0.942123,0 1.459366,-0.38177 0.517244,-0.38793 0.517244,-1.07144 z","id","path852",2,"stroke-width","0.315275"],["d","m 104.48038,114.17267 h -2.85715 l -1.705677,7.39535 h -2.376859 l 1.705673,-7.39535 H 96.38921 l 0.406406,-1.77341 h 8.091174 z","id","path854",2,"stroke-width","0.315275"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"video",2),c._UZ(3,"source",3),c.qZA(),c.O4$(),c.TgZ(4,"svg",4),c.NdJ("click",function(){return r.start()}),c.TgZ(5,"g",5)(6,"g",6),c._UZ(7,"circle",7),c.TgZ(8,"g",8),c._UZ(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13),c.qZA()()()()()())},styles:["#splash-screen[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;object-fit:cover;position:fixed;inset:0;z-index:-1;width:900px}.glove-video[_ngcontent-%COMP%]{position:fixed;object-fit:cover;z-index:-1;inset:0}.start-button[_ngcontent-%COMP%]{width:200px;height:200px;margin-top:-400px;animation-name:scale-up-center;animation-duration:1s;animation-timing-function:linear;animation-delay:3s;animation-iteration-count:1;animation-direction:normal;animation-fill-mode:forwards;opacity:0}@keyframes scale-up-center{0%{transform:scale(.2)}to{opacity:1;transform:scale(1)}}.glove-video[_ngcontent-%COMP%], .mobile-splash[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 596px) and (max-width: 768px){#splash-screen[_ngcontent-%COMP%]{max-width:100%;height:auto;background-image:url(https://nystix.com/wp-content/uploads/2022/10/splash-mobile_766.jpg);background-repeat:no-repeat;background-size:contain}.start-button[_ngcontent-%COMP%]{animation-name:scale-up-center;animation-duration:.1s;animation-timing-function:linear;animation-delay:0s;animation-iteration-count:1;animation-direction:normal;animation-fill-mode:forwards;opacity:0}@keyframes scale-up-center{0%{transform:scale(.2)}to{opacity:1;transform:scale(1)}}}@media (max-width: 595px){#splash-screen[_ngcontent-%COMP%]{max-width:100%;height:auto;background-image:url(https://nystix.com/wp-content/uploads/2022/10/splash-mobile_766.jpg);background-repeat:no-repeat;background-size:contain}.start-button[_ngcontent-%COMP%]{width:150px;height:150px;margin-top:-400px;animation-delay:0s}}"]}),n})()},{path:"wizard",component:(()=>{class n{constructor(t,r,i,a){this.afs=t,this.api=r,this.router=i,this.data=a,this.panelId="main-1",this.domResponse={},this.carouselTile={grid:{xs:1,sm:2,md:3,lg:3,all:0},slide:2,speed:400,animation:"lazy",loop:!0,point:{visible:!0},load:2,touch:!0,easing:"ease"},this.gloveType="",this.data.getSteps().subscribe(u=>{this.steps=$w,this.steps.forEach(g=>{g.includeOptions&&this.api.gloveDesign.next(g.options)})}),this.gloveSize=Uw}ngOnInit(){}addVariation(t){const r=t.name.toLowerCase(),i=this.mainStep.activeIds[0];switch(this.lastItemSelected=t,this.domResponse[i]=this.lastItemSelected,this.lastItemSelected="",this.api.applyFormValue(t),this.api.setGloveType(r),r){case"infielder":case"outfielder":case"catcher":case"pitcher":this.api.setGloveBase({name:r,gloveBase:t.gloveBase,gloveType:t.gloveType}),this.gloveType=r;break;case"first base":case"1st base":this.api.setGloveBase({name:"first base",gloveBase:t.gloveBase,gloveType:t.gloveType}),this.gloveType=r}"main-5"!=this.panelId?this.mainStep.expand(this.panelId):this.router.navigate(["./glove-design"],{skipLocationChange:!0})}setGloveSize(){return null!=this.gloveSize?this.gloveSize.filter(i=>i.glove.includes(this.gloveType)):[]}panelChange(t){const r=t;if(this.panelId=`main-${parseInt(r.split("-")[1])+1}`,this.domResponse[r]){const i=this.domResponse[r];document.querySelectorAll("button.btn").length>0&&document.querySelectorAll("button.btn").forEach(a=>{a.classList.remove("active"),a.innerText.toLowerCase()===i.name.toLowerCase()&&a.classList.add("active"),a.innerText===i&&a.classList.add("active")})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gM),c.Y36(bB),c.Y36(Bs),c.Y36(yB))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main"]],viewQuery:function(t,r){if(1&t&&c.Gf($j,5),2&t){let i;c.iGM(i=c.CRH())&&(r.mainStep=i.first)}},features:[c._Bn([A])],decls:4,vars:3,consts:[[1,"container-fluid",2,"padding","unset"],["activeIds","main-0",3,"closeOthers","destroyOnHide","shown"],["mainStep",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"id","disabled"],["ngbPanelContent",""],["ngbPanelTitle",""],[1,"row","align-items-center"],[1,"col-sm-12","col-md-4","text-center"],[1,"col-12"],[1,"col-sm-12","col-md-8","mb-1","d-flex"],[1,"col","main-button-group__item"],["type","radio","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","flex-fill","m-2",3,"click"],[1,"container"],[1,"row"],[3,"inputs","dataSource"],["type","button","NguCarouselPrev","",1,"leftRs"],["type","button","NguCarouselNext","",1,"rightRs"],[4,"nguCarouselDef"],[1,"d-flex","flex-column","py-4"],[1,"glove-brand-view__list","pb-2","my-2"],[2,"font-weight","600"],["mat-card-image","",1,"glove-brand-img-size",3,"src"],[1,"glove-brand-view__list","pt-2","my-2"],["type","button",1,"btn","btn-lg","w-100","btn-outline-success",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"ngb-accordion",1,2),c.NdJ("shown",function(a){return r.panelChange(a)}),c.YNc(3,eG,2,1,"ng-container",3),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("closeOthers",!0)("destroyOnHide",!1),c.xp6(2),c.Q6J("ngIf",void 0!==r.steps))},dependencies:[Oi,nr,We,fe,K,ie,oS,RI,nw,rw,OI],styles:["ngb-accordion[_ngcontent-%COMP%]{padding:0 6px}.main[_ngcontent-%COMP%]{display:flex}.main-button-group[_ngcontent-%COMP%]{display:flex;margin-bottom:2px}.main-button-group__item[_ngcontent-%COMP%]{display:flex;padding:1rem}label[_ngcontent-%COMP%]{width:100%;height:60px;display:flex;align-items:center;justify-content:center;font-size:1rem;margin-right:5px}.wrap[_ngcontent-%COMP%]{flex-flow:wrap}.glove-brand-img-size[_ngcontent-%COMP%]{width:150px;height:100px}.glove-brand-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.glove-brand-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.glove-brand-margin[_ngcontent-%COMP%]{margin:0 30px}section[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 991px){.main-button-group__item[_ngcontent-%COMP%]{padding:.2rem}}@media (max-width: 580px){.main-button-group__item[_ngcontent-%COMP%]{padding:.4rem}label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;height:50px;padding:0}}@media (max-width: 460px){.card[_ngcontent-%COMP%]{padding:4px 4x}.main-button-group__item[_ngcontent-%COMP%]{padding:.3rem}button[_ngcontent-%COMP%]{font-size:.8rem;padding-right:0;padding-left:0}}"]}),n})()}];let nG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr.forRoot(tG),mr]}),n})();const rG=["cgbloader"];function iG(n,e){1&n&&(c.ynx(0),c._UZ(1,"router-outlet"),c.BQk())}function sG(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",2),c._UZ(2,"div",3),c.qZA(),c.BQk())}let oG=(()=>{class n{constructor(t,r){this.api=t,this.router=r,this.title="japaneseGloveUi",this.loading=!0,this.router.navigate([""],{skipLocationChange:!0}),this.loading=!1}ngAfterViewInit(){this.loadSnap()}ngAfterContentChecked(){document.getElementsByClassName("cgb-loader").length>0&&(document.getElementsByClassName("cgb-loader")[0].style.display="none")}ngOnInit(){this.api.product.next({name:this.name,price:this.price,sale_price:this.sale}),this.router.events.subscribe(t=>{switch(!0){case t instanceof by:this.loading=!0;break;case t instanceof jd:case t instanceof Wf:case t instanceof sC:this.loading=!1}})}loadSnap(){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js",t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bB),c.Y36(Bs))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&c.Gf(rG,5),2&t){let i;c.iGM(i=c.CRH())&&(r.loader=i.first)}},inputs:{name:"name",price:"price",sale:["sale-price","sale"]},decls:3,vars:2,consts:[[1,"container-fluid"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-grow","text-dark",2,"width","3rem","height","3rem"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,iG,2,0,"ng-container",1),c.YNc(2,sG,3,0,"ng-container",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",r.loading))},dependencies:[nr,yC]}),n})(),aG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gi,aS]}),n})();const wB="firebasestorage.googleapis.com",DB="storageBucket";class Ds extends Mn.ZR{constructor(e,t){super(mM(e),`Firebase Storage: ${t} (${mM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ds.prototype)}_codeEquals(e){return mM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function mM(n){return"storage/"+n}function _M(){return new Ds("unknown","An unknown error occurred, please check the error payload for server response.")}function IB(){return new Ds("canceled","User canceled the upload/download.")}function CB(){return new Ds("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function w0(n){return new Ds("invalid-argument",n)}function TB(){return new Ds("app-deleted","The Firebase app was deleted.")}function EB(n){return new Ds("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Z1(n,e){return new Ds("invalid-format","String does not match format '"+n+"': "+e)}function K1(n){throw new Ds("internal-error","Internal error: "+n)}class Ja{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ja.makeFromUrl(e,t)}catch{return new Ja(e,"")}if(""===r.path)return r;throw function vG(n){return new Ds("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+i+"(/(.*))?$","i");function C(it){it.path_=decodeURIComponent(it.path)}const R=t.replace(/[.]/g,"\\."),vt=[{regex:g,indices:{bucket:1,path:3},postModify:function a(it){"/"===it.path.charAt(it.path.length-1)&&(it.path_=it.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${t===wB?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let it=0;it<vt.length;it++){const gt=vt[it],Dt=gt.regex.exec(e);if(Dt){let Fn=Dt[gt.indices.path];Fn||(Fn=""),r=new Ja(Dt[gt.indices.bucket],Fn),gt.postModify(r);break}}if(null==r)throw function _G(n){return new Ds("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class DG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bE(n){return"string"==typeof n||n instanceof String}function xB(n){return vM()&&n instanceof Blob}function vM(){return typeof Blob<"u"}function yM(n,e,t,r){if(r<e)throw w0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw w0(`Invalid value for '${n}'. Expected ${t} or less.`)}function ip(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function SB(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var kg=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(kg||(kg={})),kg))();class SG{constructor(e,t,r,i,a,u,g,y,C,S,R){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=g,this.errorCallback_=y,this.timeout_=C,this.progressCallback_=S,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,Z)=>{this.resolve_=j,this.reject_=Z,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,g=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());!function TG(n){return void 0!==n}(y)?a():a(y)}catch(y){u(y)}else if(null!==g){const y=_M();y.serverResponse=g.getErrorText(),u(this.errorCallback_?this.errorCallback_(g,y):y)}else u(i.canceled?this.appDelete_?TB():IB():function mG(){return new Ds("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new wE(!1,null,!0)):this.backoffId_=function IG(n,e,t){let r=1,i=null,a=null,u=!1,g=0;function y(){return 2===g}let C=!1;function S(...De){C||(C=!0,e.apply(null,De))}function R(De){i=setTimeout(()=>{i=null,n(Z,y())},De)}function j(){a&&clearTimeout(a)}function Z(De,...ot){if(C)return void j();if(De)return j(),void S.call(null,De,...ot);if(y()||u)return j(),void S.call(null,De,...ot);let vt;r<64&&(r*=2),1===g?(g=2,vt=0):vt=1e3*(r+Math.random()),R(vt)}let ue=!1;function _e(De){ue||(ue=!0,j(),!C&&(null!==i?(De||(g=2),clearTimeout(i),R(0)):De||(g=1)))}return R(0),a=setTimeout(()=>{u=!0,_e(!0)},t),_e}((r,i)=>{if(i)return void r(!1,new wE(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const g=a.getErrorCode()===kg.NO_ERROR,y=a.getStatus();if(!g||this.isRetryStatusCode_(y)){const S=a.getErrorCode()===kg.ABORT;return void r(!1,new wE(!1,null,S))}const C=-1!==this.successCodes_.indexOf(y);r(!0,new wE(C,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function CG(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||a}}class wE{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function PG(...n){const e=function FG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(vM())return new Blob(n);throw new Ds("unsupported-environment","This browser doesn't seem to support creating Blobs")}const sc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bM{constructor(e,t){this.data=e,this.contentType=t||null}}function wM(n,e){switch(n){case sc.RAW:return new bM(AB(e));case sc.BASE64:case sc.BASE64URL:return new bM(NB(n,e));case sc.DATA_URL:return new bM(function VG(n){const e=new OB(n);return e.base64?NB(sc.BASE64,e.rest):function BG(n){let e;try{e=decodeURIComponent(n)}catch{throw Z1(sc.DATA_URL,"Malformed data URL.")}return AB(e)}(e.rest)}(e),function UG(n){return new OB(n).contentType}(e))}throw _M()}function AB(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function NB(n,e){switch(n){case sc.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Z1(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case sc.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Z1(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function LG(n){return atob(n)}(e)}catch{throw Z1(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class OB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Z1(sc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function $G(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Qh{constructor(e,t){let r=0,i="";xB(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(xB(this.data_)){const i=function kG(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Qh(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Qh(r,!0)}}static getBlob(...e){if(vM()){const t=e.map(r=>r instanceof Qh?r.data_:r);return new Qh(PG.apply(null,t))}{const t=e.map(u=>bE(u)?wM(sc.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let g=0;g<u.length;g++)i[a++]=u[g]}),new Qh(i,!0)}}uploadData(){return this.data_}}function DM(n){let e;try{e=JSON.parse(n)}catch{return null}return function xG(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function MB(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function GG(n,e){return e}class Pl{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||GG}}let DE=null;function Y1(){if(DE)return DE;const n=[];n.push(new Pl("bucket")),n.push(new Pl("generation")),n.push(new Pl("metageneration")),n.push(new Pl("name","fullPath",!0));const t=new Pl("name");t.xform=function e(a,u){return function WG(n){return!bE(n)||n.length<2?n:MB(n)}(u)},n.push(t);const i=new Pl("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Pl("timeCreated")),n.push(new Pl("updated")),n.push(new Pl("md5Hash",null,!0)),n.push(new Pl("cacheControl",null,!0)),n.push(new Pl("contentDisposition",null,!0)),n.push(new Pl("contentEncoding",null,!0)),n.push(new Pl("contentLanguage",null,!0)),n.push(new Pl("contentType",null,!0)),n.push(new Pl("metadata","customMetadata",!0)),DE=n,DE}function RB(n,e,t){const r=DM(e);return null===r?null:function qG(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function zG(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Ja(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function IM(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const FB="prefixes";class Jh{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xh(n){if(!n)throw _M()}function IE(n,e){return function t(r,i){const a=RB(n,i,e);return Xh(null!==a),a}}function D0(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function pG(){return new Ds("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function fG(){return new Ds("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function hG(n){return new Ds("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function gG(n){return new Ds("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function Q1(n){const e=D0(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function dG(n){return new Ds("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function kB(n,e,t){const i=ip(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,g=new Jh(i,"GET",IE(n,t),u);return g.errorHandler=Q1(e),g}function XG(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const g=ip(e.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,S=new Jh(g,"GET",function QG(n,e){return function t(r,i){const a=function YG(n,e,t){const r=DM(t);return null===r?null:function KG(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[FB])for(const i of t[FB]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new Ja(e,a));r.prefixes.push(u)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new Ja(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return Xh(null!==a),a}}(n,e.bucket),C);return S.urlParams=a,S.errorHandler=D0(e),S}function BB(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function r8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class CE{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function CM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xh(!1)}return Xh(!!t&&-1!==(e||["active"]).indexOf(t)),t}const a8={STATE_CHANGED:"state_changed"},kl={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TM(n){switch(n){case"running":case"pausing":case"canceling":return kl.RUNNING;case"paused":return kl.PAUSED;case"success":return kl.SUCCESS;case"canceled":return kl.CANCELED;default:return kl.ERROR}}class l8{constructor(e,t,r){if(function EG(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function I0(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class c8 extends class u8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw K1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw K1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw K1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw K1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw K1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function qd(){return new c8}class HB{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Y1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function i8(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=BB(e,r,i),g={name:u.fullPath},y=ip(a,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},R=IM(u,t),ue=new Jh(y,"POST",function Z(_e){let De;CM(_e);try{De=_e.getResponseHeader("X-Goog-Upload-URL")}catch{Xh(!1)}return Xh(bE(De)),De},n.maxUploadRetryTime);return ue.urlParams=g,ue.headers=S,ue.body=R,ue.errorHandler=D0(e),ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,qd,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function s8(n,e,t,r){const y=new Jh(t,"POST",function a(C){const S=CM(C,["active","final"]);let R=null;try{R=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xh(!1)}R||Xh(!1);const j=Number(R);return Xh(!isNaN(j)),new CE(j,r.size(),"final"===S)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=D0(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,qd,t,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new CE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function o8(n,e,t,r,i,a,u,g){const y=new CE(0,0);if(u?(y.current=u.current,y.total=u.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function bG(){return new Ds("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const C=y.total-y.current;let S=C;i>0&&(S=Math.min(S,i));const R=y.current,ue={"X-Goog-Upload-Command":S===C?"upload, finalize":"upload","X-Goog-Upload-Offset":`${y.current}`},_e=r.slice(R,R+S);if(null===_e)throw CB();const vt=new Jh(t,"POST",function De(it,gt){const Dt=CM(it,["active","final"]),sn=y.current+S,Fn=r.size();let Ui;return Ui="final"===Dt?IE(e,a)(it,gt):null,new CE(sn,Fn,"final"===Dt,Ui)},e.maxUploadRetryTime);return vt.headers=ue,vt.body=_e.uploadData(),vt.progressCallback=g||null,vt.errorHandler=D0(n),vt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const g=this._ref.storage._makeRequest(u,qd,i,a);this._request=g,g.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=kB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,qd,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function VB(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},y=function g(){let vt="";for(let it=0;it<2;it++)vt+=Math.random().toString().slice(2);return vt}();u["Content-Type"]="multipart/related; boundary="+y;const C=BB(e,r,i),S=IM(C,t),Z=Qh.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+y+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===Z)throw CB();const ue={name:C.fullPath},_e=ip(a,n.host,n._protocol),ot=n.maxUploadRetryTime,ut=new Jh(_e,"POST",IE(n,t),ot);return ut.urlParams=ue,ut.headers=u,ut.body=Z.uploadData(),ut.errorHandler=D0(e),ut}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,qd,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=IB(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=TM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new l8(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(TM(this._state)){case kl.SUCCESS:I0(this._resolve.bind(null,this.snapshot))();break;case kl.CANCELED:case kl.ERROR:I0(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(TM(this._state)){case kl.RUNNING:case kl.PAUSED:e.next&&I0(e.next.bind(e,this.snapshot))();break;case kl.SUCCESS:e.complete&&I0(e.complete.bind(e))();break;default:e.error&&I0(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class P_{constructor(e,t){this._service=e,this._location=t instanceof Ja?t:Ja.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new P_(e,t)}get root(){const e=new Ja(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MB(this._location.path)}get storage(){return this._service}get parent(){const e=function HG(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ja(this._location.bucket,e);return new P_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw EB(e)}}function GB(n,e,t){return EM.apply(this,arguments)}function EM(){return EM=(0,Ve.Z)(function*(n,e,t){const i=yield WB(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield GB(n,e,i.nextPageToken))}),EM.apply(this,arguments)}function WB(n,e){null!=e&&"number"==typeof e.maxResults&&yM("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=XG(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,qd)}function D8(n){n._throwIfRoot("getDownloadURL");const e=function e8(n,e,t){const i=ip(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,g=new Jh(i,"GET",function JG(n,e){return function t(r,i){const a=RB(n,i,e);return Xh(null!==a),function ZG(n,e,t,r){const i=DM(e);if(null===i||!bE(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(C=>{const R=n.fullPath;return ip("/b/"+u(n.bucket)+"/o/"+u(R),t,r)+SB({alt:"media",token:C})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return g.errorHandler=Q1(e),g}(n.storage,n._location,Y1());return n.storage.makeRequestWithTokens(e,qd).then(t=>{if(null===t)throw function wG(){return new Ds("no-download-url","The given file does not have any download URLs.")}();return t})}function zB(n,e){const t=function jG(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Ja(n._location.bucket,t);return new P_(n.storage,r)}function qB(n,e){if(n instanceof xM){const t=n;if(null==t._bucket)throw function yG(){return new Ds("no-default-bucket","No default bucket found. Did you set the '"+DB+"' property when initializing the app?")}();const r=new P_(t,t._bucket);return null!=e?qB(r,e):r}return void 0!==e?zB(n,e):n}function E8(n,e){if(e&&function C8(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof xM)return function T8(n,e){return new P_(n,e)}(n,e);throw w0("To use ref(service, url), the first argument must be a Storage instance.")}return qB(n,e)}function ZB(n,e){const t=e?.[DB];return null==t?null:Ja.makeFromBucketSpec(t,n)}class xM{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=wB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ja.makeFromBucketSpec(i,this._host):ZB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ja.makeFromBucketSpec(this._url,e):ZB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new P_(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new DG(TB());{const a=function RG(n,e,t,r,i,a){const u=SB(n.urlParams),g=n.url+u,y=Object.assign({},n.headers);return function OG(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function AG(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function NG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,a),function MG(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,r),new SG(g,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,Ve.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const KB="@firebase/storage";function JB(n,e){return E8(n=(0,Mn.m9)(n),e)}function L8(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new xM(t,r,i,e,Gd.SDK_VERSION)}!function B8(){(0,Gd._registerComponent)(new Hy.wA("storage",L8,"PUBLIC").setMultipleInstances(!0)),(0,Gd.registerVersion)(KB,"0.9.9",""),(0,Gd.registerVersion)(KB,"0.9.9","esm2017")}();class TE{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class XB{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new TE(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?u=>t(new TE(u,this,this._ref)):{next:t.next?u=>t.next(new TE(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class eV{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new sp(e,this._service))}get items(){return this._delegate.items.map(e=>new sp(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sp{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function P8(n,e){return zB(n,e)}(this._delegate,e);return new sp(t,this.storage)}get root(){return new sp(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new sp(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new XB(function S8(n,e,t){return function _8(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new HB(n,new Qh(e),t)}(n=(0,Mn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=sc.RAW,r){this._throwIfRoot("putString");const i=wM(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new XB(new HB(this._delegate,new Qh(i.data,!0),a),this)}listAll(){return function M8(n){return function y8(n){const e={prefixes:[],items:[]};return GB(n,e).then(()=>e)}(n=(0,Mn.m9)(n))}(this._delegate).then(e=>new eV(e,this.storage))}list(e){return function O8(n,e){return WB(n=(0,Mn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new eV(t,this.storage))}getMetadata(){return function A8(n){return function b8(n){n._throwIfRoot("getMetadata");const e=kB(n.storage,n._location,Y1());return n.storage.makeRequestWithTokens(e,qd)}(n=(0,Mn.m9)(n))}(this._delegate)}updateMetadata(e){return function N8(n,e){return function w8(n,e){n._throwIfRoot("updateMetadata");const t=function t8(n,e,t,r){const a=ip(e.fullServerUrl(),n.host,n._protocol),g=IM(t,r),C=n.maxOperationRetryTime,S=new Jh(a,"PATCH",IE(n,r),C);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=g,S.errorHandler=Q1(e),S}(n.storage,n._location,e,Y1());return n.storage.makeRequestWithTokens(t,qd)}(n=(0,Mn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function R8(n){return D8(n=(0,Mn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function F8(n){return function I8(n){n._throwIfRoot("deleteObject");const e=function n8(n,e){const r=ip(e.fullServerUrl(),n.host,n._protocol),g=new Jh(r,"DELETE",function u(y,C){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=Q1(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,qd)}(n=(0,Mn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw EB(e)}}class tV{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(nV(e))throw w0("ref() expected a child path but got a URL, use refFromURL instead.");return new sp(JB(this._delegate,e),this)}refFromURL(e){if(!nV(e))throw w0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ja.makeFromUrl(e,this._delegate.host)}catch{throw w0("refFromUrl() expected a valid full URL but got an invalid one.")}return new sp(JB(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function k8(n,e,t,r={}){!function x8(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Mn.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function nV(n){return/^[A-Za-z]+:\/\//.test(n)}function H8(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new tV(t,r)}function rV(n){const e=function G8(n){return new Or.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function lG(n,e=Ge.z){return(0,si.e)((t,r)=>{let i=null,a=null,u=null;const g=()=>{if(i){i.unsubscribe(),i=null;const C=a;a=null,r.next(C)}};function y(){const C=u+n,S=e.now();if(S<C)return i=this.schedule(void 0,C-S),void r.add(i);g()}t.subscribe((0,ir.x)(r,C=>{a=C,u=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{g(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,xt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function EE(n){return{getDownloadURL:()=>wt(void 0).pipe(di.fc,Wn(()=>n.getDownloadURL()),di.iC),getMetadata:()=>wt(void 0).pipe(di.fc,Wn(()=>n.getMetadata()),di.iC),delete:()=>(0,jn.D)(n.delete()),child:e=>EE(n.child(e)),updateMetadata:e=>(0,jn.D)(n.updateMetadata(e)),put:(e,t)=>rV(n.put(e,t)),putString:(e,t,r)=>rV(n.putString(e,t,r)),list:e=>(0,jn.D)(n.list(e)),listAll:()=>(0,jn.D)(n.listAll())}}!function j8(n){const e={TaskState:kl,TaskEvent:a8,StringFormat:sc,Storage:tV,Reference:sp};n.INTERNAL.registerComponent(new Hy.wA("storage-compat",H8,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(eF.Z);const W8=new c.OlP("angularfire2.storageBucket"),z8=new c.OlP("angularfire2.storage.maxUploadRetryTime"),q8=new c.OlP("angularfire2.storage.maxOperationRetryTime"),Z8=new c.OlP("angularfire2.storage.use-emulator");let K8=(()=>{class n{constructor(t,r,i,a,u,g,y,C,S,R){const j=(0,Al.on)(t,u,r);this.storage=(0,Al.cc)(`${j.name}.storage.${i}`,"AngularFireStorage",j.name,()=>{const Z=u.runOutsideAngular(()=>j.storage(i||void 0)),ue=S;return ue&&Z.useEmulator(...ue),y&&Z.setMaxUploadRetryTime(y),C&&Z.setMaxOperationRetryTime(C),Z},[y,C])}ref(t){return EE(this.storage.ref(t))}refFromURL(t){return EE(this.storage.refFromURL(t))}upload(t,r,i){return EE(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Al.Dh),c.LFG(Al.xv,8),c.LFG(W8,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(di.HU),c.LFG(z8,8),c.LFG(q8,8),c.LFG(Z8,8),c.LFG(vE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Y8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Q8=(()=>{class n{constructor(){dM.Z.registerVersion("angularfire",di.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[K8],imports:[Y8]}),n})();const iV_firebaseConfig={apiKey:"AIzaSyCEmZV_arlakRS_4aEmK7InwXRXAMfIybk",authDomain:"nys-custom-ui.firebaseapp.com",projectId:"nys-custom-ui",storageBucket:"nys-custom-ui.appspot.com",messagingSenderId:"946748632034",appId:"1:946748632034:web:aac02bf3a97c0b971ce7bb",measurementId:"G-ZY74EENWC4"};let sV=(()=>{class n extends Dn{constructor(){super(...arguments),this.overrides={swipe:{velocity:.4,direction:cd.DIRECTION_HORIZONTAL}}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J8=(()=>{class n{constructor(t){this.injector=t;const r=function Uu(n,e){const t=function Bu(n,e){return e.get(c._Vd).resolveComponentFactory(n).inputs}(n,e.injector),r=e.strategyFactory||new lp(n,e.injector),i=function ms(n){const e={};return n.forEach(({propName:t,templateName:r})=>{e[function hd(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(r)]=t}),e}(t);class a extends lf{constructor(g){super(),this.injector=g}get ngElementStrategy(){if(!this._ngElementStrategy){const g=this._ngElementStrategy=r.create(this.injector||e.injector);t.forEach(({propName:y})=>{if(!this.hasOwnProperty(y))return;const C=this[y];delete this[y],g.setInputValue(y,C)})}return this._ngElementStrategy}attributeChangedCallback(g,y,C,S){this.ngElementStrategy.setInputValue(i[g],C)}connectedCallback(){let g=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),g=!0),this.ngElementStrategy.connect(this),g||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(g=>{const y=new CustomEvent(g.name,{detail:g.value});this.dispatchEvent(y)})}}return a.observedAttributes=Object.keys(i),t.forEach(({propName:u})=>{Object.defineProperty(a.prototype,u,{get(){return this.ngElementStrategy.getInputValue(u)},set(g){this.ngElementStrategy.setInputValue(u,g)},configurable:!0,enumerable:!0})}),a}(oG,{injector:this.injector});customElements.define("custom-glove-builder",r)}ngDoBootstrap(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:sV,useClass:sV}],imports:[gc,nG,Jb,Bg,Mj,Uj,Q8,Al.hO.initializeApp(iV_firebaseConfig),aS,aG]}),n})();(0,c.G48)(),pl().bootstrapModule(J8).catch(n=>console.error(n))},5867:(Nt,$e,G)=>{"use strict";G.d($e,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=G(9681);(0,c.registerVersion)("firebase","9.10.0","app")},127:(Nt,$e,G)=>{"use strict";G.d($e,{Z:()=>c.Z});var c=G(3942);c.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(Nt,$e,G)=>{"use strict";G.r($e);var c=G(5861),F=G(3942),W=G(2090),be=G(9681),ge=G(655),Ie=G(1877),Ee=G(4859);const Le=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new Ie.Yd("@firebase/auth");function Et(w,...m){at.logLevel<=Ie.in.ERROR&&at.error(`Auth (${be.SDK_VERSION}): ${w}`,...m)}function He(w,...m){throw ft(w,...m)}function Pe(w,...m){return ft(w,...m)}function ke(w,m,v){const I=Object.assign(Object.assign({},ht()),{[m]:v});return new W.LL("auth","Firebase",I).create(m,{appName:w.name})}function st(w,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&He(w,"argument-error"),ke(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ft(w,...m){if("string"!=typeof w){const v=m[0],I=[...m.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(v,...I)}return Oe.create(w,...m)}function Q(w,m,...v){if(!w)throw ft(m,...v)}function Re(w){const m="INTERNAL ASSERTION FAILED: "+w;throw Et(m),new Error(m)}function ae(w,m){w||Re(m)}const pe=new Map;function ye(w){ae(w instanceof Function,"Expected a class definition");let m=pe.get(w);return m?(ae(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,pe.set(w,m),m)}function Qe(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Mt(){return"http:"===En()||"https:"===En()}function En(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Zn{constructor(m,v){this.shortDelay=m,this.longDelay=v,ae(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function un(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dr(w,m){ae(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Bn{static initialize(m,v,I){this.fetchImpl=m,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fi=new Zn(3e4,6e4);function cn(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function Xt(w,m,v,I){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(w,m,v,I,M={}){return xn(w,M,(0,c.Z)(function*(){let V={},le={};I&&("GET"===m?le=I:V={body:JSON.stringify(I)});const Ce=(0,W.xO)(Object.assign({key:w.config.apiKey},le)).slice(1),Je=yield w._getAdditionalHeaders();return Je["Content-Type"]="application/json",w.languageCode&&(Je["X-Firebase-Locale"]=w.languageCode),Bn.fetch()(hr(w,w.config.apiHost,v,Ce),Object.assign({method:m,headers:Je,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function xn(w,m,v){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(w,m,v){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},gn),m);try{const M=new Sr(w),V=yield Promise.race([v(),M.promise]);M.clearNetworkTimeout();const le=yield V.json();if("needConfirmation"in le)throw Ai(w,"account-exists-with-different-credential",le);if(V.ok&&!("errorMessage"in le))return le;{const Ce=V.ok?le.errorMessage:le.error.message,[Je,St]=Ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw Ai(w,"credential-already-in-use",le);if("EMAIL_EXISTS"===Je)throw Ai(w,"email-already-in-use",le);if("USER_DISABLED"===Je)throw Ai(w,"user-disabled",le);const Kt=I[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(St)throw ke(w,Kt,St);He(w,Kt)}}catch(M){if(M instanceof W.ZR)throw M;He(w,"network-request-failed")}})).apply(this,arguments)}function Gr(w,m,v,I){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(w,m,v,I,M={}){const V=yield Xt(w,m,v,I,M);return"mfaPendingCredential"in V&&He(w,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function hr(w,m,v,I){const M=`${m}${v}?${I}`;return w.config.emulator?dr(w.config,M):`${w.config.apiScheme}://${M}`}class Sr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(Pe(this.auth,"network-request-failed")),fi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ai(w,m,v){const I={appName:w.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const M=Pe(w,m,I);return M.customData._tokenResponse=v,M}function yt(){return(yt=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function $i(w,m){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Cn(w,m){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ni(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function fr(){return(fr=(0,c.Z)(function*(w,m=!1){const v=(0,W.m9)(w),I=yield v.getIdToken(m),M=Ot(I);Q(M&&M.exp&&M.auth_time&&M.iat,v.auth,"internal-error");const V="object"==typeof M.firebase?M.firebase:void 0,le=V?.sign_in_provider;return{claims:M,token:I,authTime:Ni(kt(M.auth_time)),issuedAtTime:Ni(kt(M.iat)),expirationTime:Ni(kt(M.exp)),signInProvider:le||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function kt(w){return 1e3*Number(w)}function Ot(w){var m;const[v,I,M]=w.split(".");if(void 0===v||void 0===I||void 0===M)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,W.tV)(I);return V?JSON.parse(V):(Et("Failed to decode base64 JWT payload"),null)}catch(V){return Et("Caught error parsing JWT payload as JSON",null===(m=V)||void 0===m?void 0:m.toString()),null}}function Fr(w,m){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(w,m,v=!1){if(v)return m;try{return yield m}catch(I){throw I instanceof W.ZR&&Wr(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}function Wr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class jt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield v.iteration()}),I)}iteration(){var m=this;return(0,c.Z)(function*(){var v;try{yield m.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(v=I)||void 0===v?void 0:v.code)&&m.schedule(!0))}m.schedule()})()}}class Is{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ni(this.lastLoginAt),this.creationTime=Ni(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(w){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(w){var m;const v=w.auth,I=yield w.getIdToken(),M=yield Fr(w,Cn(v,{idToken:I}));Q(M?.users.length,v,"internal-error");const V=M.users[0];w._notifyReloadListener(V);const le=null!==(m=V.providerUserInfo)&&void 0!==m&&m.length?Y(V.providerUserInfo):[],Ce=te(w.providerData,le),Kt=!!w.isAnonymous&&!(w.email&&V.passwordHash||Ce?.length),$t={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Ce,metadata:new Is(V.createdAt,V.lastLoginAt),isAnonymous:Kt};Object.assign(w,$t)})).apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(w){const m=(0,W.m9)(w);yield Sn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function te(w,m){return[...w.filter(I=>!m.some(M=>M.providerId===I.providerId)),...m]}function Y(w){return w.map(m=>{var{providerId:v}=m,I=(0,ge._T)(m,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function re(){return(re=(0,c.Z)(function*(w,m){const v=yield xn(w,{},(0,c.Z)(function*(){const I=(0,W.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:V}=w.config,le=hr(w,M,"/v1/token",`key=${V}`),Ce=yield w._getAdditionalHeaders();return Ce["Content-Type"]="application/x-www-form-urlencoded",Bn.fetch()(le,{method:"POST",headers:Ce,body:I})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Q(m.idToken,"internal-error"),Q(typeof m.idToken<"u","internal-error"),Q(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Vn(w){const m=Ot(w);return Q(m,"internal-error"),Q(typeof m.exp<"u","internal-error"),Q(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var I=this;return(0,c.Z)(function*(){return Q(!I.accessToken||I.refreshToken,m,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(m,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var I=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:V,expiresIn:le}=yield function ne(w,m){return re.apply(this,arguments)}(m,v);I.updateTokensAndExpiration(M,V,Number(le))})()}updateTokensAndExpiration(m,v,I){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(m,v){const{refreshToken:I,accessToken:M,expirationTime:V}=v,le=new ze;return I&&(Q("string"==typeof I,"internal-error",{appName:m}),le.refreshToken=I),M&&(Q("string"==typeof M,"internal-error",{appName:m}),le.accessToken=M),V&&(Q("number"==typeof V,"internal-error",{appName:m}),le.expirationTime=V),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new ze,this.toJSON())}_performRefresh(){return Re("not implemented")}}function ct(w,m){Q("string"==typeof w||typeof w>"u","internal-error",{appName:m})}class Ft{constructor(m){var{uid:v,auth:I,stsTokenManager:M}=m,V=(0,ge._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Is(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,c.Z)(function*(){const I=yield Fr(v,v.stsTokenManager.getToken(v.auth,m));return Q(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(m){return function br(w){return fr.apply(this,arguments)}(this,m)}reload(){return function Tn(w){return oe.apply(this,arguments)}(this)}_assign(m){this!==m&&(Q(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Ft(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var I=this;return(0,c.Z)(function*(){let M=!1;m.idToken&&m.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(m),M=!0),v&&(yield Sn(I)),yield I.auth._persistUserIfCurrent(I),M&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var m=this;return(0,c.Z)(function*(){const v=yield m.getIdToken();return yield Fr(m,function yr(w,m){return yt.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var I,M,V,le,Ce,Je,St,Kt;const $t=null!==(I=v.displayName)&&void 0!==I?I:void 0,li=null!==(M=v.email)&&void 0!==M?M:void 0,Uo=null!==(V=v.phoneNumber)&&void 0!==V?V:void 0,la=null!==(le=v.photoURL)&&void 0!==le?le:void 0,Sd=null!==(Ce=v.tenantId)&&void 0!==Ce?Ce:void 0,wh=null!==(Je=v._redirectEventId)&&void 0!==Je?Je:void 0,bf=null!==(St=v.createdAt)&&void 0!==St?St:void 0,Hg=null!==(Kt=v.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:Vc,emailVerified:Uc,isAnonymous:wf,providerData:Dh,stsTokenManager:vp}=v;Q(Vc&&vp,m,"internal-error");const jg=ze.fromJSON(this.name,vp);Q("string"==typeof Vc,m,"internal-error"),ct($t,m.name),ct(li,m.name),Q("boolean"==typeof Uc,m,"internal-error"),Q("boolean"==typeof wf,m,"internal-error"),ct(Uo,m.name),ct(la,m.name),ct(Sd,m.name),ct(wh,m.name),ct(bf,m.name),ct(Hg,m.name);const Df=new Ft({uid:Vc,auth:m,email:li,emailVerified:Uc,displayName:$t,isAnonymous:wf,photoURL:la,phoneNumber:Uo,tenantId:Sd,stsTokenManager:jg,createdAt:bf,lastLoginAt:Hg});return Dh&&Array.isArray(Dh)&&(Df.providerData=Dh.map($c=>Object.assign({},$c))),wh&&(Df._redirectEventId=wh),Df}static _fromIdTokenResponse(m,v,I=!1){return(0,c.Z)(function*(){const M=new ze;M.updateFromServerResponse(v);const V=new Ft({uid:v.localId,auth:m,stsTokenManager:M,isAnonymous:I});return yield Sn(V),V})()}}const kn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(v,I){var M=this;return(0,c.Z)(function*(){M.storage[v]=I})()}_get(v){var I=this;return(0,c.Z)(function*(){const M=I.storage[v];return void 0===M?null:M})()}_remove(v){var I=this;return(0,c.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return w.type="NONE",w})();function zr(w,m,v){return`firebase:${w}:${m}:${v}`}class _n{constructor(m,v,I){this.persistence=m,this.auth=v,this.userKey=I;const{config:M,name:V}=this.auth;this.fullUserKey=zr(this.userKey,M.apiKey,V),this.fullPersistenceKey=zr("persistence",M.apiKey,V),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?Ft._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,c.Z)(function*(){if(v.persistence===m)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,I="authUser"){return(0,c.Z)(function*(){if(!v.length)return new _n(ye(kn),m,I);const M=(yield Promise.all(v.map(function(){var St=(0,c.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return St.apply(this,arguments)}}()))).filter(St=>St);let V=M[0]||ye(kn);const le=zr(I,m.config.apiKey,m.name);let Ce=null;for(const St of v)try{const Kt=yield St._get(le);if(Kt){const $t=Ft._fromJSON(m,Kt);St!==V&&(Ce=$t),V=St;break}}catch{}const Je=M.filter(St=>St._shouldAllowMigration);return V._shouldAllowMigration&&Je.length?(V=Je[0],Ce&&(yield V._set(le,Ce.toJSON())),yield Promise.all(v.map(function(){var St=(0,c.Z)(function*(Kt){if(Kt!==V)try{yield Kt._remove(le)}catch{}});return function(Kt){return St.apply(this,arguments)}}())),new _n(V,m,I)):new _n(V,m,I)})()}}function an(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ji(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ar(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(mt(m))return"Blackberry";if(zt(m))return"Webos";if(wr(m))return"Safari";if((m.includes("chrome/")||us(m))&&!m.includes("edge/"))return"Chrome";if(kr(m))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function ar(w=(0,W.z$)()){return/firefox\//i.test(w)}function wr(w=(0,W.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function us(w=(0,W.z$)()){return/crios\//i.test(w)}function ji(w=(0,W.z$)()){return/iemobile/i.test(w)}function kr(w=(0,W.z$)()){return/android/i.test(w)}function mt(w=(0,W.z$)()){return/blackberry/i.test(w)}function zt(w=(0,W.z$)()){return/webos/i.test(w)}function Un(w=(0,W.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function lo(w=(0,W.z$)()){return Un(w)||kr(w)||zt(w)||mt(w)||/windows phone/i.test(w)||ji(w)}function $s(w,m=[]){let v;switch(w){case"Browser":v=an((0,W.z$)());break;case"Worker":v=`${an((0,W.z$)())}-${w}`;break;default:v=w}const I=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${be.SDK_VERSION}/${I}`}class hs{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const I=V=>new Promise((le,Ce)=>{try{le(m(V))}catch(Je){Ce(Je)}});I.onAbort=v,this.queue.push(I);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,c.Z)(function*(){var I;if(v.auth.currentUser===m)return;const M=[];try{for(const V of v.queue)yield V(m),V.onAbort&&M.push(V.onAbort)}catch(V){M.reverse();for(const le of M)try{le()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=V)||void 0===I?void 0:I.message})}})()}}class tn{constructor(m,v,I){this.app=m,this.heartbeatServiceProvider=v,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hs(this),this.idTokenSubscription=new Hs(this),this.beforeStateQueue=new hs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(m,v){var I=this;return v&&(this._popupRedirectResolver=ye(v)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,V;if(!I._deleted&&(I.persistenceManager=yield _n.create(I,m),!I._deleted)){if(null!==(M=I._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(v),I.lastNotifiedUid=(null===(V=I.currentUser)||void 0===V?void 0:V.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUser(m){var v=this;return(0,c.Z)(function*(){var I;const M=yield v.assertedPersistence.getCurrentUser();let V=M,le=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ce=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,Je=V?._redirectEventId,St=yield v.tryRedirectSignIn(m);(!Ce||Ce===Je)&&St?.user&&(V=St.user,le=!0)}if(!V)return v.directlySetCurrentUser(null);if(!V._redirectEventId){if(le)try{yield v.beforeStateQueue.runMiddleware(V)}catch(Ce){V=M,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ce))}return V?v.reloadAndSetCurrentUserOrClear(V):v.directlySetCurrentUser(null)}return Q(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===V._redirectEventId?v.directlySetCurrentUser(V):v.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(m){var v=this;return(0,c.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,c.Z)(function*(){var I;try{yield Sn(m)}catch(M){if("auth/network-request-failed"!==(null===(I=M)||void 0===I?void 0:I.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,c.Z)(function*(){const I=m?(0,W.m9)(m):null;return I&&Q(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(m,v=!1){var I=this;return(0,c.Z)(function*(){if(!I._deleted)return m&&Q(I.tenantId===m.tenantId,I,"tenant-id-mismatch"),v||(yield I.beforeStateQueue.runMiddleware(m)),I.queue((0,c.Z)(function*(){yield I.directlySetCurrentUser(m),I.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var v=this;return this.queue((0,c.Z)(function*(){yield v.assertedPersistence.setPersistence(ye(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new W.LL("auth","Firebase",m())}onAuthStateChanged(m,v,I){return this.registerStateListener(this.authStateSubscription,m,v,I)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,I){return this.registerStateListener(this.idTokenSubscription,m,v,I)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var I=this;return(0,c.Z)(function*(){const M=yield I.getOrInitRedirectPersistenceManager(v);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,c.Z)(function*(){if(!v.redirectPersistenceManager){const I=m&&ye(m)||v._popupRedirectResolver;Q(I,v,"argument-error"),v.redirectPersistenceManager=yield _n.create(v,[ye(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,c.Z)(function*(){var I,M;return v._isInitialized&&(yield v.queue((0,c.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===m?v._currentUser:(null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,c.Z)(function*(){if(m===v.currentUser)return v.queue((0,c.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,I,M){if(this._deleted)return()=>{};const V="function"==typeof v?v:v.next.bind(v),le=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(le,this,"internal-error"),le.then(()=>V(this.currentUser)),"function"==typeof v?m.addObserver(v,I,M):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,c.Z)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=$s(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var v;const I={"X-Client-Version":m.clientVersion};m.app.options.appId&&(I["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return M&&(I["X-Firebase-Client"]=M),I})()}}function Kn(w){return(0,W.m9)(w)}class Hs{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,W.ne)(v=>this.observer=v)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function js(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function Cs(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class Ar{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Re("not implemented")}_getIdTokenResponse(m){return Re("not implemented")}_linkToIdToken(m,v){return Re("not implemented")}_getReauthenticationResolver(m){return Re("not implemented")}}function Yn(w,m){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:resetPassword",cn(w,m))})).apply(this,arguments)}function An(w,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ts(w,m){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:update",cn(w,m))})).apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(w,m){return Gr(w,"POST","/v1/accounts:signInWithPassword",cn(w,m))})).apply(this,arguments)}function Kr(w,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:sendOobCode",cn(w,m))})).apply(this,arguments)}function nr(w,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(w,m){return Kr(w,m)})).apply(this,arguments)}function Lr(w,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(w,m){return Kr(w,m)})).apply(this,arguments)}function To(w,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(w,m){return Kr(w,m)})).apply(this,arguments)}function Ll(w,m){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(w,m){return Kr(w,m)})).apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(w,m){return Gr(w,"POST","/v1/accounts:signInWithEmailLink",cn(w,m))})).apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(w,m){return Gr(w,"POST","/v1/accounts:signInWithEmailLink",cn(w,m))})).apply(this,arguments)}class B extends Ar{constructor(m,v,I,M=null){super("password",I),this._email=m,this._password=v,this._tenantId=M}static _fromEmailAndPassword(m,v){return new B(m,v,"password")}static _fromEmailAndCode(m,v,I=null){return new B(m,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return function Ta(w,m){return Oi.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function el(w,m){return pu.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:He(m,"internal-error")}})()}_linkToIdToken(m,v){var I=this;return(0,c.Z)(function*(){switch(I.signInMethod){case"password":return An(m,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function lc(w,m){return uo.apply(this,arguments)}(m,{idToken:v,email:I._email,oobCode:I._password});default:He(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function $(w,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,c.Z)(function*(w,m){return Gr(w,"POST","/v1/accounts:signInWithIdp",cn(w,m))})).apply(this,arguments)}class Ke extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ke(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):He("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:M}=v,V=(0,ge._T)(v,["providerId","signInMethod"]);if(!I||!M)return null;const le=new Ke(I,M);return le.idToken=V.idToken||void 0,le.accessToken=V.accessToken||void 0,le.secret=V.secret,le.nonce=V.nonce,le.pendingToken=V.pendingToken||null,le}_getIdTokenResponse(m){return $(m,this.buildRequest())}_linkToIdToken(m,v){const I=this.buildRequest();return I.idToken=v,$(m,I)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,$(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,W.xO)(v)}return m}}function Tt(w,m){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:sendVerificationCode",cn(w,m))})).apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(w,m){return Gr(w,"POST","/v1/accounts:signInWithPhoneNumber",cn(w,m))})).apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(w,m){const v=yield Gr(w,"POST","/v1/accounts:signInWithPhoneNumber",cn(w,m));if(v.temporaryProof)throw Ai(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const op={USER_NOT_FOUND:"user-not-found"};function Kd(){return(Kd=(0,c.Z)(function*(w,m){return Gr(w,"POST","/v1/accounts:signInWithPhoneNumber",cn(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),op)})).apply(this,arguments)}class Ea extends Ar{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Ea({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Ea({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function Nr(w,m){return ur.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Gi(w,m){return xs.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ef(w,m){return Kd.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:I,verificationCode:M}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:I,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:I,phoneNumber:M,temporaryProof:V}=m;return I||v||M||V?new Ea({verificationId:v,verificationCode:I,phoneNumber:M,temporaryProof:V}):null}}class Bl{constructor(m){var v,I,M,V,le,Ce;const Je=(0,W.zd)((0,W.pd)(m)),St=null!==(v=Je.apiKey)&&void 0!==v?v:null,Kt=null!==(I=Je.oobCode)&&void 0!==I?I:null,$t=function Yd(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Je.mode)&&void 0!==M?M:null);Q(St&&Kt&&$t,"argument-error"),this.apiKey=St,this.operation=$t,this.code=Kt,this.continueUrl=null!==(V=Je.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(le=Je.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Ce=Je.tenantId)&&void 0!==Ce?Ce:null}static parseLink(m){const v=function Qd(w){const m=(0,W.zd)((0,W.pd)(w)).link,v=m?(0,W.zd)((0,W.pd)(m)).deep_link_id:null,I=(0,W.zd)((0,W.pd)(w)).deep_link_id;return(I?(0,W.zd)((0,W.pd)(I)).link:null)||I||v||m||w}(m);try{return new Bl(v)}catch{return null}}}let Eo=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,I){return B._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const M=Bl.parseLink(I);return Q(M,"argument-error"),B._fromEmailAndCode(v,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class xo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Yo extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class tl extends Yo{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Q("providerId"in v&&"signInMethod"in v,"argument-error"),Ke._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Q(m.idToken||m.accessToken,"argument-error"),Ke._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return tl.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return tl.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:V,nonce:le,providerId:Ce}=m;if(!I&&!M&&!v&&!V||!Ce)return null;try{return new tl(Ce)._credential({idToken:v,accessToken:I,nonce:le,pendingToken:V})}catch{return null}}}let Qn=(()=>{class w extends Yo{constructor(){super("facebook.com")}static credential(v){return Ke._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Jn=(()=>{class w extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return Ke._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:M}=v;if(!I&&!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Jc=(()=>{class w extends Yo{constructor(){super("github.com")}static credential(v){return Ke._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class gi extends Ar{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return $(m,this.buildRequest())}_linkToIdToken(m,v){const I=this.buildRequest();return I.idToken=v,$(m,I)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,$(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:M,pendingToken:V}=v;return I&&M&&V&&I===M?new gi(I,V):null}static _create(m,v){return new gi(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gs extends xo{constructor(m){Q(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Gs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Gs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=gi.fromJSON(m);return Q(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:I}=m;if(!v||!I)return null;try{return gi._create(I,v)}catch{return null}}}let Ss=(()=>{class w extends Yo{constructor(){super("twitter.com")}static credential(v,I){return Ke._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=v;if(!I||!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function nl(w,m){return gu.apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(w,m){return Gr(w,"POST","/v1/accounts:signUp",cn(w,m))})).apply(this,arguments)}class $n{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,I,M=!1){return(0,c.Z)(function*(){const V=yield Ft._fromIdTokenResponse(m,I,M),le=Jd(I);return new $n({user:V,providerId:le,_tokenResponse:I,operationType:v})})()}static _forOperation(m,v,I){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(I,!0);const M=Jd(I);return new $n({user:m,providerId:M,_tokenResponse:I,operationType:v})})()}}function Jd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Br(){return(Br=(0,c.Z)(function*(w){var m;const v=Kn(w);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new $n({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield nl(v,{returnSecureToken:!0}),M=yield $n._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Vl extends W.ZR{constructor(m,v,I,M){var V;super(v.code,v.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,Vl.prototype),this.customData={appName:m.name,tenantId:null!==(V=m.tenantId)&&void 0!==V?V:void 0,_serverResponse:v.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(m,v,I,M){return new Vl(m,v,I,M)}}function Ws(w,m,v,I){return("reauthenticate"===m?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?Vl._fromErrorAndOperation(w,V,m,I):V})}function As(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function _u(){return(_u=(0,c.Z)(function*(w,m){const v=(0,W.m9)(w);yield Nn(!0,v,m);const{providerUserInfo:I}=yield $i(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),M=As(I||[]);return v.providerData=v.providerData.filter(V=>M.has(V.providerId)),M.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function rl(w,m){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(w,m,v=!1){const I=yield Fr(w,m._linkToIdToken(w.auth,yield w.getIdToken()),v);return $n._forOperation(w,"link",I)})).apply(this,arguments)}function Nn(w,m,v){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(w,m,v){yield Sn(m);const M=!1===w?"provider-already-linked":"no-such-provider";Q(As(m.providerData).has(v)===w,m.auth,M)})).apply(this,arguments)}function il(w,m){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(w,m,v=!1){var I;const{auth:M}=w,V="reauthenticate";try{const le=yield Fr(w,Ws(M,V,m,w),v);Q(le.idToken,M,"internal-error");const Ce=Ot(le.idToken);Q(Ce,M,"internal-error");const{sub:Je}=Ce;return Q(w.uid===Je,M,"user-mismatch"),$n._forOperation(w,V,le)}catch(le){throw"auth/user-not-found"===(null===(I=le)||void 0===I?void 0:I.code)&&He(M,"user-mismatch"),le}})).apply(this,arguments)}function co(w,m){return vu.apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(w,m,v=!1){const I="signIn",M=yield Ws(w,I,m),V=yield $n._fromIdTokenResponse(w,I,M);return v||(yield w._updateCurrentUser(V.user)),V})).apply(this,arguments)}function Xn(w,m){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,c.Z)(function*(w,m){return co(Kn(w),m)})).apply(this,arguments)}function Ul(w,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(w,m){const v=(0,W.m9)(w);return yield Nn(!1,v,m.providerId),rl(v,m)})).apply(this,arguments)}function ho(w,m){return $l.apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(w,m){return il((0,W.m9)(w),m)})).apply(this,arguments)}function Xc(w,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(w,m){return Gr(w,"POST","/v1/accounts:signInWithCustomToken",cn(w,m))})).apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(w,m){const v=Kn(w),I=yield Xc(v,{token:m,returnSecureToken:!0}),M=yield $n._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ze{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?yn._fromServerResponse(m,v):He(m,"internal-error")}}class yn extends Ze{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new yn(v)}}function sl(w,m,v){var I;Q((null===(I=v.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),Q(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Q(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(Q(v.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Qr(){return(Qr=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w),M={requestType:"PASSWORD_RESET",email:m};v&&sl(I,M,v),yield Lr(I,M)})).apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(w,m,v){yield Yn((0,W.m9)(w),{oobCode:m,newPassword:v})})).apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(w,m){yield Ts((0,W.m9)(w),{oobCode:m})})).apply(this,arguments)}function Hl(w,m){return td.apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(w,m){const v=(0,W.m9)(w),I=yield Yn(v,{oobCode:m}),M=I.requestType;switch(Q(M,v,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(I.mfaInfo,v,"internal-error");default:Q(I.email,v,"internal-error")}let V=null;return I.mfaInfo&&(V=Ze._fromServerResponse(Kn(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:V},operation:M}})).apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(w,m){const{data:v}=yield Hl((0,W.m9)(w),m);return v.email})).apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(w,m,v){const I=Kn(w),M=yield nl(I,{returnSecureToken:!0,email:m,password:v}),V=yield $n._fromIdTokenResponse(I,"signIn",M);return yield I._updateCurrentUser(V.user),V})).apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w),M={requestType:"EMAIL_SIGNIN",email:m};Q(v.handleCodeInApp,I,"argument-error"),v&&sl(I,M,v),yield To(I,M)})).apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w),M=Eo.credentialWithLink(m,v||Qe());return Q(M._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Xn(I,M)})).apply(this,arguments)}function ap(w,m){return nd.apply(this,arguments)}function nd(){return(nd=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:createAuthUri",cn(w,m))})).apply(this,arguments)}function Tu(){return(Tu=(0,c.Z)(function*(w,m){const I={identifier:m,continueUri:Mt()?Qe():"http://localhost"},{signinMethods:M}=yield ap((0,W.m9)(w),I);return M||[]})).apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(w,m){const v=(0,W.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&sl(v.auth,M,m);const{email:V}=yield nr(v.auth,M);V!==w.email&&(yield w.reload())})).apply(this,arguments)}function jl(){return(jl=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};v&&sl(I.auth,V,v);const{email:le}=yield Ll(I.auth,V);le!==w.email&&(yield w.reload())})).apply(this,arguments)}function xu(w,m){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(w,m){return Xt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function id(){return(id=(0,c.Z)(function*(w,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const I=(0,W.m9)(w),V={idToken:yield I.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},le=yield Fr(I,xu(I.auth,V));I.displayName=le.displayName||null,I.photoURL=le.photoUrl||null;const Ce=I.providerData.find(({providerId:Je})=>"password"===Je);Ce&&(Ce.displayName=I.displayName,Ce.photoURL=I.photoURL),yield I._updateTokensIfNecessary(le)})).apply(this,arguments)}function zs(w,m,v){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(w,m,v){const{auth:I}=w,V={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(V.email=m),v&&(V.password=v);const le=yield Fr(w,An(I,V));yield w._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class Ns{constructor(m,v,I={}){this.isNewUser=m,this.providerId=v,this.profile=I}}class Cr extends Ns{constructor(m,v,I,M){super(m,v,I),this.username=M}}class sd extends Ns{constructor(m,v){super(m,"facebook.com",v)}}class od extends Cr{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class sf extends Ns{constructor(m,v){super(m,"google.com",v)}}class Wl extends Cr{constructor(m,v,I){super(m,"twitter.com",v,I)}}function de(w){const{user:m,_tokenResponse:v}=w;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function mi(w){var m,v;if(!w)return null;const{providerId:I}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},V=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&w?.idToken){const le=null===(v=null===(m=Ot(w.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(le)return new Ns(V,"anonymous"!==le&&"custom"!==le?le:null)}if(!I)return null;switch(I){case"facebook.com":return new sd(V,M);case"github.com":return new od(V,M);case"google.com":return new sf(V,M);case"twitter.com":return new Wl(V,M,w.screenName||null);case"custom":case"anonymous":return new Ns(V,null);default:return new Ns(V,I,M)}}(v)}class Ii{constructor(m,v,I){this.type=m,this.credential=v,this.auth=I}static _fromIdtoken(m,v){return new Ii("enroll",m,v)}static _fromMfaPendingCredential(m){return new Ii("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,I;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ii._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(I=m.multiFactorSession)&&void 0!==I&&I.idToken)return Ii._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ul{constructor(m,v,I){this.session=m,this.hints=v,this.signInResolver=I}static _fromError(m,v){const I=Kn(m),M=v.customData._serverResponse,V=(M.mfaInfo||[]).map(Ce=>Ze._fromServerResponse(I,Ce));Q(M.mfaPendingCredential,I,"internal-error");const le=Ii._fromMfaPendingCredential(M.mfaPendingCredential);return new ul(le,V,function(){var Ce=(0,c.Z)(function*(Je){const St=yield Je._process(I,le);delete M.mfaInfo,delete M.mfaPendingCredential;const Kt=Object.assign(Object.assign({},M),{idToken:St.idToken,refreshToken:St.refreshToken});switch(v.operationType){case"signIn":const $t=yield $n._fromIdTokenResponse(I,v.operationType,Kt);return yield I._updateCurrentUser($t.user),$t;case"reauthenticate":return Q(v.user,I,"internal-error"),$n._forOperation(v.user,v.operationType,Kt);default:He(I,"internal-error")}});return function(Je){return Ce.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,c.Z)(function*(){return v.signInResolver(m)})()}}function Xo(w,m){return Xt(w,"POST","/v2/accounts/mfaEnrollment:start",cn(w,m))}class er{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>Ze._fromServerResponse(m.auth,I)))})}static _fromUser(m){return new er(m)}getSession(){var m=this;return(0,c.Z)(function*(){return Ii._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,v){var I=this;return(0,c.Z)(function*(){const M=m,V=yield I.getSession(),le=yield Fr(I.user,M._process(I.user.auth,V,v));return yield I.user._updateTokensIfNecessary(le),I.user.reload()})()}unenroll(m){var v=this;return(0,c.Z)(function*(){var I;const M="string"==typeof m?m:m.uid,V=yield v.user.getIdToken(),le=yield Fr(v.user,function Su(w,m){return Xt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(w,m))}(v.user.auth,{idToken:V,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ce})=>Ce!==M),yield v.user._updateTokensIfNecessary(le);try{yield v.user.reload()}catch(Ce){if("auth/user-token-expired"!==(null===(I=Ce)||void 0===I?void 0:I.code))throw Ce}})()}}const zl=new WeakMap,Mo="__sak";class dc{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Mo,"1"),this.storage.removeItem(Mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Aa=(()=>{class w extends dc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,I)=>this.onStorageEvent(v,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Au(){const w=(0,W.z$)();return wr(w)||Un(w)}()&&function lr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lo(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),V=this.localCache[I];M!==V&&v(I,V,M)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((Ce,Je,St)=>{this.notifyListeners(Ce,St)});const M=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ce=this.storage.getItem(M);if(v.newValue!==Ce)null!==v.newValue?this.storage.setItem(M,v.newValue):this.storage.removeItem(M);else if(this.localCache[M]===v.newValue&&!I)return}const V=()=>{const Ce=this.storage.getItem(M);!I&&this.localCache[M]===Ce||this.notifyListeners(M,Ce)},le=this.storage.getItem(M);!function qr(){return(0,W.w1)()&&10===document.documentMode}()||le===v.newValue||v.newValue===v.oldValue?V():setTimeout(V,10)}notifyListeners(v,I){this.localCache[v]=I;const M=this.listeners[v];if(M)for(const V of Array.from(M))V(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var M=()=>super._set,V=this;return(0,c.Z)(function*(){yield M().call(V,v,I),V.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,M=this;return(0,c.Z)(function*(){const V=yield I().call(M,v);return M.localCache[v]=JSON.stringify(V),V})()}_remove(v){var I=()=>super._remove,M=this;return(0,c.Z)(function*(){yield I().call(M,v),delete M.localCache[v]})()}}return w.type="LOCAL",w})(),Os=(()=>{class w extends dc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return w.type="SESSION",w})();let ad=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(V=>V.isListeningto(v));if(I)return I;const M=new w(v);return this.receivers.push(M),M}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,c.Z)(function*(){const M=v,{eventId:V,eventType:le,data:Ce}=M.data,Je=I.handlersMap[le];if(!Je?.size)return;M.ports[0].postMessage({status:"ack",eventId:V,eventType:le});const St=Array.from(Je).map(function(){var $t=(0,c.Z)(function*(li){return li(M.origin,Ce)});return function(li){return $t.apply(this,arguments)}}()),Kt=yield function Zl(w){return Promise.all(w.map(function(){var m=(0,c.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return m.apply(this,arguments)}}()))}(St);M.ports[0].postMessage({status:"done",eventId:V,eventType:le,response:Kt})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Na(w="",m=10){let v="";for(let I=0;I<m;I++)v+=Math.floor(10*Math.random());return w+v}class hc{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,I=50){var M=this;return(0,c.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let le,Ce;return new Promise((Je,St)=>{const Kt=Na("",20);V.port1.start();const $t=setTimeout(()=>{St(new Error("unsupported_event"))},I);Ce={messageChannel:V,onMessage(li){const Uo=li;if(Uo.data.eventId===Kt)switch(Uo.data.status){case"ack":clearTimeout($t),le=setTimeout(()=>{St(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Je(Uo.data.response);break;default:clearTimeout($t),clearTimeout(le),St(new Error("invalid_response"))}}},M.handlers.add(Ce),V.port1.addEventListener("message",Ce.onMessage),M.target.postMessage({eventType:m,eventId:Kt,data:v},[V.port2])}).finally(()=>{Ce&&M.removeMessageHandler(Ce)})})()}}function xr(){return window}function hl(){return typeof xr().WorkerGlobalScope<"u"&&"function"==typeof xr().importScripts}function Ou(){return(Ou=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const go="firebaseLocalStorageDb",Oa="firebaseLocalStorage",gc="fbase_key";class gl{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Mu(w,m){return w.transaction([Oa],m?"readwrite":"readonly").objectStore(Oa)}function Xr(){const w=indexedDB.open(go,1);return new Promise((m,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const I=w.result;try{I.createObjectStore(Oa,{keyPath:gc})}catch(M){v(M)}}),w.addEventListener("success",(0,c.Z)(function*(){const I=w.result;I.objectStoreNames.contains(Oa)?m(I):(I.close(),yield function ri(){const w=indexedDB.deleteDatabase(go);return new gl(w).toPromise()}(),m(yield Xr()))}))})}function ea(w,m,v){return ld.apply(this,arguments)}function ld(){return(ld=(0,c.Z)(function*(w,m,v){const I=Mu(w,!0).put({[gc]:m,value:v});return new gl(I).toPromise()})).apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(w,m){const v=Mu(w,!1).get(m),I=yield new gl(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ta(w,m){const v=Mu(w,!0).delete(m);return new gl(v).toPromise()}const Ro=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.Z)(function*(){return v.db||(v.db=yield Xr()),v.db})()}_withRetries(v){var I=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const V=yield I._openDb();return yield v(V)}catch(V){if(M++>3)throw V;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.Z)(function*(){return hl()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.Z)(function*(){v.receiver=ad._getInstance(function pl(){return hl()?self:null}()),v.receiver._subscribe("keyChanged",function(){var I=(0,c.Z)(function*(M,V){return{keyProcessed:(yield v._poll()).includes(V.key)}});return function(M,V){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,c.Z)(function*(M,V){return["keyChanged"]});return function(M,V){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.Z)(function*(){var I,M;if(v.activeServiceWorker=yield function fl(){return Ou.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new hc(v.activeServiceWorker);const V=yield v.sender._send("ping",{},800);!V||(null===(I=V[0])||void 0===I?void 0:I.fulfilled)&&(null===(M=V[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,c.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function fc(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Xr();return yield ea(v,Mo,"1"),yield ta(v,Mo),!0}catch{}return!1})()}_withPendingWrite(v){var I=this;return(0,c.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(V=>ea(V,v,I)),M.localCache[v]=I,M.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,c.Z)(function*(){const M=yield I._withRetries(V=>function Ru(w,m){return Fu.apply(this,arguments)}(V,v));return I.localCache[v]=M,M})()}_remove(v){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(M=>ta(M,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.Z)(function*(){const I=yield v._withRetries(le=>{const Ce=Mu(le,!1).getAll();return new gl(Ce).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const M=[],V=new Set;for(const{fbase_key:le,value:Ce}of I)V.add(le),JSON.stringify(v.localCache[le])!==JSON.stringify(Ce)&&(v.notifyListeners(le,Ce),M.push(le));for(const le of Object.keys(v.localCache))v.localCache[le]&&!V.has(le)&&(v.notifyListeners(le,null),M.push(le));return M})()}notifyListeners(v,I){this.localCache[v]=I;const M=this.listeners[v];if(M)for(const V of Array.from(M))V(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Fo(w,m){return Xt(w,"POST","/v2/accounts/mfaSignIn:start",cn(w,m))}function Ma(){return(Ma=(0,c.Z)(function*(w){return(yield Xt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yl(w){return new Promise((m,v)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=m,I.onerror=M=>{const V=Pe("internal-error");V.customData=M,v(V)},I.type="text/javascript",I.charset="UTF-8",function Kl(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(I)})}function mc(w){return`__${w}${Math.floor(1e6*Math.random())}`}const ra=1e12;class pr{constructor(m){this.auth=m,this.counter=ra,this._widgets=new Map}render(m,v){const I=this.counter;return this._widgets.set(I,new U(m,this.auth.name,v||{})),this.counter++,I}reset(m){var v;const I=m||ra;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(m){var v;return(null===(v=this._widgets.get(m||ra))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,c.Z)(function*(){var I;return null===(I=v._widgets.get(m||ra))||void 0===I||I.execute(),""})()}}class U{constructor(m,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;Q(M,"argument-error",{appName:v}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pu(w){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<w;I++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jl=mc("rcb"),qs=new Zn(3e4,6e4);class th{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=xr().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return Q(function Bg(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(xr().grecaptcha):new Promise((I,M)=>{const V=xr().setTimeout(()=>{M(Pe(m,"network-request-failed"))},qs.get());xr()[Jl]=()=>{xr().clearTimeout(V),delete xr()[Jl];const Ce=xr().grecaptcha;if(!Ce)return void M(Pe(m,"internal-error"));const Je=Ce.render;Ce.render=(St,Kt)=>{const $t=Je(St,Kt);return this.counter++,$t},this.hostLanguage=v,I(Ce)},Yl(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Jl,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(V),M(Pe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=xr().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ud{load(m){return(0,c.Z)(function*(){return new pr(m)})()}clearedOneInstance(){}}const ku="recaptcha",Vg={theme:"light",type:"image"};class Fi{constructor(m,v=Object.assign({},Vg),I){this.parameters=v,this.type=ku,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(I),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;Q(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ud:new th,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),I=m.getAssertedRecaptcha();return I.getResponse(v)||new Promise(V=>{const le=Ce=>{!Ce||(m.tokenChangeListeners.delete(le),V(Ce))};m.tokenChangeListeners.add(le),m.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof m)m(v);else if("string"==typeof m){const I=xr()[m];"function"==typeof I&&I(v)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){Q(Mt()&&!hl(),m.auth,"internal-error"),yield function cd(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function Ci(w){return Ma.apply(this,arguments)}(m.auth);Q(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qn{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Ea._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Ms(){return(Ms=(0,c.Z)(function*(w,m,v){const I=Kn(w),M=yield Wn(I,m,(0,W.m9)(v));return new qn(M,V=>Xn(I,V))})).apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w);yield Nn(!1,I,"phone");const M=yield Wn(I.auth,m,(0,W.m9)(v));return new qn(M,V=>Ul(I,V))})).apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w),M=yield Wn(I.auth,m,(0,W.m9)(v));return new qn(M,V=>ho(I,V))})).apply(this,arguments)}function Wn(w,m,v){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(w,m,v){var I;const M=yield v.verify();try{let V;if(Q("string"==typeof M,w,"argument-error"),Q(v.type===ku,w,"argument-error"),V="string"==typeof m?{phoneNumber:m}:m,"session"in V){const le=V.session;if("phoneNumber"in V)return Q("enroll"===le.type,w,"internal-error"),(yield Xo(w,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Q("signin"===le.type,w,"internal-error");const Ce=(null===(I=V.multiFactorHint)||void 0===I?void 0:I.uid)||V.multiFactorUid;return Q(Ce,w,"missing-multi-factor-info"),(yield Fo(w,{mfaPendingCredential:le.credential,mfaEnrollmentId:Ce,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield Tt(w,{phoneNumber:V.phoneNumber,recaptchaToken:M});return le}}finally{v._reset()}})).apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(w,m){yield rl((0,W.m9)(w),m)})).apply(this,arguments)}let _c=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=Kn(v)}verifyPhoneNumber(v,I){return Wn(this.auth,v,(0,W.m9)(I))}static credential(v,I){return Ea._fromVerification(v,I)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:M}=v;return I&&M?Ea._fromTokenResponse(I,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function vl(w,m){return m?ye(m):(Q(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class fd extends Ar{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return $(m,this._buildIdpRequest())}_linkToIdToken(m,v){return $(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return $(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function ei(w){return co(w.auth,new fd(w),w.bypassAuthState)}function Lu(w){const{auth:m,user:v}=w;return Q(v,m,"internal-error"),il(v,new fd(w),w.bypassAuthState)}function Ra(w){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(w){const{auth:m,user:v}=w;return Q(v,m,"internal-error"),rl(v,new fd(w),w.bypassAuthState)})).apply(this,arguments)}class Bu{constructor(m,v,I,M,V=!1){this.auth=m,this.resolver=I,this.user=M,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,c.Z)(function*(I,M){m.pendingPromise={resolve:I,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(V){m.reject(V)}});return function(I,M){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,c.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:V,tenantId:le,error:Ce,type:Je}=m;if(Ce)return void v.reject(Ce);const St={auth:v.auth,requestUri:I,sessionId:M,tenantId:le||void 0,postBody:V||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Je)(St))}catch(Kt){v.reject(Kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ei;case"linkViaPopup":case"linkViaRedirect":return Ra;case"reauthViaPopup":case"reauthViaRedirect":return Lu;default:He(this.auth,"internal-error")}}resolve(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pd=new Zn(2e3,1e4);function Vu(){return(Vu=(0,c.Z)(function*(w,m,v){const I=Kn(w);st(w,m,xo);const M=vl(I,v);return new $u(I,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w);st(I.auth,m,xo);const M=vl(I.auth,v);return new $u(I.auth,"reauthViaPopup",m,M,I).executeNotNull()})).apply(this,arguments)}function Uu(){return(Uu=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w);st(I.auth,m,xo);const M=vl(I.auth,v);return new $u(I.auth,"linkViaPopup",m,M,I).executeNotNull()})).apply(this,arguments)}let $u=(()=>{class w extends Bu{constructor(v,I,M,V,le){super(v,I,V,le),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.Z)(function*(){const I=yield v.execute();return Q(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,c.Z)(function*(){ae(1===v.filter.length,"Popup operations only handle one event");const I=Na();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(M=>{v.reject(M)}),v.resolver._isIframeWebStorageSupported(v.auth,M=>{M||v.reject(Pe(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,pd.get())};v()}}return w.currentPopupAction=null,w})();const Mr=new Map;class Rs extends Bu{constructor(m,v,I=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,c.Z)(function*(){let I=Mr.get(v.auth._key());if(!I){try{const V=(yield function jn(w,m){return wt.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;I=()=>Promise.resolve(V)}catch(M){I=()=>Promise.reject(M)}Mr.set(v.auth._key(),I)}return v.bypassAuthState||Mr.set(v.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,I=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(I,m);if("unknown"!==m.type){if(m.eventId){const M=yield I.auth._redirectUserForId(m.eventId);if(M)return I.user=M,v().call(I,m);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function wt(){return(wt=(0,c.Z)(function*(w,m){const v=vc(m),I=vi(w);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(v));return yield I._remove(v),M})).apply(this,arguments)}function _i(w,m){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(w,m){return vi(w)._set(vc(m),"true")})).apply(this,arguments)}function Zs(w,m){Mr.set(w._key(),m)}function vi(w){return ye(w._redirectPersistence)}function vc(w){return zr("pendingRedirect",w.config.apiKey,w.name)}function x(){return(x=(0,c.Z)(function*(w,m,v){const I=Kn(w);st(w,m,xo);const M=vl(I,v);return yield _i(M,I),M._openRedirect(I,m,"signInViaRedirect")})).apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w);st(I.auth,m,xo);const M=vl(I.auth,v);yield _i(M,I.auth);const V=yield Ut(I);return M._openRedirect(I.auth,m,"reauthViaRedirect",V)})).apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(w,m,v){const I=(0,W.m9)(w);st(I.auth,m,xo);const M=vl(I.auth,v);yield Nn(!1,I,m.providerId),yield _i(M,I.auth);const V=yield Ut(I);return M._openRedirect(I.auth,m,"linkViaRedirect",V)})).apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(w,m){return yield Kn(w)._initializationPromise,Ht(w,m,!1)})).apply(this,arguments)}function Ht(w,m){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(w,m,v=!1){const I=Kn(w),M=vl(I,m),le=yield new Rs(I,M,v).execute();return le&&!v&&(delete le.user._redirectEventId,yield I._persistUserIfCurrent(le.user),yield I._setRedirectUser(null,m)),le})).apply(this,arguments)}function Ut(w){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(w){const m=Na(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class zn{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(m,I)&&(v=!0,this.sendToConsumer(m,I),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Xl(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ia(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var I;if(m.error&&!ia(m)){const M=(null===(I=m.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(Pe(this.auth,M))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const I=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&I}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oi(m))}saveEventToCache(m){this.cachedEventUids.add(oi(m)),this.lastProcessedEventTime=Date.now()}}function oi(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function ia({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===m?.code}function Fa(w){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(w,m={}){return Xt(w,"GET","/v1/projects",m)})).apply(this,arguments)}const ka=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ks=/^https?/;function uf(){return(uf=(0,c.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield Fa(w);for(const v of m)try{if(rh(v))return}catch{}He(w,"unauthorized-domain")})).apply(this,arguments)}function rh(w){const m=Qe(),{protocol:v,hostname:I}=new URL(m);if(w.startsWith("chrome-extension://")){const le=new URL(w);return""===le.hostname&&""===I?"chrome-extension:"===v&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&le.hostname===I}if(!Ks.test(v))return!1;if(ka.test(w))return I===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const Ug=new Zn(3e4,6e4);function Hu(){const w=xr().___jsl;if(w?.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let yc=null;function up(w){return yc=yc||function ju(w){return new Promise((m,v)=>{var I,M,V;function le(){Hu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Hu(),v(Pe(w,"network-request-failed"))},timeout:Ug.get()})}if(null!==(M=null===(I=xr().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(V=xr().gapi)||void 0===V||!V.load){const Ce=mc("iframefcb");return xr()[Ce]=()=>{gapi.load?le():v(Pe(w,"network-request-failed"))},Yl(`https://apis.google.com/js/api.js?onload=${Ce}`).catch(Je=>v(Je))}le()}}).catch(m=>{throw yc=null,m})}(w),yc}const bc=new Zn(5e3,15e3),sh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ai(w){const m=w.config;Q(m.authDomain,w,"auth-domain-config-required");const v=m.emulator?dr(m,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,I={apiKey:m.apiKey,appName:w.name,v:be.SDK_VERSION},M=oh.get(w.config.apiHost);M&&(I.eid=M);const V=w._getFrameworks();return V.length&&(I.fw=V.join(",")),`${v}?${(0,W.xO)(I).slice(1)}`}function Hr(){return Hr=(0,c.Z)(function*(w){const m=yield up(w),v=xr().gapi;return Q(v,w,"internal-error"),m.open({where:document.body,url:ai(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sh,dontclear:!0},I=>new Promise(function(){var M=(0,c.Z)(function*(V,le){yield I.restyle({setHideOnLeave:!1});const Ce=Pe(w,"network-request-failed"),Je=xr().setTimeout(()=>{le(Ce)},bc.get());function St(){xr().clearTimeout(Je),V(I)}I.ping(St).then(St,()=>{le(Ce)})});return function(V,le){return M.apply(this,arguments)}}()))}),Hr.apply(this,arguments)}const sa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wc{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dc(w,m,v,I,M,V){Q(w.config.authDomain,w,"auth-domain-config-required"),Q(w.config.apiKey,w,"invalid-api-key");const le={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:I,v:be.SDK_VERSION,eventId:M};if(m instanceof xo){m.setDefaultLanguage(w.languageCode),le.providerId=m.providerId||"",(0,W.xb)(m.getCustomParameters())||(le.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Je,St]of Object.entries(V||{}))le[Je]=St}if(m instanceof Yo){const Je=m.getScopes().filter(St=>""!==St);Je.length>0&&(le.scopes=Je.join(","))}w.tenantId&&(le.tid=w.tenantId);const Ce=le;for(const Je of Object.keys(Ce))void 0===Ce[Je]&&delete Ce[Je];return`${function hf({config:w}){return w.emulator?dr(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,W.xO)(Ce).slice(1)}`}const oa="webStorageSupport";class Ua extends class vn{constructor(m){this.factorId=m}_process(m,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,I);case"signin":return this._finalizeSignIn(m,v.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ua(m)}_finalizeEnroll(m,v,I){return function cl(w,m){return Xt(w,"POST","/v2/accounts/mfaEnrollment:finalize",cn(w,m))}(m,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function _l(w,m){return Xt(w,"POST","/v2/accounts/mfaSignIn:finalize",cn(w,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _d=(()=>{class w{constructor(){}static assertion(v){return Ua._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var Ic="@firebase/auth";class $_{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,c.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(I=>{var M;m((null===(M=I)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zi(){return window}function vd(){return(vd=(0,c.Z)(function*(w,m,v){var I;const{BuildInfo:M}=zi();ae(m.sessionId,"AuthEvent did not contain a session ID");const V=yield yd(m.sessionId),le={};return Un()?le.ibi=M.packageName:kr()?le.apn=M.packageName:He(w,"operation-not-supported-in-this-environment"),M.displayName&&(le.appDisplayName=M.displayName),le.sessionId=V,Dc(w,v,m.type,void 0,null!==(I=m.eventId)&&void 0!==I?I:void 0,le)})).apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(w){const{BuildInfo:m}=zi(),v={};Un()?v.iosBundleId=m.packageName:kr()?v.androidPackageName=m.packageName:He(w,"operation-not-supported-in-this-environment"),yield Fa(w,v)})).apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(w,m,v){const{cordova:I}=zi();let M=()=>{};try{yield new Promise((V,le)=>{let Ce=null;function Je(){var $t;V();const li=null===($t=I.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof li&&li(),"function"==typeof v?.close&&v.close()}function St(){Ce||(Ce=window.setTimeout(()=>{le(Pe(w,"redirect-cancelled-by-user"))},2e3))}function Kt(){"visible"===document?.visibilityState&&St()}m.addPassiveListener(Je),document.addEventListener("resume",St,!1),kr()&&document.addEventListener("visibilitychange",Kt,!1),M=()=>{m.removePassiveListener(Je),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",Kt,!1),Ce&&window.clearTimeout(Ce)}})}finally{M()}})).apply(this,arguments)}function yd(w){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,c.Z)(function*(w){const m=pf(w),v=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(v)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pf(w){if(ae(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const m=new ArrayBuffer(w.length),v=new Uint8Array(m);for(let I=0;I<w.length;I++)v[I]=w.charCodeAt(I);return v}!function ko(w){(0,be._registerComponent)(new Ee.wA("auth",(m,{options:v})=>{const I=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:V,authDomain:le}=I.options;return((Ce,Je)=>{Q(V&&!V.includes(":"),"invalid-api-key",{appName:Ce.name}),Q(!le?.includes(":"),"argument-error",{appName:Ce.name});const St={apiKey:V,authDomain:le,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$s(w)},Kt=new tn(Ce,Je,St);return function rt(w,m){const v=m?.persistence||[],I=(Array.isArray(v)?v:[v]).map(ye);m?.errorMap&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(I,m?.popupRedirectResolver)}(Kt,v),Kt})(I,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,I)=>{m.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new Ee.wA("auth-internal",m=>{const v=Kn(m.getProvider("auth").getImmediate());return new $_(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(Ic,"0.20.7",function Gu(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,be.registerVersion)(Ic,"0.20.7","esm2017")}("Browser");class aa extends zn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(m)),super.onEvent(m)}initialized(){var m=this;return(0,c.Z)(function*(){yield m.initPromise})()}}function mf(w){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(w){const m=yield wd()._get(dh(w));return m&&(yield wd()._remove(dh(w))),m})).apply(this,arguments)}function pp(){const w=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const I=Math.floor(Math.random()*m.length);w.push(m.charAt(I))}return w.join("")}function wd(){return ye(Aa)}function dh(w){return zr("authEvent",w.config.apiKey,w.name)}function xc(w){if(!w?.includes("?"))return{};const[m,...v]=w.split("?");return(0,W.zd)(v.join("?"))}function Bo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pe("no-auth-event")}}function Id(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function mp(w=(0,W.z$)()){return!("file:"!==Id()&&"ionic:"!==Id()&&"capacitor:"!==Id()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cd(){try{const w=self.localStorage,m=Na();if(w)return w.setItem(m,"1"),w.removeItem(m),!function Zu(w=(0,W.z$)()){return function tu(){return(0,W.w1)()&&11===document?.documentMode}()||function ph(w=(0,W.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,W.hl)()}catch{return gh()&&(0,W.hl)()}return!1}function gh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ac(){return(function gp(){return"http:"===Id()||"https:"===Id()}()||(0,W.ru)()||mp())&&!function fh(){return(0,W.b$)()||(0,W.UG)()}()&&Cd()&&!gh()}function vf(){return mp()&&typeof document<"u"}function Td(){return(Td=(0,c.Z)(function*(){return!!vf()&&new Promise(w=>{const m=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),w(!0)})})})).apply(this,arguments)}const Js={LOCAL:"local",NONE:"none",SESSION:"session"},Ed=Q,Nc="persistence";function Oc(w){return vh.apply(this,arguments)}function vh(){return(vh=(0,c.Z)(function*(w){yield w._initializationPromise;const m=Xs(),v=zr(Nc,w.config.apiKey,w.name);m&&m.setItem(v,w._getPersistence())})).apply(this,arguments)}function Xs(){var w;try{return(null===(w=function mh(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const Ku=Q;class is{constructor(){this.browserResolver=ye(class Va{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=Ht,this._overrideRedirectResult=Zs}_openPopup(m,v,I,M){var V=this;return(0,c.Z)(function*(){var le;ae(null===(le=V.eventManagers[m._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Ce=Dc(m,v,I,Qe(),M);return function Ba(w,m,v,I=500,M=600){const V=Math.max((window.screen.availHeight-M)/2,0).toString(),le=Math.max((window.screen.availWidth-I)/2,0).toString();let Ce="";const Je=Object.assign(Object.assign({},sa),{width:I.toString(),height:M.toString(),top:V,left:le}),St=(0,W.z$)().toLowerCase();v&&(Ce=us(St)?"_blank":v),ar(St)&&(m=m||"http://localhost",Je.scrollbars="yes");const Kt=Object.entries(Je).reduce((li,[Uo,la])=>`${li}${Uo}=${la},`,"");if(function ds(w=(0,W.z$)()){var m;return Un(w)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(St)&&"_self"!==Ce)return function cf(w,m){const v=document.createElement("a");v.href=w,v.target=m;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(m||"",Ce),new wc(null);const $t=window.open(m||"",Ce,Kt);Q($t,w,"popup-blocked");try{$t.focus()}catch{}return new wc($t)}(m,Ce,Na())})()}_openRedirect(m,v,I,M){var V=this;return(0,c.Z)(function*(){return yield V._originValidation(m),function Ri(w){xr().location.href=w}(Dc(m,v,I,Qe(),M)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:M,promise:V}=this.eventManagers[v];return M?Promise.resolve(M):(ae(V,"If manager is not set, promise should be"),V)}const I=this.initAndGetManager(m);return this.eventManagers[v]={promise:I},I.catch(()=>{delete this.eventManagers[v]}),I}initAndGetManager(m){var v=this;return(0,c.Z)(function*(){const I=yield function ki(w){return Hr.apply(this,arguments)}(m),M=new zn(m);return I.register("authEvent",V=>(Q(V?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:M},v.iframes[m._key()]=I,M})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(oa,{type:oa},M=>{var V;const le=null===(V=M?.[0])||void 0===V?void 0:V[oa];void 0!==le&&v(!!le),He(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function yl(w){return uf.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return lo()||wr()||Un()}}),this.cordovaResolver=ye(class _f{constructor(){this._redirectPersistence=Os,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ht,this._overrideRedirectResult=Zs}_initialize(m){var v=this;return(0,c.Z)(function*(){const I=m._key();let M=v.eventManagers.get(I);return M||(M=new aa(m),v.eventManagers.set(I,M),v.attachCallbackListeners(m,M)),M})()}_openPopup(m){He(m,"operation-not-supported-in-this-environment")}_openRedirect(m,v,I,M){var V=this;return(0,c.Z)(function*(){!function uh(w){var m,v,I,M,V,le,Ce,Je,St,Kt;const $t=zi();Q("function"==typeof(null===(m=$t?.universalLinks)||void 0===m?void 0:m.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(v=$t?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(V=null===(M=null===(I=$t?.cordova)||void 0===I?void 0:I.plugins)||void 0===M?void 0:M.browsertab)||void 0===V?void 0:V.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Je=null===(Ce=null===(le=$t?.cordova)||void 0===le?void 0:le.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===Je?void 0:Je.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Kt=null===(St=$t?.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===Kt?void 0:Kt.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const le=yield V._initialize(m);yield le.initialized(),le.resetRedirect(),function Fs(){Mr.clear()}(),yield V._originValidation(m);const Ce=function ch(w,m,v=null){return{type:m,eventId:v,urlResponse:null,sessionId:pp(),postBody:null,tenantId:w.tenantId,error:Pe(w,"no-auth-event")}}(m,I,M);yield function zu(w,m){return wd()._set(dh(w),m)}(m,Ce);const Je=yield function $g(w,m,v){return vd.apply(this,arguments)}(m,Ce,v),St=yield function Lo(w){const{cordova:m}=zi();return new Promise(v=>{m.plugins.browsertab.isAvailable(I=>{let M=null;I?m.plugins.browsertab.openUrl(w):M=m.InAppBrowser.open(w,function cs(w=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),v(M)})})}(Je);return function Wu(w,m,v){return eu.apply(this,arguments)}(m,le,St)})()}_isIframeWebStorageSupported(m,v){throw new Error("Method not implemented.")}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Qs(w){return _o.apply(this,arguments)}(m)),this.originValidationPromises[v]}attachCallbackListeners(m,v){const{universalLinks:I,handleOpenURL:M,BuildInfo:V}=zi(),le=setTimeout((0,c.Z)(function*(){yield mf(m),v.onEvent(Bo())}),500),Ce=function(){var Kt=(0,c.Z)(function*($t){clearTimeout(le);const li=yield mf(m);let Uo=null;li&&$t?.url&&(Uo=function bd(w,m){var v,I;const M=function Ec(w){const m=xc(w),v=m.link?decodeURIComponent(m.link):void 0,I=xc(v).link,M=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return xc(M).link||M||I||v||w}(m);if(M.includes("/__/auth/callback")){const V=xc(M),le=V.firebaseError?function hh(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(V.firebaseError)):null,Ce=null===(I=null===(v=le?.code)||void 0===v?void 0:v.split("auth/"))||void 0===I?void 0:I[1],Je=Ce?Pe(Ce):null;return Je?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Je,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:M,postBody:null}}return null}(li,$t.url)),v.onEvent(Uo||Bo())});return function(li){return Kt.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,Ce);const Je=M,St=`${V.packageName.toLowerCase()}://`;zi().handleOpenURL=function(){var Kt=(0,c.Z)(function*($t){if($t.toLowerCase().startsWith(St)&&Ce({url:$t}),"function"==typeof Je)try{Je($t)}catch(li){console.error(li)}});return function($t){return Kt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Os,this._completeRedirectFn=Ht,this._overrideRedirectResult=Zs}_initialize(m){var v=this;return(0,c.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,v,I,M){var V=this;return(0,c.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openPopup(m,v,I,M)})()}_openRedirect(m,v,I,M){var V=this;return(0,c.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openRedirect(m,v,I,M)})()}_isIframeWebStorageSupported(m,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,v)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return vf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ku(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,c.Z)(function*(){if(m.underlyingResolver)return;const v=yield function yf(){return Td.apply(this,arguments)}();m.underlyingResolver=v?m.cordovaResolver:m.browserResolver})()}}function Mc(w){return w.unwrap()}function xd(w){return Vo(w)}function Vo(w){const{_tokenResponse:m}=w instanceof W.ZR?w.customData:w;if(!m)return null;if(!(w instanceof W.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return _c.credentialFromResult(w);const v=m.providerId;if(!v||"password"===v)return null;let I;switch(v){case"google.com":I=Jn;break;case"facebook.com":I=Qn;break;case"github.com":I=Jc;break;case"twitter.com":I=Ss;break;default:const{oauthIdToken:M,oauthAccessToken:V,oauthTokenSecret:le,pendingToken:Ce,nonce:Je}=m;return V||le||M||Ce?Ce?v.startsWith("saml.")?gi._create(v,Ce):Ke._fromParams({providerId:v,signInMethod:v,pendingToken:Ce,idToken:M,accessToken:V}):new tl(v).credential({idToken:M,accessToken:V,rawNonce:Je}):null}return w instanceof W.ZR?I.credentialFromError(w):I.credentialFromResult(w)}function bi(w,m){return m.catch(v=>{throw v instanceof W.ZR&&function bl(w,m){var v,I;const M=null===(v=m.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===(null===(I=m)||void 0===I?void 0:I.code))m.resolver=new kc(w,function Jr(w,m){var v;const I=(0,W.m9)(w),M=m;return Q(m.customData.operationType,I,"argument-error"),Q(null===(v=M.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),ul._fromError(I,M)}(w,m));else if(M){const V=Vo(m),le=m;V&&(le.credential=V,le.tenantId=M.tenantId||void 0,le.email=M.email||void 0,le.phoneNumber=M.phoneNumber||void 0)}}(w,v),v}).then(v=>{const M=v.user;return{operationType:v.operationType,credential:xd(v),additionalUserInfo:de(v),user:wi.getOrCreate(M)}})}function Fc(w,m){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,c.Z)(function*(w,m){const v=yield m;return{verificationId:v.verificationId,confirm:I=>bi(w,v.confirm(I))}})).apply(this,arguments)}class kc{constructor(m,v){this.resolver=v,this.auth=function Rc(w){return w.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return bi(Mc(this.auth),this.resolver.resolveSignIn(m))}}class wi{constructor(m){this._delegate=m,this.multiFactor=function dl(w){const m=(0,W.m9)(w);return zl.has(m)||zl.set(m,er._fromUser(m)),zl.get(m)}(m)}static getOrCreate(m){return wi.USER_MAP.has(m)||wi.USER_MAP.set(m,new wi(m)),wi.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var v=this;return(0,c.Z)(function*(){return bi(v.auth,Ul(v._delegate,m))})()}linkWithPhoneNumber(m,v){var I=this;return(0,c.Z)(function*(){return Fc(I.auth,function rs(w,m,v){return ii.apply(this,arguments)}(I._delegate,m,v))})()}linkWithPopup(m){var v=this;return(0,c.Z)(function*(){return bi(v.auth,function lf(w,m,v){return Uu.apply(this,arguments)}(v._delegate,m,is))})()}linkWithRedirect(m){var v=this;return(0,c.Z)(function*(){return yield Oc(Kn(v.auth)),function he(w,m,v){return function Te(w,m,v){return Ge.apply(this,arguments)}(w,m,v)}(v._delegate,m,is)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var v=this;return(0,c.Z)(function*(){return bi(v.auth,ho(v._delegate,m))})()}reauthenticateWithPhoneNumber(m,v){return Fc(this.auth,function si(w,m,v){return ir.apply(this,arguments)}(this._delegate,m,v))}reauthenticateWithPopup(m){return bi(this.auth,function lp(w,m,v){return md.apply(this,arguments)}(this._delegate,m,is))}reauthenticateWithRedirect(m){var v=this;return(0,c.Z)(function*(){return yield Oc(Kn(v.auth)),function N(w,m,v){return function k(w,m,v){return q.apply(this,arguments)}(w,m,v)}(v._delegate,m,is)})()}sendEmailVerification(m){return function xa(w,m){return Eu.apply(this,arguments)}(this._delegate,m)}unlink(m){var v=this;return(0,c.Z)(function*(){return yield function ts(w,m){return _u.apply(this,arguments)}(v._delegate,m),v})()}updateEmail(m){return function Xd(w,m){return zs((0,W.m9)(w),m,null)}(this._delegate,m)}updatePassword(m){return function ll(w,m){return zs((0,W.m9)(w),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function dd(w,m){return hd.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Gl(w,m){return id.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,v){return function rd(w,m,v){return jl.apply(this,arguments)}(this._delegate,m,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wi.USER_MAP=new WeakMap;const Gt=Q;let yh=(()=>{class w{constructor(v,I){if(this.app=v,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=v.options;Gt(M,"invalid-api-key",{appName:v.name}),Gt(M,"invalid-api-key",{appName:v.name});const V=typeof window<"u"?is:void 0;this._delegate=I.initialize({options:{persistence:Lc(M,v.name),popupRedirectResolver:V}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,I){!function Io(w,m,v){const I=Kn(w);Q(I._canInitEmulator,I,"emulator-config-failed"),Q(/^https?:\/\//.test(m),I,"invalid-emulator-scheme");const M=!!v?.disableWarnings,V=js(m),{host:le,port:Ce}=function Dr(w){const m=js(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(I);if(M){const V=M[1];return{host:V,port:Cs(I.substr(V.length+1))}}{const[V,le]=I.split(":");return{host:V,port:Cs(le)}}}(m);I.config.emulator={url:`${V}//${le}${null===Ce?"":`:${Ce}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:le,port:Ce,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Zr(){function w(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,v,I)}applyActionCode(v){return function ps(w,m){return al.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Hl(this._delegate,v)}confirmPasswordReset(v,I){return function bu(w,m,v){return ol.apply(this,arguments)}(this._delegate,v,I)}createUserWithEmailAndPassword(v,I){var M=this;return(0,c.Z)(function*(){return bi(M._delegate,function Du(w,m,v){return Vr.apply(this,arguments)}(M._delegate,v,I))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function cc(w,m){return Tu.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Ao(w,m){return"EMAIL_SIGNIN"===Bl.parseLink(m)?.operation}(0,v)}getRedirectResult(){var v=this;return(0,c.Z)(function*(){Gt(Ac(),v._delegate,"operation-not-supported-in-this-environment");const I=yield function nt(w,m){return Vt.apply(this,arguments)}(v._delegate,is);return I?bi(v._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function Ps(w,m){Kn(w)._logFramework(m)}(this._delegate,v)}onAuthStateChanged(v,I,M){const{next:V,error:le,complete:Ce}=bh(v,I,M);return this._delegate.onAuthStateChanged(V,le,Ce)}onIdTokenChanged(v,I,M){const{next:V,error:le,complete:Ce}=bh(v,I,M);return this._delegate.onIdTokenChanged(V,le,Ce)}sendSignInLinkToEmail(v,I){return function Iu(w,m,v){return po.apply(this,arguments)}(this._delegate,v,I)}sendPasswordResetEmail(v,I){return function Jo(w,m,v){return Qr.apply(this,arguments)}(this._delegate,v,I||void 0)}setPersistence(v){var I=this;return(0,c.Z)(function*(){let M;switch(function _h(w,m){Ed(Object.values(Js).includes(m),w,"invalid-persistence-type"),(0,W.b$)()?Ed(m!==Js.SESSION,w,"unsupported-persistence-type"):(0,W.UG)()?Ed(m===Js.NONE,w,"unsupported-persistence-type"):gh()?Ed(m===Js.NONE||m===Js.LOCAL&&(0,W.hl)(),w,"unsupported-persistence-type"):Ed(m===Js.NONE||Cd(),w,"unsupported-persistence-type")}(I._delegate,v),v){case Js.SESSION:M=Os;break;case Js.LOCAL:M=(yield ye(Ro)._isAvailable())?Ro:Aa;break;case Js.NONE:M=kn;break;default:return He("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return bi(this._delegate,function mu(w){return Br.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return bi(this._delegate,Xn(this._delegate,v))}signInWithCustomToken(v){return bi(this._delegate,function ed(w,m){return yu.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,I){return bi(this._delegate,function Ur(w,m,v){return Xn((0,W.m9)(w),Eo.credential(m,v))}(this._delegate,v,I))}signInWithEmailLink(v,I){return bi(this._delegate,function rf(w,m,v){return Cu.apply(this,arguments)}(this._delegate,v,I))}signInWithPhoneNumber(v,I){return Fc(this._delegate,function af(w,m,v){return Ms.apply(this,arguments)}(this._delegate,v,I))}signInWithPopup(v){var I=this;return(0,c.Z)(function*(){return Gt(Ac(),I._delegate,"operation-not-supported-in-this-environment"),bi(I._delegate,function gd(w,m,v){return Vu.apply(this,arguments)}(I._delegate,v,is))})()}signInWithRedirect(v){var I=this;return(0,c.Z)(function*(){return Gt(Ac(),I._delegate,"operation-not-supported-in-this-environment"),yield Oc(I._delegate),function ti(w,m,v){return function nh(w,m,v){return x.apply(this,arguments)}(w,m,v)}(I._delegate,v,is)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function wu(w,m){return uc.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=Js,w})();function bh(w,m,v){let I=w;"function"!=typeof w&&({next:I,error:m,complete:v}=w);const M=I;return{next:le=>M(le&&wi.getOrCreate(le)),error:m,complete:v}}function Lc(w,m){const v=function Ha(w,m){const v=Xs();if(!v)return[];const I=zr(Nc,w,m);switch(v.getItem(I)){case Js.NONE:return[kn];case Js.LOCAL:return[Ro,Os];case Js.SESSION:return[Os];default:return[]}}(w,m);if(typeof self<"u"&&!v.includes(Ro)&&v.push(Ro),typeof window<"u")for(const I of[Aa,Os])v.includes(I)||v.push(I);return v.includes(kn)||v.push(kn),v}class nu{constructor(){this.providerId="phone",this._delegate=new _c(Mc(F.Z.auth()))}static credential(m,v){return _c.credential(m,v)}verifyPhoneNumber(m,v){return this._delegate.verifyPhoneNumber(m,v)}unwrap(){return this._delegate}}nu.PHONE_SIGN_IN_METHOD=_c.PHONE_SIGN_IN_METHOD,nu.PROVIDER_ID=_c.PROVIDER_ID;const Yu=Q;class Bc{constructor(m,v,I=F.Z.app()){var M;Yu(null===(M=I.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Fi(m,v,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _p(w){w.INTERNAL.registerComponent(new Ee.wA("auth-compat",m=>{const v=m.getProvider("app-compat").getImmediate(),I=m.getProvider("auth");return new yh(v,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Eo,FacebookAuthProvider:Qn,GithubAuthProvider:Jc,GoogleAuthProvider:Jn,OAuthProvider:tl,SAMLAuthProvider:Gs,PhoneAuthProvider:nu,PhoneMultiFactorGenerator:_d,RecaptchaVerifier:Bc,TwitterAuthProvider:Ss,Auth:yh,AuthCredential:Ar,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.20")}(F.Z)},5386:(Nt,$e,G)=>{var c;!function(F,W,be,ge){"use strict";var ht,Ie=["","webkit","Moz","MS","ms","o"],Ee=W.createElement("div"),Ae=Math.round,J=Math.abs,X=Date.now;function ce(B,$,ee){return setTimeout(Et(B,ee),$)}function tt(B,$,ee){return!!Array.isArray(B)&&(Ue(B,ee[$],ee),!0)}function Ue(B,$,ee){var we;if(B)if(B.forEach)B.forEach($,ee);else if(B.length!==ge)for(we=0;we<B.length;)$.call(ee,B[we],we,B),we++;else for(we in B)B.hasOwnProperty(we)&&$.call(ee,B[we],we,B)}function Le(B,$,ee){var we="DEPRECATED METHOD: "+$+"\n"+ee+" AT \n";return function(){var Ke=new Error("get-stack-trace"),Tt=Ke&&Ke.stack?Ke.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",dn=F.console&&(F.console.warn||F.console.log);return dn&&dn.call(F.console,we,Tt),B.apply(this,arguments)}}ht="function"!=typeof Object.assign?function($){if($===ge||null===$)throw new TypeError("Cannot convert undefined or null to object");for(var ee=Object($),we=1;we<arguments.length;we++){var Ke=arguments[we];if(Ke!==ge&&null!==Ke)for(var Tt in Ke)Ke.hasOwnProperty(Tt)&&(ee[Tt]=Ke[Tt])}return ee}:Object.assign;var Oe=Le(function($,ee,we){for(var Ke=Object.keys(ee),Tt=0;Tt<Ke.length;)(!we||we&&$[Ke[Tt]]===ge)&&($[Ke[Tt]]=ee[Ke[Tt]]),Tt++;return $},"extend","Use `assign`."),Me=Le(function($,ee){return Oe($,ee,!0)},"merge","Use `assign`.");function at(B,$,ee){var Ke,we=$.prototype;(Ke=B.prototype=Object.create(we)).constructor=B,Ke._super=we,ee&&ht(Ke,ee)}function Et(B,$){return function(){return B.apply($,arguments)}}function He(B,$){return"function"==typeof B?B.apply($&&$[0]||ge,$):B}function Pe(B,$){return B===ge?$:B}function ke(B,$,ee){Ue(Re($),function(we){B.addEventListener(we,ee,!1)})}function st(B,$,ee){Ue(Re($),function(we){B.removeEventListener(we,ee,!1)})}function ft(B,$){for(;B;){if(B==$)return!0;B=B.parentNode}return!1}function Q(B,$){return B.indexOf($)>-1}function Re(B){return B.trim().split(/\s+/g)}function ae(B,$,ee){if(B.indexOf&&!ee)return B.indexOf($);for(var we=0;we<B.length;){if(ee&&B[we][ee]==$||!ee&&B[we]===$)return we;we++}return-1}function pe(B){return Array.prototype.slice.call(B,0)}function ye(B,$,ee){for(var we=[],Ke=[],Tt=0;Tt<B.length;){var dn=$?B[Tt][$]:B[Tt];ae(Ke,dn)<0&&we.push(B[Tt]),Ke[Tt]=dn,Tt++}return ee&&(we=$?we.sort(function(ur,Gi){return ur[$]>Gi[$]}):we.sort()),we}function ve(B,$){for(var ee,we,Ke=$[0].toUpperCase()+$.slice(1),Tt=0;Tt<Ie.length;){if((we=(ee=Ie[Tt])?ee+Ke:$)in B)return we;Tt++}return ge}var rt=1;function Mt(B){var $=B.ownerDocument||B;return $.defaultView||$.parentWindow||F}var un="ontouchstart"in F,pt=ve(F,"PointerEvent")!==ge,Zn=un&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),dr="touch",gn="mouse",Hi=["x","y"],Cn=["clientX","clientY"];function tr(B,$){var ee=this;this.manager=B,this.callback=$,this.element=B.element,this.target=B.options.inputTarget,this.domHandler=function(we){He(B.options.enable,[B])&&ee.handler(we)},this.init()}function Rr(B,$,ee){var we=ee.pointers.length,Ke=ee.changedPointers.length,Tt=1&$&&we-Ke==0,dn=12&$&&we-Ke==0;ee.isFirst=!!Tt,ee.isFinal=!!dn,Tt&&(B.session={}),ee.eventType=$,function br(B,$){var ee=B.session,we=$.pointers,Ke=we.length;ee.firstInput||(ee.firstInput=Ot($)),Ke>1&&!ee.firstMultiple?ee.firstMultiple=Ot($):1===Ke&&(ee.firstMultiple=!1);var Tt=ee.firstInput,dn=ee.firstMultiple,Nr=dn?dn.center:Tt.center,ur=$.center=Vn(we);$.timeStamp=X(),$.deltaTime=$.timeStamp-Tt.timeStamp,$.angle=jt(Nr,ur),$.distance=Wr(Nr,ur),function fr(B,$){var ee=$.center,we=B.offsetDelta||{},Ke=B.prevDelta||{},Tt=B.prevInput||{};(1===$.eventType||4===Tt.eventType)&&(Ke=B.prevDelta={x:Tt.deltaX||0,y:Tt.deltaY||0},we=B.offsetDelta={x:ee.x,y:ee.y}),$.deltaX=Ke.x+(ee.x-we.x),$.deltaY=Ke.y+(ee.y-we.y)}(ee,$),$.offsetDirection=Pr($.deltaX,$.deltaY);var Gi=Fr($.deltaTime,$.deltaX,$.deltaY);$.overallVelocityX=Gi.x,$.overallVelocityY=Gi.y,$.overallVelocity=J(Gi.x)>J(Gi.y)?Gi.x:Gi.y,$.scale=dn?function Sn(B,$){return Wr($[0],$[1],Cn)/Wr(B[0],B[1],Cn)}(dn.pointers,we):1,$.rotation=dn?function Is(B,$){return jt($[1],$[0],Cn)+jt(B[1],B[0],Cn)}(dn.pointers,we):0,$.maxPointers=ee.prevInput?$.pointers.length>ee.prevInput.maxPointers?$.pointers.length:ee.prevInput.maxPointers:$.pointers.length,function kt(B,$){var Ke,Tt,dn,Nr,ee=B.lastInterval||$,we=$.timeStamp-ee.timeStamp;if(8!=$.eventType&&(we>25||ee.velocity===ge)){var ur=$.deltaX-ee.deltaX,Gi=$.deltaY-ee.deltaY,xs=Fr(we,ur,Gi);Tt=xs.x,dn=xs.y,Ke=J(xs.x)>J(xs.y)?xs.x:xs.y,Nr=Pr(ur,Gi),B.lastInterval=$}else Ke=ee.velocity,Tt=ee.velocityX,dn=ee.velocityY,Nr=ee.direction;$.velocity=Ke,$.velocityX=Tt,$.velocityY=dn,$.direction=Nr}(ee,$);var xs=B.element;ft($.srcEvent.target,xs)&&(xs=$.srcEvent.target),$.target=xs}(B,ee),B.emit("hammer.input",ee),B.recognize(ee),B.session.prevInput=ee}function Ot(B){for(var $=[],ee=0;ee<B.pointers.length;)$[ee]={clientX:Ae(B.pointers[ee].clientX),clientY:Ae(B.pointers[ee].clientY)},ee++;return{timeStamp:X(),pointers:$,center:Vn($),deltaX:B.deltaX,deltaY:B.deltaY}}function Vn(B){var $=B.length;if(1===$)return{x:Ae(B[0].clientX),y:Ae(B[0].clientY)};for(var ee=0,we=0,Ke=0;Ke<$;)ee+=B[Ke].clientX,we+=B[Ke].clientY,Ke++;return{x:Ae(ee/$),y:Ae(we/$)}}function Fr(B,$,ee){return{x:$/B||0,y:ee/B||0}}function Pr(B,$){return B===$?1:J(B)>=J($)?B<0?2:4:$<0?8:16}function Wr(B,$,ee){ee||(ee=Hi);var we=$[ee[0]]-B[ee[0]],Ke=$[ee[1]]-B[ee[1]];return Math.sqrt(we*we+Ke*Ke)}function jt(B,$,ee){return ee||(ee=Hi),180*Math.atan2($[ee[1]]-B[ee[1]],$[ee[0]]-B[ee[0]])/Math.PI}tr.prototype={handler:function(){},init:function(){this.evEl&&ke(this.element,this.evEl,this.domHandler),this.evTarget&&ke(this.target,this.evTarget,this.domHandler),this.evWin&&ke(Mt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&st(this.element,this.evEl,this.domHandler),this.evTarget&&st(this.target,this.evTarget,this.domHandler),this.evWin&&st(Mt(this.element),this.evWin,this.domHandler)}};var Xi={mousedown:1,mousemove:2,mouseup:4},Tn="mousedown",oe="mousemove mouseup";function te(){this.evEl=Tn,this.evWin=oe,this.pressed=!1,tr.apply(this,arguments)}at(te,tr,{handler:function($){var ee=Xi[$.type];1&ee&&0===$.button&&(this.pressed=!0),2&ee&&1!==$.which&&(ee=4),this.pressed&&(4&ee&&(this.pressed=!1),this.callback(this.manager,ee,{pointers:[$],changedPointers:[$],pointerType:gn,srcEvent:$}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:dr,3:"pen",4:gn,5:"kinect"},re="pointerdown",ze="pointermove pointerup pointercancel";function ct(){this.evEl=re,this.evWin=ze,tr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}F.MSPointerEvent&&!F.PointerEvent&&(re="MSPointerDown",ze="MSPointerMove MSPointerUp MSPointerCancel"),at(ct,tr,{handler:function($){var ee=this.store,we=!1,Ke=$.type.toLowerCase().replace("ms",""),Tt=Y[Ke],dn=ne[$.pointerType]||$.pointerType,Nr=dn==dr,ur=ae(ee,$.pointerId,"pointerId");1&Tt&&(0===$.button||Nr)?ur<0&&(ee.push($),ur=ee.length-1):12&Tt&&(we=!0),!(ur<0)&&(ee[ur]=$,this.callback(this.manager,Tt,{pointers:ee,changedPointers:[$],pointerType:dn,srcEvent:$}),we&&ee.splice(ur,1))}});var Ft={touchstart:1,touchmove:2,touchend:4,touchcancel:8},or="touchstart",kn="touchstart touchmove touchend touchcancel";function zr(){this.evTarget=or,this.evWin=kn,this.started=!1,tr.apply(this,arguments)}function _n(B,$){var ee=pe(B.touches),we=pe(B.changedTouches);return 12&$&&(ee=ye(ee.concat(we),"identifier",!0)),[ee,we]}at(zr,tr,{handler:function($){var ee=Ft[$.type];if(1===ee&&(this.started=!0),this.started){var we=_n.call(this,$,ee);12&ee&&we[0].length-we[1].length==0&&(this.started=!1),this.callback(this.manager,ee,{pointers:we[0],changedPointers:we[1],pointerType:dr,srcEvent:$})}}});var an={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ar="touchstart touchmove touchend touchcancel";function wr(){this.evTarget=ar,this.targetIds={},tr.apply(this,arguments)}function us(B,$){var ee=pe(B.touches),we=this.targetIds;if(3&$&&1===ee.length)return we[ee[0].identifier]=!0,[ee,ee];var Ke,Tt,dn=pe(B.changedTouches),Nr=[],ur=this.target;if(Tt=ee.filter(function(Gi){return ft(Gi.target,ur)}),1===$)for(Ke=0;Ke<Tt.length;)we[Tt[Ke].identifier]=!0,Ke++;for(Ke=0;Ke<dn.length;)we[dn[Ke].identifier]&&Nr.push(dn[Ke]),12&$&&delete we[dn[Ke].identifier],Ke++;return Nr.length?[ye(Tt.concat(Nr),"identifier",!0),Nr]:void 0}function mt(){tr.apply(this,arguments);var B=Et(this.handler,this);this.touch=new wr(this.manager,B),this.mouse=new te(this.manager,B),this.primaryTouch=null,this.lastTouches=[]}function zt(B,$){1&B?(this.primaryTouch=$.changedPointers[0].identifier,Un.call(this,$)):12&B&&Un.call(this,$)}function Un(B){var $=B.changedPointers[0];if($.identifier===this.primaryTouch){var ee={x:$.clientX,y:$.clientY};this.lastTouches.push(ee);var we=this.lastTouches;setTimeout(function(){var Tt=we.indexOf(ee);Tt>-1&&we.splice(Tt,1)},2500)}}function cs(B){for(var $=B.srcEvent.clientX,ee=B.srcEvent.clientY,we=0;we<this.lastTouches.length;we++){var Ke=this.lastTouches[we],Tt=Math.abs($-Ke.x),dn=Math.abs(ee-Ke.y);if(Tt<=25&&dn<=25)return!0}return!1}at(wr,tr,{handler:function($){var ee=an[$.type],we=us.call(this,$,ee);!we||this.callback(this.manager,ee,{pointers:we[0],changedPointers:we[1],pointerType:dr,srcEvent:$})}}),at(mt,tr,{handler:function($,ee,we){var Tt=we.pointerType==gn;if(!(Tt&&we.sourceCapabilities&&we.sourceCapabilities.firesTouchEvents)){if(we.pointerType==dr)zt.call(this,ee,we);else if(Tt&&cs.call(this,we))return;this.callback($,ee,we)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ds=ve(Ee.style,"touchAction"),qr=ds!==ge,lo="compute",$s="manipulation",hs="none",tn="pan-x",Kn="pan-y",Hs=function Dr(){if(!qr)return!1;var B={},$=F.CSS&&F.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ee){B[ee]=!$||F.CSS.supports("touch-action",ee)}),B}();function Io(B,$){this.manager=B,this.set($)}function Ts(B){this.options=ht({},this.defaults,B||{}),this.id=function Qe(){return rt++}(),this.manager=null,this.options.enable=Pe(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Co(B){return 16&B?"cancel":8&B?"end":4&B?"move":2&B?"start":""}function Ta(B){return 16==B?"down":8==B?"up":2==B?"left":4==B?"right":""}function Oi(B,$){var ee=$.manager;return ee?ee.get(B):B}function Kr(){Ts.apply(this,arguments)}function Mi(){Kr.apply(this,arguments),this.pX=null,this.pY=null}function nr(){Kr.apply(this,arguments)}function Xa(){Ts.apply(this,arguments),this._timer=null,this._input=null}function Lr(){Kr.apply(this,arguments)}function Yr(){Kr.apply(this,arguments)}function To(){Ts.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Es(B,$){return($=$||{}).recognizers=Pe($.recognizers,Es.defaults.preset),new el(B,$)}function el(B,$){this.options=ht({},Es.defaults,$||{}),this.options.inputTarget=this.options.inputTarget||B,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=B,this.input=function Ni(B){return new(B.options.inputClass||(pt?ct:Zn?wr:un?mt:te))(B,Rr)}(this),this.touchAction=new Io(this,this.options.touchAction),pu(this,!0),Ue(this.options.recognizers,function(ee){var we=this.add(new ee[0](ee[1]));ee[2]&&we.recognizeWith(ee[2]),ee[3]&&we.requireFailure(ee[3])},this)}function pu(B,$){var we,ee=B.element;ee.style&&(Ue(B.options.cssProps,function(Ke,Tt){we=ve(ee.style,Tt),$?(B.oldCssProps[we]=ee.style[we],ee.style[we]=Ke):ee.style[we]=B.oldCssProps[we]||""}),$||(B.oldCssProps={}))}Io.prototype={set:function(B){B==lo&&(B=this.compute()),qr&&this.manager.element.style&&Hs[B]&&(this.manager.element.style[ds]=B),this.actions=B.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var B=[];return Ue(this.manager.recognizers,function($){He($.options.enable,[$])&&(B=B.concat($.getTouchAction()))}),function js(B){if(Q(B,hs))return hs;var $=Q(B,tn),ee=Q(B,Kn);return $&&ee?hs:$||ee?$?tn:Kn:Q(B,$s)?$s:"auto"}(B.join(" "))},preventDefaults:function(B){var $=B.srcEvent,ee=B.offsetDirection;if(!this.manager.session.prevented){var we=this.actions,Ke=Q(we,hs)&&!Hs[hs],Tt=Q(we,Kn)&&!Hs[Kn],dn=Q(we,tn)&&!Hs[tn];if(Ke&&1===B.pointers.length&&B.distance<2&&B.deltaTime<250)return;return dn&&Tt||!(Ke||Tt&&6&ee||dn&&24&ee)?void 0:this.preventSrc($)}$.preventDefault()},preventSrc:function(B){this.manager.session.prevented=!0,B.preventDefault()}},Ts.prototype={defaults:{},set:function(B){return ht(this.options,B),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(B){if(tt(B,"recognizeWith",this))return this;var $=this.simultaneous;return $[(B=Oi(B,this)).id]||($[B.id]=B,B.recognizeWith(this)),this},dropRecognizeWith:function(B){return tt(B,"dropRecognizeWith",this)||(B=Oi(B,this),delete this.simultaneous[B.id]),this},requireFailure:function(B){if(tt(B,"requireFailure",this))return this;var $=this.requireFail;return-1===ae($,B=Oi(B,this))&&($.push(B),B.requireFailure(this)),this},dropRequireFailure:function(B){if(tt(B,"dropRequireFailure",this))return this;B=Oi(B,this);var $=ae(this.requireFail,B);return $>-1&&this.requireFail.splice($,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(B){return!!this.simultaneous[B.id]},emit:function(B){var $=this,ee=this.state;function we(Ke){$.manager.emit(Ke,B)}ee<8&&we($.options.event+Co(ee)),we($.options.event),B.additionalEvent&&we(B.additionalEvent),ee>=8&&we($.options.event+Co(ee))},tryEmit:function(B){if(this.canEmit())return this.emit(B);this.state=32},canEmit:function(){for(var B=0;B<this.requireFail.length;){if(!(33&this.requireFail[B].state))return!1;B++}return!0},recognize:function(B){var $=ht({},B);if(!He(this.options.enable,[this,$]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process($),30&this.state&&this.tryEmit($)},process:function(B){},getTouchAction:function(){},reset:function(){}},at(Kr,Ts,{defaults:{pointers:1},attrTest:function(B){var $=this.options.pointers;return 0===$||B.pointers.length===$},process:function(B){var $=this.state,ee=B.eventType,we=6&$,Ke=this.attrTest(B);return we&&(8&ee||!Ke)?16|$:we||Ke?4&ee?8|$:2&$?4|$:2:32}}),at(Mi,Kr,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var B=this.options.direction,$=[];return 6&B&&$.push(Kn),24&B&&$.push(tn),$},directionTest:function(B){var $=this.options,ee=!0,we=B.distance,Ke=B.direction,Tt=B.deltaX,dn=B.deltaY;return Ke&$.direction||(6&$.direction?(Ke=0===Tt?1:Tt<0?2:4,ee=Tt!=this.pX,we=Math.abs(B.deltaX)):(Ke=0===dn?1:dn<0?8:16,ee=dn!=this.pY,we=Math.abs(B.deltaY))),B.direction=Ke,ee&&we>$.threshold&&Ke&$.direction},attrTest:function(B){return Kr.prototype.attrTest.call(this,B)&&(2&this.state||!(2&this.state)&&this.directionTest(B))},emit:function(B){this.pX=B.deltaX,this.pY=B.deltaY;var $=Ta(B.direction);$&&(B.additionalEvent=this.options.event+$),this._super.emit.call(this,B)}}),at(nr,Kr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[hs]},attrTest:function(B){return this._super.attrTest.call(this,B)&&(Math.abs(B.scale-1)>this.options.threshold||2&this.state)},emit:function(B){1!==B.scale&&(B.additionalEvent=this.options.event+(B.scale<1?"in":"out")),this._super.emit.call(this,B)}}),at(Xa,Ts,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(B){var $=this.options,ee=B.pointers.length===$.pointers,we=B.distance<$.threshold,Ke=B.deltaTime>$.time;if(this._input=B,!we||!ee||12&B.eventType&&!Ke)this.reset();else if(1&B.eventType)this.reset(),this._timer=ce(function(){this.state=8,this.tryEmit()},$.time,this);else if(4&B.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(B){8===this.state&&(B&&4&B.eventType?this.manager.emit(this.options.event+"up",B):(this._input.timeStamp=X(),this.manager.emit(this.options.event,this._input)))}}),at(Lr,Kr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[hs]},attrTest:function(B){return this._super.attrTest.call(this,B)&&(Math.abs(B.rotation)>this.options.threshold||2&this.state)}}),at(Yr,Kr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Mi.prototype.getTouchAction.call(this)},attrTest:function(B){var ee,$=this.options.direction;return 30&$?ee=B.overallVelocity:6&$?ee=B.overallVelocityX:24&$&&(ee=B.overallVelocityY),this._super.attrTest.call(this,B)&&$&B.offsetDirection&&B.distance>this.options.threshold&&B.maxPointers==this.options.pointers&&J(ee)>this.options.velocity&&4&B.eventType},emit:function(B){var $=Ta(B.offsetDirection);$&&this.manager.emit(this.options.event+$,B),this.manager.emit(this.options.event,B)}}),at(To,Ts,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[$s]},process:function(B){var $=this.options,ee=B.pointers.length===$.pointers,we=B.distance<$.threshold,Ke=B.deltaTime<$.time;if(this.reset(),1&B.eventType&&0===this.count)return this.failTimeout();if(we&&Ke&&ee){if(4!=B.eventType)return this.failTimeout();var Tt=!this.pTime||B.timeStamp-this.pTime<$.interval,dn=!this.pCenter||Wr(this.pCenter,B.center)<$.posThreshold;if(this.pTime=B.timeStamp,this.pCenter=B.center,dn&&Tt?this.count+=1:this.count=1,this._input=B,0==this.count%$.taps)return this.hasRequireFailures()?(this._timer=ce(function(){this.state=8,this.tryEmit()},$.interval,this),2):8}return 32},failTimeout:function(){return this._timer=ce(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Es.VERSION="2.0.7",Es.defaults={domEvents:!1,touchAction:lo,enable:!0,inputTarget:null,inputClass:null,preset:[[Lr,{enable:!1}],[nr,{enable:!1},["rotate"]],[Yr,{direction:6}],[Mi,{direction:6},["swipe"]],[To],[To,{event:"doubletap",taps:2},["tap"]],[Xa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},el.prototype={set:function(B){return ht(this.options,B),B.touchAction&&this.touchAction.update(),B.inputTarget&&(this.input.destroy(),this.input.target=B.inputTarget,this.input.init()),this},stop:function(B){this.session.stopped=B?2:1},recognize:function(B){var $=this.session;if(!$.stopped){this.touchAction.preventDefaults(B);var ee,we=this.recognizers,Ke=$.curRecognizer;(!Ke||Ke&&8&Ke.state)&&(Ke=$.curRecognizer=null);for(var Tt=0;Tt<we.length;)ee=we[Tt],2===$.stopped||Ke&&ee!=Ke&&!ee.canRecognizeWith(Ke)?ee.reset():ee.recognize(B),!Ke&&14&ee.state&&(Ke=$.curRecognizer=ee),Tt++}},get:function(B){if(B instanceof Ts)return B;for(var $=this.recognizers,ee=0;ee<$.length;ee++)if($[ee].options.event==B)return $[ee];return null},add:function(B){if(tt(B,"add",this))return this;var $=this.get(B.options.event);return $&&this.remove($),this.recognizers.push(B),B.manager=this,this.touchAction.update(),B},remove:function(B){if(tt(B,"remove",this))return this;if(B=this.get(B)){var $=this.recognizers,ee=ae($,B);-1!==ee&&($.splice(ee,1),this.touchAction.update())}return this},on:function(B,$){if(B!==ge&&$!==ge){var ee=this.handlers;return Ue(Re(B),function(we){ee[we]=ee[we]||[],ee[we].push($)}),this}},off:function(B,$){if(B!==ge){var ee=this.handlers;return Ue(Re(B),function(we){$?ee[we]&&ee[we].splice(ae(ee[we],$),1):delete ee[we]}),this}},emit:function(B,$){this.options.domEvents&&function lc(B,$){var ee=W.createEvent("Event");ee.initEvent(B,!0,!0),ee.gesture=$,$.target.dispatchEvent(ee)}(B,$);var ee=this.handlers[B]&&this.handlers[B].slice();if(ee&&ee.length){$.type=B,$.preventDefault=function(){$.srcEvent.preventDefault()};for(var we=0;we<ee.length;)ee[we]($),we++}},destroy:function(){this.element&&pu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ht(Es,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:el,Input:tr,TouchAction:Io,TouchInput:wr,MouseInput:te,PointerEventInput:ct,TouchMouseInput:mt,SingleTouchInput:zr,Recognizer:Ts,AttrRecognizer:Kr,Tap:To,Pan:Mi,Swipe:Yr,Pinch:nr,Rotate:Lr,Press:Xa,on:ke,off:st,each:Ue,merge:Me,extend:Oe,assign:ht,inherit:at,bindFn:Et,prefixed:ve}),(typeof F<"u"?F:typeof self<"u"?self:{}).Hammer=Es,(c=function(){return Es}.call($e,G,$e,Nt))!==ge&&(Nt.exports=c)}(window,document)},7489:function(Nt,$e,G){var c;Nt=G.nmd(Nt),function(){var F,Ie="Expected a function",Ne="__lodash_hash_undefined__",J="__lodash_placeholder__",Qe=1/0,Mt=9007199254740991,pt=4294967295,Bn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],gn="[object Arguments]",fi="[object Array]",Xt="[object Boolean]",Si="[object Date]",Pn="[object Error]",Gr="[object Function]",Ji="[object GeneratorFunction]",hr="[object Map]",Sr="[object Number]",yr="[object Object]",yt="[object Promise]",Hi="[object RegExp]",Cn="[object Set]",tr="[object String]",Ni="[object Symbol]",br="[object WeakMap]",kt="[object ArrayBuffer]",Ot="[object DataView]",Vn="[object Float32Array]",Fr="[object Float64Array]",Pr="[object Int8Array]",Wr="[object Int16Array]",jt="[object Int32Array]",Is="[object Uint8Array]",Sn="[object Uint8ClampedArray]",Xi="[object Uint16Array]",Tn="[object Uint32Array]",oe=/\b__p \+= '';/g,te=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ne=/&(?:amp|lt|gt|quot|#39);/g,re=/[&<>"']/g,ze=RegExp(ne.source),ct=RegExp(re.source),Ft=/<%-([\s\S]+?)%>/g,or=/<%([\s\S]+?)%>/g,kn=/<%=([\s\S]+?)%>/g,zr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_n=/^\w*$/,an=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ar=/[\\^$.*+?()[\]{}|]/g,wr=RegExp(ar.source),us=/^\s+/,ji=/\s/,kr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mt=/\{\n\/\* \[wrapped with (.+)\] \*/,zt=/,? & /,Un=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cs=/[()=,{}\[\]\/\s]/,ds=/\\(\\)?/g,qr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lo=/\w*$/,lr=/^[-+]0x[0-9a-f]+$/i,$s=/^0b[01]+$/i,hs=/^\[object .+?Constructor\]$/,tn=/^0o[0-7]+$/i,Kn=/^(?:0|[1-9]\d*)$/,Hs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Io=/($^)/,js=/['\n\r\u2028\u2029\\]/g,Dr="\\ud800-\\udfff",Yn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",es="\\u2700-\\u27bf",An="a-z\\xdf-\\xf6\\xf8-\\xff",Oi="A-Z\\xc0-\\xd6\\xd8-\\xde",Kr="\\ufe0e\\ufe0f",Mi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xa="["+Dr+"]",Lr="["+Mi+"]",Yr="["+Yn+"]",To="\\d+",Es="["+es+"]",Ll="["+An+"]",pi="[^"+Dr+Mi+To+es+An+Oi+"]",el="\\ud83c[\\udffb-\\udfff]",lc="[^"+Dr+"]",uo="(?:\\ud83c[\\udde6-\\uddff]){2}",B="[\\ud800-\\udbff][\\udc00-\\udfff]",$="["+Oi+"]",we="(?:"+Ll+"|"+pi+")",Ke="(?:"+$+"|"+pi+")",Tt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",dn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Nr="(?:"+Yr+"|"+el+")?",ur="["+Kr+"]?",ef=ur+Nr+"(?:\\u200d(?:"+[lc,uo,B].join("|")+")"+ur+Nr+")*",Kd="(?:"+[Es,uo,B].join("|")+")"+ef,Ea="(?:"+[lc+Yr+"?",Yr,uo,B,Xa].join("|")+")",Yd=RegExp("['\u2019]","g"),Qd=RegExp(Yr,"g"),Bl=RegExp(el+"(?="+el+")|"+Ea+ef,"g"),tf=RegExp([$+"?"+Ll+"+"+Tt+"(?="+[Lr,$,"$"].join("|")+")",Ke+"+"+dn+"(?="+[Lr,$+we,"$"].join("|")+")",$+"?"+we+"+"+Tt,$+"+"+dn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",To,Kd].join("|"),"g"),Eo=RegExp("[\\u200d"+Dr+Yn+Kr+"]"),xo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tl=-1,Qn={};Qn[Vn]=Qn[Fr]=Qn[Pr]=Qn[Wr]=Qn[jt]=Qn[Is]=Qn[Sn]=Qn[Xi]=Qn[Tn]=!0,Qn[gn]=Qn[fi]=Qn[kt]=Qn[Xt]=Qn[Ot]=Qn[Si]=Qn[Pn]=Qn[Gr]=Qn[hr]=Qn[Sr]=Qn[yr]=Qn[Hi]=Qn[Cn]=Qn[tr]=Qn[br]=!1;var Jn={};Jn[gn]=Jn[fi]=Jn[kt]=Jn[Ot]=Jn[Xt]=Jn[Si]=Jn[Vn]=Jn[Fr]=Jn[Pr]=Jn[Wr]=Jn[jt]=Jn[hr]=Jn[Sr]=Jn[yr]=Jn[Hi]=Jn[Cn]=Jn[tr]=Jn[Ni]=Jn[Is]=Jn[Sn]=Jn[Xi]=Jn[Tn]=!0,Jn[Pn]=Jn[Gr]=Jn[br]=!1;var Qo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gs=parseFloat,Ss=parseInt,nl="object"==typeof global&&global&&global.Object===Object&&global,gu="object"==typeof self&&self&&self.Object===Object&&self,$n=nl||gu||Function("return this")(),Jd=$e&&!$e.nodeType&&$e,mu=Jd&&Nt&&!Nt.nodeType&&Nt,Br=mu&&mu.exports===Jd,Vl=Br&&nl.process,Ws=function(){try{return mu&&mu.require&&mu.require("util").types||Vl&&Vl.binding&&Vl.binding("util")}catch{}}(),As=Ws&&Ws.isArrayBuffer,ts=Ws&&Ws.isDate,_u=Ws&&Ws.isMap,rl=Ws&&Ws.isRegExp,So=Ws&&Ws.isSet,Nn=Ws&&Ws.isTypedArray;function Wi(de,Be,xe){switch(xe.length){case 0:return de.call(Be);case 1:return de.call(Be,xe[0]);case 2:return de.call(Be,xe[0],xe[1]);case 3:return de.call(Be,xe[0],xe[1],xe[2])}return de.apply(Be,xe)}function il(de,Be,xe,It){for(var Qt=-1,Hn=null==de?0:de.length;++Qt<Hn;){var Tr=de[Qt];Be(It,Tr,xe(Tr),de)}return It}function ns(de,Be){for(var xe=-1,It=null==de?0:de.length;++xe<It&&!1!==Be(de[xe],xe,de););return de}function co(de,Be){for(var xe=null==de?0:de.length;xe--&&!1!==Be(de[xe],xe,de););return de}function vu(de,Be){for(var xe=-1,It=null==de?0:de.length;++xe<It;)if(!Be(de[xe],xe,de))return!1;return!0}function Xn(de,Be){for(var xe=-1,It=null==de?0:de.length,Qt=0,Hn=[];++xe<It;){var Tr=de[xe];Be(Tr,xe,de)&&(Hn[Qt++]=Tr)}return Hn}function Yt(de,Be){return!(null==de||!de.length)&&Jo(de,Be,0)>-1}function Ul(de,Be,xe){for(var It=-1,Qt=null==de?0:de.length;++It<Qt;)if(xe(Be,de[It]))return!0;return!1}function Ir(de,Be){for(var xe=-1,It=null==de?0:de.length,Qt=Array(It);++xe<It;)Qt[xe]=Be(de[xe],xe,de);return Qt}function ho(de,Be){for(var xe=-1,It=Be.length,Qt=de.length;++xe<It;)de[Qt+xe]=Be[xe];return de}function $l(de,Be,xe,It){var Qt=-1,Hn=null==de?0:de.length;for(It&&Hn&&(xe=de[++Qt]);++Qt<Hn;)xe=Be(xe,de[Qt],Qt,de);return xe}function Xc(de,Be,xe,It){var Qt=null==de?0:de.length;for(It&&Qt&&(xe=de[--Qt]);Qt--;)xe=Be(xe,de[Qt],Qt,de);return xe}function fo(de,Be){for(var xe=-1,It=null==de?0:de.length;++xe<It;)if(Be(de[xe],xe,de))return!0;return!1}var ed=ps("length");function yn(de,Be,xe){var It;return xe(de,function(Qt,Hn,Tr){if(Be(Qt,Hn,Tr))return It=Hn,!1}),It}function sl(de,Be,xe,It){for(var Qt=de.length,Hn=xe+(It?1:-1);It?Hn--:++Hn<Qt;)if(Be(de[Hn],Hn,de))return Hn;return-1}function Jo(de,Be,xe){return Be==Be?function Xd(de,Be,xe){for(var It=xe-1,Qt=de.length;++It<Qt;)if(de[It]===Be)return It;return-1}(de,Be,xe):sl(de,bu,xe)}function Qr(de,Be,xe,It){for(var Qt=xe-1,Hn=de.length;++Qt<Hn;)if(It(de[Qt],Be))return Qt;return-1}function bu(de){return de!=de}function ol(de,Be){var xe=null==de?0:de.length;return xe?wu(de,Be)/xe:NaN}function ps(de){return function(Be){return null==Be?F:Be[de]}}function al(de){return function(Be){return null==de?F:de[Be]}}function Hl(de,Be,xe,It,Qt){return Qt(de,function(Hn,Tr,rr){xe=It?(It=!1,Hn):Be(xe,Hn,Tr,rr)}),xe}function wu(de,Be){for(var xe,It=-1,Qt=de.length;++It<Qt;){var Hn=Be(de[It]);Hn!==F&&(xe=xe===F?Hn:xe+Hn)}return xe}function uc(de,Be){for(var xe=-1,It=Array(de);++xe<de;)It[xe]=Be(xe);return It}function Vr(de){return de&&de.slice(0,mi(de)+1).replace(us,"")}function Ur(de){return function(Be){return de(Be)}}function Iu(de,Be){return Ir(Be,function(xe){return de[xe]})}function po(de,Be){return de.has(Be)}function Ao(de,Be){for(var xe=-1,It=de.length;++xe<It&&Jo(Be,de[xe],0)>-1;);return xe}function rf(de,Be){for(var xe=de.length;xe--&&Jo(Be,de[xe],0)>-1;);return xe}function Cu(de,Be){for(var xe=de.length,It=0;xe--;)de[xe]===Be&&++It;return It}var ap=al({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),nd=al({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cc(de){return"\\"+Qo[de]}function xa(de){return Eo.test(de)}function jl(de){var Be=-1,xe=Array(de.size);return de.forEach(function(It,Qt){xe[++Be]=[Qt,It]}),xe}function xu(de,Be){return function(xe){return de(Be(xe))}}function No(de,Be){for(var xe=-1,It=de.length,Qt=0,Hn=[];++xe<It;){var Tr=de[xe];(Tr===Be||Tr===J)&&(de[xe]=J,Hn[Qt++]=xe)}return Hn}function Gl(de){var Be=-1,xe=Array(de.size);return de.forEach(function(It){xe[++Be]=It}),xe}function zs(de){return xa(de)?function Cr(de){for(var Be=Bl.lastIndex=0;Bl.test(de);)++Be;return Be}(de):ed(de)}function gs(de){return xa(de)?function sd(de){return de.match(Bl)||[]}(de):function yu(de){return de.split("")}(de)}function mi(de){for(var Be=de.length;Be--&&ji.test(de.charAt(Be)););return Be}var Ns=al({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wl=function de(Be){var d,xe=(Be=null==Be?$n:Wl.defaults($n.Object(),Be,Wl.pick($n,Yo))).Array,It=Be.Date,Qt=Be.Error,Hn=Be.Function,Tr=Be.Math,rr=Be.Object,Oo=Be.RegExp,Sa=Be.String,Ii=Be.TypeError,ul=xe.prototype,Xo=rr.prototype,cl=Be["__core-js_shared__"],Su=Hn.prototype.toString,er=Xo.hasOwnProperty,zl=0,dl=(d=/[^.]+$/.exec(cl&&cl.keys&&cl.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",Mo=Xo.toString,dc=Su.call(rr),Au=$n._,eh=Oo("^"+Su.call(er).replace(ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nu=Br?Be.Buffer:F,Er=Be.Symbol,Aa=Be.Uint8Array,ql=Nu?Nu.allocUnsafe:F,Os=xu(rr.getPrototypeOf,rr),Zl=rr.create,ad=Xo.propertyIsEnumerable,Na=ul.splice,hc=Er?Er.isConcatSpreadable:F,xr=Er?Er.iterator:F,Ri=Er?Er.toStringTag:F,hl=function(){try{var d=Lc(rr,"defineProperty");return d({},"",{}),d}catch{}}(),fl=Be.clearTimeout!==$n.clearTimeout&&Be.clearTimeout,Ou=It&&It.now!==$n.Date.now&&It.now,fc=Be.setTimeout!==$n.setTimeout&&Be.setTimeout,pl=Tr.ceil,go=Tr.floor,pc=rr.getOwnPropertySymbols,Oa=Nu?Nu.isBuffer:F,gc=Be.isFinite,gl=ul.join,Mu=xu(rr.keys,rr),ri=Tr.max,Xr=Tr.min,ea=It.now,ld=Be.parseInt,Ru=Tr.random,Fu=ul.reverse,ta=Lc(Be,"DataView"),ml=Lc(Be,"Map"),mo=Lc(Be,"Promise"),na=Lc(Be,"Set"),Ro=Lc(Be,"WeakMap"),Fo=Lc(rr,"create"),_l=Ro&&new Ro,Ci={},Ma=Ad(ta),Kl=Ad(ml),Yl=Ad(mo),mc=Ad(na),Ql=Ad(Ro),Po=Er?Er.prototype:F,ra=Po?Po.valueOf:F,pr=Po?Po.toString:F;function U(d){if(Ti(d)&&!mn(d)&&!(d instanceof Dn)){if(d instanceof qs)return d;if(er.call(d,"__wrapped__"))return Nd(d)}return new qs(d)}var Pu=function(){function d(){}return function(p){if(!Di(p))return{};if(Zl)return Zl(p);d.prototype=p;var b=new d;return d.prototype=F,b}}();function Jl(){}function qs(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=F}function Dn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pt,this.__views__=[]}function ku(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var A=d[p];this.set(A[0],A[1])}}function Ms(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var A=d[p];this.set(A[0],A[1])}}function xt(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var A=d[p];this.set(A[0],A[1])}}function ei(d){var p=-1,b=null==d?0:d.length;for(this.__data__=new xt;++p<b;)this.add(d[p])}function ms(d){var p=this.__data__=new Ms(d);this.size=p.size}function md(d,p){var b=mn(d),A=!b&&Ju(d),P=!b&&!A&&Dl(d),H=!b&&!A&&!P&&to(d),K=b||A||P||H,ie=K?uc(d.length,Sa):[],fe=ie.length;for(var qe in d)(p||er.call(d,qe))&&(!K||!("length"==qe||P&&("offset"==qe||"parent"==qe)||H&&("buffer"==qe||"byteLength"==qe||"byteOffset"==qe)||Ce(qe,fe)))&&ie.push(qe);return ie}function lf(d){var p=d.length;return p?d[oa(0,p-1)]:F}function Uu(d,p){return yp(Gn(d),Zs(p,0,d.length))}function $u(d){return yp(Gn(d))}function Or(d,p,b){(b!==F&&!_s(d[p],b)||b===F&&!(p in d))&&Pi(d,p,b)}function Mr(d,p,b){var A=d[p];(!er.call(d,p)||!_s(A,b)||b===F&&!(p in d))&&Pi(d,p,b)}function Rs(d,p){for(var b=d.length;b--;)if(_s(d[b][0],p))return b;return-1}function jn(d,p,b,A){return N(d,function(P,H,K){p(A,P,b(P),K)}),A}function wt(d,p){return d&&Bo(p,no(p),d)}function Pi(d,p,b){"__proto__"==p&&hl?hl(d,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):d[p]=b}function Fs(d,p){for(var b=-1,A=p.length,P=xe(A),H=null==d;++b<A;)P[b]=H?F:rb(d,p[b]);return P}function Zs(d,p,b){return d==d&&(b!==F&&(d=d<=b?d:b),p!==F&&(d=d>=p?d:p)),d}function vi(d,p,b,A,P,H){var K,ie=1&p,fe=2&p,qe=4&p;if(b&&(K=P?b(d,A,P,H):b(d)),K!==F)return K;if(!Di(d))return d;var We=mn(d);if(We){if(K=function v(d){var p=d.length,b=new d.constructor(p);return p&&"string"==typeof d[0]&&er.call(d,"index")&&(b.index=d.index,b.input=d.input),b}(d),!ie)return Gn(d,K)}else{var Xe=Li(d),_t=Xe==Gr||Xe==Ji;if(Dl(d))return Tc(d,ie);if(Xe==yr||Xe==gn||_t&&!P){if(K=fe||_t?{}:I(d),!ie)return fe?function $a(d,p){return Bo(d,Bc(d),p)}(d,function _i(d,p){return d&&Bo(p,qa(p),d)}(K,d)):function Ps(d,p){return Bo(d,Yu(d),p)}(d,wt(K,d))}else{if(!Jn[Xe])return P?d:{};K=function M(d,p,b){var A=d.constructor;switch(p){case kt:return bd(d);case Xt:case Si:return new A(+d);case Ot:return function pp(d,p){var b=p?bd(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.byteLength)}(d,b);case Vn:case Fr:case Pr:case Wr:case jt:case Is:case Sn:case Xi:case Tn:return hh(d,b);case hr:return new A;case Sr:case tr:return new A(d);case Hi:return function wd(d){var p=new d.constructor(d.source,lo.exec(d));return p.lastIndex=d.lastIndex,p}(d);case Cn:return new A;case Ni:return function dh(d){return ra?rr(ra.call(d)):{}}(d)}}(d,Xe,ie)}}H||(H=new ms);var Rt=H.get(d);if(Rt)return Rt;H.set(d,K),mm(d)?d.forEach(function(en){K.add(vi(en,p,b,en,d,H))}):_v(d)&&d.forEach(function(en,nn){K.set(nn,vi(en,p,b,nn,d,H))});var hn=We?F:(qe?fe?Fc:bi:fe?qa:no)(d);return ns(hn||d,function(en,nn){hn&&(en=d[nn=en]),Mr(K,nn,vi(en,p,b,nn,d,H))}),K}function ti(d,p,b){var A=b.length;if(null==d)return!A;for(d=rr(d);A--;){var P=b[A],K=d[P];if(K===F&&!(P in d)||!(0,p[P])(K))return!1}return!0}function nh(d,p,b){if("function"!=typeof d)throw new Ii(Ie);return $c(function(){d.apply(F,b)},p)}function x(d,p,b,A){var P=-1,H=Yt,K=!0,ie=d.length,fe=[],qe=p.length;if(!ie)return fe;b&&(p=Ir(p,Ur(b))),A?(H=Ul,K=!1):p.length>=200&&(H=po,K=!1,p=new ei(p));e:for(;++P<ie;){var We=d[P],Xe=null==b?We:b(We);if(We=A||0!==We?We:0,K&&Xe==Xe){for(var _t=qe;_t--;)if(p[_t]===Xe)continue e;fe.push(We)}else H(p,Xe,A)||fe.push(We)}return fe}U.templateSettings={escape:Ft,evaluate:or,interpolate:kn,variable:"",imports:{_:U}},(U.prototype=Jl.prototype).constructor=U,(qs.prototype=Pu(Jl.prototype)).constructor=qs,(Dn.prototype=Pu(Jl.prototype)).constructor=Dn,ku.prototype.clear=function Vg(){this.__data__=Fo?Fo(null):{},this.size=0},ku.prototype.delete=function Fi(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p},ku.prototype.get=function cd(d){var p=this.__data__;if(Fo){var b=p[d];return b===Ne?F:b}return er.call(p,d)?p[d]:F},ku.prototype.has=function qn(d){var p=this.__data__;return Fo?p[d]!==F:er.call(p,d)},ku.prototype.set=function af(d,p){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=Fo&&p===F?Ne:p,this},Ms.prototype.clear=function rs(){this.__data__=[],this.size=0},Ms.prototype.delete=function ii(d){var p=this.__data__,b=Rs(p,d);return!(b<0||(b==p.length-1?p.pop():Na.call(p,b,1),--this.size,0))},Ms.prototype.get=function si(d){var p=this.__data__,b=Rs(p,d);return b<0?F:p[b][1]},Ms.prototype.has=function ir(d){return Rs(this.__data__,d)>-1},Ms.prototype.set=function Wn(d,p){var b=this.__data__,A=Rs(b,d);return A<0?(++this.size,b.push([d,p])):b[A][1]=p,this},xt.prototype.clear=function dd(){this.size=0,this.__data__={hash:new ku,map:new(ml||Ms),string:new ku}},xt.prototype.delete=function hd(d){var p=yh(this,d).delete(d);return this.size-=p?1:0,p},xt.prototype.get=function _c(d){return yh(this,d).get(d)},xt.prototype.has=function vl(d){return yh(this,d).has(d)},xt.prototype.set=function fd(d,p){var b=yh(this,d),A=b.size;return b.set(d,p),this.size+=b.size==A?0:1,this},ei.prototype.add=ei.prototype.push=function Lu(d){return this.__data__.set(d,Ne),this},ei.prototype.has=function Ra(d){return this.__data__.has(d)},ms.prototype.clear=function Bu(){this.__data__=new Ms,this.size=0},ms.prototype.delete=function pd(d){var p=this.__data__,b=p.delete(d);return this.size=p.size,b},ms.prototype.get=function gd(d){return this.__data__.get(d)},ms.prototype.has=function Vu(d){return this.__data__.has(d)},ms.prototype.set=function lp(d,p){var b=this.__data__;if(b instanceof Ms){var A=b.__data__;if(!ml||A.length<199)return A.push([d,p]),this.size=++b.size,this;b=this.__data__=new xt(A)}return b.set(d,p),this.size=b.size,this};var N=Id(Zt),k=Id(Ut,!0);function q(d,p){var b=!0;return N(d,function(A,P,H){return b=!!p(A,P,H)}),b}function he(d,p,b){for(var A=-1,P=d.length;++A<P;){var H=d[A],K=p(H);if(null!=K&&(ie===F?K==K&&!eo(K):b(K,ie)))var ie=K,fe=H}return fe}function Ge(d,p){var b=[];return N(d,function(A,P,H){p(A,P,H)&&b.push(A)}),b}function nt(d,p,b,A,P){var H=-1,K=d.length;for(b||(b=le),P||(P=[]);++H<K;){var ie=d[H];p>0&&b(ie)?p>1?nt(ie,p-1,b,A,P):ho(P,ie):A||(P[P.length]=ie)}return P}var Vt=gp(),Ht=gp(!0);function Zt(d,p){return d&&Vt(d,p,no)}function Ut(d,p){return d&&Ht(d,p,no)}function gr(d,p){return Xn(p,function(b){return su(d[b])})}function $r(d,p){for(var b=0,A=(p=aa(p,d)).length;null!=d&&b<A;)d=d[ua(p[b++])];return b&&b==A?d:F}function zn(d,p,b){var A=p(d);return mn(d)?A:ho(A,b(d))}function oi(d){return null==d?d===F?"[object Undefined]":"[object Null]":Ri&&Ri in rr(d)?function nu(d){var p=er.call(d,Ri),b=d[Ri];try{d[Ri]=F;var A=!0}catch{}var P=Mo.call(d);return A&&(p?d[Ri]=b:delete d[Ri]),P}(d):function Uc(d){return Mo.call(d)}(d)}function ia(d,p){return d>p}function Xl(d,p){return null!=d&&er.call(d,p)}function Fa(d,p){return null!=d&&p in rr(d)}function ka(d,p,b){for(var A=b?Ul:Yt,P=d[0].length,H=d.length,K=H,ie=xe(H),fe=1/0,qe=[];K--;){var We=d[K];K&&p&&(We=Ir(We,Ur(p))),fe=Xr(We.length,fe),ie[K]=!b&&(p||P>=120&&We.length>=120)?new ei(K&&We):F}We=d[0];var Xe=-1,_t=ie[0];e:for(;++Xe<P&&qe.length<fe;){var Rt=We[Xe],Pt=p?p(Rt):Rt;if(Rt=b||0!==Rt?Rt:0,!(_t?po(_t,Pt):A(qe,Pt,b))){for(K=H;--K;){var hn=ie[K];if(!(hn?po(hn,Pt):A(d[K],Pt,b)))continue e}_t&&_t.push(Pt),qe.push(Rt)}}return qe}function yl(d,p,b){var A=null==(d=Dh(d,p=aa(p,d)))?d:d[ua(ca(p))];return null==A?F:Wi(A,d,b)}function uf(d){return Ti(d)&&oi(d)==gn}function Hu(d,p,b,A,P){return d===p||(null==d||null==p||!Ti(d)&&!Ti(p)?d!=d&&p!=p:function ju(d,p,b,A,P,H){var K=mn(d),ie=mn(p),fe=K?fi:Li(d),qe=ie?fi:Li(p),We=(fe=fe==gn?yr:fe)==yr,Xe=(qe=qe==gn?yr:qe)==yr,_t=fe==qe;if(_t&&Dl(d)){if(!Dl(p))return!1;K=!0,We=!1}if(_t&&!We)return H||(H=new ms),K||to(d)?Rc(d,p,b,A,P,H):function xd(d,p,b,A,P,H,K){switch(b){case Ot:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case kt:return!(d.byteLength!=p.byteLength||!H(new Aa(d),new Aa(p)));case Xt:case Si:case Sr:return _s(+d,+p);case Pn:return d.name==p.name&&d.message==p.message;case Hi:case tr:return d==p+"";case hr:var ie=jl;case Cn:if(ie||(ie=Gl),d.size!=p.size&&!(1&A))return!1;var qe=K.get(d);if(qe)return qe==p;A|=2,K.set(d,p);var We=Rc(ie(d),ie(p),A,P,H,K);return K.delete(d),We;case Ni:if(ra)return ra.call(d)==ra.call(p)}return!1}(d,p,fe,b,A,P,H);if(!(1&b)){var Rt=We&&er.call(d,"__wrapped__"),Pt=Xe&&er.call(p,"__wrapped__");if(Rt||Pt){var hn=Rt?d.value():d,en=Pt?p.value():p;return H||(H=new ms),P(hn,en,b,A,H)}}return!!_t&&(H||(H=new ms),function bl(d,p,b,A,P,H){var K=1&b,ie=bi(d),fe=ie.length;if(fe!=bi(p).length&&!K)return!1;for(var Xe=fe;Xe--;){var _t=ie[Xe];if(!(K?_t in p:er.call(p,_t)))return!1}var Rt=H.get(d),Pt=H.get(p);if(Rt&&Pt)return Rt==p&&Pt==d;var hn=!0;H.set(d,p),H.set(p,d);for(var en=K;++Xe<fe;){var nn=d[_t=ie[Xe]],fn=p[_t];if(A)var os=K?A(fn,nn,_t,p,d,H):A(nn,fn,_t,d,p,H);if(!(os===F?nn===fn||P(nn,fn,b,A,H):os)){hn=!1;break}en||(en="constructor"==_t)}if(hn&&!en){var ci=d.constructor,Bi=p.constructor;ci!=Bi&&"constructor"in d&&"constructor"in p&&!("function"==typeof ci&&ci instanceof ci&&"function"==typeof Bi&&Bi instanceof Bi)&&(hn=!1)}return H.delete(d),H.delete(p),hn}(d,p,b,A,P,H))}(d,p,b,A,Hu,P))}function up(d,p,b,A){var P=b.length,H=P,K=!A;if(null==d)return!H;for(d=rr(d);P--;){var ie=b[P];if(K&&ie[2]?ie[1]!==d[ie[0]]:!(ie[0]in d))return!1}for(;++P<H;){var fe=(ie=b[P])[0],qe=d[fe],We=ie[1];if(K&&ie[2]){if(qe===F&&!(fe in d))return!1}else{var Xe=new ms;if(A)var _t=A(qe,We,fe,d,p,Xe);if(!(_t===F?Hu(We,qe,3,A,Xe):_t))return!1}}return!0}function bc(d){return!(!Di(d)||function li(d){return!!dl&&dl in d}(d))&&(su(d)?eh:hs).test(Ad(d))}function oh(d){return"function"==typeof d?d:null==d?ga:"object"==typeof d?mn(d)?dp(d[0],d[1]):La(d):qv(d)}function ai(d){if(!la(d))return Mu(d);var p=[];for(var b in rr(d))er.call(d,b)&&"constructor"!=b&&p.push(b);return p}function Hr(d,p){return d<p}function sa(d,p){var b=-1,A=fa(d)?xe(d.length):[];return N(d,function(P,H,K){A[++b]=p(P,H,K)}),A}function La(d){var p=bh(d);return 1==p.length&&p[0][2]?wh(p[0][0],p[0][1]):function(b){return b===d||up(b,d,p)}}function dp(d,p){return St(d)&&Sd(p)?wh(ua(d),p):function(b){var A=rb(b,d);return A===F&&A===p?Cv(b,d):Hu(p,A,3)}}function yi(d,p,b,A,P){d!==p&&Vt(p,function(H,K){if(P||(P=new ms),Di(H))!function hp(d,p,b,A,P,H,K){var ie=jg(d,b),fe=jg(p,b),qe=K.get(fe);if(qe)Or(d,b,qe);else{var We=H?H(ie,fe,b+"",d,p,K):F,Xe=We===F;if(Xe){var _t=mn(fe),Rt=!_t&&Dl(fe),Pt=!_t&&!Rt&&to(fe);We=fe,_t||Rt||Pt?mn(ie)?We=ie:ui(ie)?We=Gn(ie):Rt?(Xe=!1,We=Tc(fe,!0)):Pt?(Xe=!1,We=hh(fe,!0)):We=[]:Gc(fe)||Ju(fe)?(We=ie,Ju(ie)?We=Pf(ie):(!Di(ie)||su(ie))&&(We=I(fe))):Xe=!1}Xe&&(K.set(fe,We),P(We,fe,A,H,K),K.delete(fe)),Or(d,b,We)}}(d,p,K,b,yi,A,P);else{var ie=A?A(jg(d,K),H,K+"",d,p,P):F;ie===F&&(ie=H),Or(d,K,ie)}},qa)}function wc(d,p){var b=d.length;if(b)return Ce(p+=p<0?b:0,b)?d[p]:F}function Ba(d,p,b){p=p.length?Ir(p,function(H){return mn(H)?function(K){return $r(K,1===H.length?H[0]:H)}:H}):[ga];var A=-1;return p=Ir(p,Ur(Gt())),function td(de,Be){var xe=de.length;for(de.sort(Be);xe--;)de[xe]=de[xe].value;return de}(sa(d,function(H,K,ie){return{criteria:Ir(p,function(qe){return qe(H)}),index:++A,value:H}}),function(H,K){return function xc(d,p,b){for(var A=-1,P=d.criteria,H=p.criteria,K=P.length,ie=b.length;++A<K;){var fe=Ec(P[A],H[A]);if(fe)return A>=ie?fe:fe*("desc"==b[A]?-1:1)}return d.index-p.index}(H,K,b)})}function df(d,p,b){for(var A=-1,P=p.length,H={};++A<P;){var K=p[A],ie=$r(d,K);b(ie,K)&&Ic(H,aa(K,d),ie)}return H}function Dc(d,p,b,A){var P=A?Qr:Jo,H=-1,K=p.length,ie=d;for(d===p&&(p=Gn(p)),b&&(ie=Ir(d,Ur(b)));++H<K;)for(var fe=0,qe=p[H],We=b?b(qe):qe;(fe=P(ie,We,fe,A))>-1;)ie!==d&&Na.call(ie,fe,1),Na.call(d,fe,1);return d}function hf(d,p){for(var b=d?p.length:0,A=b-1;b--;){var P=p[b];if(b==A||P!==H){var H=P;Ce(P)?Na.call(d,P,1):Lo(d,P)}}return d}function oa(d,p){return d+go(Ru()*(p-d+1))}function ah(d,p){var b="";if(!d||p<1||p>Mt)return b;do{p%2&&(b+=d),(p=go(p/2))&&(d+=d)}while(p);return b}function vn(d,p){return Gg(wf(d,p,ga),d+"")}function Ua(d){return lf(Tl(d))}function _d(d,p){var b=Tl(d);return yp(b,Zs(p,0,b.length))}function Ic(d,p,b,A){if(!Di(d))return d;for(var P=-1,H=(p=aa(p,d)).length,K=H-1,ie=d;null!=ie&&++P<H;){var fe=ua(p[P]),qe=b;if("__proto__"===fe||"constructor"===fe||"prototype"===fe)return d;if(P!=K){var We=ie[fe];(qe=A?A(We,fe,ie):F)===F&&(qe=Di(We)?We:Ce(p[P+1])?[]:{})}Mr(ie,fe,qe),ie=ie[fe]}return d}var lh=_l?function(d,p){return _l.set(d,p),d}:ga,$_=hl?function(d,p){return hl(d,"toString",{configurable:!0,enumerable:!1,value:Hv(p),writable:!0})}:ga;function Gu(d){return yp(Tl(d))}function ko(d,p,b){var A=-1,P=d.length;p<0&&(p=-p>P?0:P+p),(b=b>P?P:b)<0&&(b+=P),P=p>b?0:b-p>>>0,p>>>=0;for(var H=xe(P);++A<P;)H[A]=d[A+p];return H}function Ys(d,p){var b;return N(d,function(A,P,H){return!(b=p(A,P,H))}),!!b}function zi(d,p,b){var A=0,P=null==d?A:d.length;if("number"==typeof p&&p==p&&P<=2147483647){for(;A<P;){var H=A+P>>>1,K=d[H];null!==K&&!eo(K)&&(b?K<=p:K<p)?A=H+1:P=H}return P}return ff(d,p,ga,b)}function ff(d,p,b,A){var P=0,H=null==d?0:d.length;if(0===H)return 0;for(var K=(p=b(p))!=p,ie=null===p,fe=eo(p),qe=p===F;P<H;){var We=go((P+H)/2),Xe=b(d[We]),_t=Xe!==F,Rt=null===Xe,Pt=Xe==Xe,hn=eo(Xe);if(K)var en=A||Pt;else en=qe?Pt&&(A||_t):ie?Pt&&_t&&(A||!Rt):fe?Pt&&_t&&!Rt&&(A||!hn):!Rt&&!hn&&(A?Xe<=p:Xe<p);en?P=We+1:H=We}return Xr(H,4294967294)}function $g(d,p){for(var b=-1,A=d.length,P=0,H=[];++b<A;){var K=d[b],ie=p?p(K):K;if(!b||!_s(ie,fe)){var fe=ie;H[P++]=0===K?0:K}}return H}function vd(d){return"number"==typeof d?d:eo(d)?NaN:+d}function Qs(d){if("string"==typeof d)return d;if(mn(d))return Ir(d,Qs)+"";if(eo(d))return pr?pr.call(d):"";var p=d+"";return"0"==p&&1/d==-Qe?"-0":p}function _o(d,p,b){var A=-1,P=Yt,H=d.length,K=!0,ie=[],fe=ie;if(b)K=!1,P=Ul;else if(H>=200){var qe=p?null:vh(d);if(qe)return Gl(qe);K=!1,P=po,fe=new ei}else fe=p?[]:ie;e:for(;++A<H;){var We=d[A],Xe=p?p(We):We;if(We=b||0!==We?We:0,K&&Xe==Xe){for(var _t=fe.length;_t--;)if(fe[_t]===Xe)continue e;p&&fe.push(Xe),ie.push(We)}else P(fe,Xe,b)||(fe!==ie&&fe.push(Xe),ie.push(We))}return ie}function Lo(d,p){return null==(d=Dh(d,p=aa(p,d)))||delete d[ua(ca(p))]}function Wu(d,p,b,A){return Ic(d,p,b($r(d,p)),A)}function eu(d,p,b,A){for(var P=d.length,H=A?P:-1;(A?H--:++H<P)&&p(d[H],H,d););return b?ko(d,A?0:H,A?H+1:P):ko(d,A?H+1:0,A?P:H)}function uh(d,p){var b=d;return b instanceof Dn&&(b=b.value()),$l(p,function(A,P){return P.func.apply(P.thisArg,ho([A],P.args))},b)}function yd(d,p,b){var A=d.length;if(A<2)return A?_o(d[0]):[];for(var P=-1,H=xe(A);++P<A;)for(var K=d[P],ie=-1;++ie<A;)ie!=P&&(H[P]=x(H[P]||K,d[ie],p,b));return _o(nt(H,1),p,b)}function Cc(d,p,b){for(var A=-1,P=d.length,H=p.length,K={};++A<P;)b(K,d[A],A<H?p[A]:F);return K}function pf(d){return ui(d)?d:[]}function gf(d){return"function"==typeof d?d:ga}function aa(d,p){return mn(d)?d:St(d,p)?[d]:zg(sr(d))}var ch=vn;function zu(d,p,b){var A=d.length;return b=b===F?A:b,!p&&b>=A?d:ko(d,p,b)}var mf=fl||function(d){return $n.clearTimeout(d)};function Tc(d,p){if(p)return d.slice();var b=d.length,A=ql?ql(b):new d.constructor(b);return d.copy(A),A}function bd(d){var p=new d.constructor(d.byteLength);return new Aa(p).set(new Aa(d)),p}function hh(d,p){var b=p?bd(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.length)}function Ec(d,p){if(d!==p){var b=d!==F,A=null===d,P=d==d,H=eo(d),K=p!==F,ie=null===p,fe=p==p,qe=eo(p);if(!ie&&!qe&&!H&&d>p||H&&K&&fe&&!ie&&!qe||A&&K&&fe||!b&&fe||!P)return 1;if(!A&&!H&&!qe&&d<p||qe&&b&&P&&!A&&!H||ie&&b&&P||!K&&P||!fe)return-1}return 0}function qu(d,p,b,A){for(var P=-1,H=d.length,K=b.length,ie=-1,fe=p.length,qe=ri(H-K,0),We=xe(fe+qe),Xe=!A;++ie<fe;)We[ie]=p[ie];for(;++P<K;)(Xe||P<H)&&(We[b[P]]=d[P]);for(;qe--;)We[ie++]=d[P++];return We}function _f(d,p,b,A){for(var P=-1,H=d.length,K=-1,ie=b.length,fe=-1,qe=p.length,We=ri(H-ie,0),Xe=xe(We+qe),_t=!A;++P<We;)Xe[P]=d[P];for(var Rt=P;++fe<qe;)Xe[Rt+fe]=p[fe];for(;++K<ie;)(_t||P<H)&&(Xe[Rt+b[K]]=d[P++]);return Xe}function Gn(d,p){var b=-1,A=d.length;for(p||(p=xe(A));++b<A;)p[b]=d[b];return p}function Bo(d,p,b,A){var P=!b;b||(b={});for(var H=-1,K=p.length;++H<K;){var ie=p[H],fe=A?A(b[ie],d[ie],ie,b,d):F;fe===F&&(fe=d[ie]),P?Pi(b,ie,fe):Mr(b,ie,fe)}return b}function Sc(d,p){return function(b,A){var P=mn(b)?il:jn,H=p?p():{};return P(b,d,Gt(A,2),H)}}function Dd(d){return vn(function(p,b){var A=-1,P=b.length,H=P>1?b[P-1]:F,K=P>2?b[2]:F;for(H=d.length>3&&"function"==typeof H?(P--,H):F,K&&Je(b[0],b[1],K)&&(H=P<3?F:H,P=1),p=rr(p);++A<P;){var ie=b[A];ie&&d(p,ie,A,H)}return p})}function Id(d,p){return function(b,A){if(null==b)return b;if(!fa(b))return d(b,A);for(var P=b.length,H=p?P:-1,K=rr(b);(p?H--:++H<P)&&!1!==A(K[H],H,K););return b}}function gp(d){return function(p,b,A){for(var P=-1,H=rr(p),K=A(p),ie=K.length;ie--;){var fe=K[d?ie:++P];if(!1===b(H[fe],fe,H))break}return p}}function fh(d){return function(p){var b=xa(p=sr(p))?gs(p):F,A=b?b[0]:p.charAt(0),P=b?zu(b,1).join(""):p.slice(1);return A[d]()+P}}function tu(d){return function(p){return $l(Vv($p(p).replace(Yd,"")),d,"")}}function ph(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Pu(d.prototype),A=d.apply(b,p);return Di(A)?A:b}}function Cd(d){return function(p,b,A){var P=rr(p);if(!fa(p)){var H=Gt(b,3);p=no(p),b=function(ie){return H(P[ie],ie,P)}}var K=d(p,b,A);return K>-1?P[H?p[K]:K]:F}}function gh(d){return Vo(function(p){var b=p.length,A=b,P=qs.prototype.thru;for(d&&p.reverse();A--;){var H=p[A];if("function"!=typeof H)throw new Ii(Ie);if(P&&!K&&"wrapper"==kc(H))var K=new qs([],!0)}for(A=K?A:b;++A<b;){var ie=kc(H=p[A]),fe="wrapper"==ie?Pc(H):F;K=fe&&$t(fe[0])&&424==fe[1]&&!fe[4].length&&1==fe[9]?K[kc(fe[0])].apply(K,fe[3]):1==H.length&&$t(H)?K[ie]():K.thru(H)}return function(){var qe=arguments,We=qe[0];if(K&&1==qe.length&&mn(We))return K.plant(We).value();for(var Xe=0,_t=b?p[Xe].apply(this,qe):We;++Xe<b;)_t=p[Xe].call(this,_t);return _t}})}function Ac(d,p,b,A,P,H,K,ie,fe,qe){var We=128&p,Xe=1&p,_t=2&p,Rt=24&p,Pt=512&p,hn=_t?F:ph(d);return function en(){for(var nn=arguments.length,fn=xe(nn),os=nn;os--;)fn[os]=arguments[os];if(Rt)var ci=wi(en),Bi=Cu(fn,ci);if(A&&(fn=qu(fn,A,P,Rt)),H&&(fn=_f(fn,H,K,Rt)),nn-=Bi,Rt&&nn<qe){var jr=No(fn,ci);return _h(d,p,Ac,en.placeholder,b,fn,jr,ie,fe,qe-nn)}var ro=Xe?b:this,Ho=_t?ro[d]:d;return nn=fn.length,ie?fn=vp(fn,ie):Pt&&nn>1&&fn.reverse(),We&&fe<nn&&(fn.length=fe),this&&this!==$n&&this instanceof en&&(Ho=hn||ph(Ho)),Ho.apply(ro,fn)}}function vf(d,p){return function(b,A){return function Ks(d,p,b,A){return Zt(d,function(P,H,K){p(A,b(P),H,K)}),A}(b,d,p(A),{})}}function yf(d,p){return function(b,A){var P;if(b===F&&A===F)return p;if(b!==F&&(P=b),A!==F){if(P===F)return A;"string"==typeof b||"string"==typeof A?(b=Qs(b),A=Qs(A)):(b=vd(b),A=vd(A)),P=d(b,A)}return P}}function Td(d){return Vo(function(p){return p=Ir(p,Ur(Gt())),vn(function(b){var A=this;return d(p,function(P){return Wi(P,A,b)})})})}function mh(d,p){var b=(p=p===F?" ":Qs(p)).length;if(b<2)return b?ah(p,d):p;var A=ah(p,pl(d/zs(p)));return xa(p)?zu(gs(A),0,d).join(""):A.slice(0,d)}function Ed(d){return function(p,b,A){return A&&"number"!=typeof A&&Je(p,b,A)&&(b=A=F),p=Il(p),b===F?(b=p,p=0):b=Il(b),function Va(d,p,b,A){for(var P=-1,H=ri(pl((p-d)/(b||1)),0),K=xe(H);H--;)K[A?H:++P]=d,d+=b;return K}(p,b,A=A===F?p<b?1:-1:Il(A),d)}}function Nc(d){return function(p,b){return"string"==typeof p&&"string"==typeof b||(p=Cl(p),b=Cl(b)),d(p,b)}}function _h(d,p,b,A,P,H,K,ie,fe,qe){var We=8&p;p|=We?32:64,4&(p&=~(We?64:32))||(p&=-4);var hn=[d,p,P,We?H:F,We?K:F,We?F:H,We?F:K,ie,fe,qe],en=b.apply(F,hn);return $t(d)&&Df(en,hn),en.placeholder=A,Wg(en,d,p)}function Oc(d){var p=Tr[d];return function(b,A){if(b=Cl(b),(A=null==A?0:Xr(In(A),292))&&gc(b)){var P=(sr(b)+"e").split("e");return+((P=(sr(p(P[0]+"e"+(+P[1]+A)))+"e").split("e"))[0]+"e"+(+P[1]-A))}return p(b)}}var vh=na&&1/Gl(new na([,-0]))[1]==Qe?function(d){return new na(d)}:kf;function Ha(d){return function(p){var b=Li(p);return b==hr?jl(p):b==Cn?function id(de){var Be=-1,xe=Array(de.size);return de.forEach(function(It){xe[++Be]=[It,It]}),xe}(p):function Du(de,Be){return Ir(Be,function(xe){return[xe,de[xe]]})}(p,d(p))}}function Xs(d,p,b,A,P,H,K,ie){var fe=2&p;if(!fe&&"function"!=typeof d)throw new Ii(Ie);var qe=A?A.length:0;if(qe||(p&=-97,A=P=F),K=K===F?K:ri(In(K),0),ie=ie===F?ie:In(ie),qe-=P?P.length:0,64&p){var We=A,Xe=P;A=P=F}var _t=fe?F:Pc(d),Rt=[d,p,b,A,P,We,Xe,H,K,ie];if(_t&&function Hg(d,p){var b=d[1],A=p[1],P=b|A;if(!(P<131||(128==A&&8==b||128==A&&256==b&&d[7].length<=p[8]||384==A&&p[7].length<=p[8]&&8==b)))return d;1&A&&(d[2]=p[2],P|=1&b?0:4);var ie=p[3];if(ie){var fe=d[3];d[3]=fe?qu(fe,ie,p[4]):ie,d[4]=fe?No(d[3],J):p[4]}(ie=p[5])&&(d[5]=(fe=d[5])?_f(fe,ie,p[6]):ie,d[6]=fe?No(d[5],J):p[6]),(ie=p[7])&&(d[7]=ie),128&A&&(d[8]=null==d[8]?p[8]:Xr(d[8],p[8])),null==d[9]&&(d[9]=p[9]),d[0]=p[0],d[1]=P}(Rt,_t),d=Rt[0],p=Rt[1],b=Rt[2],A=Rt[3],P=Rt[4],!(ie=Rt[9]=Rt[9]===F?fe?0:d.length:ri(Rt[9]-qe,0))&&24&p&&(p&=-25),p&&1!=p)Pt=8==p||16==p?function Zu(d,p,b){var A=ph(d);return function P(){for(var H=arguments.length,K=xe(H),ie=H,fe=wi(P);ie--;)K[ie]=arguments[ie];var qe=H<3&&K[0]!==fe&&K[H-1]!==fe?[]:No(K,fe);return(H-=qe.length)<b?_h(d,p,Ac,P.placeholder,F,K,qe,F,F,b-H):Wi(this&&this!==$n&&this instanceof P?A:d,this,K)}}(d,p,ie):32!=p&&33!=p||P.length?Ac.apply(F,Rt):function Js(d,p,b,A){var P=1&p,H=ph(d);return function K(){for(var ie=-1,fe=arguments.length,qe=-1,We=A.length,Xe=xe(We+fe),_t=this&&this!==$n&&this instanceof K?H:d;++qe<We;)Xe[qe]=A[qe];for(;fe--;)Xe[qe++]=arguments[++ie];return Wi(_t,P?b:this,Xe)}}(d,p,b,A);else var Pt=function mp(d,p,b){var A=1&p,P=ph(d);return function H(){return(this&&this!==$n&&this instanceof H?P:d).apply(A?b:this,arguments)}}(d,p,b);return Wg((_t?lh:Df)(Pt,Rt),d,p)}function Ku(d,p,b,A){return d===F||_s(d,Xo[b])&&!er.call(A,b)?p:d}function is(d,p,b,A,P,H){return Di(d)&&Di(p)&&(H.set(p,d),yi(d,p,F,is,H),H.delete(p)),d}function Mc(d){return Gc(d)?F:d}function Rc(d,p,b,A,P,H){var K=1&b,ie=d.length,fe=p.length;if(ie!=fe&&!(K&&fe>ie))return!1;var qe=H.get(d),We=H.get(p);if(qe&&We)return qe==p&&We==d;var Xe=-1,_t=!0,Rt=2&b?new ei:F;for(H.set(d,p),H.set(p,d);++Xe<ie;){var Pt=d[Xe],hn=p[Xe];if(A)var en=K?A(hn,Pt,Xe,p,d,H):A(Pt,hn,Xe,d,p,H);if(en!==F){if(en)continue;_t=!1;break}if(Rt){if(!fo(p,function(nn,fn){if(!po(Rt,fn)&&(Pt===nn||P(Pt,nn,b,A,H)))return Rt.push(fn)})){_t=!1;break}}else if(Pt!==hn&&!P(Pt,hn,b,A,H)){_t=!1;break}}return H.delete(d),H.delete(p),_t}function Vo(d){return Gg(wf(d,F,Y_),d+"")}function bi(d){return zn(d,no,Yu)}function Fc(d){return zn(d,qa,Bc)}var Pc=_l?function(d){return _l.get(d)}:kf;function kc(d){for(var p=d.name+"",b=Ci[p],A=er.call(Ci,p)?b.length:0;A--;){var P=b[A],H=P.func;if(null==H||H==d)return P.name}return p}function wi(d){return(er.call(U,"placeholder")?U:d).placeholder}function Gt(){var d=U.iteratee||Mm;return d=d===Mm?oh:d,arguments.length?d(arguments[0],arguments[1]):d}function yh(d,p){var b=d.__data__;return function Kt(d){var p=typeof d;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==d:null===d}(p)?b["string"==typeof p?"string":"hash"]:b.map}function bh(d){for(var p=no(d),b=p.length;b--;){var A=p[b],P=d[A];p[b]=[A,P,Sd(P)]}return p}function Lc(d,p){var b=function Tu(de,Be){return null==de?F:de[Be]}(d,p);return bc(b)?b:F}var Yu=pc?function(d){return null==d?[]:(d=rr(d),Xn(pc(d),function(p){return ad.call(d,p)}))}:au,Bc=pc?function(d){for(var p=[];d;)ho(p,Yu(d)),d=Os(d);return p}:au,Li=oi;function m(d,p,b){for(var A=-1,P=(p=aa(p,d)).length,H=!1;++A<P;){var K=ua(p[A]);if(!(H=null!=d&&b(d,K)))break;d=d[K]}return H||++A!=P?H:!!(P=null==d?0:d.length)&&Fp(P)&&Ce(K,P)&&(mn(d)||Ju(d))}function I(d){return"function"!=typeof d.constructor||la(d)?{}:Pu(Os(d))}function le(d){return mn(d)||Ju(d)||!!(hc&&d&&d[hc])}function Ce(d,p){var b=typeof d;return!!(p=p??Mt)&&("number"==b||"symbol"!=b&&Kn.test(d))&&d>-1&&d%1==0&&d<p}function Je(d,p,b){if(!Di(b))return!1;var A=typeof p;return!!("number"==A?fa(b)&&Ce(p,b.length):"string"==A&&p in b)&&_s(b[p],d)}function St(d,p){if(mn(d))return!1;var b=typeof d;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=d&&!eo(d))||_n.test(d)||!zr.test(d)||null!=p&&d in rr(p)}function $t(d){var p=kc(d),b=U[p];if("function"!=typeof b||!(p in Dn.prototype))return!1;if(d===b)return!0;var A=Pc(b);return!!A&&d===A[0]}(ta&&Li(new ta(new ArrayBuffer(1)))!=Ot||ml&&Li(new ml)!=hr||mo&&Li(mo.resolve())!=yt||na&&Li(new na)!=Cn||Ro&&Li(new Ro)!=br)&&(Li=function(d){var p=oi(d),b=p==yr?d.constructor:F,A=b?Ad(b):"";if(A)switch(A){case Ma:return Ot;case Kl:return hr;case Yl:return yt;case mc:return Cn;case Ql:return br}return p});var Uo=cl?su:ec;function la(d){var p=d&&d.constructor;return d===("function"==typeof p&&p.prototype||Xo)}function Sd(d){return d==d&&!Di(d)}function wh(d,p){return function(b){return null!=b&&b[d]===p&&(p!==F||d in rr(b))}}function wf(d,p,b){return p=ri(p===F?d.length-1:p,0),function(){for(var A=arguments,P=-1,H=ri(A.length-p,0),K=xe(H);++P<H;)K[P]=A[p+P];P=-1;for(var ie=xe(p+1);++P<p;)ie[P]=A[P];return ie[p]=b(K),Wi(d,this,ie)}}function Dh(d,p){return p.length<2?d:$r(d,ko(p,0,-1))}function vp(d,p){for(var b=d.length,A=Xr(p.length,b),P=Gn(d);A--;){var H=p[A];d[A]=Ce(H,b)?P[H]:F}return d}function jg(d,p){if(("constructor"!==p||"function"!=typeof d[p])&&"__proto__"!=p)return d[p]}var Df=H_(lh),$c=fc||function(d,p){return $n.setTimeout(d,p)},Gg=H_($_);function Wg(d,p,b){var A=p+"";return Gg(d,function V(d,p){var b=p.length;if(!b)return d;var A=b-1;return p[A]=(b>1?"& ":"")+p[A],p=p.join(b>2?", ":" "),d.replace(kr,"{\n/* [wrapped with "+p+"] */\n")}(A,function bp(d,p){return ns(Bn,function(b){var A="_."+b[0];p&b[1]&&!Yt(d,A)&&d.push(A)}),d.sort()}(function w(d){var p=d.match(mt);return p?p[1].split(zt):[]}(A),b)))}function H_(d){var p=0,b=0;return function(){var A=ea(),P=16-(A-b);if(b=A,P>0){if(++p>=800)return arguments[0]}else p=0;return d.apply(F,arguments)}}function yp(d,p){var b=-1,A=d.length,P=A-1;for(p=p===F?A:p;++b<p;){var H=oa(b,P),K=d[H];d[H]=d[b],d[b]=K}return d.length=p,d}var zg=function bf(d){var p=Fd(d,function(A){return 500===b.size&&b.clear(),A}),b=p.cache;return p}(function(d){var p=[];return 46===d.charCodeAt(0)&&p.push(""),d.replace(an,function(b,A,P,H){p.push(P?H.replace(ds,"$1"):A||b)}),p});function ua(d){if("string"==typeof d||eo(d))return d;var p=d+"";return"0"==p&&1/d==-Qe?"-0":p}function Ad(d){if(null!=d){try{return Su.call(d)}catch{}try{return d+""}catch{}}return""}function Nd(d){if(d instanceof Dn)return d.clone();var p=new qs(d.__wrapped__,d.__chain__);return p.__actions__=Gn(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}var G_=vn(function(d,p){return ui(d)?x(d,nt(p,1,ui,!0)):[]}),eD=vn(function(d,p){var b=ca(p);return ui(b)&&(b=F),ui(d)?x(d,nt(p,1,ui,!0),Gt(b,2)):[]}),W_=vn(function(d,p){var b=ca(p);return ui(b)&&(b=F),ui(d)?x(d,nt(p,1,ui,!0),F,b):[]});function K_(d,p,b){var A=null==d?0:d.length;if(!A)return-1;var P=null==b?0:In(b);return P<0&&(P=ri(A+P,0)),sl(d,Gt(p,3),P)}function wp(d,p,b){var A=null==d?0:d.length;if(!A)return-1;var P=A-1;return b!==F&&(P=In(b),P=b<0?ri(A+P,0):Xr(P,A-1)),sl(d,Gt(p,3),P,!0)}function Y_(d){return null!=d&&d.length?nt(d,1):[]}function Kg(d){return d&&d.length?d[0]:F}var Tf=vn(function(d){var p=Ir(d,pf);return p.length&&p[0]===d[0]?ka(p):[]}),Yg=vn(function(d){var p=ca(d),b=Ir(d,pf);return p===ca(b)?p=F:b.pop(),b.length&&b[0]===d[0]?ka(b,Gt(p,2)):[]}),S0=vn(function(d){var p=ca(d),b=Ir(d,pf);return(p="function"==typeof p?p:F)&&b.pop(),b.length&&b[0]===d[0]?ka(b,F,p):[]});function ca(d){var p=null==d?0:d.length;return p?d[p-1]:F}var A0=vn(Dp);function Dp(d,p){return d&&d.length&&p&&p.length?Dc(d,p):d}var Jg=Vo(function(d,p){var b=null==d?0:d.length,A=Fs(d,p);return hf(d,Ir(p,function(P){return Ce(P,b)?+P:P}).sort(Ec)),A});function Ip(d){return null==d?d:Fu.call(d)}var Ef=vn(function(d){return _o(nt(d,1,ui,!0))}),iv=vn(function(d){var p=ca(d);return ui(p)&&(p=F),_o(nt(d,1,ui,!0),Gt(p,2))}),F0=vn(function(d){var p=ca(d);return p="function"==typeof p?p:F,_o(nt(d,1,ui,!0),F,p)});function k0(d){if(!d||!d.length)return[];var p=0;return d=Xn(d,function(b){if(ui(b))return p=ri(b.length,p),!0}),uc(p,function(b){return Ir(d,ps(b))})}function Md(d,p){if(!d||!d.length)return[];var b=k0(d);return null==p?b:Ir(b,function(A){return Wi(p,F,A)})}var em=vn(function(d,p){return ui(d)?x(d,p):[]}),L0=vn(function(d){return yd(Xn(d,ui))}),B0=vn(function(d){var p=ca(d);return ui(p)&&(p=F),yd(Xn(d,ui),Gt(p,2))}),ov=vn(function(d){var p=ca(d);return p="function"==typeof p?p:F,yd(Xn(d,ui),F,p)}),iD=vn(k0),aD=vn(function(d){var p=d.length,b=p>1?d[p-1]:F;return b="function"==typeof b?(d.pop(),b):F,Md(d,b)});function V0(d){var p=U(d);return p.__chain__=!0,p}function xf(d,p){return p(d)}var Ih=Vo(function(d){var p=d.length,b=p?d[0]:0,A=this.__wrapped__,P=function(H){return Fs(H,d)};return!(p>1||this.__actions__.length)&&A instanceof Dn&&Ce(b)?((A=A.slice(b,+b+(p?1:0))).__actions__.push({func:xf,args:[P],thisArg:F}),new qs(A,this.__chain__).thru(function(H){return p&&!H.length&&H.push(F),H})):this.thru(P)}),Ep=Sc(function(d,p,b){er.call(d,b)?++d[b]:Pi(d,b,1)}),xp=Cd(K_),Sp=Cd(wp);function Ap(d,p){return(mn(d)?ns:N)(d,Gt(p,3))}function Sf(d,p){return(mn(d)?co:k)(d,Gt(p,3))}var cv=Sc(function(d,p,b){er.call(d,b)?d[b].push(p):Pi(d,b,[p])}),Op=vn(function(d,p,b){var A=-1,P="function"==typeof p,H=fa(d)?xe(d.length):[];return N(d,function(K){H[++A]=P?Wi(p,K,b):yl(K,p,b)}),H}),dv=Sc(function(d,p,b){Pi(d,b,p)});function xh(d,p){return(mn(d)?Ir:sa)(d,Gt(p,3))}var nm=Sc(function(d,p,b){d[b?0:1].push(p)},function(){return[[],[]]}),Sh=vn(function(d,p){if(null==d)return[];var b=p.length;return b>1&&Je(d,p[0],p[1])?p=[]:b>2&&Je(p[0],p[1],p[2])&&(p=[p[0]]),Ba(d,nt(p,1),[])}),Hc=Ou||function(){return $n.Date.now()};function Of(d,p,b){return p=b?F:p,Xs(d,128,F,F,F,F,p=d&&null==p?d.length:p)}function rm(d,p){var b;if("function"!=typeof p)throw new Ii(Ie);return d=In(d),function(){return--d>0&&(b=p.apply(this,arguments)),d<=1&&(p=F),b}}var jc=vn(function(d,p,b){var A=1;if(b.length){var P=No(b,wi(jc));A|=32}return Xs(d,A,p,b,P)}),$o=vn(function(d,p,b){var A=3;if(b.length){var P=No(b,wi($o));A|=32}return Xs(p,A,d,b,P)});function ru(d,p,b){var A,P,H,K,ie,fe,qe=0,We=!1,Xe=!1,_t=!0;if("function"!=typeof d)throw new Ii(Ie);function Rt(jr){var ro=A,Ho=P;return A=P=F,qe=jr,K=d.apply(Ho,ro)}function Pt(jr){return qe=jr,ie=$c(nn,p),We?Rt(jr):K}function en(jr){var ro=jr-fe;return fe===F||ro>=p||ro<0||Xe&&jr-qe>=H}function nn(){var jr=Hc();if(en(jr))return fn(jr);ie=$c(nn,function hn(jr){var Bd=p-(jr-fe);return Xe?Xr(Bd,H-(jr-qe)):Bd}(jr))}function fn(jr){return ie=F,_t&&A?Rt(jr):(A=P=F,K)}function Bi(){var jr=Hc(),ro=en(jr);if(A=arguments,P=this,fe=jr,ro){if(ie===F)return Pt(fe);if(Xe)return mf(ie),ie=$c(nn,p),Rt(fe)}return ie===F&&(ie=$c(nn,p)),K}return p=Cl(p)||0,Di(b)&&(We=!!b.leading,H=(Xe="maxWait"in b)?ri(Cl(b.maxWait)||0,p):H,_t="trailing"in b?!!b.trailing:_t),Bi.cancel=function os(){ie!==F&&mf(ie),qe=0,A=fe=P=ie=F},Bi.flush=function ci(){return ie===F?K:fn(Hc())},Bi}var $0=vn(function(d,p){return nh(d,1,p)}),iu=vn(function(d,p,b){return nh(d,Cl(p)||0,b)});function Fd(d,p){if("function"!=typeof d||null!=p&&"function"!=typeof p)throw new Ii(Ie);var b=function(){var A=arguments,P=p?p.apply(this,A):A[0],H=b.cache;if(H.has(P))return H.get(P);var K=d.apply(this,A);return b.cache=H.set(P,K)||H,K};return b.cache=new(Fd.Cache||xt),b}function Mf(d){if("function"!=typeof d)throw new Ii(Ie);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}Fd.Cache=xt;var H0=ch(function(d,p){var b=(p=1==p.length&&mn(p[0])?Ir(p[0],Ur(Gt())):Ir(nt(p,1),Ur(Gt()))).length;return vn(function(A){for(var P=-1,H=Xr(A.length,b);++P<H;)A[P]=p[P].call(this,A[P]);return Wi(d,this,A)})}),on=vn(function(d,p){var b=No(p,wi(on));return Xs(d,32,F,p,b)}),sm=vn(function(d,p){var b=No(p,wi(sm));return Xs(d,64,F,p,b)}),Nh=Vo(function(d,p){return Xs(d,256,F,F,F,p)});function _s(d,p){return d===p||d!=d&&p!=p}var hm=Nc(ia),fm=Nc(function(d,p){return d>=p}),Ju=uf(function(){return arguments}())?uf:function(d){return Ti(d)&&er.call(d,"callee")&&!ad.call(d,"callee")},mn=xe.isArray,uD=As?Ur(As):function rh(d){return Ti(d)&&oi(d)==kt};function fa(d){return null!=d&&Fp(d.length)&&!su(d)}function ui(d){return Ti(d)&&fa(d)}var Dl=Oa||ec,cD=ts?Ur(ts):function Ug(d){return Ti(d)&&oi(d)==Si};function Rh(d){if(!Ti(d))return!1;var p=oi(d);return p==Pn||"[object DOMException]"==p||"string"==typeof d.message&&"string"==typeof d.name&&!Gc(d)}function su(d){if(!Di(d))return!1;var p=oi(d);return p==Gr||p==Ji||"[object AsyncFunction]"==p||"[object Proxy]"==p}function mv(d){return"number"==typeof d&&d==In(d)}function Fp(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=Mt}function Di(d){var p=typeof d;return null!=d&&("object"==p||"function"==p)}function Ti(d){return null!=d&&"object"==typeof d}var _v=_u?Ur(_u):function yc(d){return Ti(d)&&Li(d)==hr};function gm(d){return"number"==typeof d||Ti(d)&&oi(d)==Sr}function Gc(d){if(!Ti(d)||oi(d)!=yr)return!1;var p=Os(d);if(null===p)return!0;var b=er.call(p,"constructor")&&p.constructor;return"function"==typeof b&&b instanceof b&&Su.call(b)==dc}var yv=rl?Ur(rl):function ih(d){return Ti(d)&&oi(d)==Hi},mm=So?Ur(So):function cp(d){return Ti(d)&&Li(d)==Cn};function Ff(d){return"string"==typeof d||!mn(d)&&Ti(d)&&oi(d)==tr}function eo(d){return"symbol"==typeof d||Ti(d)&&oi(d)==Ni}var to=Nn?Ur(Nn):function sh(d){return Ti(d)&&Fp(d.length)&&!!Qn[oi(d)]},Xu=Nc(Hr),ym=Nc(function(d,p){return d<=p});function bv(d){if(!d)return[];if(fa(d))return Ff(d)?gs(d):Gn(d);if(xr&&d[xr])return function rd(de){for(var Be,xe=[];!(Be=de.next()).done;)xe.push(Be.value);return xe}(d[xr]());var p=Li(d);return(p==hr?jl:p==Cn?Gl:Tl)(d)}function Il(d){return d?(d=Cl(d))===Qe||d===-Qe?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function In(d){var p=Il(d),b=p%1;return p==p?b?p-b:p:0}function bm(d){return d?Zs(In(d),0,pt):0}function Cl(d){if("number"==typeof d)return d;if(eo(d))return NaN;if(Di(d)){var p="function"==typeof d.valueOf?d.valueOf():d;d=Di(p)?p+"":p}if("string"!=typeof d)return 0===d?d:+d;d=Vr(d);var b=$s.test(d);return b||tn.test(d)?Ss(d.slice(2),b?2:8):lr.test(d)?NaN:+d}function Pf(d){return Bo(d,qa(d))}function sr(d){return null==d?"":Qs(d)}var wm=Dd(function(d,p){if(la(p)||fa(p))Bo(p,no(p),d);else for(var b in p)er.call(p,b)&&Mr(d,b,p[b])}),Lp=Dd(function(d,p){Bo(p,qa(p),d)}),Dm=Dd(function(d,p,b,A){Bo(p,qa(p),d,A)}),J0=Dd(function(d,p,b,A){Bo(p,no(p),d,A)}),X0=Vo(Fs),eb=vn(function(d,p){d=rr(d);var b=-1,A=p.length,P=A>2?p[2]:F;for(P&&Je(p[0],p[1],P)&&(A=1);++b<A;)for(var H=p[b],K=qa(H),ie=-1,fe=K.length;++ie<fe;){var qe=K[ie],We=d[qe];(We===F||_s(We,Xo[qe])&&!er.call(d,qe))&&(d[qe]=H[qe])}return d}),wv=vn(function(d){return d.push(F,is),Wi(ib,F,d)});function rb(d,p,b){var A=null==d?F:$r(d,p);return A===F?b:A}function Cv(d,p){return null!=d&&m(d,p,Fa)}var vD=vf(function(d,p,b){null!=p&&"function"!=typeof p.toString&&(p=Mo.call(p)),d[p]=b},Hv(ga)),RE=vf(function(d,p,b){null!=p&&"function"!=typeof p.toString&&(p=Mo.call(p)),er.call(d,p)?d[p].push(b):d[p]=[b]},Gt),FE=vn(yl);function no(d){return fa(d)?md(d):ai(d)}function qa(d){return fa(d)?md(d,!0):function ki(d){if(!Di(d))return function Vc(d){var p=[];if(null!=d)for(var b in rr(d))p.push(b);return p}(d);var p=la(d),b=[];for(var A in d)"constructor"==A&&(p||!er.call(d,A))||b.push(A);return b}(d)}var Im=Dd(function(d,p,b){yi(d,p,b)}),ib=Dd(function(d,p,b,A){yi(d,p,b,A)}),sb=Vo(function(d,p){var b={};if(null==d)return b;var A=!1;p=Ir(p,function(H){return H=aa(H,d),A||(A=H.length>1),H}),Bo(d,Fc(d),b),A&&(b=vi(b,7,Mc));for(var P=p.length;P--;)Lo(b,p[P]);return b}),ob=Vo(function(d,p){return null==d?{}:function cf(d,p){return df(d,p,function(b,A){return Cv(d,A)})}(d,p)});function Bp(d,p){if(null==d)return{};var b=Ir(Fc(d),function(A){return[A]});return p=Gt(p),df(d,b,function(A,P){return p(A,P[0])})}var xv=Ha(no),Sv=Ha(qa);function Tl(d){return null==d?[]:Iu(d,no(d))}var Nv=tu(function(d,p,b){return p=p.toLowerCase(),d+(b?Em(p):p)});function Em(d){return Om(sr(d).toLowerCase())}function $p(d){return(d=sr(d))&&d.replace(Hs,ap).replace(Qd,"")}var ub=tu(function(d,p,b){return d+(b?"-":"")+p.toLowerCase()}),bD=tu(function(d,p,b){return d+(b?" ":"")+p.toLowerCase()}),cb=fh("toLowerCase"),Pv=tu(function(d,p,b){return d+(b?"_":"")+p.toLowerCase()}),wD=tu(function(d,p,b){return d+(b?" ":"")+Om(p)}),vb=tu(function(d,p,b){return d+(b?" ":"")+p.toUpperCase()}),Om=fh("toUpperCase");function Vv(d,p,b){return d=sr(d),(p=b?F:p)===F?function Eu(de){return xo.test(de)}(d)?function od(de){return de.match(tf)||[]}(d):function Ze(de){return de.match(Un)||[]}(d):d.match(p)||[]}var Uv=vn(function(d,p){try{return Wi(d,F,p)}catch(b){return Rh(b)?b:new Qt(b)}}),DD=Vo(function(d,p){return ns(p,function(b){b=ua(b),Pi(d,b,jc(d[b],d))}),d});function Hv(d){return function(){return d}}var kE=gh(),yb=gh(!0);function ga(d){return d}function Mm(d){return oh("function"==typeof d?d:vi(d,1))}var CD=vn(function(d,p){return function(b){return yl(b,d,p)}}),wb=vn(function(d,p){return function(b){return yl(d,b,p)}});function kh(d,p,b){var A=no(p),P=gr(p,A);null==b&&(!Di(p)||!P.length&&A.length)&&(b=p,p=d,d=this,P=gr(p,no(p)));var H=!(Di(b)&&"chain"in b&&!b.chain),K=su(d);return ns(P,function(ie){var fe=p[ie];d[ie]=fe,K&&(d.prototype[ie]=function(){var qe=this.__chain__;if(H||qe){var We=d(this.__wrapped__),Xe=We.__actions__=Gn(this.__actions__);return Xe.push({func:fe,args:arguments,thisArg:d}),We.__chain__=qe,We}return fe.apply(d,ho([this.value()],arguments))})}),d}function kf(){}var Wv=Td(Ir),ED=Td(vu),zv=Td(fo);function qv(d){return St(d)?ps(ua(d)):function fp(d){return function(p){return $r(p,d)}}(d)}var Zv=Ed(),Rm=Ed(!0);function au(){return[]}function ec(){return!1}var Kv=yf(function(d,p){return d+p},0),jp=Oc("ceil"),xD=yf(function(d,p){return d/p},1),LE=Oc("floor"),Lm=yf(function(d,p){return d*p},1),Eb=Oc("round"),Ld=yf(function(d,p){return d-p},0);return U.after=function Ah(d,p){if("function"!=typeof p)throw new Ii(Ie);return d=In(d),function(){if(--d<1)return p.apply(this,arguments)}},U.ary=Of,U.assign=wm,U.assignIn=Lp,U.assignInWith=Dm,U.assignWith=J0,U.at=X0,U.before=rm,U.bind=jc,U.bindAll=DD,U.bindKey=$o,U.castArray=function pv(){if(!arguments.length)return[];var d=arguments[0];return mn(d)?d:[d]},U.chain=V0,U.chunk=function T0(d,p,b){p=(b?Je(d,p,b):p===F)?1:ri(In(p),0);var A=null==d?0:d.length;if(!A||p<1)return[];for(var P=0,H=0,K=xe(pl(A/p));P<A;)K[H++]=ko(d,P,P+=p);return K},U.compact=function E0(d){for(var p=-1,b=null==d?0:d.length,A=0,P=[];++p<b;){var H=d[p];H&&(P[A++]=H)}return P},U.concat=function j_(){var d=arguments.length;if(!d)return[];for(var p=xe(d-1),b=arguments[0],A=d;A--;)p[A-1]=arguments[A];return ho(mn(b)?Gn(b):[b],nt(p,1))},U.cond=function ou(d){var p=null==d?0:d.length,b=Gt();return d=p?Ir(d,function(A){if("function"!=typeof A[1])throw new Ii(Ie);return[b(A[0]),A[1]]}):[],vn(function(A){for(var P=-1;++P<p;){var H=d[P];if(Wi(H[0],this,A))return Wi(H[1],this,A)}})},U.conforms=function $v(d){return function vc(d){var p=no(d);return function(b){return ti(b,d,p)}}(vi(d,1))},U.constant=Hv,U.countBy=Ep,U.create=function fD(d,p){var b=Pu(d);return null==p?b:wt(b,p)},U.curry=function Mp(d,p,b){var A=Xs(d,8,F,F,F,F,F,p=b?F:p);return A.placeholder=Mp.placeholder,A},U.curryRight=function im(d,p,b){var A=Xs(d,16,F,F,F,F,F,p=b?F:p);return A.placeholder=im.placeholder,A},U.debounce=ru,U.defaults=eb,U.defaultsDeep=wv,U.defer=$0,U.delay=iu,U.difference=G_,U.differenceBy=eD,U.differenceWith=W_,U.drop=function x0(d,p,b){var A=null==d?0:d.length;return A?ko(d,(p=b||p===F?1:In(p))<0?0:p,A):[]},U.dropRight=function z_(d,p,b){var A=null==d?0:d.length;return A?ko(d,0,(p=A-(p=b||p===F?1:In(p)))<0?0:p):[]},U.dropRightWhile=function qg(d,p){return d&&d.length?eu(d,Gt(p,3),!0,!0):[]},U.dropWhile=function q_(d,p){return d&&d.length?eu(d,Gt(p,3),!0):[]},U.fill=function Z_(d,p,b,A){var P=null==d?0:d.length;return P?(b&&"number"!=typeof b&&Je(d,p,b)&&(b=0,A=P),function Te(d,p,b,A){var P=d.length;for((b=In(b))<0&&(b=-b>P?0:P+b),(A=A===F||A>P?P:In(A))<0&&(A+=P),A=b>A?0:bm(A);b<A;)d[b++]=p;return d}(d,p,b,A)):[]},U.filter=function Th(d,p){return(mn(d)?Xn:Ge)(d,Gt(p,3))},U.flatMap=function lv(d,p){return nt(xh(d,p),1)},U.flatMapDeep=function Eh(d,p){return nt(xh(d,p),Qe)},U.flatMapDepth=function uv(d,p,b){return b=b===F?1:In(b),nt(xh(d,p),b)},U.flatten=Y_,U.flattenDeep=function Zg(d){return null!=d&&d.length?nt(d,Qe):[]},U.flattenDepth=function vo(d,p){return null!=d&&d.length?nt(d,p=p===F?1:In(p)):[]},U.flip=function Rp(d){return Xs(d,512)},U.flow=kE,U.flowRight=yb,U.fromPairs=function If(d){for(var p=-1,b=null==d?0:d.length,A={};++p<b;){var P=d[p];A[P[0]]=P[1]}return A},U.functions=function Iv(d){return null==d?[]:gr(d,no(d))},U.functionsIn=function ME(d){return null==d?[]:gr(d,qa(d))},U.groupBy=cv,U.initial=function ks(d){return null!=d&&d.length?ko(d,0,-1):[]},U.intersection=Tf,U.intersectionBy=Yg,U.intersectionWith=S0,U.invert=vD,U.invertBy=RE,U.invokeMap=Op,U.iteratee=Mm,U.keyBy=dv,U.keys=no,U.keysIn=qa,U.map=xh,U.mapKeys=function PE(d,p){var b={};return p=Gt(p,3),Zt(d,function(A,P,H){Pi(b,p(A,P,H),A)}),b},U.mapValues=function Wc(d,p){var b={};return p=Gt(p,3),Zt(d,function(A,P,H){Pi(b,P,p(A,P,H))}),b},U.matches=function bb(d){return La(vi(d,1))},U.matchesProperty=function jv(d,p){return dp(d,vi(p,1))},U.memoize=Fd,U.merge=Im,U.mergeWith=ib,U.method=CD,U.methodOf=wb,U.mixin=kh,U.negate=Mf,U.nthArg=function TD(d){return d=In(d),vn(function(p){return wc(p,d)})},U.omit=sb,U.omitBy=function Tv(d,p){return Bp(d,Mf(Gt(p)))},U.once=function Rf(d){return rm(2,d)},U.orderBy=function hv(d,p,b,A){return null==d?[]:(mn(p)||(p=null==p?[]:[p]),mn(b=A?F:b)||(b=null==b?[]:[b]),Ba(d,p,b))},U.over=Wv,U.overArgs=H0,U.overEvery=ED,U.overSome=zv,U.partial=on,U.partialRight=sm,U.partition=nm,U.pick=ob,U.pickBy=Bp,U.property=qv,U.propertyOf=function Db(d){return function(p){return null==d?F:$r(d,p)}},U.pull=A0,U.pullAll=Dp,U.pullAllBy=function N0(d,p,b){return d&&d.length&&p&&p.length?Dc(d,p,Gt(b,2)):d},U.pullAllWith=function tD(d,p,b){return d&&d.length&&p&&p.length?Dc(d,p,F,b):d},U.pullAt=Jg,U.range=Zv,U.rangeRight=Rm,U.rearg=Nh,U.reject=function fv(d,p){return(mn(d)?Xn:Ge)(d,Mf(Gt(p,3)))},U.remove=function O0(d,p){var b=[];if(!d||!d.length)return b;var A=-1,P=[],H=d.length;for(p=Gt(p,3);++A<H;){var K=d[A];p(K,A,d)&&(b.push(K),P.push(A))}return hf(d,P),b},U.rest=function om(d,p){if("function"!=typeof d)throw new Ii(Ie);return vn(d,p=p===F?p:In(p))},U.reverse=Ip,U.sampleSize=function Rd(d,p,b){return p=(b?Je(d,p,b):p===F)?1:In(p),(mn(d)?Uu:_d)(d,p)},U.set=function Pd(d,p,b){return null==d?d:Ic(d,p,b)},U.setWith=function Ev(d,p,b,A){return A="function"==typeof A?A:F,null==d?d:Ic(d,p,b,A)},U.shuffle=function ha(d){return(mn(d)?$u:Gu)(d)},U.slice=function Od(d,p,b){var A=null==d?0:d.length;return A?(b&&"number"!=typeof b&&Je(d,p,b)?(p=0,b=A):(p=null==p?0:In(p),b=b===F?A:In(b)),ko(d,p,b)):[]},U.sortBy=Sh,U.sortedUniq=function rD(d){return d&&d.length?$g(d):[]},U.sortedUniqBy=function ja(d,p){return d&&d.length?$g(d,Gt(p,2)):[]},U.split=function Am(d,p,b){return b&&"number"!=typeof b&&Je(d,p,b)&&(p=b=F),(b=b===F?pt:b>>>0)?(d=sr(d))&&("string"==typeof p||null!=p&&!yv(p))&&!(p=Qs(p))&&xa(d)?zu(gs(d),0,b):d.split(p,b):[]},U.spread=function am(d,p){if("function"!=typeof d)throw new Ii(Ie);return p=null==p?0:ri(In(p),0),vn(function(b){var A=b[p],P=zu(b,0,p);return A&&ho(P,A),Wi(d,this,P)})},U.tail=function Cp(d){var p=null==d?0:d.length;return p?ko(d,1,p):[]},U.take=function Xg(d,p,b){return d&&d.length?ko(d,0,(p=b||p===F?1:In(p))<0?0:p):[]},U.takeRight=function tv(d,p,b){var A=null==d?0:d.length;return A?ko(d,(p=A-(p=b||p===F?1:In(p)))<0?0:p,A):[]},U.takeRightWhile=function nv(d,p){return d&&d.length?eu(d,Gt(p,3),!1,!0):[]},U.takeWhile=function rv(d,p){return d&&d.length?eu(d,Gt(p,3)):[]},U.tap=function lD(d,p){return p(d),d},U.throttle=function j0(d,p,b){var A=!0,P=!0;if("function"!=typeof d)throw new Ii(Ie);return Di(b)&&(A="leading"in b?!!b.leading:A,P="trailing"in b?!!b.trailing:P),ru(d,p,{leading:A,maxWait:p,trailing:P})},U.thru=xf,U.toArray=bv,U.toPairs=xv,U.toPairsIn=Sv,U.toPath=function Hp(d){return mn(d)?Ir(d,ua):eo(d)?[d]:Gn(zg(sr(d)))},U.toPlainObject=Pf,U.transform=function Av(d,p,b){var A=mn(d),P=A||Dl(d)||to(d);if(p=Gt(p,4),null==b){var H=d&&d.constructor;b=P?A?new H:[]:Di(d)&&su(H)?Pu(Os(d)):{}}return(P?ns:Zt)(d,function(K,ie,fe){return p(b,K,ie,fe)}),b},U.unary=function lm(d){return Of(d,1)},U.union=Ef,U.unionBy=iv,U.unionWith=F0,U.uniq=function Tp(d){return d&&d.length?_o(d):[]},U.uniqBy=function sv(d,p){return d&&d.length?_o(d,Gt(p,2)):[]},U.uniqWith=function P0(d,p){return p="function"==typeof p?p:F,d&&d.length?_o(d,F,p):[]},U.unset=function lb(d,p){return null==d||Lo(d,p)},U.unzip=k0,U.unzipWith=Md,U.update=function yD(d,p,b){return null==d?d:Wu(d,p,gf(b))},U.updateWith=function Vp(d,p,b,A){return A="function"==typeof A?A:F,null==d?d:Wu(d,p,gf(b),A)},U.values=Tl,U.valuesIn=function Cm(d){return null==d?[]:Iu(d,qa(d))},U.without=em,U.words=Vv,U.wrap=function G0(d,p){return on(gf(p),d)},U.xor=L0,U.xorBy=B0,U.xorWith=ov,U.zip=iD,U.zipObject=function sD(d,p){return Cc(d||[],p||[],Mr)},U.zipObjectDeep=function oD(d,p){return Cc(d||[],p||[],Ic)},U.zipWith=aD,U.entries=xv,U.entriesIn=Sv,U.extend=Lp,U.extendWith=Dm,kh(U,U),U.add=Kv,U.attempt=Uv,U.camelCase=Nv,U.capitalize=Em,U.ceil=jp,U.clamp=function Ph(d,p,b){return b===F&&(b=p,p=F),b!==F&&(b=(b=Cl(b))==b?b:0),p!==F&&(p=(p=Cl(p))==p?p:0),Zs(Cl(d),p,b)},U.clone=function Oh(d){return vi(d,4)},U.cloneDeep=function W0(d){return vi(d,5)},U.cloneDeepWith=function cm(d,p){return vi(d,5,p="function"==typeof p?p:F)},U.cloneWith=function um(d,p){return vi(d,4,p="function"==typeof p?p:F)},U.conformsTo=function dm(d,p){return null==p||ti(d,p,no(p))},U.deburr=$p,U.defaultTo=function ID(d,p){return null==d||d!=d?p:d},U.divide=xD,U.endsWith=function xm(d,p,b){d=sr(d),p=Qs(p);var A=d.length,P=b=b===F?A:Zs(In(b),0,A);return(b-=p.length)>=0&&d.slice(b,P)==p},U.eq=_s,U.escape=function Ov(d){return(d=sr(d))&&ct.test(d)?d.replace(re,nd):d},U.escapeRegExp=function Sm(d){return(d=sr(d))&&wr.test(d)?d.replace(ar,"\\$&"):d},U.every=function Ch(d,p,b){var A=mn(d)?vu:q;return b&&Je(d,p,b)&&(p=F),A(d,Gt(p,3))},U.find=xp,U.findIndex=K_,U.findKey=function pD(d,p){return yn(d,Gt(p,3),Zt)},U.findLast=Sp,U.findLastIndex=wp,U.findLastKey=function tb(d,p){return yn(d,Gt(p,3),Ut)},U.floor=LE,U.forEach=Ap,U.forEachRight=Sf,U.forIn=function gD(d,p){return null==d?d:Vt(d,Gt(p,3),qa)},U.forInRight=function Dv(d,p){return null==d?d:Ht(d,Gt(p,3),qa)},U.forOwn=function nb(d,p){return d&&Zt(d,Gt(p,3))},U.forOwnRight=function mD(d,p){return d&&Ut(d,Gt(p,3))},U.get=rb,U.gt=hm,U.gte=fm,U.has=function _D(d,p){return null!=d&&m(d,p,Xl)},U.hasIn=Cv,U.head=Kg,U.identity=ga,U.includes=function Np(d,p,b,A){d=fa(d)?d:Tl(d),b=b&&!A?In(b):0;var P=d.length;return b<0&&(b=ri(P+b,0)),Ff(d)?b<=P&&d.indexOf(p,b)>-1:!!P&&Jo(d,p,b)>-1},U.indexOf=function Cf(d,p,b){var A=null==d?0:d.length;if(!A)return-1;var P=null==b?0:In(b);return P<0&&(P=ri(A+P,0)),Jo(d,p,P)},U.inRange=function Tm(d,p,b){return p=Il(p),b===F?(b=p,p=0):b=Il(b),function Pa(d,p,b){return d>=Xr(p,b)&&d<ri(p,b)}(d=Cl(d),p,b)},U.invoke=FE,U.isArguments=Ju,U.isArray=mn,U.isArrayBuffer=uD,U.isArrayLike=fa,U.isArrayLikeObject=ui,U.isBoolean=function z0(d){return!0===d||!1===d||Ti(d)&&oi(d)==Xt},U.isBuffer=Dl,U.isDate=cD,U.isElement=function q0(d){return Ti(d)&&1===d.nodeType&&!Gc(d)},U.isEmpty=function Mh(d){if(null==d)return!0;if(fa(d)&&(mn(d)||"string"==typeof d||"function"==typeof d.splice||Dl(d)||to(d)||Ju(d)))return!d.length;var p=Li(d);if(p==hr||p==Cn)return!d.size;if(la(d))return!ai(d).length;for(var b in d)if(er.call(d,b))return!1;return!0},U.isEqual=function Z0(d,p){return Hu(d,p)},U.isEqualWith=function gv(d,p,b){var A=(b="function"==typeof b?b:F)?b(d,p):F;return A===F?Hu(d,p,F,b):!!A},U.isError=Rh,U.isFinite=function K0(d){return"number"==typeof d&&gc(d)},U.isFunction=su,U.isInteger=mv,U.isLength=Fp,U.isMap=_v,U.isMatch=function vv(d,p){return d===p||up(d,p,bh(p))},U.isMatchWith=function dD(d,p,b){return b="function"==typeof b?b:F,up(d,p,bh(p),b)},U.isNaN=function Y0(d){return gm(d)&&d!=+d},U.isNative=function pm(d){if(Uo(d))throw new Qt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return bc(d)},U.isNil=function hD(d){return null==d},U.isNull=function Pp(d){return null===d},U.isNumber=gm,U.isObject=Di,U.isObjectLike=Ti,U.isPlainObject=Gc,U.isRegExp=yv,U.isSafeInteger=function Fh(d){return mv(d)&&d>=-Mt&&d<=Mt},U.isSet=mm,U.isString=Ff,U.isSymbol=eo,U.isTypedArray=to,U.isUndefined=function _m(d){return d===F},U.isWeakMap=function Q0(d){return Ti(d)&&Li(d)==br},U.isWeakSet=function vm(d){return Ti(d)&&"[object WeakSet]"==oi(d)},U.join=function Q_(d,p){return null==d?"":gl.call(d,p)},U.kebabCase=ub,U.last=ca,U.lastIndexOf=function Qg(d,p,b){var A=null==d?0:d.length;if(!A)return-1;var P=A;return b!==F&&(P=(P=In(b))<0?ri(A+P,0):Xr(P,A-1)),p==p?function ll(de,Be,xe){for(var It=xe+1;It--;)if(de[It]===Be)return It;return It}(d,p,P):sl(d,bu,P,!0)},U.lowerCase=bD,U.lowerFirst=cb,U.lt=Xu,U.lte=ym,U.max=function Ib(d){return d&&d.length?he(d,ga,ia):F},U.maxBy=function Bf(d,p){return d&&d.length?he(d,Gt(p,2),ia):F},U.mean=function Cb(d){return ol(d,ga)},U.meanBy=function SD(d,p){return ol(d,Gt(p,2))},U.min=function Tb(d){return d&&d.length?he(d,ga,Hr):F},U.minBy=function km(d,p){return d&&d.length?he(d,Gt(p,2),Hr):F},U.stubArray=au,U.stubFalse=ec,U.stubObject=function Fm(){return{}},U.stubString=function Lf(){return""},U.stubTrue=function Pm(){return!0},U.multiply=Lm,U.nth=function J_(d,p){return d&&d.length?wc(d,In(p)):F},U.noConflict=function Gv(){return $n._===this&&($n._=Au),this},U.noop=kf,U.now=Hc,U.pad=function Mv(d,p,b){d=sr(d);var A=(p=In(p))?zs(d):0;if(!p||A>=p)return d;var P=(p-A)/2;return mh(go(P),b)+d+mh(pl(P),b)},U.padEnd=function db(d,p,b){d=sr(d);var A=(p=In(p))?zs(d):0;return p&&A<p?d+mh(p-A,b):d},U.padStart=function Rv(d,p,b){d=sr(d);var A=(p=In(p))?zs(d):0;return p&&A<p?mh(p-A,b)+d:d},U.parseInt=function Fv(d,p,b){return b||null==p?p=0:p&&(p=+p),ld(sr(d).replace(us,""),p||0)},U.random=function Up(d,p,b){if(b&&"boolean"!=typeof b&&Je(d,p,b)&&(p=b=F),b===F&&("boolean"==typeof p?(b=p,p=F):"boolean"==typeof d&&(b=d,d=F)),d===F&&p===F?(d=0,p=1):(d=Il(d),p===F?(p=d,d=0):p=Il(p)),d>p){var A=d;d=p,p=A}if(b||d%1||p%1){var P=Ru();return Xr(d+P*(p-d+Gs("1e-"+((P+"").length-1))),p)}return oa(d,p)},U.reduce=function Af(d,p,b){var A=mn(d)?$l:Hl,P=arguments.length<3;return A(d,Gt(p,4),b,P,N)},U.reduceRight=function U0(d,p,b){var A=mn(d)?Xc:Hl,P=arguments.length<3;return A(d,Gt(p,4),b,P,k)},U.repeat=function hb(d,p,b){return p=(b?Je(d,p,b):p===F)?1:In(p),ah(sr(d),p)},U.replace=function pa(){var d=arguments,p=sr(d[0]);return d.length<3?p:p.replace(d[1],d[2])},U.result=function ab(d,p,b){var A=-1,P=(p=aa(p,d)).length;for(P||(P=1,d=F);++A<P;){var H=null==d?F:d[ua(p[A])];H===F&&(A=P,H=b),d=su(H)?H.call(d):H}return d},U.round=Eb,U.runInContext=de,U.sample=function za(d){return(mn(d)?lf:Ua)(d)},U.size=function Nf(d){if(null==d)return 0;if(fa(d))return Ff(d)?zs(d):d.length;var p=Li(d);return p==hr||p==Cn?d.size:ai(d).length},U.snakeCase=Pv,U.some=function Qu(d,p,b){var A=mn(d)?fo:Ys;return b&&Je(d,p,b)&&(p=F),A(d,Gt(p,3))},U.sortedIndex=function yo(d,p){return zi(d,p)},U.sortedIndexBy=function M0(d,p,b){return ff(d,p,Gt(b,2))},U.sortedIndexOf=function X_(d,p){var b=null==d?0:d.length;if(b){var A=zi(d,p);if(A<b&&_s(d[A],p))return A}return-1},U.sortedLastIndex=function nD(d,p){return zi(d,p,!0)},U.sortedLastIndexBy=function R0(d,p,b){return ff(d,p,Gt(b,2),!0)},U.sortedLastIndexOf=function ev(d,p){if(null!=d&&d.length){var A=zi(d,p,!0)-1;if(_s(d[A],p))return A}return-1},U.startCase=wD,U.startsWith=function fb(d,p,b){return d=sr(d),b=null==b?0:Zs(In(b),0,d.length),p=Qs(p),d.slice(b,b+p.length)==p},U.subtract=Ld,U.sum=function bo(d){return d&&d.length?wu(d,ga):0},U.sumBy=function xb(d,p){return d&&d.length?wu(d,Gt(p,2)):0},U.template=function Nm(d,p,b){var A=U.templateSettings;b&&Je(d,p,b)&&(p=F),d=sr(d),p=Dm({},p,A,Ku);var ie,fe,P=Dm({},p.imports,A.imports,Ku),H=no(P),K=Iu(P,H),qe=0,We=p.interpolate||Io,Xe="__p += '",_t=Oo((p.escape||Io).source+"|"+We.source+"|"+(We===kn?qr:Io).source+"|"+(p.evaluate||Io).source+"|$","g"),Rt="//# sourceURL="+(er.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tl+"]")+"\n";d.replace(_t,function(en,nn,fn,os,ci,Bi){return fn||(fn=os),Xe+=d.slice(qe,Bi).replace(js,cc),nn&&(ie=!0,Xe+="' +\n__e("+nn+") +\n'"),ci&&(fe=!0,Xe+="';\n"+ci+";\n__p += '"),fn&&(Xe+="' +\n((__t = ("+fn+")) == null ? '' : __t) +\n'"),qe=Bi+en.length,en}),Xe+="';\n";var Pt=er.call(p,"variable")&&p.variable;if(Pt){if(cs.test(Pt))throw new Qt("Invalid `variable` option passed into `_.template`")}else Xe="with (obj) {\n"+Xe+"\n}\n";Xe=(fe?Xe.replace(oe,""):Xe).replace(te,"$1").replace(Y,"$1;"),Xe="function("+(Pt||"obj")+") {\n"+(Pt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(fe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Xe+"return __p\n}";var hn=Uv(function(){return Hn(H,Rt+"return "+Xe).apply(F,K)});if(hn.source=Xe,Rh(hn))throw hn;return hn},U.times=function El(d,p){if((d=In(d))<1||d>Mt)return[];var b=pt,A=Xr(d,pt);p=Gt(p),d-=pt;for(var P=uc(A,p);++b<d;)p(b);return P},U.toFinite=Il,U.toInteger=In,U.toLength=bm,U.toLower=function kv(d){return sr(d).toLowerCase()},U.toNumber=Cl,U.toSafeInteger=function kp(d){return d?Zs(In(d),-Mt,Mt):0===d?d:0},U.toString=sr,U.toUpper=function pb(d){return sr(d).toUpperCase()},U.trim=function gb(d,p,b){if((d=sr(d))&&(b||p===F))return Vr(d);if(!d||!(p=Qs(p)))return d;var A=gs(d),P=gs(p);return zu(A,Ao(A,P),rf(A,P)+1).join("")},U.trimEnd=function mb(d,p,b){if((d=sr(d))&&(b||p===F))return d.slice(0,mi(d)+1);if(!d||!(p=Qs(p)))return d;var A=gs(d);return zu(A,0,rf(A,gs(p))+1).join("")},U.trimStart=function Lv(d,p,b){if((d=sr(d))&&(b||p===F))return d.replace(us,"");if(!d||!(p=Qs(p)))return d;var A=gs(d);return zu(A,Ao(A,gs(p))).join("")},U.truncate=function _b(d,p){var b=30,A="...";if(Di(p)){var P="separator"in p?p.separator:P;b="length"in p?In(p.length):b,A="omission"in p?Qs(p.omission):A}var H=(d=sr(d)).length;if(xa(d)){var K=gs(d);H=K.length}if(b>=H)return d;var ie=b-zs(A);if(ie<1)return A;var fe=K?zu(K,0,ie).join(""):d.slice(0,ie);if(P===F)return fe+A;if(K&&(ie+=fe.length-ie),yv(P)){if(d.slice(ie).search(P)){var qe,We=fe;for(P.global||(P=Oo(P.source,sr(lo.exec(P))+"g")),P.lastIndex=0;qe=P.exec(We);)var Xe=qe.index;fe=fe.slice(0,Xe===F?ie:Xe)}}else if(d.indexOf(Qs(P),ie)!=ie){var _t=fe.lastIndexOf(P);_t>-1&&(fe=fe.slice(0,_t))}return fe+A},U.unescape=function Bv(d){return(d=sr(d))&&ze.test(d)?d.replace(ne,Ns):d},U.uniqueId=function kd(d){var p=++zl;return sr(d)+p},U.upperCase=vb,U.upperFirst=Om,U.each=Ap,U.eachRight=Sf,U.first=Kg,kh(U,function(){var d={};return Zt(U,function(p,b){er.call(U.prototype,b)||(d[b]=p)}),d}(),{chain:!1}),U.VERSION="4.17.21",ns(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){U[d].placeholder=U}),ns(["drop","take"],function(d,p){Dn.prototype[d]=function(b){b=b===F?1:ri(In(b),0);var A=this.__filtered__&&!p?new Dn(this):this.clone();return A.__filtered__?A.__takeCount__=Xr(b,A.__takeCount__):A.__views__.push({size:Xr(b,pt),type:d+(A.__dir__<0?"Right":"")}),A},Dn.prototype[d+"Right"]=function(b){return this.reverse()[d](b).reverse()}}),ns(["filter","map","takeWhile"],function(d,p){var b=p+1,A=1==b||3==b;Dn.prototype[d]=function(P){var H=this.clone();return H.__iteratees__.push({iteratee:Gt(P,3),type:b}),H.__filtered__=H.__filtered__||A,H}}),ns(["head","last"],function(d,p){var b="take"+(p?"Right":"");Dn.prototype[d]=function(){return this[b](1).value()[0]}}),ns(["initial","tail"],function(d,p){var b="drop"+(p?"":"Right");Dn.prototype[d]=function(){return this.__filtered__?new Dn(this):this[b](1)}}),Dn.prototype.compact=function(){return this.filter(ga)},Dn.prototype.find=function(d){return this.filter(d).head()},Dn.prototype.findLast=function(d){return this.reverse().find(d)},Dn.prototype.invokeMap=vn(function(d,p){return"function"==typeof d?new Dn(this):this.map(function(b){return yl(b,d,p)})}),Dn.prototype.reject=function(d){return this.filter(Mf(Gt(d)))},Dn.prototype.slice=function(d,p){d=In(d);var b=this;return b.__filtered__&&(d>0||p<0)?new Dn(b):(d<0?b=b.takeRight(-d):d&&(b=b.drop(d)),p!==F&&(b=(p=In(p))<0?b.dropRight(-p):b.take(p-d)),b)},Dn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Dn.prototype.toArray=function(){return this.take(pt)},Zt(Dn.prototype,function(d,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),A=/^(?:head|last)$/.test(p),P=U[A?"take"+("last"==p?"Right":""):p],H=A||/^find/.test(p);!P||(U.prototype[p]=function(){var K=this.__wrapped__,ie=A?[1]:arguments,fe=K instanceof Dn,qe=ie[0],We=fe||mn(K),Xe=function(nn){var fn=P.apply(U,ho([nn],ie));return A&&_t?fn[0]:fn};We&&b&&"function"==typeof qe&&1!=qe.length&&(fe=We=!1);var _t=this.__chain__,Rt=!!this.__actions__.length,Pt=H&&!_t,hn=fe&&!Rt;if(!H&&We){K=hn?K:new Dn(this);var en=d.apply(K,ie);return en.__actions__.push({func:xf,args:[Xe],thisArg:F}),new qs(en,_t)}return Pt&&hn?d.apply(this,ie):(en=this.thru(Xe),Pt?A?en.value()[0]:en.value():en)})}),ns(["pop","push","shift","sort","splice","unshift"],function(d){var p=ul[d],b=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",A=/^(?:pop|shift)$/.test(d);U.prototype[d]=function(){var P=arguments;if(A&&!this.__chain__){var H=this.value();return p.apply(mn(H)?H:[],P)}return this[b](function(K){return p.apply(mn(K)?K:[],P)})}}),Zt(Dn.prototype,function(d,p){var b=U[p];if(b){var A=b.name+"";er.call(Ci,A)||(Ci[A]=[]),Ci[A].push({name:p,func:b})}}),Ci[Ac(F,2).name]=[{name:"wrapper",func:F}],Dn.prototype.clone=function th(){var d=new Dn(this.__wrapped__);return d.__actions__=Gn(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Gn(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Gn(this.__views__),d},Dn.prototype.reverse=function Bg(){if(this.__filtered__){var d=new Dn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},Dn.prototype.value=function ud(){var d=this.__wrapped__.value(),p=this.__dir__,b=mn(d),A=p<0,P=b?d.length:0,H=function _p(d,p,b){for(var A=-1,P=b.length;++A<P;){var H=b[A],K=H.size;switch(H.type){case"drop":d+=K;break;case"dropRight":p-=K;break;case"take":p=Xr(p,d+K);break;case"takeRight":d=ri(d,p-K)}}return{start:d,end:p}}(0,P,this.__views__),K=H.start,ie=H.end,fe=ie-K,qe=A?ie:K-1,We=this.__iteratees__,Xe=We.length,_t=0,Rt=Xr(fe,this.__takeCount__);if(!b||!A&&P==fe&&Rt==fe)return uh(d,this.__actions__);var Pt=[];e:for(;fe--&&_t<Rt;){for(var hn=-1,en=d[qe+=p];++hn<Xe;){var nn=We[hn],os=nn.type,ci=(0,nn.iteratee)(en);if(2==os)en=ci;else if(!ci){if(1==os)continue e;break e}}Pt[_t++]=en}return Pt},U.prototype.at=Ih,U.prototype.chain=function wl(){return V0(this)},U.prototype.commit=function tm(){return new qs(this.value(),this.__chain__)},U.prototype.next=function av(){this.__values__===F&&(this.__values__=bv(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?F:this.__values__[this.__index__++]}},U.prototype.plant=function Ga(d){for(var p,b=this;b instanceof Jl;){var A=Nd(b);A.__index__=0,A.__values__=F,p?P.__wrapped__=A:p=A;var P=A;b=b.__wrapped__}return P.__wrapped__=d,p},U.prototype.reverse=function Wa(){var d=this.__wrapped__;if(d instanceof Dn){var p=d;return this.__actions__.length&&(p=new Dn(this)),(p=p.reverse()).__actions__.push({func:xf,args:[Ip],thisArg:F}),new qs(p,this.__chain__)}return this.thru(Ip)},U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=function ss(){return uh(this.__wrapped__,this.__actions__)},U.prototype.first=U.prototype.head,xr&&(U.prototype[xr]=function da(){return this}),U}();$n._=Wl,(c=function(){return Wl}.call($e,G,$e,Nt))!==F&&(Nt.exports=c)}.call(this)},9751:(Nt,$e,G)=>{"use strict";G.d($e,{y:()=>Ne});var c=G(930),F=G(727),W=G(8822),be=G(9635),ge=G(2416),Ie=G(576),Ee=G(2806);let Ne=(()=>{class ce{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Le=new ce;return Le.source=this,Le.operator=Ue,Le}subscribe(Ue,Le,ht){const Oe=function X(ce){return ce&&ce instanceof c.Lv||function J(ce){return ce&&(0,Ie.m)(ce.next)&&(0,Ie.m)(ce.error)&&(0,Ie.m)(ce.complete)}(ce)&&(0,F.Nn)(ce)}(Ue)?Ue:new c.Hp(Ue,Le,ht);return(0,Ee.x)(()=>{const{operator:Me,source:at}=this;Oe.add(Me?Me.call(Oe,at):at?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Le){Ue.error(Le)}}forEach(Ue,Le){return new(Le=Ae(Le))((ht,Oe)=>{const Me=new c.Hp({next:at=>{try{Ue(at)}catch(Et){Oe(Et),Me.unsubscribe()}},error:Oe,complete:ht});this.subscribe(Me)})}_subscribe(Ue){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ue)}[W.L](){return this}pipe(...Ue){return(0,be.U)(Ue)(this)}toPromise(Ue){return new(Ue=Ae(Ue))((Le,ht)=>{let Oe;this.subscribe(Me=>Oe=Me,Me=>ht(Me),()=>Le(Oe))})}}return ce.create=tt=>new ce(tt),ce})();function Ae(ce){var tt;return null!==(tt=ce??ge.v.Promise)&&void 0!==tt?tt:Promise}},7579:(Nt,$e,G)=>{"use strict";G.d($e,{x:()=>Ee});var c=G(9751),F=G(727);const be=(0,G(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=G(8737),Ie=G(2806);let Ee=(()=>{class Ae extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const ce=new Ne(this,this);return ce.operator=X,ce}_throwIfClosed(){if(this.closed)throw new be}next(X){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(X)}})}error(X){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:ce}=this;for(;ce.length;)ce.shift().error(X)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:ce,isStopped:tt,observers:Ue}=this;return ce||tt?F.Lc:(this.currentObservers=null,Ue.push(X),new F.w0(()=>{this.currentObservers=null,(0,ge.P)(Ue,X)}))}_checkFinalizedStatuses(X){const{hasError:ce,thrownError:tt,isStopped:Ue}=this;ce?X.error(tt):Ue&&X.complete()}asObservable(){const X=new c.y;return X.source=this,X}}return Ae.create=(J,X)=>new Ne(J,X),Ae})();class Ne extends Ee{constructor(J,X){super(),this.destination=J,this.source=X}next(J){var X,ce;null===(ce=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===ce||ce.call(X,J)}error(J){var X,ce;null===(ce=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===ce||ce.call(X,J)}complete(){var J,X;null===(X=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===X||X.call(J)}_subscribe(J){var X,ce;return null!==(ce=null===(X=this.source)||void 0===X?void 0:X.subscribe(J))&&void 0!==ce?ce:F.Lc}}},930:(Nt,$e,G)=>{"use strict";G.d($e,{Hp:()=>ht,Lv:()=>ce});var c=G(576),F=G(727),W=G(2416),be=G(7849),ge=G(5032);const Ie=Ae("C",void 0,void 0);function Ae(He,Pe,ke){return{kind:He,value:Pe,error:ke}}var J=G(3410),X=G(2806);class ce extends F.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,F.Nn)(Pe)&&Pe.add(this)):this.destination=Et}static create(Pe,ke,st){return new ht(Pe,ke,st)}next(Pe){this.isStopped?at(function Ne(He){return Ae("N",He,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?at(function Ee(He){return Ae("E",void 0,He)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?at(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Ue(He,Pe){return tt.call(He,Pe)}class Le{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Pe)}catch(st){Oe(st)}}error(Pe){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Pe)}catch(st){Oe(st)}else Oe(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(ke){Oe(ke)}}}class ht extends ce{constructor(Pe,ke,st){let ft;if(super(),(0,c.m)(Pe)||!Pe)ft={next:Pe??void 0,error:ke??void 0,complete:st??void 0};else{let Q;this&&W.v.useDeprecatedNextContext?(Q=Object.create(Pe),Q.unsubscribe=()=>this.unsubscribe(),ft={next:Pe.next&&Ue(Pe.next,Q),error:Pe.error&&Ue(Pe.error,Q),complete:Pe.complete&&Ue(Pe.complete,Q)}):ft=Pe}this.destination=new Le(ft)}}function Oe(He){W.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(He):(0,be.h)(He)}function at(He,Pe){const{onStoppedNotification:ke}=W.v;ke&&J.z.setTimeout(()=>ke(He,Pe))}const Et={closed:!0,next:ge.Z,error:function Me(He){throw He},complete:ge.Z}},727:(Nt,$e,G)=>{"use strict";G.d($e,{Lc:()=>Ie,w0:()=>ge,Nn:()=>Ee});var c=G(576);const W=(0,G(3888).d)(Ae=>function(X){Ae(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((ce,tt)=>`${tt+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var be=G(8737);class ge{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Ue of X)Ue.remove(this);else X.remove(this);const{initialTeardown:ce}=this;if((0,c.m)(ce))try{ce()}catch(Ue){J=Ue instanceof W?Ue.errors:[Ue]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Ue of tt)try{Ne(Ue)}catch(Le){J=J??[],Le instanceof W?J=[...J,...Le.errors]:J.push(Le)}}if(J)throw new W(J)}}add(J){var X;if(J&&J!==this)if(this.closed)Ne(J);else{if(J instanceof ge){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(J)}}_hasParent(J){const{_parentage:X}=this;return X===J||Array.isArray(X)&&X.includes(J)}_addParent(J){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(J),X):X?[X,J]:J}_removeParent(J){const{_parentage:X}=this;X===J?this._parentage=null:Array.isArray(X)&&(0,be.P)(X,J)}remove(J){const{_finalizers:X}=this;X&&(0,be.P)(X,J),J instanceof ge&&J._removeParent(this)}}ge.EMPTY=(()=>{const Ae=new ge;return Ae.closed=!0,Ae})();const Ie=ge.EMPTY;function Ee(Ae){return Ae instanceof ge||Ae&&"closed"in Ae&&(0,c.m)(Ae.remove)&&(0,c.m)(Ae.add)&&(0,c.m)(Ae.unsubscribe)}function Ne(Ae){(0,c.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(Nt,$e,G)=>{"use strict";G.d($e,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Nt,$e,G)=>{"use strict";G.d($e,{E:()=>F});const F=new(G(9751).y)(ge=>ge.complete())},8996:(Nt,$e,G)=>{"use strict";G.d($e,{D:()=>Pe});var c=G(8421),F=G(5363),W=G(9468),Ie=G(9751),Ne=G(2202),Ae=G(576),J=G(9672);function ce(ke,st){if(!ke)throw new Error("Iterable cannot be null");return new Ie.y(ft=>{(0,J.f)(ft,st,()=>{const Q=ke[Symbol.asyncIterator]();(0,J.f)(ft,st,()=>{Q.next().then(Re=>{Re.done?ft.complete():ft.next(Re.value)})},0,!0)})})}var tt=G(3670),Ue=G(8239),Le=G(1144),ht=G(6495),Oe=G(2206),Me=G(4532),at=G(3260);function Pe(ke,st){return st?function He(ke,st){if(null!=ke){if((0,tt.c)(ke))return function be(ke,st){return(0,c.Xf)(ke).pipe((0,W.R)(st),(0,F.Q)(st))}(ke,st);if((0,Le.z)(ke))return function Ee(ke,st){return new Ie.y(ft=>{let Q=0;return st.schedule(function(){Q===ke.length?ft.complete():(ft.next(ke[Q++]),ft.closed||this.schedule())})})}(ke,st);if((0,Ue.t)(ke))return function ge(ke,st){return(0,c.Xf)(ke).pipe((0,W.R)(st),(0,F.Q)(st))}(ke,st);if((0,Oe.D)(ke))return ce(ke,st);if((0,ht.T)(ke))return function X(ke,st){return new Ie.y(ft=>{let Q;return(0,J.f)(ft,st,()=>{Q=ke[Ne.h](),(0,J.f)(ft,st,()=>{let Re,ae;try{({value:Re,done:ae}=Q.next())}catch(pe){return void ft.error(pe)}ae?ft.complete():ft.next(Re)},0,!0)}),()=>(0,Ae.m)(Q?.return)&&Q.return()})}(ke,st);if((0,at.L)(ke))return function Et(ke,st){return ce((0,at.Q)(ke),st)}(ke,st)}throw(0,Me.z)(ke)}(ke,st):(0,c.Xf)(ke)}},8421:(Nt,$e,G)=>{"use strict";G.d($e,{Xf:()=>tt});var c=G(655),F=G(1144),W=G(8239),be=G(9751),ge=G(3670),Ie=G(2206),Ee=G(4532),Ne=G(6495),Ae=G(3260),J=G(576),X=G(7849),ce=G(8822);function tt(He){if(He instanceof be.y)return He;if(null!=He){if((0,ge.c)(He))return function Ue(He){return new be.y(Pe=>{const ke=He[ce.L]();if((0,J.m)(ke.subscribe))return ke.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,F.z)(He))return function Le(He){return new be.y(Pe=>{for(let ke=0;ke<He.length&&!Pe.closed;ke++)Pe.next(He[ke]);Pe.complete()})}(He);if((0,W.t)(He))return function ht(He){return new be.y(Pe=>{He.then(ke=>{Pe.closed||(Pe.next(ke),Pe.complete())},ke=>Pe.error(ke)).then(null,X.h)})}(He);if((0,Ie.D)(He))return Me(He);if((0,Ne.T)(He))return function Oe(He){return new be.y(Pe=>{for(const ke of He)if(Pe.next(ke),Pe.closed)return;Pe.complete()})}(He);if((0,Ae.L)(He))return function at(He){return Me((0,Ae.Q)(He))}(He)}throw(0,Ee.z)(He)}function Me(He){return new be.y(Pe=>{(function Et(He,Pe){var ke,st,ft,Q;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ke=(0,c.KL)(He);!(st=yield ke.next()).done;)if(Pe.next(st.value),Pe.closed)return}catch(Re){ft={error:Re}}finally{try{st&&!st.done&&(Q=ke.return)&&(yield Q.call(ke))}finally{if(ft)throw ft.error}}Pe.complete()})})(He,Pe).catch(ke=>Pe.error(ke))})}},6451:(Nt,$e,G)=>{"use strict";G.d($e,{T:()=>Ie});var c=G(8189),F=G(8421),W=G(515),be=G(3269),ge=G(8996);function Ie(...Ee){const Ne=(0,be.yG)(Ee),Ae=(0,be._6)(Ee,1/0),J=Ee;return J.length?1===J.length?(0,F.Xf)(J[0]):(0,c.J)(Ae)((0,ge.D)(J,Ne)):W.E}},5403:(Nt,$e,G)=>{"use strict";G.d($e,{x:()=>F});var c=G(930);function F(be,ge,Ie,Ee,Ne){return new W(be,ge,Ie,Ee,Ne)}class W extends c.Lv{constructor(ge,Ie,Ee,Ne,Ae,J){super(ge),this.onFinalize=Ae,this.shouldUnsubscribe=J,this._next=Ie?function(X){try{Ie(X)}catch(ce){ge.error(ce)}}:super._next,this._error=Ne?function(X){try{Ne(X)}catch(ce){ge.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(X){ge.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(Nt,$e,G)=>{"use strict";G.d($e,{U:()=>W});var c=G(4482),F=G(5403);function W(be,ge){return(0,c.e)((Ie,Ee)=>{let Ne=0;Ie.subscribe((0,F.x)(Ee,Ae=>{Ee.next(be.call(ge,Ae,Ne++))}))})}},8189:(Nt,$e,G)=>{"use strict";G.d($e,{J:()=>W});var c=G(5577),F=G(4671);function W(be=1/0){return(0,c.z)(F.y,be)}},5577:(Nt,$e,G)=>{"use strict";G.d($e,{z:()=>Ne});var c=G(4004),F=G(8421),W=G(4482),be=G(9672),ge=G(5403),Ee=G(576);function Ne(Ae,J,X=1/0){return(0,Ee.m)(J)?Ne((ce,tt)=>(0,c.U)((Ue,Le)=>J(ce,Ue,tt,Le))((0,F.Xf)(Ae(ce,tt))),X):("number"==typeof J&&(X=J),(0,W.e)((ce,tt)=>function Ie(Ae,J,X,ce,tt,Ue,Le,ht){const Oe=[];let Me=0,at=0,Et=!1;const He=()=>{Et&&!Oe.length&&!Me&&J.complete()},Pe=st=>Me<ce?ke(st):Oe.push(st),ke=st=>{Ue&&J.next(st),Me++;let ft=!1;(0,F.Xf)(X(st,at++)).subscribe((0,ge.x)(J,Q=>{tt?.(Q),Ue?Pe(Q):J.next(Q)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Me--;Oe.length&&Me<ce;){const Q=Oe.shift();Le?(0,be.f)(J,Le,()=>ke(Q)):ke(Q)}He()}catch(Q){J.error(Q)}}))};return Ae.subscribe((0,ge.x)(J,Pe,()=>{Et=!0,He()})),()=>{ht?.()}}(ce,tt,Ae,X)))}},5363:(Nt,$e,G)=>{"use strict";G.d($e,{Q:()=>be});var c=G(9672),F=G(4482),W=G(5403);function be(ge,Ie=0){return(0,F.e)((Ee,Ne)=>{Ee.subscribe((0,W.x)(Ne,Ae=>(0,c.f)(Ne,ge,()=>Ne.next(Ae),Ie),()=>(0,c.f)(Ne,ge,()=>Ne.complete(),Ie),Ae=>(0,c.f)(Ne,ge,()=>Ne.error(Ae),Ie)))})}},3099:(Nt,$e,G)=>{"use strict";G.d($e,{B:()=>ge});var c=G(8421),F=G(7579),W=G(930),be=G(4482);function ge(Ee={}){const{connector:Ne=(()=>new F.x),resetOnError:Ae=!0,resetOnComplete:J=!0,resetOnRefCountZero:X=!0}=Ee;return ce=>{let tt,Ue,Le,ht=0,Oe=!1,Me=!1;const at=()=>{Ue?.unsubscribe(),Ue=void 0},Et=()=>{at(),tt=Le=void 0,Oe=Me=!1},He=()=>{const Pe=tt;Et(),Pe?.unsubscribe()};return(0,be.e)((Pe,ke)=>{ht++,!Me&&!Oe&&at();const st=Le=Le??Ne();ke.add(()=>{ht--,0===ht&&!Me&&!Oe&&(Ue=Ie(He,X))}),st.subscribe(ke),!tt&&ht>0&&(tt=new W.Hp({next:ft=>st.next(ft),error:ft=>{Me=!0,at(),Ue=Ie(Et,Ae,ft),st.error(ft)},complete:()=>{Oe=!0,at(),Ue=Ie(Et,J),st.complete()}}),(0,c.Xf)(Pe).subscribe(tt))})(ce)}}function Ie(Ee,Ne,...Ae){if(!0===Ne)return void Ee();if(!1===Ne)return;const J=new W.Hp({next:()=>{J.unsubscribe(),Ee()}});return Ne(...Ae).subscribe(J)}},9468:(Nt,$e,G)=>{"use strict";G.d($e,{R:()=>F});var c=G(4482);function F(W,be=0){return(0,c.e)((ge,Ie)=>{Ie.add(W.schedule(()=>ge.subscribe(Ie),be))})}},8505:(Nt,$e,G)=>{"use strict";G.d($e,{b:()=>ge});var c=G(576),F=G(4482),W=G(5403),be=G(4671);function ge(Ie,Ee,Ne){const Ae=(0,c.m)(Ie)||Ee||Ne?{next:Ie,error:Ee,complete:Ne}:Ie;return Ae?(0,F.e)((J,X)=>{var ce;null===(ce=Ae.subscribe)||void 0===ce||ce.call(Ae);let tt=!0;J.subscribe((0,W.x)(X,Ue=>{var Le;null===(Le=Ae.next)||void 0===Le||Le.call(Ae,Ue),X.next(Ue)},()=>{var Ue;tt=!1,null===(Ue=Ae.complete)||void 0===Ue||Ue.call(Ae),X.complete()},Ue=>{var Le;tt=!1,null===(Le=Ae.error)||void 0===Le||Le.call(Ae,Ue),X.error(Ue)},()=>{var Ue,Le;tt&&(null===(Ue=Ae.unsubscribe)||void 0===Ue||Ue.call(Ae)),null===(Le=Ae.finalize)||void 0===Le||Le.call(Ae)}))}):be.y}},4408:(Nt,$e,G)=>{"use strict";G.d($e,{o:()=>ge});var c=G(727);class F extends c.w0{constructor(Ee,Ne){super()}schedule(Ee,Ne=0){return this}}const W={setInterval(Ie,Ee,...Ne){const{delegate:Ae}=W;return Ae?.setInterval?Ae.setInterval(Ie,Ee,...Ne):setInterval(Ie,Ee,...Ne)},clearInterval(Ie){const{delegate:Ee}=W;return(Ee?.clearInterval||clearInterval)(Ie)},delegate:void 0};var be=G(8737);class ge extends F{constructor(Ee,Ne){super(Ee,Ne),this.scheduler=Ee,this.work=Ne,this.pending=!1}schedule(Ee,Ne=0){if(this.closed)return this;this.state=Ee;const Ae=this.id,J=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(J,Ae,Ne)),this.pending=!0,this.delay=Ne,this.id=this.id||this.requestAsyncId(J,this.id,Ne),this}requestAsyncId(Ee,Ne,Ae=0){return W.setInterval(Ee.flush.bind(Ee,this),Ae)}recycleAsyncId(Ee,Ne,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ne;W.clearInterval(Ne)}execute(Ee,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Ee,Ne);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Ne){let J,Ae=!1;try{this.work(Ee)}catch(X){Ae=!0,J=X||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:Ne}=this,{actions:Ae}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Ae,this),null!=Ee&&(this.id=this.recycleAsyncId(Ne,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(Nt,$e,G)=>{"use strict";G.d($e,{v:()=>W});var c=G(6063);class F{constructor(ge,Ie=F.now){this.schedulerActionCtor=ge,this.now=Ie}schedule(ge,Ie=0,Ee){return new this.schedulerActionCtor(this,ge).schedule(Ee,Ie)}}F.now=c.l.now;class W extends F{constructor(ge,Ie=F.now){super(ge,Ie),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:Ie}=this;if(this._active)return void Ie.push(ge);let Ee;this._active=!0;do{if(Ee=ge.execute(ge.state,ge.delay))break}while(ge=Ie.shift());if(this._active=!1,Ee){for(;ge=Ie.shift();)ge.unsubscribe();throw Ee}}}},4986:(Nt,$e,G)=>{"use strict";G.d($e,{P:()=>be,z:()=>W});var c=G(4408);const W=new(G(7565).v)(c.o),be=W},6063:(Nt,$e,G)=>{"use strict";G.d($e,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Nt,$e,G)=>{"use strict";G.d($e,{z:()=>c});const c={setTimeout(F,W,...be){const{delegate:ge}=c;return ge?.setTimeout?ge.setTimeout(F,W,...be):setTimeout(F,W,...be)},clearTimeout(F){const{delegate:W}=c;return(W?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(Nt,$e,G)=>{"use strict";G.d($e,{h:()=>F});const F=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Nt,$e,G)=>{"use strict";G.d($e,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Nt,$e,G)=>{"use strict";G.d($e,{_6:()=>Ie,jO:()=>be,yG:()=>ge});var c=G(576),F=G(3532);function W(Ee){return Ee[Ee.length-1]}function be(Ee){return(0,c.m)(W(Ee))?Ee.pop():void 0}function ge(Ee){return(0,F.K)(W(Ee))?Ee.pop():void 0}function Ie(Ee,Ne){return"number"==typeof W(Ee)?Ee.pop():Ne}},8737:(Nt,$e,G)=>{"use strict";function c(F,W){if(F){const be=F.indexOf(W);0<=be&&F.splice(be,1)}}G.d($e,{P:()=>c})},3888:(Nt,$e,G)=>{"use strict";function c(F){const be=F(ge=>{Error.call(ge),ge.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}G.d($e,{d:()=>c})},2806:(Nt,$e,G)=>{"use strict";G.d($e,{O:()=>be,x:()=>W});var c=G(2416);let F=null;function W(ge){if(c.v.useDeprecatedSynchronousErrorHandling){const Ie=!F;if(Ie&&(F={errorThrown:!1,error:null}),ge(),Ie){const{errorThrown:Ee,error:Ne}=F;if(F=null,Ee)throw Ne}}else ge()}function be(ge){c.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=ge)}},9672:(Nt,$e,G)=>{"use strict";function c(F,W,be,ge=0,Ie=!1){const Ee=W.schedule(function(){be(),Ie?F.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(F.add(Ee),!Ie)return Ee}G.d($e,{f:()=>c})},4671:(Nt,$e,G)=>{"use strict";function c(F){return F}G.d($e,{y:()=>c})},1144:(Nt,$e,G)=>{"use strict";G.d($e,{z:()=>c});const c=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Nt,$e,G)=>{"use strict";G.d($e,{D:()=>F});var c=G(576);function F(W){return Symbol.asyncIterator&&(0,c.m)(W?.[Symbol.asyncIterator])}},576:(Nt,$e,G)=>{"use strict";function c(F){return"function"==typeof F}G.d($e,{m:()=>c})},3670:(Nt,$e,G)=>{"use strict";G.d($e,{c:()=>W});var c=G(8822),F=G(576);function W(be){return(0,F.m)(be[c.L])}},6495:(Nt,$e,G)=>{"use strict";G.d($e,{T:()=>W});var c=G(2202),F=G(576);function W(be){return(0,F.m)(be?.[c.h])}},8239:(Nt,$e,G)=>{"use strict";G.d($e,{t:()=>F});var c=G(576);function F(W){return(0,c.m)(W?.then)}},3260:(Nt,$e,G)=>{"use strict";G.d($e,{L:()=>be,Q:()=>W});var c=G(655),F=G(576);function W(ge){return(0,c.FC)(this,arguments,function*(){const Ee=ge.getReader();try{for(;;){const{value:Ne,done:Ae}=yield(0,c.qq)(Ee.read());if(Ae)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ne)}}finally{Ee.releaseLock()}})}function be(ge){return(0,F.m)(ge?.getReader)}},3532:(Nt,$e,G)=>{"use strict";G.d($e,{K:()=>F});var c=G(576);function F(W){return W&&(0,c.m)(W.schedule)}},4482:(Nt,$e,G)=>{"use strict";G.d($e,{A:()=>F,e:()=>W});var c=G(576);function F(be){return(0,c.m)(be?.lift)}function W(be){return ge=>{if(F(ge))return ge.lift(function(Ie){try{return be(Ie,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Nt,$e,G)=>{"use strict";function c(){}G.d($e,{Z:()=>c})},9635:(Nt,$e,G)=>{"use strict";G.d($e,{U:()=>W,z:()=>F});var c=G(4671);function F(...be){return W(be)}function W(be){return 0===be.length?c.y:1===be.length?be[0]:function(Ie){return be.reduce((Ee,Ne)=>Ne(Ee),Ie)}}},7849:(Nt,$e,G)=>{"use strict";G.d($e,{h:()=>W});var c=G(2416),F=G(3410);function W(be){F.z.setTimeout(()=>{const{onUnhandledError:ge}=c.v;if(!ge)throw be;ge(be)})}},4532:(Nt,$e,G)=>{"use strict";function c(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d($e,{z:()=>c})},655:(Nt,$e,G)=>{"use strict";function be(ae,pe){var ye={};for(var ve in ae)Object.prototype.hasOwnProperty.call(ae,ve)&&pe.indexOf(ve)<0&&(ye[ve]=ae[ve]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(ve=Object.getOwnPropertySymbols(ae);rt<ve.length;rt++)pe.indexOf(ve[rt])<0&&Object.prototype.propertyIsEnumerable.call(ae,ve[rt])&&(ye[ve[rt]]=ae[ve[rt]])}return ye}function Ne(ae,pe,ye,ve){return new(ye||(ye=Promise))(function(Qe,Mt){function En(Zn){try{pt(ve.next(Zn))}catch(dr){Mt(dr)}}function un(Zn){try{pt(ve.throw(Zn))}catch(dr){Mt(dr)}}function pt(Zn){Zn.done?Qe(Zn.value):function rt(Qe){return Qe instanceof ye?Qe:new ye(function(Mt){Mt(Qe)})}(Zn.value).then(En,un)}pt((ve=ve.apply(ae,pe||[])).next())})}function Oe(ae){return this instanceof Oe?(this.v=ae,this):new Oe(ae)}function Me(ae,pe,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,ve=ye.apply(ae,pe||[]),Qe=[];return rt={},Mt("next"),Mt("throw"),Mt("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function Mt(Bn){ve[Bn]&&(rt[Bn]=function(gn){return new Promise(function(fi,cn){Qe.push([Bn,gn,fi,cn])>1||En(Bn,gn)})})}function En(Bn,gn){try{!function un(Bn){Bn.value instanceof Oe?Promise.resolve(Bn.value.v).then(pt,Zn):dr(Qe[0][2],Bn)}(ve[Bn](gn))}catch(fi){dr(Qe[0][3],fi)}}function pt(Bn){En("next",Bn)}function Zn(Bn){En("throw",Bn)}function dr(Bn,gn){Bn(gn),Qe.shift(),Qe.length&&En(Qe[0][0],Qe[0][1])}}function Et(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,pe=ae[Symbol.asyncIterator];return pe?pe.call(ae):(ae=function ce(ae){var pe="function"==typeof Symbol&&Symbol.iterator,ye=pe&&ae[pe],ve=0;if(ye)return ye.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ve>=ae.length&&(ae=void 0),{value:ae&&ae[ve++],done:!ae}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ye={},ve("next"),ve("throw"),ve("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ve(Qe){ye[Qe]=ae[Qe]&&function(Mt){return new Promise(function(En,un){!function rt(Qe,Mt,En,un){Promise.resolve(un).then(function(pt){Qe({value:pt,done:En})},Mt)}(En,un,(Mt=ae[Qe](Mt)).done,Mt.value)})}}}G.d($e,{FC:()=>Me,KL:()=>Et,_T:()=>be,mG:()=>Ne,qq:()=>Oe})},4650:(Nt,$e,G)=>{"use strict";G.d($e,{$8M:()=>_l,$Z:()=>mm,AFp:()=>Ey,AaK:()=>Ne,BQk:()=>Rb,CHM:()=>sl,CRH:()=>YI,CZH:()=>Ty,CqO:()=>FD,D6c:()=>HC,EJc:()=>bC,EpF:()=>MD,F$t:()=>QE,F4k:()=>zE,FYo:()=>Je,FiY:()=>nt,G48:()=>MC,Gf:()=>KI,GfV:()=>li,GkF:()=>OD,Gpc:()=>X,Hsn:()=>vs,Ikx:()=>iI,JOm:()=>ja,KtG:()=>Jo,LFG:()=>ti,LMc:()=>iA,LSH:()=>$a,Lbi:()=>AS,Lck:()=>eS,MAs:()=>WE,MGl:()=>Fb,MMx:()=>ew,NdJ:()=>PD,O4$:()=>sd,OlP:()=>pr,Oqu:()=>xl,PXZ:()=>US,Q6J:()=>AD,QGY:()=>RD,QP$:()=>us,Qsj:()=>St,QtT:()=>Yx,R0b:()=>va,RDi:()=>ai,Rgc:()=>rg,SBq:()=>V,SDv:()=>Kx,Sil:()=>bw,Suo:()=>Km,TTD:()=>Yo,TgZ:()=>Nb,Tol:()=>ox,Udp:()=>QD,VKq:()=>Gm,W1O:()=>Ym,WD2:()=>xo,WLB:()=>sw,X6Q:()=>My,XFs:()=>yt,Xpm:()=>ne,Xts:()=>Cd,Y36:()=>Fh,YKP:()=>SI,YNc:()=>GE,Yjl:()=>_n,Yz7:()=>gn,Z0I:()=>Si,ZZ4:()=>i_,_Bn:()=>xI,_UZ:()=>Ob,_Vd:()=>v,_c5:()=>XS,_uU:()=>fx,aQg:()=>Pw,c2e:()=>NS,cJS:()=>cn,cg1:()=>Zp,dDg:()=>LS,dqk:()=>Vn,eFA:()=>SC,ekj:()=>Lb,eoX:()=>TC,f3M:()=>x,g9A:()=>vw,h0i:()=>Xp,hGG:()=>eA,hYB:()=>BD,hij:()=>ni,iGM:()=>ZI,ifc:()=>Ot,ip1:()=>vC,jDz:()=>rS,kEZ:()=>BI,kL8:()=>Um,lG2:()=>zr,lqb:()=>bl,lri:()=>IC,n5z:()=>mo,oAB:()=>Ft,oxw:()=>YE,pQV:()=>CI,q4F:()=>Uo,qLn:()=>Nd,qOj:()=>Lm,qZA:()=>Yv,rWj:()=>CC,s9C:()=>LD,sBO:()=>WS,sIi:()=>ie,s_b:()=>Zm,soG:()=>hg,tb:()=>dg,tp0:()=>Ht,uIk:()=>fn,vHH:()=>Le,vpe:()=>Kc,wAp:()=>Wt,xp6:()=>sm,ynx:()=>Mb,z2F:()=>Ny,zSh:()=>Ku,zs3:()=>_s});var c=G(7579),F=G(727),W=G(9751),be=G(6451),ge=G(3099);function Ie(s){for(let o in s)if(s[o]===Ie)return o;throw Error("Could not find renamed property on target object.")}function Ee(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ae(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const J=Ie({__forward_ref__:Ie});function X(s){return s.__forward_ref__=X,s.toString=function(){return Ne(this())},s}function ce(s){return tt(s)?s():s}function tt(s){return"function"==typeof s&&s.hasOwnProperty(J)&&s.__forward_ref__===X}class Le extends Error{constructor(o,l){super(function ht(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Oe(s){return"string"==typeof s?s:null==s?"":String(s)}function Pe(s,o){throw new Le(-201,!1)}function pt(s,o,l,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${l} ${h} ${o} <=Actual]`))}function gn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function cn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Xt(s){return xn(s,hr)||xn(s,Ai)}function Si(s){return null!==Xt(s)}function xn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ji(s){return s&&(s.hasOwnProperty(Sr)||s.hasOwnProperty(yr))?s[Sr]:null}const hr=Ie({\u0275prov:Ie}),Sr=Ie({\u0275inj:Ie}),Ai=Ie({ngInjectableDef:Ie}),yr=Ie({ngInjectorDef:Ie});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let $i;function Cn(s){const o=$i;return $i=s,o}function tr(s,o,l){const h=Xt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&yt.Optional?null:void 0!==o?o:void Pe(Ne(s))}function Rr(s){return{toString:s}.toString()}var br=(()=>((br=br||{})[br.OnPush=0]="OnPush",br[br.Default=1]="Default",br))(),Ot=(()=>{return(s=Ot||(Ot={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ot;var s})();const Vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wr={},jt=[],Is=Ie({\u0275cmp:Ie}),Sn=Ie({\u0275dir:Ie}),Xi=Ie({\u0275pipe:Ie}),Tn=Ie({\u0275mod:Ie}),oe=Ie({\u0275fac:Ie}),te=Ie({__NG_ELEMENT_ID__:Ie});let Y=0;function ne(s){return Rr(()=>{const l=!0===s.standalone,h={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===br.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ot.Emulated,id:"c"+Y++,styles:s.styles||jt,_:null,setInput:null,schemas:s.schemas||null,tView:null},_=s.dependencies,D=s.features;return f.inputs=kn(s.inputs,h),f.outputs=kn(s.outputs),D&&D.forEach(T=>T(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(ze).filter(ct):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(wr).filter(ct):null,f})}function ze(s){return an(s)||ar(s)}function ct(s){return null!==s}function Ft(s){return Rr(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function kn(s,o){if(null==s)return Wr;const l={};for(const h in s)if(s.hasOwnProperty(h)){let f=s[h],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),l[f]=h,o&&(o[f]=_)}return l}const zr=ne;function _n(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function an(s){return s[Is]||null}function ar(s){return s[Sn]||null}function wr(s){return s[Xi]||null}function us(s){const o=an(s)||ar(s)||wr(s);return null!==o&&o.standalone}function ji(s,o){const l=s[Tn]||null;if(!l&&!0===o)throw new Error(`Type ${Ne(s)} does not have '\u0275mod' property.`);return l}function Lr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Yr(s){return Array.isArray(s)&&!0===s[1]}function To(s){return 0!=(8&s.flags)}function Es(s){return 2==(2&s.flags)}function Ll(s){return 1==(1&s.flags)}function pi(s){return null!==s.template}function el(s){return 0!=(256&s[2])}function Eo(s,o){return s.hasOwnProperty(oe)?s[oe]:null}class xo{constructor(o,l,h){this.previousValue=o,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function Yo(){return tl}function tl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Jn),Qn}function Qn(){const s=nf(this),o=s?.current;if(o){const l=s.previous;if(l===Wr)s.previous=o;else for(let h in o)l[h]=o[h];s.current=null,this.ngOnChanges(o)}}function Jn(s,o,l,h){const f=nf(s)||function gi(s,o){return s[Jc]=o}(s,{previous:Wr,current:null}),_=f.current||(f.current={}),D=f.previous,T=this.declaredInputs[l],E=D[T];_[T]=new xo(E&&E.currentValue,o,D===Wr),s[h]=o}Yo.ngInherit=!0;const Jc="__ngSimpleChanges__";function nf(s){return s[Jc]||null}function Br(s){for(;Array.isArray(s);)s=s[0];return s}function As(s,o){return Br(o[s])}function ts(s,o){return Br(o[s.index])}function rl(s,o){return s.data[o]}function Nn(s,o){const l=o[s];return Lr(l)?l:l[0]}function il(s){return 64==(64&s[2])}function co(s,o){return null==o?null:s[o]}function vu(s){s[18]=0}function Xn(s,o){s[5]+=o;let l=s,h=s[3];for(;null!==h&&(1===o&&1===l[5]||-1===o&&0===l[5]);)h[5]+=o,l=h,h=h[3]}const Yt={lFrame:Gl(null),bindingsEnabled:!0};function fo(){return Yt.bindingsEnabled}function Ze(){return Yt.lFrame.lView}function yn(){return Yt.lFrame.tView}function sl(s){return Yt.lFrame.contextLView=s,s[8]}function Jo(s){return Yt.lFrame.contextLView=null,s}function Qr(){let s=bu();for(;null!==s&&64===s.type;)s=s.parent;return s}function bu(){return Yt.lFrame.currentTNode}function ol(){const s=Yt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function ps(s,o){const l=Yt.lFrame;l.currentTNode=s,l.isParent=o}function al(){return Yt.lFrame.isParent}function Hl(){Yt.lFrame.isParent=!1}function Vr(){const s=Yt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ur(){return Yt.lFrame.bindingIndex}function po(){return Yt.lFrame.bindingIndex++}function Ao(s){const o=Yt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Cu(s){Yt.lFrame.inI18n=s}function ap(s,o){const l=Yt.lFrame;l.bindingIndex=l.bindingRootIndex=s,cc(o)}function cc(s){Yt.lFrame.currentDirectiveIndex=s}function xa(){return Yt.lFrame.currentQueryIndex}function Eu(s){Yt.lFrame.currentQueryIndex=s}function rd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function jl(s,o,l){if(l&yt.SkipSelf){let f=o,_=s;for(;!(f=f.parent,null!==f||l&yt.Host||(f=rd(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;o=f,s=_}const h=Yt.lFrame=No();return h.currentTNode=o,h.lView=s,!0}function xu(s){const o=No(),l=s[1];Yt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function No(){const s=Yt.lFrame,o=null===s?null:s.child;return null===o?Gl(s):o}function Gl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function id(){const s=Yt.lFrame;return Yt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xd=id;function ll(){const s=id();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function mi(){return Yt.lFrame.selectedIndex}function Ns(s){Yt.lFrame.selectedIndex=s}function Cr(){const s=Yt.lFrame;return rl(s.tView,s.selectedIndex)}function sd(){Yt.lFrame.currentNamespace="svg"}function xe(s,o){for(let l=o.directiveStart,h=o.directiveEnd;l<h;l++){const _=s.data[l].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:T,ngAfterViewInit:E,ngAfterViewChecked:O,ngOnDestroy:L}=_;D&&(s.contentHooks||(s.contentHooks=[])).push(-l,D),T&&((s.contentHooks||(s.contentHooks=[])).push(l,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,T)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),O&&((s.viewHooks||(s.viewHooks=[])).push(l,O),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,O)),null!=L&&(s.destroyHooks||(s.destroyHooks=[])).push(l,L)}}function It(s,o,l){Tr(s,o,3,l)}function Qt(s,o,l,h){(3&s[2])===l&&Tr(s,o,l,h)}function Hn(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Tr(s,o,l,h){const _=h??-1,D=o.length-1;let T=0;for(let E=void 0!==h?65535&s[18]:0;E<D;E++)if("number"==typeof o[E+1]){if(T=o[E],null!=h&&T>=h)break}else o[E]<0&&(s[18]+=65536),(T<_||-1==_)&&(rr(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function rr(s,o,l,h){const f=l[h]<0,_=l[h+1],T=s[f?-l[h]:l[h]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{_.call(T)}finally{}}}else try{_.call(T)}finally{}}class Sa{constructor(o,l,h){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function dl(s,o,l){let h=0;for(;h<l.length;){const f=l[h];if("number"==typeof f){if(0!==f)break;h++;const _=l[h++],D=l[h++],T=l[h++];s.setAttribute(o,D,T,_)}else{const _=f,D=l[++h];dc(_)?s.setProperty(o,_,D):s.setAttribute(o,_,D),h++}}return h}function Mo(s){return 3===s||4===s||6===s}function dc(s){return 64===s.charCodeAt(0)}function Au(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let h=0;h<o.length;h++){const f=o[h];"number"==typeof f?l=f:0===l||eh(s,l,f,null,-1===l||2===l?o[++h]:null)}}return s}function eh(s,o,l,h,f){let _=0,D=s.length;if(-1===o)D=-1;else for(;_<s.length;){const T=s[_++];if("number"==typeof T){if(T===o){D=-1;break}if(T>o){D=_-1;break}}}for(;_<s.length;){const T=s[_];if("number"==typeof T)break;if(T===l){if(null===h)return void(null!==f&&(s[_+1]=f));if(h===s[_+1])return void(s[_+2]=f)}_++,null!==h&&_++,null!==f&&_++}-1!==D&&(s.splice(D,0,o),_=D+1),s.splice(_++,0,l),null!==h&&s.splice(_++,0,h),null!==f&&s.splice(_++,0,f)}function Nu(s){return-1!==s}function Er(s){return 32767&s}function ql(s,o){let l=function Aa(s){return s>>16}(s),h=o;for(;l>0;)h=h[15],l--;return h}let Os=!0;function Zl(s){const o=Os;return Os=s,o}let xr=0;const Ri={};function fl(s,o){const l=fc(s,o);if(-1!==l)return l;const h=o[1];h.firstCreatePass&&(s.injectorIndex=o.length,Ou(h.data,s),Ou(o,null),Ou(h.blueprint,null));const f=pl(s,o),_=s.injectorIndex;if(Nu(f)){const D=Er(f),T=ql(f,o),E=T[1].data;for(let O=0;O<8;O++)o[_+O]=T[D+O]|E[D+O]}return o[_+8]=f,_}function Ou(s,o){s.push(0,0,0,0,0,0,0,0,o)}function fc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function pl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,h=null,f=o;for(;null!==f;){if(h=Fo(f),null===h)return-1;if(l++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function go(s,o,l){!function hl(s,o,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(te)&&(h=l[te]),null==h&&(h=l[te]=xr++);const f=255&h;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function Oa(s,o,l){if(l&yt.Optional||void 0!==s)return s;Pe()}function gc(s,o,l,h){if(l&yt.Optional&&void 0===h&&(h=null),0==(l&(yt.Self|yt.Host))){const f=s[9],_=Cn(void 0);try{return f?f.get(o,h,l&yt.Optional):tr(o,h,l&yt.Optional)}finally{Cn(_)}}return Oa(h,0,l)}function gl(s,o,l,h=yt.Default,f){if(null!==s){if(1024&o[2]){const D=function Ro(s,o,l,h,f){let _=s,D=o;for(;null!==_&&null!==D&&1024&D[2]&&!(256&D[2]);){const T=Mu(_,D,l,h|yt.Self,Ri);if(T!==Ri)return T;let E=_.parent;if(!E){const O=D[21];if(O){const L=O.get(l,Ri,h);if(L!==Ri)return L}E=Fo(D),D=D[15]}_=E}return f}(s,o,l,h,Ri);if(D!==Ri)return D}const _=Mu(s,o,l,h,Ri);if(_!==Ri)return _}return gc(o,l,h,f)}function Mu(s,o,l,h,f){const _=function ld(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(te)?s[te]:void 0;return"number"==typeof o?o>=0?255&o:ml:o}(l);if("function"==typeof _){if(!jl(o,s,h))return h&yt.Host?Oa(f,0,h):gc(o,l,h,f);try{const D=_(h);if(null!=D||h&yt.Optional)return D;Pe()}finally{Xd()}}else if("number"==typeof _){let D=null,T=fc(s,o),E=-1,O=h&yt.Host?o[16][6]:null;for((-1===T||h&yt.SkipSelf)&&(E=-1===T?pl(s,o):o[T+8],-1!==E&&Fu(h,!1)?(D=o[1],T=Er(E),o=ql(E,o)):T=-1);-1!==T;){const L=o[1];if(Ru(_,T,L.data)){const z=ri(T,o,l,D,h,O);if(z!==Ri)return z}E=o[T+8],-1!==E&&Fu(h,o[1].data[T+8]===O)&&Ru(_,T,o)?(D=L,T=Er(E),o=ql(E,o)):T=-1}}return f}function ri(s,o,l,h,f,_){const D=o[1],T=D.data[s+8],L=Xr(T,D,l,null==h?Es(T)&&Os:h!=D&&0!=(3&T.type),f&yt.Host&&_===T);return null!==L?ea(o,D,L,T):Ri}function Xr(s,o,l,h,f){const _=s.providerIndexes,D=o.data,T=1048575&_,E=s.directiveStart,L=_>>20,se=f?T+L:s.directiveEnd;for(let me=h?T:T+L;me<se;me++){const je=D[me];if(me<E&&l===je||me>=E&&je.type===l)return me}if(f){const me=D[E];if(me&&pi(me)&&me.type===l)return E}return null}function ea(s,o,l,h){let f=s[l];const _=o.data;if(function Ii(s){return s instanceof Sa}(f)){const D=f;D.resolving&&function at(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Oe(s)}(_[l]));const T=Zl(D.canSeeViewProviders);D.resolving=!0;const E=D.injectImpl?Cn(D.injectImpl):null;jl(s,h,yt.Default);try{f=s[l]=D.factory(void 0,_,s,h),o.firstCreatePass&&l>=h.directiveStart&&function Be(s,o,l){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:_}=o.type.prototype;if(h){const D=tl(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,D),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,D)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),_&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_))}(l,_[l],o)}finally{null!==E&&Cn(E),Zl(T),D.resolving=!1,Xd()}}return f}function Ru(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Fu(s,o){return!(s&yt.Self||s&yt.Host&&o)}class ta{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,h){return gl(this._tNode,this._lView,o,h,l)}}function ml(){return new ta(Qr(),Ze())}function mo(s){return Rr(()=>{const o=s.prototype.constructor,l=o[oe]||na(o),h=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==h;){const _=f[oe]||na(f);if(_&&_!==l)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function na(s){return tt(s)?()=>{const o=na(ce(s));return o&&o()}:Eo(s)}function Fo(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function _l(s){return function pc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const h=l.length;let f=0;for(;f<h;){const _=l[f];if(Mo(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<h&&"string"==typeof l[f];)f++;else{if(_===o)return l[f+1];f+=2}}}return null}(Qr(),s)}const Ma="__parameters__";function Ql(s,o,l){return Rr(()=>{const h=function mc(s){return function(...l){if(s){const h=s(...l);for(const f in h)this[f]=h[f]}}}(o);function f(..._){if(this instanceof f)return h.apply(this,_),this;const D=new f(..._);return T.annotation=D,T;function T(E,O,L){const z=E.hasOwnProperty(Ma)?E[Ma]:Object.defineProperty(E,Ma,{value:[]})[Ma];for(;z.length<=L;)z.push(null);return(z[L]=z[L]||[]).push(D),E}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class pr{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=gn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rs(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let h=s[l];Array.isArray(h)?(o===s&&(o=s.slice(0,l)),rs(h,o)):o!==s&&o.push(h)}return o}function ii(s,o){s.forEach(l=>Array.isArray(l)?ii(l,o):o(l))}function si(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ir(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Wn(s,o){const l=[];for(let h=0;h<s;h++)l.push(o);return l}function ei(s,o,l){let h=Ra(s,o);return h>=0?s[1|h]=l:(h=~h,function hd(s,o,l,h){let f=s.length;if(f==o)s.push(l,h);else if(1===f)s.push(h,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=h}}(s,h,o,l)),h}function Lu(s,o){const l=Ra(s,o);if(l>=0)return s[1|l]}function Ra(s,o){return function Bu(s,o,l){let h=0,f=s.length>>l;for(;f!==h;){const _=h+(f-h>>1),D=s[_<<l];if(o===D)return _<<l;D>o?f=_:h=_+1}return~(f<<l)}(s,o,1)}const Mr={},Rs="__NG_DI_FLAG__",jn="ngTempTokenPath",_i=/\n/gm,Fs="__source";let Zs;function vi(s){const o=Zs;return Zs=s,o}function vc(s,o=yt.Default){if(void 0===Zs)throw new Le(-203,!1);return null===Zs?tr(s,void 0,o):Zs.get(s,o&yt.Optional?null:void 0,o)}function ti(s,o=yt.Default){return(function Hi(){return $i}()||vc)(ce(s),o)}function x(s,o=yt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),ti(s,o)}function N(s){const o=[];for(let l=0;l<s.length;l++){const h=ce(s[l]);if(Array.isArray(h)){if(0===h.length)throw new Le(900,!1);let f,_=yt.Default;for(let D=0;D<h.length;D++){const T=h[D],E=q(T);"number"==typeof E?-1===E?f=T.token:_|=E:f=T}o.push(ti(f,_))}else o.push(ti(h))}return o}function k(s,o){return s[Rs]=o,s.prototype[Rs]=o,s}function q(s){return s[Rs]}const nt=k(Ql("Optional"),8),Ht=k(Ql("SkipSelf"),4);let oh,Hr;function ai(s){oh=s}function La(s){return function sa(){if(void 0===Hr&&(Hr=null,Vn.trustedTypes))try{Hr=Vn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Hr}()?.createHTML(s)||s}class Dc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ua(s){return s instanceof Dc?s.changingThisBreaksApplicationSecurity:s}class ff{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(La(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class $g{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=La(o),l;const h=this.inertDocument.createElement("body");return h.innerHTML=La(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const D=l.item(f).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&o.removeAttribute(D)}let h=o.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Qs=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _o(s){return(s=String(s)).match(Qs)?s:"unsafe:"+s}function Lo(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Wu(...s){const o={};for(const l of s)for(const h in l)l.hasOwnProperty(h)&&(o[h]=!0);return o}const eu=Lo("area,br,col,hr,img,wbr"),uh=Lo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yd=Lo("rp,rt"),aa=Wu(eu,Wu(uh,Lo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wu(yd,Lo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wu(yd,uh)),ch=Lo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tc=Wu(ch,Lo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function $a(s){const o=function Zu(){const s=Ze();return s&&s[12]}();return o?o.sanitize(Gn.URL,s)||"":function _d(s,o){const l=function Ic(s){return s instanceof Dc&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?Ua(s):_o(Oe(s))}const Cd=new pr("ENVIRONMENT_INITIALIZER"),gh=new pr("INJECTOR",-1),Ac=new pr("INJECTOR_DEF_TYPES");class vf{get(o,l=Mr){if(l===Mr){const h=new Error(`NullInjectorError: No provider for ${Ne(o)}!`);throw h.name="NullInjectorError",h}return l}}function yf(...s){return{\u0275providers:Td(0,s)}}function Td(s,...o){const l=[],h=new Set;let f;return ii(o,_=>{const D=_;Js(D,l,[],h)&&(f||(f=[]),f.push(D))}),void 0!==f&&mh(f,l),l}function mh(s,o){for(let l=0;l<s.length;l++){const{providers:f}=s[l];ii(f,_=>{o.push(_)})}}function Js(s,o,l,h){if(!(s=ce(s)))return!1;let f=null,_=Ji(s);const D=!_&&an(s);if(_||D){if(D&&!D.standalone)return!1;f=s}else{const E=s.ngModule;if(_=Ji(E),!_)return!1;f=E}const T=h.has(f);if(D){if(T)return!1;if(h.add(f),D.dependencies){const E="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const O of E)Js(O,o,l,h)}}else{if(!_)return!1;{if(null!=_.imports&&!T){let O;h.add(f);try{ii(_.imports,L=>{Js(L,o,l,h)&&(O||(O=[]),O.push(L))})}finally{}void 0!==O&&mh(O,o)}if(!T){const O=Eo(f)||(()=>new f);o.push({provide:f,useFactory:O,deps:jt},{provide:Ac,useValue:f,multi:!0},{provide:Cd,useValue:()=>ti(f),multi:!0})}const E=_.providers;null==E||T||ii(E,L=>{o.push(L)})}}return f!==s&&void 0!==s.providers}const Nc=Ie({provide:String,useValue:Ie});function _h(s){return null!==s&&"object"==typeof s&&Nc in s}function Ha(s){return"function"==typeof s}const Ku=new pr("Set Injector scope."),is={},Mc={};let Rc;function xd(){return void 0===Rc&&(Rc=new vf),Rc}class bl{}class Vo extends bl{constructor(o,l,h,f){super(),this.parent=l,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nu(o,D=>this.processProvider(D)),this.records.set(gh,wi(void 0,this)),f.has("environment")&&this.records.set(bl,wi(void 0,this));const _=this.records.get(Ku);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Ac.multi,jt,yt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=vi(this),h=Cn(void 0);try{return o()}finally{vi(l),Cn(h)}}get(o,l=Mr,h=yt.Default){this.assertNotDestroyed();const f=vi(this),_=Cn(void 0);try{if(!(h&yt.SkipSelf)){let T=this.records.get(o);if(void 0===T){const E=function bh(s){return"function"==typeof s||"object"==typeof s&&s instanceof pr}(o)&&Xt(o);T=E&&this.injectableDefInScope(E)?wi(bi(o),is):null,this.records.set(o,T)}if(null!=T)return this.hydrate(o,T)}return(h&yt.Self?xd():this.parent).get(o,l=h&yt.Optional&&l===Mr?null:l)}catch(D){if("NullInjectorError"===D.name){if((D[jn]=D[jn]||[]).unshift(Ne(o)),f)throw D;return function he(s,o,l,h){const f=s[jn];throw o[Fs]&&f.unshift(o[Fs]),s.message=function Te(s,o,l,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=Ne(o);if(Array.isArray(o))f=o.map(Ne).join(" -> ");else if("object"==typeof o){let _=[];for(let D in o)if(o.hasOwnProperty(D)){let T=o[D];_.push(D+":"+("string"==typeof T?JSON.stringify(T):Ne(T)))}f=`{${_.join(", ")}}`}return`${l}${h?"("+h+")":""}[${f}]: ${s.replace(_i,"\n  ")}`}("\n"+s.message,f,l,h),s.ngTokenPath=f,s[jn]=null,s}(D,o,"R3InjectorError",this.source)}throw D}finally{Cn(_),vi(f)}}resolveInjectorInitializers(){const o=vi(this),l=Cn(void 0);try{const h=this.get(Cd.multi,jt,yt.Self);for(const f of h)f()}finally{vi(o),Cn(l)}}toString(){const o=[],l=this.records;for(const h of l.keys())o.push(Ne(h));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(o){let l=Ha(o=ce(o))?o:ce(o&&o.provide);const h=function Pc(s){return _h(s)?wi(void 0,s.useValue):wi(kc(s),is)}(o);if(Ha(o)||!0!==o.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=wi(void 0,is,!0),f.factory=()=>N(f.multi),this.records.set(l,f)),l=o,f.multi.push(o)}this.records.set(l,h)}hydrate(o,l){return l.value===is&&(l.value=Mc,l.value=l.factory()),"object"==typeof l.value&&l.value&&function yh(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ce(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function bi(s){const o=Xt(s),l=null!==o?o.factory:Eo(s);if(null!==l)return l;if(s instanceof pr)throw new Le(204,!1);if(s instanceof Function)return function Fc(s){const o=s.length;if(o>0)throw Wn(o,"?"),new Le(204,!1);const l=function Pn(s){const o=s&&(s[hr]||s[Ai]);if(o){const l=function Gr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Le(204,!1)}function kc(s,o,l){let h;if(Ha(s)){const f=ce(s);return Eo(f)||bi(f)}if(_h(s))h=()=>ce(s.useValue);else if(function vh(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...N(s.deps||[]));else if(function Oc(s){return!(!s||!s.useExisting)}(s))h=()=>ti(ce(s.useExisting));else{const f=ce(s&&(s.useClass||s.provide));if(!function Gt(s){return!!s.deps}(s))return Eo(f)||bi(f);h=()=>new f(...N(s.deps))}return h}function wi(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Lc(s){return!!s.\u0275providers}function nu(s,o){for(const l of s)Array.isArray(l)?nu(l,o):Lc(l)?nu(l.\u0275providers,o):o(l)}class Bc{}class m{resolveComponentFactory(o){throw function Li(s){const o=Error(`No component factory found for ${Ne(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let v=(()=>{class s{}return s.NULL=new m,s})();function I(){return M(Qr(),Ze())}function M(s,o){return new V(ts(s,o))}let V=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=I,s})();function le(s){return s instanceof V?s.nativeElement:s}class Je{}let St=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Kt(){const s=Ze(),l=Nn(Qr().index,s);return(Lr(l)?l:s)[11]}(),s})(),$t=(()=>{class s{}return s.\u0275prov=gn({token:s,providedIn:"root",factory:()=>null}),s})();class li{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Uo=new li("14.2.2"),la={};function bp(s){return s.ngOriginalError}class Nd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&bp(o);for(;l&&bp(l);)l=bp(l);return l||null}}const T0=/^>|^->|<!--|-->|--!>|<!-$/g,E0=/(<|>)/;const qg=new Map;let q_=0;const Cf="__ngContext__";function ks(s,o){Lr(o)?(s[Cf]=o[20],function K_(s){qg.set(s[20],s)}(o)):s[Cf]=o}function yo(s){return s instanceof Function?s():s}var ja=(()=>((ja=ja||{})[ja.Important=1]="Important",ja[ja.DashCase=2]="DashCase",ja))();let Cp;function Xg(s,o){return Cp(s,o)}function Ef(s){const o=s[3];return Yr(o)?o[3]:o}function Tp(s){return P0(s[13])}function sv(s){return P0(s[4])}function P0(s){for(;null!==s&&!Yr(s);)s=s[4];return s}function Md(s,o,l,h,f){if(null!=h){let _,D=!1;Yr(h)?_=h:Lr(h)&&(D=!0,h=h[0]);const T=Br(h);0===s&&null!==l?null==f?Ep(o,l,T):ss(o,l,T,f||null,!0):1===s&&null!==l?ss(o,l,T,f||null,!0):2===s?hv(o,T,D):3===s&&o.destroyNode(T),null!=_&&function za(s,o,l,h,f){const _=l[7];_!==Br(l)&&Md(o,s,h,_,f);for(let T=10;T<l.length;T++){const E=l[T];Af(E[1],E,s,o,h,_)}}(o,s,_,l,f)}}function em(s,o){return s.createText(o)}function L0(s,o,l){s.setValue(o,l)}function B0(s,o){return s.createComment(function G_(s){return s.replace(T0,o=>o.replace(E0,"\u200b$1\u200b"))}(o))}function ov(s,o,l){return s.createElement(o,l)}function xf(s,o){const l=s[9],h=l.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,Xn(f,-1)),l.splice(h,1)}function Ih(s,o){if(s.length<=10)return;const l=10+o,h=s[l];if(h){const f=h[17];null!==f&&f!==s&&xf(f,h),o>0&&(s[l-1][4]=h[4]);const _=ir(s,10+o);!function iD(s,o){Af(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(h[1],h);const D=_[19];null!==D&&D.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function wl(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Af(s,o,l,3,null,null),function aD(s){let o=s[13];if(!o)return tm(s[1],s);for(;o;){let l=null;if(Lr(o))l=o[13];else{const h=o[10];h&&(l=h)}if(!l){for(;o&&!o[4]&&o!==s;)Lr(o)&&tm(o[1],o),o=o[3];null===o&&(o=s),Lr(o)&&tm(o[1],o),l=o&&o[4]}o=l}}(o)}}function tm(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function da(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let h=0;h<l.length;h+=2){const f=o[l[h]];if(!(f instanceof Sa)){const _=l[h+1];if(Array.isArray(_))for(let D=0;D<_.length;D+=2){const T=f[_[D]],E=_[D+1];try{E.call(T)}finally{}}else try{_.call(f)}finally{}}}}(s,o),function av(s,o){const l=s.cleanup,h=o[7];let f=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const D=l[_+1],T="function"==typeof D?D(o):Br(o[D]),E=h[f=l[_+2]],O=l[_+3];"boolean"==typeof O?T.removeEventListener(l[_],E,O):O>=0?h[f=O]():h[f=-O].unsubscribe(),_+=2}else{const D=h[f=l[_+1]];l[_].call(D)}if(null!==h){for(let _=f+1;_<h.length;_++)(0,h[_])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Yr(o[3])){l!==o[3]&&xf(l,o);const h=o[19];null!==h&&h.detachView(s)}!function Y_(s){qg.delete(s[20])}(o)}}function Ga(s,o,l){return Wa(s,o.parent,l)}function Wa(s,o,l){let h=o;for(;null!==h&&40&h.type;)h=(o=h).parent;if(null===h)return l[0];if(2&h.flags){const f=s.data[h.directiveStart].encapsulation;if(f===Ot.None||f===Ot.Emulated)return null}return ts(h,l)}function ss(s,o,l,h,f){s.insertBefore(o,l,h,f)}function Ep(s,o,l){s.appendChild(o,l)}function Ch(s,o,l,h,f){null!==h?ss(s,o,l,h,f):Ep(s,o,l)}function Sp(s,o){return s.parentNode(o)}function Eh(s,o,l){return Ap(s,o,l)}function uv(s,o,l){return 40&s.type?ts(s,l):null}let Sf,Ap=uv;function cv(s,o){Ap=s,Sf=o}function Np(s,o,l,h){const f=Ga(s,h,o),_=o[11],T=Eh(h.parent||o[6],h,o);if(null!=f)if(Array.isArray(l))for(let E=0;E<l.length;E++)Ch(_,f,l[E],T,!1);else Ch(_,f,l,T,!1);void 0!==Sf&&Sf(_,h,o,l,f)}function Op(s,o){if(null!==o){const l=o.type;if(3&l)return ts(o,s);if(4&l)return xh(-1,s[o.index]);if(8&l){const h=o.child;if(null!==h)return Op(s,h);{const f=s[o.index];return Yr(f)?xh(-1,f):Br(f)}}if(32&l)return Xg(o,s)()||Br(s[o.index]);{const h=dv(s,o);return null!==h?Array.isArray(h)?h[0]:Op(Ef(s[16]),h):Op(s,o.next)}}return null}function dv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function xh(s,o){const l=10+s+1;if(l<o.length){const h=o[l],f=h[1].firstChild;if(null!==f)return Op(h,f)}return o[7]}function hv(s,o,l){const h=Sp(s,o);h&&function Th(s,o,l,h){s.removeChild(o,l,h)}(s,h,o,l)}function nm(s,o,l,h,f,_,D){for(;null!=l;){const T=h[l.index],E=l.type;if(D&&0===o&&(T&&ks(Br(T),h),l.flags|=4),64!=(64&l.flags))if(8&E)nm(s,o,l.child,h,f,_,!1),Md(o,s,f,T,_);else if(32&E){const O=Xg(l,h);let L;for(;L=O();)Md(o,s,f,L,_);Md(o,s,f,T,_)}else 16&E?fv(s,o,h,l,f,_):Md(o,s,f,T,_);l=D?l.projectionNext:l.next}}function Af(s,o,l,h,f,_){nm(l,h,s.firstChild,o,f,_,!1)}function fv(s,o,l,h,f,_){const D=l[16],E=D[6].projection[h.projection];if(Array.isArray(E))for(let O=0;O<E.length;O++)Md(o,s,f,E[O],_);else nm(s,o,E,D[3],f,_,!0)}function ha(s,o,l){s.setAttribute(o,"style",l)}function Nf(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Qu(s,o,l){let h=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const _=o.length;if(f+_===h||s.charCodeAt(f+_)<=32)return f}l=f+1}}const Hc="ng-template";function Ah(s,o,l){let h=0;for(;h<s.length;){let f=s[h++];if(l&&"class"===f){if(f=s[h],-1!==Qu(f.toLowerCase(),o,0))return!0}else if(1===f){for(;h<s.length&&"string"==typeof(f=s[h++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function Of(s){return 4===s.type&&s.value!==Hc}function rm(s,o,l){return o===(4!==s.type||l?s.value:Hc)}function jc(s,o,l){let h=4;const f=s.attrs||[],_=function $0(s){for(let o=0;o<s.length;o++)if(Mo(s[o]))return o;return s.length}(f);let D=!1;for(let T=0;T<o.length;T++){const E=o[T];if("number"!=typeof E){if(!D)if(4&h){if(h=2|1&h,""!==E&&!rm(s,E,l)||""===E&&1===o.length){if($o(h))return!1;D=!0}}else{const O=8&h?E:o[++T];if(8&h&&null!==s.attrs){if(!Ah(s.attrs,O,l)){if($o(h))return!1;D=!0}continue}const z=Mp(8&h?"class":E,f,Of(s),l);if(-1===z){if($o(h))return!1;D=!0;continue}if(""!==O){let se;se=z>_?"":f[z+1].toLowerCase();const me=8&h?se:null;if(me&&-1!==Qu(me,O,0)||2&h&&O!==se){if($o(h))return!1;D=!0}}}}else{if(!D&&!$o(h)&&!$o(E))return!1;if(D&&$o(E))continue;D=!1,h=E|1&h}}return $o(h)||D}function $o(s){return 0==(1&s)}function Mp(s,o,l,h){if(null===o)return-1;let f=0;if(h||!l){let _=!1;for(;f<o.length;){const D=o[f];if(D===s)return f;if(3===D||6===D)_=!0;else{if(1===D||2===D){let T=o[++f];for(;"string"==typeof T;)T=o[++f];continue}if(4===D)break;if(0===D){f+=4;continue}}f+=_?1:2}return-1}return function iu(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const h=s[l];if("number"==typeof h)return-1;if(h===o)return l;l++}return-1}(o,s)}function im(s,o,l=!1){for(let h=0;h<o.length;h++)if(jc(s,o[h],l))return!0;return!1}function Rp(s,o){e:for(let l=0;l<o.length;l++){const h=o[l];if(s.length===h.length){for(let f=0;f<s.length;f++)if(s[f]!==h[f])continue e;return!0}}return!1}function Fd(s,o){return s?":not("+o.trim()+")":o}function Mf(s){let o=s[0],l=1,h=2,f="",_=!1;for(;l<s.length;){let D=s[l];if("string"==typeof D)if(2&h){const T=s[++l];f+="["+D+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?f+="."+D:4&h&&(f+=" "+D);else""!==f&&!$o(D)&&(o+=Fd(_,f),f=""),h=D,_=_||!$o(h);l++}return""!==f&&(o+=Fd(_,f)),o}const on={};function sm(s){Nh(yn(),Ze(),mi()+s,!1)}function Nh(s,o,l,h){if(!h)if(3==(3&o[2])){const _=s.preOrderCheckHooks;null!==_&&It(o,_,l)}else{const _=s.preOrderHooks;null!==_&&Qt(o,_,0,l)}Ns(l)}function cm(s,o=null,l=null,h){const f=dm(s,o,l,h);return f.resolveInjectorInitializers(),f}function dm(s,o=null,l=null,h,f=new Set){const _=[l||jt,yf(s)];return h=h||("object"==typeof s?void 0:Ne(s)),new Vo(_,o||xd(),h||null,f)}let _s=(()=>{class s{static create(l,h){if(Array.isArray(l))return cm({name:""},h,l,"");{const f=l.name??"";return cm({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=Mr,s.NULL=new vf,s.\u0275prov=gn({token:s,providedIn:"any",factory:()=>ti(gh)}),s.__NG_ELEMENT_ID__=-1,s})();function Fh(s,o=yt.Default){const l=Ze();return null===l?ti(s,o):gl(Qr(),l,ce(s),o)}function mm(){throw new Error("invalid")}function eo(s,o){return s<<17|o<<2}function to(s){return s>>17&32767}function vm(s){return 2|s}function Xu(s){return(131068&s)>>2}function ym(s,o){return-131069&s|o<<2}function Il(s){return 1|s}function Av(s,o){const l=s.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const f=l[h],_=l[h+1];if(-1!==_){const D=s.data[_];Eu(f),D.contentQueries(2,o[_],_)}}}function Vp(s,o,l,h,f,_,D,T,E,O,L){const z=o.blueprint.slice();return z[0]=f,z[2]=76|h,(null!==L||s&&1024&s[2])&&(z[2]|=1024),vu(z),z[3]=z[15]=s,z[8]=l,z[10]=D||s&&s[10],z[11]=T||s&&s[11],z[12]=E||s&&s[12]||null,z[9]=O||s&&s[9]||null,z[6]=_,z[20]=function Z_(){return q_++}(),z[21]=L,z[16]=2==o.type?s[16]:z,z}function Tl(s,o,l,h,f){let _=s.data[o];if(null===_)_=Cm(s,o,l,h,f),function rf(){return Yt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=l,_.value=h,_.attrs=f;const D=ol();_.injectorIndex=null===D?-1:D.injectorIndex}return ps(_,!0),_}function Cm(s,o,l,h,f){const _=bu(),D=al(),E=s.data[o]=function db(s,o,l,h,f,_){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?_:_&&_.parent,l,o,h,f);return null===s.firstChild&&(s.firstChild=E),null!==_&&(D?null==_.child&&null!==E.parent&&(_.child=E):null===_.next&&(_.next=E)),E}function Ph(s,o,l,h){if(0===l)return-1;const f=o.length;for(let _=0;_<l;_++)o.push(h),s.blueprint.push(h),s.data.push(null);return f}function Tm(s,o,l){xu(o);try{const h=s.viewQuery;null!==h&&Wv(1,h,l);const f=s.template;null!==f&&Nv(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Av(s,o),s.staticViewQueries&&Wv(2,s.viewQuery,l);const _=s.components;null!==_&&function yD(s,o){for(let l=0;l<o.length;l++)CD(s,o[l])}(o,_)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{o[2]&=-5,ll()}}function Up(s,o,l,h){const f=o[2];if(128!=(128&f)){xu(o);try{vu(o),function Iu(s){return Yt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Nv(s,o,l,2,h);const D=3==(3&f);if(D){const O=s.preOrderCheckHooks;null!==O&&It(o,O,null)}else{const O=s.preOrderHooks;null!==O&&Qt(o,O,0,null),Hn(o,0)}if(function Mm(s){for(let o=Tp(s);null!==o;o=sv(o)){if(!o[2])continue;const l=o[9];for(let h=0;h<l.length;h++){const f=l[h],_=f[3];0==(512&f[2])&&Xn(_,1),f[2]|=512}}}(o),function ga(s){for(let o=Tp(s);null!==o;o=sv(o))for(let l=10;l<o.length;l++){const h=o[l],f=h[1];il(h)&&Up(f,h,f.template,h[8])}}(o),null!==s.contentQueries&&Av(s,o),D){const O=s.contentCheckHooks;null!==O&&It(o,O)}else{const O=s.contentHooks;null!==O&&Qt(o,O,1),Hn(o,1)}!function Sv(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const f=l[h];if(f<0)Ns(~f);else{const _=f,D=l[++h],T=l[++h];ap(D,_),T(2,o[_])}}}finally{Ns(-1)}}(s,o);const T=s.components;null!==T&&function lb(s,o){for(let l=0;l<o.length;l++)bb(s,o[l])}(o,T);const E=s.viewQuery;if(null!==E&&Wv(2,E,h),D){const O=s.viewCheckHooks;null!==O&&It(o,O)}else{const O=s.viewHooks;null!==O&&Qt(o,O,2),Hn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Xn(o[3],-1))}finally{ll()}}}function Nv(s,o,l,h,f){const _=mi(),D=2&h;try{Ns(-1),D&&o.length>22&&Nh(s,o,22,!1),l(h,f)}finally{Ns(_)}}function Em(s,o,l){if(To(o)){const f=o.directiveEnd;for(let _=o.directiveStart;_<f;_++){const D=s.data[_];D.contentQueries&&D.contentQueries(1,l[_],_)}}}function $p(s,o,l){!fo()||(function gb(s,o,l,h){const f=l.directiveStart,_=l.directiveEnd;s.firstCreatePass||fl(l,o),ks(h,o);const D=l.initialInputs;for(let T=f;T<_;T++){const E=s.data[T],O=pi(E);O&&DD(o,l,E);const L=ea(o,s,T,l);ks(L,o),null!==D&&Hv(0,T-f,L,E,0,D),O&&(Nn(l.index,o)[8]=L)}}(s,o,l,ts(l,o)),128==(128&l.flags)&&function mb(s,o,l){const h=l.directiveStart,f=l.directiveEnd,_=l.index,D=function nd(){return Yt.lFrame.currentDirectiveIndex}();try{Ns(_);for(let T=h;T<f;T++){const E=s.data[T],O=o[T];cc(T),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Lv(E,O)}}finally{Ns(-1),cc(D)}}(s,o,l))}function xm(s,o,l=ts){const h=o.localNames;if(null!==h){let f=o.index+1;for(let _=0;_<h.length;_+=2){const D=h[_+1],T=-1===D?l(o,s):s[D];s[f++]=T}}}function Ov(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Sm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Sm(s,o,l,h,f,_,D,T,E,O){const L=22+h,z=L+f,se=function ub(s,o){const l=[];for(let h=0;h<o;h++)l.push(h<s?null:on);return l}(L,z),me="function"==typeof O?O():O;return se[1]={type:s,blueprint:se,template:l,queries:null,viewQuery:T,declTNode:o,data:se.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:E,consts:me,incompleteFirstPass:!1}}function Mv(s,o,l,h){const f=zv(o);null===l?f.push(h):(f.push(l),s.firstCreatePass&&qv(s).push(h,f.length-1))}function Rv(s,o,l){for(let h in s)if(s.hasOwnProperty(h)){const f=s[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(o,f):l[h]=[o,f]}return l}function Fv(s,o){const h=o.directiveEnd,f=s.data,_=o.attrs,D=[];let T=null,E=null;for(let O=o.directiveStart;O<h;O++){const L=f[O],z=L.inputs,se=null===_||Of(o)?null:ID(z,_);D.push(se),T=Rv(z,O,T),E=Rv(L.outputs,O,E)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=16),T.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=D,o.inputs=T,o.outputs=E}function pa(s,o,l,h,f,_,D,T){const E=ts(o,l);let L,O=o.inputs;!T&&null!=O&&(L=O[h])?(Rm(s,l,L,h,f),Es(o)&&Pv(l,o.index)):3&o.type&&(h=function hb(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),f=null!=D?D(f,o.value||"",h):f,_.setProperty(E,h,f))}function Pv(s,o){const l=Nn(o,s);16&l[2]||(l[2]|=32)}function Nm(s,o,l,h){let f=!1;if(fo()){const _=function _b(s,o,l){const h=s.directiveRegistry;let f=null;if(h)for(let _=0;_<h.length;_++){const D=h[_];im(l,D.selectors,!1)&&(f||(f=[]),go(fl(l,o),s,D.type),pi(D)?(Bv(s,l),f.unshift(D)):f.push(D))}return f}(s,o,l),D=null===h?null:{"":-1};if(null!==_){f=!0,Vv(l,s.data.length,_.length);for(let L=0;L<_.length;L++){const z=_[L];z.providersResolver&&z.providersResolver(z)}let T=!1,E=!1,O=Ph(s,o,_.length,null);for(let L=0;L<_.length;L++){const z=_[L];l.mergedAttrs=Au(l.mergedAttrs,z.hostAttrs),Uv(s,l,o,O,z),Om(O,z,D),null!==z.contentQueries&&(l.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(l.flags|=128);const se=z.type.prototype;!T&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),T=!0),!E&&(se.ngOnChanges||se.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),O++}Fv(s,l)}D&&function vb(s,o,l){if(o){const h=s.localNames=[];for(let f=0;f<o.length;f+=2){const _=l[o[f+1]];if(null==_)throw new Le(-301,!1);h.push(o[f],_)}}}(l,h,D)}return l.mergedAttrs=Au(l.mergedAttrs,l.attrs),f}function kv(s,o,l,h,f,_){const D=_.hostBindings;if(D){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const E=~o.index;(function pb(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(T)!=E&&T.push(E),T.push(h,f,D)}}function Lv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Bv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Om(s,o,l){if(l){if(o.exportAs)for(let h=0;h<o.exportAs.length;h++)l[o.exportAs[h]]=s;pi(o)&&(l[""]=s)}}function Vv(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Uv(s,o,l,h,f){s.data[h]=f;const _=f.factory||(f.factory=Eo(f.type)),D=new Sa(_,pi(f),Fh);s.blueprint[h]=D,l[h]=D,kv(s,o,0,h,Ph(s,l,f.hostVars,on),f)}function DD(s,o,l){const h=ts(o,s),f=Ov(l),_=s[10],D=kh(s,Vp(s,f,null,l.onPush?32:16,h,o,_,_.createRenderer(h,l),null,null,null));s[o.index]=D}function $v(s,o,l,h,f,_,D){if(null==_)s.removeAttribute(o,f,l);else{const T=null==D?Oe(_):D(_,h||"",f);s.setAttribute(o,f,T,l)}}function Hv(s,o,l,h,f,_){const D=_[o];if(null!==D){const T=h.setInput;for(let E=0;E<D.length;){const O=D[E++],L=D[E++],z=D[E++];null!==T?h.setInput(l,z,O,L):l[L]=z}}}function ID(s,o){let l=null,h=0;for(;h<o.length;){const f=o[h];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[h+1])),h+=2}else h+=2;else h+=4}return l}function yb(s,o,l,h){return new Array(s,!0,!1,o,null,0,h,l,null,null)}function bb(s,o){const l=Nn(o,s);if(il(l)){const h=l[1];48&l[2]?Up(h,l,h.template,l[8]):l[5]>0&&jv(l)}}function jv(s){for(let h=Tp(s);null!==h;h=sv(h))for(let f=10;f<h.length;f++){const _=h[f];if(il(_))if(512&_[2]){const D=_[1];Up(D,_,D.template,_[8])}else _[5]>0&&jv(_)}const l=s[1].components;if(null!==l)for(let h=0;h<l.length;h++){const f=Nn(l[h],s);il(f)&&f[5]>0&&jv(f)}}function CD(s,o){const l=Nn(o,s),h=l[1];(function wb(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(h,l),Tm(h,l,l[8])}function kh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Gv(s){for(;s;){s[2]|=32;const o=Ef(s);if(el(s)&&!o)return s;s=o}return null}function kf(s,o,l,h=!0){const f=o[10];f.begin&&f.begin();try{Up(s,o,s.template,l)}catch(D){throw h&&Zv(o,D),D}finally{f.end&&f.end()}}function Wv(s,o,l){Eu(0),o(s,l)}function zv(s){return s[7]||(s[7]=[])}function qv(s){return s.cleanup||(s.cleanup=[])}function Zv(s,o){const l=s[9],h=l?l.get(Nd,null):null;h&&h.handleError(o)}function Rm(s,o,l,h,f){for(let _=0;_<l.length;){const D=l[_++],T=l[_++],E=o[D],O=s.data[D];null!==O.setInput?O.setInput(E,f,h,T):E[T]=f}}function ec(s,o,l){let h=l?s.styles:null,f=l?s.classes:null,_=0;if(null!==o)for(let D=0;D<o.length;D++){const T=o[D];"number"==typeof T?_=T:1==_?f=Ae(f,T):2==_&&(h=Ae(h,T+": "+o[++D]+";"))}l?s.styles=h:s.stylesWithoutHost=h,l?s.classes=f:s.classesWithoutHost=f}function Fm(s,o,l,h,f=!1){for(;null!==l;){const _=o[l.index];if(null!==_&&h.push(Br(_)),Yr(_))for(let T=10;T<_.length;T++){const E=_[T],O=E[1].firstChild;null!==O&&Fm(E[1],E,O,h)}const D=l.type;if(8&D)Fm(s,o,l.child,h);else if(32&D){const T=Xg(l,o);let E;for(;E=T();)h.push(E)}else if(16&D){const T=dv(o,l);if(Array.isArray(T))h.push(...T);else{const E=Ef(o[16]);Fm(E[1],E,T,h,!0)}}l=f?l.projectionNext:l.next}return h}class Lf{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Fm(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Yr(o)){const l=o[8],h=l?l.indexOf(this):-1;h>-1&&(Ih(o,h),ir(l,h))}this._attachedToViewContainer=!1}wl(this._lView[1],this._lView)}onDestroy(o){Mv(this._lView[1],this._lView,null,o)}markForCheck(){Gv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){kf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oD(s,o){Af(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=o}}class Pm extends Lf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;kf(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class El extends v{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=an(o);return new jp(l,this.ngModule)}}function Hp(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Kv{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,h){const f=this.injector.get(o,la,h);return f!==la||l===la?f:this.parentInjector.get(o,l,h)}}class jp extends Bc{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Rf(s){return s.map(Mf).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Hp(this.componentDef.inputs)}get outputs(){return Hp(this.componentDef.outputs)}create(o,l,h,f){let _=(f=f||this.ngModule)instanceof bl?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const D=_?new Kv(o,_):o,T=D.get(Je,null);if(null===T)throw new Le(407,!1);const E=D.get($t,null),O=T.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",z=h?function cb(s,o,l){return s.selectRootElement(o,l===Ot.ShadowDom)}(O,h,this.componentDef.encapsulation):ov(T.createRenderer(null,this.componentDef),L,function kd(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),se=this.componentDef.onPush?288:272,me=Sm(0,null,null,1,0,null,null,null,null,null),je=Vp(null,me,null,se,null,null,T,O,E,D,null);let dt,bt;xu(je);try{const Lt=function Cb(s,o,l,h,f,_){const D=l[1];l[22]=s;const E=Tl(D,22,2,"#host",null),O=E.mergedAttrs=o.hostAttrs;null!==O&&(ec(E,O,!0),null!==s&&(dl(f,s,O),null!==E.classes&&Nf(f,s,E.classes),null!==E.styles&&ha(f,s,E.styles)));const L=h.createRenderer(s,o),z=Vp(l,Ov(o),null,o.onPush?32:16,l[22],E,h,L,_||null,null,null);return D.firstCreatePass&&(go(fl(E,l),D,o.type),Bv(D,E),Vv(E,l.length,1)),kh(l,z),l[22]=z}(z,this.componentDef,je,T,O);if(z)if(h)dl(O,z,["ng-version",Uo.full]);else{const{attrs:Jt,classes:Ye}=function H0(s){const o=[],l=[];let h=1,f=2;for(;h<s.length;){let _=s[h];if("string"==typeof _)2===f?""!==_&&o.push(_,s[++h]):8===f&&l.push(_);else{if(!$o(f))break;f=_}h++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Jt&&dl(O,z,Jt),Ye&&Ye.length>0&&Nf(O,z,Ye.join(" "))}if(bt=rl(me,22),void 0!==l){const Jt=bt.projection=[];for(let Ye=0;Ye<this.ngContentSelectors.length;Ye++){const rn=l[Ye];Jt.push(null!=rn?Array.from(rn):null)}}dt=function SD(s,o,l,h){const f=l[1],_=function fb(s,o,l){const h=Qr();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Uv(s,h,o,Ph(s,o,1,null),l),Fv(s,h));const f=ea(o,s,h.directiveStart,h);ks(f,o);const _=ts(h,o);return _&&ks(_,o),f}(f,l,o);if(s[8]=l[8]=_,null!==h)for(const T of h)T(_,o);if(o.contentQueries){const T=Qr();o.contentQueries(1,_,T.directiveStart)}const D=Qr();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ns(D.index),kv(l[1],D,0,D.directiveStart,D.directiveEnd,o),Lv(o,_)),_}(Lt,this.componentDef,je,[Tb]),Tm(me,je,null)}finally{ll()}return new Ib(this.componentType,dt,M(bt,je),je,bt)}}class Ib extends class Yu{}{constructor(o,l,h,f,_){super(),this.location=h,this._rootLView=f,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new Pm(f),this.componentType=o}setInput(o,l){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[o])){const _=this._rootLView;Rm(_[1],_,f,o,l),Pv(_,this._tNode.index)}}get injector(){return new ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Tb(){const s=Qr();xe(Ze()[1],s)}function Lm(s){let o=function km(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const h=[s];for(;o;){let f;if(pi(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,!1);f=o.\u0275dir}if(f){if(l){h.push(f);const D=s;D.inputs=Ld(s.inputs),D.declaredInputs=Ld(s.declaredInputs),D.outputs=Ld(s.outputs);const T=f.hostBindings;T&&d(s,T);const E=f.viewQuery,O=f.contentQueries;if(E&&bo(s,E),O&&xb(s,O),Ee(s.inputs,f.inputs),Ee(s.declaredInputs,f.declaredInputs),Ee(s.outputs,f.outputs),pi(f)&&f.data.animation){const L=s.data;L.animation=(L.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let D=0;D<_.length;D++){const T=_[D];T&&T.ngInherit&&T(s),T===Lm&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Eb(s){let o=0,l=null;for(let h=s.length-1;h>=0;h--){const f=s[h];f.hostVars=o+=f.hostVars,f.hostAttrs=Au(f.hostAttrs,l=Au(l,f.hostAttrs))}}(h)}function Ld(s){return s===Wr?{}:s===jt?[]:s}function bo(s,o){const l=s.viewQuery;s.viewQuery=l?(h,f)=>{o(h,f),l(h,f)}:o}function xb(s,o){const l=s.contentQueries;s.contentQueries=l?(h,f,_)=>{o(h,f,_),l(h,f,_)}:o}function d(s,o){const l=s.hostBindings;s.hostBindings=l?(h,f)=>{o(h,f),l(h,f)}:o}let P=null;function H(){if(!P){const s=Vn.Symbol;if(s&&s.iterator)P=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const h=o[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(P=h)}}}return P}function ie(s){return!!We(s)&&(Array.isArray(s)||!(s instanceof Map)&&H()in s)}function We(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _t(s,o,l){return s[o]=l}function Pt(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function hn(s,o,l,h){const f=Pt(s,o,l);return Pt(s,o+1,h)||f}function fn(s,o,l,h){const f=Ze();return Pt(f,po(),o)&&(yn(),function ou(s,o,l,h,f,_){const D=ts(s,o);$v(o[11],D,_,s.value,l,h,f)}(Cr(),f,s,o,l,h)),fn}function ci(s,o,l,h){return Pt(s,po(),l)?o+Oe(l)+h:on}function GE(s,o,l,h,f,_,D,T){const E=Ze(),O=yn(),L=s+22,z=O.firstCreatePass?function MM(s,o,l,h,f,_,D,T,E){const O=o.consts,L=Tl(o,s,4,D||null,co(O,T));Nm(o,l,L,co(O,E)),xe(o,L);const z=L.tViews=Sm(2,L,h,f,_,o.directiveRegistry,o.pipeRegistry,null,o.schemas,O);return null!==o.queries&&(o.queries.template(o,L),z.queries=o.queries.embeddedTView(L)),L}(L,O,E,o,l,h,f,_,D):O.data[L];ps(z,!1);const se=E[11].createComment("");Np(O,E,se,z),ks(se,E),kh(E,E[L]=yb(se,E,se,z)),Ll(z)&&$p(O,E,z),null!=D&&xm(E,z,T)}function WE(s){return function So(s,o){return s[o]}(function wu(){return Yt.lFrame.contextLView}(),22+s)}function AD(s,o,l){const h=Ze();return Pt(h,po(),o)&&pa(yn(),Cr(),h,s,o,h[11],l,!1),AD}function ND(s,o,l,h,f){const D=f?"class":"style";Rm(s,l,o.inputs[D],D,h)}function Nb(s,o,l,h){const f=Ze(),_=yn(),D=22+s,T=f[11],E=f[D]=ov(T,o,function de(){return Yt.lFrame.currentNamespace}()),O=_.firstCreatePass?function FM(s,o,l,h,f,_,D){const T=o.consts,O=Tl(o,s,2,f,co(T,_));return Nm(o,l,O,co(T,D)),null!==O.attrs&&ec(O,O.attrs,!1),null!==O.mergedAttrs&&ec(O,O.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,O),O}(D,_,f,0,o,l,h):_.data[D];ps(O,!0);const L=O.mergedAttrs;null!==L&&dl(T,E,L);const z=O.classes;null!==z&&Nf(T,E,z);const se=O.styles;return null!==se&&ha(T,E,se),64!=(64&O.flags)&&Np(_,f,E,O),0===function ho(){return Yt.lFrame.elementDepthCount}()&&ks(E,f),function $l(){Yt.lFrame.elementDepthCount++}(),Ll(O)&&($p(_,f,O),Em(_,O,f)),null!==h&&xm(f,O),Nb}function Yv(){let s=Qr();al()?Hl():(s=s.parent,ps(s,!1));const o=s;!function Xc(){Yt.lFrame.elementDepthCount--}();const l=yn();return l.firstCreatePass&&(xe(l,s),To(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function cl(s){return 0!=(16&s.flags)}(o)&&ND(l,o,Ze(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Su(s){return 0!=(32&s.flags)}(o)&&ND(l,o,Ze(),o.stylesWithoutHost,!1),Yv}function Ob(s,o,l,h){return Nb(s,o,l,h),Yv(),Ob}function Mb(s,o,l){const h=Ze(),f=yn(),_=s+22,D=f.firstCreatePass?function PM(s,o,l,h,f){const _=o.consts,D=co(_,h),T=Tl(o,s,8,"ng-container",D);return null!==D&&ec(T,D,!0),Nm(o,l,T,co(_,f)),null!==o.queries&&o.queries.elementStart(o,T),T}(_,f,h,o,l):f.data[_];ps(D,!0);const T=h[_]=h[11].createComment("");return Np(f,h,T,D),ks(T,h),Ll(D)&&($p(f,h,D),Em(f,D,h)),null!=l&&xm(h,D),Mb}function Rb(){let s=Qr();const o=yn();return al()?Hl():(s=s.parent,ps(s,!1)),o.firstCreatePass&&(xe(o,s),To(s)&&o.queries.elementEnd(s)),Rb}function OD(s,o,l){return Mb(s,o,l),Rb(),OD}function MD(){return Ze()}function RD(s){return!!s&&"function"==typeof s.then}function zE(s){return!!s&&"function"==typeof s.subscribe}const FD=zE;function PD(s,o,l,h){const f=Ze(),_=yn(),D=Qr();return function ZE(s,o,l,h,f,_,D,T){const E=Ll(h),L=s.firstCreatePass&&qv(s),z=o[8],se=zv(o);let me=!0;if(3&h.type||T){const bt=ts(h,o),Lt=T?T(bt):bt,Jt=se.length,Ye=T?mr=>T(Br(mr[h.index])):h.index;let rn=null;if(!T&&E&&(rn=function kM(s,o,l,h){const f=s.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const D=f[_];if(D===l&&f[_+1]===h){const T=o[7],E=f[_+2];return T.length>E?T[E]:null}"string"==typeof D&&(_+=2)}return null}(s,o,f,h.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=_,rn.__ngLastListenerFn__=_,me=!1;else{_=kD(h,o,z,_,!1);const mr=l.listen(Lt,f,_);se.push(_,mr),L&&L.push(f,Ye,Jt,Jt+1)}}else _=kD(h,o,z,_,!1);const je=h.outputs;let dt;if(me&&null!==je&&(dt=je[f])){const bt=dt.length;if(bt)for(let Lt=0;Lt<bt;Lt+=2){const Ei=o[dt[Lt]][dt[Lt+1]].subscribe(_),Kf=se.length;se.push(_,Ei),L&&L.push(f,h.index,Kf,-(Kf+1))}}}(_,f,f[11],D,s,o,0,h),PD}function KE(s,o,l,h){try{return!1!==l(h)}catch(f){return Zv(s,f),!1}}function kD(s,o,l,h,f){return function _(D){if(D===Function)return h;Gv(2&s.flags?Nn(s.index,o):o);let E=KE(o,0,h,D),O=_.__ngNextListenerFn__;for(;O;)E=KE(o,0,O,D)&&E,O=O.__ngNextListenerFn__;return f&&!1===E&&(D.preventDefault(),D.returnValue=!1),E}}function YE(s=1){return function zs(s){return(Yt.lFrame.contextLView=function gs(s,o){for(;s>0;)o=o[15],s--;return o}(s,Yt.lFrame.contextLView))[8]}(s)}function LM(s,o){let l=null;const h=function ru(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const _=o[f];if("*"!==_){if(null===h?im(s,_,!0):Rp(h,_))return f}else l=f}return l}function QE(s){const o=Ze()[16][6];if(!o.projection){const h=o.projection=Wn(s?s.length:1,null),f=h.slice();let _=o.child;for(;null!==_;){const D=s?LM(_,s):0;null!==D&&(f[D]?f[D].projectionNext=_:h[D]=_,f[D]=_),_=_.next}}}function vs(s,o=0,l){const h=Ze(),f=yn(),_=Tl(f,22+s,16,null,l||null);null===_.projection&&(_.projection=o),Hl(),64!=(64&_.flags)&&function U0(s,o,l){fv(o[11],0,o,l,Ga(s,l,o),Eh(l.parent||o[6],l,o))}(f,h,_)}function LD(s,o,l){return Fb(s,"",o,"",l),LD}function Fb(s,o,l,h,f){const _=Ze(),D=ci(_,o,l,h);return D!==on&&pa(yn(),Cr(),_,s,D,_[11],f,!1),Fb}function BD(s,o,l,h,f,_,D){const T=Ze(),E=function Bi(s,o,l,h,f,_){const T=hn(s,Ur(),l,f);return Ao(2),T?o+Oe(l)+h+Oe(f)+_:on}(T,o,l,h,f,_);return E!==on&&pa(yn(),Cr(),T,s,E,T[11],D,!1),BD}function HD(s,o,l,h,f){const _=s[l+1],D=null===o;let T=h?to(_):Xu(_),E=!1;for(;0!==T&&(!1===E||D);){const L=s[T+1];nx(s[T],o)&&(E=!0,s[T+1]=h?Il(L):vm(L)),T=h?to(L):Xu(L)}E&&(s[l+1]=h?vm(_):Il(_))}function nx(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ra(s,o)>=0}const Ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jD(s){return s.substring(Ls.key,Ls.keyEnd)}function GD(s,o){const l=Ls.textEnd;return l===o?-1:(o=Ls.keyEnd=function qD(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Ls.key=o,l),Wp(s,o,l))}function Wp(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function QD(s,o,l){return zc(s,o,l,!1),QD}function Lb(s,o){return zc(s,o,null,!0),Lb}function ox(s){!function qc(s,o,l,h){const f=yn(),_=Ao(2);f.firstUpdatePass&&lx(f,null,_,h);const D=Ze();if(l!==on&&Pt(D,_,l)){const T=f.data[mi()];if(Vb(T,h)&&!ax(f,_)){let E=h?T.classesWithoutHost:T.stylesWithoutHost;null!==E&&(l=Ae(E,l||"")),ND(f,T,D,l,h)}else!function GM(s,o,l,h,f,_,D,T){f===on&&(f=jt);let E=0,O=0,L=0<f.length?f[0]:null,z=0<_.length?_[0]:null;for(;null!==L||null!==z;){const se=E<f.length?f[E+1]:void 0,me=O<_.length?_[O+1]:void 0;let dt,je=null;L===z?(E+=2,O+=2,se!==me&&(je=z,dt=me)):null===z||null!==L&&L<z?(E+=2,je=L):(O+=2,je=z,dt=me),null!==je&&dx(s,o,l,h,je,dt,D,T),L=E<f.length?f[E]:null,z=O<_.length?_[O]:null}}(f,T,D,D[11],D[_+1],D[_+1]=function ux(s,o,l){if(null==l||""===l)return jt;const h=[],f=Ua(l);if(Array.isArray(f))for(let _=0;_<f.length;_++)s(h,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&s(h,_,f[_]);else"string"==typeof f&&o(h,f);return h}(s,o,l),h,_)}}(ei,Ud,s,!0)}function Ud(s,o){for(let l=function ix(s){return function zD(s){Ls.key=0,Ls.keyEnd=0,Ls.value=0,Ls.valueEnd=0,Ls.textEnd=s.length}(s),GD(s,Wp(s,0,Ls.textEnd))}(o);l>=0;l=GD(o,l))ei(s,jD(o),!0)}function zc(s,o,l,h){const f=Ze(),_=yn(),D=Ao(2);_.firstUpdatePass&&lx(_,s,D,h),o!==on&&Pt(f,D,o)&&dx(_,_.data[mi()],f,f[11],s,f[D+1]=function WM(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ne(Ua(s)))),s}(o,l),h,D)}function ax(s,o){return o>=s.expandoStartIndex}function lx(s,o,l,h){const f=s.data;if(null===f[l+1]){const _=f[mi()],D=ax(s,l);Vb(_,h)&&null===o&&!D&&(o=!1),o=function UM(s,o,l,h){const f=function Tu(s){const o=Yt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let _=h?o.residualClasses:o.residualStyles;if(null===f)0===(h?o.classBindings:o.styleBindings)&&(l=Qv(l=JD(null,s,o,l,h),o.attrs,h),_=null);else{const D=o.directiveStylingLast;if(-1===D||s[D]!==f)if(l=JD(f,s,o,l,h),null===_){let E=function $M(s,o,l){const h=l?o.classBindings:o.styleBindings;if(0!==Xu(h))return s[to(h)]}(s,o,h);void 0!==E&&Array.isArray(E)&&(E=JD(null,s,o,E[1],h),E=Qv(E,o.attrs,h),function HM(s,o,l,h){s[to(l?o.classBindings:o.styleBindings)]=h}(s,o,h,E))}else _=function jM(s,o,l){let h;const f=o.directiveEnd;for(let _=1+o.directiveStylingLast;_<f;_++)h=Qv(h,s[_].hostAttrs,l);return Qv(h,o.attrs,l)}(s,o,h)}return void 0!==_&&(h?o.residualClasses=_:o.residualStyles=_),l}(f,_,o,h),function ex(s,o,l,h,f,_){let D=_?o.classBindings:o.styleBindings,T=to(D),E=Xu(D);s[h]=l;let L,O=!1;if(Array.isArray(l)){const z=l;L=z[1],(null===L||Ra(z,L)>0)&&(O=!0)}else L=l;if(f)if(0!==E){const se=to(s[T+1]);s[h+1]=eo(se,T),0!==se&&(s[se+1]=ym(s[se+1],h)),s[T+1]=function Q0(s,o){return 131071&s|o<<17}(s[T+1],h)}else s[h+1]=eo(T,0),0!==T&&(s[T+1]=ym(s[T+1],h)),T=h;else s[h+1]=eo(E,0),0===T?T=h:s[E+1]=ym(s[E+1],h),E=h;O&&(s[h+1]=vm(s[h+1])),HD(s,L,h,!0),HD(s,L,h,!1),function tx(s,o,l,h,f){const _=f?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof o&&Ra(_,o)>=0&&(l[h+1]=Il(l[h+1]))}(o,L,s,h,_),D=eo(T,E),_?o.classBindings=D:o.styleBindings=D}(f,_,o,l,D,h)}}function JD(s,o,l,h,f){let _=null;const D=l.directiveEnd;let T=l.directiveStylingLast;for(-1===T?T=l.directiveStart:T++;T<D&&(_=o[T],h=Qv(h,_.hostAttrs,f),_!==s);)T++;return null!==s&&(l.directiveStylingLast=T),h}function Qv(s,o,l){const h=l?1:2;let f=-1;if(null!==o)for(let _=0;_<o.length;_++){const D=o[_];"number"==typeof D?f=D:f===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ei(s,D,!!l||o[++_]))}return void 0===s?null:s}function dx(s,o,l,h,f,_,D,T){if(!(3&o.type))return;const E=s.data,O=E[T+1];Bb(function bv(s){return 1==(1&s)}(O)?hx(E,o,l,f,Xu(O),D):void 0)||(Bb(_)||function _m(s){return 2==(2&s)}(O)&&(_=hx(E,null,l,f,T,D)),function Rd(s,o,l,h,f){if(o)f?s.addClass(l,h):s.removeClass(l,h);else{let _=-1===h.indexOf("-")?void 0:ja.DashCase;null==f?s.removeStyle(l,h,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=ja.Important),s.setStyle(l,h,f,_))}}(h,D,As(mi(),l),f,_))}function hx(s,o,l,h,f,_){const D=null===o;let T;for(;f>0;){const E=s[f],O=Array.isArray(E),L=O?E[1]:E,z=null===L;let se=l[f+1];se===on&&(se=z?jt:void 0);let me=z?Lu(se,h):L===h?se:void 0;if(O&&!Bb(me)&&(me=Lu(E,h)),Bb(me)&&(T=me,D))return T;const je=s[f+1];f=D?to(je):Xu(je)}if(null!==o){let E=_?o.residualClasses:o.residualStyles;null!=E&&(T=Lu(E,h))}return T}function Bb(s){return void 0!==s}function Vb(s,o){return 0!=(s.flags&(o?16:32))}function fx(s,o=""){const l=Ze(),h=yn(),f=s+22,_=h.firstCreatePass?Tl(h,f,1,o,null):h.data[f],D=l[f]=em(l[11],o);Np(h,l,D,_),ps(_,!1)}function xl(s){return ni("",s,""),xl}function ni(s,o,l){const h=Ze(),f=ci(h,s,o,l);return f!==on&&function au(s,o,l){const h=As(o,s);L0(s[11],h,l)}(h,mi(),f),ni}function iI(s,o,l){const h=Ze();return Pt(h,po(),o)&&pa(yn(),Cr(),h,s,o,h[11],l,!0),iI}const Bh=void 0;var sI=["en",[["a","p"],["AM","PM"],Bh],[["AM","PM"],Bh,Bh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bh,"{1} 'at' {0}",Bh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ax(s){const l=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let Hf={};function Zp(s){const o=function QM(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Ox(o);if(l)return l;const h=o.split("-")[0];if(l=Ox(h),l)return l;if("en"===h)return sI;throw new Le(701,!1)}function Um(s){return Zp(s)[Wt.PluralCase]}function Ox(s){return s in Hf||(Hf[s]=Vn.ng&&Vn.ng.common&&Vn.ng.common.locales&&Vn.ng.common.locales[s]),Hf[s]}var Wt=(()=>((Wt=Wt||{})[Wt.LocaleId=0]="LocaleId",Wt[Wt.DayPeriodsFormat=1]="DayPeriodsFormat",Wt[Wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Wt[Wt.DaysFormat=3]="DaysFormat",Wt[Wt.DaysStandalone=4]="DaysStandalone",Wt[Wt.MonthsFormat=5]="MonthsFormat",Wt[Wt.MonthsStandalone=6]="MonthsStandalone",Wt[Wt.Eras=7]="Eras",Wt[Wt.FirstDayOfWeek=8]="FirstDayOfWeek",Wt[Wt.WeekendRange=9]="WeekendRange",Wt[Wt.DateFormat=10]="DateFormat",Wt[Wt.TimeFormat=11]="TimeFormat",Wt[Wt.DateTimeFormat=12]="DateTimeFormat",Wt[Wt.NumberSymbols=13]="NumberSymbols",Wt[Wt.NumberFormats=14]="NumberFormats",Wt[Wt.CurrencyCode=15]="CurrencyCode",Wt[Wt.CurrencySymbol=16]="CurrencySymbol",Wt[Wt.CurrencyName=17]="CurrencyName",Wt[Wt.Currencies=18]="Currencies",Wt[Wt.Directionality=19]="Directionality",Wt[Wt.PluralCase=20]="PluralCase",Wt[Wt.ExtraData=21]="ExtraData",Wt))();const Rx=["zero","one","two","few","many"],Kp="en-US",iy={marker:"element"},sy={marker:"ICU"};var qi=(()=>((qi=qi||{})[qi.SHIFT=2]="SHIFT",qi[qi.APPEND_EAGERLY=1]="APPEND_EAGERLY",qi[qi.COMMENT=2]="COMMENT",qi))();let aI=Kp;function $b(s){(function un(s,o){null==s&&pt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(aI=s.toLowerCase().replace(/_/g,"-"))}function Hb(s,o,l){const h=o.insertBeforeIndex,f=Array.isArray(h)?h[0]:h;return null===f?uv(s,0,l):Br(l[f])}function lI(s,o,l,h,f){const _=o.insertBeforeIndex;if(Array.isArray(_)){let D=h,T=null;if(3&o.type||(T=D,D=f),null!==D&&0==(2&o.flags))for(let E=1;E<_.length;E++)ss(s,D,l[_[E]],T,!1)}}function jb(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const h=s[l];oy(h)||Gb(h,o)&&null===uI(h)&&Px(h,o.index)}}function oy(s){return!(64&s.type)}function Gb(s,o){return oy(o)||s.index>o.index}function uI(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Px(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(cv(Hb,lI),s.insertBeforeIndex=o)}function Hm(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function eR(s,o,l){const h=Cm(s,l,64,null,null);return jb(o,h),h}function jm(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function cI(s){return s>>>17}function zb(s){return(131070&s)>>>1}let Yp=0,Qp=0;function kx(s,o,l,h){const f=l[11];let D,_=null;for(let T=0;T<o.length;T++){const E=o[T];if("string"==typeof E){const O=o[++T];null===l[O]&&(l[O]=em(f,E))}else if("number"==typeof E)switch(1&E){case 0:const O=cI(E);let L,z;if(null===_&&(_=O,D=Sp(f,h)),O===_?(L=h,z=D):(L=null,z=Br(l[O])),null!==z){const dt=zb(E);ss(f,z,l[dt],L,!1);const Lt=Hm(s,dt);if(null!==Lt&&"object"==typeof Lt){const Jt=jm(Lt,l);null!==Jt&&kx(s,Lt.create[Jt],l,l[Lt.anchorIdx])}}break;case 1:const me=o[++T],je=o[++T];$v(f,As(E>>>1,l),null,null,me,je,null)}else switch(E){case sy:const O=o[++T],L=o[++T];null===l[L]&&ks(l[L]=B0(f,O),l);break;case iy:const z=o[++T],se=o[++T];null===l[se]&&ks(l[se]=ov(f,z,null),l)}}}function Zb(s,o,l,h,f){for(let _=0;_<l.length;_++){const D=l[_],T=l[++_];if(D&f){let E="";for(let O=_+1;O<=_+T;O++){const L=l[O];if("string"==typeof L)E+=L;else if("number"==typeof L)if(L<0)E+=Oe(o[h-L]);else{const z=L>>>2;switch(3&L){case 1:const se=l[++O],me=l[++O],je=s.data[z];"string"==typeof je?$v(o[11],o[z],null,je,se,E,me):pa(s,je,o,se,E,o[11],me,!1);break;case 0:const dt=o[z];null!==dt&&L0(o[11],dt,E);break;case 2:Lx(s,Hm(s,z),o,E);break;case 3:pI(s,Hm(s,z),h,o)}}}}else{const E=l[_+1];if(E>0&&3==(3&E)){const L=Hm(s,E>>>2);o[L.currentCaseLViewIndex]<0&&pI(s,L,h,o)}}_+=T}}function pI(s,o,l,h){let f=h[o.currentCaseLViewIndex];if(null!==f){let _=Yp;f<0&&(f=h[o.currentCaseLViewIndex]=~f,_=-1),Zb(s,h,o.update[f],l,_)}}function Lx(s,o,l,h){const f=function Bx(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const h=function oI(s,o){const l=Um(o)(parseInt(s,10)),h=Rx[l];return void 0!==h?h:"other"}(o,function Fx(){return aI}());l=s.cases.indexOf(h),-1===l&&"other"!==h&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,h);if(jm(o,l)!==f&&(gI(s,o,l),l[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const D=l[o.anchorIdx];D&&kx(s,o.create[f],l,D)}}function gI(s,o,l){let h=jm(o,l);if(null!==h){const f=o.remove[h];for(let _=0;_<f.length;_++){const D=f[_];if(D>0){const T=As(D,l);null!==T&&hv(l[11],T)}else gI(s,Hm(s,~D),l)}}}function mI(){const s=[];let l,h,o=-1;function _(T,E){o=0;const O=jm(T,E);h=null!==O?T.remove[O]:jt}function D(){if(o<h.length){const T=h[o++];return T>0?l[T]:(s.push(o,h),_(l[1].data[~T],l),D())}return 0===s.length?null:(h=s.pop(),o=s.pop(),D())}return function f(T,E){for(l=E;s.length;)s.pop();return _(T.value,E),D}}const Kb=/\ufffd(\d+):?\d*\ufffd/gi,rR=/\ufffd(\d+)\ufffd/,Ux=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,iR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,sR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,vI=/\uE500/g;function $x(s,o,l,h,f,_,D){const T=Ph(s,h,1,null);let E=T<<qi.SHIFT,O=ol();o===O&&(O=null),null===O&&(E|=qi.APPEND_EAGERLY),D&&(E|=qi.COMMENT,function tv(s){void 0===Cp&&(Cp=s())}(mI)),f.push(E,null===_?"":_);const L=Cm(s,T,D?32:1,null===_?"":_,null);jb(l,L);const z=L.index;return ps(L,!1),null!==O&&o!==O&&function XM(s,o){let l=s.insertBeforeIndex;null===l?(cv(Hb,lI),l=s.insertBeforeIndex=[null,o]):(function Re(s,o,l){s!=o&&pt(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(O,z),L}function lR(s,o,l,h,f,_,D){const T=D.match(Kb),E=$x(s,o,l,_,h,T?null:D,!1);T&&ay(f,D,E.index,null,0,null)}function ay(s,o,l,h,f,_){const D=s.length,T=D+1;s.push(null,null);const E=D+2,O=o.split(Kb);let L=0;for(let z=0;z<O.length;z++){const se=O[z];if(1&z){const me=f+parseInt(se,10);s.push(-1-me),L|=yI(me)}else""!==se&&s.push(se)}return s.push(l<<2|(h?1:0)),h&&s.push(h,_),s[D]=L,s[T]=s.length-E,L}function yI(s){return 1<<Math.min(s,31)}function jx(s){let o,_,l="",h=0,f=!1;for(;null!==(o=iR.exec(s));)f?o[0]===`\ufffd/*${_}\ufffd`&&(h=o.index,f=!1):(l+=s.substring(h,o.index+o[0].length),_=o[1],f=!0);return l+=s.slice(h),l}function Gx(s,o,l,h,f,_){let D=0;const T={type:f.type,currentCaseLViewIndex:Ph(s,o,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function pR(s,o,l){s.push(yI(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,f,_),function Wb(s,o,l){const h=s.data[o];null===h?s.data[o]=l:h.value=l}(s,_,T);const E=f.values;for(let O=0;O<E.length;O++){const L=E[O],z=[];for(let se=0;se<L.length;se++){const me=L[se];if("string"!=typeof me){const je=z.push(me)-1;L[se]=`\x3c!--\ufffd${je}\ufffd--\x3e`}}D=hR(s,T,o,l,h,f.cases[O],L.join(""),z)|D}D&&function gR(s,o,l){s.push(o,1,l<<2|3)}(l,D,_)}function dR(s){const o=[],l=[];let h=1,f=0;const _=wI(s=s.replace(Ux,function(D,T,E){return h="select"===E?0:1,f=parseInt(T.slice(1),10),""}));for(let D=0;D<_.length;){let T=_[D++].trim();1===h&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&o.push(T);const E=wI(_[D++]);o.length>l.length&&l.push(E)}return{type:h,mainBinding:f,cases:o,values:l}}function wI(s){if(!s)return[];let o=0;const l=[],h=[],f=/[{}]/g;let _;for(f.lastIndex=0;_=f.exec(s);){const T=_.index;if("}"==_[0]){if(l.pop(),0==l.length){const E=s.substring(o,T);Ux.test(E)?h.push(dR(E)):h.push(E),o=T+1}}else{if(0==l.length){const E=s.substring(o,T);h.push(E),o=T+1}l.push("{")}}const D=s.substring(o);return h.push(D),h}function hR(s,o,l,h,f,_,D,T){const E=[],O=[],L=[];o.cases.push(_),o.create.push(E),o.remove.push(O),o.update.push(L);const se=function zi(s){const o=new $g(s);return function vd(){try{return!!(new window.DOMParser).parseFromString(La(""),"text/html")}catch{return!1}}()?new ff(o):o}(function ki(){return void 0!==oh?oh:typeof document<"u"?document:void 0}()).getInertBodyElement(D),me=function qu(s){return"content"in s&&function _f(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(se)||se;return me?Wx(s,o,l,h,E,O,L,me,f,T,0):0}function Wx(s,o,l,h,f,_,D,T,E,O,L){let z=0,se=T.firstChild;for(;se;){const me=Ph(s,l,1,null);switch(se.nodeType){case Node.ELEMENT_NODE:const je=se,dt=je.tagName.toLowerCase();if(aa.hasOwnProperty(dt)){DI(f,iy,dt,E,me),s.data[me]=dt;const Ye=je.attributes;for(let rn=0;rn<Ye.length;rn++){const mr=Ye.item(rn),Ei=mr.name.toLowerCase();mr.value.match(Kb)?Tc.hasOwnProperty(Ei)&&ay(D,mr.value,me,mr.name,0,ch[Ei]?_o:null):II(f,me,mr)}z=Wx(s,o,l,h,f,_,D,se,me,O,L+1)|z,Yb(_,me,L)}break;case Node.TEXT_NODE:const bt=se.textContent||"",Lt=bt.match(Kb);DI(f,null,Lt?"":bt,E,me),Yb(_,me,L),Lt&&(z=ay(D,bt,me,null,0,null)|z);break;case Node.COMMENT_NODE:const Jt=rR.exec(se.textContent||"");if(Jt){const rn=O[parseInt(Jt[1],10)];DI(f,sy,"",E,me),Gx(s,l,h,E,rn,me),fR(_,me,L)}}se=se.nextSibling}return z}function Yb(s,o,l){0===l&&s.push(o)}function fR(s,o,l){0===l&&(s.push(~o),s.push(o))}function DI(s,o,l,h,f){null!==o&&s.push(o),s.push(l,f,function dI(s,o,l){return s|o<<17|l<<1}(0,h,f))}function II(s,o,l){s.push(o<<1|1,l.name,l.value)}function Qb(s,o,l=-1){const h=yn(),f=Ze(),_=22+s,D=co(h.consts,o),T=ol();h.firstCreatePass&&function aR(s,o,l,h,f,_){const D=ol(),T=[],E=[],O=[[]];f=function bI(s,o){if(function cR(s){return-1===s}(o))return jx(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,h=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return jx(s.substring(l,h))}}(f,_);const L=function oR(s){return s.replace(vI," ")}(f).split(sR);for(let z=0;z<L.length;z++){let se=L[z];if(0==(1&z)){const me=wI(se);for(let je=0;je<me.length;je++){let dt=me[je];if(0==(1&je)){const bt=dt;""!==bt&&lR(s,D,O[0],T,E,l,bt)}else{const bt=dt;if("object"!=typeof bt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Gx(s,l,E,o,bt,$x(s,D,O[0],l,T,"",!0).index)}}}else{const me=47===se.charCodeAt(0),dt=(se.charCodeAt(me?1:0),22+Number.parseInt(se.substring(me?2:1)));if(me)O.shift(),ps(ol(),!1);else{const bt=eR(s,O[0],dt);O.unshift([]),ps(bt,!0)}}}s.data[h]={create:T,update:E}}(h,null===T?0:T.index,f,_,D,l);const E=h.data[_],L=Wa(h,T===f[6]?null:T,f);(function tR(s,o,l,h){const f=s[11];for(let _=0;_<o.length;_++){const D=o[_++],T=o[_],E=(D&qi.COMMENT)===qi.COMMENT,O=(D&qi.APPEND_EAGERLY)===qi.APPEND_EAGERLY,L=D>>>qi.SHIFT;let z=s[L];null===z&&(z=s[L]=E?f.createComment(T):em(f,T)),O&&null!==l&&ss(f,l,z,h,!1)}})(f,E.create,L,T&&8&T.type?f[T.index]:null),Cu(!0)}function Kx(s,o,l){Qb(s,o,l),function Zx(){Cu(!1)}()}function CI(s){return function hI(s){s&&(Yp|=1<<Math.min(Qp,31)),Qp++}(Pt(Ze(),po(),s)),CI}function Yx(s){!function fI(s,o,l){if(Qp>0){const h=s.data[l];Zb(s,o,Array.isArray(h)?h:h.update,Ur()-Qp-1,Yp)}Yp=0,Qp=0}(yn(),Ze(),s+22)}function TI(s,o,l,h,f){if(s=ce(s),Array.isArray(s))for(let _=0;_<s.length;_++)TI(s[_],o,l,h,f);else{const _=yn(),D=Ze();let T=Ha(s)?s:ce(s.provide),E=kc(s);const O=Qr(),L=1048575&O.providerIndexes,z=O.directiveStart,se=O.providerIndexes>>20;if(Ha(s)||!s.multi){const me=new Sa(E,f,Fh),je=Jb(T,o,f?L:L+se,z);-1===je?(go(fl(O,D),_,T),ly(_,s,o.length),o.push(T),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(me),D.push(me)):(l[je]=me,D[je]=me)}else{const me=Jb(T,o,L+se,z),je=Jb(T,o,L,L+se),dt=me>=0&&l[me],bt=je>=0&&l[je];if(f&&!bt||!f&&!dt){go(fl(O,D),_,T);const Lt=function Xx(s,o,l,h,f){const _=new Sa(s,l,Fh);return _.multi=[],_.index=o,_.componentProviders=0,EI(_,f,h&&!l),_}(f?Jx:Qx,l.length,f,h,E);!f&&bt&&(l[je].providerFactory=Lt),ly(_,s,o.length,0),o.push(T),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(Lt),D.push(Lt)}else ly(_,s,me>-1?me:je,EI(l[f?je:me],E,!f&&h));!f&&h&&bt&&l[je].componentProviders++}}}function ly(s,o,l,h){const f=Ha(o),_=function Xs(s){return!!s.useClass}(o);if(f||_){const E=(_?ce(o.useClass):o).prototype.ngOnDestroy;if(E){const O=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const L=O.indexOf(l);-1===L?O.push(l,[h,E]):O[L+1].push(h,E)}else O.push(l,E)}}}function EI(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Jb(s,o,l,h){for(let f=l;f<h;f++)if(o[f]===s)return f;return-1}function Qx(s,o,l,h){return Xb(this.multi,[])}function Jx(s,o,l,h){const f=this.multi;let _;if(this.providerFactory){const D=this.providerFactory.componentProviders,T=ea(l,l[1],this.providerFactory.index,h);_=T.slice(0,D),Xb(f,_);for(let E=D;E<T.length;E++)_.push(T[E])}else _=[],Xb(f,_);return _}function Xb(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function xI(s,o=[]){return l=>{l.providersResolver=(h,f)=>function TR(s,o,l){const h=yn();if(h.firstCreatePass){const f=pi(s);TI(l,h.data,h.blueprint,f,!0),TI(o,h.data,h.blueprint,f,!1)}}(h,f?f(s):s,o)}}class Xp{}class SI{}function eS(s,o){return new AI(s,o??null)}class AI extends Xp{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new El(this);const h=ji(o);this._bootstrapComponents=yo(h.bootstrap),this._r3Injector=dm(o,l,[{provide:Xp,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],Ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class NI extends SI{constructor(o){super(),this.moduleType=o}create(o){return new AI(this.moduleType,o)}}class tS extends Xp{constructor(o,l,h){super(),this.componentFactoryResolver=new El(this),this.instance=null;const f=new Vo([...o,{provide:Xp,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],l||xd(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ew(s,o,l=null){return new tS(s,o,l).injector}let nS=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=Td(0,l.type),f=h.length>0?ew([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=gn({token:s,providedIn:"environment",factory:()=>new s(ti(bl))}),s})();function rS(s){s.getStandaloneInjector=o=>o.get(nS).getOrCreateStandaloneInjector(s)}function Gm(s,o,l,h){return function VI(s,o,l,h,f,_){const D=o+l;return Pt(s,D,f)?_t(s,D+1,_?h.call(_,f):h(f)):eg(s,D+1)}(Ze(),Vr(),s,o,l,h)}function sw(s,o,l,h,f){return function dy(s,o,l,h,f,_,D){const T=o+l;return hn(s,T,f,_)?_t(s,T+2,D?h.call(D,f,_):h(f,_)):eg(s,T+2)}(Ze(),Vr(),s,o,l,h,f)}function BI(s,o,l,h,f,_){return function On(s,o,l,h,f,_,D,T){const E=o+l;return function en(s,o,l,h,f){const _=hn(s,o,l,h);return Pt(s,o+2,f)||_}(s,E,f,_,D)?_t(s,E+3,T?h.call(T,f,_,D):h(f,_,D)):eg(s,E+3)}(Ze(),Vr(),s,o,l,h,f,_)}function eg(s,o){const l=s[o];return l===on?void 0:l}function zm(s){return o=>{setTimeout(s,void 0,o)}}const Kc=class Uh extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,h){let f=o,_=l||(()=>null),D=h;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),_=E.error?.bind(E),D=E.complete?.bind(E)}this.__isAsync&&(_=zm(_),f&&(f=zm(f)),D&&(D=zm(D)));const T=super.subscribe({next:f,error:_,complete:D});return o instanceof F.w0&&o.add(T),T}};function cS(){return this._results[H()]()}class hy{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=H(),h=hy.prototype;h[l]||(h[l]=cS)}get changes(){return this._changes||(this._changes=new Kc)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const h=this;h.dirty=!1;const f=rs(o);(this._changesDetected=!function Ms(s,o,l){if(s.length!==o.length)return!1;for(let h=0;h<s.length;h++){let f=s[h],_=o[h];if(l&&(f=l(f),_=l(_)),_!==f)return!1}return!0}(h._results,f,l))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rg=(()=>{class s{}return s.__NG_ELEMENT_ID__=hS,s})();const dS=rg,GI=class extends dS{constructor(o,l,h){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(o,l){const h=this._declarationTContainer.tViews,f=Vp(this._declarationLView,h,o,16,null,h.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(f[19]=D.createEmbeddedView(h)),Tm(h,f,o),new Lf(f)}};function hS(){return qm(Qr(),Ze())}function qm(s,o){return 4&s.type?new GI(o,s,M(s,o)):null}let Zm=(()=>{class s{}return s.__NG_ELEMENT_ID__=fy,s})();function fy(){return $h(Qr(),Ze())}const Gf=Zm,Ln=class extends Gf{constructor(o,l,h){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=h}get element(){return M(this._hostTNode,this._hostLView)}get injector(){return new ta(this._hostTNode,this._hostLView)}get parentInjector(){const o=pl(this._hostTNode,this._hostLView);if(Nu(o)){const l=ql(o,this._hostLView),h=Er(o);return new ta(l[1].data[h+8],l)}return new ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=ig(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,h){let f,_;"number"==typeof h?f=h:null!=h&&(f=h.index,_=h.injector);const D=o.createEmbeddedView(l||{},_);return this.insert(D,f),D}createComponent(o,l,h,f,_){const D=o&&!function qn(s){return"function"==typeof s}(o);let T;if(D)T=l;else{const z=l||{};T=z.index,h=z.injector,f=z.projectableNodes,_=z.environmentInjector||z.ngModuleRef}const E=D?o:new jp(an(o)),O=h||this.parentInjector;if(!_&&null==E.ngModule){const se=(D?O:this.parentInjector).get(bl,null);se&&(_=se)}const L=E.create(O,f,void 0,_);return this.insert(L.hostView,T),L}insert(o,l){const h=o._lView,f=h[1];if(function ns(s){return Yr(s[3])}(h)){const L=this.indexOf(o);if(-1!==L)this.detach(L);else{const z=h[3],se=new Ln(z,z[6],z[3]);se.detach(se.indexOf(o))}}const _=this._adjustIndex(l),D=this._lContainer;!function V0(s,o,l,h){const f=10+h,_=l.length;h>0&&(l[f-1][4]=o),h<_-10?(o[4]=l[f],si(l,10+h,o)):(l.push(o),o[4]=null),o[3]=l;const D=o[17];null!==D&&l!==D&&function lD(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(D,o);const T=o[19];null!==T&&T.insertView(s),o[2]|=64}(f,h,D,_);const T=xh(_,D),E=h[11],O=Sp(E,D[7]);return null!==O&&function sD(s,o,l,h,f,_){h[0]=f,h[6]=o,Af(s,h,l,1,f,_)}(f,D[6],E,h,O,T),o.attachToViewContainerRef(),si(aw(D),_,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=ig(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),h=Ih(this._lContainer,l);h&&(ir(aw(this._lContainer),l),wl(h[1],h))}detach(o){const l=this._adjustIndex(o,-1),h=Ih(this._lContainer,l);return h&&null!=ir(aw(this._lContainer),l)?new Lf(h):null}_adjustIndex(o,l=0){return o??this.length+l}};function ig(s){return s[8]}function aw(s){return s[8]||(s[8]=[])}function $h(s,o){let l;const h=o[s.index];if(Yr(h))l=h;else{let f;if(8&s.type)f=Br(h);else{const _=o[11];f=_.createComment("");const D=ts(s,o);ss(_,Sp(_,D),f,function lv(s,o){return s.nextSibling(o)}(_,D),!1)}o[s.index]=l=yb(h,o,f,s),kh(o,l)}return new Ln(l,s,o)}class lw{constructor(o){this.queryList=o,this.matches=null}clone(){return new lw(this.queryList)}setDirty(){this.queryList.setDirty()}}class sg{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const h=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let _=0;_<h;_++){const D=l.getByIndex(_);f.push(this.queries[D.indexInDeclarationView].clone())}return new sg(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==my(o,l).matches&&this.queries[l].setDirty()}}class og{constructor(o,l,h=null){this.predicate=o,this.flags=l,this.read=h}}class py{constructor(o=[]){this.queries=o}elementStart(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let h=0;h<this.length;h++){const f=null!==l?l.length:0,_=this.getByIndex(h).embeddedTView(o,f);_&&(_.indexInDeclarationView=h,null!==l?l.push(_):l=[_])}return null!==l?new py(l):null}template(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ag{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ag(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=o.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const _=h[f];this.matchTNodeWithReadOption(o,l,pS(l,_)),this.matchTNodeWithReadOption(o,l,Xr(l,o,_,!1,!1))}else h===rg?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Xr(l,o,h,!1,!1))}matchTNodeWithReadOption(o,l,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===V||f===Zm||f===rg&&4&l.type)this.addMatch(l.index,-2);else{const _=Xr(l,o,f,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,h)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function pS(s,o){const l=s.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===o)return l[h+1];return null}function gy(s,o,l,h){return-1===l?function uw(s,o){return 11&s.type?M(s,o):4&s.type?qm(s,o):null}(o,s):-2===l?function qI(s,o,l){return l===V?M(o,s):l===rg?qm(o,s):l===Zm?$h(o,s):void 0}(s,o,h):ea(s,s[1],l,o)}function cw(s,o,l,h){const f=o[19].queries[h];if(null===f.matches){const _=s.data,D=l.matches,T=[];for(let E=0;E<D.length;E+=2){const O=D[E];T.push(O<0?null:gy(o,_[O],D[E+1],l.metadata.read))}f.matches=T}return f.matches}function dw(s,o,l,h){const f=s.queries.getByIndex(l),_=f.matches;if(null!==_){const D=cw(s,o,f,l);for(let T=0;T<_.length;T+=2){const E=_[T];if(E>0)h.push(D[T/2]);else{const O=_[T+1],L=o[-E];for(let z=10;z<L.length;z++){const se=L[z];se[17]===se[3]&&dw(se[1],se,O,h)}if(null!==L[9]){const z=L[9];for(let se=0;se<z.length;se++){const me=z[se];dw(me[1],me,O,h)}}}}}return h}function ZI(s){const o=Ze(),l=yn(),h=xa();Eu(h+1);const f=my(l,h);if(s.dirty&&function Wi(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const _=f.crossesNgTemplate?dw(l,o,h,[]):cw(l,o,f,h);s.reset(_,le),s.notifyOnChanges()}return!0}return!1}function KI(s,o,l){const h=yn();h.firstCreatePass&&(JI(h,new og(s,o,l),-1),2==(2&o)&&(h.staticViewQueries=!0)),QI(h,Ze(),o)}function Km(s,o,l,h){const f=yn();if(f.firstCreatePass){const _=Qr();JI(f,new og(o,l,h),_.index),function mS(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}QI(f,Ze(),l)}function YI(){return function gS(s,o){return s[19].queries[o].queryList}(Ze(),xa())}function QI(s,o,l){const h=new hy(4==(4&l));Mv(s,o,h,h.destroy),null===o[19]&&(o[19]=new sg),o[19].queries.push(new lw(h))}function JI(s,o,l){null===s.queries&&(s.queries=new py),s.queries.track(new ag(o,l))}function my(s,o){return s.queries.getByIndex(o)}function Ym(s,o){return qm(s,o)}function Iy(...s){}const vC=new pr("Application Initializer");let Ty=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Iy,this.reject=Iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(RD(_))l.push(_);else if(FD(_)){const D=new Promise((T,E)=>{_.subscribe({complete:T,error:E})});l.push(D)}}Promise.all(l).then(()=>{h()}).catch(f=>{this.reject(f)}),0===l.length&&h(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ti(vC,8))},s.\u0275prov=gn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ey=new pr("AppId",{providedIn:"root",factory:function _w(){return`${xy()}${xy()}${xy()}`}});function xy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vw=new pr("Platform Initializer"),AS=new pr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dg=new pr("appBootstrapListener");let NS=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=gn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const hg=new pr("LocaleId",{providedIn:"root",factory:()=>x(hg,yt.Optional|yt.SkipSelf)||function OS(){return typeof $localize<"u"&&$localize.locale||Kp}()}),bC=new pr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class kR{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let bw=(()=>{class s{compileModuleSync(l){return new NI(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),_=yo(ji(l).declarations).reduce((D,T)=>{const E=an(T);return E&&D.push(new jp(E)),D},[]);return new kR(h,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=gn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const PS=(()=>Promise.resolve(0))();function ww(s){typeof Zone>"u"?PS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class va{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kc(!1),this.onMicrotaskEmpty=new Kc(!1),this.onStable=new Kc(!1),this.onError=new Kc(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&l,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function wC(){let s=Vn.requestAnimationFrame,o=Vn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const h=o[Zone.__symbol__("OriginalDelegate")];h&&(o=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Qm(s){const o=()=>{!function fg(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Vn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Iw(s),s.isCheckStableRunning=!0,Dw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Iw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,f,_,D,T)=>{try{return DC(s),l.invokeTask(f,_,D,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&o(),pg(s)}},onInvoke:(l,h,f,_,D,T,E)=>{try{return DC(s),l.invoke(f,_,D,T,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),pg(s)}},onHasTask:(l,h,f,_)=>{l.hasTask(f,_),h===f&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,Iw(s),Dw(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,h,f,_)=>(l.handleError(f,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!va.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(va.isInAngularZone())throw new Le(909,!1)}run(o,l,h){return this._inner.run(o,l,h)}runTask(o,l,h,f){const _=this._inner,D=_.scheduleEventTask("NgZoneEvent: "+f,o,kS,Iy,Iy);try{return _.runTask(D,l,h)}finally{_.cancelTask(D)}}runGuarded(o,l,h){return this._inner.runGuarded(o,l,h)}runOutsideAngular(o){return this._outer.run(o)}}const kS={};function Dw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Iw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function DC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function pg(s){s._nesting--,Dw(s)}class Jm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kc,this.onMicrotaskEmpty=new Kc,this.onStable=new Kc,this.onError=new Kc}run(o,l,h){return o.apply(l,h)}runGuarded(o,l,h){return o.apply(l,h)}runOutsideAngular(o){return o()}runTask(o,l,h,f){return o.apply(l,h)}}const IC=new pr(""),CC=new pr("");let Cw,LS=(()=>{class s{constructor(l,h,f){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cw||(function BS(s){Cw=s}(f),f.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{va.assertNotInAngularZone(),ww(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ww(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,f){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==_),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:f})}whenStable(l,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(ti(va),ti(TC),ti(CC))},s.\u0275prov=gn({token:s,factory:s.\u0275fac}),s})(),TC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return Cw?.findTestabilityInTree(this,l,h)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=gn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),qf=null;const EC=new pr("AllowMultipleToken"),Xm=new pr("PlatformDestroyListeners");class US{constructor(o,l){this.name=o,this.token=l}}function SC(s,o,l=[]){const h=`Platform: ${o}`,f=new pr(h);return(_=[])=>{let D=e_();if(!D||D.injector.get(EC,!1)){const T=[...l,..._,{provide:f,useValue:!0}];s?s(T):function $S(s){if(qf&&!qf.get(EC,!1))throw new Le(400,!1);qf=s;const o=s.get(Ew);(function xC(s){const o=s.get(vw,null);o&&o.forEach(l=>l())})(s)}(function Tw(s=[],o){return _s.create({name:o,providers:[{provide:Ku,useValue:"platform"},{provide:Xm,useValue:new Set([()=>qf=null])},...s]})}(T,h))}return function jS(s){const o=e_();if(!o)throw new Le(401,!1);return o}()}}function e_(){return qf?.get(Ew)??null}let Ew=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const f=function t_(s,o){let l;return l="noop"===s?new Jm:("zone.js"===s?void 0:s)||new va(o),l}(h?.ngZone,function Ay(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:va,useValue:f}];return f.run(()=>{const D=_s.create({providers:_,parent:this.injector,name:l.moduleType.name}),T=l.create(D),E=T.injector.get(Nd,null);if(!E)throw new Le(402,!1);return f.runOutsideAngular(()=>{const O=f.onError.subscribe({next:L=>{E.handleError(L)}});T.onDestroy(()=>{Oy(this._modules,T),O.unsubscribe()})}),function AC(s,o,l){try{const h=l();return RD(h)?h.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):h}catch(h){throw o.runOutsideAngular(()=>s.handleError(h)),h}}(E,f,()=>{const O=T.injector.get(Ty);return O.runInitializers(),O.donePromise.then(()=>($b(T.injector.get(hg,Kp)||Kp),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,h=[]){const f=NC({},h);return function gg(s,o,l){const h=new NI(l);return Promise.resolve(h)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(l){const h=l.injector.get(Ny);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Le(403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(Xm,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ti(_s))},s.\u0275prov=gn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function NC(s,o){return Array.isArray(o)?o.reduce(NC,s):{...s,...o}}let Ny=(()=>{class s{constructor(l,h,f){this._zone=l,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new W.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new W.y(T=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{va.assertNotInAngularZone(),ww(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{va.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{E.unsubscribe(),O.unsubscribe()}});this.isStable=(0,be.T)(_,D.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const f=l instanceof Bc;if(!this._injector.get(Ty).done)throw!f&&us(l),new Le(405,false);let D;D=f?l:this._injector.get(v).resolveComponentFactory(l),this.componentTypes.push(D.componentType);const T=function VS(s){return s.isBoundToModule}(D)?void 0:this._injector.get(Xp),O=D.create(_s.NULL,[],h||D.selector,T),L=O.location.nativeElement,z=O.injector.get(IC,null);return z?.registerApplication(L),O.onDestroy(()=>{this.detachView(O.hostView),Oy(this.components,O),z?.unregisterApplication(L)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Oy(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(dg,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Oy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Le(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(ti(va),ti(bl),ti(Nd))},s.\u0275prov=gn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Oy(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let xw=!0,r_=!1;function My(){return r_=!0,xw}function MC(){if(r_)throw new Error("Cannot enable prod mode after platform setup.");xw=!1}let WS=(()=>{class s{}return s.__NG_ELEMENT_ID__=zS,s})();function zS(s){return function qS(s,o,l){if(Es(s)&&!l){const h=Nn(s.index,o);return new Lf(h,h)}return 47&s.type?new Lf(o[16],o):null}(Qr(),Ze(),16==(16&s))}class Mw{constructor(){}supports(o){return ie(o)}create(o){return new PC(o)}}const Rw=(s,o)=>o;class PC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Rw}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,h=this._removalsHead,f=0,_=null;for(;l||h;){const D=!h||l&&l.currentIndex<BC(h,f,_)?l:h,T=BC(D,f,_),E=D.currentIndex;if(D===h)f--,h=h._nextRemoved;else if(l=l._next,null==D.previousIndex)f++;else{_||(_=[]);const O=T-f,L=E-f;if(O!=L){for(let se=0;se<O;se++){const me=se<_.length?_[se]:_[se]=0,je=me+se;L<=je&&je<O&&(_[se]=me+1)}_[D.previousIndex]=L-O}}T!==E&&o(D,T,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!ie(o))throw new Le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,_,D,l=this._itHead,h=!1;if(Array.isArray(o)){this.length=o.length;for(let T=0;T<this.length;T++)_=o[T],D=this._trackByFn(T,_),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,_,D,T)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,D,T),h=!0),l=l._next}else f=0,function qe(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[H()]();let h;for(;!(h=l.next()).done;)o(h.value)}}(o,T=>{D=this._trackByFn(f,T),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,T,D,f)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,D,f),h=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,h,f){let _;return null===o?_=this._itTail:(_=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,_,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,_,f)):o=this._addAfter(new kC(l,h),_,f),o}_verifyReinsertion(o,l,h,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?o=this._reinsertAfter(_,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,_=o._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(o,l,h),this._addToMoves(o,h),o}_moveAfter(o,l,h){return this._unlink(o),this._insertAfter(o,l,h),this._addToMoves(o,h),o}_addAfter(o,l,h){return this._insertAfter(o,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,h){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new LC),this._linkedRecords.put(o),o.currentIndex=h,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,h=o._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class kC{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KR{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,o))return h;return null}remove(o){const l=o._prevDup,h=o._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class LC{constructor(){this.map=new Map}put(o){const l=o.trackById;let h=this.map.get(l);h||(h=new KR,this.map.set(l,h)),h.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BC(s,o,l){const h=s.previousIndex;if(null===h)return h;let f=0;return l&&h<l.length&&(f=l[h]),h+o+f}class VC{constructor(){}supports(o){return o instanceof Map||We(o)}create(){return new QS}}class QS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||We(o)))throw new Le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(h,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(f,h);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const h=o._prev;return l._next=o,l._prev=h,o._prev=l,h&&(h._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const _=f._prev,D=f._next;return _&&(_._next=D),D&&(D._prev=_),f._next=null,f._prev=null,f}const h=new Vy(o);return this._records.set(o,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(h=>l(o[h],h))}}class Vy{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fw(){return new i_([new Mw])}let i_=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(null!=h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||Fw()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(null!=h)return h;throw new Le(901,!1)}}return s.\u0275prov=gn({token:s,providedIn:"root",factory:Fw}),s})();function $C(){return new Pw([new VC])}let Pw=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||$C()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(h)return h;throw new Le(901,!1)}}return s.\u0275prov=gn({token:s,providedIn:"root",factory:$C}),s})();const XS=SC(null,"core",[]);let eA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ti(Ny))},s.\u0275mod=Ft({type:s}),s.\u0275inj=cn({}),s})();function HC(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function iA(s,o){const l=an(s),h=o.elementInjector||xd();return new jp(l).create(h,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(Nt,$e,G)=>{"use strict";G.d($e,{Z:()=>Le});var c=G(2090),F=G(4859),W=G(9681),be=G(1877);class ge{constructor(Oe,Me){this._delegate=Oe,this.firebase=Me,(0,W._addComponent)(Oe,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Oe,Me=W._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Oe);return!Et.isInitialized()&&"EXPLICIT"===(null===(at=Et.getComponent())||void 0===at?void 0:at.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Me})}_removeServiceInstance(Oe,Me=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Me)}_addComponent(Oe){(0,W._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,W._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Ae(){const ht=function Ne(ht){const Oe={},Me={__esModule:!0,initializeApp:function He(ft,Q={}){const Re=W.initializeApp(ft,Q);if((0,c.r3)(Oe,Re.name))return Oe[Re.name];const ae=new ht(Re,Me);return Oe[Re.name]=ae,ae},app:Et,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function ke(ft){const Q=ft.name,Re=Q.replace("-compat","");if(W._registerComponent(ft)&&"PUBLIC"===ft.type){const ae=(pe=Et())=>{if("function"!=typeof pe[Re])throw Ee.create("invalid-app-argument",{appName:Q});return pe[Re]()};void 0!==ft.serviceProps&&(0,c.ZB)(ae,ft.serviceProps),Me[Re]=ae,ht.prototype[Re]=function(...pe){return this._getService.bind(this,Q).apply(this,ft.multipleInstances?pe:[])}}return"PUBLIC"===ft.type?Me[Re]:null},removeApp:function at(ft){delete Oe[ft]},useAsService:function st(ft,Q){return"serverAuth"===Q?null:Q},modularAPIs:W}};function Et(ft){if(!(0,c.r3)(Oe,ft=ft||W._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:ft});return Oe[ft]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function Pe(){return Object.keys(Oe).map(ft=>Oe[ft])}}),Et.App=ht,Me}(ge);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Oe(Me){(0,c.ZB)(ht,Me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ht}(),X=new be.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=J;!function Ue(ht){(0,W.registerVersion)("@firebase/app-compat","0.1.34",ht)}()},9681:(Nt,$e,G)=>{"use strict";G.r($e),G.d($e,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>Ji,_DEFAULT_ENTRY_NAME:()=>un,_addComponent:()=>Bn,_addOrOverwriteComponent:()=>gn,_apps:()=>Zn,_clearComponents:()=>Si,_components:()=>dr,_getProvider:()=>cn,_registerComponent:()=>fi,_removeServiceInstance:()=>Xt,deleteApp:()=>yr,getApp:()=>Sr,getApps:()=>Ai,initializeApp:()=>hr,onLog:()=>Hi,registerVersion:()=>$i,setLogLevel:()=>Cn});var c=G(5861),F=G(4859),W=G(1877),be=G(2090),ge=G(8766);class Ie{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function Ee(Y){return"VERSION"===Y.getComponent()?.type}(re)){const ze=re.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(re=>re).join(" ")}}const Ne="@firebase/app",J=new W.Yd("@firebase/app"),un="[DEFAULT]",pt={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zn=new Map,dr=new Map;function Bn(Y,ne){try{Y.container.addComponent(ne)}catch(re){J.debug(`Component ${ne.name} failed to register with FirebaseApp ${Y.name}`,re)}}function gn(Y,ne){Y.container.addOrOverwriteComponent(ne)}function fi(Y){const ne=Y.name;if(dr.has(ne))return J.debug(`There were multiple attempts to register component ${ne}.`),!1;dr.set(ne,Y);for(const re of Zn.values())Bn(re,Y);return!0}function cn(Y,ne){const re=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),Y.container.getProvider(ne)}function Xt(Y,ne,re=un){cn(Y,ne).clearInstance(re)}function Si(){dr.clear()}const Pn=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gr{constructor(ne,re,ze){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=ze,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}const Ji="9.10.0";function hr(Y,ne={}){"object"!=typeof ne&&(ne={name:ne});const re=Object.assign({name:un,automaticDataCollectionEnabled:!1},ne),ze=re.name;if("string"!=typeof ze||!ze)throw Pn.create("bad-app-name",{appName:String(ze)});const ct=Zn.get(ze);if(ct){if((0,be.vZ)(Y,ct.options)&&(0,be.vZ)(re,ct.config))return ct;throw Pn.create("duplicate-app",{appName:ze})}const Ft=new F.H0(ze);for(const kn of dr.values())Ft.addComponent(kn);const or=new Gr(Y,re,Ft);return Zn.set(ze,or),or}function Sr(Y=un){const ne=Zn.get(Y);if(!ne)throw Pn.create("no-app",{appName:Y});return ne}function Ai(){return Array.from(Zn.values())}function yr(Y){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(Y){const ne=Y.name;Zn.has(ne)&&(Zn.delete(ne),yield Promise.all(Y.container.getProviders().map(re=>re.delete())),Y.isDeleted=!0)})).apply(this,arguments)}function $i(Y,ne,re){var ze;let ct=null!==(ze=pt[Y])&&void 0!==ze?ze:Y;re&&(ct+=`-${re}`);const Ft=ct.match(/\s|\//),or=ne.match(/\s|\//);if(Ft||or){const kn=[`Unable to register library "${ct}" with version "${ne}":`];return Ft&&kn.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Ft&&or&&kn.push("and"),or&&kn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void J.warn(kn.join(" "))}fi(new F.wA(`${ct}-version`,()=>({library:ct,version:ne}),"VERSION"))}function Hi(Y,ne){if(null!==Y&&"function"!=typeof Y)throw Pn.create("invalid-log-argument");(0,W.Am)(Y,ne)}function Cn(Y){(0,W.Ub)(Y)}const Rr="firebase-heartbeat-store";let br=null;function fr(){return br||(br=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(Y,ne)=>{0===ne&&Y.createObjectStore(Rr)}}).catch(Y=>{throw Pn.create("idb-open",{originalErrorMessage:Y.message})})),br}function Ot(){return(Ot=(0,c.Z)(function*(Y){var ne;try{return(yield fr()).transaction(Rr).objectStore(Rr).get(Pr(Y))}catch(re){if(re instanceof be.ZR)J.warn(re.message);else{const ze=Pn.create("idb-get",{originalErrorMessage:null===(ne=re)||void 0===ne?void 0:ne.message});J.warn(ze.message)}}})).apply(this,arguments)}function Vn(Y,ne){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(Y,ne){var re;try{const ct=(yield fr()).transaction(Rr,"readwrite");return yield ct.objectStore(Rr).put(ne,Pr(Y)),ct.done}catch(ze){if(ze instanceof be.ZR)J.warn(ze.message);else{const ct=Pn.create("idb-set",{originalErrorMessage:null===(re=ze)||void 0===re?void 0:re.message});J.warn(ct.message)}}})).apply(this,arguments)}function Pr(Y){return`${Y.name}!${Y.options.appId}`}class Is{constructor(ne){this.container=ne,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new Tn(re),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var ne=this;return(0,c.Z)(function*(){const ze=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=Sn();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==ct&&!ne._heartbeatsCache.heartbeats.some(Ft=>Ft.date===ct))return ne._heartbeatsCache.heartbeats.push({date:ct,agent:ze}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Ft=>{const or=new Date(Ft.date).valueOf();return Date.now()-or<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,c.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const re=Sn(),{heartbeatsToSend:ze,unsentEntries:ct}=function Xi(Y,ne=1024){const re=[];let ze=Y.slice();for(const ct of Y){const Ft=re.find(or=>or.agent===ct.agent);if(Ft){if(Ft.dates.push(ct.date),oe(re)>ne){Ft.dates.pop();break}}else if(re.push({agent:ct.agent,dates:[ct.date]}),oe(re)>ne){re.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:re,unsentEntries:ze}}(ne._heartbeatsCache.heartbeats),Ft=(0,be.L)(JSON.stringify({version:2,heartbeats:ze}));return ne._heartbeatsCache.lastSentHeartbeatDate=re,ct.length>0?(ne._heartbeatsCache.heartbeats=ct,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Ft})()}}function Sn(){return(new Date).toISOString().substring(0,10)}class Tn{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,c.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function kt(Y){return Ot.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var re=this;return(0,c.Z)(function*(){var ze;if(yield re._canUseIndexedDBPromise){const Ft=yield re.read();return Vn(re.app,{lastSentHeartbeatDate:null!==(ze=ne.lastSentHeartbeatDate)&&void 0!==ze?ze:Ft.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var re=this;return(0,c.Z)(function*(){var ze;if(yield re._canUseIndexedDBPromise){const Ft=yield re.read();return Vn(re.app,{lastSentHeartbeatDate:null!==(ze=ne.lastSentHeartbeatDate)&&void 0!==ze?ze:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...ne.heartbeats]})}})()}}function oe(Y){return(0,be.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function te(Y){fi(new F.wA("platform-logger",ne=>new Ie(ne),"PRIVATE")),fi(new F.wA("heartbeat",ne=>new Is(ne),"PRIVATE")),$i(Ne,"0.7.33",Y),$i(Ne,"0.7.33","esm2017"),$i("fire-js","")}("")},4859:(Nt,$e,G)=>{"use strict";G.d($e,{H0:()=>Ne,wA:()=>W});var c=G(5861),F=G(2090);class W{constructor(J,X,ce){this.name=J,this.instanceFactory=X,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const be="[DEFAULT]";class ge{constructor(J,X){this.name=J,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const X=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(X)){const ce=new F.BH;if(this.instancesDeferred.set(X,ce),this.isInitialized(X)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:X});tt&&ce.resolve(tt)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(J){var X;const ce=this.normalizeInstanceIdentifier(J?.identifier),tt=null!==(X=J?.optional)&&void 0!==X&&X;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(Ue){if(tt)return null;throw Ue}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Ee(Ae){return"EAGER"===Ae.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[X,ce]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(X);try{const Ue=this.getOrInitializeService({instanceIdentifier:tt});ce.resolve(Ue)}catch{}}}}clearInstance(J=be){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,c.Z)(function*(){const X=Array.from(J.instances.values());yield Promise.all([...X.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...X.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=be){return this.instances.has(J)}getOptions(J=be){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:X={}}=J,ce=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:ce,options:X});for(const[Ue,Le]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(Ue)&&Le.resolve(tt);return tt}onInit(J,X){var ce;const tt=this.normalizeInstanceIdentifier(X),Ue=null!==(ce=this.onInitCallbacks.get(tt))&&void 0!==ce?ce:new Set;Ue.add(J),this.onInitCallbacks.set(tt,Ue);const Le=this.instances.get(tt);return Le&&J(Le,tt),()=>{Ue.delete(J)}}invokeOnInitCallbacks(J,X){const ce=this.onInitCallbacks.get(X);if(ce)for(const tt of ce)try{tt(J,X)}catch{}}getOrInitializeService({instanceIdentifier:J,options:X={}}){let ce=this.instances.get(J);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=J,Ae===be?void 0:Ae),options:X}),this.instances.set(J,ce),this.instancesOptions.set(J,X),this.invokeOnInitCallbacks(ce,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ce)}catch{}var Ae;return ce||null}normalizeInstanceIdentifier(J=be){return this.component?this.component.multipleInstances?J:be:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const X=this.getProvider(J.name);if(X.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);X.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const X=new ge(J,this);return this.providers.set(J,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(Nt,$e,G)=>{"use strict";G.d($e,{Am:()=>Ae,Ub:()=>Ne,Yd:()=>Ee,in:()=>F});const c=[];var F=(()=>{return(J=F||(F={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",F;var J})();const W={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},be=F.INFO,ge={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Ie=(J,X,...ce)=>{if(X<J.logLevel)return;const tt=(new Date).toISOString(),Ue=ge[X];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Ue](`[${tt}]  ${J.name}:`,...ce)};class Ee{constructor(X){this.name=X,this._logLevel=be,this._logHandler=Ie,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in F))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?W[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...X),this._logHandler(this,F.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...X),this._logHandler(this,F.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,F.INFO,...X),this._logHandler(this,F.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,F.WARN,...X),this._logHandler(this,F.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...X),this._logHandler(this,F.ERROR,...X)}}function Ne(J){c.forEach(X=>{X.setLogLevel(J)})}function Ae(J,X){for(const ce of c){let tt=null;X&&X.level&&(tt=W[X.level]),ce.userLogHandler=null===J?null:(Ue,Le,...ht)=>{const Oe=ht.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Le>=(tt??Ue.logLevel)&&J({level:F[Le].toLowerCase(),message:Oe,args:ht,type:Ue.name})}}}},8766:(Nt,$e,G)=>{"use strict";G.d($e,{Lj:()=>He,X3:()=>Et});var c=G(5861);let W,be;const Ee=new WeakMap,Ne=new WeakMap,Ae=new WeakMap,J=new WeakMap,X=new WeakMap;let Ue={get(Q,Re,ae){if(Q instanceof IDBTransaction){if("done"===Re)return Ne.get(Q);if("objectStoreNames"===Re)return Q.objectStoreNames||Ae.get(Q);if("store"===Re)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Me(Q[Re])},set:(Q,Re,ae)=>(Q[Re]=ae,!0),has:(Q,Re)=>Q instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in Q};function Oe(Q){return"function"==typeof Q?function ht(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...Re){return Q.apply(at(this),Re),Me(Ee.get(this))}:function(...Re){return Me(Q.apply(at(this),Re))}:function(Re,...ae){const pe=Q.call(at(this),Re,...ae);return Ae.set(pe,Re.sort?Re.sort():[Re]),Me(pe)}}(Q):(Q instanceof IDBTransaction&&function tt(Q){if(Ne.has(Q))return;const Re=new Promise((ae,pe)=>{const ye=()=>{Q.removeEventListener("complete",ve),Q.removeEventListener("error",rt),Q.removeEventListener("abort",rt)},ve=()=>{ae(),ye()},rt=()=>{pe(Q.error||new DOMException("AbortError","AbortError")),ye()};Q.addEventListener("complete",ve),Q.addEventListener("error",rt),Q.addEventListener("abort",rt)});Ne.set(Q,Re)}(Q),((Q,Re)=>Re.some(ae=>Q instanceof ae))(Q,function ge(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Ue):Q)}function Me(Q){if(Q instanceof IDBRequest)return function ce(Q){const Re=new Promise((ae,pe)=>{const ye=()=>{Q.removeEventListener("success",ve),Q.removeEventListener("error",rt)},ve=()=>{ae(Me(Q.result)),ye()},rt=()=>{pe(Q.error),ye()};Q.addEventListener("success",ve),Q.addEventListener("error",rt)});return Re.then(ae=>{ae instanceof IDBCursor&&Ee.set(ae,Q)}).catch(()=>{}),X.set(Re,Q),Re}(Q);if(J.has(Q))return J.get(Q);const Re=Oe(Q);return Re!==Q&&(J.set(Q,Re),X.set(Re,Q)),Re}const at=Q=>X.get(Q);function Et(Q,Re,{blocked:ae,upgrade:pe,blocking:ye,terminated:ve}={}){const rt=indexedDB.open(Q,Re),Qe=Me(rt);return pe&&rt.addEventListener("upgradeneeded",Mt=>{pe(Me(rt.result),Mt.oldVersion,Mt.newVersion,Me(rt.transaction))}),ae&&rt.addEventListener("blocked",()=>ae()),Qe.then(Mt=>{ve&&Mt.addEventListener("close",()=>ve()),ye&&Mt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),Qe}function He(Q,{blocked:Re}={}){const ae=indexedDB.deleteDatabase(Q);return Re&&ae.addEventListener("blocked",()=>Re()),Me(ae).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],st=new Map;function ft(Q,Re){if(!(Q instanceof IDBDatabase)||Re in Q||"string"!=typeof Re)return;if(st.get(Re))return st.get(Re);const ae=Re.replace(/FromIndex$/,""),pe=Re!==ae,ye=ke.includes(ae);if(!(ae in(pe?IDBIndex:IDBObjectStore).prototype)||!ye&&!Pe.includes(ae))return;const ve=function(){var rt=(0,c.Z)(function*(Qe,...Mt){const En=this.transaction(Qe,ye?"readwrite":"readonly");let un=En.store;return pe&&(un=un.index(Mt.shift())),(yield Promise.all([un[ae](...Mt),ye&&En.done]))[0]});return function(Mt){return rt.apply(this,arguments)}}();return st.set(Re,ve),ve}!function Le(Q){Ue=Q(Ue)}(Q=>({...Q,get:(Re,ae,pe)=>ft(Re,ae)||Q.get(Re,ae,pe),has:(Re,ae)=>!!ft(Re,ae)||Q.has(Re,ae)}))},5861:(Nt,$e,G)=>{"use strict";function c(W,be,ge,Ie,Ee,Ne,Ae){try{var J=W[Ne](Ae),X=J.value}catch(ce){return void ge(ce)}J.done?be(X):Promise.resolve(X).then(Ie,Ee)}function F(W){return function(){var be=this,ge=arguments;return new Promise(function(Ie,Ee){var Ne=W.apply(be,ge);function Ae(X){c(Ne,Ie,Ee,Ae,J,"next",X)}function J(X){c(Ne,Ie,Ee,Ae,J,"throw",X)}Ae(void 0)})}}G.d($e,{Z:()=>F})}},Nt=>{Nt(Nt.s=5583)}]);