(()=>{"use strict";var e,b={},d={};function t(e){var o=d[e];if(void 0!==o)return o.exports;var r=d[e]={id:e,loaded:!1,exports:{}};return b[e].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.m=b,e=[],t.O=(o,r,a,f)=>{if(!r){var i=1/0;for(n=0;n<e.length;n++){for(var[r,a,f]=e[n],c=!0,s=0;s<r.length;s++)(!1&f||i>=f)&&Object.keys(t.O).every(u=>t.O[u](r[s]))?r.splice(s--,1):(c=!1,f<i&&(i=f));if(c){e.splice(n--,1);var l=a();void 0!==l&&(o=l)}}return o}f=f||0;for(var n=e.length;n>0&&e[n-1][2]>f;n--)e[n]=e[n-1];e[n]=[r,a,f]},(()=>{var o,e=Object.getPrototypeOf?r=>Object.getPrototypeOf(r):r=>r.__proto__;t.t=function(r,a){if(1&a&&(r=this(r)),8&a||"object"==typeof r&&r&&(4&a&&r.__esModule||16&a&&"function"==typeof r.then))return r;var f=Object.create(null);t.r(f);var n={};o=o||[null,e({}),e([]),e(e)];for(var i=2&a&&r;"object"==typeof i&&!~o.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach(c=>n[c]=()=>r[c]);return n.default=()=>r,t.d(f,n),f}})(),t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={666:0};t.O.j=a=>0===e[a];var o=(a,f)=>{var s,l,[n,i,c]=f,p=0;if(n.some(_=>0!==e[_])){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(c)var h=c(t)}for(a&&a(f);p<n.length;p++)t.o(e,l=n[p])&&e[l]&&e[l][0](),e[l]=0;return t.O(h)},r=self.webpackChunknystixTools=self.webpackChunknystixTools||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})()})();
"use strict";(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[429],{5565:(jt,zn,Kn)=>{Error;const $o=function(s,...e){if($o.translate){const n=$o.translate(s,e);s=n[0],e=n[1]}let t=Wl(s[0],s.raw[0]);for(let n=1;n<s.length;n++)t+=e[n-1]+Wl(s[n],s.raw[n]);return t};function Wl(s,e){return":"===e.charAt(0)?s.substring(function Hl(s,e){for(let t=1,n=1;t<s.length;t++,n++)if("\\"===e[n])n++;else if(":"===s[t])return t;throw new Error(`Unterminated $localize metadata block in "${e}".`)}(s,e)+1):s}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=$o,Kn(8583)},8583:()=>{!function(d){const v=d.performance;function T(de){v&&v.mark&&v.mark(de)}function _(de,q){v&&v.measure&&v.measure(de,q)}T("Zone");const S=d.__Zone_symbol_prefix||"__zone_symbol__";function A(de){return S+de}const H=!0===d[A("forceDuplicateZoneCheck")];if(d.Zone){if(H||"function"!=typeof d.Zone.__symbol__)throw new Error("Zone already loaded.");return d.Zone}let U=(()=>{class de{constructor(h,m){this._parent=h,this._name=m?m.name||"unnamed":"<root>",this._properties=m&&m.properties||{},this._zoneDelegate=new Q(this,this._parent&&this._parent._zoneDelegate,m)}static assertZonePatched(){if(d.Promise!==Qe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let h=de.current;for(;h.parent;)h=h.parent;return h}static get current(){return Me.zone}static get currentTask(){return $e}static __load_patch(h,m,X=!1){if(Qe.hasOwnProperty(h)){if(!X&&H)throw Error("Already loaded patch: "+h)}else if(!d["__Zone_disable_"+h]){const ne="Zone:"+h;T(ne),Qe[h]=m(d,de,Le),_(ne,ne)}}get parent(){return this._parent}get name(){return this._name}get(h){const m=this.getZoneWith(h);if(m)return m._properties[h]}getZoneWith(h){let m=this;for(;m;){if(m._properties.hasOwnProperty(h))return m;m=m._parent}return null}fork(h){if(!h)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,h)}wrap(h,m){if("function"!=typeof h)throw new Error("Expecting function got: "+h);const X=this._zoneDelegate.intercept(this,h,m),ne=this;return function(){return ne.runGuarded(X,this,arguments,m)}}run(h,m,X,ne){Me={parent:Me,zone:this};try{return this._zoneDelegate.invoke(this,h,m,X,ne)}finally{Me=Me.parent}}runGuarded(h,m=null,X,ne){Me={parent:Me,zone:this};try{try{return this._zoneDelegate.invoke(this,h,m,X,ne)}catch(B){if(this._zoneDelegate.handleError(this,B))throw B}}finally{Me=Me.parent}}runTask(h,m,X){if(h.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");if(h.state===K&&(h.type===Ye||h.type===te))return;const ne=h.state!=W;ne&&h._transitionTo(W,le),h.runCount++;const B=$e;$e=h,Me={parent:Me,zone:this};try{h.type==te&&h.data&&!h.data.isPeriodic&&(h.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,h,m,X)}catch(b){if(this._zoneDelegate.handleError(this,b))throw b}}finally{h.state!==K&&h.state!==L&&(h.type==Ye||h.data&&h.data.isPeriodic?ne&&h._transitionTo(le,W):(h.runCount=0,this._updateTaskCount(h,-1),ne&&h._transitionTo(K,W,K))),Me=Me.parent,$e=B}}scheduleTask(h){if(h.zone&&h.zone!==this){let X=this;for(;X;){if(X===h.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${h.zone.name}`);X=X.parent}}h._transitionTo(Te,K);const m=[];h._zoneDelegates=m,h._zone=this;try{h=this._zoneDelegate.scheduleTask(this,h)}catch(X){throw h._transitionTo(L,Te,K),this._zoneDelegate.handleError(this,X),X}return h._zoneDelegates===m&&this._updateTaskCount(h,1),h.state==Te&&h._transitionTo(le,Te),h}scheduleMicroTask(h,m,X,ne){return this.scheduleTask(new z(J,h,m,X,ne,void 0))}scheduleMacroTask(h,m,X,ne,B){return this.scheduleTask(new z(te,h,m,X,ne,B))}scheduleEventTask(h,m,X,ne,B){return this.scheduleTask(new z(Ye,h,m,X,ne,B))}cancelTask(h){if(h.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");h._transitionTo(Ce,le,W);try{this._zoneDelegate.cancelTask(this,h)}catch(m){throw h._transitionTo(L,Ce),this._zoneDelegate.handleError(this,m),m}return this._updateTaskCount(h,-1),h._transitionTo(K,Ce),h.runCount=0,h}_updateTaskCount(h,m){const X=h._zoneDelegates;-1==m&&(h._zoneDelegates=null);for(let ne=0;ne<X.length;ne++)X[ne]._updateTaskCount(h.type,m)}}return de.__symbol__=A,de})();const $={name:"",onHasTask:(de,q,h,m)=>de.hasTask(h,m),onScheduleTask:(de,q,h,m)=>de.scheduleTask(h,m),onInvokeTask:(de,q,h,m,X,ne)=>de.invokeTask(h,m,X,ne),onCancelTask:(de,q,h,m)=>de.cancelTask(h,m)};class Q{constructor(q,h,m){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=q,this._parentDelegate=h,this._forkZS=m&&(m&&m.onFork?m:h._forkZS),this._forkDlgt=m&&(m.onFork?h:h._forkDlgt),this._forkCurrZone=m&&(m.onFork?this.zone:h._forkCurrZone),this._interceptZS=m&&(m.onIntercept?m:h._interceptZS),this._interceptDlgt=m&&(m.onIntercept?h:h._interceptDlgt),this._interceptCurrZone=m&&(m.onIntercept?this.zone:h._interceptCurrZone),this._invokeZS=m&&(m.onInvoke?m:h._invokeZS),this._invokeDlgt=m&&(m.onInvoke?h:h._invokeDlgt),this._invokeCurrZone=m&&(m.onInvoke?this.zone:h._invokeCurrZone),this._handleErrorZS=m&&(m.onHandleError?m:h._handleErrorZS),this._handleErrorDlgt=m&&(m.onHandleError?h:h._handleErrorDlgt),this._handleErrorCurrZone=m&&(m.onHandleError?this.zone:h._handleErrorCurrZone),this._scheduleTaskZS=m&&(m.onScheduleTask?m:h._scheduleTaskZS),this._scheduleTaskDlgt=m&&(m.onScheduleTask?h:h._scheduleTaskDlgt),this._scheduleTaskCurrZone=m&&(m.onScheduleTask?this.zone:h._scheduleTaskCurrZone),this._invokeTaskZS=m&&(m.onInvokeTask?m:h._invokeTaskZS),this._invokeTaskDlgt=m&&(m.onInvokeTask?h:h._invokeTaskDlgt),this._invokeTaskCurrZone=m&&(m.onInvokeTask?this.zone:h._invokeTaskCurrZone),this._cancelTaskZS=m&&(m.onCancelTask?m:h._cancelTaskZS),this._cancelTaskDlgt=m&&(m.onCancelTask?h:h._cancelTaskDlgt),this._cancelTaskCurrZone=m&&(m.onCancelTask?this.zone:h._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const X=m&&m.onHasTask;(X||h&&h._hasTaskZS)&&(this._hasTaskZS=X?m:$,this._hasTaskDlgt=h,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=q,m.onScheduleTask||(this._scheduleTaskZS=$,this._scheduleTaskDlgt=h,this._scheduleTaskCurrZone=this.zone),m.onInvokeTask||(this._invokeTaskZS=$,this._invokeTaskDlgt=h,this._invokeTaskCurrZone=this.zone),m.onCancelTask||(this._cancelTaskZS=$,this._cancelTaskDlgt=h,this._cancelTaskCurrZone=this.zone))}fork(q,h){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,q,h):new U(q,h)}intercept(q,h,m){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,q,h,m):h}invoke(q,h,m,X,ne){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,q,h,m,X,ne):h.apply(m,X)}handleError(q,h){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,q,h)}scheduleTask(q,h){let m=h;if(this._scheduleTaskZS)this._hasTaskZS&&m._zoneDelegates.push(this._hasTaskDlgtOwner),m=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,q,h),m||(m=h);else if(h.scheduleFn)h.scheduleFn(h);else{if(h.type!=J)throw new Error("Task is missing scheduleFn.");ie(h)}return m}invokeTask(q,h,m,X){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,q,h,m,X):h.callback.apply(m,X)}cancelTask(q,h){let m;if(this._cancelTaskZS)m=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,q,h);else{if(!h.cancelFn)throw Error("Task is not cancelable");m=h.cancelFn(h)}return m}hasTask(q,h){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,q,h)}catch(m){this.handleError(q,m)}}_updateTaskCount(q,h){const m=this._taskCounts,X=m[q],ne=m[q]=X+h;if(ne<0)throw new Error("More tasks executed then were scheduled.");0!=X&&0!=ne||this.hasTask(this.zone,{microTask:m.microTask>0,macroTask:m.macroTask>0,eventTask:m.eventTask>0,change:q})}}class z{constructor(q,h,m,X,ne,B){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=q,this.source=h,this.data=X,this.scheduleFn=ne,this.cancelFn=B,!m)throw new Error("callback is not defined");this.callback=m;const b=this;this.invoke=q===Ye&&X&&X.useG?z.invokeTask:function(){return z.invokeTask.call(d,b,this,arguments)}}static invokeTask(q,h,m){q||(q=this),Ie++;try{return q.runCount++,q.zone.runTask(q,h,m)}finally{1==Ie&&R(),Ie--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(K,Te)}_transitionTo(q,h,m){if(this._state!==h&&this._state!==m)throw new Error(`${this.type} '${this.source}': can not transition to '${q}', expecting state '${h}'${m?" or '"+m+"'":""}, was '${this._state}'.`);this._state=q,q==K&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Ee=A("setTimeout"),ue=A("Promise"),re=A("then");let Ke,De=[],we=!1;function ke(de){if(Ke||d[ue]&&(Ke=d[ue].resolve(0)),Ke){let q=Ke[re];q||(q=Ke.then),q.call(Ke,de)}else d[Ee](de,0)}function ie(de){0===Ie&&0===De.length&&ke(R),de&&De.push(de)}function R(){if(!we){for(we=!0;De.length;){const de=De;De=[];for(let q=0;q<de.length;q++){const h=de[q];try{h.zone.runTask(h,null,null)}catch(m){Le.onUnhandledError(m)}}}Le.microtaskDrainDone(),we=!1}}const Be={name:"NO ZONE"},K="notScheduled",Te="scheduling",le="scheduled",W="running",Ce="canceling",L="unknown",J="microTask",te="macroTask",Ye="eventTask",Qe={},Le={symbol:A,currentZoneFrame:()=>Me,onUnhandledError:x,microtaskDrainDone:x,scheduleMicroTask:ie,showUncaughtError:()=>!U[A("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:x,patchMethod:()=>x,bindArguments:()=>[],patchThen:()=>x,patchMacroTask:()=>x,patchEventPrototype:()=>x,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>x,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>x,wrapWithCurrentZone:()=>x,filterProperties:()=>[],attachOriginToPatched:()=>x,_redefineProperty:()=>x,patchCallbacks:()=>x,nativeScheduleMicroTask:ke};let Me={parent:null,zone:new U(null,null)},$e=null,Ie=0;function x(){}_("Zone","Zone"),d.Zone=U}(typeof window<"u"&&window||typeof self<"u"&&self||global);const jt=Object.getOwnPropertyDescriptor,zn=Object.defineProperty,Kn=Object.getPrototypeOf,Oe=Object.create,mt=Array.prototype.slice,In="addEventListener",bn="removeEventListener",Ts=Zone.__symbol__(In),Zn=Zone.__symbol__(bn),gt="true",ee="false",ln=Zone.__symbol__("");function cn(d,v){return Zone.current.wrap(d,v)}function Dn(d,v,T,_,S){return Zone.current.scheduleMacroTask(d,v,T,_,S)}const ye=Zone.__symbol__,vt=typeof window<"u",Nt=vt?window:void 0,He=vt&&Nt||"object"==typeof self&&self||global;function xs(d,v){for(let T=d.length-1;T>=0;T--)"function"==typeof d[T]&&(d[T]=cn(d[T],v+"_"+T));return d}function lt(d){return!d||!1!==d.writable&&!("function"==typeof d.get&&typeof d.set>"u")}const Xn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,pn=!("nw"in He)&&typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process),Cs=!pn&&!Xn&&!(!vt||!Nt.HTMLElement),pe=typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process)&&!Xn&&!(!vt||!Nt.HTMLElement),je={},ur=function(d){if(!(d=d||He.event))return;let v=je[d.type];v||(v=je[d.type]=ye("ON_PROPERTY"+d.type));const T=this||d.target||He,_=T[v];let S;if(Cs&&T===Nt&&"error"===d.type){const A=d;S=_&&_.call(this,A.message,A.filename,A.lineno,A.colno,A.error),!0===S&&d.preventDefault()}else S=_&&_.apply(this,arguments),null!=S&&!S&&d.preventDefault();return S};function lr(d,v,T){let _=jt(d,v);if(!_&&T&&jt(T,v)&&(_={enumerable:!0,configurable:!0}),!_||!_.configurable)return;const S=ye("on"+v+"patched");if(d.hasOwnProperty(S)&&d[S])return;delete _.writable,delete _.value;const A=_.get,H=_.set,U=v.slice(2);let $=je[U];$||($=je[U]=ye("ON_PROPERTY"+U)),_.set=function(Q){let z=this;!z&&d===He&&(z=He),z&&("function"==typeof z[$]&&z.removeEventListener(U,ur),H&&H.call(z,null),z[$]=Q,"function"==typeof Q&&z.addEventListener(U,ur,!1))},_.get=function(){let Q=this;if(!Q&&d===He&&(Q=He),!Q)return null;const z=Q[$];if(z)return z;if(A){let Ee=A.call(this);if(Ee)return _.set.call(this,Ee),"function"==typeof Q.removeAttribute&&Q.removeAttribute(v),Ee}return null},zn(d,v,_),d[S]=!0}function cr(d,v,T){if(v)for(let _=0;_<v.length;_++)lr(d,"on"+v[_],T);else{const _=[];for(const S in d)"on"==S.slice(0,2)&&_.push(S);for(let S=0;S<_.length;S++)lr(d,_[S],T)}}const et=ye("originalInstance");function Yn(d){const v=He[d];if(!v)return;He[ye(d)]=v,He[d]=function(){const S=xs(arguments,d);switch(S.length){case 0:this[et]=new v;break;case 1:this[et]=new v(S[0]);break;case 2:this[et]=new v(S[0],S[1]);break;case 3:this[et]=new v(S[0],S[1],S[2]);break;case 4:this[et]=new v(S[0],S[1],S[2],S[3]);break;default:throw new Error("Arg list too long.")}},kt(He[d],v);const T=new v(function(){});let _;for(_ in T)"XMLHttpRequest"===d&&"responseBlob"===_||function(S){"function"==typeof T[S]?He[d].prototype[S]=function(){return this[et][S].apply(this[et],arguments)}:zn(He[d].prototype,S,{set:function(A){"function"==typeof A?(this[et][S]=cn(A,d+"."+S),kt(this[et][S],A)):this[et][S]=A},get:function(){return this[et][S]}})}(_);for(_ in v)"prototype"!==_&&v.hasOwnProperty(_)&&(He[d][_]=v[_])}function Pt(d,v,T){let _=d;for(;_&&!_.hasOwnProperty(v);)_=Kn(_);!_&&d[v]&&(_=d);const S=ye(v);let A=null;if(_&&(!(A=_[S])||!_.hasOwnProperty(S))&&(A=_[S]=_[v],lt(_&&jt(_,v)))){const U=T(A,S,v);_[v]=function(){return U(this,arguments)},kt(_[v],A)}return A}function ai(d,v,T){let _=null;function S(A){const H=A.data;return H.args[H.cbIdx]=function(){A.invoke.apply(this,arguments)},_.apply(H.target,H.args),A}_=Pt(d,v,A=>function(H,U){const $=T(H,U);return $.cbIdx>=0&&"function"==typeof U[$.cbIdx]?Dn($.name,U[$.cbIdx],$,S):A.apply(H,U)})}function kt(d,v){d[ye("OriginalDelegate")]=v}let pr=!1,Qn=!1;function Jn(){if(pr)return Qn;pr=!0;try{const d=Nt.navigator.userAgent;(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/")||-1!==d.indexOf("Edge/"))&&(Qn=!0)}catch{}return Qn}Zone.__load_patch("ZoneAwarePromise",(d,v,T)=>{const _=Object.getOwnPropertyDescriptor,S=Object.defineProperty,H=T.symbol,U=[],$=!0===d[H("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Q=H("Promise"),z=H("then");T.onUnhandledError=b=>{if(T.showUncaughtError()){const N=b&&b.rejection;N?console.error("Unhandled Promise rejection:",N instanceof Error?N.message:N,"; Zone:",b.zone.name,"; Task:",b.task&&b.task.source,"; Value:",N,N instanceof Error?N.stack:void 0):console.error(b)}},T.microtaskDrainDone=()=>{for(;U.length;){const b=U.shift();try{b.zone.runGuarded(()=>{throw b.throwOriginal?b.rejection:b})}catch(N){re(N)}}};const ue=H("unhandledPromiseRejectionHandler");function re(b){T.onUnhandledError(b);try{const N=v[ue];"function"==typeof N&&N.call(this,b)}catch{}}function De(b){return b&&b.then}function we(b){return b}function Ke(b){return h.reject(b)}const ke=H("state"),ie=H("value"),R=H("finally"),Be=H("parentPromiseValue"),K=H("parentPromiseState"),le=null,W=!0,Ce=!1;function J(b,N){return w=>{try{Le(b,N,w)}catch(D){Le(b,!1,D)}}}const te=function(){let b=!1;return function(w){return function(){b||(b=!0,w.apply(null,arguments))}}},Qe=H("currentTaskTrace");function Le(b,N,w){const D=te();if(b===w)throw new TypeError("Promise resolved with itself");if(b[ke]===le){let j=null;try{("object"==typeof w||"function"==typeof w)&&(j=w&&w.then)}catch(Y){return D(()=>{Le(b,!1,Y)})(),b}if(N!==Ce&&w instanceof h&&w.hasOwnProperty(ke)&&w.hasOwnProperty(ie)&&w[ke]!==le)$e(w),Le(b,w[ke],w[ie]);else if(N!==Ce&&"function"==typeof j)try{j.call(w,D(J(b,N)),D(J(b,!1)))}catch(Y){D(()=>{Le(b,!1,Y)})()}else{b[ke]=N;const Y=b[ie];if(b[ie]=w,b[R]===R&&N===W&&(b[ke]=b[K],b[ie]=b[Be]),N===Ce&&w instanceof Error){const M=v.currentTask&&v.currentTask.data&&v.currentTask.data.__creationTrace__;M&&S(w,Qe,{configurable:!0,enumerable:!1,writable:!0,value:M})}for(let M=0;M<Y.length;)Ie(b,Y[M++],Y[M++],Y[M++],Y[M++]);if(0==Y.length&&N==Ce){b[ke]=0;let M=w;try{throw new Error("Uncaught (in promise): "+function A(b){return b&&b.toString===Object.prototype.toString?(b.constructor&&b.constructor.name||"")+": "+JSON.stringify(b):b?b.toString():Object.prototype.toString.call(b)}(w)+(w&&w.stack?"\n"+w.stack:""))}catch(oe){M=oe}$&&(M.throwOriginal=!0),M.rejection=w,M.promise=b,M.zone=v.current,M.task=v.currentTask,U.push(M),T.scheduleMicroTask()}}}return b}const Me=H("rejectionHandledHandler");function $e(b){if(0===b[ke]){try{const N=v[Me];N&&"function"==typeof N&&N.call(this,{rejection:b[ie],promise:b})}catch{}b[ke]=Ce;for(let N=0;N<U.length;N++)b===U[N].promise&&U.splice(N,1)}}function Ie(b,N,w,D,j){$e(b);const Y=b[ke],M=Y?"function"==typeof D?D:we:"function"==typeof j?j:Ke;N.scheduleMicroTask("Promise.then",()=>{try{const oe=b[ie],ae=!!w&&R===w[R];ae&&(w[Be]=oe,w[K]=Y);const se=N.run(M,void 0,ae&&M!==Ke&&M!==we?[]:[oe]);Le(w,!0,se)}catch(oe){Le(w,!1,oe)}},w)}const de=function(){},q=d.AggregateError;class h{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(N){return Le(new this(null),W,N)}static reject(N){return Le(new this(null),Ce,N)}static any(N){if(!N||"function"!=typeof N[Symbol.iterator])return Promise.reject(new q([],"All promises were rejected"));const w=[];let D=0;try{for(let M of N)D++,w.push(h.resolve(M))}catch{return Promise.reject(new q([],"All promises were rejected"))}if(0===D)return Promise.reject(new q([],"All promises were rejected"));let j=!1;const Y=[];return new h((M,oe)=>{for(let ae=0;ae<w.length;ae++)w[ae].then(se=>{j||(j=!0,M(se))},se=>{Y.push(se),D--,0===D&&(j=!0,oe(new q(Y,"All promises were rejected")))})})}static race(N){let w,D,j=new this((oe,ae)=>{w=oe,D=ae});function Y(oe){w(oe)}function M(oe){D(oe)}for(let oe of N)De(oe)||(oe=this.resolve(oe)),oe.then(Y,M);return j}static all(N){return h.allWithCallback(N)}static allSettled(N){return(this&&this.prototype instanceof h?this:h).allWithCallback(N,{thenCallback:D=>({status:"fulfilled",value:D}),errorCallback:D=>({status:"rejected",reason:D})})}static allWithCallback(N,w){let D,j,Y=new this((se,Se)=>{D=se,j=Se}),M=2,oe=0;const ae=[];for(let se of N){De(se)||(se=this.resolve(se));const Se=oe;try{se.then(Ae=>{ae[Se]=w?w.thenCallback(Ae):Ae,M--,0===M&&D(ae)},Ae=>{w?(ae[Se]=w.errorCallback(Ae),M--,0===M&&D(ae)):j(Ae)})}catch(Ae){j(Ae)}M++,oe++}return M-=2,0===M&&D(ae),Y}constructor(N){const w=this;if(!(w instanceof h))throw new Error("Must be an instanceof Promise.");w[ke]=le,w[ie]=[];try{const D=te();N&&N(D(J(w,W)),D(J(w,Ce)))}catch(D){Le(w,!1,D)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return h}then(N,w){var D;let j=null===(D=this.constructor)||void 0===D?void 0:D[Symbol.species];(!j||"function"!=typeof j)&&(j=this.constructor||h);const Y=new j(de),M=v.current;return this[ke]==le?this[ie].push(M,Y,N,w):Ie(this,M,Y,N,w),Y}catch(N){return this.then(null,N)}finally(N){var w;let D=null===(w=this.constructor)||void 0===w?void 0:w[Symbol.species];(!D||"function"!=typeof D)&&(D=h);const j=new D(de);j[R]=R;const Y=v.current;return this[ke]==le?this[ie].push(Y,j,N,N):Ie(this,Y,j,N,N),j}}h.resolve=h.resolve,h.reject=h.reject,h.race=h.race,h.all=h.all;const m=d[Q]=d.Promise;d.Promise=h;const X=H("thenPatched");function ne(b){const N=b.prototype,w=_(N,"then");if(w&&(!1===w.writable||!w.configurable))return;const D=N.then;N[z]=D,b.prototype.then=function(j,Y){return new h((oe,ae)=>{D.call(this,oe,ae)}).then(j,Y)},b[X]=!0}return T.patchThen=ne,m&&(ne(m),Pt(d,"fetch",b=>function B(b){return function(N,w){let D=b.apply(N,w);if(D instanceof h)return D;let j=D.constructor;return j[X]||ne(j),D}}(b))),Promise[v.__symbol__("uncaughtPromiseErrors")]=U,h}),Zone.__load_patch("toString",d=>{const v=Function.prototype.toString,T=ye("OriginalDelegate"),_=ye("Promise"),S=ye("Error"),A=function(){if("function"==typeof this){const Q=this[T];if(Q)return"function"==typeof Q?v.call(Q):Object.prototype.toString.call(Q);if(this===Promise){const z=d[_];if(z)return v.call(z)}if(this===Error){const z=d[S];if(z)return v.call(z)}}return v.call(this)};A[T]=v,Function.prototype.toString=A;const H=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":H.call(this)}});let Nn=!1;if(typeof window<"u")try{const d=Object.defineProperty({},"passive",{get:function(){Nn=!0}});window.addEventListener("test",d,d),window.removeEventListener("test",d,d)}catch{Nn=!1}const As={useG:!0},nt={},hr={},Wt=new RegExp("^"+ln+"(\\w+)(true|false)$"),dr=ye("propagationStopped");function fr(d,v){const T=(v?v(d):d)+ee,_=(v?v(d):d)+gt,S=ln+T,A=ln+_;nt[d]={},nt[d][ee]=S,nt[d][gt]=A}function hn(d,v,T,_){const S=_&&_.add||In,A=_&&_.rm||bn,H=_&&_.listeners||"eventListeners",U=_&&_.rmAll||"removeAllListeners",$=ye(S),Q="."+S+":",ue=function(ie,R,Be){if(ie.isRemoved)return;const K=ie.callback;let Te;"object"==typeof K&&K.handleEvent&&(ie.callback=W=>K.handleEvent(W),ie.originalDelegate=K);try{ie.invoke(ie,R,[Be])}catch(W){Te=W}const le=ie.options;return le&&"object"==typeof le&&le.once&&R[A].call(R,Be.type,ie.originalDelegate?ie.originalDelegate:ie.callback,le),Te};function re(ie,R,Be){if(!(R=R||d.event))return;const K=ie||R.target||d,Te=K[nt[R.type][Be?gt:ee]];if(Te){const le=[];if(1===Te.length){const W=ue(Te[0],K,R);W&&le.push(W)}else{const W=Te.slice();for(let Ce=0;Ce<W.length&&(!R||!0!==R[dr]);Ce++){const L=ue(W[Ce],K,R);L&&le.push(L)}}if(1===le.length)throw le[0];for(let W=0;W<le.length;W++){const Ce=le[W];v.nativeScheduleMicroTask(()=>{throw Ce})}}}const De=function(ie){return re(this,ie,!1)},we=function(ie){return re(this,ie,!0)};function Ke(ie,R){if(!ie)return!1;let Be=!0;R&&void 0!==R.useG&&(Be=R.useG);const K=R&&R.vh;let Te=!0;R&&void 0!==R.chkDup&&(Te=R.chkDup);let le=!1;R&&void 0!==R.rt&&(le=R.rt);let W=ie;for(;W&&!W.hasOwnProperty(S);)W=Kn(W);if(!W&&ie[S]&&(W=ie),!W||W[$])return!1;const Ce=R&&R.eventNameToString,L={},J=W[$]=W[S],te=W[ye(A)]=W[A],Ye=W[ye(H)]=W[H],Qe=W[ye(U)]=W[U];let Le;function Me(w,D){return!Nn&&"object"==typeof w&&w?!!w.capture:Nn&&D?"boolean"==typeof w?{capture:w,passive:!0}:w?"object"==typeof w&&!1!==w.passive?Object.assign(Object.assign({},w),{passive:!0}):w:{passive:!0}:w}R&&R.prepend&&(Le=W[ye(R.prepend)]=W[R.prepend]);const h=Be?function(w){if(!L.isExisting)return J.call(L.target,L.eventName,L.capture?we:De,L.options)}:function(w){return J.call(L.target,L.eventName,w.invoke,L.options)},m=Be?function(w){if(!w.isRemoved){const D=nt[w.eventName];let j;D&&(j=D[w.capture?gt:ee]);const Y=j&&w.target[j];if(Y)for(let M=0;M<Y.length;M++)if(Y[M]===w){Y.splice(M,1),w.isRemoved=!0,0===Y.length&&(w.allRemoved=!0,w.target[j]=null);break}}if(w.allRemoved)return te.call(w.target,w.eventName,w.capture?we:De,w.options)}:function(w){return te.call(w.target,w.eventName,w.invoke,w.options)},ne=R&&R.diff?R.diff:function(w,D){const j=typeof D;return"function"===j&&w.callback===D||"object"===j&&w.originalDelegate===D},B=Zone[ye("UNPATCHED_EVENTS")],b=d[ye("PASSIVE_EVENTS")],N=function(w,D,j,Y,M=!1,oe=!1){return function(){const ae=this||d;let se=arguments[0];R&&R.transferEventName&&(se=R.transferEventName(se));let Se=arguments[1];if(!Se)return w.apply(this,arguments);if(pn&&"uncaughtException"===se)return w.apply(this,arguments);let Ae=!1;if("function"!=typeof Se){if(!Se.handleEvent)return w.apply(this,arguments);Ae=!0}if(K&&!K(w,Se,ae,arguments))return;const Lt=Nn&&!!b&&-1!==b.indexOf(se),Tt=Me(arguments[2],Lt);if(B)for(let Et=0;Et<B.length;Et++)if(se===B[Et])return Lt?w.call(ae,se,Se,Tt):w.apply(this,arguments);const ss=!!Tt&&("boolean"==typeof Tt||Tt.capture),Pn=!(!Tt||"object"!=typeof Tt)&&Tt.once,di=Zone.current;let Ds=nt[se];Ds||(fr(se,Ce),Ds=nt[se]);const rs=Ds[ss?gt:ee];let is,Gt=ae[rs],fn=!1;if(Gt){if(fn=!0,Te)for(let Et=0;Et<Gt.length;Et++)if(ne(Gt[Et],Se))return}else Gt=ae[rs]=[];const kn=ae.constructor.name,Ln=hr[kn];Ln&&(is=Ln[se]),is||(is=kn+D+(Ce?Ce(se):se)),L.options=Tt,Pn&&(L.options.once=!1),L.target=ae,L.capture=ss,L.eventName=se,L.isExisting=fn;const Ue=Be?As:void 0;Ue&&(Ue.taskData=L);const st=di.scheduleEventTask(is,Se,Ue,j,Y);return L.target=null,Ue&&(Ue.taskData=null),Pn&&(Tt.once=!0),!Nn&&"boolean"==typeof st.options||(st.options=Tt),st.target=ae,st.capture=ss,st.eventName=se,Ae&&(st.originalDelegate=Se),oe?Gt.unshift(st):Gt.push(st),M?ae:void 0}};return W[S]=N(J,Q,h,m,le),Le&&(W.prependListener=N(Le,".prependListener:",function(w){return Le.call(L.target,L.eventName,w.invoke,L.options)},m,le,!0)),W[A]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=arguments[2],Y=!!j&&("boolean"==typeof j||j.capture),M=arguments[1];if(!M)return te.apply(this,arguments);if(K&&!K(te,M,w,arguments))return;const oe=nt[D];let ae;oe&&(ae=oe[Y?gt:ee]);const se=ae&&w[ae];if(se)for(let Se=0;Se<se.length;Se++){const Ae=se[Se];if(ne(Ae,M))return se.splice(Se,1),Ae.isRemoved=!0,0===se.length&&(Ae.allRemoved=!0,w[ae]=null,"string"==typeof D)&&(w[ln+"ON_PROPERTY"+D]=null),Ae.zone.cancelTask(Ae),le?w:void 0}return te.apply(this,arguments)},W[H]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=[],Y=Is(w,Ce?Ce(D):D);for(let M=0;M<Y.length;M++){const oe=Y[M];j.push(oe.originalDelegate?oe.originalDelegate:oe.callback)}return j},W[U]=function(){const w=this||d;let D=arguments[0];if(D){R&&R.transferEventName&&(D=R.transferEventName(D));const j=nt[D];if(j){const oe=w[j[ee]],ae=w[j[gt]];if(oe){const se=oe.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}if(ae){const se=ae.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}}}else{const j=Object.keys(w);for(let Y=0;Y<j.length;Y++){const oe=Wt.exec(j[Y]);let ae=oe&&oe[1];ae&&"removeListener"!==ae&&this[U].call(this,ae)}this[U].call(this,"removeListener")}if(le)return this},kt(W[S],J),kt(W[A],te),Qe&&kt(W[U],Qe),Ye&&kt(W[H],Ye),!0}let ke=[];for(let ie=0;ie<T.length;ie++)ke[ie]=Ke(T[ie],_);return ke}function Is(d,v){if(!v){const A=[];for(let H in d){const U=Wt.exec(H);let $=U&&U[1];if($&&(!v||$===v)){const Q=d[H];if(Q)for(let z=0;z<Q.length;z++)A.push(Q[z])}}return A}let T=nt[v];T||(fr(v),T=nt[v]);const _=d[T[ee]],S=d[T[gt]];return _?S?_.concat(S):_.slice():S?S.slice():[]}function li(d,v){const T=d.Event;T&&T.prototype&&v.patchMethod(T.prototype,"stopImmediatePropagation",_=>function(S,A){S[dr]=!0,_&&_.apply(S,A)})}function mr(d,v,T,_,S){const A=Zone.__symbol__(_);if(v[A])return;const H=v[A]=v[_];v[_]=function(U,$,Q){return $&&$.prototype&&S.forEach(function(z){const Ee=`${T}.${_}::`+z,ue=$.prototype;try{if(ue.hasOwnProperty(z)){const re=d.ObjectGetOwnPropertyDescriptor(ue,z);re&&re.value?(re.value=d.wrapWithCurrentZone(re.value,Ee),d._redefineProperty($.prototype,z,re)):ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}else ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}catch{}}),H.call(v,U,$,Q)},d.attachOriginToPatched(v[_],H)}function bs(d,v,T){if(!T||0===T.length)return v;const _=T.filter(A=>A.target===d);if(!_||0===_.length)return v;const S=_[0].ignoreProperties;return v.filter(A=>-1===S.indexOf(A))}function es(d,v,T,_){d&&cr(d,bs(d,v,T),_)}function ts(d){return Object.getOwnPropertyNames(d).filter(v=>v.startsWith("on")&&v.length>2).map(v=>v.substring(2))}Zone.__load_patch("util",(d,v,T)=>{const _=ts(d);T.patchOnProperties=cr,T.patchMethod=Pt,T.bindArguments=xs,T.patchMacroTask=ai;const S=v.__symbol__("BLACK_LISTED_EVENTS"),A=v.__symbol__("UNPATCHED_EVENTS");d[A]&&(d[S]=d[A]),d[S]&&(v[S]=v[A]=d[S]),T.patchEventPrototype=li,T.patchEventTarget=hn,T.isIEOrEdge=Jn,T.ObjectDefineProperty=zn,T.ObjectGetOwnPropertyDescriptor=jt,T.ObjectCreate=Oe,T.ArraySlice=mt,T.patchClass=Yn,T.wrapWithCurrentZone=cn,T.filterProperties=bs,T.attachOriginToPatched=kt,T._redefineProperty=Object.defineProperty,T.patchCallbacks=mr,T.getGlobalObjects=()=>({globalSources:hr,zoneSymbolEventNames:nt,eventNames:_,isBrowser:Cs,isMix:pe,isNode:pn,TRUE_STR:gt,FALSE_STR:ee,ZONE_SYMBOL_PREFIX:ln,ADD_EVENT_LISTENER_STR:In,REMOVE_EVENT_LISTENER_STR:bn})});const ns=ye("zoneTask");function dn(d,v,T,_){let S=null,A=null;T+=_;const H={};function U(Q){const z=Q.data;return z.args[0]=function(){return Q.invoke.apply(this,arguments)},z.handleId=S.apply(d,z.args),Q}function $(Q){return A.call(d,Q.data.handleId)}S=Pt(d,v+=_,Q=>function(z,Ee){if("function"==typeof Ee[0]){const ue={isPeriodic:"Interval"===_,delay:"Timeout"===_||"Interval"===_?Ee[1]||0:void 0,args:Ee},re=Ee[0];Ee[0]=function(){try{return re.apply(this,arguments)}finally{ue.isPeriodic||("number"==typeof ue.handleId?delete H[ue.handleId]:ue.handleId&&(ue.handleId[ns]=null))}};const De=Dn(v,Ee[0],ue,U,$);if(!De)return De;const we=De.data.handleId;return"number"==typeof we?H[we]=De:we&&(we[ns]=De),we&&we.ref&&we.unref&&"function"==typeof we.ref&&"function"==typeof we.unref&&(De.ref=we.ref.bind(we),De.unref=we.unref.bind(we)),"number"==typeof we||we?we:De}return Q.apply(d,Ee)}),A=Pt(d,T,Q=>function(z,Ee){const ue=Ee[0];let re;"number"==typeof ue?re=H[ue]:(re=ue&&ue[ns],re||(re=ue)),re&&"string"==typeof re.type?"notScheduled"!==re.state&&(re.cancelFn&&re.data.isPeriodic||0===re.runCount)&&("number"==typeof ue?delete H[ue]:ue&&(ue[ns]=null),re.zone.cancelTask(re)):Q.apply(d,Ee)})}Zone.__load_patch("legacy",d=>{const v=d[Zone.__symbol__("legacyPatch")];v&&v()}),Zone.__load_patch("queueMicrotask",(d,v,T)=>{T.patchMethod(d,"queueMicrotask",_=>function(S,A){v.current.scheduleMicroTask("queueMicrotask",A[0])})}),Zone.__load_patch("timers",d=>{const v="set",T="clear";dn(d,v,T,"Timeout"),dn(d,v,T,"Interval"),dn(d,v,T,"Immediate")}),Zone.__load_patch("requestAnimationFrame",d=>{dn(d,"request","cancel","AnimationFrame"),dn(d,"mozRequest","mozCancel","AnimationFrame"),dn(d,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(d,v)=>{const T=["alert","prompt","confirm"];for(let _=0;_<T.length;_++)Pt(d,T[_],(A,H,U)=>function($,Q){return v.current.run(A,d,Q,U)})}),Zone.__load_patch("EventTarget",(d,v,T)=>{(function hi(d,v){v.patchEventPrototype(d,v)})(d,T),function pi(d,v){if(Zone[v.symbol("patchEventTarget")])return;const{eventNames:T,zoneSymbolEventNames:_,TRUE_STR:S,FALSE_STR:A,ZONE_SYMBOL_PREFIX:H}=v.getGlobalObjects();for(let $=0;$<T.length;$++){const Q=T[$],ue=H+(Q+A),re=H+(Q+S);_[Q]={},_[Q][A]=ue,_[Q][S]=re}const U=d.EventTarget;U&&U.prototype&&v.patchEventTarget(d,v,[U&&U.prototype])}(d,T);const _=d.XMLHttpRequestEventTarget;_&&_.prototype&&T.patchEventTarget(d,T,[_.prototype])}),Zone.__load_patch("MutationObserver",(d,v,T)=>{Yn("MutationObserver"),Yn("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(d,v,T)=>{Yn("IntersectionObserver")}),Zone.__load_patch("FileReader",(d,v,T)=>{Yn("FileReader")}),Zone.__load_patch("on_property",(d,v,T)=>{!function gr(d,v){if(pn&&!pe||Zone[d.symbol("patchEvents")])return;const T=v.__Zone_ignore_on_properties;let _=[];if(Cs){const S=window;_=_.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const A=function ui(){try{const d=Nt.navigator.userAgent;if(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:S,ignoreProperties:["error"]}]:[];es(S,ts(S),T&&T.concat(A),Kn(S))}_=_.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let S=0;S<_.length;S++){const A=v[_[S]];A&&A.prototype&&es(A.prototype,ts(A.prototype),T)}}(T,d)}),Zone.__load_patch("customElements",(d,v,T)=>{!function ci(d,v){const{isBrowser:T,isMix:_}=v.getGlobalObjects();(T||_)&&d.customElements&&"customElements"in d&&v.patchCallbacks(v,d.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(d,T)}),Zone.__load_patch("XHR",(d,v)=>{!function $(Q){const z=Q.XMLHttpRequest;if(!z)return;const Ee=z.prototype;let re=Ee[Ts],De=Ee[Zn];if(!re){const L=Q.XMLHttpRequestEventTarget;if(L){const J=L.prototype;re=J[Ts],De=J[Zn]}}const we="readystatechange",Ke="scheduled";function ke(L){const J=L.data,te=J.target;te[A]=!1,te[U]=!1;const Ye=te[S];re||(re=te[Ts],De=te[Zn]),Ye&&De.call(te,we,Ye);const Qe=te[S]=()=>{if(te.readyState===te.DONE)if(!J.aborted&&te[A]&&L.state===Ke){const Me=te[v.__symbol__("loadfalse")];if(0!==te.status&&Me&&Me.length>0){const $e=L.invoke;L.invoke=function(){const Ie=te[v.__symbol__("loadfalse")];for(let x=0;x<Ie.length;x++)Ie[x]===L&&Ie.splice(x,1);!J.aborted&&L.state===Ke&&$e.call(L)},Me.push(L)}else L.invoke()}else!J.aborted&&!1===te[A]&&(te[U]=!0)};return re.call(te,we,Qe),te[T]||(te[T]=L),W.apply(te,J.args),te[A]=!0,L}function ie(){}function R(L){const J=L.data;return J.aborted=!0,Ce.apply(J.target,J.args)}const Be=Pt(Ee,"open",()=>function(L,J){return L[_]=0==J[2],L[H]=J[1],Be.apply(L,J)}),Te=ye("fetchTaskAborting"),le=ye("fetchTaskScheduling"),W=Pt(Ee,"send",()=>function(L,J){if(!0===v.current[le]||L[_])return W.apply(L,J);{const te={target:L,url:L[H],isPeriodic:!1,args:J,aborted:!1},Ye=Dn("XMLHttpRequest.send",ie,te,ke,R);L&&!0===L[U]&&!te.aborted&&Ye.state===Ke&&Ye.invoke()}}),Ce=Pt(Ee,"abort",()=>function(L,J){const te=function ue(L){return L[T]}(L);if(te&&"string"==typeof te.type){if(null==te.cancelFn||te.data&&te.data.aborted)return;te.zone.cancelTask(te)}else if(!0===v.current[Te])return Ce.apply(L,J)})}(d);const T=ye("xhrTask"),_=ye("xhrSync"),S=ye("xhrListener"),A=ye("xhrScheduled"),H=ye("xhrURL"),U=ye("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",d=>{d.navigator&&d.navigator.geolocation&&function qe(d,v){const T=d.constructor.name;for(let _=0;_<v.length;_++){const S=v[_],A=d[S];if(A){if(!lt(jt(d,S)))continue;d[S]=(U=>{const $=function(){return U.apply(this,xs(arguments,T+"."+S))};return kt($,U),$})(A)}}}(d.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(d,v)=>{function T(_){return function(S){Is(d,_).forEach(H=>{const U=d.PromiseRejectionEvent;if(U){const $=new U(_,{promise:S.promise,reason:S.rejection});H.invoke($)}})}}d.PromiseRejectionEvent&&(v[ye("unhandledPromiseRejectionHandler")]=T("unhandledrejection"),v[ye("rejectionHandledHandler")]=T("rejectionhandled"))})}},jt=>{jt(jt.s=5565)}]);
(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[179],{2011:(xt,Ge,H)=>{"use strict";H.d(Ge,{Dh:()=>Ae,GT:()=>De,cc:()=>Ue,hO:()=>tt,on:()=>J,pX:()=>ge,xv:()=>Se});var c=H(4650),P=H(127),j=H(5813);xt=H.hmd(xt);const ye=["ngOnDestroy"],ge=(Me,st,Tt,He={})=>new Proxy(Me,{get:(Re,ke)=>Tt.runOutsideAngular(()=>{var rt;if(Me[ke])return!(null===(rt=He?.spy)||void 0===rt)&&rt.get&&He.spy.get(ke,Me[ke]),Me[ke];if(ye.indexOf(ke)>-1)return()=>{};const ut=st.toPromise().then(Q=>{const Oe=Q&&Q[ke];return"function"==typeof Oe?Oe.bind(Q):Oe&&Oe.then?Oe.then(ae=>Tt.run(()=>ae)):Tt.run(()=>Oe)});return new Proxy(()=>{},{get:(Q,Oe)=>ut[Oe],apply:(Q,Oe,ae)=>ut.then(pe=>{var ve;const _e=pe&&pe(...ae);return!(null===(ve=He?.spy)||void 0===ve)&&ve.apply&&He.spy.apply(ke,ae,_e),_e})})})}),De=(Me,st)=>{st.forEach(Tt=>{Object.getOwnPropertyNames(Tt.prototype||Tt).forEach(He=>{Object.defineProperty(Me.prototype,He,Object.getOwnPropertyDescriptor(Tt.prototype||Tt,He))})})};class Ce{constructor(st){return st}}const Ae=new c.OlP("angularfire2.app.options"),Se=new c.OlP("angularfire2.app.name");function J(Me,st,Tt){const Re="object"==typeof Tt&&Tt||{};Re.name=Re.name||"string"==typeof Tt&&Tt||"[DEFAULT]";const rt=P.Z.apps.filter(ut=>ut&&ut.name===Re.name)[0]||st.runOutsideAngular(()=>P.Z.initializeApp(Me,Re));try{JSON.stringify(Me)!==JSON.stringify(rt.options)&&X("error",`${rt.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ce(rt)}const X=(Me,...st)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Me](...st)},ce={provide:Ce,useFactory:J,deps:[Ae,c.R0b,[new c.FiY,Se]]};let tt=(()=>{class Me{constructor(Tt){P.Z.registerVersion("angularfire",j.q4.full,"core"),P.Z.registerVersion("angularfire",j.q4.full,"app-compat"),P.Z.registerVersion("angular",c.q4F.full,Tt.toString())}static initializeApp(Tt,He){return{ngModule:Me,providers:[{provide:Ae,useValue:Tt},{provide:Se,useValue:He}]}}}return Me.\u0275fac=function(Tt){return new(Tt||Me)(c.LFG(c.Lbi))},Me.\u0275mod=c.oAB({type:Me}),Me.\u0275inj=c.cJS({providers:[ce]}),Me})();function Ue(Me,st,Tt,He,Re){const[,ke,rt]=globalThis.\u0275AngularfireInstanceCache.find(ut=>ut[0]===Me)||[];if(ke)return function Le(Me,st){try{return Me.toString()===st.toString()}catch{return Me===st}}(Re,rt)||(Ne("error",`${st} was already initialized on the ${Tt} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:Re,was:rt})),ke;{const ut=He();return globalThis.\u0275AngularfireInstanceCache.push([Me,ut,Re]),ut}}const ct=!!xt.hot,Ne=(Me,...st)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Me](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(xt,Ge,H)=>{"use strict";H.d(Ge,{q4:()=>nr,iC:()=>yr,HU:()=>ti,vb:()=>kc,JM:()=>Pc});var c=H(4650),P=H(5867),j=H(5861),ye=H(9681),ge=H(2090),De=H(4859),Ce=H(1877),Ae=H(8766);const Se="@firebase/installations",J="0.5.12",ce=`w:${J}`,tt="FIS_v2",st=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(x){return x instanceof ge.ZR&&x.code.includes("request-failed")}function He({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Re(x){return{token:x.token,requestStatus:2,expiresIn:pe(x.expiresIn),creationTime:Date.now()}}function ke(x,N){return rt.apply(this,arguments)}function rt(){return(rt=(0,j.Z)(function*(x,N){const q=(yield N.json()).error;return st.create("request-failed",{requestName:x,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function ut({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Q(x,{refreshToken:N}){const k=ut(x);return k.append("Authorization",function ve(x){return`${tt} ${x}`}(N)),k}function Oe(x){return ae.apply(this,arguments)}function ae(){return(ae=(0,j.Z)(function*(x){const N=yield x();return N.status>=500&&N.status<600?x():N})).apply(this,arguments)}function pe(x){return Number(x.replace("s","000"))}function _e(x,N){return it.apply(this,arguments)}function it(){return(it=(0,j.Z)(function*({appConfig:x,heartbeatServiceProvider:N},{fid:k}){const q=He(x),de=ut(x),Te=N.getImmediate({optional:!0});if(Te){const Ht=yield Te.getHeartbeatsHeader();Ht&&de.append("x-firebase-client",Ht)}const nt={method:"POST",headers:de,body:JSON.stringify({fid:k,authVersion:tt,appId:x.appId,sdkVersion:ce})},Bt=yield Oe(()=>fetch(q,nt));if(Bt.ok){const Ht=yield Bt.json();return{fid:Ht.fid||k,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:Re(Ht.authToken)}}throw yield ke("Create Installation",Bt)})).apply(this,arguments)}function Je(x){return new Promise(N=>{setTimeout(N,x)})}const Tn=/^[cdef][\w-]{21}$/;function dt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const k=function Wn(x){return function Mt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Tn.test(k)?k:""}catch{return""}}function ui(x){return`${x.appName}!${x.appId}`}const Ln=new Map;function pn(x,N){const k=ui(x);Qt(k,N),function Ar(x,N){const k=function Fn(){return!En&&"BroadcastChannel"in self&&(En=new BroadcastChannel("[Firebase] FID Change"),En.onmessage=x=>{Qt(x.data.key,x.data.fid)}),En}();k&&k.postMessage({key:x,fid:N}),function zi(){0===Ln.size&&En&&(En.close(),En=null)}()}(k,N)}function Qt(x,N){const k=Ln.get(x);if(k)for(const q of k)q(N)}let En=null;const Mi="firebase-installations-store";let Nr=null;function _i(){return Nr||(Nr=(0,Ae.X3)("firebase-installations-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(Mi)}})),Nr}function mt(x,N){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,j.Z)(function*(x,N){const k=ui(x),de=(yield _i()).transaction(Mi,"readwrite"),Te=de.objectStore(Mi),ze=yield Te.get(k);return yield Te.put(N,k),yield de.done,(!ze||ze.fid!==N.fid)&&pn(x,N.fid),N})).apply(this,arguments)}function Hr(x){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,j.Z)(function*(x){const N=ui(x),q=(yield _i()).transaction(Mi,"readwrite");yield q.objectStore(Mi).delete(N),yield q.done})).apply(this,arguments)}function Xn(x,N){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,j.Z)(function*(x,N){const k=ui(x),de=(yield _i()).transaction(Mi,"readwrite"),Te=de.objectStore(Mi),ze=yield Te.get(k),nt=N(ze);return void 0===nt?yield Te.delete(k):yield Te.put(nt,k),yield de.done,nt&&(!ze||ze.fid!==nt.fid)&&pn(x,nt.fid),nt})).apply(this,arguments)}function Li(x){return wi.apply(this,arguments)}function wi(){return(wi=(0,j.Z)(function*(x){let N;const k=yield Xn(x.appConfig,q=>{const de=hi(q),Te=kt(x,de);return N=Te.registrationPromise,Te.installationEntry});return""===k.fid?{installationEntry:yield N}:{installationEntry:k,registrationPromise:N}})).apply(this,arguments)}function hi(x){return jt(x||{fid:dt(),registrationStatus:0})}function kt(x,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(st.create("app-offline"))};const k={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},q=function Nt(x,N){return Vn.apply(this,arguments)}(x,k);return{installationEntry:k,registrationPromise:q}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Vi(x)}:{installationEntry:N}}function Vn(){return(Vn=(0,j.Z)(function*(x,N){try{const k=yield _e(x,N);return mt(x.appConfig,k)}catch(k){throw Tt(k)&&409===k.customData.serverCode?yield Hr(x.appConfig):yield mt(x.appConfig,{fid:N.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Vi(x){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,j.Z)(function*(x){let N=yield qi(x.appConfig);for(;1===N.registrationStatus;)yield Je(100),N=yield qi(x.appConfig);if(0===N.registrationStatus){const{installationEntry:k,registrationPromise:q}=yield Li(x);return q||k}return N})).apply(this,arguments)}function qi(x){return Xn(x,N=>{if(!N)throw st.create("installation-not-found");return jt(N)})}function jt(x){return function Ds(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function xn(x,N){return ts.apply(this,arguments)}function ts(){return(ts=(0,j.Z)(function*({appConfig:x,heartbeatServiceProvider:N},k){const q=In(x,k),de=Q(x,k),Te=N.getImmediate({optional:!0});if(Te){const Ht=yield Te.getHeartbeatsHeader();Ht&&de.append("x-firebase-client",Ht)}const nt={method:"POST",headers:de,body:JSON.stringify({installation:{sdkVersion:ce,appId:x.appId}})},Bt=yield Oe(()=>fetch(q,nt));if(Bt.ok)return Re(yield Bt.json());throw yield ke("Generate Auth Token",Bt)})).apply(this,arguments)}function In(x,{fid:N}){return`${He(x)}/${N}/authTokens:generate`}function oe(x){return te.apply(this,arguments)}function te(){return(te=(0,j.Z)(function*(x,N=!1){let k;const q=yield Xn(x.appConfig,Te=>{if(!Pt(Te))throw st.create("not-registered");const ze=Te.authToken;if(!N&&ri(ze))return Te;if(1===ze.requestStatus)return k=Y(x,N),Te;{if(!navigator.onLine)throw st.create("app-offline");const nt=Zi(Te);return k=We(x,nt),nt}});return k?yield k:q.authToken})).apply(this,arguments)}function Y(x,N){return ne.apply(this,arguments)}function ne(){return(ne=(0,j.Z)(function*(x,N){let k=yield ie(x.appConfig);for(;1===k.authToken.requestStatus;)yield Je(100),k=yield ie(x.appConfig);const q=k.authToken;return 0===q.requestStatus?oe(x,N):q})).apply(this,arguments)}function ie(x){return Xn(x,N=>{if(!Pt(N))throw st.create("not-registered");return function mn(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function We(x,N){return at.apply(this,arguments)}function at(){return(at=(0,j.Z)(function*(x,N){try{const k=yield xn(x,N),q=Object.assign(Object.assign({},N),{authToken:k});return yield mt(x.appConfig,q),k}catch(k){if(!Tt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const q=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield mt(x.appConfig,q)}else yield Hr(x.appConfig);throw k}})).apply(this,arguments)}function Pt(x){return void 0!==x&&2===x.registrationStatus}function ri(x){return 2===x.requestStatus&&!function Rn(x){const N=Date.now();return N<x.creationTime||x.creationTime+x.expiresIn<N+36e5}(x)}function Zi(x){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:N})}function si(){return(si=(0,j.Z)(function*(x){const N=x,{installationEntry:k,registrationPromise:q}=yield Li(N);return q?q.catch(console.error):oe(N).catch(console.error),k.fid})).apply(this,arguments)}function ls(){return(ls=(0,j.Z)(function*(x,N=!1){const k=x;return yield jr(k),(yield oe(k,N)).token})).apply(this,arguments)}function jr(x){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,j.Z)(function*(x){const{registrationPromise:N}=yield Li(x);N&&(yield N)})).apply(this,arguments)}function Us(x){return st.create("missing-app-config-values",{valueName:x})}const ds="installations",zn=x=>{const N=x.getProvider("app").getImmediate(),k=function oi(x){if(!x||!x.options)throw Us("App Configuration");if(!x.name)throw Us("App Name");const N=["projectId","apiKey","appId"];for(const k of N)if(!x.options[k])throw Us(k);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(N);return{app:N,appConfig:k,heartbeatServiceProvider:(0,ye._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},$s=x=>{const N=x.getProvider("app").getImmediate(),k=(0,ye._getProvider)(N,ds).getImmediate();return{getId:()=>function sn(x){return si.apply(this,arguments)}(k),getToken:de=>function Di(x){return ls.apply(this,arguments)}(k,de)}};(function Eo(){(0,ye._registerComponent)(new De.wA(ds,zn,"PUBLIC")),(0,ye._registerComponent)(new De.wA("installations-internal",$s,"PRIVATE"))})(),(0,ye.registerVersion)(Se,J),(0,ye.registerVersion)(Se,J,"esm2017");const Gs="@firebase/remote-config",qn=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class au{constructor(N,k,q,de){this.client=N,this.storage=k,this.storageCache=q,this.logger=de}isCachedDataFresh(N,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-k,de=q<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${de}.`),de}fetch(N){var k=this;return(0,j.Z)(function*(){const[q,de]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(de&&k.isCachedDataFresh(N.cacheMaxAgeMillis,q))return de;N.eTag=de&&de.eTag;const Te=yield k.client.fetch(N),ze=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Te.status&&ze.push(k.storage.setLastSuccessfulFetchResponse(Te)),yield Promise.all(ze),Te})()}}function fo(x=navigator){return x.languages&&x.languages[0]||x.language}class V{constructor(N,k,q,de,Te,ze){this.firebaseInstallations=N,this.sdkVersion=k,this.namespace=q,this.projectId=de,this.apiKey=Te,this.appId=ze}fetch(N){var k=this;return(0,j.Z)(function*(){var q,de,Te;const[ze,nt]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Ut={sdk_version:k.sdkVersion,app_instance_id:ze,app_instance_id_token:nt,app_id:k.appId,language_code:fo()},pi={method:"POST",headers:qt,body:JSON.stringify(Ut)},Wi=fetch(Ht,pi),Gn=new Promise((Ra,Ys)=>{N.signal.addEventListener(()=>{const hl=new Error("The operation was aborted.");hl.name="AbortError",Ys(hl)})});let cr;try{yield Promise.race([Wi,Gn]),cr=yield Wi}catch(Ra){let Ys="fetch-client-network";throw"AbortError"===(null===(q=Ra)||void 0===q?void 0:q.name)&&(Ys="fetch-timeout"),qn.create(Ys,{originalErrorMessage:null===(de=Ra)||void 0===de?void 0:de.message})}let ca=cr.status;const $l=cr.headers.get("ETag")||void 0;let Oa,Fa;if(200===cr.status){let Ra;try{Ra=yield cr.json()}catch(Ys){throw qn.create("fetch-client-parse",{originalErrorMessage:null===(Te=Ys)||void 0===Te?void 0:Te.message})}Oa=Ra.entries,Fa=Ra.state}if("INSTANCE_STATE_UNSPECIFIED"===Fa?ca=500:"NO_CHANGE"===Fa?ca=304:("NO_TEMPLATE"===Fa||"EMPTY_CONFIG"===Fa)&&(Oa={}),304!==ca&&200!==ca)throw qn.create("fetch-status",{httpStatus:ca});return{status:ca,eTag:$l,config:Oa}})()}}class be{constructor(N,k){this.client=N,this.storage=k}fetch(N){var k=this;return(0,j.Z)(function*(){const q=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(N,q)})()}attemptFetch(N,{throttleEndTimeMillis:k,backoffCount:q}){var de=this;return(0,j.Z)(function*(){yield function $(x,N){return new Promise((k,q)=>{const de=Math.max(N-Date.now(),0),Te=setTimeout(k,de);x.addEventListener(()=>{clearTimeout(Te),q(qn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,k);try{const Te=yield de.client.fetch(N);return yield de.storage.deleteThrottleMetadata(),Te}catch(Te){if(!function ee(x){if(!(x instanceof ge.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Te))throw Te;const ze={throttleEndTimeMillis:Date.now()+(0,ge.$s)(q),backoffCount:q+1};return yield de.storage.setThrottleMetadata(ze),de.attemptFetch(N,ze)}})()}}class un{constructor(N,k,q,de,Te){this.app=N,this._client=k,this._storageCache=q,this._storage=de,this._logger=Te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fi(x,N){var k;const q=x.target.error||void 0;return qn.create(N,{originalErrorMessage:q&&(null===(k=q)||void 0===k?void 0:k.message)})}const ai="app_namespace_store";class Wh{constructor(N,k,q,de=function Jf(){return new Promise((x,N)=>{var k;try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=de=>{N(Fi(de,"storage-open"))},q.onsuccess=de=>{x(de.target.result)},q.onupgradeneeded=de=>{0===de.oldVersion&&de.target.result.createObjectStore(ai,{keyPath:"compositeKey"})}}catch(q){N(qn.create("storage-open",{originalErrorMessage:null===(k=q)||void 0===k?void 0:k.message}))}})}()){this.appId=N,this.appName=k,this.namespace=q,this.openDbPromise=de}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var k=this;return(0,j.Z)(function*(){const q=yield k.openDbPromise;return new Promise((de,Te)=>{var ze;const Bt=q.transaction([ai],"readonly").objectStore(ai),Ht=k.createCompositeKey(N);try{const qt=Bt.get(Ht);qt.onerror=Ut=>{Te(Fi(Ut,"storage-get"))},qt.onsuccess=Ut=>{const pi=Ut.target.result;de(pi?pi.value:void 0)}}catch(qt){Te(qn.create("storage-get",{originalErrorMessage:null===(ze=qt)||void 0===ze?void 0:ze.message}))}})})()}set(N,k){var q=this;return(0,j.Z)(function*(){const de=yield q.openDbPromise;return new Promise((Te,ze)=>{var nt;const Ht=de.transaction([ai],"readwrite").objectStore(ai),qt=q.createCompositeKey(N);try{const Ut=Ht.put({compositeKey:qt,value:k});Ut.onerror=pi=>{ze(Fi(pi,"storage-set"))},Ut.onsuccess=()=>{Te()}}catch(Ut){ze(qn.create("storage-set",{originalErrorMessage:null===(nt=Ut)||void 0===nt?void 0:nt.message}))}})})()}delete(N){var k=this;return(0,j.Z)(function*(){const q=yield k.openDbPromise;return new Promise((de,Te)=>{var ze;const Bt=q.transaction([ai],"readwrite").objectStore(ai),Ht=k.createCompositeKey(N);try{const qt=Bt.delete(Ht);qt.onerror=Ut=>{Te(Fi(Ut,"storage-delete"))},qt.onsuccess=()=>{de()}}catch(qt){Te(qn.create("storage-delete",{originalErrorMessage:null===(ze=qt)||void 0===ze?void 0:ze.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Ud{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,j.Z)(function*(){const k=N.storage.getLastFetchStatus(),q=N.storage.getLastSuccessfulFetchTimestampMillis(),de=N.storage.getActiveConfig(),Te=yield k;Te&&(N.lastFetchStatus=Te);const ze=yield q;ze&&(N.lastSuccessfulFetchTimestampMillis=ze);const nt=yield de;nt&&(N.activeConfig=nt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Il(){return zh.apply(this,arguments)}function zh(){return(zh=(0,j.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Ia(){(0,ye._registerComponent)(new De.wA("remote-config",function x(N,{instanceIdentifier:k}){const q=N.getProvider("app").getImmediate(),de=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qn.create("registration-window");if(!(0,ge.hl)())throw qn.create("indexed-db-unavailable");const{projectId:Te,apiKey:ze,appId:nt}=q.options;if(!Te)throw qn.create("registration-project-id");if(!ze)throw qn.create("registration-api-key");if(!nt)throw qn.create("registration-app-id");const Bt=new Wh(nt,q.name,k=k||"firebase"),Ht=new Ud(Bt),qt=new Ce.Yd(Gs);qt.logLevel=Ce.in.ERROR;const Ut=new V(de,ye.SDK_VERSION,k,Te,ze,nt),pi=new be(Ut,Bt),Wi=new au(pi,Bt,Ht,qt),Gn=new un(q,Wi,Ht,Bt,qt);return function jn(x){const N=(0,ge.m9)(x);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Gn),Gn},"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(Gs,"0.3.11"),(0,ye.registerVersion)(Gs,"0.3.11","esm2017")}();const So="/firebase-messaging-sw.js",Ao="/firebase-cloud-messaging-push-scope",ta="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zn="google.c.a.c_id",Yn="google.c.a.c_l",Ku="google.c.a.ts",qh="google.c.a.e";var na=(()=>{return(x=na||(na={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",na;var x})();function Hs(x){const N=new Uint8Array(x);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Es(x){const k=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(k),de=new Uint8Array(q.length);for(let Te=0;Te<q.length;++Te)de[Te]=q.charCodeAt(Te);return de}const Ka="fcm_token_details_db",Un="fcm_token_object_Store";function Hd(x){return uc.apply(this,arguments)}function uc(){return uc=(0,j.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Te=>Te.name).includes(Ka))return null;let N=null;return(yield(0,Ae.X3)(Ka,5,{upgrade:(q=(0,j.Z)(function*(de,Te,ze,nt){var Bt;if(Te<2||!de.objectStoreNames.contains(Un))return;const Ht=nt.objectStore(Un),qt=yield Ht.index("fcmSenderId").get(x);if(yield Ht.clear(),qt)if(2===Te){const Ut=qt;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;N={token:Ut.fcmToken,createTime:null!==(Bt=Ut.createTime)&&void 0!==Bt?Bt:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:Hs(Ut.vapidKey)}}}else if(3===Te){const Ut=qt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Hs(Ut.auth),p256dh:Hs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Hs(Ut.vapidKey)}}}else if(4===Te){const Ut=qt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Hs(Ut.auth),p256dh:Hs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Hs(Ut.vapidKey)}}}}),function(Te,ze,nt,Bt){return q.apply(this,arguments)})})).close(),yield(0,Ae.Lj)(Ka),yield(0,Ae.Lj)("fcm_vapid_details_db"),yield(0,Ae.Lj)("undefined"),Gi(N)?N:null;var q}),uc.apply(this,arguments)}function Gi(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:N}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const xs="firebase-messaging-store";let is=null;function dc(){return is||(is=(0,Ae.X3)("firebase-messaging-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(xs)}})),is}function Qa(x){return No.apply(this,arguments)}function No(){return(No=(0,j.Z)(function*(x){const N=po(x),q=yield(yield dc()).transaction(xs).objectStore(xs).get(N);if(q)return q;{const de=yield Hd(x.appConfig.senderId);if(de)return yield An(x,de),de}})).apply(this,arguments)}function An(x,N){return zr.apply(this,arguments)}function zr(){return(zr=(0,j.Z)(function*(x,N){const k=po(x),de=(yield dc()).transaction(xs,"readwrite");return yield de.objectStore(xs).put(N,k),yield de.done,N})).apply(this,arguments)}function Ja(x){return rs.apply(this,arguments)}function rs(){return(rs=(0,j.Z)(function*(x){const N=po(x),q=(yield dc()).transaction(xs,"readwrite");yield q.objectStore(xs).delete(N),yield q.done})).apply(this,arguments)}function po({appConfig:x}){return x.appId}const Kn=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zt(x,N){return El.apply(this,arguments)}function El(){return(El=(0,j.Z)(function*(x,N){var k;const q=yield Ju(x),de=Ze(N),Te={method:"POST",headers:q,body:JSON.stringify(de)};let ze;try{ze=yield(yield fetch(mo(x.appConfig),Te)).json()}catch(nt){throw Kn.create("token-subscribe-failed",{errorInfo:null===(k=nt)||void 0===k?void 0:k.toString()})}if(ze.error)throw Kn.create("token-subscribe-failed",{errorInfo:ze.error.message});if(!ze.token)throw Kn.create("token-subscribe-no-token");return ze.token})).apply(this,arguments)}function Ii(x,N){return go.apply(this,arguments)}function go(){return(go=(0,j.Z)(function*(x,N){var k;const q=yield Ju(x),de=Ze(N.subscriptionOptions),Te={method:"PATCH",headers:q,body:JSON.stringify(de)};let ze;try{ze=yield(yield fetch(`${mo(x.appConfig)}/${N.token}`,Te)).json()}catch(nt){throw Kn.create("token-update-failed",{errorInfo:null===(k=nt)||void 0===k?void 0:k.toString()})}if(ze.error)throw Kn.create("token-update-failed",{errorInfo:ze.error.message});if(!ze.token)throw Kn.create("token-update-no-token");return ze.token})).apply(this,arguments)}function xl(x,N){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,j.Z)(function*(x,N){var k;const de={method:"DELETE",headers:yield Ju(x)};try{const ze=yield(yield fetch(`${mo(x.appConfig)}/${N}`,de)).json();if(ze.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:ze.error.message})}catch(Te){throw Kn.create("token-unsubscribe-failed",{errorInfo:null===(k=Te)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function mo({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function Ju(x){return fc.apply(this,arguments)}function fc(){return(fc=(0,j.Z)(function*({appConfig:x,installations:N}){const k=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Ze({p256dh:x,auth:N,endpoint:k,vapidKey:q}){const de={web:{endpoint:k,auth:N,p256dh:x}};return q!==ta&&(de.web.applicationPubKey=q),de}const _n=6048e5;function Xa(x){return ia.apply(this,arguments)}function ia(){return(ia=(0,j.Z)(function*(x){const N=yield Xu(x.swRegistration,x.vapidKey),k={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:N.endpoint,auth:Hs(N.getKey("auth")),p256dh:Hs(N.getKey("p256dh"))},q=yield Qa(x.firebaseDependencies);if(q){if(lu(q.subscriptionOptions,k))return Date.now()>=q.createTime+_n?el(x,{token:q.token,createTime:Date.now(),subscriptionOptions:k}):q.token;try{yield xl(x.firebaseDependencies,q.token)}catch(de){console.warn(de)}return tl(x.firebaseDependencies,k)}return tl(x.firebaseDependencies,k)})).apply(this,arguments)}function Xi(x){return pc.apply(this,arguments)}function pc(){return(pc=(0,j.Z)(function*(x){const N=yield Qa(x.firebaseDependencies);N&&(yield xl(x.firebaseDependencies,N.token),yield Ja(x.firebaseDependencies));const k=yield x.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function el(x,N){return ps.apply(this,arguments)}function ps(){return(ps=(0,j.Z)(function*(x,N){try{const k=yield Ii(x.firebaseDependencies,N),q=Object.assign(Object.assign({},N),{token:k,createTime:Date.now()});return yield An(x.firebaseDependencies,q),k}catch(k){throw yield Xi(x),k}})).apply(this,arguments)}function tl(x,N){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,j.Z)(function*(x,N){const q={token:yield Zt(x,N),createTime:Date.now(),subscriptionOptions:N};return yield An(x,q),q.token})).apply(this,arguments)}function Xu(x,N){return gc.apply(this,arguments)}function gc(){return(gc=(0,j.Z)(function*(x,N){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Es(N)})})).apply(this,arguments)}function lu(x,N){return N.vapidKey===x.vapidKey&&N.endpoint===x.endpoint&&N.auth===x.auth&&N.p256dh===x.p256dh}function mc(x){const N={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Hi(x,N){if(!N.notification)return;x.notification={};const k=N.notification.title;k&&(x.notification.title=k);const q=N.notification.body;q&&(x.notification.body=q);const de=N.notification.image;de&&(x.notification.image=de)}(N,x),function ji(x,N){!N.data||(x.data=N.data)}(N,x),function _c(x,N){var k,q,de,Te,ze;if(!(N.fcmOptions||null!==(k=N.notification)&&void 0!==k&&k.click_action))return;x.fcmOptions={};const nt=null!==(de=null===(q=N.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==de?de:null===(Te=N.notification)||void 0===Te?void 0:Te.click_action;nt&&(x.fcmOptions.link=nt);const Bt=null===(ze=N.fcmOptions)||void 0===ze?void 0:ze.analytics_label;Bt&&(x.fcmOptions.analyticsLabel=Bt)}(N,x),N}function _o(x){return"object"==typeof x&&!!x&&Zn in x}function Mo(x,N){const k=[];for(let q=0;q<x.length;q++)k.push(x.charAt(q)),q<N.length&&k.push(N.charAt(q));return k.join("")}function vc(x){return Kn.create("missing-app-config-values",{valueName:x})}Mo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xf{constructor(N,k,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const de=function Zh(x){if(!x||!x.options)throw vc("App Configuration Object");if(!x.name)throw vc("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:k}=x;for(const q of N)if(!k[q])throw vc(q);return{appName:x.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:de,installations:k,analyticsProvider:q}}_delete(){return Promise.resolve()}}function ed(x){return cu.apply(this,arguments)}function cu(){return(cu=(0,j.Z)(function*(x){var N;try{x.swRegistration=yield navigator.serviceWorker.register(So,{scope:Ao}),x.swRegistration.update().catch(()=>{})}catch(k){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:null===(N=k)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function yc(x,N){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,j.Z)(function*(x,N){if(!N&&!x.swRegistration&&(yield ed(x)),N||!x.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");x.swRegistration=N}})).apply(this,arguments)}function bc(x,N){return td.apply(this,arguments)}function td(){return(td=(0,j.Z)(function*(x,N){N?x.vapidKey=N:x.vapidKey||(x.vapidKey=ta)})).apply(this,arguments)}function wc(){return(wc=(0,j.Z)(function*(x,N){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield bc(x,N?.vapidKey),yield yc(x,N?.serviceWorkerRegistration),Xa(x)})).apply(this,arguments)}function Oo(x,N,k){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,j.Z)(function*(x,N,k){const q=nd(N);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:k[Zn],message_name:k[Yn],message_time:k[Ku],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nd(x){switch(x){case na.NOTIFICATION_CLICKED:return"notification_open";case na.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nl(){return(nl=(0,j.Z)(function*(x,N){const k=N.data;if(!k.isFirebaseMessaging)return;x.onMessageHandler&&k.messageType===na.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(mc(k)):x.onMessageHandler.next(mc(k)));const q=k.data;_o(q)&&"1"===q[qh]&&(yield Oo(x,k.messageType,q))})).apply(this,arguments)}const Ws="@firebase/messaging",_r=x=>{const N=new Xf(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function jd(x,N){return nl.apply(this,arguments)}(N,k)),N},Ss=x=>{const N=x.getProvider("messaging").getImmediate();return{getToken:q=>function Al(x,N){return wc.apply(this,arguments)}(N,q)}};function id(){return rd.apply(this,arguments)}function rd(){return(rd=(0,j.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ti(){(0,ye._registerComponent)(new De.wA("messaging",_r,"PUBLIC")),(0,ye._registerComponent)(new De.wA("messaging-internal",Ss,"PRIVATE")),(0,ye.registerVersion)(Ws,"0.9.16"),(0,ye.registerVersion)(Ws,"0.9.16","esm2017")}();const Ei="analytics",ei="firebase_id",Cr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",il="https://www.googletagmanager.com/gtag/js",er=new Ce.Yd("@firebase/analytics");function ra(x){return Promise.all(x.map(N=>N.catch(k=>k)))}function rl(x,N){const k=document.createElement("script");k.src=`${il}?l=${x}&id=${N}`,k.async=!0,document.head.appendChild(k)}function Qn(x,N,k,q,de,Te){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,j.Z)(function*(x,N,k,q,de,Te){const ze=q[de];try{if(ze)yield N[ze];else{const Bt=(yield ra(k)).find(Ht=>Ht.measurementId===de);Bt&&(yield N[Bt.appId])}}catch(nt){er.error(nt)}x("config",de,Te)})).apply(this,arguments)}function sl(x,N,k,q,de){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,j.Z)(function*(x,N,k,q,de){try{let Te=[];if(de&&de.send_to){let ze=de.send_to;Array.isArray(ze)||(ze=[ze]);const nt=yield ra(k);for(const Bt of ze){const Ht=nt.find(Ut=>Ut.measurementId===Bt),qt=Ht&&N[Ht.appId];if(!qt){Te=[];break}Te.push(qt)}}0===Te.length&&(Te=Object.values(N)),yield Promise.all(Te),x("event",q,de||{})}catch(Te){er.error(Te)}})).apply(this,arguments)}function zd(){const x=window.document.getElementsByTagName("script");for(const N of Object.values(x))if(N.src&&N.src.includes(il))return N;return null}const xi=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Rl=new class As{constructor(N={},k=1e3){this.throttleMetadata=N,this.intervalMillis=k}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,k){this.throttleMetadata[N]=k}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function sd(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Sa(x){return du.apply(this,arguments)}function du(){return(du=(0,j.Z)(function*(x){var N;const{appId:k,apiKey:q}=x,de={method:"GET",headers:sd(q)},Te=Cr.replace("{app-id}",k),ze=yield fetch(Te,de);if(200!==ze.status&&304!==ze.status){let nt="";try{const Bt=yield ze.json();null!==(N=Bt.error)&&void 0!==N&&N.message&&(nt=Bt.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:nt})}return ze.json()})).apply(this,arguments)}function Si(x){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,j.Z)(function*(x,N=Rl,k){const{appId:q,apiKey:de,measurementId:Te}=x.options;if(!q)throw xi.create("no-app-id");if(!de){if(Te)return{measurementId:Te,appId:q};throw xi.create("no-api-key")}const ze=N.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new ll;return setTimeout((0,j.Z)(function*(){nt.abort()}),void 0!==k?k:6e4),ol({appId:q,apiKey:de,measurementId:Te},ze,nt,N)})).apply(this,arguments)}function ol(x,N,k){return al.apply(this,arguments)}function al(){return(al=(0,j.Z)(function*(x,{throttleEndTimeMillis:N,backoffCount:k},q,de=Rl){var Te,ze;const{appId:nt,measurementId:Bt}=x;try{yield Tc(q,N)}catch(Ht){if(Bt)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${null===(Te=Ht)||void 0===Te?void 0:Te.message}]`),{appId:nt,measurementId:Bt};throw Ht}try{const Ht=yield Sa(x);return de.deleteThrottleMetadata(nt),Ht}catch(Ht){const qt=Ht;if(!hu(qt)){if(de.deleteThrottleMetadata(nt),Bt)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${qt?.message}]`),{appId:nt,measurementId:Bt};throw Ht}const Ut=503===Number(null===(ze=qt?.customData)||void 0===ze?void 0:ze.httpStatus)?(0,ge.$s)(k,de.intervalMillis,30):(0,ge.$s)(k,de.intervalMillis),pi={throttleEndTimeMillis:Date.now()+Ut,backoffCount:k+1};return de.setThrottleMetadata(nt,pi),er.debug(`Calling attemptFetch again in ${Ut} millis`),ol(x,pi,q,de)}})).apply(this,arguments)}function Tc(x,N){return new Promise((k,q)=>{const de=Math.max(N-Date.now(),0),Te=setTimeout(k,de);x.addEventListener(()=>{clearTimeout(Te),q(xi.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function hu(x){if(!(x instanceof ge.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}class ll{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let vo,Sc;function Aa(){return(Aa=(0,j.Z)(function*(x,N,k,q,de){if(de&&de.global)x("event",k,q);else{const Te=yield N;x("event",k,Object.assign(Object.assign({},q),{send_to:Te}))}})).apply(this,arguments)}function oa(x){Sc=x}function ul(x){vo=x}function yo(){return aa.apply(this,arguments)}function aa(){return(aa=(0,j.Z)(function*(){var x;if(!(0,ge.hl)())return er.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(N){return er.warn(xi.create("indexeddb-unavailable",{errorInfo:null===(x=N)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function ko(){return(ko=(0,j.Z)(function*(x,N,k,q,de,Te,ze){var nt;const Bt=Si(x);Bt.then(Wi=>{k[Wi.measurementId]=Wi.appId,x.options.measurementId&&Wi.measurementId!==x.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Wi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wi=>er.error(Wi)),N.push(Bt);const Ht=yo().then(Wi=>{if(Wi)return q.getId()}),[qt,Ut]=yield Promise.all([Bt,Ht]);zd()||rl(Te,qt.measurementId),Sc&&(de("consent","default",Sc),oa(void 0)),de("js",new Date);const pi=null!==(nt=ze?.config)&&void 0!==nt?nt:{};return pi.origin="firebase",pi.update=!0,null!=Ut&&(pi[ei]=Ut),de("config",qt.measurementId,pi),vo&&(de("set",vo),ul(void 0)),qt.measurementId})).apply(this,arguments)}class dl{constructor(N){this.app=N}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},Na=[];const Pl={};let Ll,Lo,kl="dataLayer",la=!1;function Ac(x,N,k){!function U(){const x=[];if((0,ge.ru)()&&x.push("This is a browser extension environment."),(0,ge.zI)()||x.push("Cookies are not available."),x.length>0){const N=x.map((q,de)=>`(${de+1}) ${q}`).join(" "),k=xi.create("invalid-analytics-context",{errorInfo:N});er.warn(k.message)}}();const q=x.options.appId;if(!q)throw xi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw xi.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[q])throw xi.create("already-exists",{id:q});if(!la){!function Dc(x){let N=[];Array.isArray(window[x])?N=window[x]:window[x]=N}(kl);const{wrappedGtag:Te,gtagCore:ze}=function Cc(x,N,k,q,de){let Te=function(...ze){window[q].push(arguments)};return window[de]&&"function"==typeof window[de]&&(Te=window[de]),window[de]=function uu(x,N,k,q){function Te(){return(Te=(0,j.Z)(function*(ze,nt,Bt){try{"event"===ze?yield sl(x,N,k,nt,Bt):"config"===ze?yield Qn(x,N,k,q,nt,Bt):"consent"===ze?x("consent","update",Bt):x("set",nt)}catch(Ht){er.error(Ht)}})).apply(this,arguments)}return function de(ze,nt,Bt){return Te.apply(this,arguments)}}(Te,x,N,k),{gtagCore:Te,wrappedGtag:window[de]}}(Ir,Na,Pl,kl,"gtag");Lo=Te,Ll=ze,la=!0}return Ir[q]=function Po(x,N,k,q,de,Te,ze){return ko.apply(this,arguments)}(x,Na,Pl,N,Ll,kl,k),new dl(x)}function wn(){return qd.apply(this,arguments)}function qd(){return(qd=(0,j.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}const Yh="@firebase/analytics";!function qr(){(0,ye._registerComponent)(new De.wA(Ei,(N,{options:k})=>Ac(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ye._registerComponent)(new De.wA("analytics-internal",function x(N){try{const k=N.getProvider(Ei).getImmediate();return{logEvent:(q,de,Te)=>function Mc(x,N,k,q){x=(0,ge.m9)(x),function fu(x,N,k,q,de){return Aa.apply(this,arguments)}(Lo,Ir[x.app.options.appId],N,k,q).catch(de=>er.error(de))}(k,q,de,Te)}}catch(k){throw xi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ye.registerVersion)(Yh,"0.8.0"),(0,ye.registerVersion)(Yh,"0.8.0","esm2017")}();var ar=H(4408),li=H(7565);const It=new class Jn extends li.v{}(class vr extends ar.o{constructor(N,k){super(N,k),this.scheduler=N,this.work=k}schedule(N,k=0){return k>0?super.schedule(N,k):(this.delay=k,this.state=N,this.scheduler.flush(this),this)}execute(N,k){return k>0||this.closed?super.execute(N,k):this._execute(N,k)}requestAsyncId(N,k,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(N,k,q):N.flush(this)}});var ld=H(4986),mu=H(8505),Ul=H(9468),cd=H(5363);const nr=new c.GfV("7.4.1"),Oc="__angularfire_symbol__analyticsIsSupportedValue",Ma="__angularfire_symbol__analyticsIsSupported",ms="__angularfire_symbol__remoteConfigIsSupportedValue",Fc="__angularfire_symbol__remoteConfigIsSupported",ud="__angularfire_symbol__messagingIsSupportedValue",dd="__angularfire_symbol__messagingIsSupported";function Pc(x,N,k){if(N){if(1===N.length)return N[0];const Te=N.filter(ze=>ze.app===k);if(1===Te.length)return Te[0]}return k.container.getProvider(x).getImmediate({optional:!0})}globalThis[Ma]||(globalThis[Ma]=wn().then(x=>globalThis[Oc]=x).catch(()=>globalThis[Oc]=!1)),globalThis[dd]||(globalThis[dd]=id().then(x=>globalThis[ud]=x).catch(()=>globalThis[ud]=!1)),globalThis[Fc]||(globalThis[Fc]=Il().then(x=>globalThis[ms]=x).catch(()=>globalThis[ms]=!1));const kc=(x,N)=>{const k=N?[N]:(0,P.C6)(),q=[];return k.forEach(de=>{de.container.getProvider(x).instances.forEach(ze=>{q.includes(ze)||q.push(ze)})}),q};function Ri(){}class Pi{constructor(N,k=It){this.zone=N,this.delegate=k}now(){return this.delegate.now()}schedule(N,k,q){const de=this.zone;return this.delegate.schedule(function(ze){de.runGuarded(()=>{N.apply(this,[ze])})},k,q)}}class Ms{constructor(N){this.zone=N,this.task=null}call(N,k){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ri,{},Ri,Ri)),k.pipe((0,mu.b)({next:q,complete:q,error:q})).subscribe(N).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ti=(()=>{class x{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Pi(Zone.current)),this.insideAngular=k.run(()=>new Pi(Zone.current,ld.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(k){return new(k||x)(c.LFG(c.R0b))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function wt(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function yr(x){return wt(),function _u(x){return function(k){return(k=k.lift(new Ms(x.ngZone))).pipe((0,Ul.R)(x.outsideAngular),(0,cd.Q)(x.insideAngular))}}(wt())(x)}},2090:(xt,Ge,H)=>{"use strict";H.d(Ge,{$s:()=>Ds,BH:()=>tt,G6:()=>ut,L:()=>Ae,LL:()=>it,Sg:()=>Ue,UG:()=>Ne,US:()=>De,ZB:()=>X,ZR:()=>_e,b$:()=>Tt,eu:()=>Oe,hl:()=>Q,jU:()=>Me,m9:()=>In,ne:()=>_i,pd:()=>Mi,r3:()=>pr,ru:()=>st,tV:()=>Se,uI:()=>ct,vZ:()=>En,w1:()=>Re,xO:()=>es,xb:()=>Qt,z$:()=>Le,zI:()=>ae,zd:()=>di});const ye=function(oe){const te=[];let Y=0;for(let ne=0;ne<oe.length;ne++){let ie=oe.charCodeAt(ne);ie<128?te[Y++]=ie:ie<2048?(te[Y++]=ie>>6|192,te[Y++]=63&ie|128):55296==(64512&ie)&&ne+1<oe.length&&56320==(64512&oe.charCodeAt(ne+1))?(ie=65536+((1023&ie)<<10)+(1023&oe.charCodeAt(++ne)),te[Y++]=ie>>18|240,te[Y++]=ie>>12&63|128,te[Y++]=ie>>6&63|128,te[Y++]=63&ie|128):(te[Y++]=ie>>12|224,te[Y++]=ie>>6&63|128,te[Y++]=63&ie|128)}return te},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,te){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let ie=0;ie<oe.length;ie+=3){const We=oe[ie],at=ie+1<oe.length,Pt=at?oe[ie+1]:0,ri=ie+2<oe.length,Rn=ri?oe[ie+2]:0;let sn=(15&Pt)<<2|Rn>>6,si=63&Rn;ri||(si=64,at||(sn=64)),ne.push(Y[We>>2],Y[(3&We)<<4|Pt>>4],Y[sn],Y[si])}return ne.join("")},encodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(oe):this.encodeByteArray(ye(oe),te)},decodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(oe):function(oe){const te=[];let Y=0,ne=0;for(;Y<oe.length;){const ie=oe[Y++];if(ie<128)te[ne++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const We=oe[Y++];te[ne++]=String.fromCharCode((31&ie)<<6|63&We)}else if(ie>239&&ie<365){const ri=((7&ie)<<18|(63&oe[Y++])<<12|(63&oe[Y++])<<6|63&oe[Y++])-65536;te[ne++]=String.fromCharCode(55296+(ri>>10)),te[ne++]=String.fromCharCode(56320+(1023&ri))}else{const We=oe[Y++],at=oe[Y++];te[ne++]=String.fromCharCode((15&ie)<<12|(63&We)<<6|63&at)}}return te.join("")}(this.decodeStringToByteArray(oe,te))},decodeStringToByteArray(oe,te){this.init_();const Y=te?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let ie=0;ie<oe.length;){const We=Y[oe.charAt(ie++)],Pt=ie<oe.length?Y[oe.charAt(ie)]:0;++ie;const Rn=ie<oe.length?Y[oe.charAt(ie)]:64;++ie;const mn=ie<oe.length?Y[oe.charAt(ie)]:64;if(++ie,null==We||null==Pt||null==Rn||null==mn)throw Error();ne.push(We<<2|Pt>>4),64!==Rn&&(ne.push(Pt<<4&240|Rn>>2),64!==mn&&ne.push(Rn<<6&192|mn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},Ae=function(oe){return function(oe){const te=ye(oe);return De.encodeByteArray(te,!0)}(oe).replace(/\./g,"")},Se=function(oe){try{return De.decodeString(oe,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function X(oe,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return te}for(const Y in te)!te.hasOwnProperty(Y)||!ce(Y)||(oe[Y]=X(oe[Y],te[Y]));return oe}function ce(oe){return"__proto__"!==oe}class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,Y)=>{this.resolve=te,this.reject=Y})}wrapCallback(te){return(Y,ne)=>{Y?this.reject(Y):this.resolve(ne),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(Y):te(Y,ne))}}}function Ue(oe,te){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=te||"demo-project",ie=oe.iat||0,We=oe.sub||oe.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const at=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:ie,exp:ie+3600,auth_time:ie,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(at)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return"object"==typeof self&&self.self===self}function st(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){const oe=Le();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function ut(){return!Ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"object"==typeof indexedDB}function Oe(){return new Promise((oe,te)=>{try{let Y=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(ne);ie.onsuccess=()=>{ie.result.close(),Y||self.indexedDB.deleteDatabase(ne),oe(!0)},ie.onupgradeneeded=()=>{Y=!1},ie.onerror=()=>{var We;te((null===(We=ie.error)||void 0===We?void 0:We.message)||"")}}catch(Y){te(Y)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _e extends Error{constructor(te,Y,ne){super(Y),this.code=te,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(te,Y,ne){this.service=te,this.serviceName=Y,this.errors=ne}create(te,...Y){const ne=Y[0]||{},ie=`${this.service}/${te}`,We=this.errors[te],at=We?function Je(oe,te){return oe.replace(Mt,(Y,ne)=>{const ie=te[ne];return null!=ie?String(ie):`<${ne}?>`})}(We,ne):"Error";return new _e(ie,`${this.serviceName}: ${at} (${ie}).`,ne)}}const Mt=/\{\$([^}]+)}/g;function pr(oe,te){return Object.prototype.hasOwnProperty.call(oe,te)}function Qt(oe){for(const te in oe)if(Object.prototype.hasOwnProperty.call(oe,te))return!1;return!0}function En(oe,te){if(oe===te)return!0;const Y=Object.keys(oe),ne=Object.keys(te);for(const ie of Y){if(!ne.includes(ie))return!1;const We=oe[ie],at=te[ie];if(Fn(We)&&Fn(at)){if(!En(We,at))return!1}else if(We!==at)return!1}for(const ie of ne)if(!Y.includes(ie))return!1;return!0}function Fn(oe){return null!==oe&&"object"==typeof oe}function es(oe){const te=[];for(const[Y,ne]of Object.entries(oe))Array.isArray(ne)?ne.forEach(ie=>{te.push(encodeURIComponent(Y)+"="+encodeURIComponent(ie))}):te.push(encodeURIComponent(Y)+"="+encodeURIComponent(ne));return te.length?"&"+te.join("&"):""}function di(oe){const te={};return oe.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[ie,We]=ne.split("=");te[decodeURIComponent(ie)]=decodeURIComponent(We)}}),te}function Mi(oe){const te=oe.indexOf("?");if(!te)return"";const Y=oe.indexOf("#",te);return oe.substring(te,Y>0?Y:void 0)}function _i(oe,te){const Y=new mt(oe,te);return Y.subscribe.bind(Y)}class mt{constructor(te,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{te(this)}).catch(ne=>{this.error(ne)})}next(te){this.forEachObserver(Y=>{Y.next(te)})}error(te){this.forEachObserver(Y=>{Y.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,Y,ne){let ie;if(void 0===te&&void 0===Y&&void 0===ne)throw new Error("Missing Observer.");ie=function Hr(oe,te){if("object"!=typeof oe||null===oe)return!1;for(const Y of te)if(Y in oe&&"function"==typeof oe[Y])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:Y,complete:ne},void 0===ie.next&&(ie.next=Cn),void 0===ie.error&&(ie.error=Cn),void 0===ie.complete&&(ie.complete=Cn);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),We}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,te)}sendOne(te,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{Y(this.observers[te])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function Ds(oe,te=1e3,Y=2){const ne=te*Math.pow(Y,oe),ie=Math.round(.5*ne*(Math.random()-.5)*2);return Math.min(144e5,ne+ie)}function In(oe){return oe&&oe._delegate?oe._delegate:oe}},5298:(xt,Ge,H)=>{"use strict";var c=H(4650);let P=null;function j(){return P}const Ce=new c.OlP("DocumentToken");let Ae=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Se(){return(0,c.LFG)(X)}()},providedIn:"platform"}),n})();const J=new c.OlP("Location Initialized");let X=(()=>{class n extends Ae{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(e){const i=j().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=j().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ce()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ce()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function tt(){return new X((0,c.LFG)(Ce))}()},providedIn:"platform"}),n})();function ce(){return!!window.history.pushState}function Ue(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Le(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ct(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(st)},providedIn:"root"}),n})();const Me=new c.OlP("appBaseHref");let st=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ue(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ct(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,a){const d=this.prepareExternalUrl(r+ct(a));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,a){const d=this.prepareExternalUrl(r+ct(a));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ae),c.LFG(Me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tt=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ue(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,a){let d=this.prepareExternalUrl(r+ct(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,a){let d=this.prepareExternalUrl(r+ct(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ae),c.LFG(Me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Le(rt(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ct(i))}normalize(e){return n.stripTrailingSlash(function ke(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,rt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ct(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ct(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ct,n.joinWithSlash=Ue,n.stripTrailingSlash=Le,n.\u0275fac=function(e){return new(e||n)(c.LFG(Ne))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Re(){return new He((0,c.LFG)(Ne))}()},providedIn:"root"}),n})();function rt(n){return n.replace(/\/index.html$/,"")}class Ca{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,a,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ca(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===a?void 0:a);else if(null!==a){const m=i.get(a);i.move(m,d),Qi(m,r)}});for(let r=0,a=i.length;r<a;r++){const m=i.get(r).context;m.index=r,m.count=a,m.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Qi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Qi(n,t){n.context.$implicit=t.item}let jn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new qa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$i("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$i("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qa{constructor(){this.$implicit=null,this.ngIf=null}}function $i(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class Ji{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ho=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),fs=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ji(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ho,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),fo=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:d}=this;this._viewRef=i.createEmbeddedView(r,a,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})(),mr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const na="browser";function cc(n){return n===na}function Un(n){return"server"===n}let Tl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new js((0,c.LFG)(Ce),window)}),n})();class js{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function is(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const d=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=xs(this.window.history)||xs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nl extends class jd extends class De{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){P||(P=n)}(new nl)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function gs(){return Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null}();return null==e?null:function Ss(n){_r=_r||document.createElement("a"),_r.setAttribute("href",n);const t=_r.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ns(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let _r,Ws=null;const Ti=new c.OlP("TRANSITION_ID"),rd=[{provide:c.ip1,useFactory:function id(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=j(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Ti,Ce,c.zs3],multi:!0}];let Ml=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ue=new c.OlP("EventManagerPlugins");let Ve=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const d=r[a];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ue),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ee{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=j().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let bt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Yt=(()=>{class n extends bt{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach($n),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach($n))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function $n(n){j().remove(n)}const Ei={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ei=/%COMP%/g;function rl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?rl(n,r,e):(r=r.replace(ei,n),e.push(r))}return e}function Dc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ol=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new sl(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new zd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case c.ifc.ShadowDom:return new Ic(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=rl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ve),c.LFG(Yt),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class sl{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ei[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Cc(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Cc(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const a=Ei[r];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ei[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Dc(i)):this.eventManager.addEventListener(t,e,Dc(i))}}function Cc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zd extends sl{constructor(t,e,i,r){super(t),this.component=i;const a=rl(r+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr=function er(n){return"_ngcontent-%COMP%".replace(ei,n)}(r+"-"+i.id),this.hostAttr=function ra(n){return"_nghost-%COMP%".replace(ei,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Ic extends sl{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=rl(r.id,r.styles,[]);for(let d=0;d<a.length;d++){const m=document.createElement("style");m.textContent=a[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let xi=(()=>{class n extends Ee{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xa=["alt","control","meta","shift"],Fl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},As={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Rl=(()=>{class n extends Ee{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const a=n.parseEventName(i),d=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(e,a.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let d="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),d="code."),xa.forEach(I=>{const A=i.indexOf(I);A>-1&&(i.splice(A,1),d+=I+".")}),d+=a,0!=i.length||0===a.length)return null;const y={};return y.domEventName=r,y.fullKey=d,y}static matchEventFullKeyCode(e,i){let r=Fl[e.key]||e.key,a="";return i.indexOf("code.")>-1&&(r=e.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),xa.forEach(d=>{d!==r&&(0,As[d])(e)&&(a+=d+".")}),a+=r,a===i)}static eventCallback(e,i,r){return a=>{n.matchEventFullKeyCode(a,e)&&r.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ll=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:na},{provide:c.g9A,useValue:function ol(){nl.makeCurrent()},multi:!0},{provide:Ce,useFactory:function Tc(){return(0,c.RDi)(document),document},deps:[]}]),vo=new c.OlP(""),fu=[{provide:c.rWj,useClass:class Wd{addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const a=t.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,d=!1;const m=function(y){d=d||y,a--,0==a&&i(d)};r.forEach(function(y){y.whenStable(m)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?j().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Aa=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function al(){return new c.qLn},deps:[]},{provide:ue,useClass:xi,multi:!0,deps:[Ce,c.R0b,c.Lbi]},{provide:ue,useClass:Rl,multi:!0,deps:[Ce]},{provide:Ol,useClass:Ol,deps:[Ve,Yt,c.AFp]},{provide:c.FYo,useExisting:Ol},{provide:bt,useExisting:Yt},{provide:Yt,useClass:Yt,deps:[Ce]},{provide:Ve,useClass:Ve,deps:[ue,c.R0b]},{provide:class Qa{},useClass:Ml,deps:[]},[]];let pu=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Ti,useExisting:c.AFp},rd]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(vo,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Aa,...fu],imports:[mr,c.hGG]}),n})(),sa=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function tr(){return new sa((0,c.LFG)(Ce))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;const Ac={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Vl=new c.OlP("HammerGestureConfig"),zs=new c.OlP("HammerLoader");let wn=(()=>{class n{constructor(){this.events=[],this.overrides={}}buildHammer(e){const i=new Hammer(e,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(const r in this.overrides)i.get(r).set(this.overrides[r]);return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qd=(()=>{class n extends Ee{constructor(e,i,r,a){super(e),this._config=i,this.console=r,this.loader=a,this._loaderPromise=null}supports(e){return!(!Ac.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,i,r){const a=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||a.runOutsideAngular(()=>this.loader());let d=!1,m=()=>{d=!0};return a.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?d||(m=this.addEventListener(e,i,r)):m=()=>{}}).catch(()=>{m=()=>{}})),()=>{m()}}return a.runOutsideAngular(()=>{const d=this._config.buildHammer(e),m=function(y){a.runGuarded(function(){r(y)})};return d.on(i,m),()=>{d.off(i,m),"function"==typeof d.destroy&&d.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce),c.LFG(Vl),c.LFG(c.c2e),c.LFG(zs,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:ue,useClass:qd,multi:!0,deps:[Ce,Vl,c.c2e,[new c.FiY,zs]]},{provide:Vl,useClass:wn,deps:[]}]}),n})(),Nc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):c.LFG(ep),i},providedIn:"root"}),n})(),ep=(()=>{class n extends Nc{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Bl(n){return new ep(n.get(Ce))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Mc=H(5386),Hn=H(7579),Yh=H(6063);class Ns extends Hn.x{constructor(t=1/0,e=1/0,i=Yh.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:d}=this;e||(i.push(t),!r&&i.push(a.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let d=0;d<a.length&&!t.closed;d+=i?1:2)t.next(a[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*t;if(t<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const d=e.now();let m=0;for(let y=1;y<i.length&&i[y]<=d;y+=2)m=y;m&&i.splice(0,m+1)}}}var qr=H(6451),ar=H(8421),vr=H(4482),li=H(5403);function Jn(n,t){return(0,vr.e)((e,i)=>{let r=null,a=0,d=!1;const m=()=>d&&!r&&i.complete();e.subscribe((0,li.x)(i,y=>{r?.unsubscribe();let I=0;const A=a++;(0,ar.Xf)(n(y,A)).subscribe(r=(0,li.x)(i,F=>i.next(t?t(y,F,A,I++):F),()=>{r=null,m()}))},()=>{d=!0,m()}))})}var It=H(4004);const ad={schedule(n,t){const e=setTimeout(n,t);return()=>clearTimeout(e)},scheduleBeforeRender(n){if(typeof window>"u")return ad.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return ad.schedule(n,16);const t=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(t)}};let nr;function dd(n,t,e){let i=e;return function mu(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&t.some((r,a)=>!("*"===r||!function Oc(n,t){if(!nr){const e=Element.prototype;nr=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&nr.call(n,t)}(n,r)||(i=a,0))),i}class tp{constructor(t,e){this.componentFactory=e.get(c._Vd).resolveComponentFactory(t)}create(t){return new hd(this.componentFactory,t)}}class hd{constructor(t,e){this.componentFactory=t,this.injector=e,this.eventEmitters=new Ns(1),this.events=this.eventEmitters.pipe(Jn(i=>(0,qr.T)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(c.R0b),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=ad.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e){this.runInZone(()=>{null!==this.componentRef?function Ma(n,t){return n===t||n!=n&&t!=t}(e,this.getInputValue(t))&&(void 0!==e||!this.unchangedInputs.has(t))||(this.recordInputChange(t,e),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)})}initializeComponent(t){const e=c.zs3.create({providers:[],parent:this.injector}),i=function ud(n,t){const e=n.childNodes,i=t.map(()=>[]);let r=-1;t.some((a,d)=>"*"===a&&(r=d,!0));for(let a=0,d=e.length;a<d;++a){const m=e[a],y=dd(m,t,r);-1!==y&&i[y].push(m)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,i,t),this.viewChangeDetectorRef=this.componentRef.injector.get(c.sBO),this.implementsOnChanges=function Ul(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(c.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t))}),this.initialInputValues.clear()}initializeOutputs(t){const e=this.componentFactory.outputs.map(({propName:i,templateName:r})=>t.instance[i].pipe((0,It.U)(d=>({name:r,value:d}))));this.eventEmitters.next(e)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(e)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=ad.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[t];if(i)return void(i.currentValue=e);const r=this.unchangedInputs.has(t),a=r?void 0:this.getInputValue(t);this.inputChanges[t]=new c.WD2(a,e,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class Kh extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}var Ri=H(9751),Pi=H(515),Ms=H(3269),ti=H(8996);function wt(...n){const t=(0,Ms.yG)(n);return(0,ti.D)(n,t)}var lr=H(5577),Pr=H(1144),qs=H(576);const{isArray:Zs}=Array;function _u(n){return(0,It.U)(t=>function yr(n,t){return Zs(t)?n(...t):n(t)}(n,t))}const ir=["addListener","removeListener"],Zd=["addEventListener","removeEventListener"],x=["on","off"];function N(n,t,e,i){if((0,qs.m)(e)&&(i=e,e=void 0),i)return N(n,t,e).pipe(_u(i));const[r,a]=function Te(n){return(0,qs.m)(n.addEventListener)&&(0,qs.m)(n.removeEventListener)}(n)?Zd.map(d=>m=>n[d](t,m,e)):function q(n){return(0,qs.m)(n.addListener)&&(0,qs.m)(n.removeListener)}(n)?ir.map(k(n,t)):function de(n){return(0,qs.m)(n.on)&&(0,qs.m)(n.off)}(n)?x.map(k(n,t)):[];if(!r&&(0,Pr.z)(n))return(0,lr.z)(d=>N(d,t,e))((0,ar.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ri.y(d=>{const m=(...y)=>d.next(1<y.length?y:y[0]);return r(m),()=>a(m)})}function k(n,t){return e=>i=>n[e](t,i)}var ze=H(4986),nt=H(3532);function Ht(n=0,t,e=ze.P){let i=-1;return null!=t&&((0,nt.K)(t)?e=t:i=t),new Ri.y(r=>{let a=function Bt(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},a)})}const{isArray:qt}=Array;function Ut(n){return 1===n.length&&qt(n[0])?n[0]:n}function pi(...n){return 1===(n=Ut(n)).length?(0,ar.Xf)(n[0]):new Ri.y(function Wi(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,ar.Xf)(n[i]).subscribe((0,li.x)(t,r=>{if(e){for(let a=0;a<e.length;a++)a!==i&&e[a].unsubscribe();e=null}t.next(r)})))}}(n))}class Gn extends Hn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:cr}=Array,{getPrototypeOf:ca,prototype:$l,keys:Oa}=Object;var Ys=H(4671);var Qh=H(9672);function Yd(...n){const t=(0,Ms.yG)(n),e=(0,Ms.jO)(n),{args:i,keys:r}=function Fa(n){if(1===n.length){const t=n[0];if(cr(t))return{args:t,keys:null};if(function Ra(n){return n&&"object"==typeof n&&ca(n)===$l}(t)){const e=Oa(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}(n);if(0===i.length)return(0,ti.D)([],t);const a=new Ri.y(function Sg(n,t,e=Ys.y){return i=>{Lc(t,()=>{const{length:r}=n,a=new Array(r);let d=r,m=r;for(let y=0;y<r;y++)Lc(t,()=>{const I=(0,ti.D)(n[y],t);let A=!1;I.subscribe((0,li.x)(i,F=>{a[y]=F,A||(A=!0,m--),m||i.next(e(a.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>function hl(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}(r,d):Ys.y));return e?a.pipe(_u(e)):a}function Lc(n,t,e){n?(0,Qh.f)(e,n,t):t()}var Vc=H(5032);const vu=new Ri.y(Vc.Z);function yu(...n){const t=(0,Ms.jO)(n),e=Ut(n);return e.length?new Ri.y(i=>{let r=e.map(()=>[]),a=e.map(()=>!1);i.add(()=>{r=a=null});for(let d=0;!i.closed&&d<e.length;d++)(0,ar.Xf)(e[d]).subscribe((0,li.x)(i,m=>{if(r[d].push(m),r.every(y=>y.length)){const y=r.map(I=>I.shift());i.next(t?t(...y):y),r.some((I,A)=>!I.length&&a[A])&&i.complete()}},()=>{a[d]=!0,!r[d].length&&i.complete()}));return()=>{r=a=null}}):Pi.E}var Kd=H(8189);function Qd(...n){return function ip(){return(0,Kd.J)(1)}()((0,ti.D)(n,(0,Ms.yG)(n)))}function ur(n){return(0,vr.e)((t,e)=>{(0,ar.Xf)(n).subscribe((0,li.x)(e,()=>e.complete(),Vc.Z)),!e.closed&&t.subscribe(e)})}function rr(n,t){return(0,vr.e)((e,i)=>{let r=0;e.subscribe((0,li.x)(i,a=>n.call(t,a,r++)&&i.next(a)))})}function ki(n){return n<=0?()=>Pi.E:(0,vr.e)((t,e)=>{let i=0;t.subscribe((0,li.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ua(...n){const t=(0,Ms.yG)(n);return(0,vr.e)((e,i)=>{(t?Qd(n,e,t):Qd(n,e)).subscribe(i)})}function da(n,t=Ys.y){return n=n??rp,(0,vr.e)((e,i)=>{let r,a=!0;e.subscribe((0,li.x)(i,d=>{const m=t(d);(a||!n(r,m))&&(a=!1,r=m,i.next(d))}))})}function rp(n,t){return n===t}var dr=H(8505);function sp(...n){const t=(0,Ms.jO)(n);return(0,vr.e)((e,i)=>{const r=n.length,a=new Array(r);let d=n.map(()=>!1),m=!1;for(let y=0;y<r;y++)(0,ar.Xf)(n[y]).subscribe((0,li.x)(i,I=>{a[y]=I,!m&&!d[y]&&(d[y]=!0,(m=d.every(Ys.y))&&(d=null))},Vc.Z));e.subscribe((0,li.x)(i,y=>{if(m){const I=[y,...a];i.next(t?t(...I):I)}}))})}function Pa(n){return(0,It.U)(()=>n)}function Jh(n,t){return t?e=>Qd(t.pipe(ki(1),function bu(){return(0,vr.e)((n,t)=>{n.subscribe((0,li.x)(t,Vc.Z))})}()),e.pipe(Jh(n))):(0,lr.z)((e,i)=>n(e,i).pipe(ki(1),Pa(e)))}function Xd(n,t=ze.z){const e=Ht(n,t);return Jh(()=>e)}var Vo=H(3099);let P_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),zg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[P_]}),n})(),$_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[zg]}),n})();var Zg={left:"right",right:"left",bottom:"top",top:"bottom"};function ff(n){return n.replace(/left|right|bottom|top/g,function(t){return Zg[t]})}function Ba(n){return n.split("-")[0]}var A0={start:"end",end:"start"};function G_(n){return n.replace(/start|end/g,function(t){return A0[t]})}var jo="top",Ua="bottom",Rs="right",Wo="left",Dp="auto",pf=[jo,Ua,Rs,Wo],gf="start",ku="end",Yg="viewport",vh="popper",mf=pf.reduce(function(n,t){return n.concat([t+"-"+gf,t+"-"+ku])},[]),Qg=[].concat(pf,[Dp]).reduce(function(n,t){return n.concat([t,t+"-"+gf,t+"-"+ku])},[]),O0=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $a(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Lu(n){return n instanceof $a(n).Element||n instanceof Element}function zo(n){return n instanceof $a(n).HTMLElement||n instanceof HTMLElement}function Tp(n){return!(typeof ShadowRoot>"u")&&(n instanceof $a(n).ShadowRoot||n instanceof ShadowRoot)}function Sd(n){return((Lu(n)?n.ownerDocument:n.document)||window.document).documentElement}var fl=Math.max,Ep=Math.min,Vu=Math.round;function xp(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Sp(){return!/^((?!chrome|android).)*safari/i.test(xp())}function Ps(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),r=1,a=1;t&&zo(n)&&(r=n.offsetWidth>0&&Vu(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Vu(i.height)/n.offsetHeight||1);var m=(Lu(n)?$a(n):window).visualViewport,y=!Sp()&&e,I=(i.left+(y&&m?m.offsetLeft:0))/r,A=(i.top+(y&&m?m.offsetTop:0))/a,F=i.width/r,W=i.height/a;return{width:F,height:W,top:A,right:I+F,bottom:A+W,left:I,x:I,y:A}}function Ap(n){var t=$a(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function vf(n){return Ps(Sd(n)).left+Ap(n).scrollLeft}function Zc(n){return $a(n).getComputedStyle(n)}function Jl(n){return n?(n.nodeName||"").toLowerCase():null}function Bu(n){return"html"===Jl(n)?n:n.assignedSlot||n.parentNode||(Tp(n)?n.host:null)||Sd(n)}function bh(n){var t=Zc(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function q_(n){return["html","body","#document"].indexOf(Jl(n))>=0?n.ownerDocument.body:zo(n)&&bh(n)?n:q_(Bu(n))}function yf(n,t){var e;void 0===t&&(t=[]);var i=q_(n),r=i===(null==(e=n.ownerDocument)?void 0:e.body),a=$a(i),d=r?[a].concat(a.visualViewport||[],bh(i)?i:[]):i,m=t.concat(d);return r?m:m.concat(yf(Bu(d)))}function on(n){return["table","td","th"].indexOf(Jl(n))>=0}function Np(n){return zo(n)&&"fixed"!==Zc(n).position?n.offsetParent:null}function wh(n){for(var t=$a(n),e=Np(n);e&&on(e)&&"static"===Zc(e).position;)e=Np(e);return e&&("html"===Jl(e)||"body"===Jl(e)&&"static"===Zc(e).position)?t:e||function Z_(n){var t=/firefox/i.test(xp());if(/Trident/i.test(xp())&&zo(n)&&"fixed"===Zc(n).position)return null;var r=Bu(n);for(Tp(r)&&(r=r.host);zo(r)&&["html","body"].indexOf(Jl(r))<0;){var a=Zc(r);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return r;r=r.parentNode}return null}(n)||t}function Y_(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Tp(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Xg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Q_(n,t,e){return t===Yg?Xg(function z_(n,t){var e=$a(n),i=Sd(n),r=e.visualViewport,a=i.clientWidth,d=i.clientHeight,m=0,y=0;if(r){a=r.width,d=r.height;var I=Sp();(I||!I&&"fixed"===t)&&(m=r.offsetLeft,y=r.offsetTop)}return{width:a,height:d,x:m+vf(n),y}}(n,e)):Lu(t)?function K_(n,t){var e=Ps(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):Xg(function F0(n){var t,e=Sd(n),i=Ap(n),r=null==(t=n.ownerDocument)?void 0:t.body,a=fl(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),d=fl(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),m=-i.scrollLeft+vf(n),y=-i.scrollTop;return"rtl"===Zc(r||e).direction&&(m+=fl(e.clientWidth,r?r.clientWidth:0)-a),{width:a,height:d,x:m,y}}(Sd(n)))}function Dh(n){return n.split("-")[1]}function X_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function em(n){var y,t=n.reference,e=n.element,i=n.placement,r=i?Ba(i):null,a=i?Dh(i):null,d=t.x+t.width/2-e.width/2,m=t.y+t.height/2-e.height/2;switch(r){case jo:y={x:d,y:t.y-e.height};break;case Ua:y={x:d,y:t.y+t.height};break;case Rs:y={x:t.x+t.width,y:m};break;case Wo:y={x:t.x-e.width,y:m};break;default:y={x:t.x,y:t.y}}var I=r?X_(r):null;if(null!=I){var A="y"===I?"height":"width";switch(a){case gf:y[I]=y[I]-(t[A]/2-e[A]/2);break;case ku:y[I]=y[I]+(t[A]/2-e[A]/2)}}return y}function vs(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function ev(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}function bf(n,t){void 0===t&&(t={});var i=t.placement,r=void 0===i?n.placement:i,a=t.strategy,d=void 0===a?n.strategy:a,m=t.boundary,y=void 0===m?"clippingParents":m,I=t.rootBoundary,A=void 0===I?Yg:I,F=t.elementContext,W=void 0===F?vh:F,K=t.altBoundary,he=void 0!==K&&K,we=t.padding,Pe=void 0===we?0:we,pt=vs("number"!=typeof Pe?Pe:ev(Pe,pf)),Ft=n.rects.popper,_t=n.elements[he?W===vh?"reference":vh:W],vt=function R0(n,t,e,i){var r="clippingParents"===t?function J_(n){var t=yf(Bu(n)),i=["absolute","fixed"].indexOf(Zc(n).position)>=0&&zo(n)?wh(n):n;return Lu(i)?t.filter(function(r){return Lu(r)&&Y_(r,i)&&"body"!==Jl(r)}):[]}(n):[].concat(t),a=[].concat(r,[e]),m=a.reduce(function(y,I){var A=Q_(n,I,i);return y.top=fl(A.top,y.top),y.right=Ep(A.right,y.right),y.bottom=Ep(A.bottom,y.bottom),y.left=fl(A.left,y.left),y},Q_(n,a[0],i));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}(Lu(_t)?_t:_t.contextElement||Sd(n.elements.popper),y,A,d),At=Ps(n.elements.reference),fn=em({reference:At,element:Ft,strategy:"absolute",placement:r}),ii=Xg(Object.assign({},Ft,fn)),Vs=W===vh?ii:At,Bs={top:vt.top-Vs.top+pt.top,bottom:Vs.bottom-vt.bottom+pt.bottom,left:vt.left-Vs.left+pt.left,right:Vs.right-vt.right+pt.right},as=n.modifiersData.offset;if(W===vh&&as){var su=as[r];Object.keys(Bs).forEach(function(Da){var E_=[Rs,Ua].indexOf(Da)>=0?1:-1,x_=[jo,Ua].indexOf(Da)>=0?"y":"x";Bs[Da]+=su[x_]*E_})}return Bs}const fa={name:"flip",enabled:!0,phase:"main",fn:function aD(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,a=void 0===r||r,d=e.altAxis,m=void 0===d||d,y=e.fallbackPlacements,I=e.padding,A=e.boundary,F=e.rootBoundary,W=e.altBoundary,K=e.flipVariations,he=void 0===K||K,we=e.allowedAutoPlacements,Pe=t.options.placement,pt=Ba(Pe),Ft=y||(pt!==Pe&&he?function gn(n){if(Ba(n)===Dp)return[];var t=ff(n);return[G_(n),t,G_(t)]}(Pe):[ff(Pe)]),_t=[Pe].concat(Ft).reduce(function(u0,Eg){return u0.concat(Ba(Eg)===Dp?function Yc(n,t){void 0===t&&(t={});var r=t.boundary,a=t.rootBoundary,d=t.padding,m=t.flipVariations,y=t.allowedAutoPlacements,I=void 0===y?Qg:y,A=Dh(t.placement),F=A?m?mf:mf.filter(function(he){return Dh(he)===A}):pf,W=F.filter(function(he){return I.indexOf(he)>=0});0===W.length&&(W=F);var K=W.reduce(function(he,we){return he[we]=bf(n,{placement:we,boundary:r,rootBoundary:a,padding:d})[Ba(we)],he},{});return Object.keys(K).sort(function(he,we){return K[he]-K[we]})}(t,{placement:Eg,boundary:A,rootBoundary:F,padding:I,flipVariations:he,allowedAutoPlacements:we}):Eg)},[]),vt=t.rects.reference,At=t.rects.popper,fn=new Map,ii=!0,Vs=_t[0],Bs=0;Bs<_t.length;Bs++){var as=_t[Bs],su=Ba(as),Da=Dh(as)===gf,E_=[jo,Ua].indexOf(su)>=0,x_=E_?"width":"height",ou=bf(t,{placement:as,boundary:A,rootBoundary:F,altBoundary:W,padding:I}),Bd=E_?Da?Rs:Wo:Da?Ua:jo;vt[x_]>At[x_]&&(Bd=ff(Bd));var eE=ff(Bd),S_=[];if(a&&S_.push(ou[su]<=0),m&&S_.push(ou[Bd]<=0,ou[eE]<=0),S_.every(function(u0){return u0})){Vs=as,ii=!1;break}fn.set(as,S_)}if(ii)for(var JM=function(Eg){var K1=_t.find(function(iE){var A_=fn.get(iE);if(A_)return A_.slice(0,Eg).every(function(XM){return XM})});if(K1)return Vs=K1,"break"},Y1=he?3:1;Y1>0&&"break"!==JM(Y1);Y1--);t.placement!==Vs&&(t.modifiersData[i]._skip=!0,t.placement=Vs,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wf(n,t,e){return fl(n,Ep(t,e))}function tv(n){var t=Ps(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}const Ch={name:"preventOverflow",enabled:!0,phase:"main",fn:function P0(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,a=void 0===r||r,d=e.altAxis,m=void 0!==d&&d,W=e.tether,K=void 0===W||W,he=e.tetherOffset,we=void 0===he?0:he,Pe=bf(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),pt=Ba(t.placement),gt=Dh(t.placement),Ft=!gt,_t=X_(pt),vt=function Zr(n){return"x"===n?"y":"x"}(_t),At=t.modifiersData.popperOffsets,fn=t.rects.reference,ii=t.rects.popper,Vs="function"==typeof we?we(Object.assign({},t.rects,{placement:t.placement})):we,Bs="number"==typeof Vs?{mainAxis:Vs,altAxis:Vs}:Object.assign({mainAxis:0,altAxis:0},Vs),as=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,su={x:0,y:0};if(At){if(a){var Da,E_="y"===_t?jo:Wo,x_="y"===_t?Ua:Rs,ou="y"===_t?"height":"width",Bd=At[_t],eE=Bd+Pe[E_],S_=Bd-Pe[x_],tE=K?-ii[ou]/2:0,JM=gt===gf?fn[ou]:ii[ou],Y1=gt===gf?-ii[ou]:-fn[ou],nE=t.elements.arrow,u0=K&&nE?tv(nE):{width:0,height:0},Eg=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},K1=Eg[E_],iE=Eg[x_],A_=wf(0,fn[ou],u0[ou]),XM=Ft?fn[ou]/2-tE-A_-K1-Bs.mainAxis:JM-A_-K1-Bs.mainAxis,EH=Ft?-fn[ou]/2+tE+A_+iE+Bs.mainAxis:Y1+A_+iE+Bs.mainAxis,eO=t.elements.arrow&&wh(t.elements.arrow),G2=null!=(Da=as?.[_t])?Da:0,AH=Bd+EH-G2,H2=wf(K?Ep(eE,Bd+XM-G2-(eO?"y"===_t?eO.clientTop||0:eO.clientLeft||0:0)):eE,Bd,K?fl(S_,AH):S_);At[_t]=H2,su[_t]=H2-Bd}if(m){var j2,N_=At[vt],rE="y"===vt?"height":"width",W2=N_+Pe["x"===_t?jo:Wo],z2=N_-Pe["x"===_t?Ua:Rs],tO=-1!==[jo,Wo].indexOf(pt),q2=null!=(j2=as?.[vt])?j2:0,Z2=tO?W2:N_-fn[rE]-ii[rE]-q2+Bs.altAxis,Y2=tO?N_+fn[rE]+ii[rE]-q2-Bs.altAxis:z2,K2=K&&tO?function Kc(n,t,e){var i=wf(n,t,e);return i>e?e:i}(Z2,N_,Y2):wf(K?Z2:W2,N_,K?Y2:z2);At[vt]=K2,su[vt]=K2-N_}t.modifiersData[i]=su}},requiresIfExists:["offset"]},L0={name:"arrow",enabled:!0,phase:"main",fn:function nv(n){var t,e=n.state,i=n.name,r=n.options,a=e.elements.arrow,d=e.modifiersData.popperOffsets,m=Ba(e.placement),y=X_(m),A=[Wo,Rs].indexOf(m)>=0?"height":"width";if(a&&d){var F=function(t,e){return vs("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:ev(t,pf))}(r.padding,e),W=tv(a),K="y"===y?jo:Wo,he="y"===y?Ua:Rs,we=e.rects.reference[A]+e.rects.reference[y]-d[y]-e.rects.popper[A],Pe=d[y]-e.rects.reference[y],pt=wh(a),gt=pt?"y"===y?pt.clientHeight||0:pt.clientWidth||0:0,At=gt/2-W[A]/2+(we/2-Pe/2),fn=wf(F[K],At,gt-W[A]-F[he]);e.modifiersData[i]=((t={})[y]=fn,t.centerOffset=fn-At,t)}},effect:function Ih(n){var t=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||!Y_(t.elements.popper,r)||(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function br(n,t,e){void 0===e&&(e=!1);var i=zo(t),r=zo(t)&&function Mp(n){var t=n.getBoundingClientRect(),e=Vu(t.width)/n.offsetWidth||1,i=Vu(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),a=Sd(t),d=Ps(n,r,e),m={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(i||!i&&!e)&&(("body"!==Jl(t)||bh(a))&&(m=function iv(n){return n!==$a(n)&&zo(n)?function Xl(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Ap(n)}(t)),zo(t)?((y=Ps(t,!0)).x+=t.clientLeft,y.y+=t.clientTop):a&&(y.x=vf(a))),{x:d.left+m.scrollLeft-y.x,y:d.top+m.scrollTop-y.y,width:d.width,height:d.height}}function Er(n){var t=new Map,e=new Set,i=[];function r(a){e.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(m){if(!e.has(m)){var y=t.get(m);y&&r(y)}}),i.push(a)}return n.forEach(function(a){t.set(a.name,a)}),n.forEach(function(a){e.has(a.name)||r(a)}),i}function sv(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var Op={placement:"bottom",modifiers:[],strategy:"absolute"};function $0(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Fp(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,r=n.defaultOptions,a=void 0===r?Op:r;return function(m,y,I){void 0===I&&(I=a);var A={placement:"bottom",orderedModifiers:[],options:Object.assign({},Op,a),modifiersData:{},elements:{reference:m,popper:y},attributes:{},styles:{}},F=[],W=!1,K={state:A,setOptions:function(pt){var gt="function"==typeof pt?pt(A.options):pt;we(),A.options=Object.assign({},a,A.options,gt),A.scrollParents={reference:Lu(m)?yf(m):m.contextElement?yf(m.contextElement):[],popper:yf(y)};var Ft=function rv(n){var t=Er(n);return O0.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}(function V0(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,A.options.modifiers)));return A.orderedModifiers=Ft.filter(function(as){return as.enabled}),function he(){A.orderedModifiers.forEach(function(Pe){var gt=Pe.options,_t=Pe.effect;if("function"==typeof _t){var vt=_t({state:A,name:Pe.name,instance:K,options:void 0===gt?{}:gt});F.push(vt||function(){})}})}(),K.update()},forceUpdate:function(){if(!W){var pt=A.elements,gt=pt.reference,Ft=pt.popper;if($0(gt,Ft)){A.rects={reference:br(gt,wh(Ft),"fixed"===A.options.strategy),popper:tv(Ft)},A.reset=!1,A.placement=A.options.placement,A.orderedModifiers.forEach(function(as){return A.modifiersData[as.name]=Object.assign({},as.data)});for(var vt=0;vt<A.orderedModifiers.length;vt++)if(!0!==A.reset){var At=A.orderedModifiers[vt],fn=At.fn,ii=At.options;"function"==typeof fn&&(A=fn({state:A,options:void 0===ii?{}:ii,name:At.name,instance:K})||A)}else A.reset=!1,vt=-1}}},update:sv(function(){return new Promise(function(Pe){K.forceUpdate(),Pe(A)})}),destroy:function(){we(),W=!0}};if(!$0(m,y))return K;function we(){F.forEach(function(Pe){return Pe()}),F=[]}return K.setOptions(I).then(function(Pe){!W&&I.onFirstUpdate&&I.onFirstUpdate(Pe)}),K}}var Df={passive:!0};const nm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Th(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,a=void 0===r||r,d=i.resize,m=void 0===d||d,y=$a(t.elements.popper),I=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&I.forEach(function(A){A.addEventListener("scroll",e.update,Df)}),m&&y.addEventListener("resize",e.update,Df),function(){a&&I.forEach(function(A){A.removeEventListener("scroll",e.update,Df)}),m&&y.removeEventListener("resize",e.update,Df)}},data:{}},eo={name:"popperOffsets",enabled:!0,phase:"read",fn:function Cf(n){var t=n.state;t.modifiersData[n.name]=em({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var to={top:"auto",right:"auto",bottom:"auto",left:"auto"};function av(n){var t,e=n.popper,i=n.popperRect,r=n.placement,a=n.variation,d=n.offsets,m=n.position,y=n.gpuAcceleration,I=n.adaptive,A=n.roundOffsets,F=n.isFixed,W=d.x,K=void 0===W?0:W,he=d.y,we=void 0===he?0:he,Pe="function"==typeof A?A({x:K,y:we}):{x:K,y:we};K=Pe.x,we=Pe.y;var pt=d.hasOwnProperty("x"),gt=d.hasOwnProperty("y"),Ft=Wo,_t=jo,vt=window;if(I){var At=wh(e),fn="clientHeight",ii="clientWidth";At===$a(e)&&"static"!==Zc(At=Sd(e)).position&&"absolute"===m&&(fn="scrollHeight",ii="scrollWidth"),(r===jo||(r===Wo||r===Rs)&&a===ku)&&(_t=Ua,we-=(F&&At===vt&&vt.visualViewport?vt.visualViewport.height:At[fn])-i.height,we*=y?1:-1),r!==Wo&&(r!==jo&&r!==Ua||a!==ku)||(Ft=Rs,K-=(F&&At===vt&&vt.visualViewport?vt.visualViewport.width:At[ii])-i.width,K*=y?1:-1)}var Da,as=Object.assign({position:m},I&&to),su=!0===A?function ov(n){var e=n.y,r=window.devicePixelRatio||1;return{x:Vu(n.x*r)/r||0,y:Vu(e*r)/r||0}}({x:K,y:we}):{x:K,y:we};return K=su.x,we=su.y,Object.assign({},as,y?((Da={})[_t]=gt?"0":"",Da[Ft]=pt?"0":"",Da.transform=(vt.devicePixelRatio||1)<=1?"translate("+K+"px, "+we+"px)":"translate3d("+K+"px, "+we+"px, 0)",Da):((t={})[_t]=gt?we+"px":"",t[Ft]=pt?K+"px":"",t.transform="",t))}const Qc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function im(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=void 0===i||i,a=e.adaptive,d=void 0===a||a,m=e.roundOffsets,y=void 0===m||m,A={placement:Ba(t.placement),variation:Dh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,av(Object.assign({},A,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:d,roundOffsets:y})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,av(Object.assign({},A,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Dn=[nm,eo,Qc,{name:"applyStyles",enabled:!0,phase:"write",fn:function rm(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];!zo(a)||!Jl(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(d){var m=r[d];!1===m?a.removeAttribute(d):a.setAttribute(d,!0===m?"":m)}))})},effect:function sm(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],a=t.attributes[i]||{},m=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(y,I){return y[I]="",y},{});!zo(r)||!Jl(r)||(Object.assign(r.style,m),Object.keys(a).forEach(function(y){r.removeAttribute(y)}))})}},requires:["computeStyles"]}],om=Fp({defaultModifiers:Dn});function ni(n,t){}function am(n,t){if(1&n&&(c.TgZ(0,"button",3),c._uU(1),c.YNc(2,ni,0,0,"ng-template",4),c.qZA()),2&n){const e=t.$implicit;c.Q6J("ngbPanelToggle",e),c.xp6(1),c.hij(" ",e.title,""),c.xp6(1),c.Q6J("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function kp(n,t){}function lm(n,t){}function G0(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",8),c.NdJ("ngbRef",function(r){c.CHM(e);const a=c.oxw().$implicit;return c.KtG(a.panelDiv=r)}),c.TgZ(1,"div",9),c.YNc(2,lm,0,0,"ng-template",4),c.qZA()()}if(2&n){const e=c.oxw().$implicit;c.s9C("id",e.id),c.uIk("aria-labelledby",e.id+"-header"),c.xp6(2),c.Q6J("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}const H0=function(n,t){return{$implicit:n,opened:t}};function j0(n,t){if(1&n&&(c.TgZ(0,"div")(1,"div",5),c.YNc(2,kp,0,0,"ng-template",6),c.qZA(),c.YNc(3,G0,3,3,"div",7),c.qZA()),2&n){const e=t.$implicit,i=c.oxw(),r=c.MAs(1);c.Tol("accordion-item "+(e.cardClass||"")),c.xp6(1),c.Tol("accordion-header "+(e.type?"bg-"+e.type:i.type?"bg-"+i.type:"")),c.MGl("id","",e.id,"-header"),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||r)("ngTemplateOutletContext",c.WLB(8,H0,e,e.isOpen)),c.xp6(1),c.Q6J("ngIf",!i.destroyOnHide||e.isOpen||e.transitionRunning)}}const cm=["*"];function cD(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",6),c.NdJ("click",function(){const a=c.CHM(e).$implicit,d=c.oxw();return d.focus(),c.KtG(d.select(a.id,d.NgbSlideEventSource.INDICATOR))}),c.qZA()}if(2&n){const e=t.$implicit,i=c.oxw();c.ekj("active",e.id===i.activeId),c.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===i.activeId)}}function W0(n,t){}function uD(n,t){if(1&n&&(c.TgZ(0,"div",7)(1,"span",8),c.SDv(2,9),c.qZA(),c.YNc(3,W0,0,0,"ng-template",10),c.qZA()),2&n){const e=t.$implicit,i=t.index,r=t.count;c.Q6J("id","slide-"+e.id),c.xp6(2),c.pQV(i+1)(r),c.QtT(2),c.xp6(1),c.Q6J("ngTemplateOutlet",e.tplRef)}}function lv(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.arrowLeft())}),c._UZ(1,"span",12),c.TgZ(2,"span",8),c.SDv(3,13),c.qZA()()}}function cv(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",14),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.arrowRight())}),c._UZ(1,"span",15),c.TgZ(2,"span",8),c.SDv(3,16),c.qZA()()}}const gl=["dialog"];function xf(n){return"string"==typeof n}function Md(n){return null!=n}function Ah(n){return(n||document.body).getBoundingClientRect()}const Up={animation:!0,transitionTimerDelayMs:5},mb=()=>{},{transitionTimerDelayMs:Sm}=Up,Sf=new Map,Co=(n,t,e,i)=>{let r=i.context||{};const a=Sf.get(t);if(a)switch(i.runningTransition){case"continue":return Pi.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),Sf.delete(t)}const d=e(t,i.animation,r)||mb;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>d()),wt(void 0).pipe(function gb(n){return t=>new Ri.y(e=>t.subscribe({next:d=>n.run(()=>e.next(d)),error:d=>n.run(()=>e.error(d)),complete:()=>n.run(()=>e.complete())}))}(n));const m=new Hn.x,y=new Hn.x,I=m.pipe(function Jd(...n){return t=>Qd(t,wt(...n))}(!0));Sf.set(t,{transition$:m,complete:()=>{y.next(),y.complete()},context:r});const A=function Mv(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const F=N(t,"transitionend").pipe(ur(I),rr(({target:K})=>K===t));pi(Ht(A+Sm).pipe(ur(I)),F,y).pipe(ur(I)).subscribe(()=>{Sf.delete(t),n.run(()=>{d(),m.next(),m.complete()})})}),m.asObservable()},b=(n,t,e)=>{let{direction:i,maxHeight:r}=e;const{classList:a}=n;function d(){a.add("collapse"),"show"===i?a.add("show"):a.remove("show")}if(t)return r||(r=function p(n){if(typeof navigator>"u")return"0px";const{classList:t}=n,e=t.contains("show");e||t.add("show"),n.style.height="";const i=n.getBoundingClientRect().height+"px";return e||t.remove("show"),i}(n),e.maxHeight=r,n.style.height="show"!==i?r:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),Ah(n),a.add("collapsing")),n.style.height="show"===i?r:"0px",()=>{d(),a.remove("collapsing"),n.style.height=""};d()};let S=(()=>{class n{constructor(){this.animation=Up.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R=(()=>{class n{constructor(e){this._ngbConfig=e,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(S))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G=0,Z=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]]}),n})(),re=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]]}),n})(),fe=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]]}),n})(),je=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+G++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new c.vpe,this.hidden=new c.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,re,4),c.Suo(r,Z,4),c.Suo(r,fe,4)),2&e){let a;c.iGM(a=c.CRH())&&(i.titleTpls=a),c.iGM(a=c.CRH())&&(i.headerTpls=a),c.iGM(a=c.CRH())&&(i.contentTpls=a)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),n})(),qe=(()=>{class n{constructor(e){this._El=e,this.ngbRef=new c.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),n})(),Qe=(()=>{class n{constructor(e,i,r){this._ngZone=i,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new c.vpe,this.shown=new c.vpe,this.hidden=new c.vpe,this.animation=e.animation,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const i=this._findPanelById(e);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){xf(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>{e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(ki(1)).subscribe(()=>{this.panels.forEach(e=>{const i=e.panelDiv;i?e.initClassDone||(e.initClassDone=!0,Co(this._ngZone,i,b,{animation:!1,runningTransition:"continue",context:{direction:e.isOpen?"show":"hide"}})):e.initClassDone=!1})})}_changeOpenState(e,i){if(null!=e&&!e.disabled&&e.isOpen!==i){let r=!1;this.panelChange.emit({panelId:e.id,nextState:i,preventDefault:()=>{r=!0}}),r||(e.isOpen=i,e.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(e,i=!0){this.panels.forEach(r=>{r.id!==e&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=i)})}_findPanelById(e){return this.panels.find(i=>i.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}_runTransitions(e){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Co(this._ngZone,i.panelDiv,b,{animation:e,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide"}}).subscribe(()=>{i.transitionRunning=!1;const{id:a}=i;i.isOpen?(i.shown.emit(),this.shown.emit(a)):(i.hidden.emit(),this.hidden.emit(a))})})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(R),c.Y36(c.R0b),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,je,4),2&e){let a;c.iGM(a=c.CRH())&&(i.panels=a)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(e,i){1&e&&(c.YNc(0,am,3,3,"ng-template",0,1,c.W1O),c.YNc(2,j0,4,11,"ng-template",2)),2&e&&(c.xp6(2),c.Q6J("ngForOf",i.panels))},dependencies:function(){return[Dr,jn,fo,qe,Z,ft]},encapsulation:2}),n})(),ft=(()=>{class n{constructor(e,i){this.accordion=e,this.panel=i}set ngbPanelToggle(e){e&&(this.panel=e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Qe),c.Y36(je,9))},n.\u0275dir=c.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,i){1&e&&c.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&e&&(c.Ikx("disabled",i.panel.disabled),c.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),c.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),n})(),Ot=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),Nn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})();var sr=(()=>{return(n=sr||(sr={})).START="start",n.END="end",sr;var n})();const Ur=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),xr=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},vi=n=>{xr(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},io=(n,t,{direction:e})=>{const{classList:i}=n;return t?(Ur(n)?xr(i):(i.add("carousel-item-"+(e===sr.START?"next":"prev")),Ah(n),i.add("carousel-item-"+e)),()=>{vi(i),i.add("active")}):(xr(i),vi(i),void i.add("active"))},qo=(n,t,{direction:e})=>{const{classList:i}=n;return t?(Ur(n)?xr(i):i.add("carousel-item-"+e),()=>{vi(i),i.remove("active")}):(xr(i),vi(i),void i.remove("active"))};let $u=(()=>{class n{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(S))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$p=0,Nh=(()=>{class n{constructor(e){this.tplRef=e,this.id="ngb-slide-"+$p++,this.slid=new c.vpe}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),_b=(()=>{class n{constructor(e,i,r,a,d){this._platformId=i,this._ngZone=r,this._cd=a,this._container=d,this.NgbSlideEventSource=Mh,this._destroy$=new Hn.x,this._interval$=new Gn(0),this._mouseHover$=new Gn(!1),this._focused$=new Gn(!1),this._pauseOnHover$=new Gn(!1),this._pauseOnFocus$=new Gn(!1),this._pause$=new Gn(!1),this._wrap$=new Gn(!1),this.slide=new c.vpe,this.slid=new c.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Mh.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Mh.ARROW_RIGHT)}ngAfterContentInit(){cc(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=Yd([this.slide.pipe((0,It.U)(i=>i.current),ua(this.activeId)),this._wrap$,this.slides.changes.pipe(ua(null))]).pipe((0,It.U)(([i,r])=>{const a=this.slides.toArray(),d=this._getSlideIdxById(i);return r?a.length>1:d<a.length-1}),da());Yd([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,It.U)(([i,r,a,d,m,y,I])=>i||r&&a||d&&m||!I?0:y),da(),Jn(i=>i>0?Ht(i,i):vu),ur(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Mh.TIMER)))}),this.slides.changes.pipe(ur(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(e=>(n=>{Sf.get(n)?.complete()})(this._getSlideElement(e))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(ki(1)).subscribe(()=>{for(const{id:e}of this.slides){const i=this._getSlideElement(e);e===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,i){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),i)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),sr.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),sr.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,i,r){const a=this._transitionIds;if(a&&(a[0]!==e||a[1]!==this.activeId))return;let d=this._getSlideById(e);if(d&&d.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:d.id,direction:i,paused:this._pause$.value,source:r});const m={animation:this.animation,runningTransition:"stop",context:{direction:i}},y=[],I=this._getSlideById(this.activeId);if(I){const K=Co(this._ngZone,this._getSlideElement(I.id),qo,m);K.subscribe(()=>{I.slid.emit({isShown:!1,direction:i,source:r})}),y.push(K)}const A=this.activeId;this.activeId=d.id;const F=this._getSlideById(this.activeId),W=Co(this._ngZone,this._getSlideElement(d.id),io,m);W.subscribe(()=>{F?.slid.emit({isShown:!0,direction:i,source:r})}),y.push(W),yu(...y).pipe(ki(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:A,current:d.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(e,i){return this._getSlideIdxById(e)>this._getSlideIdxById(i)?sr.END:sr.START}_getSlideById(e){return this.slides.find(i=>i.id===e)||null}_getSlideIdxById(e){const i=this._getSlideById(e);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(e){const i=this.slides.toArray(),r=this._getSlideIdxById(e);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(e){const i=this.slides.toArray(),r=this._getSlideIdxById(e);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($u),c.Y36(c.Lbi),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,Nh,4),2&e){let a;c.iGM(a=c.CRH())&&(i.slides=a)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,i){1&e&&c.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&e&&(c.uIk("aria-activedescendant","slide-"+i.activeId),c.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let t,e,i;return t=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],t,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.YNc(1,cD,1,5,"button",1),c.qZA(),c.TgZ(2,"div",2),c.YNc(3,uD,4,4,"div",3),c.qZA(),c.YNc(4,lv,4,0,"button",4),c.YNc(5,cv,4,0,"button",5)),2&e&&(c.ekj("visually-hidden",!i.showNavigationIndicators),c.xp6(1),c.Q6J("ngForOf",i.slides),c.xp6(2),c.Q6J("ngForOf",i.slides),c.xp6(1),c.Q6J("ngIf",i.showNavigationArrows),c.xp6(1),c.Q6J("ngIf",i.showNavigationArrows))},dependencies:[Dr,jn,fo],encapsulation:2,changeDetection:0}),n})();var Mh=(()=>{return(n=Mh||(Mh={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Mh;var n})();let vb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var os=(()=>{return(n=os||(os={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",os;var n})();const Am=(n,t)=>!!t&&t.some(e=>e.contains(n)),Sb=(n,t)=>!t||null!=function wD(n,t){return!t||typeof n.closest>"u"?null:n.closest(t)}(n,t),SD=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const OE=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ND(n){const t=Array.from(n.querySelectorAll(OE)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const MD=/\s+/,RE=/  +/gi,ks=/^start/,OD=/^end/,PE=/-(top|left)$/,kE=/-(bottom|right)$/,LE=/^left/,RD=/^right/,PD=/^start/,Gp=/^end/;function kD({placement:n,baseClass:t}){let e=Array.isArray(n)?n:n.split(MD),r=e.findIndex(y=>"auto"===y);r>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(y){null==e.find(I=>-1!==I.search("^"+y))&&e.splice(r++,1,y)});const a=e.map(y=>function FD(n){return n.replace(ks,"left").replace(OD,"right").replace(PE,"-start").replace(kE,"-end")}(y));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:y}){const I=new RegExp(t+"(-[a-z]+)*","gi"),A=y.elements.popper,F=y.placement;let W=A.className;W=W.replace(I,""),W+=` ${function VE(n,t){let[e,i]=t.split("-");const r=e.replace(LE,"start").replace(RD,"end");let a=[r];if(i){let d=i;("left"===e||"right"===e)&&(d=d.replace(PD,"top").replace(Gp,"bottom")),a.push(`${r}-${d}`)}return n&&(a=a.map(d=>`${n}-${d}`)),a.join(" ")}(t,F)}`,W=W.trim().replace(RE," "),A.className=W}},fa,Ch,L0,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Nb(n){return n}new Date(1882,10,12),new Date(2174,10,25);let YD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr,$_]}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class Of{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class cx{constructor(t,e,i,r,a,d){this._componentType=t,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=a,this._applicationRef=d,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,a=this._ngZone.onStable.pipe(ki(1),(0,lr.z)(()=>Co(this._ngZone,r,({classList:d})=>d.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:a}}close(t=!1){return this._windowRef?Co(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe((0,dr.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):wt(void 0)}_getContentRef(t,e){if(t){if(t instanceof c.Rgc){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new Of([i.rootNodes],i)}return new Of([[this._renderer.createText(`${t}`)]])}return new Of([])}}let ux=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(ki(1)).subscribe(()=>{Co(this._zone,this._el.nativeElement,(e,i)=>{i&&Ah(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Co(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(c.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),c.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class Ff{close(t){}dismiss(t){}}class dx{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Hn.x,this._dismissed=new Hn.x,this._hidden=new Hn.x,t.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,d)=>{this._resolve=a,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ur(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ur(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Sh(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():wt(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),yu(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Oh=(()=>{return(n=Oh||(Oh={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Oh;var n})();let Uv=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Hn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new Hn.x,this.hidden=new Hn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":xf(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ki(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},d=yu(Co(this._zone,e,()=>e.classList.remove("show"),i),Co(this._zone,this._dialogEl.nativeElement,()=>{},i));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const e={animation:this.animation,runningTransition:"continue"};yu(Co(this._zone,this._elRef.nativeElement,(a,d)=>{d&&Ah(a),a.classList.add("show")},e),Co(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{N(e,"keydown").pipe(ur(this._closed$),rr(r=>r.which===os.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Oh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;N(this._dialogEl.nativeElement,"mousedown").pipe(ur(this._closed$),(0,dr.b)(()=>i=!1),Jn(()=>N(e,"mouseup").pipe(ur(this._closed$),ki(1))),rr(({target:r})=>e===r)).subscribe(()=>{i=!0}),N(e,"click").pipe(ur(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Oh.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=ND(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Co(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ce),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&c.Gf(gl,7),2&e){let r;c.iGM(r=c.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),c.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),c.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:cm,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&e&&c.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Yr=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:a,paddingRight:d}=r;if(e>0){const m=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${m+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=d),r.overflow=a}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yO=(()=>{class n{constructor(e,i,r,a,d,m){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=d,this._ngZone=m,this._activeWindowCmptHasChanged=new Hn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=N(t,"focusin").pipe(ur(e),(0,It.U)(a=>a.target));N(t,"keydown").pipe(ur(e),rr(a=>a.which===os.Tab),sp(r)).subscribe(([a,d])=>{const[m,y]=ND(t);(d===m||d===t)&&a.shiftKey&&(y.focus(),a.preventDefault()),d===y&&!a.shiftKey&&(m.focus(),a.preventDefault())}),i&&N(t,"click").pipe(ur(e),sp(r),(0,It.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const a=r.container instanceof HTMLElement?r.container:Md(r.container)?this._document.querySelector(r.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new Ff,y=this._getContentRef(r.injector||e,i,m,r);let I=!1!==r.backdrop?this._attachBackdrop(a):void 0,A=this._attachWindowComponent(a,y.nodes),F=new dx(A,y,I,r.beforeDismiss);return this._registerModalRef(F),this._registerWindowCmpt(A),F.hidden.pipe(ki(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=W=>{F.close(W)},m.dismiss=W=>{F.dismiss(W)},this._applyWindowOptions(A.instance,r),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,r),I.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),F}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,c.LMc)(ux,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=(0,c.LMc)(Uv,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Md(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Md(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,a){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,r):xf(i)?this._createFromString(i):this._createFromComponent(e,i,r,a):new Of([])}_createFromTemplateRef(e,i){const a=e.createEmbeddedView({$implicit:i,close(d){i.close(d)},dismiss(d){i.dismiss(d)}});return this._applicationRef.attachView(a),new Of([a.rootNodes],a)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Of([[i]])}_createFromComponent(e,i,r,a){const d=c.zs3.create({providers:[{provide:Ff,useValue:r}],parent:e}),m=(0,c.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:d}),y=m.location.nativeElement;return a.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new Of([[y]],m.hostView,m)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(Ce),c.LFG(Yr),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QD=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(S))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JD=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(yO),c.LFG(QD))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[JD]}),n})(),$b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),Hb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})();class gx{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const lC={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},vx=n=>n>0?Xd(n):t=>t;let cC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),uC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),dC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),Wb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),fC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),zb=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(S))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xx=0,qb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,i){2&e&&(c.Ikx("id",i.id),c.Tol("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),c.ekj("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:cm,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(e,i){1&e&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA())},encapsulation:2,changeDetection:0}),n})(),pC=(()=>{class n{constructor(e,i,r,a,d,m,y,I,A){this._elementRef=e,this._renderer=i,this._ngZone=m,this._document=y,this._changeDetector=I,this.shown=new c.vpe,this.hidden=new c.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+xx++,this._windowRef=null,this._positioning=function LD(){let n=null;return{createPopper(t){if(!n){let i=(t.updatePopperOptions||Nb)(kD(t));n=om(t.hostElement,t.targetElement,i)}},update(){n&&n.update()},setOptions(t){if(n){let i=(t.updatePopperOptions||Nb)(kD(t));n.setOptions(i)}},destroy(){n&&(n.destroy(),n=null)}}}(),this.animation=d.animation,this.autoClose=d.autoClose,this.placement=d.placement,this.triggers=d.triggers,this.container=d.container,this.disableTooltip=d.disableTooltip,this.tooltipClass=d.tooltipClass,this.openDelay=d.openDelay,this.closeDelay=d.closeDelay,this._popupService=new cx(qb,r,a,i,this._ngZone,A)}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function Ab(n,t,e,i,r,a,d,m){e&&n.runOutsideAngular((n=>SD?()=>setTimeout(()=>n(),100):n)(()=>{const I=N(t,"keydown").pipe(ur(r),rr(W=>W.which===os.Escape),(0,dr.b)(W=>W.preventDefault())),A=N(t,"mousedown").pipe((0,It.U)(W=>{const K=W.target;return 2!==W.button&&!Am(K,d)&&("inside"===e?Am(K,a)&&Sb(K,m):"outside"===e?!Am(K,a):Sb(K,m)||!Am(K,a))}),ur(r)),F=N(t,"mouseup").pipe(sp(A),rr(([W,K])=>K),Xd(0),ur(r));pi([I.pipe((0,It.U)(W=>0)),F.pipe((0,It.U)(W=>1))]).subscribe(W=>n.run(()=>i(W)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function DO(n,t,e,i,r,a,d=0,m=0){const y=function mx(n,t=lC){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(a=>a.split(":")).map(a=>{let d=t[a[0]]||a;return new gx(d[0],d[1])}),r=i.filter(a=>a.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(e);if(1===y.length&&y[0].isManual())return()=>{};const I=function _x(n,t,e,i){return new Ri.y(r=>{const a=[],d=()=>r.next(!0),m=()=>r.next(!1),y=()=>r.next(!i());return e.forEach(I=>{I.open===I.close?a.push(n.listen(t,I.open,y)):a.push(n.listen(t,I.open,d),n.listen(t,I.close,m))}),()=>{a.forEach(I=>I())}})}(n,t,y,i).pipe(function wO(n,t,e){return i=>{let r=null;const a=i.pipe((0,It.U)(y=>({open:y})),rr(y=>{const I=e();return I===y.open||r&&r.open!==I?(r&&r.open!==y.open&&(r=null),!1):(r=y,!0)}),(0,Vo.B)()),d=a.pipe(rr(y=>y.open),vx(n)),m=a.pipe(rr(y=>!y.open),vx(t));return(0,qr.T)(d,m).pipe(rr(y=>y===r&&(r=null,y.open!==e())),(0,It.U)(y=>y.open))}}(d,m,i)).subscribe(A=>A?r():a());return()=>I.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.zs3),c.Y36(c.s_b),c.Y36(zb),c.Y36(c.R0b),c.Y36(Ce),c.Y36(c.sBO),c.Y36(c.z2F))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[c.TTD]}),n})(),Zb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function Sx(){return 100}});let Yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),Kb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Qb=[Ot,Nn,vb,yb,YD,Xt,XD,$b,Kb,Hb,cC,uC,dC,Wb,fC,Zb,Yb];let Ox=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qb,Ot,Nn,vb,yb,YD,Xt,XD,$b,Kb,Hb,cC,uC,dC,Wb,fC,Zb,Yb]}),n})();const Jb=["ngucarousel"],Rx=["nguItemsContainer"],vC=["touchContainer"],qp=[[["","NguCarouselPrev",""]],[["","NguCarouselNext",""]],[["","NguCarouselPoint",""]]],yC=["[NguCarouselPrev]","[NguCarouselNext]","[NguCarouselPoint]"],Px=["*"];class Xb{}class ew{}class Lx{constructor(t=0,e=0,i=0,r=0,a=0){this.xs=t,this.sm=e,this.md=i,this.lg=r,this.all=a,this.xl=0}}class bC{constructor(t=768,e=992,i=1200,r=1200){this.sm=t,this.md=e,this.lg=i,this.xl=r}}class DC{constructor(t){this.$implicit=t}}let Gv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","NguCarouselNext",""]]}),n})(),Hv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","NguCarouselPrev",""]]}),n})(),tw=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","nguCarouselDef",""]]}),n})(),CC=(()=>{class n{constructor(e){this.viewContainer=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","nguCarouselOutlet",""]]}),n})(),IC=(()=>{class n extends class HO{constructor(t=new ew,e=new Xb,i,r=new Lx,a,d,m,y="fixed",I="",A=0,F=0,W=0,K=0,he=0,we=0,Pe=0,pt=0,gt=0,Ft="cubic-bezier(0, 0, 0.2, 1)",_t=200,vt=!1,At=0,fn=0,ii=!1,Vs=!0,Bs=!1,as=!1,su=!0,Da=1){this.touch=t,this.vertical=e,this.interval=i,this.transform=r,this.button=a,this.visibleItems=d,this.deviceType=m,this.type=y,this.token=I,this.items=A,this.load=F,this.deviceWidth=W,this.carouselWidth=K,this.itemWidth=he,this.slideItems=we,this.itemWidthPer=Pe,this.itemLength=pt,this.currentSlide=gt,this.easing=Ft,this.speed=_t,this.loop=vt,this.dexVal=At,this.touchTransform=fn,this.isEnd=ii,this.isFirst=Vs,this.isLast=Bs,this.RTL=as,this.point=su,this.velocity=Da}}{constructor(e,i,r,a,d){super(),this._el=e,this._renderer=i,this._differs=r,this.platformId=a,this.cdr=d,this.withAnim=!0,this.isHovered=!1,this.carouselLoad=new c.vpe,this.onMove=new c.vpe,this._intervalController$=new Hn.x,this.pointNumbers=[]}get dataSource(){return this._dataSource}set dataSource(e){e&&this._switchDataSource(e)}set nextBtn(e){this.listener2?.(),e&&(this.listener2=this._renderer.listen(e.nativeElement,"click",()=>this._carouselScrollOne(1)))}set prevBtn(e){this.listener1?.(),e&&(this.listener1=this._renderer.listen(e.nativeElement,"click",()=>this._carouselScrollOne(0)))}get trackBy(){return this._trackByFn}set trackBy(e){(0,c.X6Q)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}.`),this._trackByFn=e}ngOnInit(){this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(e,i):i)}ngDoCheck(){this.arrayChanges=this._dataDiffer.diff(this.dataSource),this.arrayChanges&&this._defDirec&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource=e,this._defDirec&&this._observeRenderChanges()}_observeRenderChanges(){let e;this._dataSource instanceof Ri.y?e=this._dataSource:Array.isArray(this._dataSource)&&(e=wt(this._dataSource)),e&&(this._dataSubscription=e.pipe(ur(this._intervalController$)).subscribe(i=>{this.renderNodeChanges(i),this.isLast=this.pointIndex===this.currentSlide}))}renderNodeChanges(e,i=this._nodeOutlet.viewContainer){!this.arrayChanges||(this.arrayChanges.forEachOperation((r,a,d)=>{const m=this._getNodeDef(e[d],d);if(null==r.previousIndex){const y=new DC(e[d]);y.index=d,i.createEmbeddedView(m.template,y,d)}else if(null==d)i.remove(a);else{const y=i.get(a);i.move(y,d)}}),this._updateItemIndexContext(),this.carousel&&this._storeCarouselData())}_updateItemIndexContext(){const e=this._nodeOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const d=e.get(i).context;d.count=r,d.first=0===i,d.last=i===r-1,d.even=i%2==0,d.odd=!d.even,d.index=i}}_getNodeDef(e,i){return 1===this._defDirec.length?this._defDirec.first:this._defDirec.find(a=>a.when&&a.when(i,e))||this._defaultNodeDef}ngAfterViewInit(){this.carousel=this._el.nativeElement,this._inputValidation(),this.carouselCssNode=this._createStyleElem(),cc(this.platformId)&&(this._carouselInterval(),this.vertical.enabled||this._touch(),this.listener3=this._renderer.listen("window","resize",e=>{this._onResizing(e)}),this._onWindowScrolling())}ngAfterContentInit(){this._observeRenderChanges(),this.cdr.markForCheck()}_inputValidation(){this.inputs.gridBreakpoints=this.inputs.gridBreakpoints?this.inputs.gridBreakpoints:new bC,void 0===this.inputs.grid.xl&&(this.inputs.grid.xl=this.inputs.grid.lg),this.type=0!==this.inputs.grid.all?"fixed":"responsive",this.loop=this.inputs.loop||!1,this.inputs.easing=this.inputs.easing||"cubic-bezier(0, 0, 0.2, 1)",this.touch.active=this.inputs.touch||!1,this.RTL=!!this.inputs.RTL,this.interval=this.inputs.interval||null,this.velocity="number"==typeof this.inputs.velocity?this.inputs.velocity:this.velocity,this.inputs.vertical&&this.inputs.vertical.enabled&&(this.vertical.enabled=this.inputs.vertical.enabled,this.vertical.height=this.inputs.vertical.height),this.directionSym=this.RTL?"":"-",this.point=!(this.inputs.point&&typeof this.inputs.point.visible<"u")||this.inputs.point.visible,this._carouselSize()}ngOnDestroy(){this.carouselInt&&this.carouselInt.unsubscribe(),this._intervalController$.unsubscribe(),this.carouselLoad.complete(),this.onMove.complete(),clearTimeout(this.onScrolling);for(let e=1;e<=4;e++){const i=`listener${e}`;this[i]&&this[i]()}}_onResizing(e){clearTimeout(this.onResize),this.onResize=setTimeout(()=>{this.deviceWidth!==e.target.outerWidth&&(this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this._storeCarouselData())},500)}_touch(){this.inputs.touch&&Promise.resolve().then(H.t.bind(H,5386,19)).then(()=>{const e=new Hammer(this.touchContainer.nativeElement);e.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),e.on("panstart",i=>{this.carouselWidth=this.nguItemsContainer.nativeElement.offsetWidth,this.touchTransform=this.transform[this.deviceType],this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","")}),this.vertical.enabled?(e.on("panup",i=>{this._touchHandling("panleft",i)}),e.on("pandown",i=>{this._touchHandling("panright",i)})):(e.on("panleft",i=>{this._touchHandling("panleft",i)}),e.on("panright",i=>{this._touchHandling("panright",i)})),e.on("panend pancancel",i=>{if(Math.abs(i.velocity)>=this.velocity){this.touch.velocity=i.velocity;let r=0;r=this.RTL?"panright"===this.touch.swipe?1:0:"panright"===this.touch.swipe?0:1,this._carouselScrollOne(r)}else this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","transform 324ms cubic-bezier(0, 0, 0.2, 1)"),this._setStyle(this.nguItemsContainer.nativeElement,"transform","")}),e.on("hammer.input",i=>{i.srcEvent.stopPropagation()})})}_touchHandling(e,i){if(0===i.center.x)return;let r=(i=Math.abs(this.vertical.enabled?i.deltaY:i.deltaX))-this.dexVal;r="responsive"===this.type?Math.abs(i-this.dexVal)/(this.vertical.enabled?this.vertical.height:this.carouselWidth)*100:r,this.dexVal=i,this.touch.swipe=e,this._setTouchTransfrom(e,r),this._setTransformFromTouch()}_setTouchTransfrom(e,i){this.touchTransform=e===(this.RTL?"panright":"panleft")?i+this.touchTransform:this.touchTransform-i}_setTransformFromTouch(){this.touchTransform<0&&(this.touchTransform=0);const e="responsive"===this.type?"%":"px";this._setStyle(this.nguItemsContainer.nativeElement,"transform",this.vertical.enabled?`translate3d(0, ${this.directionSym}${this.touchTransform}${e}, 0)`:`translate3d(${this.directionSym}${this.touchTransform}${e}, 0, 0)`)}_onWindowScrolling(){const e=this.carousel.offsetTop,i=window.scrollY,r=window.innerHeight,a=this.carousel.offsetHeight;this._intervalController$.next(e<=i+r-a/4&&e+a/2>=i?1:0)}_storeCarouselData(){const e=this.inputs.gridBreakpoints;this.deviceWidth=cc(this.platformId)?window.innerWidth:e.xl,this.carouselWidth=this.carouselMain1.nativeElement.offsetWidth,"responsive"===this.type?(this.deviceType=this.deviceWidth>=e.xl?"xl":this.deviceWidth>=e.lg?"lg":this.deviceWidth>=e.md?"md":this.deviceWidth>=e.sm?"sm":"xs",this.items=this.inputs.grid[this.deviceType],this.itemWidth=this.carouselWidth/this.items):(this.items=Math.trunc(this.carouselWidth/this.inputs.grid.all),this.itemWidth=this.inputs.grid.all,this.deviceType="all"),this.slideItems=+(this.inputs.slide<this.items?this.inputs.slide:this.items),this.load=this.inputs.load>=this.slideItems?this.inputs.load:this.slideItems,this.speed=this.inputs.speed&&this.inputs.speed>-1?this.inputs.speed:400,this._carouselPoint()}reset(e){e&&(this.withAnim=!1),this.carouselCssNode.textContent="",this.moveTo(0),this._carouselPoint()}_carouselPoint(){this.pointIndex=Math.ceil((this.dataSource.length-(this.items-this.slideItems))/this.slideItems);const i=[];if(this.pointIndex>1||!this.inputs.point.hideOnSingleSlide)for(let r=0;r<this.pointIndex;r++)i.push(r);this.pointNumbers=i,this._carouselPointActiver(),this.pointIndex<=1?this._btnBoolean(1,1):this._btnBoolean(0!==this.currentSlide||this.loop?0:1,0)}_carouselPointActiver(){const e=Math.ceil(this.currentSlide/this.slideItems);this.activePoint=e,this.cdr.markForCheck()}moveTo(e,i){if(i&&(this.withAnim=!1),this.activePoint!==e&&e<this.pointIndex){let r;const a=this.currentSlide<e?1:0;switch(e){case 0:this._btnBoolean(1,0),r=e*this.slideItems;break;case this.pointIndex-1:this._btnBoolean(0,1),r=this.dataSource.length-this.items;break;default:this._btnBoolean(0,0),r=e*this.slideItems}this._carouselScrollTwo(a,r,this.speed)}}_carouselSize(){this.token=this._generateID();let e="";this.styleid=`.${this.token} > .ngucarousel > .ngu-touch-container > .ngucarousel-items`,"banner"===this.inputs.custom&&this._renderer.addClass(this.carousel,"banner"),"lazy"===this.inputs.animation&&(e+=`${this.styleid} > .item {transition: transform .6s ease;}`);const i=this.inputs.gridBreakpoints;let r="";r=this.vertical.enabled?`@media (max-width:${i.sm-1}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xs}px}}\n                    @media (max-width:${i.sm}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.sm}px}}\n                    @media (min-width:${i.md}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.md}px}}\n                    @media (min-width:${i.lg}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.lg}px}}\n                    @media (min-width:${i.xl}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xl}px}}`:"responsive"===this.type?`@media (max-width:${i.sm-1}px){${"mobile"===this.inputs.type?`${this.styleid} .item {flex: 0 0 ${95/+this.inputs.grid.xs}%; width: ${95/+this.inputs.grid.xs}%;}`:`${this.styleid} .item {flex: 0 0 ${100/+this.inputs.grid.xs}%; width: ${100/+this.inputs.grid.xs}%;}`}}\n                    @media (min-width:${i.sm}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.sm}%; width: ${100/+this.inputs.grid.sm}%}}\n                    @media (min-width:${i.md}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.md}%; width: ${100/+this.inputs.grid.md}%}}\n                    @media (min-width:${i.lg}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.lg}%; width: ${100/+this.inputs.grid.lg}%}}\n                    @media (min-width:${i.xl}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.xl}%; width: ${100/+this.inputs.grid.xl}%}}`:`${this.styleid} .item {flex: 0 0 ${this.inputs.grid.all}px; width: ${this.inputs.grid.all}px;}`,this._renderer.addClass(this.carousel,this.token),this.vertical.enabled&&(this._renderer.addClass(this.nguItemsContainer.nativeElement,"nguvertical"),this._renderer.setStyle(this.carouselMain1.nativeElement,"height",`${this.vertical.height}px`)),this.RTL&&!this.vertical.enabled&&this._renderer.addClass(this.carousel,"ngurtl"),this._createStyleElem(`${e} ${r}`),this._storeCarouselData()}_carouselScrollOne(e){let i=this.speed,r=0,a=0,d=Math.ceil(this.dexVal/this.itemWidth);if(d=isFinite(d)?d:0,this._setStyle(this.nguItemsContainer.nativeElement,"transform",""),1!==this.pointIndex)if(0!==e||(this.loop||this.isFirst)&&!this.loop)1===e&&(!this.loop&&!this.isLast||this.loop)&&(this.dataSource.length<=this.currentSlide+this.items+this.slideItems&&!this.isLast?(a=this.dataSource.length-this.items,this._btnBoolean(0,1)):this.isLast?(a=r=0,i=400,this._btnBoolean(1,0)):(this._btnBoolean(0,0),d>this.slideItems?(a=this.currentSlide+this.slideItems+(d-this.slideItems),i=200):a=this.currentSlide+this.slideItems),this._carouselScrollTwo(e,a,i));else{const y=this.currentSlide-this.slideItems+this.slideItems;this._btnBoolean(0,1),0===this.currentSlide?(a=this.dataSource.length-this.items,i=400,this._btnBoolean(0,1)):this.slideItems>=y?(a=r=0,this._btnBoolean(1,0)):(this._btnBoolean(0,0),d>this.slideItems?(a=this.currentSlide-d,i=200):a=this.currentSlide-this.slideItems),this._carouselScrollTwo(e,a,i)}}_carouselScrollTwo(e,i,r){if(0!==this.dexVal){const a=Math.abs(this.touch.velocity);let d=Math.floor(this.dexVal/a/this.dexVal*(this.deviceWidth-this.dexVal));d=d>r?r:d,r=d<200?200:d,this.dexVal=0}this.withAnim?(this._setStyle(this.nguItemsContainer.nativeElement,"transition",`transform ${r}ms ${this.inputs.easing}`),this.inputs.animation&&this._carouselAnimator(e,i+1,i+this.items,r,Math.abs(this.currentSlide-i))):this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this.itemLength=this.dataSource.length,this._transformStyle(i),this.currentSlide=i,this.onMove.emit(this),this._carouselPointActiver(),this._carouselLoadTrigger(),this.withAnim=!0}_btnBoolean(e,i){this.isFirst=!!e,this.isLast=!!i}_transformString(e,i){let r="";return r+=`${this.styleid} { transform: translate3d(`,this.vertical.enabled?(this.transform[e]=this.vertical.height/this.inputs.grid[e]*i,r+=`0, -${this.transform[e]}px, 0`):(this.transform[e]=100/this.inputs.grid[e]*i,r+=`${this.directionSym}${this.transform[e]}%, 0, 0`),r+="); }",r}_transformStyle(e){let i="";if("responsive"===this.type){const r=this.inputs.gridBreakpoints;i=`@media (max-width: ${r.sm-1}px) {${this._transformString("xs",e)}}\n      @media (min-width: ${r.sm}px) {${this._transformString("sm",e)} }\n      @media (min-width: ${r.md}px) {${this._transformString("md",e)} }\n      @media (min-width: ${r.lg}px) {${this._transformString("lg",e)} }\n      @media (min-width: ${r.xl}px) {${this._transformString("xl",e)} }`}else this.transform.all=this.inputs.grid.all*e,i=`${this.styleid} { transform: translate3d(${this.directionSym}${this.transform.all}px, 0, 0);`;this.carouselCssNode.textContent=i}_carouselLoadTrigger(){"number"==typeof this.inputs.load&&this.dataSource.length-this.load<=this.currentSlide+this.items&&this.carouselLoad.emit(this.currentSlide)}_generateID(){let e="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<6;r++)e+=i.charAt(Math.floor(Math.random()*i.length));return`ngucarousel${e}`}_carouselInterval(){const e=this.carouselMain1.nativeElement;if(this.interval&&this.loop){this.listener4=this._renderer.listen("window","scroll",()=>{clearTimeout(this.onScrolling),this.onScrolling=setTimeout(()=>{this._onWindowScrolling()},600)});const i=N(e,"mouseleave").pipe(Pa(1)),r=N(e,"mouseenter").pipe(Pa(0)),a=N(e,"touchstart").pipe(Pa(1)),d=N(e,"touchend").pipe(Pa(0)),m=function Fx(n=0,t=ze.z){return n<0&&(n=0),Ht(n,n,t)}(this.inputs.interval.timing).pipe(Pa(1));setTimeout(()=>{this.carouselInt=(0,qr.T)(i,a,r,d,this._intervalController$).pipe(ua(1),Jn(y=>(this.isHovered=!y,this.cdr.markForCheck(),y?m:Pi.E))).subscribe(y=>{this._carouselScrollOne(1)})},this.interval.initialDelay)}}_updateItemIndexContextAni(){const e=this._nodeOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const d=e.get(i).context;d.count=r,d.first=0===i,d.last=i===r-1,d.even=i%2==0,d.odd=!d.even,d.index=i}}_carouselAnimator(e,i,r,a,d,m=this._nodeOutlet.viewContainer){let y=d<5?d:5;y=1===y?3:y;const I=[];if(1===e)for(let A=i-1;A<r;A++)I.push(A),y*=2,m.get(A).context.animate={value:!0,params:{distance:y}};else for(let A=r-1;A>=i-1;A--)I.push(A),y*=2,m.get(A).context.animate={value:!0,params:{distance:-y}};this.cdr.markForCheck(),setTimeout(()=>{this._removeAnimations(I)},.7*a)}_removeAnimations(e){const i=this._nodeOutlet.viewContainer;e.forEach(r=>{i.get(r).context.animate={value:!1,params:{distance:0}}}),this.cdr.markForCheck()}_setStyle(e,i,r){this._renderer.setStyle(e,i,r)}_createStyleElem(e){const i=this._renderer.createElement("style");if(e){const r=this._renderer.createText(e);this._renderer.appendChild(i,r)}return this._renderer.appendChild(this.carousel,i),i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.ZZ4),c.Y36(c.Lbi),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngu-carousel"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,Gv,5,c.SBq),c.Suo(r,Hv,5,c.SBq),c.Suo(r,tw,4)),2&e){let a;c.iGM(a=c.CRH())&&(i.nextBtn=a.first),c.iGM(a=c.CRH())&&(i.prevBtn=a.first),c.iGM(a=c.CRH())&&(i._defDirec=a)}},viewQuery:function(e,i){if(1&e&&(c.Gf(CC,7),c.Gf(Jb,7,c.SBq),c.Gf(Rx,7,c.SBq),c.Gf(vC,7,c.SBq)),2&e){let r;c.iGM(r=c.CRH())&&(i._nodeOutlet=r.first),c.iGM(r=c.CRH())&&(i.carouselMain1=r.first),c.iGM(r=c.CRH())&&(i.nguItemsContainer=r.first),c.iGM(r=c.CRH())&&(i.touchContainer=r.first)}},inputs:{inputs:"inputs",dataSource:"dataSource",trackBy:"trackBy"},outputs:{carouselLoad:"carouselLoad",onMove:"onMove"},features:[c.qOj],ngContentSelectors:yC,decls:11,vars:0,consts:[[1,"ngucarousel"],["ngucarousel",""],[1,"ngu-touch-container"],["touchContainer",""],[1,"ngucarousel-items"],["nguItemsContainer",""],["nguCarouselOutlet",""],[1,"nguclearFix"]],template:function(e,i){1&e&&(c.F$t(qp),c.TgZ(0,"div",0,1),c.Hsn(2),c.TgZ(3,"div",2,3)(5,"div",4,5),c.GkF(7,6),c.qZA()(),c._UZ(8,"div",7),c.Hsn(9,1),c.qZA(),c.Hsn(10,2))},dependencies:[CC],styles:["[_nghost-%COMP%]{display:block;position:relative}.ngurtl[_nghost-%COMP%]{direction:rtl}.ngucarousel[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%}.ngucarousel[_ngcontent-%COMP%]   .ngucarousel-items[_ngcontent-%COMP%]{position:relative;display:flex;height:100%}.nguvertical[_ngcontent-%COMP%]{flex-direction:column}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:20px}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:rgba(255,255,255,.55)}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:white}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{list-style-type:none;text-align:center;padding:12px;margin:0;white-space:nowrap;overflow:auto;box-sizing:border-box}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border-radius:50%;background:rgba(0,0,0,.55);padding:4px;margin:0 4px;transition-timing-function:cubic-bezier(.17,.67,.83,.67);transition:.4s}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#6b6b6b;transform:scale(1.8)}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.nguclearFix[_ngcontent-%COMP%]{clear:both}"],changeDetection:0}),n})(),Ux=(()=>{class n{constructor(){this.classes=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngu-tile"]],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("item",i.classes)},ngContentSelectors:Px,decls:2,vars:0,consts:[[1,"tile"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:["[_nghost-%COMP%]{padding:10px;box-sizing:border-box}.tile[_ngcontent-%COMP%]{box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f}"]}),n})(),nw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})();const jv=(0,H(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Gx(n){return new Ri.y(t=>{(0,ar.Xf)(n()).subscribe(t)})}var zO=H(9635);function Pm(n,t){const e=(0,qs.m)(n)?n:()=>n,i=r=>r.error(e());return new Ri.y(t?r=>t.schedule(i,0,r):i)}var TC=H(727);function iw(){return(0,vr.e)((n,t)=>{let e=null;n._refCount++;const i=(0,li.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,a=e;e=null,r&&(!a||r===a)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class rw extends Ri.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,vr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new TC.w0;const e=this.getSubject();t.add(this.source.subscribe((0,li.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=TC.w0.EMPTY)}return t}refCount(){return iw()(this)}}function km(n){return(0,vr.e)((t,e)=>{let i=!1;t.subscribe((0,li.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function sw(n=Hx){return(0,vr.e)((t,e)=>{let i=!1;t.subscribe((0,li.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Hx(){return new jv}function Fd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?rr((r,a)=>n(r,a,i)):Ys.y,ki(1),e?km(t):sw(()=>new jv))}function Rf(n,t){return(0,qs.m)(t)?(0,lr.z)(n,t,1):(0,lr.z)(n,1)}function Fh(n){return(0,vr.e)((t,e)=>{let a,i=null,r=!1;i=t.subscribe((0,li.x)(e,void 0,void 0,d=>{a=(0,ar.Xf)(n(d,Fh(n)(t))),i?(i.unsubscribe(),i=null,a.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(e))})}function jx(n,t,e,i,r){return(a,d)=>{let m=e,y=t,I=0;a.subscribe((0,li.x)(d,A=>{const F=I++;y=m?n(y,A,F):(m=!0,A),i&&d.next(y)},r&&(()=>{m&&d.next(y),d.complete()})))}}function Lm(n,t){return(0,vr.e)(jx(n,t,arguments.length>=2,!0))}function Pf(n){return n<=0?()=>Pi.E:(0,vr.e)((t,e)=>{let i=[];t.subscribe((0,li.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ow(n,t){const e=arguments.length>=2;return i=>i.pipe(n?rr((r,a)=>n(r,a,i)):Ys.y,Pf(1),e?km(t):sw(()=>new jv))}function Wv(n){return(0,vr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Mn="primary",Zp=Symbol("RouteTitle");class xC{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Yp(n){return new xC(n)}function qO(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const d=i[a],m=n[a];if(d.startsWith(":"))r[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Wu(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!AC(n[r],t[r]))return!1;return!0}function AC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,a)=>i[a]===r)}return n===t}function NC(n){return Array.prototype.concat.apply([],n)}function MC(n){return n.length>0?n[n.length-1]:null}function Io(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function zu(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,ti.D)(Promise.resolve(n)):wt(n)}const aw={exact:function FC(n,t,e){if(!Lf(n.segments,t.segments)||!Zv(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!FC(n.children[i],t.children[i],e))return!1;return!0},subset:Vm},Kp={exact:function zx(n,t){return Wu(n,t)},subset:function qv(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>AC(n[e],t[e]))},ignored:()=>!0};function OC(n,t,e){return aw[e.paths](n.root,t.root,e.matrixParams)&&Kp[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Vm(n,t,e){return RC(n,t,t.segments,e)}function RC(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Lf(r,e)||t.hasChildren()||!Zv(r,e,i))}if(n.segments.length===e.length){if(!Lf(n.segments,e)||!Zv(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Vm(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(Lf(n.segments,r)&&Zv(n.segments,r,i)&&n.children[Mn])&&RC(n.children[Mn],t,a,i)}}function Zv(n,t,e){return t.every((i,r)=>Kp[e](n[r].parameters,i.parameters))}class Rh{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yp(this.queryParams)),this._queryParamMap}toString(){return lw.serialize(this)}}class kn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Io(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Um(this)}}class kf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Yp(this.parameters)),this._parameterMap}toString(){return Jv(this)}}function Lf(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Zx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Bm},providedIn:"root"}),n})();class Bm{parse(t){const e=new $C(t);return new Rh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Vf(t.root,!0)}`,i=function LC(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Kv(e)}=${Kv(r)}`).join("&"):`${Kv(e)}=${Kv(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Yx(n){return encodeURI(n)}(t.fragment)}`:""}`}}const lw=new Bm;function Um(n){return n.segments.map(t=>Jv(t)).join("/")}function Vf(n,t){if(!n.hasChildren())return Um(n);if(t){const e=n.children[Mn]?Vf(n.children[Mn],!1):"",i=[];return Io(n.children,(r,a)=>{a!==Mn&&i.push(`${a}:${Vf(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function qx(n,t){let e=[];return Io(n.children,(i,r)=>{r===Mn&&(e=e.concat(t(i,r)))}),Io(n.children,(i,r)=>{r!==Mn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Mn?[Vf(n.children[Mn],!1)]:[`${r}:${Vf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mn]?`${Um(n)}/${e[0]}`:`${Um(n)}/(${e.join("//")})`}}function Yv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kv(n){return Yv(n).replace(/%3B/gi,";")}function cw(n){return Yv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qv(n){return decodeURIComponent(n)}function uw(n){return Qv(n.replace(/\+/g,"%20"))}function Jv(n){return`${cw(n.path)}${function kC(n){return Object.keys(n).map(t=>`;${cw(t)}=${cw(n[t])}`).join("")}(n.parameters)}`}const VC=/^[^\/()?;=#]+/;function $m(n){const t=n.match(VC);return t?t[0]:""}const Kx=/^[^=?&#]+/,UC=/^[^&#]+/;class $C{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Mn]=new kn(t,e)),i}parseSegment(){const t=$m(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new kf(Qv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$m(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=$m(this.remaining);r&&(i=r,this.capture(i))}t[Qv(e)]=Qv(i)}parseQueryParam(t){const e=function BC(n){const t=n.match(Kx);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function Qx(n){const t=n.match(UC);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=uw(e),a=uw(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(a)}else t[r]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$m(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Mn);const d=this.parseChildren();e[a]=1===Object.keys(d).length?d[Mn]:new kn([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function Xv(n){return n.segments.length>0?new kn([],{[Mn]:n}):n}function ro(n){const t={};for(const i of Object.keys(n.children)){const a=ro(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function Qp(n){if(1===n.numberOfChildren&&n.children[Mn]){const t=n.children[Mn];return new kn(n.segments.concat(t.segments),t.children)}return n}(new kn(n.segments,t))}function Bf(n){return n instanceof Rh}function HC(n,t,e,i,r){if(0===e.length)return Ph(t.root,t.root,t.root,i,r);const a=function WC(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hw(!0,0,n);let t=0,e=!1;const i=n.reduce((r,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const m={};return Io(a.outlets,(y,I)=>{m[I]="string"==typeof y?y.split("/"):y}),[...r,{outlets:m}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===d?(a.split("/").forEach((m,y)=>{0==y&&"."===m||(0==y&&""===m?e=!0:".."===m?t++:""!=m&&r.push(m))}),r):[...r,a]},[]);return new hw(e,t,i)}(e);return a.toRoot()?Ph(t.root,t.root,new kn([],{}),i,r):function d(y){const I=function fw(n,t,e,i){if(n.isAbsolute)return new Jp(t.root,!0,0);if(-1===i)return new Jp(e,e===t.root,0);return function pw(n,t,e){let i=n,r=t,a=e;for(;a>r;){if(a-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Jp(i,!1,r-a)}(e,i+(Rd(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,y),A=I.processChildren?Uf(I.segmentGroup,I.index,a.commands):Xp(I.segmentGroup,I.index,a.commands);return Ph(t.root,I.segmentGroup,A,i,r)}(n.snapshot?._lastPathIndex)}function Rd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gm(n){return"object"==typeof n&&null!=n&&n.outlets}function Ph(n,t,e,i,r){let d,a={};i&&Io(i,(y,I)=>{a[I]=Array.isArray(y)?y.map(A=>`${A}`):`${y}`}),d=n===t?e:jC(n,t,e);const m=Xv(ro(d));return new Rh(m,a,r)}function jC(n,t,e){const i={};return Io(n.children,(r,a)=>{i[a]=r===t?e:jC(r,t,e)}),new kn(n.segments,i)}class hw{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Rd(i[0]))throw new c.vHH(4003,!1);const r=i.find(Gm);if(r&&r!==MC(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jp{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Xp(n,t,e){if(n||(n=new kn([],{})),0===n.segments.length&&n.hasChildren())return Uf(n,t,e);const i=function YO(n,t,e){let i=0,r=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return a;const d=n.segments[r],m=e[i];if(Gm(m))break;const y=`${m}`,I=i<e.length-1?e[i+1]:null;if(r>0&&void 0===y)break;if(y&&I&&"object"==typeof I&&void 0===I.outlets){if(!$f(y,I,d))return a;i+=2}else{if(!$f(y,{},d))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new kn(n.segments.slice(0,i.pathIndex),{});return a.children[Mn]=new kn(n.segments.slice(i.pathIndex),n.children),Uf(a,0,r)}return i.match&&0===r.length?new kn(n.segments,{}):i.match&&!n.hasChildren()?ey(n,t,e):i.match?Uf(n,0,r):ey(n,t,e)}function Uf(n,t,e){if(0===e.length)return new kn(n.segments,{});{const i=function zC(n){return Gm(n[0])?n[0].outlets:{[Mn]:n}}(e),r={};return Io(i,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[d]=Xp(n.children[d],t,a))}),Io(n.children,(a,d)=>{void 0===i[d]&&(r[d]=a)}),new kn(n.segments,r)}}function ey(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const a=e[r];if(Gm(a)){const y=Xx(a.outlets);return new kn(i,y)}if(0===r&&Rd(e[0])){i.push(new kf(n.segments[t].path,gw(e[0]))),r++;continue}const d=Gm(a)?a.outlets[Mn]:`${a}`,m=r<e.length-1?e[r+1]:null;d&&m&&Rd(m)?(i.push(new kf(d,gw(m))),r+=2):(i.push(new kf(d,{})),r++)}return new kn(i,{})}function Xx(n){const t={};return Io(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=ey(new kn([],{}),0,e))}),t}function gw(n){const t={};return Io(n,(e,i)=>t[i]=`${e}`),t}function $f(n,t,e){return n==e.path&&Wu(t,e.parameters)}class Pd{constructor(t,e){this.id=t,this.url=e}}class Hm extends Pd{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qu extends Pd{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ty extends Pd{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mw extends Pd{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KO extends Pd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eS extends Pd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tS extends Pd{constructor(t,e,i,r,a){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nS extends Pd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qC extends Pd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZC{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iS{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YC{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KC{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QC{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rS{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _w{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ny(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ny(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=iy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return iy(t,this._root).map(e=>e.value)}}function ny(n,t){if(n===t.value)return t;for(const e of t.children){const i=ny(n,e);if(i)return i}return null}function iy(n,t){if(n===t.value)return[t];for(const e of t.children){const i=iy(n,e);if(i.length)return i.unshift(t),i}return[]}class Zu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function eg(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class JC extends vw{constructor(t,e){super(t),this.snapshot=e,eI(this,t)}toString(){return this.snapshot.toString()}}function oS(n,t){const e=function XC(n,t){const d=new yw([],{},{},"",{},Mn,t,null,n.root,-1,{});return new lS("",new Zu(d,[]))}(n,t),i=new Gn([new kf("",{})]),r=new Gn({}),a=new Gn({}),d=new Gn({}),m=new Gn(""),y=new tg(i,r,d,m,a,Mn,t,e.root);return y.snapshot=e.root,new JC(new Zu(y,[]),e)}class tg{constructor(t,e,i,r,a,d,m,y){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,It.U)(I=>I[Zp]))??wt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(t=>Yp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(t=>Yp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aS(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],a=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function QO(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class yw{constructor(t,e,i,r,a,d,m,y,I,A,F,W){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=d,this.component=m,this.title=this.data?.[Zp],this.routeConfig=y,this._urlSegment=I,this._lastPathIndex=A,this._correctedLastPathIndex=W??A,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lS extends vw{constructor(t,e){super(e),this.url=t,eI(this,e)}toString(){return cS(this._root)}}function eI(n,t){t.value._routerState=n,t.children.forEach(e=>eI(n,e))}function cS(n){const t=n.children.length>0?` { ${n.children.map(cS).join(", ")} } `:"";return`${n.value}${t}`}function tI(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Wu(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Wu(t.params,e.params)||n.params.next(e.params),function SC(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Wu(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Wu(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ng(n,t){const e=Wu(n.params,t.params)&&function PC(n,t){return Lf(n,t)&&n.every((e,i)=>Wu(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ng(n.parent,t.parent))}function ig(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function ry(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ig(n,i,r);return ig(n,i)})}(n,t,e);return new Zu(i,r)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(m=>ig(n,m)),d}}const i=function nI(n){return new tg(new Gn(n.url),new Gn(n.params),new Gn(n.queryParams),new Gn(n.fragment),new Gn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(a=>ig(n,a));return new Zu(i,r)}}const sy="ngNavigationCancelingError";function uS(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Bf(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=oy(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function oy(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[sy]=!0,i.cancellationCode=t,e&&(i.url=e),i}function bw(n){return iI(n)&&Bf(n.url)}function iI(n){return n&&n[sy]}class rI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ay,this.attachRef=null}}let ay=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new rI,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ww=!1;let Dw=(()=>{class n{constructor(e,i,r,a,d){this.parentContexts=e,this.location=i,this.changeDetector=a,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||Mn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,ww);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,ww);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,ww);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,ww);this._activatedRoute=e;const r=this.location,d=e._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,y=new dS(e,m,r.injector);if(i&&function ly(n){return!!n.resolveComponentFactory}(i)){const I=i.resolveComponentFactory(d);this.activated=r.createComponent(I,r.length,y)}else this.activated=r.createComponent(d,{index:r.length,injector:y,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ay),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class dS{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===tg?this.route:t===ay?this.childContexts:this.parent.get(t,e)}}let Cw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},dependencies:[Dw],encapsulation:2}),n})();function hS(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function cy(n){const t=n.children&&n.children.map(cy),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Mn&&(e.component=Cw),e}function eu(n){return n.outlet||Mn}function ic(n,t){const e=n.filter(i=>eu(i)===t);return e.push(...n.filter(i=>eu(i)!==t)),e}function jm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class pS{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),tI(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=eg(e);t.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,r[d],i),delete r[d]}),Io(r,(a,d)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(r===a)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=eg(t);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],r);if(i&&i.outlet){const d=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=eg(t);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=eg(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new rS(a.value.snapshot))}),t.children.length&&this.forwardEvent(new KC(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(tI(r),r===a)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),tI(m.route.value),this.activateChildRoutes(t,null,d.children)}else{const m=jm(r.snapshot),y=m?.get(c._Vd)??null;d.attachRef=null,d.route=r,d.resolver=y,d.injector=m,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class _l{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class uy{constructor(t,e){this.component=t,this.route=e}}function Ew(n,t,e){const i=n._root;return Gf(i,t?t._root:null,e,[i.value])}function rg(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:i}function Gf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=eg(t);return n.children.forEach(d=>{(function oI(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const y=function aI(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Lf(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Lf(n.url,t.url)||!Wu(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ng(n,t)||!Wu(n.queryParams,t.queryParams);default:return!ng(n,t)}}(d,a,a.routeConfig.runGuardsAndResolvers);y?r.canActivateChecks.push(new _l(i)):(a.data=d.data,a._resolvedData=d._resolvedData),Gf(n,t,a.component?m?m.children:null:e,i,r),y&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new uy(m.outlet.component,d))}else d&&Wm(t,m,r),r.canActivateChecks.push(new _l(i)),Gf(n,null,a.component?m?m.children:null:e,i,r)})(d,a[d.value.outlet],e,i.concat([d.value]),r),delete a[d.value.outlet]}),Io(a,(d,m)=>Wm(d,e.getContext(m),r)),r}function Wm(n,t,e){const i=eg(n),r=n.value;Io(i,(a,d)=>{Wm(a,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new uy(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function sg(n){return"function"==typeof n}function tu(n){return n instanceof jv||"EmptyError"===n?.name}const dy=Symbol("INITIAL_VALUE");function zm(){return Jn(n=>Yd(n.map(t=>t.pipe(ki(1),ua(dy)))).pipe((0,It.U)(t=>{for(const e of t)if(!0!==e){if(e===dy)return dy;if(!1===e||e instanceof Rh)return e}return!0}),rr(t=>t!==dy),ki(1)))}function IS(n){return(0,zO.z)((0,dr.b)(t=>{if(Bf(t))throw uS(0,t)}),(0,It.U)(t=>!0===t))}const hy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nw(n,t,e,i,r){const a=fy(n,t,e);return a.matched?function Aw(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?wt(r.map(d=>{const m=rg(d,n);return zu(function kh(n){return n&&sg(n.canMatch)}(m)?m.canMatch(t,e):n.runInContext(()=>m(t,e)))})).pipe(zm(),IS()):wt(!0)}(i=hS(t,i),t,e).pipe((0,It.U)(d=>!0===d?a:{...hy})):wt(a)}function fy(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...hy}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||qO)(e,n,t);if(!r)return{...hy};const a={};Io(r.posParams,(m,y)=>{a[y]=m.path});const d=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function qm(n,t,e,i,r="corrected"){if(e.length>0&&function gy(n,t,e){return e.some(i=>my(n,t,i)&&eu(i)!==Mn)}(n,e,i)){const d=new kn(t,function py(n,t,e,i){const r={};r[Mn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&eu(a)!==Mn){const d=new kn([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[eu(a)]=d}return r}(n,t,i,new kn(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function pI(n,t,e){return e.some(i=>my(n,t,i))}(n,e,i)){const d=new kn(n.segments,function fI(n,t,e,i,r,a){const d={};for(const m of i)if(my(n,e,m)&&!r[eu(m)]){const y=new kn([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:t.length,d[eu(m)]=y}return{...r,...d}}(n,t,e,i,n.children,r));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const a=new kn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function my(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Mw(n,t,e,i){return!!(eu(n)===i||i!==Mn&&my(t,e,n))&&("**"===n.path||fy(t,n,e).matched)}function Ow(n,t,e){return 0===t.length&&!n.children[e]}const _y=!1;class vy{constructor(t){this.segmentGroup=t||null}}class TS{constructor(t){this.urlTree=t}}function yy(n){return Pm(new vy(n))}function Fw(n){return Pm(new TS(n))}class iF{constructor(t,e,i,r,a){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const t=qm(this.urlTree.root,[],[],this.config).segmentGroup,e=new kn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Mn).pipe((0,It.U)(a=>this.createUrlTree(ro(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fh(a=>{if(a instanceof TS)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof vy?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Mn).pipe((0,It.U)(r=>this.createUrlTree(ro(r),t.queryParams,t.fragment))).pipe(Fh(r=>{throw r instanceof vy?this.noMatchError(r):r}))}noMatchError(t){return new c.vHH(4002,_y)}createUrlTree(t,e,i){const r=Xv(t);return new Rh(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,It.U)(a=>new kn([],a))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,ti.D)(r).pipe(Rf(a=>{const d=i.children[a],m=ic(e,a);return this.expandSegmentGroup(t,m,d,a).pipe((0,It.U)(y=>({segment:y,outlet:a})))}),Lm((a,d)=>(a[d.outlet]=d.segment,a),{}),ow())}expandSegment(t,e,i,r,a,d){return(0,ti.D)(i).pipe(Rf(m=>this.expandSegmentAgainstRoute(t,e,i,m,r,a,d).pipe(Fh(I=>{if(I instanceof vy)return wt(null);throw I}))),Fd(m=>!!m),Fh((m,y)=>{if(tu(m))return Ow(e,r,a)?wt(new kn([],{})):yy(e);throw m}))}expandSegmentAgainstRoute(t,e,i,r,a,d,m){return Mw(r,e,a,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,a,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,d):yy(e):yy(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Fw(a):this.lineralizeSegments(i,a).pipe((0,lr.z)(d=>{const m=new kn(d,{});return this.expandSegment(t,m,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,d){const{matched:m,consumedSegments:y,remainingSegments:I,positionalParamSegments:A}=fy(e,r,a);if(!m)return yy(e);const F=this.applyRedirectCommands(y,r.redirectTo,A);return r.redirectTo.startsWith("/")?Fw(F):this.lineralizeSegments(r,F).pipe((0,lr.z)(W=>this.expandSegment(t,e,i,W.concat(I),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,a){return"**"===i.path?(t=hS(i,t),i.loadChildren?(i._loadedRoutes?wt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,It.U)(m=>(i._loadedRoutes=m.routes,i._loadedInjector=m.injector,new kn(r,{})))):wt(new kn(r,{}))):Nw(e,i,r,t).pipe(Jn(({matched:d,consumedSegments:m,remainingSegments:y})=>d?this.getChildConfig(t=i._injector??t,i,r).pipe((0,lr.z)(A=>{const F=A.injector??t,W=A.routes,{segmentGroup:K,slicedSegments:he}=qm(e,m,y,W),we=new kn(K.segments,K.children);if(0===he.length&&we.hasChildren())return this.expandChildren(F,W,we).pipe((0,It.U)(Ft=>new kn(m,Ft)));if(0===W.length&&0===he.length)return wt(new kn(m,{}));const Pe=eu(i)===a;return this.expandSegment(F,we,W,he,Pe?Mn:a,!0).pipe((0,It.U)(gt=>new kn(m.concat(gt.segments),gt.children)))})):yy(e)))}getChildConfig(t,e,i){return e.children?wt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?wt({routes:e._loadedRoutes,injector:e._loadedInjector}):function hI(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?wt(!0):wt(r.map(d=>{const m=rg(d,n);return zu(function mS(n){return n&&sg(n.canLoad)}(m)?m.canLoad(t,e):n.runInContext(()=>m(t,e)))})).pipe(zm(),IS())}(t,e,i).pipe((0,lr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,dr.b)(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function xS(n){return Pm(oy(_y,3))}())):wt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return wt(i);if(r.numberOfChildren>1||!r.children[Mn])return Pm(new c.vHH(4e3,_y));r=r.children[Mn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const a=this.createSegmentGroup(t,e.root,i,r);return new Rh(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Io(t,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const m=r.substring(1);i[a]=e[m]}else i[a]=r}),i}createSegmentGroup(t,e,i,r){const a=this.createSegments(t,e.segments,i,r);let d={};return Io(e.children,(m,y)=>{d[y]=this.createSegmentGroup(t,m,i,r)}),new kn(a,d)}createSegments(t,e,i,r){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,r):this.findOrReturn(a,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new c.vHH(4001,_y);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class sF{}class by{constructor(t,e,i,r,a,d,m,y){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=y}recognize(){const t=qm(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Mn).pipe((0,It.U)(e=>{if(null===e)return null;const i=new yw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Zu(i,e),a=new lS(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,i=aS(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,ti.D)(Object.keys(i.children)).pipe(Rf(r=>{const a=i.children[r],d=ic(e,r);return this.processSegmentGroup(t,d,a,r)}),Lm((r,a)=>r&&a?(r.push(...a),r):null),function EC(n,t=!1){return(0,vr.e)((e,i)=>{let r=0;e.subscribe((0,li.x)(i,a=>{const d=n(a,r++);(d||t)&&i.next(a),!d&&i.complete()}))})}(r=>null!==r),km(null),ow(),(0,It.U)(r=>{if(null===r)return null;const a=Lh(r);return function NS(n){n.sort((t,e)=>t.value.outlet===Mn?-1:e.value.outlet===Mn?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,i,r,a){return(0,ti.D)(e).pipe(Rf(d=>this.processSegmentAgainstRoute(d._injector??t,d,i,r,a)),Fd(d=>!!d),Fh(d=>{if(tu(d))return Ow(i,r,a)?wt([]):wt(null);throw d}))}processSegmentAgainstRoute(t,e,i,r,a){if(e.redirectTo||!Mw(e,i,r,a))return wt(null);let d;if("**"===e.path){const m=r.length>0?MC(r).parameters:{},y=Dy(i)+r.length;d=wt({snapshot:new yw(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cy(e),eu(e),e.component??e._loadedComponent??null,e,wy(i),y,Iy(e),y),consumedSegments:[],remainingSegments:[]})}else d=Nw(i,e,r,t).pipe((0,It.U)(({matched:m,consumedSegments:y,remainingSegments:I,parameters:A})=>{if(!m)return null;const F=Dy(i)+y.length;return{snapshot:new yw(y,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cy(e),eu(e),e.component??e._loadedComponent??null,e,wy(i),F,Iy(e),F),consumedSegments:y,remainingSegments:I}}));return d.pipe(Jn(m=>{if(null===m)return wt(null);const{snapshot:y,consumedSegments:I,remainingSegments:A}=m;t=e._injector??t;const F=e._loadedInjector??t,W=function MS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:K,slicedSegments:he}=qm(i,I,A,W.filter(Pe=>void 0===Pe.redirectTo),this.relativeLinkResolution);if(0===he.length&&K.hasChildren())return this.processChildren(F,W,K).pipe((0,It.U)(Pe=>null===Pe?null:[new Zu(y,Pe)]));if(0===W.length&&0===he.length)return wt([new Zu(y,[])]);const we=eu(e)===a;return this.processSegment(F,W,K,he,we?Mn:a).pipe((0,It.U)(Pe=>null===Pe?null:[new Zu(y,Pe)]))}))}}function gI(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Lh(n){const t=[],e=new Set;for(const i of n){if(!gI(i)){t.push(i);continue}const r=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Lh(i.children);t.push(new Zu(i.value,r))}return t.filter(i=>!e.has(i))}function wy(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Dy(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Cy(n){return n.data||{}}function Iy(n){return n.resolve||{}}function yI(n){return"string"==typeof n.title||null===n.title}function Pw(n){return Jn(t=>{const e=n(t);return e?(0,ti.D)(e).pipe((0,It.U)(()=>t)):wt(t)})}let bI=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Mn);return i}getResolvedTitleForRoute(e){return e.data[Zp]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(wI)},providedIn:"root"}),n})(),wI=(()=>{class n extends bI{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(sa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DI{}class FS extends class CI{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Zm=new c.OlP("",{providedIn:"root",factory:()=>({})}),II=new c.OlP("ROUTES");let xy=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return wt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=zu(e.loadComponent()).pipe((0,dr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),Wv(()=>{this.componentLoaders.delete(e)})),r=new rw(i,()=>new Hn.x).pipe(iw());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return wt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,It.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(i);let y,I,A=!1;Array.isArray(m)?I=m:(y=m.create(e).injector,I=NC(y.get(II,[],c.XFs.Self|c.XFs.Optional)));return{routes:I.map(cy),injector:y}}),Wv(()=>{this.childrenLoaders.delete(i)})),d=new rw(a,()=>new Hn.x).pipe(iw());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return zu(e()).pipe((0,lr.z)(i=>i instanceof c.YKP||Array.isArray(i)?wt(i):(0,ti.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kw{}class PS{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function dF(n){throw n}function hF(n,t,e){return t.parse("/")}const kS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function BS(){const n=(0,c.f3M)(Zx),t=(0,c.f3M)(ay),e=(0,c.f3M)(He),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),a=(0,c.f3M)(II,{optional:!0})??[],d=(0,c.f3M)(Zm,{optional:!0})??{},m=(0,c.f3M)(wI),y=(0,c.f3M)(bI,{optional:!0}),I=(0,c.f3M)(kw,{optional:!0}),A=(0,c.f3M)(DI,{optional:!0}),F=new so(null,n,t,e,i,r,NC(a));return I&&(F.urlHandlingStrategy=I),A&&(F.routeReuseStrategy=A),F.titleStrategy=y??m,function VS(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,F),F}let so=(()=>{class n{constructor(e,i,r,a,d,m,y){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Hn.x,this.errorHandler=dF,this.malformedUriErrorHandler=hF,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>wt(void 0),this.urlHandlingStrategy=new PS,this.routeReuseStrategy=new FS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(xy),this.configLoader.onLoadEndListener=W=>this.triggerEvent(new iS(W)),this.configLoader.onLoadStartListener=W=>this.triggerEvent(new ZC(W)),this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const F=d.get(c.R0b);this.isNgZoneEnabled=F instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Wx(){return new Rh(new kn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oS(this.currentUrlTree,this.rootComponentType),this.transitions=new Gn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(rr(r=>0!==r.id),(0,It.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Jn(r=>{let a=!1,d=!1;return wt(r).pipe((0,dr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jn(m=>{const y=this.browserUrlTree.toString(),I=!this.navigated||m.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return US(m.source)&&(this.browserUrlTree=m.extractedUrl),wt(m).pipe(Jn(F=>{const W=this.transitions.getValue();return i.next(new Hm(F.id,this.serializeUrl(F.extractedUrl),F.source,F.restoredState)),W!==this.transitions.getValue()?Pi.E:Promise.resolve(F)}),function rF(n,t,e,i){return Jn(r=>function SS(n,t,e,i,r){return new iF(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,It.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,dr.b)(F=>{this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects},r.urlAfterRedirects=F.urlAfterRedirects}),function Ty(n,t,e,i,r,a){return(0,lr.z)(d=>function AS(n,t,e,i,r,a,d="emptyOnly",m="legacy"){return new by(n,t,e,i,r,d,m,a).recognize().pipe(Jn(y=>null===y?function oF(n){return new Ri.y(t=>t.error(n))}(new sF):wt(y)))}(n,t,e,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,r,a).pipe((0,It.U)(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,dr.b)(F=>{if(r.targetSnapshot=F.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(K,F)}this.browserUrlTree=F.urlAfterRedirects}const W=new KO(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);i.next(W)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:K,source:he,restoredState:we,extras:Pe}=m,pt=new Hm(W,this.serializeUrl(K),he,we);i.next(pt);const gt=oS(K,this.rootComponentType).snapshot;return wt(r={...m,targetSnapshot:gt,urlAfterRedirects:K,extras:{...Pe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),Pi.E}),(0,dr.b)(m=>{const y=new eS(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}),(0,It.U)(m=>r={...m,guards:Ew(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function yS(n,t){return(0,lr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:d}}=e;return 0===d.length&&0===a.length?wt({...e,guardsResult:!0}):function bS(n,t,e,i){return(0,ti.D)(n).pipe((0,lr.z)(r=>function CS(n,t,e,i,r){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?wt(a.map(m=>{const y=jm(t)??r,I=rg(m,y);return zu(function xw(n){return n&&sg(n.canDeactivate)}(I)?I.canDeactivate(n,t,e,i):y.runInContext(()=>I(n,t,e,i))).pipe(Fd())})).pipe(zm()):wt(!0)}(r.component,r.route,e,t,i)),Fd(r=>!0!==r,!0))}(d,i,r,n).pipe((0,lr.z)(m=>m&&function lI(n){return"boolean"==typeof n}(m)?function wS(n,t,e,i){return(0,ti.D)(t).pipe(Rf(r=>Qd(function uI(n,t){return null!==n&&t&&t(new YC(n)),wt(!0)}(r.route.parent,i),function DS(n,t){return null!==n&&t&&t(new QC(n)),wt(!0)}(r.route,i),function dI(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(d=>function gS(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Gx(()=>wt(d.guards.map(y=>{const I=jm(d.node)??e,A=rg(y,I);return zu(function _S(n){return n&&sg(n.canActivateChild)}(A)?A.canActivateChild(i,n):I.runInContext(()=>A(i,n))).pipe(Fd())})).pipe(zm())));return wt(a).pipe(zm())}(n,r.path,e),function nF(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return wt(!0);const r=i.map(a=>Gx(()=>{const d=jm(t)??e,m=rg(a,d);return zu(function cI(n){return n&&sg(n.canActivate)}(m)?m.canActivate(t,n):d.runInContext(()=>m(t,n))).pipe(Fd())}));return wt(r).pipe(zm())}(n,r.route,e))),Fd(r=>!0!==r,!0))}(i,a,n,t):wt(m)),(0,It.U)(m=>({...e,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,dr.b)(m=>{if(r.guardsResult=m.guardsResult,Bf(m.guardsResult))throw uS(0,m.guardsResult);const y=new tS(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(y)}),rr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),Pw(m=>{if(m.guards.canActivateChecks.length)return wt(m).pipe((0,dr.b)(y=>{const I=new nS(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}),Jn(y=>{let I=!1;return wt(y).pipe(function aF(n,t){return(0,lr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return wt(e);let a=0;return(0,ti.D)(r).pipe(Rf(d=>function lF(n,t,e,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!yI(r)&&(a[Zp]=r.title),function cF(n,t,e,i){const r=function uF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return wt({});const a={};return(0,ti.D)(r).pipe((0,lr.z)(d=>function vI(n,t,e,i){const r=jm(t)??i,a=rg(n,r);return zu(a.resolve?a.resolve(t,e):r.runInContext(()=>a(t,e)))}(n[d],t,e,i).pipe(Fd(),(0,dr.b)(m=>{a[d]=m}))),Pf(1),Pa(a),Fh(d=>tu(d)?Pi.E:Pm(d)))}(a,n,t,i).pipe((0,It.U)(d=>(n._resolvedData=d,n.data=aS(n,e).resolve,r&&yI(r)&&(n.data[Zp]=r.title),null)))}(d.route,i,n,t)),(0,dr.b)(()=>a++),Pf(1),(0,lr.z)(d=>a===r.length?wt(e):Pi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,dr.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,dr.b)(y=>{const I=new qC(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}))}),Pw(m=>{const y=I=>{const A=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,dr.b)(F=>{I.component=F}),(0,It.U)(()=>{})));for(const F of I.children)A.push(...y(F));return A};return Yd(y(m.targetSnapshot.root)).pipe(km(),ki(1))}),Pw(()=>this.afterPreactivation()),(0,It.U)(m=>{const y=function JO(n,t,e){const i=ig(n,t._root,e?e._root:void 0);return new JC(i,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return r={...m,targetRouterState:y}}),(0,dr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,It.U)(i=>(new pS(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,dr.b)({next(){a=!0},complete(){a=!0}}),Wv(()=>{a||d||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Fh(m=>{if(d=!0,iI(m)){bw(m)||(this.navigated=!0,this.restoreHistory(r,!0));const y=new ty(r.id,this.serializeUrl(r.extractedUrl),m.message,m.cancellationCode);if(i.next(y),bw(m)){const I=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),A={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||US(r.source)};this.scheduleNavigation(I,"imperative",null,A,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const y=new mw(r.id,this.serializeUrl(r.extractedUrl),m,r.targetSnapshot??void 0);i.next(y);try{r.resolve(this.errorHandler(m))}catch(I){r.reject(I)}}return Pi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=e.state?.navigationId?e.state:null;if(a){const m={...a};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(r.state=m)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(cy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:a,fragment:d,queryParamsHandling:m,preserveFragment:y}=i,I=r||this.routerState.root,A=y?this.currentUrlTree.fragment:d;let F=null;switch(m){case"merge":F={...this.currentUrlTree.queryParams,...a};break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=a||null}return null!==F&&(F=this.removeEmptyProps(F)),HC(I,this.currentUrlTree,e,F,A??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Bf(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function fF(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new c.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...kS}:!1===i?{...LS}:i,Bf(e))return OC(this.currentUrlTree,e,r);const a=this.parseUrl(e);return OC(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const a=e[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new qu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,a,d){if(this.disposed)return Promise.resolve(!1);let m,y,I;d?(m=d.resolve,y=d.reject,I=d.promise):I=new Promise((W,K)=>{m=W,y=K});const A=++this.navigationId;let F;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),F=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):F=0,this.setTransition({id:A,targetPageId:F,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:m,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(W=>Promise.reject(W))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const a=new ty(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return BS()},providedIn:"root"}),n})();function US(n){return"imperative"!==n}class $S{}let _F=(()=>{class n{constructor(e,i,r,a,d){this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(rr(e=>e instanceof qu),Rf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,e,`Route: ${a.path}`));const d=a._injector??e,m=a._loadedInjector??d;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(d,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(m,a.children??a._loadedRoutes))}return(0,ti.D)(r).pipe((0,Kd.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):wt(null);const a=r.pipe((0,lr.z)(d=>null===d?wt(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,ti.D)([a,d]).pipe((0,Kd.J)())}return a})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(so),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG($S),c.LFG(xy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s=new c.OlP("");let o=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _w&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new _w(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function _(n,t){return{\u0275kind:n,\u0275providers:t}}function D(n){return[{provide:II,multi:!0,useValue:n}]}function E(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const i=n.get(so),r=n.get(M);1===n.get(L)&&i.initialNavigation(),n.get($e,null,c.XFs.Optional)?.setUpPreloading(),n.get(s,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const M=new c.OlP("",{factory:()=>new Hn.x}),L=new c.OlP("",{providedIn:"root",factory:()=>1});const $e=new c.OlP("");function lt(n){return _(0,[{provide:$e,useExisting:_F},{provide:$S,useExisting:n}])}const Ke=new c.OlP("ROUTER_FORROOT_GUARD"),nn=[He,{provide:Zx,useClass:Bm},{provide:so,useFactory:BS},ay,{provide:tg,useFactory:function f(n){return n.routerState.root},deps:[so]},xy];function yi(){return new c.PXZ("Router",so)}let wr=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[nn,[],D(e),{provide:Ke,useFactory:Uw,deps:[[so,new c.FiY,new c.tp0]]},{provide:Zm,useValue:i||{}},i?.useHash?{provide:Ne,useClass:Tt}:{provide:Ne,useClass:st},{provide:s,useFactory:()=>{const n=(0,c.f3M)(so),t=(0,c.f3M)(Tl),e=(0,c.f3M)(Zm);return e.scrollOffset&&t.setOffset(e.scrollOffset),new o(n,t,e)}},i?.preloadingStrategy?lt(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:yi},i?.initialNavigation?$w(i):[],[{provide:Ay,useFactory:E},{provide:c.tb,multi:!0,useExisting:Ay}]]}}static forChild(e){return{ngModule:n,providers:[D(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ke,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Cw]}),n})();function Uw(n){return"guarded"}function $w(n){return["disabled"===n.initialNavigation?_(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(so);return()=>{t.setUpLocationChangeListener()}}},{provide:L,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?_(2,[{provide:L,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(J,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(a=>{const d=t.get(so),m=t.get(M);(function r(a){t.get(so).events.pipe(rr(m=>m instanceof qu||m instanceof ty||m instanceof mw),(0,It.U)(m=>m instanceof qu||m instanceof ty&&(0===m.code||1===m.code)&&null),rr(m=>null!==m),ki(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),d.afterPreactivation=()=>(a(!0),i||m.closed?wt(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const Ay=new c.OlP("");var bi=H(7489),Be=H(5861);const oo_imgSrc="https://cdn.jsdelivr.net/gh/phantomodm/nystixCDN@9P/depository/assets/images/";var ma=H(5813);function GS(){return(0,vr.e)((n,t)=>{let e,i=!1;n.subscribe((0,li.x)(t,r=>{const a=e;e=r,i&&t.next([a,r]),i=!0}))})}var zt,kd=H(2011),iV=(H(2476),H(3942)),Ym=H(9681),xI=H(4859),og=H(1877),Ni=H(2090),rV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jf={},HS=HS||{},yn=rV||self;function SI(){}function AI(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Hw(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var jS="closure_uid_"+(1e9*Math.random()>>>0),oV=0;function aV(n,t,e){return n.call.apply(n.bind,arguments)}function lV(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ja(n,t,e){return(ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aV:lV).apply(null,arguments)}function NI(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function _a(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return t.prototype[r].apply(i,d)}}function ag(){this.s=this.s,this.o=this.o}var uV={};ag.prototype.s=!1,ag.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function sV(n){return Object.prototype.hasOwnProperty.call(n,jS)&&n[jS]||(n[jS]=++oV)}(this);delete uV[n]}},ag.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vF=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function WS(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function yF(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(AI(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let d=0;d<a;d++)n[r+d]=i[d]}else n.push(i)}}function Wa(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Wa.prototype.h=function(){this.defaultPrevented=!0};var dV=function(){if(!yn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yn.addEventListener("test",SI,t),yn.removeEventListener("test",SI,t)}catch{}return n}();function MI(n){return/^[\s\xa0]*$/.test(n)}var bF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zS(n,t){return n<t?-1:n>t?1:0}function OI(){var n=yn.navigator;return n&&(n=n.userAgent)?n:""}function Vh(n){return-1!=OI().indexOf(n)}function qS(n){return qS[" "](n),n}qS[" "]=SI;var FI,n,fV=Vh("Opera"),Ny=Vh("Trident")||Vh("MSIE"),wF=Vh("Edge"),ZS=wF||Ny,DF=Vh("Gecko")&&!(-1!=OI().toLowerCase().indexOf("webkit")&&!Vh("Edge"))&&!(Vh("Trident")||Vh("MSIE"))&&!Vh("Edge"),pV=-1!=OI().toLowerCase().indexOf("webkit")&&!Vh("Edge");function CF(){var n=yn.document;return n?n.documentMode:void 0}e:{var YS="",KS=(n=OI(),DF?/rv:([^\);]+)(\)|;)/.exec(n):wF?/Edge\/([\d\.]+)/.exec(n):Ny?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):pV?/WebKit\/(\S+)/.exec(n):fV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(KS&&(YS=KS?KS[1]:""),Ny){var QS=CF();if(null!=QS&&QS>parseFloat(YS)){FI=String(QS);break e}}FI=YS}var gV={};var _V=yn.document&&Ny&&(CF()||parseInt(FI,10))||void 0;function jw(n,t){if(Wa.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(DF){e:{try{qS(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vV[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jw.X.h.call(this)}}_a(jw,Wa);var vV={2:"touch",3:"pen",4:"mouse"};jw.prototype.h=function(){jw.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ww="closure_listenable_"+(1e6*Math.random()|0),yV=0;function bV(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++yV,this.ba=this.ea=!1}function RI(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function XS(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function TF(n){const t={};for(const e in n)t[e]=n[e];return t}const EF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xF(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let a=0;a<EF.length;a++)e=EF[a],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function PI(n){this.src=n,this.g={},this.h=0}function eA(n,t){var e=t.type;if(e in n.g){var a,i=n.g[e],r=vF(i,t);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(RI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function tA(n,t,e,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==t&&a.capture==!!e&&a.ha==i)return r}return-1}PI.prototype.add=function(n,t,e,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=tA(n,t,i,r);return-1<d?(t=n[d],e||(t.ea=!1)):((t=new bV(t,this.src,a,!!i,r)).ea=e,n.push(t)),t};var nA="closure_lm_"+(1e6*Math.random()|0),iA={};function SF(n,t,e,i,r){if(i&&i.once)return NF(n,t,e,i,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)SF(n,t[a],e,i,r);return null}return e=aA(e),n&&n[Ww]?n.N(t,e,Hw(i)?!!i.capture:!!i,r):AF(n,t,e,!1,i,r)}function AF(n,t,e,i,r,a){if(!t)throw Error("Invalid event type");var d=Hw(r)?!!r.capture:!!r,m=sA(n);if(m||(n[nA]=m=new PI(n)),(e=m.add(t,e,i,d,a)).proxy)return e;if(i=function wV(){const t=DV;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)dV||(r=d),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(OF(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function NF(n,t,e,i,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)NF(n,t[a],e,i,r);return null}return e=aA(e),n&&n[Ww]?n.O(t,e,Hw(i)?!!i.capture:!!i,r):AF(n,t,e,!0,i,r)}function MF(n,t,e,i,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)MF(n,t[a],e,i,r);else i=Hw(i)?!!i.capture:!!i,e=aA(e),n&&n[Ww]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=tA(a=n.g[t],e,i,r))&&(RI(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=sA(n))&&(t=n.g[t.toString()],n=-1,t&&(n=tA(t,e,i,r)),(e=-1<n?t[n]:null)&&rA(e))}function rA(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Ww])eA(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(OF(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=sA(t))?(eA(e,n),0==e.h&&(e.src=null,t[nA]=null)):RI(n)}}}function OF(n){return n in iA?iA[n]:iA[n]="on"+n}function DV(n,t){if(n.ba)n=!0;else{t=new jw(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&rA(n),n=e.call(i,t)}return n}function sA(n){return(n=n[nA])instanceof PI?n:null}var oA="__closure_events_fn_"+(1e9*Math.random()>>>0);function aA(n){return"function"==typeof n?n:(n[oA]||(n[oA]=function(t){return n.handleEvent(t)}),n[oA])}function Zo(){ag.call(this),this.i=new PI(this),this.P=this,this.I=null}function va(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Wa(t,n);else if(t instanceof Wa)t.target=t.target||n;else{var r=t;xF(t=new Wa(i,n),r)}if(r=!0,e)for(var a=e.length-1;0<=a;a--){var d=t.g=e[a];r=kI(d,i,!0,t)&&r}if(r=kI(d=t.g=n,i,!0,t)&&r,r=kI(d,i,!1,t)&&r,e)for(a=0;a<e.length;a++)r=kI(d=t.g=e[a],i,!1,t)&&r}function kI(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var d=t[a];if(d&&!d.ba&&d.capture==e){var m=d.listener,y=d.ha||d.src;d.ea&&eA(n.i,d),r=!1!==m.call(y,i)&&r}}return r&&!i.defaultPrevented}_a(Zo,ag),Zo.prototype[Ww]=!0,Zo.prototype.removeEventListener=function(n,t,e,i){MF(this,n,t,e,i)},Zo.prototype.M=function(){if(Zo.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)RI(e[i]);delete n.g[t],n.h--}}this.I=null},Zo.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Zo.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var lA=yn.JSON.stringify;function CV(){var n=PF;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var cA,FF=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new TV,n=>n.reset());class TV{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function EV(n){yn.setTimeout(()=>{throw n},0)}function RF(n,t){cA||function xV(){var n=yn.Promise.resolve(void 0);cA=function(){n.then(SV)}}(),uA||(cA(),uA=!0),PF.add(n,t)}var uA=!1,PF=new class IV{constructor(){this.h=this.g=null}add(t,e){const i=FF.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function SV(){for(var n;n=CV();){try{n.h.call(n.g)}catch(e){EV(e)}var t=FF;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}uA=!1}function LI(n,t){Zo.call(this),this.h=n||1,this.g=t||yn,this.j=ja(this.kb,this),this.l=Date.now()}function dA(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function hA(n,t,e){if("function"==typeof n)e&&(n=ja(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ja(n.handleEvent,n)}return 2147483647<Number(t)?-1:yn.setTimeout(n,t||0)}function kF(n){n.g=hA(()=>{n.g=null,n.i&&(n.i=!1,kF(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}_a(LI,Zo),(zt=LI.prototype).ca=!1,zt.R=null,zt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),va(this,"tick"),this.ca&&(dA(this),this.start()))}},zt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zt.M=function(){LI.X.M.call(this),dA(this),delete this.g};class AV extends ag{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:kF(this)}M(){super.M(),this.g&&(yn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zw(n){ag.call(this),this.h=n,this.g={}}_a(zw,ag);var LF=[];function VF(n,t,e,i){Array.isArray(e)||(e&&(LF[0]=e.toString()),e=LF);for(var r=0;r<e.length;r++){var a=SF(t,e[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function BF(n){XS(n.g,function(t,e){this.g.hasOwnProperty(e)&&rA(t)},n),n.g={}}function VI(){this.g=!0}function My(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function FV(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<r.length;d++)r[d]=""}}}return lA(e)}catch{return t}}(n,e)+(i?" "+i:"")})}zw.prototype.M=function(){zw.X.M.call(this),BF(this)},zw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},VI.prototype.Aa=function(){this.g=!1},VI.prototype.info=function(){};var Km={},UF=null;function BI(){return UF=UF||new Zo}function $F(n){Wa.call(this,Km.Oa,n)}function qw(n){const t=BI();va(t,new $F(t,n))}function GF(n,t){Wa.call(this,Km.STAT_EVENT,n),this.stat=t}function vl(n){const t=BI();va(t,new GF(t,n))}function HF(n,t){Wa.call(this,Km.Pa,n),this.size=t}function Zw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yn.setTimeout(function(){n()},t)}Km.Oa="serverreachability",_a($F,Wa),Km.STAT_EVENT="statevent",_a(GF,Wa),Km.Pa="timingevent",_a(HF,Wa);var UI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},jF={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fA(){}function zF(){}fA.prototype.h=null;var mA,Yw={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function pA(){Wa.call(this,"d")}function gA(){Wa.call(this,"c")}function $I(){}function Kw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new zw(this),this.O=RV,this.T=new LI(n=ZS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new qF}function qF(){this.i=null,this.g="",this.h=!1}_a(pA,Wa),_a(gA,Wa),_a($I,fA),$I.prototype.g=function(){return new XMLHttpRequest},$I.prototype.i=function(){return{}},mA=new $I;var RV=45e3,_A={},GI={};function vA(n,t,e){n.K=1,n.v=zI(Wf(t)),n.s=e,n.P=!0,ZF(n,null)}function ZF(n,t){n.F=Date.now(),Qw(n),n.A=Wf(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),rR(e.i,"t",i),n.C=0,e=n.l.H,n.h=new qF,n.g=SR(n.l,e?t:null,!n.s),0<n.N&&(n.L=new AV(ja(n.Ka,n,n.g),n.N)),VF(n.S,n.g,"readystatechange",n.hb),t=n.H?TF(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),qw(1),function NV(n,t,e,i,r,a){n.info(function(){if(n.g)if(a)for(var d="",m=a.split("&"),y=0;y<m.length;y++){var I=m[y].split("=");if(1<I.length){var A=I[0];I=I[1];var F=A.split("_");d=2<=F.length&&"type"==F[1]?d+(A+"=")+I+"&":d+(A+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function YF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function KF(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=PV(n,e),r==GI){4==t&&(n.o=4,vl(14),i=!1),My(n.j,n.m,null,"[Incomplete Response]");break}if(r==_A){n.o=4,vl(15),My(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}My(n.j,n.m,r,null),yA(n,r)}YF(n)&&r!=GI&&r!=_A&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,vl(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),xA(t),t.K=!0,vl(11))):(My(n.j,n.m,e,"[Invalid Chunked Response]"),Qm(n),Jw(n))}function PV(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?GI:(e=Number(t.substring(e,i)),isNaN(e)?_A:(i+=1)+e>t.length?GI:(t=t.substr(i,e),n.C=i+e,t))}function Qw(n){n.V=Date.now()+n.O,QF(n,n.O)}function QF(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zw(ja(n.fb,n),t)}function HI(n){n.B&&(yn.clearTimeout(n.B),n.B=null)}function Jw(n){0==n.l.G||n.I||IR(n.l,n)}function Qm(n){HI(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,dA(n.T),BF(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function yA(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||bA(e.h,n)))if(!n.J&&bA(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;JI(e),KI(e)}EA(e),vl(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Zw(ja(e.bb,e),6e3));if(1>=aR(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Xm(e,11)}else if((n.J||e.g==n)&&JI(e),!MI(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let I=r[t];if(e.T=I[0],I=I[1],2==e.G)if("c"==I[0]){e.I=I[1],e.ka=I[2];const A=I[3];null!=A&&(e.ma=A,e.j.info("VER="+e.ma));const F=I[4];null!=F&&(e.Ca=F,e.j.info("SVER="+e.Ca));const W=I[5];null!=W&&"number"==typeof W&&0<W&&(e.J=i=1.5*W,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const K=n.g;if(K){const he=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var a=i.h;a.g||-1==he.indexOf("spdy")&&-1==he.indexOf("quic")&&-1==he.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(wA(a,a.h),a.h=null))}if(i.D){const we=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;we&&(i.za=we,Kr(i.F,i.D,we))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var d=n;if((i=e).sa=xR(i,i.H?i.ka:null,i.V),d.J){lR(i.h,d);var m=d,y=i.J;y&&m.setTimeout(y),m.B&&(HI(m),Qw(m)),i.g=d}else DR(i);0<e.i.length&&QI(e)}else"stop"!=I[0]&&"close"!=I[0]||Xm(e,7);else 3==e.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Xm(e,7):TA(e):"noop"!=I[0]&&e.l&&e.l.wa(I),e.A=0)}qw(4)}catch{}}function JF(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(AI(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function LV(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(AI(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function kV(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(AI(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,a=0;a<r;a++)t.call(void 0,i[a],e&&e[a],n)}(zt=Kw.prototype).setTimeout=function(n){this.O=n},zt.hb=function(n){n=n.target;const t=this.L;t&&3==zf(n)?t.l():this.Ka(n)},zt.Ka=function(n){try{if(n==this.g)e:{const A=zf(this.g);var t=this.g.Ea();const F=this.g.aa();if(!(3>A)&&(3!=A||ZS||this.g&&(this.h.h||this.g.fa()||mR(this.g)))){this.I||4!=A||7==t||qw(8==t||0>=F?3:2),HI(this);var e=this.g.aa();this.Y=e;t:if(YF(this)){var i=mR(this.g);n="";var r=i.length,a=4==zf(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qm(this),Jw(this);var d="";break t}this.h.i=new yn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:a&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==e,function MV(n,t,e,i,r,a,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.U,A,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,y=this.g;if((m=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!MI(m)){var I=m;break t}}I=null}if(!(e=I)){this.i=!1,this.o=3,vl(12),Qm(this),Jw(this);break e}My(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yA(this,e)}this.P?(KF(this,A,d),ZS&&this.i&&3==A&&(VF(this.S,this.T,"tick",this.gb),this.T.start())):(My(this.j,this.m,d,null),yA(this,d)),4==A&&Qm(this),this.i&&!this.I&&(4==A?IR(this.l,this):(this.i=!1,Qw(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,vl(12)):(this.o=0,vl(13)),Qm(this),Jw(this)}}}catch{}},zt.gb=function(){if(this.g){var n=zf(this.g),t=this.g.fa();this.C<t.length&&(HI(this),KF(this,n,t),this.i&&4!=n&&Qw(this))}},zt.cancel=function(){this.I=!0,Qm(this)},zt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function OV(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(qw(3),vl(17)),Qm(this),this.o=2,Jw(this)):QF(this,this.V-n)};var XF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jm(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Jm){this.h=void 0!==t?t:n.h,jI(this,n.j),this.s=n.s,this.g=n.g,WI(this,n.m),this.l=n.l,t=n.i;var e=new t1;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),eR(this,e),this.o=n.o}else n&&(e=String(n).match(XF))?(this.h=!!t,jI(this,e[1]||"",!0),this.s=Xw(e[2]||""),this.g=Xw(e[3]||"",!0),WI(this,e[4]),this.l=Xw(e[5]||"",!0),eR(this,e[6]||"",!0),this.o=Xw(e[7]||"")):(this.h=!!t,this.i=new t1(null,this.h))}function Wf(n){return new Jm(n)}function jI(n,t,e){n.j=e?Xw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function WI(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function eR(n,t,e){t instanceof t1?(n.i=t,function jV(n,t){t&&!n.j&&(lg(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(nR(this,i),rR(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=e1(t,GV)),n.i=new t1(t,n.h))}function Kr(n,t,e){n.i.set(t,e)}function zI(n){return Kr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function e1(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,BV),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function BV(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Jm.prototype.toString=function(){var n=[],t=this.j;t&&n.push(e1(t,tR,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(e1(t,tR,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(e1(e,"/"==e.charAt(0)?$V:UV,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",e1(e,HV)),n.join("")};var tR=/[#\/\?@]/g,UV=/[#\?:]/g,$V=/[#\?]/g,GV=/[#\?@]/g,HV=/#/g;function t1(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function lg(n){n.g||(n.g=new Map,n.h=0,n.i&&function VV(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var a=n[e].substring(0,i);r=n[e].substring(i+1)}else a=n[e];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function nR(n,t){lg(n),t=Oy(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function iR(n,t){return lg(n),t=Oy(n,t),n.g.has(t)}function rR(n,t,e){nR(n,t),0<e.length&&(n.i=null,n.g.set(Oy(n,t),WS(e)),n.h+=e.length)}function Oy(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function sR(n){this.l=n||zV,n=yn.PerformanceNavigationTiming?0<(n=yn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yn.g&&yn.g.Ga&&yn.g.Ga()&&yn.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(zt=t1.prototype).add=function(n,t){lg(this),this.i=null,n=Oy(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},zt.forEach=function(n,t){lg(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},zt.oa=function(){lg(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let a=0;a<r.length;a++)e.push(t[i])}return e},zt.W=function(n){lg(this);let t=[];if("string"==typeof n)iR(this,n)&&(t=t.concat(this.g.get(Oy(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},zt.set=function(n,t){return lg(this),this.i=null,iR(this,n=Oy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},zt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const a=encodeURIComponent(String(i)),d=this.W(i);for(i=0;i<d.length;i++){var r=a;""!==d[i]&&(r+="="+encodeURIComponent(String(d[i]))),n.push(r)}}return this.i=n.join("&")};var zV=10;function oR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aR(n){return n.h?1:n.g?n.g.size:0}function bA(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function wA(n,t){n.g?n.g.add(t):n.h=t}function lR(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function cR(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return WS(n.i)}function DA(){}function qV(){this.g=new DA}function ZV(n,t,e){const i=e||"";try{JF(n,function(r,a){let d=r;Hw(r)&&(d=lA(r)),t.push(i+a+"="+encodeURIComponent(d))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function qI(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function n1(n){this.l=n.$b||null,this.j=n.ib||!1}function ZI(n,t){Zo.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=CA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sR.prototype.cancel=function(){if(this.i=cR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},DA.prototype.stringify=function(n){return yn.JSON.stringify(n,void 0)},DA.prototype.parse=function(n){return yn.JSON.parse(n,void 0)},_a(n1,fA),n1.prototype.g=function(){return new ZI(this.l,this.j)},n1.prototype.i=function(n){return function(){return n}}({}),_a(ZI,Zo);var CA=0;function uR(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function i1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,r1(n)}function r1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(zt=ZI.prototype).open=function(n,t){if(this.readyState!=CA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,r1(this)},zt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||yn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,i1(this)),this.readyState=CA},zt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,r1(this)),this.g&&(this.readyState=3,r1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof yn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uR(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},zt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?i1(this):r1(this),3==this.readyState&&uR(this)}},zt.Ua=function(n){this.g&&(this.response=this.responseText=n,i1(this))},zt.Ta=function(n){this.g&&(this.response=n,i1(this))},zt.ga=function(){this.g&&i1(this)},zt.setRequestHeader=function(n,t){this.v.append(n,t)},zt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},zt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(ZI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var KV=yn.JSON.parse;function ao(n){Zo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dR,this.K=this.L=!1}_a(ao,Zo);var dR="",QV=/^https?$/i,JV=["POST","PUT"];function hR(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,fR(n),YI(n)}function fR(n){n.D||(n.D=!0,va(n,"complete"),va(n,"error"))}function pR(n){if(n.h&&typeof HS<"u"&&(!n.C[1]||4!=zf(n)||2!=n.aa()))if(n.v&&4==zf(n))hA(n.Ha,0,n);else if(va(n,"readystatechange"),4==zf(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===m){var r=String(n.H).match(XF)[1]||null;if(!r&&yn.self&&yn.self.location){var a=yn.self.location.protocol;r=a.substr(0,a.length-1)}i=!QV.test(r?r.toLowerCase():"")}e=i}if(e)va(n,"complete"),va(n,"success");else{n.m=6;try{var d=2<zf(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",fR(n)}}finally{YI(n)}}}function YI(n,t){if(n.g){gR(n);const e=n.g,i=n.C[0]?SI:null;n.g=null,n.C=null,t||va(n,"ready");try{e.onreadystatechange=i}catch{}}}function gR(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yn.clearTimeout(n.A),n.A=null)}function zf(n){return n.g?n.g.readyState:0}function mR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case dR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _R(n){let t="";return XS(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function IA(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=_R(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Kr(n,t,e))}function s1(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function vR(n){this.Ca=0,this.i=[],this.j=new VI,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=s1("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=s1("baseRetryDelayMs",5e3,n),this.ab=s1("retryDelaySeedMs",1e4,n),this.Za=s1("forwardChannelMaxRetries",2,n),this.ta=s1("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new sR(n&&n.concurrentRequestLimit),this.Fa=new qV,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function TA(n){if(yR(n),3==n.G){var t=n.U++,e=Wf(n.F);Kr(e,"SID",n.I),Kr(e,"RID",t),Kr(e,"TYPE","terminate"),o1(n,e),(t=new Kw(n,n.j,t,void 0)).K=2,t.v=zI(Wf(e)),e=!1,yn.navigator&&yn.navigator.sendBeacon&&(e=yn.navigator.sendBeacon(t.v.toString(),"")),!e&&yn.Image&&((new Image).src=t.v,e=!0),e||(t.g=SR(t.l,null),t.g.da(t.v)),t.F=Date.now(),Qw(t)}ER(n)}function KI(n){n.g&&(xA(n),n.g.cancel(),n.g=null)}function yR(n){KI(n),n.u&&(yn.clearTimeout(n.u),n.u=null),JI(n),n.h.cancel(),n.m&&("number"==typeof n.m&&yn.clearTimeout(n.m),n.m=null)}function QI(n){oR(n.h)||n.m||(n.m=!0,RF(n.Ja,n),n.C=0)}function bR(n,t){var e;e=t?t.m:n.U++;const i=Wf(n.F);Kr(i,"SID",n.I),Kr(i,"RID",e),Kr(i,"AID",n.T),o1(n,i),n.o&&n.s&&IA(i,n.o,n.s),e=new Kw(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=wR(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),wA(n.h,e),vA(e,i,t)}function o1(n,t){n.ia&&XS(n.ia,function(e,i){Kr(t,i,e)}),n.l&&JF({},function(e,i){Kr(t,i,e)})}function wR(n,t,e){e=Math.min(n.i.length,e);var i=n.l?ja(n.l.Qa,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const d=["count="+e];-1==a?0<e?(a=r[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let m=!0;for(let y=0;y<e;y++){let I=r[y].h;const A=r[y].g;if(I-=a,0>I)a=Math.max(0,r[y].h-100),m=!1;else try{ZV(A,d,"req"+I+"_")}catch{i&&i(A)}}if(m){i=d.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function DR(n){n.g||n.u||(n.Z=1,RF(n.Ia,n),n.A=0)}function EA(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Zw(ja(n.Ia,n),TR(n,n.A)),n.A++,0))}function xA(n){null!=n.B&&(yn.clearTimeout(n.B),n.B=null)}function CR(n){n.g=new Kw(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Wf(n.sa);Kr(t,"RID","rpc"),Kr(t,"SID",n.I),Kr(t,"CI",n.L?"0":"1"),Kr(t,"AID",n.T),Kr(t,"TYPE","xmlhttp"),o1(n,t),n.o&&n.s&&IA(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=zI(Wf(t)),e.s=null,e.P=!0,ZF(e,n)}function JI(n){null!=n.v&&(yn.clearTimeout(n.v),n.v=null)}function IR(n,t){var e=null;if(n.g==t){JI(n),xA(n),n.g=null;var i=2}else{if(!bA(n.h,t))return;e=t.D,lR(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;va(i=BI(),new HF(i,e,t,r)),QI(n)}else DR(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function eB(n,t){return!(aR(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Zw(ja(n.Ja,n,t),TR(n,n.C)),n.C++,0)))}(n,t)||2==i&&EA(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Xm(n,5);break;case 4:Xm(n,10);break;case 3:Xm(n,6);break;default:Xm(n,2)}}function TR(n,t){let e=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(e*=2),e*t}function Xm(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=ja(n.jb,n);e||(e=new Jm("//www.google.com/images/cleardot.gif"),yn.location&&"http"==yn.location.protocol||jI(e,"https"),zI(e)),function YV(n,t){const e=new VI;if(yn.Image){const i=new Image;i.onload=NI(qI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=NI(qI,e,i,"TestLoadImage: error",!1,t),i.onabort=NI(qI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=NI(qI,e,i,"TestLoadImage: timeout",!1,t),yn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else vl(2);n.G=0,n.l&&n.l.va(t),ER(n),yR(n)}function ER(n){if(n.G=0,n.la=[],n.l){const t=cR(n.h);(0!=t.length||0!=n.i.length)&&(yF(n.la,t),yF(n.la,n.i),n.h.i.length=0,WS(n.i),n.i.length=0),n.l.ua()}}function xR(n,t,e){var i=e instanceof Jm?Wf(e):new Jm(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),WI(i,i.m);else{var r=yn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var a=new Jm(null,void 0);i&&jI(a,i),t&&(a.g=t),r&&WI(a,r),e&&(a.l=e),i=a}return t=n.za,(e=n.D)&&t&&Kr(i,e,t),Kr(i,"VER",n.ma),o1(n,i),i}function SR(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ao(e&&n.Da&&!n.ra?new n1({ib:!0}):n.ra)).L=n.H,t}function AR(){}function XI(){if(Ny&&!(10<=Number(_V)))throw Error("Environmental error: no available transport.")}function nu(n,t){Zo.call(this),this.g=new vR(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Xb)&&!MI(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!MI(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Fy(this)}function NR(n){pA.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function MR(){gA.call(this),this.status=1}function Fy(n){this.g=n}(zt=ao.prototype).da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mA.g(),this.C=function WF(n){return n.h||(n.h=n.i())}(this.u?this.u:mA),this.g.onreadystatechange=ja(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void hR(this,a)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())e.set(a,i.get(a))}i=Array.from(e.keys()).find(a=>"content-type"==a.toLowerCase()),r=yn.FormData&&n instanceof yn.FormData,!(0<=vF(JV,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,d]of e)this.g.setRequestHeader(a,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gR(this),0<this.B&&((this.K=function XV(n){return Ny&&function mV(){return function hV(n){var t=gV;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=bF(String(FI)).split("."),e=bF("9").split("."),i=Math.max(t.length,e.length);for(let d=0;0==n&&d<i;d++){var r=t[d]||"",a=e[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=zS(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||zS(0==r[2].length,0==a[2].length)||zS(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ja(this.qa,this)):this.A=hA(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){hR(this,a)}},zt.qa=function(){typeof HS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,va(this,"timeout"),this.abort(8))},zt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,va(this,"complete"),va(this,"abort"),YI(this))},zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),YI(this,!0)),ao.X.M.call(this)},zt.Ha=function(){this.s||(this.F||this.v||this.l?pR(this):this.eb())},zt.eb=function(){pR(this)},zt.aa=function(){try{return 2<zf(this)?this.g.status:-1}catch{return-1}},zt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},zt.Ra=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),KV(t)}},zt.Ea=function(){return this.m},zt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(zt=vR.prototype).ma=8,zt.G=1,zt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Kw(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=TF(a),xF(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=wR(this,r,t),Kr(e=Wf(this.F),"RID",n),Kr(e,"CVER",22),this.D&&Kr(e,"X-HTTP-Session-Id",this.D),o1(this,e),a&&(this.N?t="headers="+encodeURIComponent(String(_R(a)))+"&"+t:this.o&&IA(e,this.o,a)),wA(this.h,r),this.Xa&&Kr(e,"TYPE","init"),this.O?(Kr(e,"$req",t),Kr(e,"SID","null"),r.Z=!0,vA(r,e,null)):vA(r,e,t),this.G=2}}else 3==this.G&&(n?bR(this,n):0==this.i.length||oR(this.h)||bR(this))},zt.Ia=function(){if(this.u=null,CR(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Zw(ja(this.cb,this),n)}},zt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,vl(10),KI(this),CR(this))},zt.bb=function(){null!=this.v&&(this.v=null,KI(this),EA(this),vl(19))},zt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),vl(2)):(this.j.info("Failed to ping google.com"),vl(1))},(zt=AR.prototype).xa=function(){},zt.wa=function(){},zt.va=function(){},zt.ua=function(){},zt.Qa=function(){},XI.prototype.g=function(n,t){return new nu(n,t)},_a(nu,Zo),nu.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;vl(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=xR(n,null,n.V),QI(n)},nu.prototype.close=function(){TA(this.g)},nu.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=lA(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.$a++,n)),3==t.G&&QI(t)},nu.prototype.M=function(){this.g.l=null,delete this.j,TA(this.g),delete this.g,nu.X.M.call(this)},_a(NR,pA),_a(MR,gA),_a(Fy,AR),Fy.prototype.xa=function(){va(this.g,"a")},Fy.prototype.wa=function(n){va(this.g,new NR(n))},Fy.prototype.va=function(n){va(this.g,new MR(n))},Fy.prototype.ua=function(){va(this.g,"b")},XI.prototype.createWebChannel=XI.prototype.g,nu.prototype.send=nu.prototype.u,nu.prototype.open=nu.prototype.m,nu.prototype.close=nu.prototype.close,UI.NO_ERROR=0,UI.TIMEOUT=8,UI.HTTP_ERROR=6,jF.COMPLETE="complete",zF.EventType=Yw,Yw.OPEN="a",Yw.CLOSE="b",Yw.ERROR="c",Yw.MESSAGE="d",Zo.prototype.listen=Zo.prototype.N,ao.prototype.listenOnce=ao.prototype.O,ao.prototype.getLastError=ao.prototype.Na,ao.prototype.getLastErrorCode=ao.prototype.Ea,ao.prototype.getStatus=ao.prototype.aa,ao.prototype.getResponseJson=ao.prototype.Ra,ao.prototype.getResponseText=ao.prototype.fa,ao.prototype.send=ao.prototype.da;var tB=jf.createWebChannelTransport=function(){return new XI},nB=jf.getStatEventTarget=function(){return BI()},SA=jf.ErrorCode=UI,iB=jf.EventType=jF,rB=jf.Event=Km,OR=jf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sB=jf.FetchXmlHttpFactory=n1,eT=jf.WebChannel=zF,oB=jf.XhrIo=ao;const FR="@firebase/firestore";class Yo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yo.UNAUTHENTICATED=new Yo(null),Yo.GOOGLE_CREDENTIALS=new Yo("google-credentials-uid"),Yo.FIRST_PARTY=new Yo("first-party-uid"),Yo.MOCK_USER=new Yo("mock-user");let Ry="9.10.0";const cg=new og.Yd("@firebase/firestore");function AA(){return cg.logLevel}function ot(n,...t){if(cg.logLevel<=og.in.DEBUG){const e=t.map(NA);cg.debug(`Firestore (${Ry}): ${n}`,...e)}}function Ls(n,...t){if(cg.logLevel<=og.in.ERROR){const e=t.map(NA);cg.error(`Firestore (${Ry}): ${n}`,...e)}}function e_(n,...t){if(cg.logLevel<=og.in.WARN){const e=t.map(NA);cg.warn(`Firestore (${Ry}): ${n}`,...e)}}function NA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Vt(n="Unexpected state"){const t=`FIRESTORE (${Ry}) INTERNAL ASSERTION FAILED: `+n;throw Ls(t),new Error(t)}function hn(n,t){n||Vt()}function Et(n,t){return n}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Ni.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ko{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class RR{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Yo.UNAUTHENTICATED))}shutdown(){}}class uB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class dB{constructor(t){this.t=t,this.currentUser=Yo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const a=I=>this.i!==r?(r=this.i,e(I)):Promise.resolve();let d=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ko,t.enqueueRetryable(()=>a(this.currentUser))};const m=()=>{const I=d;t.enqueueRetryable((0,Be.Z)(function*(){yield I.promise,yield a(i.currentUser)}))},y=I=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>y(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?y(I):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ko)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(hn("string"==typeof i.accessToken),new RR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return hn(null===t||"string"==typeof t),new Yo(t)}}class hB{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Yo.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(hn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class fB{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new hB(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Yo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pB{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=a=>{null!=a.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.A;return this.A=a.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(hn("string"==typeof e.token),this.A=e.token,new PR(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gB(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class kR{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=gB(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%t.length))}return i}}function bn(n,t){return n<t?-1:n>t?1:0}function Py(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function LR(n){return n+"\0"}class Qr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new et(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new et(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new et(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new et(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Qr.fromMillis(Date.now())}static fromDate(t){return Qr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Qr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?bn(this.nanoseconds,t.nanoseconds):bn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(t){this.timestamp=t}static fromTimestamp(t){return new an(t)}static min(){return new an(new Qr(0,0))}static max(){return new an(new Qr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class a1{constructor(t,e,i){void 0===e?e=0:e>t.length&&Vt(),void 0===i?i=t.length-e:i>t.length-e&&Vt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===a1.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof a1?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=t.get(r),d=e.get(r);if(a<d)return-1;if(a>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class gi extends a1{construct(t,e,i){return new gi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new et(Fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new gi(e)}static emptyPath(){return new gi([])}}const mB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ys extends a1{construct(t,e,i){return new ys(t,e,i)}static isValidIdentifier(t){return mB.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ys.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ys(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(0===i.length)throw new et(Fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;r<t.length;){const m=t[r];if("\\"===m){if(r+1===t.length)throw new et(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[r+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new et(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=y,r+=2}else"`"===m?(d=!d,r++):"."!==m||d?(i+=m,r++):(a(),r++)}if(a(),d)throw new et(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ys(e)}static emptyPath(){return new ys([])}}class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(gi.fromString(t))}static fromName(t){return new Dt(gi.fromString(t).popFirst(5))}static empty(){return new Dt(gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===gi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return gi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new gi(t.slice()))}}class tT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function MA(n){return n.fields.find(t=>2===t.kind)}function t_(n){return n.fields.filter(t=>2!==t.kind)}tT.UNKNOWN_ID=-1;class nT{constructor(t,e){this.fieldPath=t,this.kind=e}}class l1{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new l1(0,iu.min())}}function VR(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=an.fromTimestamp(1e9===i?new Qr(e+1,0):new Qr(e,i));return new iu(r,Dt.empty(),t)}function BR(n){return new iu(n.readTime,n.key,-1)}class iu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new iu(an.min(),Dt.empty(),-1)}static max(){return new iu(an.max(),Dt.empty(),-1)}}function OA(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Dt.comparator(n.documentKey,t.documentKey),0!==e?e:bn(n.largestBatchId,t.largestBatchId))}const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ug(n){return FA.apply(this,arguments)}function FA(){return FA=(0,Be.Z)(function*(n){if(n.code!==Fe.FAILED_PRECONDITION||n.message!==UR)throw n;ot("LocalStore","Unexpectedly lost primary lease")}),FA.apply(this,arguments)}class xe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new xe((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof xe?e:xe.resolve(e)}catch(e){return xe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):xe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):xe.reject(e)}static resolve(t){return new xe((e,i)=>{e(t)})}static reject(t){return new xe((e,i)=>{i(t)})}static waitFor(t){return new xe((e,i)=>{let r=0,a=0,d=!1;t.forEach(m=>{++r,m.next(()=>{++a,d&&a===r&&e()},y=>i(y))}),d=!0,a===r&&e()})}static or(t){let e=xe.resolve(!1);for(const i of t)e=e.next(r=>r?xe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}static mapArray(t,e){return new xe((i,r)=>{const a=t.length,d=new Array(a);let m=0;for(let y=0;y<a;y++){const I=y;e(t[I]).next(A=>{d[I]=A,++m,m===a&&i(d)},A=>r(A))}})}static doWhile(t,e){return new xe((i,r)=>{const a=()=>{!0===t()?e().next(()=>{a()},r):i()};a()})}}class iT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Ko,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new c1(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=RA(i.target.error);this.P.reject(new c1(t,r))}}static open(t,e,i,r){try{return new iT(e,t.transaction(r,i))}catch(a){throw new c1(e,a)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(ot("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new bB(e)}}class Ld{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Ld.D((0,Ni.z$)())&&Ls("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ot("SimpleDb","Removing database:",t),n_(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,Ni.hl)())return!1;if(Ld.N())return!0;const t=(0,Ni.z$)(),e=Ld.D(t),i=0<e&&e<10,r=Ld.k(t),a=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Be.Z)(function*(){return e.db||(ot("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=d=>{i(d.target.result)},a.onblocked=()=>{r(new c1(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const m=d.target.error;r("VersionError"===m.name?new et(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new et(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new c1(t,m))},a.onupgradeneeded=d=>{ot("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.S.$(d.target.result,a.transaction,d.oldVersion,e.version).next(()=>{ot("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var a=this;return(0,Be.Z)(function*(){const d="readonly"===e;let m=0;for(;;){++m;try{a.db=yield a.F(t);const y=iT.open(a.db,t,d?"readonly":"readwrite",i),I=r(y).next(A=>(y.V(),A)).catch(A=>(y.abort(A),xe.reject(A))).toPromise();return I.catch(()=>{}),yield y.v,I}catch(y){const I=y,A="FirebaseError"!==I.name&&m<3;if(ot("SimpleDb","Transaction failed with error:",I.message,"Retrying:",A),a.close(),!A)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yB{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return n_(this.U.delete())}}class c1 extends et{constructor(t,e){super(Fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function dg(n){return"IndexedDbTransactionError"===n.name}class bB{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(ot("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ot("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),n_(i)}add(t){return ot("SimpleDb","ADD",this.store.name,t,t),n_(this.store.add(t))}get(t){return n_(this.store.get(t)).next(e=>(void 0===e&&(e=null),ot("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ot("SimpleDb","DELETE",this.store.name,t),n_(this.store.delete(t))}count(){return ot("SimpleDb","COUNT",this.store.name),n_(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(d,m)=>{a.push(m)}).next(()=>a)}{const r=this.store.getAll(i.range);return new xe((a,d)=>{r.onerror=m=>{d(m.target.error)},r.onsuccess=m=>{a(m.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new xe((r,a)=>{i.onerror=d=>{a(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}Y(t,e){ot("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(a,d,m)=>m.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new xe((i,r)=>{e.onerror=a=>{const d=RA(a.target.error);r(d)},e.onsuccess=a=>{const d=a.target.result;d?t(d.primaryKey,d.value).next(m=>{m?d.continue():i()}):i()}})}H(t,e){const i=[];return new xe((r,a)=>{t.onerror=d=>{a(d.target.error)},t.onsuccess=d=>{const m=d.target.result;if(!m)return void r();const y=new yB(m),I=e(m.primaryKey,m.value,y);if(I instanceof xe){const A=I.catch(F=>(y.done(),xe.reject(F)));i.push(A)}y.isDone?r():null===y.G?m.continue():m.continue(y.G)}}).next(()=>xe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function n_(n){return new xe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=RA(i.target.error);e(r)}})}let GR=!1;function RA(n){const t=Ld.D((0,Ni.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GR||(GR=!0,setTimeout(()=>{throw i},0)),i}}return n}class wB{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;ot("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Be.Z)(function*(){e.task=null;try{ot("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){dg(i)?ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ug(i)}yield e.nt(6e4)}))}}class DB{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Be.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,a=!0;return xe.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(d=>{if(null!==d&&!i.has(d))return ot("IndexBackiller",`Processing collection: ${d}`),this.rt(t,d,r).next(m=>{r-=m,i.add(d)});a=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(a=>{const d=a.changes;return this.localStore.indexManager.updateIndexEntries(t,d).next(()=>this.ot(r,a)).next(m=>(ot("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,e,m))).next(()=>d.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,a)=>{const d=BR(a);OA(d,i)>0&&(i=d)}),new iu(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class rc{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function HR(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function i_(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}rc.at=-1;class bs{constructor(t,e){this.comparator=t,this.root=e||ya.EMPTY}insert(t,e){return new bs(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ya.BLACK,null,null))}remove(t){return new bs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ya.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rT(this.root,t,this.comparator,!1)}getReverseIterator(){return new rT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rT(this.root,t,this.comparator,!0)}}class rT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ya{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=i??ya.RED,this.left=r??ya.EMPTY,this.right=a??ya.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new ya(t??this.key,e??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===a?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ya.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ya.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ya.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ya.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const t=this.left.check();if(t!==this.right.check())throw Vt();return t+(this.isRed()?0:1)}}ya.EMPTY=null,ya.RED=!0,ya.BLACK=!1,ya.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ya(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(t){this.comparator=t,this.data=new bs(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new WR(this.data.getIterator())}getIteratorFrom(t){return new WR(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof fr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new fr(this.comparator);return e.data=t,e}}class WR{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ky(n){return n.hasNext()?n.getNext():void 0}class ru{constructor(t){this.fields=t,t.sort(ys.comparator)}static empty(){return new ru([])}unionWith(t){let e=new fr(ys.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ru(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Py(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class To{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new To(e)}static fromUint8Array(t){const e=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(t);return new To(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}To.EMPTY_BYTE_STRING=new To("");const IB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hg(n){if(hn(!!n),"string"==typeof n){let t=0;const e=IB.exec(n);if(hn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ws(n.seconds),nanos:ws(n.nanos)}}function ws(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function r_(n){return"string"==typeof n?To.fromBase64String(n):To.fromUint8Array(n)}function PA(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function zR(n){const t=n.mapValue.fields.__previous_value__;return PA(t)?zR(t):t}function u1(n){const t=hg(n.mapValue.fields.__local_write_time__.timestampValue);return new Qr(t.seconds,t.nanos)}class TB{constructor(t,e,i,r,a,d,m,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=y}}class fg{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new fg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof fg&&t.projectId===this.projectId&&t.database===this.database}}function d1(n){return null==n}function h1(n){return 0===n&&1/n==-1/0}function qR(n){return"number"==typeof n&&Number.isInteger(n)&&!h1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const pg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sT={nullValue:"NULL_VALUE"};function s_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?PA(n)?4:QR(n)?9007199254740991:10:Vt()}function Bh(n,t){if(n===t)return!0;const e=s_(n);if(e!==s_(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return u1(n).isEqual(u1(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=hg(i.timestampValue),d=hg(r.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,r_(n.bytesValue).isEqual(r_(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ws(i.geoPointValue.latitude)===ws(r.geoPointValue.latitude)&&ws(i.geoPointValue.longitude)===ws(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ws(i.integerValue)===ws(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=ws(i.doubleValue),d=ws(r.doubleValue);return a===d?h1(a)===h1(d):isNaN(a)&&isNaN(d)}return!1}(n,t);case 9:return Py(n.arrayValue.values||[],t.arrayValue.values||[],Bh);case 10:return function(i,r){const a=i.mapValue.fields||{},d=r.mapValue.fields||{};if(HR(a)!==HR(d))return!1;for(const m in a)if(a.hasOwnProperty(m)&&(void 0===d[m]||!Bh(a[m],d[m])))return!1;return!0}(n,t);default:return Vt()}var r}function f1(n,t){return void 0!==(n.values||[]).find(e=>Bh(e,t))}function gg(n,t){if(n===t)return 0;const e=s_(n),i=s_(t);if(e!==i)return bn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,t.booleanValue);case 2:return function(r,a){const d=ws(r.integerValue||r.doubleValue),m=ws(a.integerValue||a.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return ZR(n.timestampValue,t.timestampValue);case 4:return ZR(u1(n),u1(t));case 5:return bn(n.stringValue,t.stringValue);case 6:return function(r,a){const d=r_(r),m=r_(a);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(r,a){const d=r.split("/"),m=a.split("/");for(let y=0;y<d.length&&y<m.length;y++){const I=bn(d[y],m[y]);if(0!==I)return I}return bn(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,a){const d=bn(ws(r.latitude),ws(a.latitude));return 0!==d?d:bn(ws(r.longitude),ws(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,a){const d=r.values||[],m=a.values||[];for(let y=0;y<d.length&&y<m.length;++y){const I=gg(d[y],m[y]);if(I)return I}return bn(d.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,a){if(r===pg.mapValue&&a===pg.mapValue)return 0;if(r===pg.mapValue)return 1;if(a===pg.mapValue)return-1;const d=r.fields||{},m=Object.keys(d),y=a.fields||{},I=Object.keys(y);m.sort(),I.sort();for(let A=0;A<m.length&&A<I.length;++A){const F=bn(m[A],I[A]);if(0!==F)return F;const W=gg(d[m[A]],y[I[A]]);if(0!==W)return W}return bn(m.length,I.length)}(n.mapValue,t.mapValue);default:throw Vt()}}function ZR(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return bn(n,t);const e=hg(n),i=hg(t),r=bn(e.seconds,i.seconds);return 0!==r?r:bn(e.nanos,i.nanos)}function Ly(n){return kA(n)}function kA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=hg(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?r_(n.bytesValue).toBase64():"referenceValue"in n?Dt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const d of i.values||[])a?a=!1:r+=",",r+=kA(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",d=!0;for(const m of r)d?d=!1:a+=",",a+=`${m}:${kA(i.fields[m])}`;return a+"}"}(n.mapValue):Vt();var t}function o_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function LA(n){return!!n&&"integerValue"in n}function p1(n){return!!n&&"arrayValue"in n}function YR(n){return!!n&&"nullValue"in n}function KR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function oT(n){return!!n&&"mapValue"in n}function g1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return i_(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=g1(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=g1(n.arrayValue.values[e]);return t}return Object.assign({},n)}function QR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function EB(n){return"nullValue"in n?sT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?o_(fg.empty(),Dt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Vt()}function xB(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?o_(fg.empty(),Dt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pg:Vt()}function JR(n,t){const e=gg(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function XR(n,t){const e=gg(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ba{constructor(t){this.value=t}static empty(){return new ba({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!oT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=g1(e)}setAll(t){let e=ys.emptyPath(),i={},r=[];t.forEach((d,m)=>{if(!e.isImmediateParentOf(m)){const y=this.getFieldsMap(e);this.applyChanges(y,i,r),i={},r=[],e=m.popLast()}d?i[m.lastSegment()]=g1(d):r.push(m.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());oT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Bh(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];oT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){i_(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new ba(g1(this.value))}}function eP(n){const t=[];return i_(n.fields,(e,i)=>{const r=new ys([e]);if(oT(i)){const a=eP(i.mapValue).fields;if(0===a.length)t.push(r);else for(const d of a)t.push(r.child(d))}else t.push(r)}),new ru(t)}class Sr{constructor(t,e,i,r,a,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=a,this.documentState=d}static newInvalidDocument(t){return new Sr(t,0,an.min(),an.min(),ba.empty(),0)}static newFoundDocument(t,e,i){return new Sr(t,1,e,an.min(),i,0)}static newNoDocument(t,e){return new Sr(t,2,e,an.min(),ba.empty(),0)}static newUnknownDocument(t,e){return new Sr(t,3,e,an.min(),ba.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ba.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Sr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class SB{constructor(t,e=null,i=[],r=[],a=null,d=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=d,this.endAt=m,this.ht=null}}function tP(n,t=null,e=[],i=[],r=null,a=null,d=null){return new SB(n,t,e,i,r,a,d)}function a_(n){const t=Et(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Ly(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),d1(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ly(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ly(i)).join(",")),t.ht=e}return t.ht}function m1(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!LB(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Bh(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!oP(n.startAt,t.startAt)&&oP(n.endAt,t.endAt)}function aT(n){return Dt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function lT(n,t){return n.filters.filter(e=>e instanceof wa&&e.field.isEqual(t))}function nP(n,t,e){let i=sT,r=!0;for(const a of lT(n,t)){let d=sT,m=!0;switch(a.op){case"<":case"<=":d=EB(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,m=!1;break;case"!=":case"not-in":d=sT}JR({value:i,inclusive:r},{value:d,inclusive:m})<0&&(i=d,r=m)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const d=e.position[a];JR({value:i,inclusive:r},{value:d,inclusive:e.inclusive})<0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}function iP(n,t,e){let i=pg,r=!0;for(const a of lT(n,t)){let d=pg,m=!0;switch(a.op){case">=":case">":d=xB(a.value),m=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,m=!1;break;case"!=":case"not-in":d=pg}XR({value:i,inclusive:r},{value:d,inclusive:m})>0&&(i=d,r=m)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const d=e.position[a];XR({value:i,inclusive:r},{value:d,inclusive:e.inclusive})>0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}class wa extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new NB(t,e,i):"array-contains"===e?new FB(t,i):"in"===e?new RB(t,i):"not-in"===e?new PB(t,i):"array-contains-any"===e?new kB(t,i):new wa(t,e,i)}static lt(t,e,i){return"in"===e?new MB(t,i):new OB(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(gg(e,this.value)):null!==e&&s_(this.value)===s_(e)&&this.ft(gg(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Vt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class NB extends wa{constructor(t,e,i){super(t,e,i),this.key=Dt.fromName(i.referenceValue)}matches(t){const e=Dt.comparator(t.key,this.key);return this.ft(e)}}class MB extends wa{constructor(t,e){super(t,"in",e),this.keys=rP(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class OB extends wa{constructor(t,e){super(t,"not-in",e),this.keys=rP(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function rP(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Dt.fromName(i.referenceValue))}class FB extends wa{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return p1(e)&&f1(e.arrayValue,this.value)}}class RB extends wa{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&f1(this.value.arrayValue,e)}}class PB extends wa{constructor(t,e){super(t,"not-in",e)}matches(t){if(f1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!f1(this.value.arrayValue,e)}}class kB extends wa{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!p1(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>f1(this.value.arrayValue,i))}}class mg{constructor(t,e){this.position=t,this.inclusive=e}}class Vy{constructor(t,e="asc"){this.field=t,this.dir=e}}function LB(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function sP(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],d=n.position[r];if(i=a.field.isKeyField()?Dt.comparator(Dt.fromName(d.referenceValue),e.key):gg(d,e.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function oP(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Bh(n.position[e],t.position[e]))return!1;return!0}class qf{constructor(t,e=null,i=[],r=[],a=null,d="F",m=null,y=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=d,this.startAt=m,this.endAt=y,this._t=null,this.wt=null}}function aP(n,t,e,i,r,a,d,m){return new qf(n,t,e,i,r,a,d,m)}function By(n){return new qf(n)}function lP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function VA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function BA(n){for(const t of n.filters)if(t.dt())return t.field;return null}function UA(n){return null!==n.collectionGroup}function Uy(n){const t=Et(n);if(null===t._t){t._t=[];const e=BA(t),i=VA(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new Vy(e)),t._t.push(new Vy(ys.keyField(),"asc"));else{let r=!1;for(const a of t.explicitOrderBy)t._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Vy(ys.keyField(),a))}}}return t._t}function sc(n){const t=Et(n);if(!t.wt)if("F"===t.limitType)t.wt=tP(t.path,t.collectionGroup,Uy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of Uy(t))e.push(new Vy(a.field,"desc"===a.dir?"asc":"desc"));const i=t.endAt?new mg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mg(t.startAt.position,t.startAt.inclusive):null;t.wt=tP(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function cT(n,t,e){return new qf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function _1(n,t){return m1(sc(n),sc(t))&&n.limitType===t.limitType}function cP(n){return`${a_(sc(n))}|lt:${n.limitType}`}function $A(n){return`Query(target=${function AB(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Ly(i.value)}`;var i}).join(", ")}]`),d1(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Ly(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Ly(e)).join(",")),`Target(${t})`}(sc(n))}; limitType=${n.limitType})`}function GA(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Dt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,a,d){const m=sP(r,a,d);return r.inclusive?m<=0:m<0}(e.startAt,Uy(e),i)||e.endAt&&!function(r,a,d){const m=sP(r,a,d);return r.inclusive?m>=0:m>0}(e.endAt,Uy(e),i)));var e,i}function uP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dP(n){return(t,e)=>{let i=!1;for(const r of Uy(n)){const a=VB(r,t,e);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function VB(n,t,e){const i=n.field.isKeyField()?Dt.comparator(t.key,e.key):function(r,a,d){const m=a.data.field(r),y=d.data.field(r);return null!==m&&null!==y?gg(m,y):Vt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Vt()}}function hP(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:h1(t)?"-0":t}}function fP(n){return{integerValue:""+n}}function pP(n,t){return qR(t)?fP(t):hP(n,t)}class uT{constructor(){this._=void 0}}function BB(n,t,e){return n instanceof $y?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(e,t):n instanceof l_?mP(n,t):n instanceof c_?_P(n,t):function(i,r){const a=gP(i,r),d=vP(a)+vP(i.yt);return LA(a)&&LA(i.yt)?fP(d):hP(i.It,d)}(n,t)}function UB(n,t,e){return n instanceof l_?mP(n,t):n instanceof c_?_P(n,t):e}function gP(n,t){return n instanceof Gy?LA(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class $y extends uT{}class l_ extends uT{constructor(t){super(),this.elements=t}}function mP(n,t){const e=yP(t);for(const i of n.elements)e.some(r=>Bh(r,i))||e.push(i);return{arrayValue:{values:e}}}class c_ extends uT{constructor(t){super(),this.elements=t}}function _P(n,t){let e=yP(t);for(const i of n.elements)e=e.filter(r=>!Bh(r,i));return{arrayValue:{values:e}}}class Gy extends uT{constructor(t,e){super(),this.It=t,this.yt=e}}function vP(n){return ws(n.integerValue||n.doubleValue)}function yP(n){return p1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class v1{constructor(t,e){this.field=t,this.transform=e}}class GB{constructor(t,e){this.version=t,this.transformResults=e}}class Jr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Jr}static exists(t){return new Jr(void 0,t)}static updateTime(t){return new Jr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class hT{}function bP(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new jy(n.key,Jr.none()):new Hy(n.key,n.data,Jr.none());{const e=n.data,i=ba.empty();let r=new fr(ys.comparator);for(let a of t.fields)if(!r.has(a)){let d=e.field(a);null===d&&a.length>1&&(a=a.popLast(),d=e.field(a)),null===d?i.delete(a):i.set(a,d),r=r.add(a)}return new Zf(n.key,i,new ru(r.toArray()),Jr.none())}}function HB(n,t,e){n instanceof Hy?function(i,r,a){const d=i.value.clone(),m=CP(i.fieldTransforms,r,a.transformResults);d.setAll(m),r.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Zf?function(i,r,a){if(!dT(i.precondition,r))return void r.convertToUnknownDocument(a.version);const d=CP(i.fieldTransforms,r,a.transformResults),m=r.data;m.setAll(DP(i)),m.setAll(d),r.convertToFoundDocument(a.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function y1(n,t,e,i){return n instanceof Hy?function(r,a,d,m){if(!dT(r.precondition,a))return d;const y=r.value.clone(),I=IP(r.fieldTransforms,m,a);return y.setAll(I),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,t,e,i):n instanceof Zf?function(r,a,d,m){if(!dT(r.precondition,a))return d;const y=IP(r.fieldTransforms,m,a),I=a.data;return I.setAll(DP(r)),I.setAll(y),a.convertToFoundDocument(a.version,I).setHasLocalMutations(),null===d?null:d.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(A=>A.field))}(n,t,e,i):(d=e,dT(n.precondition,a=t)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d);var a,d}function jB(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=gP(i.transform,r||null);null!=a&&(null===e&&(e=ba.empty()),e.set(i.field,a))}return e||null}function wP(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Py(e,i,(r,a)=>function $B(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof l_&&i instanceof l_||e instanceof c_&&i instanceof c_?Py(e.elements,i.elements,Bh):e instanceof Gy&&i instanceof Gy?Bh(e.yt,i.yt):e instanceof $y&&i instanceof $y);var e,i}(r,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Hy extends hT{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zf extends hT{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function DP(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function CP(n,t,e){const i=new Map;hn(n.length===e.length);for(let r=0;r<e.length;r++){const a=n[r],d=a.transform,m=t.data.field(a.field);i.set(a.field,UB(d,m,e[r]))}return i}function IP(n,t,e){const i=new Map;for(const r of n){const a=r.transform,d=e.data.field(r.field);i.set(r.field,BB(a,d,t))}return i}class jy extends hT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HA extends hT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WB{constructor(t){this.count=t}}var lo,mi;function TP(n){switch(n){default:return Vt();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function EP(n){if(void 0===n)return Ls("GRPC error has no .code"),Fe.UNKNOWN;switch(n){case lo.OK:return Fe.OK;case lo.CANCELLED:return Fe.CANCELLED;case lo.UNKNOWN:return Fe.UNKNOWN;case lo.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case lo.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case lo.INTERNAL:return Fe.INTERNAL;case lo.UNAVAILABLE:return Fe.UNAVAILABLE;case lo.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case lo.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case lo.NOT_FOUND:return Fe.NOT_FOUND;case lo.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case lo.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case lo.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case lo.ABORTED:return Fe.ABORTED;case lo.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case lo.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case lo.DATA_LOSS:return Fe.DATA_LOSS;default:return Vt()}}(mi=lo||(lo={}))[mi.OK=0]="OK",mi[mi.CANCELLED=1]="CANCELLED",mi[mi.UNKNOWN=2]="UNKNOWN",mi[mi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mi[mi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mi[mi.NOT_FOUND=5]="NOT_FOUND",mi[mi.ALREADY_EXISTS=6]="ALREADY_EXISTS",mi[mi.PERMISSION_DENIED=7]="PERMISSION_DENIED",mi[mi.UNAUTHENTICATED=16]="UNAUTHENTICATED",mi[mi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mi[mi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mi[mi.ABORTED=10]="ABORTED",mi[mi.OUT_OF_RANGE=11]="OUT_OF_RANGE",mi[mi.UNIMPLEMENTED=12]="UNIMPLEMENTED",mi[mi.INTERNAL=13]="INTERNAL",mi[mi.UNAVAILABLE=14]="UNAVAILABLE",mi[mi.DATA_LOSS=15]="DATA_LOSS";class _g{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){i_(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return jR(this.inner)}size(){return this.innerSize}}const zB=new bs(Dt.comparator);function oc(){return zB}const xP=new bs(Dt.comparator);function b1(...n){let t=xP;for(const e of n)t=t.insert(e.key,e);return t}function SP(n){let t=xP;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Uh(){return w1()}function AP(){return w1()}function w1(){return new _g(n=>n.toString(),(n,t)=>n.isEqual(t))}const qB=new bs(Dt.comparator),ZB=new fr(Dt.comparator);function On(...n){let t=ZB;for(const e of n)t=t.add(e);return t}const YB=new fr(bn);function fT(){return YB}class D1{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,C1.createSynthesizedTargetChangeForCurrentChange(t,e)),new D1(an.min(),i,fT(),oc(),On())}}class C1{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new C1(To.EMPTY_BYTE_STRING,e,On(),On(),On())}}class pT{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class NP{constructor(t,e){this.targetId=t,this.At=e}}class MP{constructor(t,e,i=To.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class OP{constructor(){this.Rt=0,this.bt=RP(),this.Pt=To.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=On(),e=On(),i=On();return this.bt.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Vt()}}),new C1(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=RP()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class KB{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=oc(),this.qt=FP(),this.Kt=new fr(bn)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:Vt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const a=r.target;if(aT(a))if(0===i){const d=new Dt(a.path);this.jt(e,d,Sr.newNoDocument(d,an.min()))}else hn(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((a,d)=>{const m=this.Xt(d);if(m){if(a.current&&aT(m.target)){const y=new Dt(m.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,Sr.newNoDocument(y,t))}a.Dt&&(e.set(d,a.xt()),a.Nt())}});let i=On();this.qt.forEach((a,d)=>{let m=!0;d.forEachWhile(y=>{const I=this.Xt(y);return!I||2===I.purpose||(m=!1,!1)}),m&&(i=i.add(a))}),this.Ut.forEach((a,d)=>d.setReadTime(t));const r=new D1(t,e,this.Kt,this.Ut,i);return this.Ut=oc(),this.qt=FP(),this.Kt=new fr(bn),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new OP,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new fr(bn),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||ot("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new OP),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function FP(){return new bs(Dt.comparator)}function RP(){return new bs(Dt.comparator)}const QB={asc:"ASCENDING",desc:"DESCENDING"},JB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class XB{constructor(t,e){this.databaseId=t,this.gt=e}}function I1(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PP(n,t){return n.gt?t.toBase64():t.toUint8Array()}function e5(n,t){return I1(n,t.toTimestamp())}function Qo(n){return hn(!!n),an.fromTimestamp(function(t){const e=hg(t);return new Qr(e.seconds,e.nanos)}(n))}function jA(n,t){return(e=n,new gi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function kP(n){const t=gi.fromString(n);return hn(WP(t)),t}function T1(n,t){return jA(n.databaseId,t.path)}function $h(n,t){const e=kP(t);if(e.get(1)!==n.databaseId.projectId)throw new et(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new et(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Dt(VP(e))}function WA(n,t){return jA(n.databaseId,t)}function LP(n){const t=kP(n);return 4===t.length?gi.emptyPath():VP(t)}function E1(n){return new gi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VP(n){return hn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function BP(n,t,e){return{name:T1(n,t),fields:e.value.mapValue.fields}}function UP(n,t,e){const i=$h(n,t.name),r=Qo(t.updateTime),a=new ba({mapValue:{fields:t.fields}}),d=Sr.newFoundDocument(i,r,a);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function x1(n,t){let e;if(t instanceof Hy)e={update:BP(n,t.key,t.value)};else if(t instanceof jy)e={delete:T1(n,t.key)};else if(t instanceof Zf)e={update:BP(n,t.key,t.data),updateMask:c5(t.fieldMask)};else{if(!(t instanceof HA))return Vt();e={verify:T1(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const d=a.transform;if(d instanceof $y)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof l_)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof c_)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gy)return{fieldPath:a.field.canonicalString(),increment:d.yt};throw Vt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:e5(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Vt()),e;var r}function zA(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Jr.updateTime(Qo(r.updateTime)):void 0!==r.exists?Jr.exists(r.exists):Jr.none():Jr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(a,d){let m=null;"setToServerValue"in d?(hn("REQUEST_TIME"===d.setToServerValue),m=new $y):"appendMissingElements"in d?m=new l_(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new c_(d.removeAllFromArray.values||[]):"increment"in d?m=new Gy(a,d.increment):Vt();const y=ys.fromServerFormat(d.fieldPath);return new v1(y,m)}(n,r)):[];var r;if(t.update){const r=$h(n,t.update.name),a=new ba({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new ru((t.updateMask.fieldPaths||[]).map(I=>ys.fromServerFormat(I)));return new Zf(r,a,d,e,i)}return new Hy(r,a,e,i)}if(t.delete){const r=$h(n,t.delete);return new jy(r,e)}if(t.verify){const r=$h(n,t.verify);return new HA(r,e)}return Vt()}function $P(n,t){return{documents:[WA(n,t.path)]}}function GP(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=WA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=WA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(y){if(0===y.length)return;const I=y.map(A=>function(F){if("=="===F.op){if(KR(F.value))return{unaryFilter:{field:Wy(F.field),op:"IS_NAN"}};if(YR(F.value))return{unaryFilter:{field:Wy(F.field),op:"IS_NULL"}}}else if("!="===F.op){if(KR(F.value))return{unaryFilter:{field:Wy(F.field),op:"IS_NOT_NAN"}};if(YR(F.value))return{unaryFilter:{field:Wy(F.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wy(F.field),op:o5(F.op),value:F.value}}}(A));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(t.filters);r&&(e.structuredQuery.where=r);const a=function(y){if(0!==y.length)return y.map(I=>{return{field:Wy((A=I).field),direction:s5(A.dir)};var A})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const d=(I=t.limit,n.gt||d1(I)?I:{value:I});var I,m,y;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(m=t.startAt).inclusive,values:m.position}),t.endAt&&(e.structuredQuery.endAt={before:!(y=t.endAt).inclusive,values:y.position}),e}function HP(n){let t=LP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){hn(1===i);const A=e.from[0];A.allDescendants?r=A.collectionId:t=t.child(A.collectionId)}let a=[];e.where&&(a=jP(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(A=>{return new Vy(zy((F=A).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let m=null;e.limit&&(m=function(A){let F;return F="object"==typeof A?A.value:A,d1(F)?null:F}(e.limit));let y=null;var A;e.startAt&&(y=new mg((A=e.startAt).values||[],!!A.before));let I=null;return e.endAt&&(I=function(A){return new mg(A.values||[],!A.before)}(e.endAt)),aP(t,r,d,a,m,"F",y,I)}function jP(n){return n?void 0!==n.unaryFilter?[l5(n)]:void 0!==n.fieldFilter?[a5(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>jP(t)).reduce((t,e)=>t.concat(e)):Vt():[]}function s5(n){return QB[n]}function o5(n){return JB[n]}function Wy(n){return{fieldPath:n.canonicalString()}}function zy(n){return ys.fromServerFormat(n.fieldPath)}function a5(n){return wa.create(zy(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(n.fieldFilter.op),n.fieldFilter.value)}function l5(n){switch(n.unaryFilter.op){case"IS_NAN":const t=zy(n.unaryFilter.field);return wa.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=zy(n.unaryFilter.field);return wa.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zy(n.unaryFilter.field);return wa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=zy(n.unaryFilter.field);return wa.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}function c5(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function WP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function yl(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=zP(t)),t=u5(n.get(e),t);return zP(t)}function u5(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function zP(n){return n+"\x01\x01"}function Gh(n){const t=n.length;if(hn(t>=2),2===t)return hn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gi.emptyPath();const e=t-2,i=[];let r="";for(let a=0;a<t;){const d=n.indexOf("\x01",a);switch((d<0||d>e)&&Vt(),n.charAt(d+1)){case"\x01":const m=n.substring(a,d);let y;0===r.length?y=m:(r+=m,y=r,r=""),i.push(y);break;case"\x10":r+=n.substring(a,d),r+="\0";break;case"\x11":r+=n.substring(a,d+1);break;default:Vt()}a=d+2}return new gi(i)}const qP=["userId","batchId"];function gT(n,t){return[n,yl(t)]}function ZP(n,t,e){return[n,yl(t),e]}const d5={},h5=["prefixPath","collectionGroup","readTime","documentId"],f5=["prefixPath","collectionGroup","documentId"],p5=["collectionGroup","readTime","prefixPath","documentId"],g5=["canonicalId","targetId"],m5=["targetId","path"],_5=["path","targetId"],v5=["collectionId","parent"],y5=["indexId","uid"],b5=["uid","sequenceNumber"],w5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],D5=["indexId","uid","orderedDocumentKey"],C5=["userId","collectionPath","documentId"],I5=["userId","collectionPath","largestBatchId"],T5=["userId","collectionGroup","largestBatchId"],YP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],E5=[...YP,"documentOverlays"],KP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QP=KP,x5=[...QP,"indexConfiguration","indexState","indexEntries"];class qA extends $R{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Jo(n,t){const e=Et(n);return Ld.O(e.ie,t)}class ZA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&HB(a,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=y1(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=y1(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=AP();return this.mutations.forEach(r=>{const a=t.get(r.key),d=a.overlayedDocument;let m=this.applyToLocalView(d,a.mutatedFields);m=e.has(r.key)?null:m;const y=bP(d,m);null!==y&&i.set(r.key,y),d.isValidDocument()||d.convertToNoDocument(an.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),On())}isEqual(t){return this.batchId===t.batchId&&Py(this.mutations,t.mutations,(e,i)=>wP(e,i))&&Py(this.baseMutations,t.baseMutations,(e,i)=>wP(e,i))}}class YA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){hn(t.mutations.length===i.length);let r=qB;const a=t.mutations;for(let d=0;d<a.length;d++)r=r.insert(a[d].key,i[d].version);return new YA(t,e,i,r)}}class KA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vg{constructor(t,e,i,r,a=an.min(),d=an.min(),m=To.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(t){return new vg(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new vg(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new vg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class JP{constructor(t){this.re=t}}function XP(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:mT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:T1(r=n.re,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:I1(r,a.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:u_(t.version)};else{if(!t.isUnknownDocument())return Vt();i.unknownDocument={path:e.path.toArray(),version:u_(t.version)}}var r,a;return i}function mT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function u_(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function d_(n){const t=new Qr(n.seconds,n.nanoseconds);return an.fromTimestamp(t)}function h_(n,t){const e=(t.baseMutations||[]).map(a=>zA(n.re,a));for(let a=0;a<t.mutations.length-1;++a){const d=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(d.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const i=t.mutations.map(a=>zA(n.re,a)),r=Qr.fromMillis(t.localWriteTimeMs);return new ZA(t.batchId,r,e,i)}function S1(n){const t=d_(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?d_(n.lastLimboFreeSnapshotVersion):an.min();let i;var r;return void 0!==n.query.documents?(hn(1===(r=n.query).documents.length),i=sc(By(LP(r.documents[0])))):i=sc(HP(n.query)),new vg(i,n.targetId,0,n.lastListenSequenceNumber,t,e,To.fromBase64String(n.resumeToken))}function ek(n,t){const e=u_(t.snapshotVersion),i=u_(t.lastLimboFreeSnapshotVersion);let r;r=aT(t.target)?$P(n.re,t.target):GP(n.re,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:a_(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function QA(n){const t=HP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?cT(t,t.limit,"L"):t}function JA(n,t){return new KA(t.largestBatchId,zA(n.re,t.overlayMutation))}function tk(n,t){const e=t.path.lastSegment();return[n,yl(t.path.popLast()),e]}function nk(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:u_(i.readTime),documentKey:yl(i.documentKey.path),largestBatchId:i.largestBatchId}}class A5{getBundleMetadata(t,e){return ik(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:d_(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return ik(t).put({bundleId:(i=e).id,createTime:u_(Qo(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return rk(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:QA(r.bundledQuery),readTime:d_(r.readTime)};var r})}saveNamedQuery(t,e){return rk(t).put({name:(i=e).name,readTime:u_(Qo(i.readTime)),bundledQuery:i.bundledQuery});var i}}function ik(n){return Jo(n,"bundles")}function rk(n){return Jo(n,"namedQueries")}class _T{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new _T(t,e.uid||"")}getOverlay(t,e){return A1(t).get(tk(this.userId,e)).next(i=>i?JA(this.It,i):null)}getOverlays(t,e){const i=Uh();return xe.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((a,d)=>{const m=new KA(e,d);r.push(this.ue(t,m))}),xe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(d=>r.add(yl(d.getCollectionPath())));const a=[];return r.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);a.push(A1(t).Y("collectionPathOverlayIndex",m))}),xe.waitFor(a)}getOverlaysForCollection(t,e,i){const r=Uh(),a=yl(e),d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return A1(t).W("collectionPathOverlayIndex",d).next(m=>{for(const y of m){const I=JA(this.It,y);r.set(I.getKey(),I)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const a=Uh();let d;const m=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return A1(t).Z({index:"collectionGroupOverlayIndex",range:m},(y,I,A)=>{const F=JA(this.It,I);a.size()<r||F.largestBatchId===d?(a.set(F.getKey(),F),d=F.largestBatchId):A.done()}).next(()=>a)}ue(t,e){return A1(t).put(function(i,r,a){const[d,m,y]=tk(r,a.mutation.key);return{userId:r,collectionPath:m,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:x1(i.re,a.mutation)}}(this.It,this.userId,e))}}function A1(n){return Jo(n,"documentOverlays")}class f_{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(ws(t.integerValue));else if("doubleValue"in t){const i=ws(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),h1(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(r_(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?QR(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):Vt()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),Dt.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function N5(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function sk(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const a=N5(255&e[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(t/8)}f_.Te=new f_;class M5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=sk(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=sk(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class O5{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class F5{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class N1{constructor(){this.Be=new M5,this.Le=new O5(this.Be),this.Ue=new F5(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class p_{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new p_(this.indexId,this.documentKey,this.arrayValue,i)}}function g_(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=ok(n.arrayValue,t.arrayValue),0!==e?e:(e=ok(n.directionalValue,t.directionalValue),0!==e?e:Dt.comparator(n.documentKey,t.documentKey)))}function ok(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class R5{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=MA(t);if(void 0!==e&&!this.ze(e))return!1;const i=t_(t);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const d=i[r];if(!this.He(this.je,d)||!this.Je(this.Ge[a++],d))return!1;++r}for(;r<i.length;++r){const d=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],d))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class P5{constructor(){this.Ye=new XA}addToCollectionParentIndex(t,e){return this.Ye.add(e),xe.resolve()}getCollectionParents(t,e){return xe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return xe.resolve()}deleteFieldIndex(t,e){return xe.resolve()}getDocumentsMatchingTarget(t,e){return xe.resolve(null)}getIndexType(t,e){return xe.resolve(0)}getFieldIndexes(t,e){return xe.resolve([])}getNextCollectionGroupToUpdate(t){return xe.resolve(null)}getMinOffset(t,e){return xe.resolve(iu.min())}getMinOffsetFromCollectionGroup(t,e){return xe.resolve(iu.min())}updateCollectionGroup(t,e,i){return xe.resolve()}updateIndexEntries(t,e){return xe.resolve()}}class XA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new fr(gi.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new fr(gi.comparator)).toArray()}}const vT=new Uint8Array(0);class k5{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new XA,this.Ze=new _g(i=>a_(i),(i,r)=>m1(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const a={collectionId:i,parent:yl(r)};return ak(t).put(a)}return xe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[LR(e),""],!1,!0);return ak(t).W(r).next(a=>{for(const d of a){if(d.collectionId!==e)break;i.push(Gh(d.parent))}return i})}addFieldIndex(t,e){const i=yT(t),r={indexId:(d=e).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete r.indexId;const a=i.add(r);if(e.indexState){const d=O1(t);return a.next(m=>{d.put(nk(m,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return a.next()}deleteFieldIndex(t,e){const i=yT(t),r=O1(t),a=M1(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=M1(t);let r=!0;const a=new Map;return xe.forEach(this.tn(e),d=>this.en(t,d).next(m=>{r&&(r=!!m),a.set(d,m)})).next(()=>{if(r){let d=On();const m=[];return xe.forEach(a,(y,I)=>{var A;ot("IndexedDbIndexManager",`Using index ${A=y,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(Ft=>`${Ft.fieldPath}:${Ft.kind}`).join(",")}`} to execute ${a_(e)}`);const F=function(Ft,_t){const vt=MA(_t);if(void 0===vt)return null;for(const At of lT(Ft,vt.fieldPath))switch(At.op){case"array-contains-any":return At.value.arrayValue.values||[];case"array-contains":return[At.value]}return null}(I,y),W=function(Ft,_t){const vt=new Map;for(const At of t_(_t))for(const fn of lT(Ft,At.fieldPath))switch(fn.op){case"==":case"in":vt.set(At.fieldPath.canonicalString(),fn.value);break;case"not-in":case"!=":return vt.set(At.fieldPath.canonicalString(),fn.value),Array.from(vt.values())}return null}(I,y),K=function(Ft,_t){const vt=[];let At=!0;for(const fn of t_(_t)){const ii=0===fn.kind?nP(Ft,fn.fieldPath,Ft.startAt):iP(Ft,fn.fieldPath,Ft.startAt);vt.push(ii.value),At&&(At=ii.inclusive)}return new mg(vt,At)}(I,y),he=function(Ft,_t){const vt=[];let At=!0;for(const fn of t_(_t)){const ii=0===fn.kind?iP(Ft,fn.fieldPath,Ft.endAt):nP(Ft,fn.fieldPath,Ft.endAt);vt.push(ii.value),At&&(At=ii.inclusive)}return new mg(vt,At)}(I,y),we=this.nn(y,I,K),Pe=this.nn(y,I,he),pt=this.sn(y,I,W),gt=this.rn(y.indexId,F,we,K.inclusive,Pe,he.inclusive,pt);return xe.forEach(gt,Ft=>i.J(Ft,e.limit).next(_t=>{_t.forEach(vt=>{const At=Dt.fromSegments(vt.documentKey);d.has(At)||(d=d.add(At),m.push(At))})}))}).next(()=>m)}return xe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,a,d,m){const y=(null!=e?e.length:1)*Math.max(i.length,a.length),I=y/(null!=e?e.length:1),A=[];for(let F=0;F<y;++F){const W=e?this.on(e[F/I]):vT,K=this.un(t,W,i[F%I],r),he=this.cn(t,W,a[F%I],d),we=m.map(Pe=>this.un(t,W,Pe,!0));A.push(...this.createRange(K,he,we))}return A}un(t,e,i,r){const a=new p_(t,Dt.empty(),e,i);return r?a:a.Ke()}cn(t,e,i,r){const a=new p_(t,Dt.empty(),e,i);return r?a.Ke():a}en(t,e){const i=new R5(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(a=>{let d=null;for(const m of a)i.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(t,e){let i=2;return xe.forEach(this.tn(e),r=>this.en(t,r).next(a=>{a?0!==i&&a.fields.length<function(d){let m=new fr(ys.comparator),y=!1;for(const I of d.filters){const A=I;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?y=!0:m=m.add(A.field))}for(const I of d.orderBy)I.field.isKeyField()||(m=m.add(I.field));return m.size+(y?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new N1;for(const r of t_(t)){const a=e.data.field(r.fieldPath);if(null==a)return null;const d=i.qe(r.kind);f_.Te.ce(a,d)}return i.$e()}on(t){const e=new N1;return f_.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new N1;return f_.Te.ce(o_(this.databaseId,e),i.qe(function(r){const a=t_(r);return 0===a.length?0:a[a.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new N1);let a=0;for(const d of t_(t)){const m=i[a++];for(const y of r)if(this.ln(e,d.fieldPath)&&p1(m))r=this.fn(r,d,m);else{const I=y.qe(d.kind);f_.Te.ce(m,I)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],a=[];for(const d of i.arrayValue.values||[])for(const m of r){const y=new N1;y.seed(m.$e()),f_.Te.ce(d,y.qe(e.kind)),a.push(y)}return a}ln(t,e){return!!t.filters.find(i=>i instanceof wa&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=yT(t),r=O1(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(a=>{const d=[];return xe.forEach(a,m=>r.get([m.indexId,this.uid]).next(y=>{d.push(function(I,A){const F=A?new l1(A.sequenceNumber,new iu(d_(A.readTime),new Dt(Gh(A.documentKey)),A.largestBatchId)):l1.empty(),W=I.fields.map(([K,he])=>new nT(ys.fromServerFormat(K),he));return new tT(I.indexId,I.collectionGroup,W,F)}(m,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:bn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=yT(t),a=O1(t);return this._n(t).next(d=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(m=>xe.forEach(m,y=>a.put(nk(y.indexId,this.user,d,i)))))}updateIndexEntries(t,e){const i=new Map;return xe.forEach(e,(r,a)=>{const d=i.get(r.collectionGroup);return(d?xe.resolve(d):this.getFieldIndexes(t,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),xe.forEach(m,y=>this.wn(t,r,y).next(I=>{const A=this.mn(a,y);return I.isEqual(A)?xe.resolve():this.gn(t,a,y,I,A)}))))})}yn(t,e,i,r){return M1(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return M1(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=M1(t);let a=new fr(g_);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(d,m)=>{a=a.add(new p_(i.indexId,e,m.arrayValue,m.directionalValue))}).next(()=>a)}mn(t,e){let i=new fr(g_);const r=this.an(e,t);if(null==r)return i;const a=MA(e);if(null!=a){const d=t.data.field(a.fieldPath);if(p1(d))for(const m of d.arrayValue.values||[])i=i.add(new p_(e.indexId,t.key,this.on(m),r))}else i=i.add(new p_(e.indexId,t.key,vT,r));return i}gn(t,e,i,r,a){ot("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const d=[];return function(m,y,I,A,F){const W=m.getIterator(),K=y.getIterator();let he=ky(W),we=ky(K);for(;he||we;){let Pe=!1,pt=!1;if(he&&we){const gt=I(he,we);gt<0?pt=!0:gt>0&&(Pe=!0)}else null!=he?pt=!0:Pe=!0;Pe?(A(we),we=ky(K)):pt?(F(he),he=ky(W)):(he=ky(W),we=ky(K))}}(r,a,g_,m=>{d.push(this.yn(t,e,i,m))},m=>{d.push(this.pn(t,e,i,m))}),xe.waitFor(d)}_n(t){let e=1;return O1(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((d,m)=>g_(d,m)).filter((d,m,y)=>!m||0!==g_(d,y[m-1]));const r=[];r.push(t);for(const d of i){const m=g_(d,t),y=g_(d,e);if(0===m)r[0]=t.Ke();else if(m>0&&y<0)r.push(d),r.push(d.Ke());else if(y>0)break}r.push(e);const a=[];for(let d=0;d<r.length;d+=2)a.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,vT,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,vT,[]]));return a}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(lk)}getMinOffset(t,e){return xe.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||Vt())).next(lk)}}function ak(n){return Jo(n,"collectionParents")}function M1(n){return Jo(n,"indexEntries")}function yT(n){return Jo(n,"indexConfiguration")}function O1(n){return Jo(n,"indexState")}function lk(n){hn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;OA(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new iu(t.readTime,t.documentKey,e)}const ck={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ac{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ac(t,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uk(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],d=IDBKeyRange.only(e.batchId);let m=0;const y=i.Z({range:d},(A,F,W)=>(m++,W.delete()));a.push(y.next(()=>{hn(1===m)}));const I=[];for(const A of e.mutations){const F=ZP(t,A.key.path,e.batchId);a.push(r.delete(F)),I.push(A.key)}return xe.waitFor(a).next(()=>I)}function bT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Vt();t=n.noDocument}return JSON.stringify(t).length}ac.DEFAULT_COLLECTION_PERCENTILE=10,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ac.DEFAULT=new ac(41943040,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ac.DISABLED=new ac(-1,0,0);class wT{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){hn(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new wT(a,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yg(t).Z({index:"userMutationsIndex",range:i},(r,a,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const a=qy(t),d=yg(t);return d.add({}).next(m=>{hn("number"==typeof m);const y=new ZA(m,e,i,r),I=function(W,K,he){const we=he.baseMutations.map(pt=>x1(W.re,pt)),Pe=he.mutations.map(pt=>x1(W.re,pt));return{userId:K,batchId:he.batchId,localWriteTimeMs:he.localWriteTime.toMillis(),baseMutations:we,mutations:Pe}}(this.It,this.userId,y),A=[];let F=new fr((W,K)=>bn(W.canonicalString(),K.canonicalString()));for(const W of r){const K=ZP(this.userId,W.key.path,m);F=F.add(W.key.path.popLast()),A.push(d.put(I)),A.push(a.put(K,d5))}return F.forEach(W=>{A.push(this.indexManager.addToCollectionParentIndex(t,W))}),t.addOnCommittedListener(()=>{this.In[m]=y.keys()}),xe.waitFor(A).next(()=>y)})}lookupMutationBatch(t,e){return yg(t).get(e).next(i=>i?(hn(i.userId===this.userId),h_(this.It,i)):null)}Tn(t,e){return this.In[e]?xe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return yg(t).Z({index:"userMutationsIndex",range:r},(d,m,y)=>{m.userId===this.userId&&(hn(m.batchId>=i),a=h_(this.It,m)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return yg(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,a,d)=>{i=a.batchId,d.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yg(t).W("userMutationsIndex",e).next(i=>i.map(r=>h_(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=gT(this.userId,e.path),r=IDBKeyRange.lowerBound(i),a=[];return qy(t).Z({range:r},(d,m,y)=>{const[I,A,F]=d,W=Gh(A);if(I===this.userId&&e.path.isEqual(W))return yg(t).get(F).next(K=>{if(!K)throw Vt();hn(K.userId===this.userId),a.push(h_(this.It,K))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new fr(bn);const r=[];return e.forEach(a=>{const d=gT(this.userId,a.path),m=IDBKeyRange.lowerBound(d),y=qy(t).Z({range:m},(I,A,F)=>{const[W,K,he]=I,we=Gh(K);W===this.userId&&a.path.isEqual(we)?i=i.add(he):F.done()});r.push(y)}),xe.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,a=gT(this.userId,i),d=IDBKeyRange.lowerBound(a);let m=new fr(bn);return qy(t).Z({range:d},(y,I,A)=>{const[F,W,K]=y,he=Gh(W);F===this.userId&&i.isPrefixOf(he)?he.length===r&&(m=m.add(K)):A.done()}).next(()=>this.En(t,m))}En(t,e){const i=[],r=[];return e.forEach(a=>{r.push(yg(t).get(a).next(d=>{if(null===d)throw Vt();hn(d.userId===this.userId),i.push(h_(this.It,d))}))}),xe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return uk(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),xe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return xe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return qy(t).Z({range:i},(a,d,m)=>{if(a[0]===this.userId){const y=Gh(a[1]);r.push(y)}else m.done()}).next(()=>{hn(0===r.length)})})}containsKey(t,e){return dk(t,this.userId,e)}Rn(t){return hk(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function dk(n,t,e){const i=gT(t,e.path),r=i[1],a=IDBKeyRange.lowerBound(i);let d=!1;return qy(n).Z({range:a,X:!0},(m,y,I)=>{const[A,F,W]=m;A===t&&F===r&&(d=!0),I.done()}).next(()=>d)}function yg(n){return Jo(n,"mutations")}function qy(n){return Jo(n,"documentMutations")}function hk(n){return Jo(n,"mutationQueues")}class m_{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new m_(0)}static vn(){return new m_(-1)}}class L5{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new m_(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>an.fromTimestamp(new Qr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Zy(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(hn(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const a=[];return Zy(t).Z((d,m)=>{const y=S1(m);y.sequenceNumber<=e&&null===i.get(y.targetId)&&(r++,a.push(this.removeTargetData(t,y)))}).next(()=>xe.waitFor(a)).next(()=>r)}forEachTarget(t,e){return Zy(t).Z((i,r)=>{const a=S1(r);e(a)})}Vn(t){return fk(t).get("targetGlobalKey").next(e=>(hn(null!==e),e))}Sn(t,e){return fk(t).put("targetGlobalKey",e)}Dn(t,e){return Zy(t).put(ek(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=a_(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Zy(t).Z({range:r,index:"queryTargetsIndex"},(d,m,y)=>{const I=S1(m);m1(e,I.target)&&(a=I,y.done())}).next(()=>a)}addMatchingKeys(t,e,i){const r=[],a=bg(t);return e.forEach(d=>{const m=yl(d.path);r.push(a.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(t,i,d))}),xe.waitFor(r)}removeMatchingKeys(t,e,i){const r=bg(t);return xe.forEach(e,a=>{const d=yl(a.path);return xe.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(t,i,a)])})}removeMatchingKeysForTargetId(t,e){const i=bg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=bg(t);let a=On();return r.Z({range:i,X:!0},(d,m,y)=>{const I=Gh(d[1]),A=new Dt(I);a=a.add(A)}).next(()=>a)}containsKey(t,e){const i=yl(e.path),r=IDBKeyRange.bound([i],[LR(i)],!1,!0);let a=0;return bg(t).Z({index:"documentTargetsIndex",X:!0,range:r},([d,m],y,I)=>{0!==d&&(a++,I.done())}).next(()=>a>0)}se(t,e){return Zy(t).get(e).next(i=>i?S1(i):null)}}function Zy(n){return Jo(n,"targets")}function fk(n){return Jo(n,"targetGlobal")}function bg(n){return Jo(n,"targetDocuments")}function pk([n,t],[e,i]){const r=bn(n,e);return 0===r?bn(t,i):r}class V5{constructor(t){this.xn=t,this.buffer=new fr(pk),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();pk(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class B5{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;ot("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Be.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){dg(i)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ug(i)}yield e.Fn(3e5)}))}}class U5{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return xe.resolve(rc.at);const i=new V5(e);return this.$n.forEachTarget(t,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(ck)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ck):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,a,d,m,y,I;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(F=>(F>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${F}`),r=this.params.maximumSequenceNumbersToCollect):r=F,d=Date.now(),this.nthSequenceNumber(t,r))).next(F=>(i=F,m=Date.now(),this.removeTargets(t,i,e))).next(F=>(a=F,y=Date.now(),this.removeOrphanedDocuments(t,i))).next(F=>(I=Date.now(),AA()<=og.in.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${r} in `+(m-d)+`ms\n\tRemoved ${a} targets in `+(y-m)+`ms\n\tRemoved ${F} documents in `+(I-y)+`ms\nTotal Duration: ${I-A}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:F})))}}class $5{constructor(t,e){this.db=t,this.garbageCollector=new U5(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return DT(t,i)}removeReference(t,e,i){return DT(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return DT(t,e)}Gn(t,e){return function(i,r){let a=!1;return hk(i).tt(d=>dk(i,d,r).next(m=>(m&&(a=!0),xe.resolve(!m)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(t,(d,m)=>{if(m<=e){const y=this.Gn(t,d).next(I=>{if(!I)return a++,i.getEntry(t,d).next(()=>(i.removeEntry(d,an.min()),bg(t).delete([0,yl(d.path)])))});r.push(y)}}).next(()=>xe.waitFor(r)).next(()=>i.apply(t)).next(()=>a)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return DT(t,e)}Kn(t,e){const i=bg(t);let r,a=rc.at;return i.Z({index:"documentTargetsIndex"},([d,m],{path:y,sequenceNumber:I})=>{0===d?(a!==rc.at&&e(new Dt(Gh(r)),a),a=I,r=y):a=rc.at}).next(()=>{a!==rc.at&&e(new Dt(Gh(r)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function DT(n,t){return bg(n).put((i=n.currentSequenceNumber,{targetId:0,path:yl(t.path),sequenceNumber:i}));var i}class gk{constructor(){this.changes=new _g(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?xe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class G5{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return __(t).put(i)}removeEntry(t,e,i){return __(t).delete(function(r,a){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],mT(a),d[d.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Sr.newInvalidDocument(e);return __(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(F1(e))},(r,a)=>{i=this.jn(e,a)}).next(()=>i)}Wn(t,e){let i={size:0,document:Sr.newInvalidDocument(e)};return __(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(F1(e))},(r,a)=>{i={document:this.jn(e,a),size:bT(a)}}).next(()=>i)}getEntries(t,e){let i=oc();return this.zn(t,e,(r,a)=>{const d=this.jn(r,a);i=i.insert(r,d)}).next(()=>i)}Hn(t,e){let i=oc(),r=new bs(Dt.comparator);return this.zn(t,e,(a,d)=>{const m=this.jn(a,d);i=i.insert(a,m),r=r.insert(a,bT(d))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return xe.resolve();let r=new fr(yk);e.forEach(y=>r=r.add(y));const a=IDBKeyRange.bound(F1(r.first()),F1(r.last())),d=r.getIterator();let m=d.getNext();return __(t).Z({index:"documentKeyIndex",range:a},(y,I,A)=>{const F=Dt.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;m&&yk(m,F)<0;)i(m,null),m=d.getNext();m&&m.isEqual(F)&&(i(m,I),m=d.hasNext()?d.getNext():null),m?A.j(F1(m)):A.done()}).next(()=>{for(;m;)i(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),mT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return __(t).W(IDBKeyRange.bound(r,a,!0)).next(d=>{let m=oc();for(const y of d){const I=this.jn(Dt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);m=m.insert(I.key,I)}return m})}getAllFromCollectionGroup(t,e,i,r){let a=oc();const d=vk(e,i),m=vk(e,iu.max());return __(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(y,I,A)=>{const F=this.jn(Dt.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);a=a.insert(F.key,F),a.size===r&&A.done()}).next(()=>a)}newChangeBuffer(t){return new H5(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return _k(t).get("remoteDocumentGlobalKey").next(e=>(hn(!!e),e))}Qn(t,e){return _k(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function S5(n,t){let e;if(t.document)e=UP(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Dt.fromSegments(t.noDocument.path),r=d_(t.noDocument.readTime);e=Sr.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Vt();{const i=Dt.fromSegments(t.unknownDocument.path),r=d_(t.unknownDocument.version);e=Sr.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Qr(i[0],i[1]);return an.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(an.min()))return i}return Sr.newInvalidDocument(t)}}function mk(n){return new G5(n)}class H5 extends gk{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new _g(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new fr((a,d)=>bn(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const m=this.Xn.get(a);if(e.push(this.Yn.removeEntry(t,a,m.readTime)),d.isValidDocument()){const y=XP(this.Yn.It,d);r=r.add(a.path.popLast()),i+=bT(y)-m.size,e.push(this.Yn.addEntry(t,a,y))}else if(i-=m.size,this.trackRemovals){const y=XP(this.Yn.It,d.convertToNoDocument(an.min()));e.push(this.Yn.addEntry(t,a,y))}}),r.forEach(a=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.Yn.updateMetadata(t,i)),xe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((a,d)=>{this.Xn.set(a,{size:d,readTime:i.get(a).readTime})}),i))}}function _k(n){return Jo(n,"remoteDocumentGlobal")}function __(n){return Jo(n,"remoteDocumentsV14")}function F1(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function vk(n,t){const e=t.documentKey.path.toArray();return[n,mT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function yk(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let a=0;a<e.length-2&&a<i.length-2;++a)if(r=bn(e[a],i[a]),r)return r;return r=bn(e.length,i.length),r||(r=bn(e[e.length-2],i[i.length-2]),r||bn(e[e.length-1],i[i.length-1]))}class j5{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class bk{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&y1(i.mutation,r,ru.empty(),Qr.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,On()).next(()=>i))}getLocalViewOfDocuments(t,e,i=On()){const r=Uh();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(a=>{let d=b1();return a.forEach((m,y)=>{d=d.insert(m,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const i=Uh();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,On()))}populateOverlays(t,e,i){const r=[];return i.forEach(a=>{e.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((d,m)=>{e.set(d,m)})})}computeViews(t,e,i,r){let a=oc();const d=w1(),m=w1();return e.forEach((y,I)=>{const A=i.get(I.key);r.has(I.key)&&(void 0===A||A.mutation instanceof Zf)?a=a.insert(I.key,I):void 0!==A&&(d.set(I.key,A.mutation.getFieldMask()),y1(A.mutation,I,A.mutation.getFieldMask(),Qr.now()))}),this.recalculateAndSaveOverlays(t,a).next(y=>(y.forEach((I,A)=>d.set(I,A)),e.forEach((I,A)=>{var F;return m.set(I,new j5(A,null!==(F=d.get(I))&&void 0!==F?F:null))}),m))}recalculateAndSaveOverlays(t,e){const i=w1();let r=new bs((d,m)=>d-m),a=On();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const m of d)m.keys().forEach(y=>{const I=e.get(y);if(null===I)return;let A=i.get(y)||ru.empty();A=m.applyToLocalView(I,A),i.set(y,A);const F=(r.get(m.batchId)||On()).add(y);r=r.insert(m.batchId,F)})}).next(()=>{const d=[],m=r.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),I=y.key,A=y.value,F=AP();A.forEach(W=>{if(!a.has(W)){const K=bP(e.get(W),i.get(W));null!==K&&F.set(W,K),a=a.add(W)}}),d.push(this.documentOverlayCache.saveOverlays(t,I,F))}return xe.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Dt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):UA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(a=>{const d=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-a.size):xe.resolve(Uh());let m=-1,y=a;return d.next(I=>xe.forEach(I,(A,F)=>(m<F.largestBatchId&&(m=F.largestBatchId),a.get(A)?xe.resolve():this.getBaseDocument(t,A,F).next(W=>{y=y.insert(A,W)}))).next(()=>this.populateOverlays(t,I,a)).next(()=>this.computeViews(t,y,I,On())).next(A=>({batchId:m,changes:SP(A)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Dt(e)).next(i=>{let r=b1();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let a=b1();return this.indexManager.getCollectionParents(t,r).next(d=>xe.forEach(d,m=>{const y=(I=e,A=m.child(r),new qf(A,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,A;return this.getDocumentsMatchingCollectionQuery(t,y,i).next(I=>{I.forEach((A,F)=>{a=a.insert(A,F)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(a=>{a.forEach((m,y)=>{const I=y.getKey();null===r.get(I)&&(r=r.insert(I,Sr.newInvalidDocument(I)))});let d=b1();return r.forEach((m,y)=>{const I=a.get(m);void 0!==I&&y1(I.mutation,y,ru.empty(),Qr.now()),GA(e,y)&&(d=d.insert(m,y))}),d})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):xe.resolve(Sr.newInvalidDocument(e))}}class W5{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return xe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Qo(i.createTime)}),xe.resolve()}getNamedQuery(t,e){return xe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:QA(i.bundledQuery),readTime:Qo(i.readTime)}),xe.resolve();var i}}class z5{constructor(){this.overlays=new bs(Dt.comparator),this.es=new Map}getOverlay(t,e){return xe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Uh();return xe.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,a)=>{this.ue(t,e,a)}),xe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),xe.resolve()}getOverlaysForCollection(t,e,i){const r=Uh(),a=e.length+1,d=new Dt(e.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,I=y.getKey();if(!e.isPrefixOf(I.path))break;I.path.length===a&&y.largestBatchId>i&&r.set(y.getKey(),y)}return xe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new bs((I,A)=>I-A);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===e&&I.largestBatchId>i){let A=a.get(I.largestBatchId);null===A&&(A=Uh(),a=a.insert(I.largestBatchId,A)),A.set(I.getKey(),I)}}const m=Uh(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((I,A)=>m.set(I,A)),!(m.size()>=r)););return xe.resolve(m)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new KA(e,i));let a=this.es.get(e);void 0===a&&(a=On(),this.es.set(e,a)),this.es.set(e,a.add(i.key))}}class eN{constructor(){this.ns=new fr(Xo.ss),this.rs=new fr(Xo.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Xo(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Xo(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Dt(new gi([])),i=new Xo(e,t),r=new Xo(e,t+1),a=[];return this.rs.forEachInRange([i,r],d=>{this.cs(d),a.push(d.key)}),a}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Dt(new gi([])),i=new Xo(e,t),r=new Xo(e,t+1);let a=On();return this.rs.forEachInRange([i,r],d=>{a=a.add(d.key)}),a}containsKey(t){const e=new Xo(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Xo{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Dt.comparator(t.key,e.key)||bn(t._s,e._s)}static os(t,e){return bn(t._s,e._s)||Dt.comparator(t.key,e.key)}}class q5{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new fr(Xo.ss)}checkEmpty(t){return xe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const a=this.ws;this.ws++;const d=new ZA(a,e,i,r);this.mutationQueue.push(d);for(const m of r)this.gs=this.gs.add(new Xo(m.key,a)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return xe.resolve(d)}lookupMutationBatch(t,e){return xe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),a=r<0?0:r;return xe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Xo(e,0),r=new Xo(e,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],d=>{const m=this.ys(d._s);a.push(m)}),xe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new fr(bn);return e.forEach(r=>{const a=new Xo(r,0),d=new Xo(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,d],m=>{i=i.add(m._s)})}),xe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;Dt.isDocumentKey(a)||(a=a.child(""));const d=new Xo(new Dt(a),0);let m=new fr(bn);return this.gs.forEachWhile(y=>{const I=y.key.path;return!!i.isPrefixOf(I)&&(I.length===r&&(m=m.add(y._s)),!0)},d),xe.resolve(this.Is(m))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){hn(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return xe.forEach(e.mutations,r=>{const a=new Xo(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Xo(e,0),r=this.gs.firstAfterOrEqual(i);return xe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return xe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Z5{constructor(t){this.Es=t,this.docs=new bs(Dt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,d=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return xe.resolve(i?i.document.mutableCopy():Sr.newInvalidDocument(e))}getEntries(t,e){let i=oc();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Sr.newInvalidDocument(r))}),xe.resolve(i)}getAllFromCollection(t,e,i){let r=oc();const a=new Dt(e.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!e.isPrefixOf(m.path))break;m.path.length>e.length+1||OA(BR(y),i)<=0||(r=r.insert(y.key,y.mutableCopy()))}return xe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){Vt()}As(t,e){return xe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Y5(this)}getSize(t){return xe.resolve(this.size)}}class Y5 extends gk{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),xe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class K5{constructor(t){this.persistence=t,this.Rs=new _g(e=>a_(e),m1),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.bs=0,this.Ps=new eN,this.targetCount=0,this.vs=m_.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),xe.resolve()}getLastRemoteSnapshotVersion(t){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return xe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),xe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new m_(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,xe.resolve()}updateTargetData(t,e){return this.Dn(e),xe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,xe.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=e&&null===i.get(m.targetId)&&(this.Rs.delete(d),a.push(this.removeMatchingKeysForTargetId(t,m.targetId)),r++)}),xe.waitFor(a).next(()=>r)}getTargetCount(t){return xe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return xe.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),xe.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(d=>{a.push(r.markPotentiallyOrphaned(t,d))}),xe.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),xe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return xe.resolve(i)}containsKey(t,e){return xe.resolve(this.Ps.containsKey(e))}}class wk{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new rc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new K5(this),this.indexManager=new P5,this.remoteDocumentCache=new Z5(i=>this.referenceDelegate.xs(i)),this.It=new JP(e),this.Ns=new W5(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new z5,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new q5(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){ot("MemoryPersistence","Starting transaction:",t);const r=new Q5(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(t,e){return xe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class Q5 extends $R{constructor(t){super(),this.currentSequenceNumber=t}}class CT{constructor(t){this.persistence=t,this.Fs=new eN,this.$s=null}static Bs(t){return new CT(t)}get Ls(){if(this.$s)return this.$s;throw Vt()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),xe.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),xe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),xe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Ls,i=>{const r=Dt.fromPath(i);return this.Us(t,r).next(a=>{a||e.removeEntry(r,an.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return xe.or([()=>xe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class J5{constructor(t){this.It=t}$(t,e,i,r){const a=new iT("createOrUpgrade",e);var m;i<1&&r>=1&&(t.createObjectStore("owner"),(m=t).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qP,{unique:!0}),m.createObjectStore("documentMutations"),Dk(t),function(m){m.createObjectStore("remoteDocuments")}(t));let d=xe.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(t),Dk(t)),d=d.next(()=>function(m){const y=m.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:an.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",I)}(a))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(m,y){return y.store("mutations").W().next(I=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qP,{unique:!0});const A=y.store("mutations"),F=I.map(W=>A.put(W));return xe.waitFor(F)})}(t,a))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(d=d.next(()=>this.qs(a))),i<6&&r>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(a)))),i<7&&r>=7&&(d=d.next(()=>this.Gs(a))),i<8&&r>=8&&(d=d.next(()=>this.Qs(t,a))),i<9&&r>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(d=d.next(()=>this.js(a))),i<11&&r>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(d=d.next(()=>{!function(m){const y=m.createObjectStore("documentOverlays",{keyPath:C5});y.createIndex("collectionPathOverlayIndex",I5,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",T5,{unique:!1})}(t)})),i<13&&r>=13&&(d=d.next(()=>function(m){const y=m.createObjectStore("remoteDocumentsV14",{keyPath:h5});y.createIndex("documentKeyIndex",f5),y.createIndex("collectionGroupIndex",p5)}(t)).next(()=>this.Ws(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>this.zs(t,a))),i<15&&r>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:y5}).createIndex("sequenceNumberIndex",b5,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:w5}).createIndex("documentKeyIndex",D5,{unique:!1})}(t))),d}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=bT(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>xe.forEach(r,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",d).next(m=>xe.forEach(m,y=>{hn(y.userId===a.userId);const I=h_(this.It,y);return uk(t,a.userId,I).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((d,m)=>{const y=new gi(d),I=[0,yl(y)];a.push(e.get(I).next(A=>A?xe.resolve():e.put({targetId:0,path:yl(y),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>xe.waitFor(a))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:v5});const i=e.store("collectionParents"),r=new XA,a=d=>{if(r.add(d)){const m=d.lastSegment(),y=d.popLast();return i.put({collectionId:m,parent:yl(y)})}};return e.store("remoteDocuments").Z({X:!0},(d,m)=>{const y=new gi(d);return a(y.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([d,m,y],I)=>{const A=Gh(m);return a(A.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const a=S1(r),d=ek(this.It,a);return e.put(d)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((a,d)=>{const m=e.store("remoteDocumentsV14"),y=(I=d,I.document?new Dt(gi.fromString(I.document.name).popFirst(5)):I.noDocument?Dt.fromSegments(I.noDocument.path):I.unknownDocument?Dt.fromSegments(I.unknownDocument.path):Vt()).path.toArray();var I;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(m.put(A))}).next(()=>xe.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=mk(this.It),a=new wk(CT.Bs,this.It.re);return i.W().next(d=>{const m=new Map;return d.forEach(y=>{var I;let A=null!==(I=m.get(y.userId))&&void 0!==I?I:On();h_(this.It,y).keys().forEach(F=>A=A.add(F)),m.set(y.userId,A)}),xe.forEach(m,(y,I)=>{const A=new Yo(I),F=_T.oe(this.It,A),W=a.getIndexManager(A),K=wT.oe(A,this.It,W,a.referenceDelegate);return new bk(r,K,F,W).recalculateAndSaveOverlaysForDocumentKeys(new qA(e,rc.at),y).next()})})}}function Dk(n){n.createObjectStore("targetDocuments",{keyPath:m5}).createIndex("documentTargetsIndex",_5,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",g5,{unique:!0}),n.createObjectStore("targetGlobal")}const tN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nN{constructor(t,e,i,r,a,d,m,y,I,A,F=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=a,this.window=d,this.document=m,this.Js=I,this.Ys=A,this.Xs=F,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=W=>Promise.resolve(),!nN.C())throw new et(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $5(this,r),this.ii=e+"main",this.It=new JP(y),this.ri=new Ld(this.ii,this.Xs,new J5(this.It)),this.Cs=new L5(this.referenceDelegate,this.It),this.remoteDocumentCache=mk(this.It),this.Ns=new A5,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===A&&Ls("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Fe.FAILED_PRECONDITION,tN);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new rc(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Be.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>IT(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(dg(t))return ot("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return R1(t).get("owner").next(e=>xe.resolve(this.mi(e)))}gi(t){return IT(t).delete(this.clientId)}yi(){var t=this;return(0,Be.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Jo(i,"clientMetadata");return r.W().next(a=>{const d=t.Ii(a,18e5),m=a.filter(y=>-1===d.indexOf(y));return xe.forEach(m,y=>r.delete(y.clientId)).next(()=>m)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?xe.resolve(!0):R1(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new et(Fe.FAILED_PRECONDITION,tN);return!1}}return!(!this.networkEnabled||!this.inForeground)||IT(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,m=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&m)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&ot("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Be.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new qA(e,rc.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>IT(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return wT.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new k5(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return _T.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){ot("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",a=15===(d=this.Xs)?x5:14===d?QP:13===d?KP:12===d?E5:11===d?YP:void Vt();var d;let m;return this.ri.runTransaction(t,r,a,y=>(m=new qA(y,this.Ss?this.Ss.next():rc.at),"readwrite-primary"===e?this.fi(m).next(I=>!!I||this.di(m)).next(I=>{if(!I)throw Ls(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new et(Fe.FAILED_PRECONDITION,UR);return i(m)}).next(I=>this.wi(m).next(()=>I)):this.Vi(m).next(()=>i(m)))).then(y=>(m.raiseOnCommittedEvent(),y))}Vi(t){return R1(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new et(Fe.FAILED_PRECONDITION,tN)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return R1(t).put("owner",e)}static C(){return Ld.C()}_i(t){const e=R1(t);return e.get("owner").next(i=>this.mi(i)?(ot("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):xe.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ls(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ni.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return ot("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ls("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Ls("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function R1(n){return Jo(n,"owner")}function IT(n){return Jo(n,"clientMetadata")}function iN(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class rN{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=On(),r=On();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new rN(t,e.fromCache,i,r)}}class Ck{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(a=>a||this.Mi(t,e,r,i)).next(a=>a||this.Oi(t,e))}ki(t,e){if(lP(e))return xe.resolve(null);let i=sc(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=cT(e,null,"F"),i=sc(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const d=On(...a);return this.Ni.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,i).next(y=>{const I=this.Fi(e,m);return this.$i(e,I,d,y.readTime)?this.ki(t,cT(e,null,"F")):this.Bi(t,I,e,y)}))})))}Mi(t,e,i,r){return lP(e)||r.isEqual(an.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(a=>{const d=this.Fi(e,a);return this.$i(e,d,i,r)?this.Oi(t,e):(AA()<=og.in.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$A(e)),this.Bi(t,d,e,VR(r,-1)))})}Fi(t,e){let i=new fr(dP(t));return e.forEach((r,a)=>{GA(t,a)&&(i=i.add(a))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const a="F"===t.limitType?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(t,e){return AA()<=og.in.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",$A(e)),this.Ni.getDocumentsMatchingQuery(t,e,iu.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(a=>(e.forEach(d=>{a=a.insert(d.key,d)}),a))}}class X5{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new bs(bn),this.qi=new _g(a=>a_(a),m1),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function Ik(n,t,e,i){return new X5(n,t,e,i)}function Tk(n,t){return sN.apply(this,arguments)}function sN(){return sN=(0,Be.Z)(function*(n,t){const e=Et(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const d=[],m=[];let y=On();for(const I of r){d.push(I.batchId);for(const A of I.mutations)y=y.add(A.key)}for(const I of a){m.push(I.batchId);for(const A of I.mutations)y=y.add(A.key)}return e.localDocuments.getDocuments(i,y).next(I=>({ji:I,removedBatchIds:d,addedBatchIds:m}))})})}),sN.apply(this,arguments)}function e3(n,t){const e=Et(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,y,I){const A=y.batch,F=A.keys();let W=xe.resolve();return F.forEach(K=>{W=W.next(()=>I.getEntry(m,K)).next(he=>{const we=y.docVersions.get(K);hn(null!==we),he.version.compareTo(we)<0&&(A.applyToRemoteDocument(he,y),he.isValidDocument()&&(he.setReadTime(y.commitVersion),I.addEntry(he)))})}),W.next(()=>d.mutationQueue.removeMutationBatch(m,A))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=On();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(m=m.add(d.batch.mutations[y].key));return m}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function Ek(n){const t=Et(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function t3(n,t){const e=Et(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const m=[];t.targetChanges.forEach((A,F)=>{const W=r.get(F);if(!W)return;m.push(e.Cs.removeMatchingKeys(a,A.removedDocuments,F).next(()=>e.Cs.addMatchingKeys(a,A.addedDocuments,F)));let K=W.withSequenceNumber(a.currentSequenceNumber);var he,we,Pe;t.targetMismatches.has(F)?K=K.withResumeToken(To.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,i)),r=r.insert(F,K),we=K,Pe=A,(0===(he=W).resumeToken.approximateByteSize()||we.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&m.push(e.Cs.updateTargetData(a,K))});let y=oc(),I=On();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(a,A))}),m.push(xk(a,d,t.documentUpdates).next(A=>{y=A.Wi,I=A.zi})),!i.isEqual(an.min())){const A=e.Cs.getLastRemoteSnapshotVersion(a).next(F=>e.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));m.push(A)}return xe.waitFor(m).next(()=>d.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,y,I)).next(()=>y)}).then(a=>(e.Ui=r,a))}function xk(n,t,e){let i=On(),r=On();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let d=oc();return e.forEach((m,y)=>{const I=a.get(m);y.isFoundDocument()!==I.isFoundDocument()&&(r=r.add(m)),y.isNoDocument()&&y.version.isEqual(an.min())?(t.removeEntry(m,y.readTime),d=d.insert(m,y)):!I.isValidDocument()||y.version.compareTo(I.version)>0||0===y.version.compareTo(I.version)&&I.hasPendingWrites?(t.addEntry(y),d=d.insert(m,y)):ot("LocalStore","Ignoring outdated watch update for ",m,". Current version:",I.version," Watch version:",y.version)}),{Wi:d,zi:r}})}function n3(n,t){const e=Et(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Yy(n,t){const e=Et(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(a=>a?(r=a,xe.resolve(r)):e.Cs.allocateTargetId(i).next(d=>(r=new vg(t,d,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function Ky(n,t,e){return oN.apply(this,arguments)}function oN(){return oN=(0,Be.Z)(function*(n,t,e){const i=Et(n),r=i.Ui.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",a,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!dg(d))throw d;ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),oN.apply(this,arguments)}function TT(n,t,e){const i=Et(n);let r=an.min(),a=On();return i.persistence.runTransaction("Execute query","readonly",d=>function(m,y,I){const A=Et(m),F=A.qi.get(I);return void 0!==F?xe.resolve(A.Ui.get(F)):A.Cs.getTargetData(y,I)}(i,d,sc(t)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(d,m.targetId).next(y=>{a=y})}).next(()=>i.Li.getDocumentsMatchingQuery(d,t,e?r:an.min(),e?a:On())).next(m=>(Nk(i,uP(t),m),{documents:m,Hi:a})))}function Sk(n,t){const e=Et(n),i=Et(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",a=>i.se(a,t).next(d=>d?d.target:null))}function Ak(n,t){const e=Et(n),i=e.Ki.get(t)||an.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,VR(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Nk(e,t,r),r))}function Nk(n,t,e){let i=an.min();e.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(t,i)}function aN(){return aN=(0,Be.Z)(function*(n,t,e,i){const r=Et(n);let a=On(),d=oc();for(const I of e){const A=t.Ji(I.metadata.name);I.document&&(a=a.add(A));const F=t.Yi(I);F.setReadTime(t.Xi(I.metadata.readTime)),d=d.insert(A,F)}const m=r.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Yy(r,(I=i,sc(By(gi.fromString(`__bundle__/docs/${I}`)))));var I;return r.persistence.runTransaction("Apply bundle documents","readwrite",I=>xk(I,m,d).next(A=>(m.apply(I),A)).next(A=>r.Cs.removeMatchingKeysForTargetId(I,y.targetId).next(()=>r.Cs.addMatchingKeys(I,a,y.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(I,A.Wi,A.zi)).next(()=>A.Wi)))}),aN.apply(this,arguments)}function s3(n,t){return lN.apply(this,arguments)}function lN(){return lN=(0,Be.Z)(function*(n,t,e=On()){const i=yield Yy(n,sc(QA(t.bundledQuery))),r=Et(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const d=Qo(t.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.Ns.saveNamedQuery(a,t);const m=i.withResumeToken(To.EMPTY_BYTE_STRING,d);return r.Ui=r.Ui.insert(m.targetId,m),r.Cs.updateTargetData(a,m).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,t))})}),lN.apply(this,arguments)}function Mk(n,t){return`firestore_clients_${n}_${t}`}function Ok(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function cN(n,t){return`firestore_targets_${n}_${t}`}class ET{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let a,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(a=new et(r.error.code,r.error.message))),d?new ET(t,e,r.state,a):(Ls("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class P1{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new et(i.error.code,i.error.message))),a?new P1(t,i.state,r):(Ls("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class xT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=fT();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=qR(i.activeTargetIds[d]),a=a.add(i.activeTargetIds[d]);return r?new xT(t,a):(Ls("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class uN{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new uN(e.clientId,e.onlineState):(Ls("SharedClientState",`Failed to parse online state: ${t}`),null)}}class dN{constructor(){this.activeTargetIds=fT()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hN{constructor(t,e,i,r,a){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new bs(bn),this.started=!1,this.cr=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Mk(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new dN),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Be.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const a=t.getItem(Mk(t.persistenceKey,r));if(a){const d=xT.Zi(r,a);d&&(t.ur=t.ur.insert(d.clientId,d))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(cN(this.persistenceKey,t));if(i){const r=P1.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(cN(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ot("SharedClientState","READ",t,e),e}setItem(t,e){ot("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ot("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(ot("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Ls("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Be.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(a){let d=rc.at;if(null!=a)try{const m=JSON.parse(a);hn("number"==typeof m),d=m}catch(m){Ls("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(i.newValue);r!==rc.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Mr(i.newValue);yield Promise.all(r.map(a=>e.syncEngine.Or(a)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new ET(this.currentUser,t,e,i),a=Ok(this.persistenceKey,this.currentUser,t);this.setItem(a,r.tr())}Er(t){const e=Ok(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=cN(this.persistenceKey,t),a=new P1(t,e,i);this.setItem(r,a.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return xT.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return ET.Zi(new Yo(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return P1.Zi(r,e)}yr(t){return uN.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);ot("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),a=this.Ir(i),d=[],m=[];return a.forEach(y=>{r.has(y)||d.push(y)}),r.forEach(y=>{a.has(y)||m.push(y)}),this.syncEngine.Br(d,m).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=fT();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class Fk{constructor(){this.Lr=new dN,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new dN,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class o3{qr(t){}shutdown(){}}class Rk{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const a3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class l3{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class c3 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,a){const d=this.ao(t,e);ot("RestConnection","Sending: ",d,i);const m={};return this.ho(m,r,a),this.lo(t,d,m,i).then(y=>(ot("RestConnection","Received: ",y),y),y=>{throw e_("RestConnection",`${t} failed with error: `,y,"url: ",d,"request:",i),y})}fo(t,e,i,r,a,d){return this.co(t,e,i,r,a)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ry,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}ao(t,e){return`${this.oo}/v1/${e}:${a3[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((a,d)=>{const m=new oB;m.listenOnce(iB.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case SA.NO_ERROR:const I=m.getResponseJson();ot("Connection","XHR received:",JSON.stringify(I)),a(I);break;case SA.TIMEOUT:ot("Connection",'RPC "'+t+'" timed out'),d(new et(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case SA.HTTP_ERROR:const A=m.getStatus();if(ot("Connection",'RPC "'+t+'" failed with status:',A,"response text:",m.getResponseText()),A>0){const F=m.getResponseJson().error;if(F&&F.status&&F.message){const W=function(K){const he=K.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(he)>=0?he:Fe.UNKNOWN}(F.status);d(new et(W,F.message))}else d(new et(Fe.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new et(Fe.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{ot("Connection",'RPC "'+t+'" completed.')}});const y=JSON.stringify(r);m.send(e,"POST",y,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=tB(),d=nB(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new sB({})),this.ho(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const y=r.join("");ot("Connection","Creating WebChannel: "+y,m);const I=a.createWebChannel(y,m);let A=!1,F=!1;const W=new l3({Hr:he=>{F?ot("Connection","Not sending because WebChannel is closed:",he):(A||(ot("Connection","Opening WebChannel transport."),I.open(),A=!0),ot("Connection","WebChannel sending:",he),I.send(he))},Jr:()=>I.close()}),K=(he,we,Pe)=>{he.listen(we,pt=>{try{Pe(pt)}catch(gt){setTimeout(()=>{throw gt},0)}})};return K(I,eT.EventType.OPEN,()=>{F||ot("Connection","WebChannel transport opened.")}),K(I,eT.EventType.CLOSE,()=>{F||(F=!0,ot("Connection","WebChannel transport closed"),W.io())}),K(I,eT.EventType.ERROR,he=>{F||(F=!0,e_("Connection","WebChannel transport errored:",he),W.io(new et(Fe.UNAVAILABLE,"The operation could not be completed")))}),K(I,eT.EventType.MESSAGE,he=>{var we;if(!F){const Pe=he.data[0];hn(!!Pe);const pt=Pe,gt=pt.error||(null===(we=pt[0])||void 0===we?void 0:we.error);if(gt){ot("Connection","WebChannel received error:",gt);const Ft=gt.status;let _t=function(At){const fn=lo[At];if(void 0!==fn)return EP(fn)}(Ft),vt=gt.message;void 0===_t&&(_t=Fe.INTERNAL,vt="Unknown error status: "+Ft+" with message "+gt.message),F=!0,W.io(new et(_t,vt)),I.close()}else ot("Connection","WebChannel received:",Pe),W.ro(Pe)}}),K(d,rB.STAT_EVENT,he=>{he.stat===OR.PROXY?ot("Connection","Detected buffering proxy"):he.stat===OR.NOPROXY&&ot("Connection","Detected no buffering proxy")}),setTimeout(()=>{W.so()},0),W}}function Pk(){return typeof window<"u"?window:null}function ST(){return typeof document<"u"?document:null}function k1(n){return new XB(n,!0)}class fN{constructor(t,e,i=1e3,r=1.5,a=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&ot("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class kk{constructor(t,e,i,r,a,d,m,y){this.Hs=t,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new fN(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,Be.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,Be.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,Be.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===Fe.RESOURCE_EXHAUSTED?(Ls(e.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):e&&e.code===Fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new et(Fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,Be.Z)(function*(){t.state=0,t.start()}))}Qo(t){return ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u3 extends kk{constructor(t,e,i,r,a,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,d),this.It=a}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function n5(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(y=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Vt(),r=t.targetChange.targetIds||[],a=function(y,I){return y.gt?(hn(void 0===I||"string"==typeof I),To.fromBase64String(I||"")):(hn(void 0===I||I instanceof Uint8Array),To.fromUint8Array(I||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(y){const I=void 0===y.code?Fe.UNKNOWN:EP(y.code);return new et(I,y.message||"")}(d);e=new MP(i,r,a,m||null)}else if("documentChange"in t){const i=t.documentChange,r=$h(n,i.document.name),a=Qo(i.document.updateTime),d=new ba({mapValue:{fields:i.document.fields}}),m=Sr.newFoundDocument(r,a,d);e=new pT(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const i=t.documentDelete,r=$h(n,i.document),a=i.readTime?Qo(i.readTime):an.min(),d=Sr.newNoDocument(r,a);e=new pT([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,r=$h(n,i.document);e=new pT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Vt();{const i=t.filter,a=new WB(i.count||0);e=new NP(i.targetId,a)}}var y;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return an.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?an.min():a.readTime?Qo(a.readTime):an.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=E1(this.It),e.addTarget=function(r,a){let d;const m=a.target;return d=aT(m)?{documents:$P(r,m)}:{query:GP(r,m)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=PP(r,a.resumeToken):a.snapshotVersion.compareTo(an.min())>0&&(d.readTime=I1(r,a.snapshotVersion.toTimestamp())),d}(this.It,t);const i=function r5(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=E1(this.It),e.removeTarget=t,this.Bo(e)}}class d3 extends kk{constructor(t,e,i,r,a,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,d),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(hn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function i5(n,t){return n&&n.length>0?(hn(void 0!==t),n.map(e=>function(i,r){let a=Qo(i.updateTime?i.updateTime:r);return a.isEqual(an.min())&&(a=Qo(r)),new GB(a,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Qo(t.commitTime);return this.listener.Zo(i,e)}return hn(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=E1(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>x1(this.It,i))};this.Bo(e)}}class h3 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new et(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new et(Fe.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.Vo.fo(t,e,i,a,d,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new et(Fe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class f3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ls(e),this.ou=!1):ot("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class p3{constructor(t,e,i,r,a){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(m=>{i.enqueueAndForget((0,Be.Z)(function*(){var y;wg(d)&&(ot("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Be.Z)(function*(I){const A=Et(I);A._u.add(4),yield Qy(A),A.gu.set("Unknown"),A._u.delete(4),yield L1(A)}),function(I){return y.apply(this,arguments)})(d))}))}),this.gu=new f3(i,r)}}function L1(n){return pN.apply(this,arguments)}function pN(){return pN=(0,Be.Z)(function*(n){if(wg(n))for(const t of n.wu)yield t(!0)}),pN.apply(this,arguments)}function Qy(n){return gN.apply(this,arguments)}function gN(){return gN=(0,Be.Z)(function*(n){for(const t of n.wu)yield t(!1)}),gN.apply(this,arguments)}function AT(n,t){const e=Et(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),vN(e)?_N(e):Xy(e).ko()&&mN(e,t))}function V1(n,t){const e=Et(n),i=Xy(e);e.du.delete(t),i.ko()&&Lk(e,t),0===e.du.size&&(i.ko()?i.Fo():wg(e)&&e.gu.set("Unknown"))}function mN(n,t){n.yu.Ot(t.targetId),Xy(n).zo(t)}function Lk(n,t){n.yu.Ot(t),Xy(n).Ho(t)}function _N(n){n.yu=new KB({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Xy(n).start(),n.gu.uu()}function vN(n){return wg(n)&&!Xy(n).No()&&n.du.size>0}function wg(n){return 0===Et(n)._u.size}function Vk(n){n.yu=void 0}function g3(n){return yN.apply(this,arguments)}function yN(){return yN=(0,Be.Z)(function*(n){n.du.forEach((t,e)=>{mN(n,t)})}),yN.apply(this,arguments)}function m3(n,t){return bN.apply(this,arguments)}function bN(){return bN=(0,Be.Z)(function*(n,t){Vk(n),vN(n)?(n.gu.hu(t),_N(n)):n.gu.set("Unknown")}),bN.apply(this,arguments)}function _3(n,t,e){return wN.apply(this,arguments)}function wN(){return wN=(0,Be.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof MP&&2===t.state&&t.cause)try{yield(i=(0,Be.Z)(function*(r,a){const d=a.cause;for(const m of a.targetIds)r.du.has(m)&&(yield r.remoteSyncer.rejectListen(m,d),r.du.delete(m),r.yu.removeTarget(m))}),function(r,a){return i.apply(this,arguments)})(n,t)}catch(i){ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield NT(n,i)}else if(t instanceof pT?n.yu.Gt(t):t instanceof NP?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(an.min()))try{const i=yield Ek(n.localStore);e.compareTo(i)>=0&&(yield function(r,a){const d=r.yu.te(a);return d.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const I=r.du.get(y);I&&r.du.set(y,I.withResumeToken(m.resumeToken,a))}}),d.targetMismatches.forEach(m=>{const y=r.du.get(m);if(!y)return;r.du.set(m,y.withResumeToken(To.EMPTY_BYTE_STRING,y.snapshotVersion)),Lk(r,m);const I=new vg(y.target,m,1,y.sequenceNumber);mN(r,I)}),r.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(i){ot("RemoteStore","Failed to raise snapshot:",i),yield NT(n,i)}var i}),wN.apply(this,arguments)}function NT(n,t,e){return DN.apply(this,arguments)}function DN(){return DN=(0,Be.Z)(function*(n,t,e){if(!dg(t))throw t;n._u.add(1),yield Qy(n),n.gu.set("Offline"),e||(e=()=>Ek(n.localStore)),n.asyncQueue.enqueueRetryable((0,Be.Z)(function*(){ot("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield L1(n)}))}),DN.apply(this,arguments)}function Bk(n,t){return t().catch(e=>NT(n,e,t))}function Jy(n){return CN.apply(this,arguments)}function CN(){return CN=(0,Be.Z)(function*(n){const t=Et(n),e=Dg(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;v3(t);)try{const r=yield n3(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,y3(t,r)}catch(r){yield NT(t,r)}Uk(t)&&$k(t)}),CN.apply(this,arguments)}function v3(n){return wg(n)&&n.fu.length<10}function y3(n,t){n.fu.push(t);const e=Dg(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function Uk(n){return wg(n)&&!Dg(n).No()&&n.fu.length>0}function $k(n){Dg(n).start()}function b3(n){return IN.apply(this,arguments)}function IN(){return IN=(0,Be.Z)(function*(n){Dg(n).eu()}),IN.apply(this,arguments)}function w3(n){return TN.apply(this,arguments)}function TN(){return TN=(0,Be.Z)(function*(n){const t=Dg(n);for(const e of n.fu)t.Xo(e.mutations)}),TN.apply(this,arguments)}function D3(n,t,e){return EN.apply(this,arguments)}function EN(){return EN=(0,Be.Z)(function*(n,t,e){const i=n.fu.shift(),r=YA.from(i,t,e);yield Bk(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Jy(n)}),EN.apply(this,arguments)}function C3(n,t){return xN.apply(this,arguments)}function xN(){return xN=(0,Be.Z)(function*(n,t){var e;t&&Dg(n).Yo&&(yield(e=(0,Be.Z)(function*(i,r){if(TP(a=r.code)&&a!==Fe.ABORTED){const d=i.fu.shift();Dg(i).Oo(),yield Bk(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield Jy(i)}var a}),function(i,r){return e.apply(this,arguments)})(n,t)),Uk(n)&&$k(n)}),xN.apply(this,arguments)}function Gk(n,t){return SN.apply(this,arguments)}function SN(){return SN=(0,Be.Z)(function*(n,t){const e=Et(n);e.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const i=wg(e);e._u.add(3),yield Qy(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield L1(e)}),SN.apply(this,arguments)}function AN(n,t){return NN.apply(this,arguments)}function NN(){return NN=(0,Be.Z)(function*(n,t){const e=Et(n);t?(e._u.delete(2),yield L1(e)):t||(e._u.add(2),yield Qy(e),e.gu.set("Unknown"))}),NN.apply(this,arguments)}function Xy(n){return n.pu||(n.pu=function(t,e,i){const r=Et(t);return r.su(),new u3(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:g3.bind(null,n),Zr:m3.bind(null,n),Wo:_3.bind(null,n)}),n.wu.push(function(){var t=(0,Be.Z)(function*(e){e?(n.pu.Oo(),vN(n)?_N(n):n.gu.set("Unknown")):(yield n.pu.stop(),Vk(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Dg(n){return n.Iu||(n.Iu=function(t,e,i){const r=Et(t);return r.su(),new d3(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:b3.bind(null,n),Zr:C3.bind(null,n),tu:w3.bind(null,n),Zo:D3.bind(null,n)}),n.wu.push(function(){var t=(0,Be.Z)(function*(e){e?(n.Iu.Oo(),yield Jy(n)):(yield n.Iu.stop(),n.fu.length>0&&(ot("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class MN{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,i,r,a){const d=Date.now()+i,m=new MN(t,e,d,r,a);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e0(n,t){if(Ls("AsyncQueue",`${t}: ${n}`),dg(n))return new et(Fe.UNAVAILABLE,`${t}: ${n}`);throw n}class t0{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Dt.comparator(e.key,i.key):(e,i)=>Dt.comparator(e.key,i.key),this.keyedMap=b1(),this.sortedSet=new bs(this.comparator)}static emptySet(t){return new t0(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof t0)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new t0;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Hk{constructor(){this.Tu=new bs(Dt.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):Vt():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class n0{constructor(t,e,i,r,a,d,m,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y}static fromInitialDocuments(t,e,i,r){const a=[];return e.forEach(d=>{a.push({type:0,doc:d})}),new n0(t,e,t0.emptySet(e),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class I3{constructor(){this.Au=void 0,this.listeners=[]}}class T3{constructor(){this.queries=new _g(t=>cP(t),_1),this.onlineState="Unknown",this.Ru=new Set}}function ON(n,t){return FN.apply(this,arguments)}function FN(){return FN=(0,Be.Z)(function*(n,t){const e=Et(n),i=t.query;let r=!1,a=e.queries.get(i);if(a||(r=!0,a=new I3),r)try{a.Au=yield e.onListen(i)}catch(d){const m=e0(d,`Initialization of query '${$A(t.query)}' failed`);return void t.onError(m)}e.queries.set(i,a),a.listeners.push(t),t.bu(e.onlineState),a.Au&&t.Pu(a.Au)&&kN(e)}),FN.apply(this,arguments)}function RN(n,t){return PN.apply(this,arguments)}function PN(){return PN=(0,Be.Z)(function*(n,t){const e=Et(n),i=t.query;let r=!1;const a=e.queries.get(i);if(a){const d=a.listeners.indexOf(t);d>=0&&(a.listeners.splice(d,1),r=0===a.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),PN.apply(this,arguments)}function E3(n,t){const e=Et(n);let i=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const m of d.listeners)m.Pu(r)&&(i=!0);d.Au=r}}i&&kN(e)}function x3(n,t,e){const i=Et(n),r=i.queries.get(t);if(r)for(const a of r.listeners)a.onError(e);i.queries.delete(t)}function kN(n){n.Ru.forEach(t=>{t.next()})}class LN{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new n0(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=n0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class S3{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class jk{constructor(t){this.It=t}Ji(t){return $h(this.It,t)}Yi(t){return t.metadata.exists?UP(this.It,t.document,!1):Sr.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Qo(t)}}class A3{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Wk(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=gi.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,i=new jk(this.It);for(const r of t)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const d of r.metadata.queries){const m=(e.get(d)||On()).add(a);e.set(d,m)}}return e}complete(){var t=this;return(0,Be.Z)(function*(){const e=yield function r3(n,t,e,i){return aN.apply(this,arguments)}(t.localStore,new jk(t.It),t.documents,t.Mu.id),i=t.Fu(t.documents);for(const r of t.queries)yield s3(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function Wk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class zk{constructor(t){this.key=t}}class qk{constructor(t){this.key=t}}class Zk{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=On(),this.mutatedKeys=On(),this.Ku=dP(t),this.Gu=new t0(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new Hk,r=e?e.Gu:this.Gu;let a=e?e.mutatedKeys:this.mutatedKeys,d=r,m=!1;const y="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,I="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((A,F)=>{const W=r.get(A),K=GA(this.query,F)?F:null,he=!!W&&this.mutatedKeys.has(W.key),we=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Pe=!1;W&&K?W.data.isEqual(K.data)?he!==we&&(i.track({type:3,doc:K}),Pe=!0):this.zu(W,K)||(i.track({type:2,doc:K}),Pe=!0,(y&&this.Ku(K,y)>0||I&&this.Ku(K,I)<0)&&(m=!0)):!W&&K?(i.track({type:0,doc:K}),Pe=!0):W&&!K&&(i.track({type:1,doc:W}),Pe=!0,(y||I)&&(m=!0)),Pe&&(K?(d=d.add(K),a=we?a.add(A):a.delete(A)):(d=d.delete(A),a=a.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),a=a.delete(A.key),i.track({type:1,doc:A})}return{Gu:d,Wu:i,$i:m,mutatedKeys:a}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const a=t.Wu.Eu();a.sort((I,A)=>function(F,W){const K=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return K(F)-K(W)}(I.type,A.type)||this.Ku(I.doc,A.doc)),this.Hu(i);const d=e?this.Ju():[],m=0===this.qu.size&&this.current?1:0,y=m!==this.Uu;return this.Uu=m,0!==a.length||y?{snapshot:new n0(this.query,t.Gu,r,a,t.mutatedKeys,0===m,y,!1),Yu:d}:{Yu:d}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Hk,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=On(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new qk(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new zk(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=On();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return n0.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class N3{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class M3{constructor(t){this.key=t,this.ec=!1}}class O3{constructor(t,e,i,r,a,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new _g(m=>cP(m),_1),this.ic=new Map,this.rc=new Set,this.oc=new bs(Dt.comparator),this.uc=new Map,this.cc=new eN,this.ac={},this.hc=new Map,this.lc=m_.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function F3(n,t){return VN.apply(this,arguments)}function VN(){return VN=(0,Be.Z)(function*(n,t){const e=aM(n);let i,r;const a=e.sc.get(t);if(a)i=a.targetId,e.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const d=yield Yy(e.localStore,sc(t));e.isPrimaryClient&&AT(e.remoteStore,d);const m=e.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield BN(e,t,i,"current"===m)}return r}),VN.apply(this,arguments)}function BN(n,t,e,i){return UN.apply(this,arguments)}function UN(){return UN=(0,Be.Z)(function*(n,t,e,i){n.dc=(A,F,W)=>{return(K=(0,Be.Z)(function*(he,we,Pe,pt){let gt=we.view.ju(Pe);gt.$i&&(gt=yield TT(he.localStore,we.query,!1).then(({documents:vt})=>we.view.ju(vt,gt)));const Ft=pt&&pt.targetChanges.get(we.targetId),_t=we.view.applyChanges(gt,he.isPrimaryClient,Ft);return KN(he,we.targetId,_t.Yu),_t.snapshot}),function(he,we,Pe,pt){return K.apply(this,arguments)})(n,A,F,W);var K};const r=yield TT(n.localStore,t,!0),a=new Zk(t,r.Hi),d=a.ju(r.documents),m=C1.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),y=a.applyChanges(d,n.isPrimaryClient,m);KN(n,e,y.Yu);const I=new N3(t,e,a);return n.sc.set(t,I),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),y.snapshot}),UN.apply(this,arguments)}function R3(n,t){return $N.apply(this,arguments)}function $N(){return $N=(0,Be.Z)(function*(n,t){const e=Et(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(a=>!_1(a,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ky(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),V1(e.remoteStore,i.targetId),r0(e,i.targetId)}).catch(ug))):(r0(e,i.targetId),yield Ky(e.localStore,i.targetId,!0))}),$N.apply(this,arguments)}function GN(){return GN=(0,Be.Z)(function*(n,t,e){const i=lM(n);try{const r=yield function(a,d){const m=Et(a),y=Qr.now(),I=d.reduce((W,K)=>W.add(K.key),On());let A,F;return m.persistence.runTransaction("Locally write mutations","readwrite",W=>{let K=oc(),he=On();return m.Gi.getEntries(W,I).next(we=>{K=we,K.forEach((Pe,pt)=>{pt.isValidDocument()||(he=he.add(Pe))})}).next(()=>m.localDocuments.getOverlayedDocuments(W,K)).next(we=>{A=we;const Pe=[];for(const pt of d){const gt=jB(pt,A.get(pt.key).overlayedDocument);null!=gt&&Pe.push(new Zf(pt.key,gt,eP(gt.value.mapValue),Jr.exists(!0)))}return m.mutationQueue.addMutationBatch(W,y,Pe,d)}).next(we=>{F=we;const Pe=we.applyToLocalDocumentSet(A,he);return m.documentOverlayCache.saveOverlays(W,we.batchId,Pe)})}).then(()=>({batchId:F.batchId,changes:SP(A)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,d,m){let y=a.ac[a.currentUser.toKey()];y||(y=new bs(bn)),y=y.insert(d,m),a.ac[a.currentUser.toKey()]=y}(i,r.batchId,e),yield Yf(i,r.changes),yield Jy(i.remoteStore)}catch(r){const a=e0(r,"Failed to persist write");e.reject(a)}}),GN.apply(this,arguments)}function Yk(n,t){return HN.apply(this,arguments)}function HN(){return HN=(0,Be.Z)(function*(n,t){const e=Et(n);try{const i=yield t3(e.localStore,t);t.targetChanges.forEach((r,a)=>{const d=e.uc.get(a);d&&(hn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.ec=!0:r.modifiedDocuments.size>0?hn(d.ec):r.removedDocuments.size>0&&(hn(d.ec),d.ec=!1))}),yield Yf(e,i,t)}catch(i){yield ug(i)}}),HN.apply(this,arguments)}function Kk(n,t,e){const i=Et(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((a,d)=>{const m=d.view.bu(t);m.snapshot&&r.push(m.snapshot)}),function(a,d){const m=Et(a);m.onlineState=d;let y=!1;m.queries.forEach((I,A)=>{for(const F of A.listeners)F.bu(d)&&(y=!0)}),y&&kN(m)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function k3(n,t,e){return jN.apply(this,arguments)}function jN(){return jN=(0,Be.Z)(function*(n,t,e){const i=Et(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),a=r&&r.key;if(a){let d=new bs(Dt.comparator);d=d.insert(a,Sr.newNoDocument(a,an.min()));const m=On().add(a),y=new D1(an.min(),new Map,new fr(bn),d,m);yield Yk(i,y),i.oc=i.oc.remove(a),i.uc.delete(t),QN(i)}else yield Ky(i.localStore,t,!1).then(()=>r0(i,t,e)).catch(ug)}),jN.apply(this,arguments)}function L3(n,t){return WN.apply(this,arguments)}function WN(){return WN=(0,Be.Z)(function*(n,t){const e=Et(n),i=t.batch.batchId;try{const r=yield e3(e.localStore,t);YN(e,i,null),ZN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Yf(e,r)}catch(r){yield ug(r)}}),WN.apply(this,arguments)}function V3(n,t,e){return zN.apply(this,arguments)}function zN(){return zN=(0,Be.Z)(function*(n,t,e){const i=Et(n);try{const r=yield function(a,d){const m=Et(a);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let I;return m.mutationQueue.lookupMutationBatch(y,d).next(A=>(hn(null!==A),I=A.keys(),m.mutationQueue.removeMutationBatch(y,A))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,I,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,I)).next(()=>m.localDocuments.getDocuments(y,I))})}(i.localStore,t);YN(i,t,e),ZN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Yf(i,r)}catch(r){yield ug(r)}}),zN.apply(this,arguments)}function qN(){return qN=(0,Be.Z)(function*(n,t){const e=Et(n);wg(e.remoteStore)||ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const d=Et(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=e0(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),qN.apply(this,arguments)}function ZN(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function YN(n,t,e){const i=Et(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function r0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||Qk(n,i)})}function Qk(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(V1(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),QN(n))}function KN(n,t,e){for(const i of e)i instanceof zk?(n.cc.addReference(i.key,t),U3(n,i)):i instanceof qk?(ot("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||Qk(n,i.key)):Vt()}function U3(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||(ot("SyncEngine","New document in limbo: "+e),n.rc.add(i),QN(n))}function QN(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new Dt(gi.fromString(t)),i=n.lc.next();n.uc.set(i,new M3(e)),n.oc=n.oc.insert(e,i),AT(n.remoteStore,new vg(sc(By(e.path)),i,2,rc.at))}}function Yf(n,t,e){return JN.apply(this,arguments)}function JN(){return JN=(0,Be.Z)(function*(n,t,e){const i=Et(n),r=[],a=[],d=[];var m;i.sc.isEmpty()||(i.sc.forEach((m,y)=>{d.push(i.dc(y,t,e).then(I=>{if(I){i.isPrimaryClient&&i.sharedClientState.updateQueryState(y.targetId,I.fromCache?"not-current":"current"),r.push(I);const A=rN.Ci(y.targetId,I);a.push(A)}}))}),yield Promise.all(d),i.nc.Wo(r),yield(m=(0,Be.Z)(function*(y,I){const A=Et(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>xe.forEach(I,W=>xe.forEach(W.Si,K=>A.persistence.referenceDelegate.addReference(F,W.targetId,K)).next(()=>xe.forEach(W.Di,K=>A.persistence.referenceDelegate.removeReference(F,W.targetId,K)))))}catch(F){if(!dg(F))throw F;ot("LocalStore","Failed to update sequence numbers: "+F)}for(const F of I){const W=F.targetId;if(!F.fromCache){const K=A.Ui.get(W),we=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);A.Ui=A.Ui.insert(W,we)}}}),function(y,I){return m.apply(this,arguments)})(i.localStore,a))}),JN.apply(this,arguments)}function $3(n,t){return XN.apply(this,arguments)}function XN(){return XN=(0,Be.Z)(function*(n,t){const e=Et(n);if(!e.currentUser.isEqual(t)){ot("SyncEngine","User change. New user:",t.toKey());const i=yield Tk(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(d=>{d.forEach(m=>{m.reject(new et(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Yf(e,i.ji)}var r}),XN.apply(this,arguments)}function G3(n,t){const e=Et(n),i=e.uc.get(t);if(i&&i.ec)return On().add(i.key);{let r=On();const a=e.ic.get(t);if(!a)return r;for(const d of a){const m=e.sc.get(d);r=r.unionWith(m.view.Qu)}return r}}function H3(n,t){return eM.apply(this,arguments)}function eM(){return eM=(0,Be.Z)(function*(n,t){const e=Et(n),i=yield TT(e.localStore,t.query,!0),r=t.view.Zu(i);return e.isPrimaryClient&&KN(e,t.targetId,r.Yu),r}),eM.apply(this,arguments)}function j3(n,t){return tM.apply(this,arguments)}function tM(){return tM=(0,Be.Z)(function*(n,t){const e=Et(n);return Ak(e.localStore,t).then(i=>Yf(e,i))}),tM.apply(this,arguments)}function W3(n,t,e,i){return nM.apply(this,arguments)}function nM(){return nM=(0,Be.Z)(function*(n,t,e,i){const r=Et(n),a=yield function(d,m){const y=Et(d),I=Et(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>I.Tn(A,m).next(F=>F?y.localDocuments.getDocuments(A,F):xe.resolve(null)))}(r.localStore,t);var m;null!==a?("pending"===e?yield Jy(r.remoteStore):"acknowledged"===e||"rejected"===e?(YN(r,t,i||null),ZN(r,t),m=t,Et(Et(r.localStore).mutationQueue).An(m)):Vt(),yield Yf(r,a)):ot("SyncEngine","Cannot apply mutation batch with id: "+t)}),nM.apply(this,arguments)}function iM(){return iM=(0,Be.Z)(function*(n,t){const e=Et(n);if(aM(e),lM(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Jk(e,i.toArray());e.fc=!0,yield AN(e.remoteStore,!0);for(const a of r)AT(e.remoteStore,a)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((a,d)=>{e.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(r0(e,d),Ky(e.localStore,d,!0))),V1(e.remoteStore,d)}),yield r,yield Jk(e,i),function(a){const d=Et(a);d.uc.forEach((m,y)=>{V1(d.remoteStore,y)}),d.cc.fs(),d.uc=new Map,d.oc=new bs(Dt.comparator)}(e),e.fc=!1,yield AN(e.remoteStore,!1)}}),iM.apply(this,arguments)}function Jk(n,t,e){return rM.apply(this,arguments)}function rM(){return rM=(0,Be.Z)(function*(n,t,e){const i=Et(n),r=[],a=[];for(const d of t){let m;const y=i.ic.get(d);if(y&&0!==y.length){m=yield Yy(i.localStore,sc(y[0]));for(const I of y){const A=i.sc.get(I),F=yield H3(i,A);F.snapshot&&a.push(F.snapshot)}}else{const I=yield Sk(i.localStore,d);m=yield Yy(i.localStore,I),yield BN(i,Xk(I),d,!1)}r.push(m)}return i.nc.Wo(a),r}),rM.apply(this,arguments)}function Xk(n){return aP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function q3(n){const t=Et(n);return Et(Et(t.localStore).persistence).vi()}function Z3(n,t,e,i){return sM.apply(this,arguments)}function sM(){return sM=(0,Be.Z)(function*(n,t,e,i){const r=Et(n);if(r.fc)return void ot("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const d=yield Ak(r.localStore,uP(a[0])),m=D1.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Yf(r,d,m);break}case"rejected":yield Ky(r.localStore,t,!0),r0(r,t,i);break;default:Vt()}}),sM.apply(this,arguments)}function Y3(n,t,e){return oM.apply(this,arguments)}function oM(){return oM=(0,Be.Z)(function*(n,t,e){const i=aM(n);if(i.fc){for(const r of t){if(i.ic.has(r)){ot("SyncEngine","Adding an already active target "+r);continue}const a=yield Sk(i.localStore,r),d=yield Yy(i.localStore,a);yield BN(i,Xk(a),d.targetId,!1),AT(i.remoteStore,d)}for(const r of e)i.ic.has(r)&&(yield Ky(i.localStore,r,!1).then(()=>{V1(i.remoteStore,r),r0(i,r)}).catch(ug))}}),oM.apply(this,arguments)}function aM(n){const t=Et(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=G3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=k3.bind(null,t),t.nc.Wo=E3.bind(null,t.eventManager),t.nc._c=x3.bind(null,t.eventManager),t}function lM(n){const t=Et(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=L3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=V3.bind(null,t),t}class eL{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Be.Z)(function*(){e.It=k1(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return Ik(this.persistence,new Ck,t.initialUser,this.It)}gc(t){return new wk(CT.Bs,this.It)}mc(t){return new Fk}terminate(){var t=this;return(0,Be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class tL extends eL{constructor(t,e,i){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield e().call(i,t),yield i.Ec.initialize(i,t),yield lM(i.Ec.syncEngine),yield Jy(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return Ik(this.persistence,new Ck,t.initialUser,this.It)}Ic(t,e){return new B5(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const i=new DB(e,this.persistence);return new wB(t.asyncQueue,i)}gc(t){const e=iN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ac.withCacheSize(this.cacheSizeBytes):ac.DEFAULT;return new nN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Pk(),ST(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new Fk}}class Q3 extends tL{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield e().call(i,t);const r=i.Ec.syncEngine;i.sharedClientState instanceof hN&&(i.sharedClientState.syncEngine={Fr:W3.bind(null,r),$r:Z3.bind(null,r),Br:Y3.bind(null,r),vi:q3.bind(null,r),Or:j3.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,Be.Z)(function*(d){yield function z3(n,t){return iM.apply(this,arguments)}(i.Ec.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}mc(t){const e=Pk();if(!hN.C(e))throw new et(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=iN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new hN(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class cM{initialize(t,e){var i=this;return(0,Be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Kk(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=$3.bind(null,i.syncEngine),yield AN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new T3}createDatastore(t){const e=k1(t.databaseInfo.databaseId),i=new c3(t.databaseInfo);return new h3(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,a=m=>Kk(this.syncEngine,m,0),d=Rk.C()?new Rk:new o3,new p3(e,i,r,a,d);var e,i,r,a,d}createSyncEngine(t,e){return function(i,r,a,d,m,y,I){const A=new O3(i,r,a,d,m,y);return I&&(A.fc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Be.Z)(function*(e){const i=Et(e);ot("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Qy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function nL(n,t=10240){let e=0;return{read:()=>(0,Be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class MT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):Ls("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class J3{constructor(t,e){this.bc=t,this.It=e,this.metadata=new Ko,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,Be.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,Be.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,Be.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const i=t.Pc.decode(e),r=Number(i);isNaN(r)&&t.Sc(`length string (${i}) is not valid number`);const a=yield t.Dc(r);return new S3(JSON.parse(a),e.length+r)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,Be.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Dc(t){var e=this;return(0,Be.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const i=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,Be.Z)(function*(){const e=yield t.bc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class X3{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new et(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Be.Z)(function*(a,d){const m=Et(a),y=E1(m.It)+"/documents",I={documents:d.map(K=>T1(m.It,K))},A=yield m.fo("BatchGetDocuments",y,I,d.length),F=new Map;A.forEach(K=>{const he=function t5(n,t){return"found"in t?function(e,i){hn(!!i.found);const r=$h(e,i.found.name),a=Qo(i.found.updateTime),d=new ba({mapValue:{fields:i.found.fields}});return Sr.newFoundDocument(r,a,d)}(n,t):"missing"in t?function(e,i){hn(!!i.missing),hn(!!i.readTime);const r=$h(e,i.missing),a=Qo(i.readTime);return Sr.newNoDocument(r,a)}(n,t):Vt()}(m.It,K);F.set(he.key.toString(),he)});const W=[];return d.forEach(K=>{const he=F.get(K.toString());hn(!!he),W.push(he)}),W}),function(a,d){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new jy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const a=Dt.fromPath(r);t.mutations.push(new HA(a,t.precondition(a)))}),yield(i=(0,Be.Z)(function*(r,a){const d=Et(r),m=E1(d.It)+"/documents",y={writes:a.map(I=>x1(d.It,I))};yield d.co("Commit",m,y)}),function(r,a){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Vt();e=an.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new et(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(an.min())?Jr.exists(!1):Jr.updateTime(e):Jr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(an.min()))throw new et(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jr.updateTime(e)}return Jr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class eU{constructor(t,e,i,r,a){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new fN(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,Be.Z)(function*(){const e=new X3(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(a=>{t.Oc(a)}))}).catch(r=>{t.Oc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!d1(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!TP(e)}return!1}}class tU{constructor(t,e,i,r){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Yo.UNAUTHENTICATED,this.clientId=kR.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,Be.Z)(function*(m){ot("FirestoreClient","Received user=",m.uid),yield a.authCredentialListener(m),a.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(ot("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var t=this;return(0,Be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=e0(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function iL(n,t){return uM.apply(this,arguments)}function uM(){return uM=(0,Be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Be.Z)(function*(a){i.isEqual(a)||(yield Tk(t.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),uM.apply(this,arguments)}function rL(n,t){return dM.apply(this,arguments)}function dM(){return dM=(0,Be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield hM(n);ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Gk(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>Gk(t.remoteStore,a)),n.onlineComponents=t}),dM.apply(this,arguments)}function hM(n){return fM.apply(this,arguments)}function fM(){return fM=(0,Be.Z)(function*(n){return n.offlineComponents||(ot("FirestoreClient","Using default OfflineComponentProvider"),yield iL(n,new eL)),n.offlineComponents}),fM.apply(this,arguments)}function OT(n){return pM.apply(this,arguments)}function pM(){return pM=(0,Be.Z)(function*(n){return n.onlineComponents||(ot("FirestoreClient","Using default OnlineComponentProvider"),yield rL(n,new cM)),n.onlineComponents}),pM.apply(this,arguments)}function sL(n){return hM(n).then(t=>t.persistence)}function FT(n){return hM(n).then(t=>t.localStore)}function oL(n){return OT(n).then(t=>t.remoteStore)}function gM(n){return OT(n).then(t=>t.syncEngine)}function s0(n){return mM.apply(this,arguments)}function mM(){return mM=(0,Be.Z)(function*(n){const t=yield OT(n),e=t.eventManager;return e.onListen=F3.bind(null,t.syncEngine),e.onUnlisten=R3.bind(null,t.syncEngine),e}),mM.apply(this,arguments)}function aL(n,t,e={}){const i=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,a,d,m,y){const I=new MT({next:F=>{a.enqueueAndForget(()=>RN(r,A));const W=F.docs.has(d);!W&&F.fromCache?y.reject(new et(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&F.fromCache&&m&&"server"===m.source?y.reject(new et(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(F)},error:F=>y.reject(F)}),A=new LN(By(d.path),I,{includeMetadataChanges:!0,Nu:!0});return ON(r,A)}(yield s0(n),n.asyncQueue,t,e,i)})),i.promise}function lL(n,t,e={}){const i=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,a,d,m,y){const I=new MT({next:F=>{a.enqueueAndForget(()=>RN(r,A)),F.fromCache&&"server"===m.source?y.reject(new et(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(F)},error:F=>y.reject(F)}),A=new LN(d,I,{includeMetadataChanges:!0,Nu:!0});return ON(r,A)}(yield s0(n),n.asyncQueue,t,e,i)})),i.promise}const cL=new Map;function _M(n,t,e){if(!e)throw new et(Fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function uL(n,t,e,i){if(!0===t&&!0===i)throw new et(Fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function dL(n){if(!Dt.isDocumentKey(n))throw new et(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hL(n){if(Dt.isDocumentKey(n))throw new et(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Vt()}function ci(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new et(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=RT(n);throw new et(Fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function fL(n,t){if(t<=0)throw new et(Fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class pL{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new et(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new et(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class B1{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new et(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new et(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pL(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new cB;switch(e.type){case"gapi":return new fB(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new et(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=cL.get(t);e&&(ot("ComponentProvider","Removing Datastore"),cL.delete(t),e.terminate())}(this),Promise.resolve()}}class $r{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $r(this.firestore,t,this._key)}}class za{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new za(this.firestore,t,this._query)}}class Hh extends za{constructor(t,e,i){super(t,e,By(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $r(this.firestore,null,new Dt(t))}withConverter(t){return new Hh(this.firestore,t,this._path)}}function gL(n,t,...e){if(n=(0,Ni.m9)(n),_M("collection","path",t),n instanceof B1){const i=gi.fromString(t,...e);return hL(i),new Hh(n,null,i)}{if(!(n instanceof $r||n instanceof Hh))throw new et(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gi.fromString(t,...e));return hL(i),new Hh(n.firestore,null,i)}}function PT(n,t,...e){if(n=(0,Ni.m9)(n),1===arguments.length&&(t=kR.R()),_M("doc","path",t),n instanceof B1){const i=gi.fromString(t,...e);return dL(i),new $r(n,null,new Dt(i))}{if(!(n instanceof $r||n instanceof Hh))throw new et(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gi.fromString(t,...e));return dL(i),new $r(n.firestore,n instanceof Hh?n.converter:null,new Dt(i))}}function mL(n,t){return n=(0,Ni.m9)(n),t=(0,Ni.m9)(t),(n instanceof $r||n instanceof Hh)&&(t instanceof $r||t instanceof Hh)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function _L(n,t){return n=(0,Ni.m9)(n),t=(0,Ni.m9)(t),n instanceof za&&t instanceof za&&n.firestore===t.firestore&&_1(n._query,t._query)&&n.converter===t.converter}class hU{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new fN(this,"async_queue_retry"),this.jc=()=>{const e=ST();e&&ot("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=ST();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=ST();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new Ko;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,Be.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!dg(e))throw e;ot("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{throw this.qc=i,this.Kc=!1,Ls("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=MN.createAndSchedule(this,t,e,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&Vt()}verifyOperationInProgress(){}Yc(){var t=this;return(0,Be.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function vM(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class fU{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ko,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Xr extends B1{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new hU,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vL(this),this._firestoreClient.terminate()}}function co(n){return n._firestoreClient||vL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vL(n){var t;const e=n._freezeSettings(),i=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new TB(n._databaseId,a,n._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var a,m;n._firestoreClient=new tU(n._authCredentials,n._appCheckCredentials,n._queue,i)}function yL(n,t,e){const i=new Ko;return n.asyncQueue.enqueue((0,Be.Z)(function*(){try{yield iL(n,e),yield rL(n,t),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(d=a).name?d.code===Fe.FAILED_PRECONDITION||d.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;e_("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var d})).then(()=>i.promise)}function bL(n){if(n._initialized||n._terminated)throw new et(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new et(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ys(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jh(To.fromBase64String(t))}catch(e){throw new et(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new jh(To.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class v_{constructor(t){this._methodName=t}}class kT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new et(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new et(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bn(this._lat,t._lat)||bn(this._long,t._long)}}const CU=/^__.*__$/;class IU{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Zf(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hy(t,this.data,e,this.fieldTransforms)}}class wL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Zf(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function DL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class LT{constructor(t,e,i,r,a,d){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new LT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return UT(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(DL(this.na)&&CU.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class TU{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||k1(t)}fa(t,e,i,r=!1){return new LT({na:t,methodName:e,la:i,path:ys.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function y_(n){const t=n._freezeSettings(),e=k1(n._databaseId);return new TU(n._databaseId,!!t.ignoreUndefinedProperties,e)}function VT(n,t,e,i,r,a={}){const d=n.fa(a.merge||a.mergeFields?2:0,t,e,r);DM("Data must be an object, but it was:",d,i);const m=TL(i,d);let y,I;if(a.merge)y=new ru(d.fieldMask),I=d.fieldTransforms;else if(a.mergeFields){const A=[];for(const F of a.mergeFields){const W=CM(t,F,e);if(!d.contains(W))throw new et(Fe.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);xL(A,W)||A.push(W)}y=new ru(A),I=d.fieldTransforms.filter(F=>y.covers(F.field))}else y=null,I=d.fieldTransforms;return new IU(new ba(m),y,I)}class U1 extends v_{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof U1}}function CL(n,t,e){return new LT({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class yM extends v_{_toFieldTransform(t){return new v1(t.path,new $y)}isEqual(t){return t instanceof yM}}class EU extends v_{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=CL(this,t,!0),i=this.da.map(a=>b_(a,e)),r=new l_(i);return new v1(t.path,r)}isEqual(t){return this===t}}class xU extends v_{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=CL(this,t,!0),i=this.da.map(a=>b_(a,e)),r=new c_(i);return new v1(t.path,r)}isEqual(t){return this===t}}class SU extends v_{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new Gy(t.It,pP(t.It,this._a));return new v1(t.path,e)}isEqual(t){return this===t}}function bM(n,t,e,i){const r=n.fa(1,t,e);DM("Data must be an object, but it was:",r,i);const a=[],d=ba.empty();i_(i,(y,I)=>{const A=BT(t,y,e);I=(0,Ni.m9)(I);const F=r.ua(A);if(I instanceof U1)a.push(A);else{const W=b_(I,F);null!=W&&(a.push(A),d.set(A,W))}});const m=new ru(a);return new wL(d,m,r.fieldTransforms)}function wM(n,t,e,i,r,a){const d=n.fa(1,t,e),m=[CM(t,i,e)],y=[r];if(a.length%2!=0)throw new et(Fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<a.length;W+=2)m.push(CM(t,a[W])),y.push(a[W+1]);const I=[],A=ba.empty();for(let W=m.length-1;W>=0;--W)if(!xL(I,m[W])){const K=m[W];let he=y[W];he=(0,Ni.m9)(he);const we=d.ua(K);if(he instanceof U1)I.push(K);else{const Pe=b_(he,we);null!=Pe&&(I.push(K),A.set(K,Pe))}}const F=new ru(I);return new wL(A,F,d.fieldTransforms)}function IL(n,t,e,i=!1){return b_(e,n.fa(i?4:3,t))}function b_(n,t){if(EL(n=(0,Ni.m9)(n)))return DM("Unsupported field value:",t,n),TL(n,t);if(n instanceof v_)return function(e,i){if(!DL(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let a=0;for(const d of e){let m=b_(d,i.ca(a));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),a++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Ni.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pP(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Qr.fromDate(e);return{timestampValue:I1(i.It,r)}}if(e instanceof Qr){const r=new Qr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:I1(i.It,r)}}if(e instanceof kT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jh)return{bytesValue:PP(i.It,e._byteString)};if(e instanceof $r){const r=i.databaseId,a=e.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:jA(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${RT(e)}`)}(n,t)}function TL(n,t){const e={};return jR(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):i_(n,(i,r)=>{const a=b_(r,t.ia(i));null!=a&&(e[i]=a)}),{mapValue:{fields:e}}}function EL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qr||n instanceof kT||n instanceof jh||n instanceof $r||n instanceof v_)}function DM(n,t,e){if(!EL(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=RT(e);throw t.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function CM(n,t,e){if((t=(0,Ni.m9)(t))instanceof Kf)return t._internalPath;if("string"==typeof t)return BT(n,t);throw UT("Field path arguments must be of type string or ",n,!1,void 0,e)}const AU=new RegExp("[~\\*/\\[\\]]");function BT(n,t,e){if(t.search(AU)>=0)throw UT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Kf(...t.split("."))._internalPath}catch{throw UT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function UT(n,t,e,i,r){const a=i&&!i.isEmpty(),d=void 0!==r;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(a||d)&&(y+=" (found",a&&(y+=` in field ${i}`),d&&(y+=` in document ${r}`),y+=")"),new et(Fe.INVALID_ARGUMENT,m+n+y)}function xL(n,t){return n.some(e=>e.isEqual(t))}class $1{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new NU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($T("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class NU extends $1{data(){return super.data()}}function $T(n,t){return"string"==typeof t?BT(n,t):t instanceof Kf?t._internalPath:t._delegate._internalPath}class w_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qf extends $1{constructor(t,e,i,r,a,d){super(t,e,i,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new G1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field($T("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class G1 extends Qf{data(t={}){return super.data(t)}}class Cg{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new w_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new G1(this._firestore,this._userDataWriter,i.key,i,new w_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new et(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new G1(i._firestore,i._userDataWriter,d.doc.key,d.doc,new w_(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const m=new G1(i._firestore,i._userDataWriter,d.doc.key,d.doc,new w_(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,I=-1;return 0!==d.type&&(y=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),I=a.indexOf(d.doc.key)),{type:MU(d.type),doc:m,oldIndex:y,newIndex:I}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function MU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}function SL(n,t){return n instanceof Qf&&t instanceof Qf?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Cg&&t instanceof Cg&&n._firestore===t._firestore&&_L(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function AL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new et(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H1{}function Ig(n,...t){for(const e of t)n=e._apply(n);return n}class OU extends H1{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=y_(t.firestore),i=function(r,a,d,m,y,I,A){let F;if(y.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){PL(A,I);const K=[];for(const he of A)K.push(RL(m,r,he));F={arrayValue:{values:K}}}else F=RL(m,r,A)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||PL(A,I),F=IL(d,"where",A,"in"===I||"not-in"===I);const W=wa.create(y,I,F);return function(K,he){if(he.dt()){const Pe=BA(K);if(null!==Pe&&!Pe.isEqual(he.field))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pe.toString()}' and '${he.field.toString()}'`);const pt=VA(K);null!==pt&&kL(0,he.field,pt)}const we=function(Pe,pt){for(const gt of Pe.filters)if(pt.indexOf(gt.op)>=0)return gt.op;return null}(K,function(Pe){switch(Pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(he.op));if(null!==we)throw new et(Fe.INVALID_ARGUMENT,we===he.op?`Invalid query. You cannot use more than one '${he.op.toString()}' filter.`:`Invalid query. You cannot use '${he.op.toString()}' filters with '${we.toString()}' filters.`)}(r,W),W}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new za(t.firestore,t.converter,function(r,a){const d=r.filters.concat([a]);return new qf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),d,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class RU extends H1{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(i,r,a){if(null!==i.startAt)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Vy(r,a);return function(m,y){if(null===VA(m)){const I=BA(m);null!==I&&kL(0,I,y.field)}}(i,d),d}(t._query,this.wa,this.ya);return new za(t.firestore,t.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new qf(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class NL extends H1{constructor(t,e,i){super(),this.type=t,this.pa=e,this.Ia=i}_apply(t){return new za(t.firestore,t.converter,cT(t._query,this.pa,this.Ia))}}class ML extends H1{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=FL(t,this.type,this.Ta,this.Ea);return new za(t.firestore,t.converter,(r=e,new qf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class OL extends H1{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=FL(t,this.type,this.Ta,this.Ea);return new za(t.firestore,t.converter,(r=e,new qf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function FL(n,t,e,i){if(e[0]=(0,Ni.m9)(e[0]),e[0]instanceof $1)return function(r,a,d,m,y){if(!m)throw new et(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const I=[];for(const A of Uy(r))if(A.field.isKeyField())I.push(o_(a,m.key));else{const F=m.data.field(A.field);if(PA(F))throw new et(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){const W=A.field.canonicalString();throw new et(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}I.push(F)}return new mg(I,y)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=y_(n.firestore);return function(a,d,m,y,I,A){const F=a.explicitOrderBy;if(I.length>F.length)throw new et(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let K=0;K<I.length;K++){const he=I[K];if(F[K].field.isKeyField()){if("string"!=typeof he)throw new et(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof he}`);if(!UA(a)&&-1!==he.indexOf("/"))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${he}' contains a slash.`);const we=a.path.child(gi.fromString(he));if(!Dt.isDocumentKey(we))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${we}' is not because it contains an odd number of segments.`);const Pe=new Dt(we);W.push(o_(d,Pe))}else{const we=IL(m,y,he);W.push(we)}}return new mg(W,A)}(n._query,n.firestore._databaseId,r,t,e,i)}}function RL(n,t,e){if("string"==typeof(e=(0,Ni.m9)(e))){if(""===e)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UA(t)&&-1!==e.indexOf("/"))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(gi.fromString(e));if(!Dt.isDocumentKey(i))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return o_(n,new Dt(i))}if(e instanceof $r)return o_(n,e._key);throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${RT(e)}.`)}function PL(n,t){if(!Array.isArray(n)||0===n.length)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function kL(n,t,e){if(!e.isEqual(t))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const GU={maxAttempts:5};class IM{convertValue(t,e="none"){switch(s_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ws(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(r_(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Vt()}}convertObject(t,e){const i={};return i_(t.fields,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertGeoPoint(t){return new kT(ws(t.latitude),ws(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=zR(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(u1(t));default:return null}}convertTimestamp(t){const e=hg(t);return new Qr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=gi.fromString(t);hn(WP(i));const r=new fg(i.get(1),i.get(3)),a=new Dt(i.popFirst(5));return r.isEqual(e)||Ls(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function GT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class HU extends IM{constructor(t){super(),this.firestore=t}convertBytes(t){return new jh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new $r(this.firestore,null,e)}}class LL{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=y_(t)}set(t,e,i){this._verifyNotCommitted();const r=Tg(t,this._firestore),a=GT(r.converter,e,i),d=VT(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,Jr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const a=Tg(t,this._firestore);let d;return d="string"==typeof(e=(0,Ni.m9)(e))||e instanceof Kf?wM(this._dataReader,"WriteBatch.update",a._key,e,i,r):bM(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(d.toMutation(a._key,Jr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Tg(t,this._firestore);return this._mutations=this._mutations.concat(new jy(e._key,Jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tg(n,t){if((n=(0,Ni.m9)(n)).firestore!==t)throw new et(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class D_ extends IM{constructor(t){super(),this.firestore=t}convertBytes(t){return new jh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new $r(this.firestore,null,e)}}function VL(n,t,e){n=ci(n,$r);const i=ci(n.firestore,Xr),r=GT(n.converter,t,e);return o0(i,[VT(y_(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Jr.none())])}function BL(n,t,e,...i){n=ci(n,$r);const r=ci(n.firestore,Xr),a=y_(r);let d;return d="string"==typeof(t=(0,Ni.m9)(t))||t instanceof Kf?wM(a,"updateDoc",n._key,t,e,i):bM(a,"updateDoc",n._key,t),o0(r,[d.toMutation(n._key,Jr.exists(!0))])}function UL(n,...t){var e,i,r;n=(0,Ni.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||vM(t[d])||(a=t[d],d++);const m={includeMetadataChanges:a.includeMetadataChanges};if(vM(t[d])){const F=t[d];t[d]=null===(e=F.next)||void 0===e?void 0:e.bind(F),t[d+1]=null===(i=F.error)||void 0===i?void 0:i.bind(F),t[d+2]=null===(r=F.complete)||void 0===r?void 0:r.bind(F)}let y,I,A;if(n instanceof $r)I=ci(n.firestore,Xr),A=By(n._key.path),y={next:F=>{t[d]&&t[d](TM(I,n,F))},error:t[d+1],complete:t[d+2]};else{const F=ci(n,za);I=ci(F.firestore,Xr),A=F._query;const W=new D_(I);y={next:K=>{t[d]&&t[d](new Cg(I,W,F,K))},error:t[d+1],complete:t[d+2]},AL(n._query)}return function(F,W,K,he){const we=new MT(he),Pe=new LN(W,we,K);return F.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return ON(yield s0(F),Pe)})),()=>{we.Rc(),F.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return RN(yield s0(F),Pe)}))}}(co(I),A,m,y)}function o0(n,t){return function(e,i){const r=new Ko;return e.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function P3(n,t,e){return GN.apply(this,arguments)}(yield gM(e),i,r)})),r.promise}(co(n),t)}function TM(n,t,e){const i=e.docs.get(t._key),r=new D_(n);return new Qf(n,r,t._key,i,new w_(e.hasPendingWrites,e.fromCache),t.converter)}class XU extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=y_(t)}get(t){const e=Tg(t,this._firestore),i=new HU(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Vt();const a=r[0];if(a.isFoundDocument())return new $1(this._firestore,i,a.key,a,e.converter);if(a.isNoDocument())return new $1(this._firestore,i,e._key,null,e.converter);throw Vt()})}set(t,e,i){const r=Tg(t,this._firestore),a=GT(r.converter,e,i),d=VT(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(t,e,i,...r){const a=Tg(t,this._firestore);let d;return d="string"==typeof(e=(0,Ni.m9)(e))||e instanceof Kf?wM(this._dataReader,"Transaction.update",a._key,e,i,r):bM(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,d),this}delete(t){const e=Tg(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Tg(t,this._firestore),i=new D_(this._firestore);return super.get(t).then(r=>new Qf(this._firestore,i,e._key,r._document,new w_(!1,!1),e.converter))}}function EM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new et("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function GL(){if(typeof Uint8Array>"u")throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function HL(){if(!function CB(){return typeof atob<"u"}())throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Ry=Ym.SDK_VERSION,(0,Ym._registerComponent)(new xI.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const a=e.getProvider("app").getImmediate(),d=new Xr(new dB(e.getProvider("auth-internal")),new pB(e.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new et(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fg(m.options.projectId,y)}(a,i),a);return r=Object.assign({useFetchStreams:t},r),d._setSettings(r),d},"PUBLIC").setMultipleInstances(!0)),(0,Ym.registerVersion)(FR,"3.5.0",n),(0,Ym.registerVersion)(FR,"3.5.0","esm2017")}();class j1{constructor(t){this._delegate=t}static fromBase64String(t){return HL(),new j1(jh.fromBase64String(t))}static fromUint8Array(t){return GL(),new j1(jh.fromUint8Array(t))}toBase64(){return HL(),this._delegate.toBase64()}toUint8Array(){return GL(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xM(n){return function l$(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class c${enableIndexedDbPersistence(t,e){return function gU(n,t){bL(n=ci(n,Xr));const e=co(n),i=n._freezeSettings(),r=new cM;return yL(e,r,new tL(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function mU(n){bL(n=ci(n,Xr));const t=co(n),e=n._freezeSettings(),i=new cM;return yL(t,i,new Q3(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function _U(n){if(n._initialized&&!n._terminated)throw new et(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ko;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{yield(e=(0,Be.Z)(function*(i){if(!Ld.C())return Promise.resolve();const r=i+"main";yield Ld.delete(r)}),function(i){return e.apply(this,arguments)})(iN(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class jL{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof fg||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&e_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function uU(n,t,e,i={}){var r;const a=(n=ci(n,B1))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&e_("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let d,m;if("string"==typeof i.mockUserToken)d=i.mockUserToken,m=Yo.MOCK_USER;else{d=(0,Ni.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new et(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Yo(y)}n._authCredentials=new uB(new RR(d,m))}}(this._delegate,t,e,i)}enableNetwork(){return function yU(n){return function nU(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const t=yield sL(n),e=yield oL(n);return t.setNetworkEnabled(!0),function(i){const r=Et(i);return r._u.delete(0),L1(r)}(e)}))}(co(n=ci(n,Xr)))}(this._delegate)}disableNetwork(){return function bU(n){return function iU(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const t=yield sL(n),e=yield oL(n);return t.setNetworkEnabled(!1),(i=(0,Be.Z)(function*(r){const a=Et(r);a._u.add(0),yield Qy(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(co(n=ci(n,Xr)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,uL("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vU(n){return function(t){const e=new Ko;return t.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function B3(n,t){return qN.apply(this,arguments)}(yield gM(t),e)})),e.promise}(co(n=ci(n,Xr)))}(this._delegate)}onSnapshotsInSync(t){return function JU(n,t){return function oU(n,t){const e=new MT(t);return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield s0(n),r=e,Et(i).Ru.add(r),void r.next();var i,r})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield s0(n),r=e,void Et(i).Ru.delete(r);var i,r}))}}(co(n=ci(n,Xr)),vM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new a0(this,gL(this._delegate,t))}catch(e){throw bl(e,"collection()","Firestore.collection()")}}doc(t){try{return new Yu(this,PT(this._delegate,t))}catch(e){throw bl(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new wl(this,function dU(n,t){if(n=ci(n,B1),_M("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new et(Fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new za(n,null,(e=t,new qf(gi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw bl(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function e$(n,t,e){n=ci(n,Xr);const i=Object.assign(Object.assign({},GU),e);return function(r){if(r.maxAttempts<1)throw new et(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function aU(n,t,e){const i=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){const r=yield(a=n,OT(a).then(d=>d.datastore));var a;new eU(n.asyncQueue,r,e,t,i).run()})),i.promise}(co(n),r=>t(new XU(n,r)),i)}(this._delegate,e=>t(new WL(this,e)))}batch(){return co(this._delegate),new zL(new LL(this._delegate,t=>o0(this._delegate,t)))}loadBundle(t){return function wU(n,t){const e=co(n=ci(n,Xr)),i=new fU;return function lU(n,t,e,i){const r=function(a,d){let m;return m="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,I){if(y instanceof Uint8Array)return nL(y,I);if(y instanceof ArrayBuffer)return nL(new Uint8Array(y),I);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new J3(y,d);var y}(e,k1(t));n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){!function K3(n,t,e){const i=Et(n);var r;(r=(0,Be.Z)(function*(a,d,m){try{const y=yield d.getMetadata();if(yield function(W,K){const he=Et(W),we=Qo(K.createTime);return he.persistence.runTransaction("hasNewerBundle","readonly",Pe=>he.Ns.getBundleMetadata(Pe,K.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(we)>=0)}(a.localStore,y))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(W=y).totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}),Promise.resolve(new Set);m._updateProgress(Wk(y));const I=new A3(y,a.localStore,d.It);let A=yield d.wc();for(;A;){const W=yield I.Ou(A);W&&m._updateProgress(W),A=yield d.wc()}const F=yield I.complete();return yield Yf(a,F.Bu,void 0),yield function(W,K){const he=Et(W);return he.persistence.runTransaction("Save bundle","readwrite",we=>he.Ns.saveBundleMetadata(we,K))}(a.localStore,y),m._completeWith(F.progress),Promise.resolve(F.$u)}catch(y){return e_("SyncEngine",`Loading bundle failed with ${y}`),m._failWith(y),Promise.resolve(new Set)}var W}),function(a,d,m){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield gM(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function DU(n,t){return function cU(n,t){return n.asyncQueue.enqueue((0,Be.Z)(function*(){return function(e,i){const r=Et(e);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield FT(n),t)}))}(co(n=ci(n,Xr)),t).then(e=>e?new za(n,null,e.query):null)}(this._delegate,t).then(e=>e?new wl(this,e):null)}}class HT extends IM{constructor(t){super(),this.firestore=t}convertBytes(t){return new j1(new jh(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Yu.forKey(e,this.firestore,null)}}class WL{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new HT(t)}get(t){const e=I_(t);return this._delegate.get(e).then(i=>new W1(this._firestore,new Qf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=I_(t);return i?(EM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=I_(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=I_(t);return this._delegate.delete(e),this}}class zL{constructor(t){this._delegate=t}set(t,e,i){const r=I_(t);return i?(EM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=I_(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=I_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class C_{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new G1(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new z1(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=C_.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let a=r.get(e);return a||(a=new C_(t,new HT(t),e),r.set(e,a)),a}}C_.INSTANCES=new WeakMap;class Yu{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new HT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Yu(e,new $r(e._delegate,i,new Dt(t)))}static forKey(t,e,i){return new Yu(e,new $r(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new a0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new a0(this.firestore,gL(this._delegate,t))}catch(e){throw bl(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ni.m9)(t))instanceof $r&&mL(this._delegate,t)}set(t,e){e=EM("DocumentReference.set",e);try{return e?VL(this._delegate,t,e):VL(this._delegate,t)}catch(i){throw bl(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?BL(this._delegate,t):BL(this._delegate,t,e,...i)}catch(r){throw bl(r,"updateDoc()","DocumentReference.update()")}}delete(){return function KU(n){return o0(ci(n.firestore,Xr),[new jy(n._key,Jr.none())])}(this._delegate)}onSnapshot(...t){const e=qL(t),i=ZL(t,r=>new W1(this.firestore,new Qf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return UL(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function WU(n){n=ci(n,$r);const t=ci(n.firestore,Xr),e=co(t),i=new D_(t);return function rU(n,t){const e=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,a,d){try{const m=yield function(y,I){const A=Et(y);return A.persistence.runTransaction("read document","readonly",F=>A.localDocuments.getDocument(F,I))}(r,a);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new et(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const y=e0(m,`Failed to get document '${a} from cache`);d.reject(y)}}),function(r,a,d){return i.apply(this,arguments)})(yield FT(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Qf(t,i,n._key,r,new w_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function zU(n){n=ci(n,$r);const t=ci(n.firestore,Xr);return aL(co(t),n._key,{source:"server"}).then(e=>TM(t,n,e))}(this._delegate):function jU(n){n=ci(n,$r);const t=ci(n.firestore,Xr);return aL(co(t),n._key).then(e=>TM(t,n,e))}(this._delegate),e.then(i=>new W1(this.firestore,new Qf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Yu(this.firestore,this._delegate.withConverter(t?C_.getInstance(this.firestore,t):null))}}function bl(n,t,e){return n.message=n.message.replace(t,e),n}function qL(n){for(const t of n)if("object"==typeof t&&!xM(t))return t;return{}}function ZL(n,t){var e,i;let r;return r=xM(n[0])?n[0]:xM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(t(a))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class W1{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Yu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return SL(this._delegate,t._delegate)}}class z1 extends W1{data(t){const e=this._delegate.data(t);return function lB(n,t){n||Vt()}(void 0!==e),e}}class wl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new HT(t)}where(t,e,i){try{return new wl(this.firestore,Ig(this._delegate,function FU(n,t,e){const i=t,r=$T("where",n);return new OU(r,i,e)}(t,e,i)))}catch(r){throw bl(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new wl(this.firestore,Ig(this._delegate,function PU(n,t="asc"){const e=t,i=$T("orderBy",n);return new RU(i,e)}(t,e)))}catch(i){throw bl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new wl(this.firestore,Ig(this._delegate,function kU(n){return fL("limit",n),new NL("limit",n,"F")}(t)))}catch(e){throw bl(e,"limit()","Query.limit()")}}limitToLast(t){try{return new wl(this.firestore,Ig(this._delegate,function LU(n){return fL("limitToLast",n),new NL("limitToLast",n,"L")}(t)))}catch(e){throw bl(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new wl(this.firestore,Ig(this._delegate,function VU(...n){return new ML("startAt",n,!0)}(...t)))}catch(e){throw bl(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new wl(this.firestore,Ig(this._delegate,function BU(...n){return new ML("startAfter",n,!1)}(...t)))}catch(e){throw bl(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new wl(this.firestore,Ig(this._delegate,function UU(...n){return new OL("endBefore",n,!1)}(...t)))}catch(e){throw bl(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new wl(this.firestore,Ig(this._delegate,function $U(...n){return new OL("endAt",n,!0)}(...t)))}catch(e){throw bl(e,"endAt()","Query.endAt()")}}isEqual(t){return _L(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function ZU(n){n=ci(n,za);const t=ci(n.firestore,Xr),e=co(t),i=new D_(t);return function sU(n,t){const e=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,a,d){try{const m=yield TT(r,a,!0),y=new Zk(a,m.Hi),I=y.ju(m.documents),A=y.applyChanges(I,!1);d.resolve(A.snapshot)}catch(m){const y=e0(m,`Failed to execute query '${a} against cache`);d.reject(y)}}),function(r,a,d){return i.apply(this,arguments)})(yield FT(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Cg(t,i,n,r))}(this._delegate):"server"===t?.source?function YU(n){n=ci(n,za);const t=ci(n.firestore,Xr),e=co(t),i=new D_(t);return lL(e,n._query,{source:"server"}).then(r=>new Cg(t,i,n,r))}(this._delegate):function qU(n){n=ci(n,za);const t=ci(n.firestore,Xr),e=co(t),i=new D_(t);return AL(n._query),lL(e,n._query).then(r=>new Cg(t,i,n,r))}(this._delegate),e.then(i=>new SM(this.firestore,new Cg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=qL(t),i=ZL(t,r=>new SM(this.firestore,new Cg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return UL(this._delegate,e,i)}withConverter(t){return new wl(this.firestore,this._delegate.withConverter(t?C_.getInstance(this.firestore,t):null))}}class d${constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new z1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new wl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new z1(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new d$(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new z1(this._firestore,i))})}isEqual(t){return SL(this._delegate,t._delegate)}}class a0 extends wl{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Yu(this.firestore,t):null}doc(t){try{return new Yu(this.firestore,void 0===t?PT(this._delegate):PT(this._delegate,t))}catch(e){throw bl(e,"doc()","CollectionReference.doc()")}}add(t){return function QU(n,t){const e=ci(n.firestore,Xr),i=PT(n),r=GT(n.converter,t);return o0(e,[VT(y_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Jr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Yu(this.firestore,e))}isEqual(t){return mL(this._delegate,t._delegate)}withConverter(t){return new a0(this.firestore,this._delegate.withConverter(t?C_.getInstance(this.firestore,t):null))}}function I_(n){return ci(n,$r)}class AM{constructor(...t){this._delegate=new Kf(...t)}static documentId(){return new AM(ys.keyField().canonicalString())}isEqual(t){return(t=(0,Ni.m9)(t))instanceof Kf&&this._delegate._internalPath.isEqual(t._internalPath)}}class T_{constructor(t){this._delegate=t}static serverTimestamp(){const t=function n$(){return new yM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new T_(t)}static delete(){const t=function t$(){return new U1("deleteField")}();return t._methodName="FieldValue.delete",new T_(t)}static arrayUnion(...t){const e=function i$(...n){return new EU("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new T_(e)}static arrayRemove(...t){const e=function r$(...n){return new xU("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new T_(e)}static increment(t){const e=function s$(n){return new SU("increment",n)}(t);return e._methodName="FieldValue.increment",new T_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const h$={Firestore:jL,GeoPoint:kT,Timestamp:Qr,Blob:j1,Transaction:WL,WriteBatch:zL,DocumentReference:Yu,DocumentSnapshot:W1,Query:wl,QueryDocumentSnapshot:z1,QuerySnapshot:SM,CollectionReference:a0,FieldPath:AM,FieldValue:T_,setLogLevel:function u$(n){!function aB(n){cg.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function p$(n){(function f$(n,t){n.INTERNAL.registerComponent(new xI.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},h$)))})(n,(t,e)=>new jL(t,e,new c$)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(iV.Z);var jT=H(5363);function YL(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,Vo.B)({connector:()=>new Ns(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function KL(n,t){return(0,qs.m)(t)?Jn(()=>n,t):Jn(()=>n)}var NM=H(9468);H(5867);const JL=new Map,y$={activated:!1,tokenObservers:[]},b$={initialized:!1,enabled:!1};function ea(n){return JL.get(n)||y$}function Vd(n,t){JL.set(n,t)}function zT(){return b$}class T${constructor(t,e,i,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Be.Z)(function*(){e.stop();try{e.pending=new Ni.BH,yield function E$(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ni.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Dl=new Ni.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function e2(n){if(!ea(n).activated)throw Dl.create("use-before-activation",{appName:n.name})}function RM(n,t){return PM.apply(this,arguments)}function PM(){return PM=(0,Be.Z)(function*({url:n,body:t},e){var i,r;const a={"Content-Type":"application/json"},d=e.getImmediate({optional:!0});if(d){const K=yield d.getHeartbeatsHeader();K&&(a["X-Firebase-Client"]=K)}const m={method:"POST",body:JSON.stringify(t),headers:a};let y,I;try{y=yield fetch(n,m)}catch(K){throw Dl.create("fetch-network-error",{originalErrorMessage:null===(i=K)||void 0===i?void 0:i.message})}if(200!==y.status)throw Dl.create("fetch-status-error",{httpStatus:y.status});try{I=yield y.json()}catch(K){throw Dl.create("fetch-parse-error",{originalErrorMessage:null===(r=K)||void 0===r?void 0:r.message})}const A=I.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw Dl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const F=1e3*Number(A[1]),W=Date.now();return{token:I.token,expireTimeMillis:W+F,issuedAtTimeMillis:W}}),PM.apply(this,arguments)}function N$(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const q1="firebase-app-check-store";let YT=null;function n2(){return YT||(YT=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;t(Dl.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(q1,{keyPath:"compositeKey"})}}catch(i){t(Dl.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),YT)}function kM(){return kM=(0,Be.Z)(function*(n,t){const i=(yield n2()).transaction(q1,"readwrite"),a=i.objectStore(q1).put({compositeKey:n,value:t});return new Promise((d,m)=>{a.onsuccess=y=>{d()},i.onerror=y=>{var I;m(Dl.create("storage-set",{originalErrorMessage:null===(I=y.target.error)||void 0===I?void 0:I.message}))}})}),kM.apply(this,arguments)}const Z1=new og.Yd("@firebase/app-check");function a2(n,t){return(0,Ni.hl)()?function R$(n,t){return function r2(n,t){return kM.apply(this,arguments)}(function o2(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Z1.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function l2(){return zT().enabled}function c2(){return UM.apply(this,arguments)}function UM(){return UM=(0,Be.Z)(function*(){const n=zT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UM.apply(this,arguments)}const U$={error:"UNKNOWN_ERROR"};function $$(n){return Ni.US.encodeString(JSON.stringify(n),!1)}function KT(n){return $M.apply(this,arguments)}function $M(){return $M=(0,Be.Z)(function*(n,t=!1){const e=n.app;e2(e);const i=ea(e);let a,r=i.token;if(!r){const y=yield i.cachedTokenPromise;y&&QT(y)&&(r=y)}if(!t&&r&&QT(r))return{token:r.token};let m,d=!1;if(l2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=RM(N$(e,yield c2()),n.heartbeatServiceProvider).then(I=>(i.exchangeTokenPromise=void 0,I)),d=!0);const y=yield i.exchangeTokenPromise;return yield a2(e,y),Vd(e,Object.assign(Object.assign({},i),{token:y})),{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(y=>(i.exchangeTokenPromise=void 0,y)),d=!0),r=yield i.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Z1.warn(y.message):Z1.error(y),a=y}return r?(m={token:r.token},Vd(e,Object.assign(Object.assign({},i),{token:r})),yield a2(e,r)):m=H$(a),d&&d2(e,m),m}),$M.apply(this,arguments)}function HM(n,t){const e=ea(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Vd(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function u2(n){const{app:t}=n,e=ea(t);let i=e.tokenRefresher;i||(i=function G$(n){const{app:t}=n;return new T$((0,Be.Z)(function*(){let i;if(i=ea(t).token?yield KT(n,!0):yield KT(n),i.error)throw i.error}),()=>!0,()=>{const e=ea(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Vd(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function d2(n,t){const e=ea(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function QT(n){return n.expireTimeMillis-Date.now()>0}function H$(n){return{token:$$(U$),error:n}}class j${constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ea(this.app);for(const e of t)HM(this.app,e.next);return Promise.resolve()}}const y2="app-check-internal";!function rG(){(0,Ym._registerComponent)(new xI.wA("app-check",n=>function W$(n,t){return new j$(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(y2).initialize()})),(0,Ym._registerComponent)(new xI.wA(y2,n=>function z$(n){return{getToken:t=>KT(n,t),addTokenListener:t=>function GM(n,t,e,i){const{app:r}=n,a=ea(r),d={next:e,error:i,type:t};if(Vd(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&QT(a.token)){const m=a.token;Promise.resolve().then(()=>{e({token:m.token}),u2(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>u2(n))}(n,"INTERNAL",t),removeTokenListener:t=>HM(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ym.registerVersion)("@firebase/app-check","0.5.12")}();class qM{constructor(){return(0,ma.vb)("app-check")}}typeof window<"u"&&window;var cG=H(127);const w2=new c.OlP("angularfire2.auth.use-emulator"),D2=new c.OlP("angularfire2.auth.settings"),C2=new c.OlP("angularfire2.auth.tenant-id"),I2=new c.OlP("angularfire2.auth.langugage-code"),T2=new c.OlP("angularfire2.auth.use-device-language"),E2=new c.OlP("angularfire.auth.persistence"),x2=(n,t,e,i,r,a,d,m)=>(0,kd.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=t.runOutsideAngular(()=>n.auth());if(e&&y.useEmulator(...e),i&&(y.tenantId=i),y.languageCode=r,a&&y.useDeviceLanguage(),d)for(const[I,A]of Object.entries(d))y.settings[I]=A;return m&&y.setPersistence(m),y},[e,i,r,a,d,m]);let S2=(()=>{class n{constructor(e,i,r,a,d,m,y,I,A,F,W,K){const he=new Hn.x,we=wt(void 0).pipe((0,jT.Q)(d.outsideAngular),Jn(()=>a.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,2476)))),(0,It.U)(()=>(0,kd.on)(e,a,i)),(0,It.U)(Pe=>x2(Pe,a,m,I,A,F,y,W)),YL({bufferSize:1,refCount:!1}));if(Un(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{we.pipe(Fd()).subscribe();const pt=we.pipe(Jn(_t=>_t.getRedirectResult().then(vt=>vt,()=>null)),ma.iC,YL({bufferSize:1,refCount:!1})),gt=we.pipe(Jn(_t=>new Ri.y(vt=>({unsubscribe:a.runOutsideAngular(()=>_t.onAuthStateChanged(At=>vt.next(At),At=>vt.error(At),()=>vt.complete()))})))),Ft=we.pipe(Jn(_t=>new Ri.y(vt=>({unsubscribe:a.runOutsideAngular(()=>_t.onIdTokenChanged(At=>vt.next(At),At=>vt.error(At),()=>vt.complete()))}))));this.authState=pt.pipe(KL(gt),(0,NM.R)(d.outsideAngular),(0,jT.Q)(d.insideAngular)),this.user=pt.pipe(KL(Ft),(0,NM.R)(d.outsideAngular),(0,jT.Q)(d.insideAngular)),this.idToken=this.user.pipe(Jn(_t=>_t?(0,ti.D)(_t.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(Jn(_t=>_t?(0,ti.D)(_t.getIdTokenResult()):wt(null))),this.credential=(0,qr.T)(pt,he,this.authState.pipe(rr(_t=>!_t))).pipe((0,It.U)(_t=>_t?.user?_t:null),(0,NM.R)(d.outsideAngular),(0,jT.Q)(d.insideAngular))}return(0,kd.pX)(this,we,a,{spy:{apply:(Pe,pt,gt)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&gt.then(Ft=>he.next(Ft))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(kd.Dh),c.LFG(kd.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ma.HU),c.LFG(w2,8),c.LFG(D2,8),c.LFG(C2,8),c.LFG(I2,8),c.LFG(T2,8),c.LFG(E2,8),c.LFG(qM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function A2(n,t){return function dG(n,t=ze.z){return new Ri.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function YM(n,t){return A2(n,t).pipe((0,It.U)(e=>({payload:e,type:"query"})))}function XT(n,t){return YM(n,t).pipe(ua(void 0),GS(),(0,It.U)(([e,i])=>{const r=i.payload.docChanges(),a=r.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,m)=>{const y=r.find(A=>A.doc.ref.isEqual(d.ref)),I=e?.payload.docs.find(A=>A.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&I&&JSON.stringify(I.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),a}))}function N2(n,t,e){return XT(n,e).pipe(Lm((i,r)=>function fG(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function pG(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return KM(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return KM(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return KM(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),t),[]),da(),(0,It.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function KM(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function M2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class O2{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=XT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,It.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ua(void 0),GS(),rr(([i,r])=>r.length>0||!i),(0,It.U)(([i,r])=>r),ma.iC)}auditTrail(t){return this.stateChanges(t).pipe(Lm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=M2(t);return N2(this.query,e,this.afs.schedulers.outsideAngular).pipe(ma.iC)}valueChanges(t={}){return YM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),ma.iC)}get(t){return(0,ti.D)(this.query.get(t)).pipe(ma.iC)}add(t){return this.ref.add(t)}doc(t){return new F2(this.ref.doc(t),this.afs)}}class F2{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:a}=k2(i,e);return new O2(r,a,this.afs)}snapshotChanges(){return function hG(n,t){return A2(n,t).pipe(ua(void 0),GS(),(0,It.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ma.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,It.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ti.D)(this.ref.get(t)).pipe(ma.iC)}}class gG{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?XT(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),rr(e=>e.length>0),ma.iC):XT(this.query,this.afs.schedulers.outsideAngular).pipe(ma.iC)}auditTrail(t){return this.stateChanges(t).pipe(Lm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=M2(t);return N2(this.query,e,this.afs.schedulers.outsideAngular).pipe(ma.iC)}valueChanges(t={}){return YM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),ma.iC)}get(t){return(0,ti.D)(this.query.get(t)).pipe(ma.iC)}}const R2=new c.OlP("angularfire2.enableFirestorePersistence"),P2=new c.OlP("angularfire2.firestore.persistenceSettings"),mG=new c.OlP("angularfire2.firestore.settings"),_G=new c.OlP("angularfire2.firestore.use-emulator");function k2(n,t=(e=>e)){return{query:t(n),ref:n}}let l0=(()=>{class n{constructor(e,i,r,a,d,m,y,I,A,F,W,K,he,we,Pe,pt,gt){this.schedulers=y;const Ft=(0,kd.on)(e,m,i),_t=A;F&&x2(Ft,m,W,he,we,Pe,K,pt),[this.firestore,this.persistenceEnabled$]=(0,kd.cc)(`${Ft.name}.firestore`,"AngularFirestore",Ft.name,()=>{const vt=m.runOutsideAngular(()=>Ft.firestore());if(a&&vt.settings(a),_t&&vt.useEmulator(..._t),r&&!Un(d)){const At=()=>{try{return(0,ti.D)(vt.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(fn){return typeof console<"u"&&console.warn(fn),wt(!1)}};return[vt,m.runOutsideAngular(At)]}return[vt,wt(!1)]},[a,_t,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:d}=k2(r,i),m=this.schedulers.ngZone.run(()=>a);return new O2(m,d,this)}collectionGroup(e,i){const r=i||(d=>d),a=this.firestore.collectionGroup(e);return new gG(r(a),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new F2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(kd.Dh),c.LFG(kd.xv,8),c.LFG(R2,8),c.LFG(mG,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ma.HU),c.LFG(P2,8),c.LFG(_G,8),c.LFG(S2,8),c.LFG(w2,8),c.LFG(D2,8),c.LFG(C2,8),c.LFG(I2,8),c.LFG(T2,8),c.LFG(E2,8),c.LFG(qM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vG=(()=>{class n{constructor(){cG.Z.registerVersion("angularfire",ma.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:R2,useValue:!0},{provide:P2,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[l0]}),n})(),QM=(()=>{class n{constructor(e){this.afs=e}getColors(){return this.afs.collection("gloveColors").valueChanges()}getSteps(){return this.afs.collection("gloveSteps",e=>e.orderBy("seqNo","asc")).valueChanges()}getGloveSize(){return this.afs.collection("gloveSize",e=>e.orderBy("seqNo","asc")).valueChanges()}getGloveWebs(){return this.afs.collection("webs").valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(l0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c0=(()=>{class n{constructor(e,i){this.wizardData=e,this.afs=i,this.errorLog=[],this.snapLoaded=!1,this._orderDetails=[],this.product=new Gn({}),this.product$=this.product.asObservable(),this.storage=new Gn(null),this.storage$=this.storage.asObservable(),this.gloveType=new Gn({name:null,glove:null}),this.gloveType$=this.gloveType.asObservable(),this.fillChange=new Hn.x,this.fillChange$=this.fillChange.asObservable(),this.gloveDesign=new Gn(void 0),this.gloveDesign$=this.gloveDesign.asObservable(),this.leatherSelected=new Hn.x,this.leatherSelected$=this.leatherSelected.asObservable(),this.gloveColors=new Gn([]),this.gloveColors$=this.gloveColors.asObservable(),this.gloveWebs=new Gn([]),this.gloveWebs$=this.gloveWebs.asObservable(),this.gloveCustom=new Gn(void 0),this.gloveCustom$=this.gloveCustom.asObservable(),this.designName=new Gn({}),this.designName$=this.designName.asObservable(),this.clearGloveCanvas=()=>{try{this.oView.clear(),this.iView.clear(),this.sView.clear()}catch{}},this.wizardData.getColors().subscribe(r=>{this.gloveColors.next(r)}),wfacp_variation_attributes_data={29822:{attributes:{"pa_glove-type":"No-Selection","pa_glove-position":"No-Selection","pa_throwing-arm":"No-Selection","pa_glove-size":"No-Selection","pa_back-finger-color":"No-Selection","pa_thumb-finger-color":"No-Selection","pa_thumb-inner-color":"No-Selection","pa_index-inner-color":"No-Selection","pa_thumb-outer-color":"No-Selection","pa_index-outer-color":"No-Selection","pa_middle-inner-color":"No-Selection","pa_middle-outer-color":"No-Selection","pa_ring-inner-color":"No-Selection","pa_ring-outer-color":"No-Selection","pa_pinky-inner-color":"No-Selection","pa_pinky-outer-color":"No-Selection","pa_wrist-color":"No-Selection","pa_palm-color":"No-Selection","pa_web-color":"No-Selection","pa_web-base-color":"No-Selection","pa_target-color":"No-Selection","pa_binding-color":"No-Selection","pa_welt-color":"No-Selection","pa_lace-color":"No-Selection","pa_glove-web":"No-Selection","pa_stitching-color":"No-Selection","pa_embroidery-color":"No-Selection","pa_embroidery-font":"No-Selection","pa_finger-protector":"No-Selection","pa_finger-protector-color":"No-Selection","pa_lining-color":"No-Selection","pa_glove-logo-color":"No-Selection"}}},this.wizardData.getGloveWebs().pipe((0,It.U)(r=>r.map(a=>({name:a.valueString,...a})))).subscribe(r=>{this.gloveWebs.next(r)}),this.leatherSelected$.subscribe(r=>console.log(r))}init(e){try{document.getElementsByClassName("woocommerce-notices-wrapper")[0]&&(document.getElementsByClassName("woocommerce-notices-wrapper")[0].style.display="none")}catch{}return this.initCanvas()}initCanvas(){var e=this;return(0,Be.Z)(function*(){try{if(e.snapLoaded||(e.svgMain=Snap("#svg-main"),e.svgInside=Snap("#svg-inside"),e.svgSide=Snap("#svg-side"),e.oView=e.svgMain.group(),e.iView=e.svgInside.group(),e.sView=e.svgSide.group(),e.snapLoaded=!0),e._gloveBase===e.gloveBase)return;switch(e.clearGloveCanvas(),e.gloveBase){case"catcher-mitt":default:e.loadCatcher();break;case"catcher-fastback":e.loadCatcherFB();break;case"inf":case"pitcher":e.loadInfield();break;case"inf_dw":e.loadInfield2Welt();break;case"fbase":e.loadFbase();break;case"of":e.loadOutfield()}return e._gloveBase=e.gloveBase,{loaded:!0}}catch(i){return console.error(i),{loaded:!1,error:i}}})()}setGloveBase(e){this.gloveBase!==e.gloveBase&&(this.clearGloveCanvas(),this.gloveBase=e.gloveBase,this.gloveType.next({name:e.name,glove:e.gloveType}))}setGloveType(e){console.log(e),this.leatherType=e}addVariation(e){e.name.toLowerCase()}applyFilltoCanvas(e){["svg-main:_x5F_:vw3","svg-side:_x5F_:vw2","svg-inside:_x5F_:vw1"].forEach(i=>{const r=i.split(":"),a=r[0],d=`#${this.gloveBase}${r[1]}${r[2]}${r[1]}${e.section}`;switch(this.fillChange.next({id:e.section,fill:"stroke",color:e.rgb}),a){case"svg-main":if(0!=d.length){if(d.includes("stch")){document.querySelector(`${d}`)?.setAttribute("stroke",e.rgb),document.querySelector(`#${this.gloveBase}${r[1]}${r[2]}${r[1]}rise`)&&(void 0!==this.leatherType?this.leatherType.includes("steer")?document.querySelector(`#${this.gloveBase}${r[1]}${r[2]}${r[1]}rise`)?.setAttribute("fill",e.rgb):document.querySelector(`#${this.gloveBase}${r[1]}${r[2]}${r[1]}elite`)?.setAttribute("fill",e.rgb):document.querySelector(`#${this.gloveBase}${r[1]}${r[2]}${r[1]}rise`)?.setAttribute("fill",e.rgb));break}document.querySelector(`${d}`)?.setAttribute("fill",e.rgb)}break;case"svg-inside":case"svg-side":if(0!=d.length){if(d.includes("stch")){document.querySelector(`${d}`)?.setAttribute("stroke",e.rgb);break}document.querySelector(`${d}`)?.setAttribute("fill",e.rgb)}}})}logError(e){this.errorLog.push(`Error adding value ${e.err}`)}_applyFormValue(e){const r=e.name.toLowerCase();let a;r.includes('"')?(a=r.replace('"',""),a.includes(".")&&(a=a.replace(".","-"))):"custom_text_add_on"===e.attribute_wp||"order_notes_textarea"===e.attribute_wp?console.log("Do nothing"):(a=e.value||r.replaceAll(" ","-"),a.includes(".")&&(a=a.replace(".","")));try{wfacp_variation_attributes_data[29822].attributes[e.attribute_wp]=a,console.log(wfacp_variation_attributes_data)}catch(y){console.error(y)}}applyFormValue(e){try{const r=this._orderDetails.findIndex(a=>a.attribute_wp===e.attribute_wp);r>-1?this._orderDetails[r].name=e.name:this._orderDetails.push(e)}catch(i){console.log(i)}this._applyFormValue(e)}colorFilter(){let e=[];this.leatherSelected$.subscribe(i=>{this.gloveColors.value.forEach(r=>{"leather"===i?("steer"===i||"kip"===i)&&r.leather.includes(i)&&e.push(r):r.leather.includes(i)&&e.push(r)})})}populateWFProductOptions(){bi.forIn(wfacp_variation_attributes_data[29822],(e,i)=>{bi.forIn(e,(r,a)=>{try{const d=document?.getElementById(a);console.log(d),d&&(d.value=r.toLowerCase())}catch(d){console.log("Error setting value.",d)}})}),this.designName.subscribe(e=>{const i=document.getElementsByName("wfacp_update")[0];e.id?this.afs.doc(`gloveDesigns/${e.id}`).update(wfacp_variation_attributes_data[29822].attributes).then(r=>{i.click()}):i.click()})}separatorCheck(e,i){return e.split(i).length>1}triggerAddToCart(){try{document.getElementsByClassName("wfacp_qv-button")[0].click()}catch{alert("Problem adding to cart")}}valueFormatter(e){return e.split(" ").length>1?e=i(e," "):e.split("-").length>1?e=i(e,"-"):r(e);function i(a,d){let m=a.split(d);return m.forEach((y,I)=>{m[I]=r(y)}),m.join(" ")}function r(a){return a.charAt(0).toUpperCase()+a.slice(1)}}setSeriesOnGlove(e,i){("rise"===e||"elite"===e)&&i.attr("us steer"===this.leatherType&&"rise"===e||"japan kip"===this.leatherType&&"elite"===e?{opacity:1}:{opacity:0})}resetStitching(){document.querySelectorAll("").forEach(e=>{e.setAttribute("fill","none")})}loadCatcher(){const e=this;Snap.load(`${oo_imgSrc}catcher_back_view.svg`,i=>{this.svgMain.attr({viewBox:"0 -10 400 400"}),i.selectAll("#catcher-mitt_x5F_vw3_x5F_utoe, #catcher-mitt_x5F_vw3_x5F_thb, #catcher-mitt_x5F_vw3_x5F_bfg, #catcher-mitt_x5F_vw3_x5F_web, #catcher-mitt_x5F_vw3_x5F_plm, #catcher-mitt_x5F_vw3_x5F_lin, #catcher-mitt_x5F_vw3_x5F_bnd, #catcher-mitt_x5F_vw3_x5F_fpad, #catcher-mitt_x5F_vw3_x5F_stch, #catcher-mitt_x5F_vw3_x5F_lce, #catcher-mitt_x5F_vw3_x5F_logo, #catcher-mitt_x5F_open_x5F_back").forEach(function(a,d){const y=["catcher-mitt_x5F_vw3_x5F_utoe","catcher-mitt_x5F_vw3_x5F_thb","catcher-mitt_x5F_vw3_x5F_bfg","catcher-mitt_x5F_vw3_x5F_web","catcher-mitt_x5F_vw3_x5F_plm","catcher-mitt_x5F_vw3_x5F_lin","catcher-mitt_x5F_vw3_x5F_bnd","catcher-mitt_x5F_vw3_x5F_fpad","catcher-mitt_x5F_vw3_x5F_stch","catcher-mitt_x5F_vw3_x5F_lce","catcher-mitt_x5F_vw3_x5F_logo","catcher-mitt_x5F_open_xF_back"][d],I=y.split("_").pop();bi.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.setSeriesOnGlove(I,a),e.oView.add(a),e.svgMain.append(e.oView)})}),Snap.load(`${oo_imgSrc}catcher_inside_view.svg`,i=>{this.svgInside.attr({viewBox:"0 -10 400 400"}),i.selectAll("#catcher-mitt_x5F_vw2_x5F_plm, #catcher-mitt_x5F_vw2_x5F_web, #catcher-mitt_x5F_vw2_x5F_tgt, #catcher-mitt_x5F_vw2_x5F_stch, #catcher-mitt_x5F_vw2_x5F_bnd, #catcher-mitt_x5F_vw2_x5F_lce, #catcher-mitt_x5F_pocket_x5F_view, #catcher-mitt_x5F_vw2_x5F_rse, #catcher-mitt_x5F_rise_x5F_logo").forEach((a,d)=>{bi.includes(["catcher-mitt_x5F_vw2_x5F_plm","catcher-mitt_x5F_vw2_x5F_web","catcher-mitt_x5F_vw2_x5F_tgt","catcher-mitt_x5F_vw2_x5F_stch","catcher-mitt_x5F_vw2_x5F_bnd","catcher-mitt_x5F_vw2_x5F_lce","catcher-mitt_x5F_pocket_x5F_view","catcher-mitt_x5F_vw2_x5F_rse","catcher-mitt__x5F_rise_x5F_logo"][d],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.iView.add(a),e.svgInside.append(e.iView)})}),Snap.load(`${oo_imgSrc}catcher_side_view.svg`,i=>{this.svgSide.attr({viewBox:"0 0 400 400"}),i.selectAll("#catcher-mitt_x5F_vw1_x5F_utoe, #catcher-mitt_x5F_vw1_x5F_thb, #catcher-mitt_x5F_vw1_x5F_logo, #catcher-mitt_x5F_vw1_x5F_bnd, #catcher-mitt_x5F_vw1_x5F_plm, #catcher-mitt_x5F_vw1_x5F_web, #catcher-mitt_x5F_vw1_x5F_fpad, #catcher-mitt_x5F_vw1_x5F_stch, #catcher-mitt_x5F_vw1_x5F_lce, #catcher-mitt_x5F_side_x5F_view").forEach((a,d)=>{bi.includes(["catcher-mitt_x5F_vw1_x5F_utoe","catcher-mitt_x5F_vw1_x5F_thb","catcher-mitt_x5F_vw1_x5F_logo","catcher-mitt_x5F_vw1_x5F_bnd","catcher-mitt_x5F_vw1_x5F_plm","catcher-mitt_x5F_vw1_x5F_web","catcher-mitt_x5F_vw1_x5F_fpad","catcher-mitt_x5F_vw1_x5F_stch","catcher-mitt_x5F_vw1_x5F_lce","catcher-mitt_x5F_side_x5F_view"][d],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.sView.add(a),e.svgSide.append(e.sView)})})}loadOutfield(){const e=this;Snap.load(`${oo_imgSrc}outfield_back_view.svg`,i=>{this.svgMain.attr({viewBox:"0 0 400 400"}),i.selectAll("#of_x5F_vw3_x5F_wst, #of_x5F_vw3_x5F_logo, #of_x5F_vw3_x5F_indi, #of_x5F_vw3_x5F_indo, #of_x5F_vw3_x5F_midi, #of_x5F_vw3_x5F_mido, #of_x5F_vw3_x5F_rngo, #of_x5F_vw3_x5F_rngi, #of_x5F_vw3_x5F_pnki, #of_x5F_vw3_x5F_pnko, #of_x5F_vw3_x5F_plm, #of_x5F_vw3_x5F_wlt, #of_x5F_vw3_x5F_bnd, #of_x5F_vw3_x5F_stch, #of_x5F_vw3_x5F_web, #of_x5F_vw3_x5F_lce, #of_x5F_open_x5F_back, #of_x5F_vw3_x5F_rise, #of_x5F_vw3_x5F_elite, #of_x5F_logo_x5F_elite, #of_x5F_logo_x5F_rise").forEach(function(a,d){const y=["of_x5F_vw3_x5F_wst","of_x5F_vw3_x5F_logo","of_x5F_vw3_x5F_indi","of_x5F_vw3_x5F_indo","of_x5F_vw3_x5F_midi","of_x5F_vw3_x5F_mido","of_x5F_vw3_x5F_rngo","of_x5F_vw3_x5F_rngi","of_x5F_vw3_x5F_pnki","of_x5F_vw3_x5F_pnko","of_x5F_vw3_x5F_plm","of_x5F_vw3_x5F_wlt","of_x5F_vw3_x5F_bnd","of_x5F_vw3_x5F_stch","of_x5F_vw3_x5F_web","of_x5F_vw3_x5F_lce","of_x5F_open_x5F_back","of_x5F_vw3_x5F_rise","of_x5F_vw3_x5F_elite","of_x5F_logo_x5F_elite","of_x5F_logo_x5F_rise"][d],I=y.split("_").pop();bi.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.setSeriesOnGlove(I,a),e.oView.add(a),e.svgMain.append(e.oView)})}),Snap.load(`${oo_imgSrc}outfield_inside_view.svg`,i=>{this.svgInside.attr({viewBox:"0 0 400 400"}),i.selectAll("#of_x5F_vw2_x5F_thbo, #of_x5F_vw2_x5F_thbi, #of_x5F_vw2_x5F_plm, #of_x5F_vw2_x5F_indo, #of_x5F_vw2_x5F_indi, #of_x5F_vw2_x5F_mido, #of_x5F_vw2_x5F_rngo, #of_x5F_vw2_x5F_rngi, #of_x5F_vw2_x5F_pnki, #of_x5F_vw2_x5F_pnko, #of_x5F_vw2_x5F_wlt, #of_x5F_vw2_x5F_web, #of_x5F_vw2_x5F_bnd, #of_x5F_vw2_x5F_stch, #of_x5F_vw2_x5F_lce, #of_x5F_open_x5F_pocket").forEach((a,d)=>{bi.includes(["of_x5F_vw2_x5F_thbo","of_x5F_vw2_x5F_thbi","of_x5F_vw2_x5F_plm","of_x5F_vw2_x5F_indo","of_x5F_vw2_x5F_indi","of_x5F_vw2_x5F_mido","of_x5F_vw2_x5F_rngo","of_x5F_vw2_x5F_rngi","of_x5F_vw2_x5F_pnki","of_x5F_vw2_x5F_pnko","of_x5F_vw2_x5F_wlt","of_x5F_vw2_x5F_web","of_x5F_vw2_x5F_bnd","of_x5F_vw2_x5F_stch","of_x5F_vw2_x5F_lce","of_x5F_open_x5F_pocket"][d],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.iView.add(a),e.svgInside.append(e.iView)}),document.getElementById("of_x5F_vw2_x5F_stch").style.fill="none"}),Snap.load(`${oo_imgSrc}outfield_side_view.svg`,i=>{this.svgSide.attr({viewBox:"0 0 400 400"}),i.selectAll("#of_x5F_vw1_x5F_wst,#of_x5F_vw1_x5F_logo, #of_x5F_vw1_x5F_thbi, #of_x5F_vw1_x5F_thbo, #of_x5F_vw1_x5F_indi, #of_x5F_vw1_x5F_plm,#of_x5F_vw1_x5F_web, #of_x5F_vw1_x5F_bnd, #of_x5F_vw1_x5F_wlt, #of_x5F_vw1_x5F_stch, #of_x5F_vw1_x5F_lce, #of_x5F_side_x5F_view").forEach((a,d)=>{bi.includes(["of_x5F_vw1_x5F_wst","of_x5F_vw1_x5F_logo","of_x5F_vw1_x5F_thbi","of_x5F_vw1_x5F_thbo","of_x5F_vw1_x5F_indi","of_x5F_vw1_x5F_plm","of_x5F_vw1_x5F_web","of_x5F_vw1_x5F_bnd","of_x5F_vw1_x5F_wlt","of_x5F_vw1_x5F_stch","of_x5F_vw1_x5F_lce","of_x5F_side_x5F_view"][d],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.sView.add(a),e.svgSide.append(e.sView)}),document.getElementById("of_x5F_vw1_x5F_stch").style.fill="none"})}loadInfield(){const e=this;Snap.load(`${oo_imgSrc}infield_swelt_back.svg`,i=>{this.svgMain.attr({viewBox:"0 -10 400 400"}),i.selectAll("#inf_x5F_vw3_x5F_wst, #inf_x5F_vw3_x5F_thbi, #inf_x5F_vw3_x5F_web, #inf_x5F_vw3_x5F_indo, #inf_x5F_vw3_x5F_plm, #inf_x5F_vw3_x5F_indi, #inf_x5F_vw3_x5F_midi, #inf_x5F_vw3_x5F_mido, #inf_x5F_vw3_x5F_rngo, #inf_x5F_vw3_x5F_rngi, #inf_x5F_vw3_x5F_pnko, #inf_x5F_vw3_x5F_pnki, #inf_x5F_vw3_x5F_logo, #inf_x5F_vw3_x5F_wlt, #inf_x5F_vw3_x5F_stch, #inf_x5F_vw3_x5F_bnd, #inf_x5F_vw3_x5F_lce, #inf_x5F_open_x5F_back,#inf_x5F_vw3_x5F_rise,#inf_x5F_vw3_x5F_elite,#inf_x5F_logo_x5F_elite,#inf_x5F_logo_x5F_rise").forEach((a,d)=>{const y=["inf_x5F_vw3_x5F_wst","inf_x5F_vw3_x5F_thbi","inf_x5F_vw3_x5F_web","inf_x5F_vw3_x5F_indo","inf_x5F_vw3_x5F_plm","inf_x5F_vw3_x5F_indi","inf_x5F_vw3_x5F_midi","inf_x5F_vw3_x5F_mido","inf_x5F_vw3_x5F_rngo","inf_x5F_vw3_x5F_rngi","inf_x5F_vw3_x5F_pnko","inf_x5F_vw3_x5F_pnki","inf_x5F_vw3_x5F_logo","inf_x5F_vw3_x5F_wlt","inf_x5F_vw3_x5F_stch","inf_x5F_vw3_x5F_bnd","inf_x5F_vw3_x5F_lce","inf_x5F_open_x5F_back","inf_x5F_vw3_x5F_rise","inf_x5F_vw3_x5F_elite","inf_x5F_logo_x5F_elite","inf_x5F_logo_x5F_rise"][d],I=y.split("_").pop();bi.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),this.setSeriesOnGlove(I,a),e.oView.add(a),e.svgMain.append(e.oView)})}),Snap.load(`${oo_imgSrc}infield_swelt_pocket.svg`,i=>{this.svgInside.attr({viewBox:"0 -10 400 400"}),i.selectAll("#inf_x5F_vw2_x5F_plm, #inf_x5F_vw2_x5F_thbo, #inf_x5F_vw2_x5F_thbi, #inf_x5F_vw2_x5F_indo, #inf_x5F_vw2_x5F_indi,#inf_x5F_vw2_x5F_midi,#inf_x5F_vw2_x5F_mido,#inf_x5F_vw2_x5F_rngo,#inf_x5F_vw2_x5F_rngi,#inf_x5F_vw2_x5F_pnki,#inf_x5F_vw2_x5F_pnko, #inf_x5F_vw2_x5F_web, #inf_x5F_vw2_x5F_stch, #inf_x5F_vw2_x5F_bnd , #inf_x5F_vw2_x5F_wlt, #inf_x5F_vw2_x5F_lce, #inf_x5F_open_x5F_pocket").forEach((a,d)=>{bi.includes(["inf_x5F_vw2_x5F_plm","inf_x5F_vw2_x5F_thbo","inf_x5F_vw2_x5F_thbi","inf_x5F_vw2_x5F_indi","inf_x5F_vw2_x5F_indo","inf_x5F_vw2_x5F_midi","inf_x5F_vw2_x5F_mido","inf_x5F_vw2_x5F_rngi","inf_x5F_vw2_x5F_rngo","inf_x5F_vw2_x5F_pnki","inf_x5F_vw2_x5F_pnko","inf_x5F_vw2_x5F_web","inf_x5F_vw2_x5F_stch","inf_x5F_vw2_x5F_bnd","inf_x5F_vw2_x5F_wlt","inf_x5F_vw2_x5F_lce","inf_x5F_open_x5F_pocket"][d],"stch")?a.attr({fill:"none"}):a.attr({fill:"#fffafa"}),e.iView.add(a),e.svgInside.append(this.iView)}),document.getElementById("inf_x5F_vw2_x5F_stch").style.fill="none"}),Snap.load(`${oo_imgSrc}infield_swelt_side.svg`,i=>{this.svgSide.attr({viewBox:"-60 0 400 400"}),i.selectAll("#inf_x5F_vw1_x5F_thbi, #inf_x5F_vw1_x5F_mid, #inf_x5F_vw1_x5F_indi, #inf_x5F_vw1_x5F_wst, #inf_x5F_vw1_x5F_logo, #inf_x5F_vw1_x5F_plm, #inf_x5F_vw1_x5F_bnd, #inf_x5F_vw1_x5F_indo, #inf_x5F_vw1_x5F_thbo, #inf_x5F_vw1_x5F_wlt, #inf_x5F_vw1_x5F_web, #inf_x5F_vw1_x5F_stch,  #inf_x5F_vw1_x5F_lce, #inf_x5F_open_x5F_side").forEach((a,d)=>{bi.includes(["inf_x5F_vw1_x5F_thbi","inf_x5F_vw1_x5F_mid","inf_x5F_vw1_x5F_indi","inf_x5F_vw1_x5F_wst","inf_x5F_vw1_x5F_logo","inf_x5F_vw1_x5F_plm","inf_x5F_vw1_x5F_bnd","inf_x5F_vw1_x5F_indo","inf_x5F_vw1_x5F_thbo","inf_x5F_vw1_x5F_wlt","inf_x5F_vw1_x5F_web","inf_x5F_vw1_x5F_stch","inf_x5F_vw1_x5F_lce","inf_x5F_open_x5F_side"][d],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.sView.add(a),e.svgSide.append(e.sView)}),document.getElementById("inf_x5F_vw1_x5F_stch").style.fill="none"})}loadFbase(){const e=this;Snap.load(`${oo_imgSrc}/fbase_back_view.svg`,function(i){e.svgMain.attr({viewBox:"0 -10 400 400"}),i.selectAll("#fbase_x5F_vw3_x5F_thb, #fbase_x5F_vw3_x5F_bfg, #fbase_x5F_vw3_x5F_plm, #fbase_x5F_vw3_x5F_utoe, #fbase_x5F_vw3_x5F_wst, #fbase_x5F_vw3_x5F_logo, #fbase_x5F_vw3_x5F_web, #fbase_x5F_vw3_x5F_stch, #fbase_x5F_vw3_x5F_bnd, #fbase_x5F_vw3_x5F_lce, #fbase_x5F_vw3_x5F_rise, #fbase_x5F_vw3_x5F_elite, #fbase_x5F_open_x5F_back, #fbase_x5F_logo_x5F_elite, #fbase_x5F_logo_x5F_rise").forEach(function(a,d){const y=["fbase_x5F_vw3_x5F_thb","fbase_x5F_vw3_x5F_bfg","fbase_x5F_vw3_x5F_plm","fbase_x5F_vw3_x5F_utoe","fbase_x5F_vw3_x5F_wst","fbase_x5F_vw3_x5F_logo","fbase_x5F_vw3_x5F_web","fbase_x5F_vw3_x5F_stch","fbase_x5F_vw3_x5F_bnd","fbase_x5F_vw3_x5F_lce","fbase_x5F_vw3_x5F_rise","fbase_x5F_vw3_x5F_elite","fbase_x5F_open_x5F_back","fbase_x5F_logo_x5F_elite","fbase_x5F_logo_x5F_rise"][d],I=y.split("_").pop();bi.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),("rise"===I||"elite"===I)&&(console.log(I,e.leatherType),"us steer"===e.leatherType&&"rise"===I?(console.log("test"),a.attr({opacity:1})):a.attr("japan kip"===e.leatherType&&"elite"===I?{opacity:1}:{opacity:0})),e.oView.add(a),e.svgMain.append(e.oView)})}),Snap.load(`${oo_imgSrc}/fbase_inside_view.svg`,function(i){e.svgInside.attr({viewBox:"0 -10 400 400"}),i.selectAll("#fbase_x5F_vw2_x5F_plm, #fbase_x5F_vw2_x5F_bnd, #fbase_x5F_vw2_x5F_web, #fbase_x5F_vw2_x5F_stch, #fbase_x5F_vw2_x5F_lce, #fbase_x5F_open_x5F_pocket").forEach(function(a,d){bi.includes(["fbase_x5F_vw2_x5F_plm","fbase_x5F_vw2_x5F_bnd","fbase_x5F_vw2_x5F_web","fbase_x5F_vw2_x5F_stch","fbase_x5F_vw2_x5F_lce","fbase_x5F_open_x5F_pocket"][d],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),e.iView.add(a),e.svgInside.append(e.iView)})}),Snap.load(`${oo_imgSrc}/fbase_side_view.svg`,function(i){e.svgSide.attr({viewBox:"-10 0 400 400"}),i.selectAll("#fbase_x5F_vw1_x5F_wst, #fbase_x5F_vw1_x5F_logo, #fbase_x5F_vw1_x5F_plm, #fbase_x5F_vw1_x5F_thb, #fbase_x5F_vw1_x5F_bfg, #fbase_x5F_vw1_x5F_utoe, #fbase_x5F_vw1_x5F_web, #fbase_x5F_vw1_x5F_stch, #fbase_x5F_vw1_x5F_bnd, #fbase_x5F_vw1_x5F_lce, #fbase_x5F_side_x5F_view").forEach(function(a,d){bi.includes(["fbase_x5F_vw1_x5F_wst","fbase_x5F_vw1_x5F_logo","fbase_x5F_vw1_x5F_plm","fbase_x5F_vw1_x5F_thb","fbase_x5F_vw1_x5F_bfg","fbase_x5F_vw1_x5F_utoe","fbase_x5F_vw1_x5F_web","fbase_x5F_vw1_x5F_stch","fbase_x5F_vw1_x5F_bnd","fbase_x5F_vw1_x5F_lce","fbase_x5F_side_x5F_view"][d],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),e.sView.add(a),e.svgSide.append(e.sView)})})}loadCatcherFB(){const e=this;Snap.load(`${oo_imgSrc}catcher_fastback_back.svg`,i=>{this.svgMain.attr({viewBox:"0 0 400 400"}),i.selectAll("#catcher-fastback_x5F_vw3_x5F_utoe, #catcher-fastback_x5F_vw3_x5F_thb, #catcher-fastback_x5F_vw3_x5F_logo, #catcher-fastback_x5F_vw3_x5F_mid, #catcher-fastback_x5F_vw3_x5F_bfg, #catcher-fastback_x5F_vw3_x5F_plm, #catcher-fastback_x5F_vw3_x5F_wlt ,#catcher-fastback_x5F_vw3_x5F_stch, #catcher-fastback_x5F_vw3_x5F_bnd, #catcher-fastback_x5F_vw3_x5F_web, #catcher-fastback_x5F_vw3_x5F_lce, #catcher-fastback_x5F_vw3_x5F_fpad, #catcher-fastback_x5F_fastback_x5F_back").forEach(function(a,d){bi.includes(["catcher-fastback_x5F_vw3_x5F_utoe","catcher-fastback_x5F_vw3_x5F_thb","#catcher-fastback_x5F_vw3_x5F_logo","catcher-fastback_x5F_vw3_x5F_mid","catcher-fastback_x5F_vw3_x5F_bfg","catcher-fastback_x5F_vw3_x5F_plm","catcher-fastback_x5F_vw3_x5F_wlt","catcher-fastback_x5F_vw3_x5F_stch","catcher-fastback_x5F_vw3_x5F_bnd","catcher-fastback_x5F_vw3_x5F_web","catcher-fastback_x5F_vw3_x5F_lce","catcher-fastback_x5F_vw3_x5F_fpad","catcher-fastback_x5F_fastback_x5F_back"][d],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.oView.add(a),e.svgMain.append(e.oView)})}),Snap.load(`${oo_imgSrc}catcher_fastback_inside_view.svg`,i=>{this.svgInside.attr({viewBox:"0 0 400 400"}),i.selectAll("#catcher-fastback_x5F_vw2_x5F_plm, #catcher-fastback_x5F_vw2_x5F_web, #catcher-fastback_x5F_vw2_x5F_tgt, #catcher-fastback_x5F_vw2_x5F_stch, #catcher-fastback_x5F_vw2_x5F_bnd, #catcher-fastback_x5F_vw2_x5F_lce, #catcher-fastback_x5F_pocket_x5F_view, #catcher-fastback_x5F_vw2_x5F_rse, #catcher-fastback_x5F_rise_x5F_logo").forEach((a,d)=>{bi.includes(["catcher-fastback_x5F_vw2_x5F_plm","catcher-fastback_x5F_vw2_x5F_web","catcher-fastback_x5F_vw2_x5F_tgt","catcher-fastback_x5F_vw2_x5F_stch","catcher-fastback_x5F_vw2_x5F_bnd","catcher-fastback_x5F_vw2_x5F_lce","catcher-fastback_x5F_pocket_x5F_view","catcher-fastback_x5F_vw2_x5F_rse","catcher-fastback_x5F_rise_x5F_logo"][d],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),e.iView.add(a),e.svgInside.append(e.iView)})}),Snap.load(`${oo_imgSrc}catcher_fastback_side.svg`,i=>{this.svgSide.attr({viewBox:"0 0 400 400"}),i.selectAll("#catcher-fastback_x5F_vw1_x5F_thb, #catcher-fastback_x5F_vw1_x5F_logo, #catcher-fastback_x5F_vw1_x5F_utoe, #catcher-fastback_x5F_vw1_x5F_wlt, #catcher-fastback_x5F_vw1_x5F_web, #catcher-fastback_x5F_vw1_x5F_bnd, #catcher-fastback_x5F_vw1_x5F_plm, #catcher-fastback_x5F_vw1_x5F_stch, #catcher-fastback_x5F_vw1_x5F_blt, #catcher-fastback_x5F_vw1_x5F_lce, #catcher-fastback_x5F_vw1_x5F_fastback_x5F_side").forEach((a,d)=>{bi.includes(["catcher-fastback_x5F_vw1_x5F_thb","catcher-fastback_x5F_vw1_x5F_logo","catcher-fastback_x5F_vw1_x5F_utoe","catcher-fastback_x5F_vw1_x5F_wlt","catcher-fastback_x5F_vw1_x5F_web","catcher-fastback_x5F_vw1_x5F_bnd","catcher-fastback_x5F_vw1_x5F_plm","catcher-fastback_x5F_vw1_x5F_stch","catcher-fastback_x5F_vw1_x5F_blt","catcher-fastback_x5F_vw1_x5F_lce","catcher-fastback_x5F_vw1_x5F_fastback_x5F_side"][d],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),e.sView.add(a),e.svgSide.append(e.sView)})})}loadInfield2Welt(){const e=this;Snap.load(`${oo_imgSrc}infield_dwelt_back.svg`,i=>{this.svgMain.attr({viewBox:"0 0 400 400"}),i.selectAll("#inf_dw_x5F_vw3_x5F_bfg, #inf_dw_x5F_vw3_x5F_mid, #inf_dw_x5F_vw3_x5F_wst, #inf_dw_x5F_vw3_x5F_wlt, #inf_dw_x5F_vw3_x5F_bnd, #inf_dw_x5F_vw3_x5F_logo, #inf_dw_x5F_vw3_x5F_web, #inf_dw_x5F_vw3_x5F_plm, #inf_dw_x5F_vw3_x5F_stch, #inf_dw_x5F_vw3_x5F_lce, #inf_dw_x5F_dwelt_x5F_back, #inf_dw_x5F_vw3_x5F_rse, inf_dw_x5F_vw3_x5F_elt, inf_dw_x5F_elite_x5F_logo, inf_dw_x5F_rise_x5F_logo").forEach((a,d)=>{const y=["inf_dw_x5F_vw3_x5F_bfg","inf_dw_x5F_vw3_x5F_mid","inf_dw_x5F_vw3_x5F_wst","inf_dw_x5F_vw3_x5F_wlt","inf_dw_x5F_vw3_x5F_bnd","inf_dw_x5F_vw3_x5F_logo","inf_dw_x5F_vw3_x5F_web","inf_dw_x5F_vw3_x5F_plm","inf_dw_x5F_vw3_x5F_stch","inf_dw_x5F_vw3_x5F_lce","inf_dw_x5F_dwelt_x5F_back","inf_dw_x5F_vw3_x5F_rse","inf_dw_x5F_vw3_x5F_elt","inf_dw_x5F_elite_x5F_logo","inf_dw_x5F_rise_x5F_logo"][d],I=y.split("_").pop();bi.includes(y,"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),("rise"===I||"elite"===I||"rse"===I)&&(a.attr({opacity:0}),this.setSeriesOnGlove(I,a)),e.oView.add(a),e.svgMain.append(e.oView)})}),Snap.load(`${oo_imgSrc}infield_dwelt_pocket.svg`,i=>{this.svgInside.attr({viewBox:"0 0 400 400"}),i.selectAll("#inf_dw_x5F_vw2_x5F_web, #inf_dw_x5F_vw2_x5F_plm, #inf_dw_x5F_vw2_x5F_mid, #inf_dw_x5F_vw2_x5F_bfg, #inf_dw_x5F_vw2_x5F_wlt, #inf_dw_x5F_vw2_x5F_bnd,#inf_dw_x5F_vw2_x5F_stch, #inf_dw_x5F_vw2_x5F_lce, #inf_dw_x5F_dwelt_x5F_inside").forEach((a,d)=>{bi.includes(["inf_dw_x5F_vw2_x5F_web","inf_dw_x5F_vw2_x5F_plm","inf_dw_x5F_vw2_x5F_mid","inf_dw_x5F_vw2_x5F_bfg","inf_dw_x5F_vw2_x5F_wlt","inf_dw_x5F_vw2_x5F_bnd","inf_dw_x5F_vw2_x5F_stch","inf_dw_x5F_vw2_x5F_lce","inf_dw_x5F_dwelt_x5F_inside"][d],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.iView.add(a),e.svgInside.append(this.iView)})}),Snap.load(`${oo_imgSrc}infield_dwelt_side.svg`,i=>{this.svgSide.attr({viewBox:"0 0 400 400"}),i.selectAll("#inf_dw_x5F_vw1_x5F_plm, #inf_dw_x5F_vw1_x5F_bfg, #inf_dw_x5F_vw1_x5F_mid, #inf_dw_x5F_vw1_x5F_wlt, #inf_dw_x5F_vw1_x5F_web, #inf_dw_x5F_vw1_x5F_wst, #inf_dw_x5F_vw1_x5F_stch, #inf_dw_x5F_vw1_x5F_bnd, #inf_dw_x5F_vw1_x5F_lce, #inf_dw_x5F_vw1_x5F_logo, #inf_dw_x5F_dwelt_x5F_side").forEach((a,d)=>{bi.includes(["inf_dw_x5F_vw1_x5F_plm","inf_dw_x5F_vw1_x5F_bfg","inf_dw_x5F_vw1_x5F_mid","inf_dw_x5F_vw1_x5F_wlt","inf_dw_x5F_vw1_x5F_web","inf_dw_x5F_vw1_x5F_wst","inf_dw_x5F_vw1_x5F_stch","inf_dw_x5F_vw1_x5F_bnd","inf_dw_x5F_vw1_x5F_lce","inf_dw_x5F_vw1_x5F_logo, inf_dw_x5F_dwelt_x5F_side"][d],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),e.sView.add(a),e.svgSide.append(e.sView)})})}loadPitcher(){const e=this;Snap.load(`${oo_imgSrc}pitcher_open_back.svg`,function(i){e.svgMain.attr({viewBox:"0 0 400 400"}),i.selectAll(" #pitcher_x5F_vw3_x5F_wst, #pitcher_x5F_vw3_x5F_logo, #pitcher_x5F_vw3_x5F_thbi, #pitcher_x5F_vw3_x5F_plm, #pitcher_x5F_vw3_x5F_web, #pitcher_x5F_vw3_x5F_indi, #pitcher_x5F_vw3_x5F_indo, #pitcher_x5F_vw3_x5F_mid, #pitcher_x5F_vw3_x5F_rngo, #pitcher_x5F_vw3_x5F_rngi, #pitcher_x5F_vw3_x5F_pnko, #pitcher_x5F_vw3_x5F_pnki, #pitcher_x5F_vw3_x5F_stch, #pitcher_x5F_vw3_x5F_wlt, #pitcher_x5F_vw3_x5F_bnd, #pitcher_x5F_vw3_x5F_bnd, #pitcher_x5F_vw3_x5F_lce, #pitcher_x5F_open_x5F_back,#pitcher_x5F_vw3_x5F_rse,#pitcher_x5F_vw3_x5F_elt,#pitcher_x5F_logo_x5F_elite,#pitcher_x5F_logo_x5F_rise").forEach(function(a,d){const y=["pitcher_x5F_vw3_x5F_wst","pitcher_x5F_vw3_x5F_logo","pitcher_x5F_vw3_x5F_thbi","pitcher_x5F_vw3_x5F_plm","pitcher_x5F_vw3_x5F_web","pitcher_x5F_vw3_x5F_indi","pitcher_x5F_vw3_x5F_indo","pitcher_x5F_vw3_x5F_mid","pitcher_x5F_vw3_x5F_rngo","pitcher_x5F_vw3_x5F_rngi","pitcher_x5F_vw3_x5F_pnko","pitcher_x5F_vw3_x5F_pnki","pitcher_x5F_vw3_x5F_stch","pitcher_x5F_vw3_x5F_wlt","pitcher_x5F_vw3_x5F_bnd","pitcher_x5F_vw3_x5F_bnd","pitcher_x5F_vw3_x5F_lce","pitcher_x5F_open_x5F_back","pitcher_x5F_vw3_x5F_rse","pitcher_x5F_vw3_x5F_elt","pitcher_x5F_logo_x5F_elite","pitcher_x5F_logo_x5F_rise"][d],I=y.split("_").pop();bi.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),("rise"===I||"elite"===I)&&(a.attr({opacity:0}),e.setSeriesOnGlove(I,a)),e.oView.add(a),e.svgMain.append(e.oView)})}),Snap.load(`${oo_imgSrc}pitcher_side_view.svg`,function(i){e.svgInside.attr({viewBox:"0 0 400 400"}),i.selectAll("#pitcher_x5F_vw1_x5F_lin,#pitcher_x5F_vw1_x5F_bfg,#pitcher_x5F_vw1_x5F_plm,#pitcher_x5F_vw1_x5F_web,#pitcher_x5F_vw1_x5F_wst,#pitcher_x5F_vw1_x5F_logo, #pitcher_x5F_vw1_x5F_wlt, #pitcher_x5F_vw1_x5F_bnd, #pitcher_x5F_vw1_x5F_stch, #pitcher_x5F_vw1_x5F_lce,#pitcher_x5F_open_x5F_side").forEach(function(a,d){e.iView.add(a),e.svgInside.append(e.iView)})})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(QM),c.LFG(l0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L2={grid:{xs:1,sm:2,md:2,lg:3,all:0},slide:2,speed:400,animation:"lazy",loop:!0,point:{visible:!0},load:2,touch:!0,easing:"ease"};let V2=(()=>{class n{constructor(){this.currentTab=new Hn.x,this.currentTab$=this.currentTab.asObservable(),this.currentTab.next(0)}nextPrev(e){this.currentTab.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bG(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"ngu-tile")(1,"section")(2,"div",4)(3,"div",5)(4,"p",6),c._uU(5),c.qZA()(),c.TgZ(6,"div",5),c._UZ(7,"img",7),c.qZA(),c.TgZ(8,"div",8)(9,"button",9),c.NdJ("click",function(){const a=c.CHM(e).$implicit,d=c.oxw();return c.KtG(d.addVariation(a))}),c._uU(10,"Select"),c.qZA()()()()()}if(2&n){const e=t.$implicit;c.xp6(5),c.Oqu(null==e?null:e.name),c.xp6(2),c.Q6J("src",(null==e?null:e.img)||(null==e?null:e.imageUrl9p),c.LSH)}}let wG=(()=>{class n{constructor(e){this.gloveApi=e,this.carouselTile=L2}ngOnInit(){this.dataSource.forEach(e=>(e.imageUrl&&(e.img=e.imageUrl,delete e.imageUrl),e)),this.custom=this.gloveApi.gloveCustom$.subscribe(e=>{null!=this.custom&&(this.custom=e)})}addVariation(e){try{if(e.attribute_pewc)return void this.gloveApi.applyFormValue({attribute_pewc:e.attribute_pewc,attribute_wp:e.attribute_wp,name:e.name});if(e.attribute_wp)return void this.gloveApi.applyFormValue({attribute_wp:e.attribute_wp,name:e.name});"webs"===this.currentAttribute.title.toLowerCase()&&(this.gloveApi.applyFormValue({attribute_wp:e.id,value:e.value,attribute_pewc:"pewc_group_89335_89358",name:e.name}),this.custom.pewc_group_89335_89358=e.name,this.gloveApi.gloveCustom.next(this.custom))}catch(i){console.log(i)}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-input-slider"]],inputs:{dataSource:"dataSource",currentAttribute:"currentAttribute"},decls:4,vars:2,consts:[[3,"inputs","dataSource"],["type","button","NguCarouselPrev","",1,"leftRs"],["type","button","NguCarouselNext","",1,"rightRs"],[4,"nguCarouselDef"],[1,"slide-view_column","py-4","slide-margin"],[1,"slide-view__list","pb-2","my-2"],[2,"font-weight","600"],[1,"img-thumbnail","slide-img-size",3,"src"],[1,"slide-view__list","pt-2","my-2"],["type","button",1,"btn","btn-outline-success",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"ngu-carousel",0),c._UZ(1,"button",1)(2,"button",2),c.YNc(3,bG,11,2,"ngu-tile",3),c.qZA()),2&e&&c.Q6J("inputs",i.carouselTile)("dataSource",i.dataSource)},dependencies:[IC,Ux,Gv,Hv,tw],styles:[".elementor-kit-13[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:none}.slide-img-size[_ngcontent-%COMP%]{height:150px}.slide-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.slide-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.slide-view__list[_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.slide-margin[_ngcontent-%COMP%]{margin:0 30px}"]}),n})();function DG(n,t){if(1&n&&(c.TgZ(0,"span",13),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.AsE("",e.index+1," / ",e.sectionLength,"")}}let CG=(()=>{class n{constructor(e){this.nav=e,this.sectionLength=0,this.lastStep=!1,this.currentTab=0,this.tabCount=!1,this.addToCartBtn=document.querySelector(".single_add_to_cart_button")}ngAfterViewInit(){null!=this.addToCartBtn&&(this.addToCartBtn.disabled=!0),document.getElementsByClassName("tab")}ngOnInit(){this.nav.currentTab.next(0),this.nav.currentTab$.subscribe(e=>{this.currentTab=e,this.showTab(e)})}onSwipeRight(e){this.showTab(-1)}onSwipeLeft(e){this.showTab(1)}nextPrev(e){if(0!==this.currentTab||-1!==e)return document.getElementsByClassName("tab")[this.currentTab].style.display="none",this.nav.nextPrev(this.currentTab+e),this.currentTab=this.currentTab+e,!1}enableBtnSlider(e){const i=document.getElementsByClassName("draggable"),r=i.length;console.log(r);for(let a=0;a<r;a++)a===e&&i[a].classList.remove("active");i[e].classList.add("active")}showTab(e){var i=document.getElementsByClassName("tab");let r=document.getElementById("m-prevBtn"),a=document.getElementById("m-nextBtn");const d=document.querySelectorAll("button#m-nextBtn");i[e].style.display="block",r.style.display=0==e?"none":"inline",e==i.length-1?(a.style.display="none",d[d.length-1].style.display="none",null!=this.addToCartBtn&&(this.addToCartBtn.disabled=!1)):a.style.display="inline"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(V2))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-mobile-navigation"]],inputs:{title:"title",index:"index",sectionLength:"sectionLength",lastStep:"lastStep"},decls:15,vars:2,consts:[[1,"row","mb-3","navigation-header",3,"swiperight","swipeleft"],[1,"col-3",2,"text-align","right"],["id","m-prevBtn",1,"btn",3,"click"],[2,"text-align","end"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"col-6",2,"text-align","center"],[1,"navigation_label"],["style"," color: rgb(0, 180, 0); ",4,"ngIf"],[1,"col-3"],["id","m-nextBtn",1,"btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right"],["fill-rule","evenodd","d","M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"],[2,"color","rgb(0, 180, 0)"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.NdJ("swiperight",function(){return i.nextPrev(-1)})("swipeleft",function(){return i.nextPrev(1)}),c.TgZ(1,"div",1)(2,"button",2),c.NdJ("click",function(){return i.nextPrev(-1)}),c.TgZ(3,"div",3),c.O4$(),c.TgZ(4,"svg",4),c._UZ(5,"path",5),c.qZA()()()(),c.kcU(),c.TgZ(6,"div",6)(7,"p",7),c._uU(8),c.YNc(9,DG,2,2,"span",8),c.qZA()(),c.TgZ(10,"div",9)(11,"button",10),c.NdJ("click",function(){return i.nextPrev(1)}),c.TgZ(12,"div"),c.O4$(),c.TgZ(13,"svg",11),c._UZ(14,"path",12),c.qZA()()()()()),2&e&&(c.xp6(8),c.hij("",i.title," "),c.xp6(1),c.Q6J("ngIf",i.sectionLength>=1))},dependencies:[jn],styles:[".bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:28px;height:28px}.navigation_label[_ngcontent-%COMP%]{font-size:1.2rem;margin:unset}.navigation-header[_ngcontent-%COMP%]{align-items:center}@media (max-width: 450px){.bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:20px;height:20px}.navigation_label[_ngcontent-%COMP%]{font-size:1rem;margin:unset}}@media (max-width: 378px){.bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:20px;height:20px}.navigation_label[_ngcontent-%COMP%]{font-size:.895rem;margin:unset}}"]}),n})(),IG=(()=>{class n{transform(e){if(void 0!==e)return e.split(" ").join("-").toLowerCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=c.Yjl({name:"dashString",type:n,pure:!0}),n})();const TG=["mpersonalization"],EG=["mcustomernotes"];function xG(n,t){if(1&n){const e=c.EpF();c.ynx(0),c._UZ(1,"input",22),c.TgZ(2,"button",23),c.NdJ("click",function(){const a=c.CHM(e).$implicit,d=c.oxw(5);return c.KtG(d.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const e=t.$implicit,i=t.index;c.xp6(1),c.hYB("id","",e,"-",i,""),c.xp6(2),c.Oqu(e.name)}}function SG(n,t){if(1&n&&(c.ynx(0),c.YNc(1,xG,4,3,"ng-container",0),c.BQk()),2&n){const e=t.$implicit;c.xp6(1),c.Q6J("ngForOf",e.variations)}}function AG(n,t){if(1&n){const e=c.EpF();c.ynx(0),c.TgZ(1,"div",3)(2,"div",4)(3,"div",5),c._UZ(4,"app-mobile-navigation",6),c.TgZ(5,"div",7)(6,"dl",8)(7,"dt",9),c._uU(8," Personalize your glove "),c.qZA(),c.TgZ(9,"dd",10)(10,"div",11)(11,"input",12,13),c.NdJ("keyup",function(){c.CHM(e);const r=c.oxw().$implicit,a=c.oxw(2);return c.KtG(a.addPersonalization(r.gloveInputs[0]))}),c.qZA()()()(),c.TgZ(13,"dl",8),c.ynx(14),c.TgZ(15,"dt",9),c._uU(16," Embroidery Font "),c.qZA(),c.TgZ(17,"dd",14)(18,"div",15),c.YNc(19,SG,2,1,"ng-container",0),c.qZA()(),c.BQk(),c.qZA(),c.TgZ(20,"dl",8)(21,"dt",9),c._uU(22," Order Notes "),c.qZA(),c.TgZ(23,"dd",10)(24,"div",16)(25,"textarea",17,18),c.NdJ("keyup",function(){c.CHM(e);const r=c.oxw().$implicit,a=c.oxw(2);return c.KtG(a.addOrderNote(r.gloveInputs[2]))}),c.qZA(),c.TgZ(27,"label",19),c._uU(28,"Anything we need to know? "),c.qZA()()()()(),c.TgZ(29,"div",20)(30,"button",21),c.NdJ("click",function(){c.CHM(e);const r=c.oxw(3);return c.KtG(r.triggerAddToCart())}),c._uU(31,"Update Design"),c.qZA()()()()(),c.BQk()}if(2&n){const e=c.oxw().$implicit;c.xp6(4),c.Q6J("title","Final Step")("lastStep",!0),c.xp6(15),c.Q6J("ngForOf",e.gloveInputs)}}function NG(n,t){1&n&&(c.TgZ(0,"span",31),c._uU(1,"*"),c.qZA())}function MG(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",3)(2,"div",24)(3,"div",5),c._UZ(4,"app-mobile-navigation",25),c.TgZ(5,"div",26)(6,"div",27)(7,"h5",28),c._uU(8,"Do you want to add a finger pad or hood?"),c.YNc(9,NG,2,0,"span",29),c.qZA(),c._UZ(10,"app-input-slider",30),c.qZA()()()()(),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index;c.xp6(4),c.Q6J("title",i.title)("index",r)("sectionLength",i.gloveInputs.length),c.xp6(5),c.Q6J("ngIf",!0===i.required),c.xp6(1),c.Q6J("dataSource",i.variations)}}function OG(n,t){1&n&&(c.TgZ(0,"span",31),c._uU(1,"*"),c.qZA())}function FG(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",3)(2,"div",24),c._UZ(3,"app-mobile-navigation",25),c.TgZ(4,"div",5)(5,"div",32)(6,"div",33)(7,"h5",28),c._uU(8),c.YNc(9,OG,2,0,"span",29),c.qZA()(),c.TgZ(10,"div",33)(11,"p",34),c._uU(12,"Web Selected: "),c.TgZ(13,"span",35),c._uU(14),c.qZA()()()(),c._UZ(15,"app-input-slider",36),c.qZA()()(),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,a=c.oxw(2);c.xp6(3),c.Q6J("title",i.title)("index",r)("sectionLength",i.gloveInputs.length),c.xp6(5),c.Oqu(i.title),c.xp6(1),c.Q6J("ngIf",!0===i.required),c.xp6(5),c.Oqu(a.custom.pewc_group_89335_89358||"No Selection"),c.xp6(1),c.Q6J("dataSource",a.filterWebs())("currentAttribute",i)}}function RG(n,t){if(1&n&&(c.TgZ(0,"span",49),c.O4$(),c.TgZ(1,"svg",50),c._UZ(2,"path",51)(3,"path",52),c.qZA()()),2&n){c.oxw();const e=c.MAs(12);c.Q6J("ngbTooltip",e)}}function PG(n,t){1&n&&(c.TgZ(0,"span",31),c._uU(1,"* "),c.qZA())}function kG(n,t){if(1&n&&c._UZ(0,"img",53),2&n){const e=c.oxw().$implicit;c.Q6J("src",e.image,c.LSH)}}function LG(n,t){1&n&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"Depending on mitt style, Welt may not be available."),c.qZA(),c.BQk())}function VG(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",54)(2,"p",55),c._uU(3),c.qZA()(),c.BQk()),2&n){const e=c.oxw(3).$implicit;c.xp6(3),c.Oqu(e.info.label)}}function BG(n,t){if(1&n){const e=c.EpF();c.ynx(0),c.TgZ(1,"div",56)(2,"button",57),c.NdJ("click",function(){const a=c.CHM(e).$implicit,d=c.oxw(2),m=d.$implicit,y=d.index,I=c.oxw(4);return c.KtG(I.addColorVariation(m,a,y))}),c.ALo(3,"dashString"),c.qZA()(),c.BQk()}if(2&n){const e=t.$implicit,i=t.index;c.xp6(2),c.Udp("background",e.hex),c.hYB("id","",c.lcZ(3,5,e.label),"-",i,""),c.s9C("ngbTooltip",e.name)}}function UG(n,t){if(1&n&&(c.ynx(0),c.YNc(1,BG,4,7,"ng-container",0),c.BQk()),2&n){const e=c.oxw().$implicit,i=c.oxw(2).$implicit,r=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",r.colorFilter(i.type,e.gloveType))}}function $G(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",3)(2,"div",37)(3,"div",5),c._UZ(4,"app-mobile-navigation",38),c.TgZ(5,"div",39)(6,"div",33)(7,"h5",28),c._uU(8),c.YNc(9,RG,4,1,"span",40),c.YNc(10,PG,2,0,"span",29),c.YNc(11,kG,1,1,"ng-template",null,41,c.W1O),c.qZA(),c.YNc(13,LG,3,0,"ng-container",42),c.qZA(),c.TgZ(14,"div",43)(15,"p",11),c._uU(16,"Color Selected: "),c.TgZ(17,"span",44),c._uU(18),c.qZA()()()(),c.YNc(19,VG,4,1,"ng-container",42),c._UZ(20,"hr"),c.TgZ(21,"div",45)(22,"div",46)(23,"div",47),c.ynx(24,48),c.YNc(25,UG,2,1,"ng-container",42),c.BQk(),c.qZA()()()()()(),c.BQk()),2&n){const e=t.$implicit,i=t.index,r=c.oxw(2).$implicit,a=c.oxw(2);c.xp6(4),c.Q6J("title",r.title)("index",i)("sectionLength",r.gloveInputs.length),c.xp6(4),c.hij("",e.label," "),c.xp6(1),c.Q6J("ngIf",null!=e.image),c.xp6(1),c.Q6J("ngIf",!0===e.required),c.xp6(3),c.Q6J("ngIf","catcher"==a.gloveType.name&&"Welt Color"==e.label),c.xp6(5),c.Oqu((null==a.custom[e.attribute_wp]?null:a.custom[e.attribute_wp].name)||"No Selection"),c.xp6(1),c.Q6J("ngIf","Finger Pad Color"===r.title),c.xp6(6),c.Q6J("ngIf",void 0!==a.color&&"Finger Cover"!==r.title)}}function GG(n,t){if(1&n&&(c.ynx(0),c.YNc(1,$G,26,10,"ng-container",0),c.BQk()),2&n){const e=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",e.gloveInputs)}}function HG(n,t){if(1&n&&(c.ynx(0),c.YNc(1,AG,32,3,"ng-container",2),c.YNc(2,MG,11,5,"ng-container",2),c.YNc(3,FG,16,8,"ng-container",2),c.YNc(4,GG,2,1,"ng-container",2),c.BQk()),2&n){const e=t.$implicit;c.xp6(1),c.Q6J("ngSwitchCase","Glove Personalization"===e.title),c.xp6(1),c.Q6J("ngSwitchCase","Finger Cover"===e.title),c.xp6(1),c.Q6J("ngSwitchCase","Webs"===e.title),c.xp6(1),c.Q6J("ngSwitchCase","Glove Personalization"!==e.title)}}function jG(n,t){if(1&n&&(c.ynx(0)(1,1),c.YNc(2,HG,5,4,"ng-container",0),c.BQk()()),2&n){const e=t.$implicit;c.xp6(1),c.Q6J("ngSwitch",!0),c.xp6(1),c.Q6J("ngForOf",e.prompt)}}let WG=(()=>{class n{constructor(e,i,r){this.gloveApi=e,this.data=i,this.nav=r,this.leatherSelected="steer",this.custom={},this.carouselTile=L2,this.currentTab=0,this.lastDragPosX=0,this.isDragging=!1,this.lastPointerPosX=0}ngAfterViewInit(){const e=document.getElementsByClassName("input-checkbox")[0];e&&(e.checked=!0)}ngOnInit(){this.nav.currentTab$.subscribe(e=>{this.currentTab=e}),this.gloveApi.leatherSelected$.subscribe(e=>{this.leatherSelected=e}),this.gloveApi.gloveType$.subscribe(e=>{this.gloveType=e}),this.data.getColors().subscribe(e=>{this.color=e}),this.data.getGloveWebs().pipe((0,It.U)(e=>e.map(i=>({name:i.valueString,...i})))).subscribe(e=>{this.webs=e}),this.gloveApi.gloveDesign$.subscribe(e=>{bi.forEach(e,(i,r)=>{bi.forEach(i,(a,d)=>{"prompt"===d&&bi.map(a,(m,y)=>{m.gloveInputs=bi.filter(m.gloveInputs,I=>{if(I.gloveType.includes(this.gloveType.glove)&&I.active)return I})})})}),this.options=e,console.log(this.options)}),this.gloveApi.gloveCustom$.subscribe(e=>{null!=e&&(this.custom=e)})}addColorVariation(e,i,r){const a={attribute:e.attribute_pewc,attribute_wp:e.attribute_wp,...i};this.custom[e.attribute_wp]={name:i.name,custom:{hex:i.hex,rgb:i.rgb,section:e.glovePart}},this.gloveApi.gloveCustom.next(this.custom),this.gloveApi.applyFormValue({attribute_pewc:a.attribute,attribute_wp:a.attribute_wp,name:a.name}),this.gloveApi.applyFilltoCanvas({section:e.glovePart,hex:i.hex,rgb:i.rgb})}addPersonalization(e){this.gloveApi.applyFormValue({attribute_pewc:e.attribute_pewc,attribute_wp:e.attribute_wp,name:this.personalization.nativeElement.value})}addOrderNote(e){this.gloveApi.applyFormValue({attribute_pewc:e.attribute_pewc,attribute_wp:e.attribute_wp,name:this.customernotes.nativeElement.value})}addVariation(e){console.log(e),this.gloveApi.applyFormValue(e)}colorFilter(e,i){const r=e;let a=[];return this.color.forEach(d=>{"leather"===r?("steer"===this.leatherSelected||"kip"===this.leatherSelected)&&d.leather.includes(this.leatherSelected)&&a.push(d):d.leather.includes(r)&&a.push(d)}),a}filterWebs(){return((n,t)=>{let e=[];return null!=n&&(e=n.filter(i=>i.gloveType.find(r=>r===t.name.toLowerCase()))),e})(this.webs,this.gloveType)}filterWebInputs(){let e=[];return null!=this.webs&&(e=this.webs.filter(i=>i.gloveType.find(r=>r===this.gloveType.name.toLowerCase()))),e}selectWeb(e){console.log(e)}showTab(e){var i=document.getElementsByClassName("tab");let r=document.getElementById("m-prevBtn"),a=document.getElementById("m-nextBtn");i[e].style.display="block",r.style.display=0==e?"none":"inline",e==i.length-1&&(a.style.display="none")}triggerAddToCart(){this.gloveApi.triggerAddToCart()}initDraggableContainer(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c0),c.Y36(QM),c.Y36(V2))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-mobile-ui"]],viewQuery:function(e,i){if(1&e&&(c.Gf(TG,5),c.Gf(EG,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.personalization=r.first),c.iGM(r=c.CRH())&&(i.customernotes=r.first)}},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab"],[1,"card","p-4","border","shadow-lg"],[1,"card-body"],[1,"navigation",3,"title","lastStep"],[1,"row","px-2"],[1,"row","w-100","align-items-center"],[1,"col-sm-12","col-md-5","text-center","mb-2"],[1,"col-sm-12","col-md-7","mb-1"],[1,""],["type","text","id","glove-personalization","placeholder","Glove Personalization",1,"form-control",3,"keyup"],["mpersonalization",""],[1,"col-sm-12","col-md-7","mb-1","d-flex"],[1,"col","main-button-group__item"],[1,"form-floating"],["id","customer-notes","placeholder","Glove Personalization",1,"form-control",2,"height","100px",3,"keyup"],["mcustomernotes",""],["for","customer-notes"],[1,"row","px-5"],["type","button",1,"btn","btn-success","btn-lg","px-5",3,"click"],["type","radio","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","flex-fill","m-2",3,"click"],[1,"card","mx-3","border"],[1,"navigation",3,"title","index","sectionLength"],[1,"row","gy-3","mt-2","px-4",2,"touch-action","none"],[1,"col","mt-0"],[1,"card-title","mb-2"],["class","required",4,"ngIf"],[3,"dataSource"],[1,"required"],[1,"row","gy-3","px-4",2,"touch-action","none"],[1,"col"],[1,"h6"],[2,"color","rgb(0, 0, 0)","font-weight","600","font-style","italic","font-size","1.125em","padding-left","10px"],[3,"dataSource","currentAttribute"],[1,"card","p-4","border"],[3,"title","index","sectionLength"],[1,"row","gy-3"],["triggers","click hover",3,"ngbTooltip",4,"ngIf"],["toolTipContent",""],[4,"ngIf"],[1,"col","progress-hint","pl-3"],[2,"color","rgb(0, 0, 0)"],[1,"row","d-flex","buttons-container"],["id","draggable-container",1,"draggable"],["id","draggableheader",1,"d-flex","flex-wrap",2,"padding","10px"],[1,"col-md","radio-input-container"],["triggers","click hover",3,"ngbTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","black","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"img-thumbnail",3,"src"],[1,"row"],[1,"card-subtitle",2,"font-size","0.875em"],[1,"d-flex","align-items-center","justify-content-center","mx-2","mb-3"],["type","button","tooltipClass","qo-tooltip-class",1,"btn","shadow","radio-buttons",2,"display","flex",3,"id","ngbTooltip","click"]],template:function(e,i){1&e&&(c.ynx(0),c.YNc(1,jG,3,2,"ng-container",0),c.BQk()),2&e&&(c.xp6(1),c.Q6J("ngForOf",i.options))},dependencies:[Dr,jn,ho,fs,pC,wG,CG,IG],styles:[".navigation[_ngcontent-%COMP%]{margin-top:40px}.buttons-container[_ngcontent-%COMP%]{position:relative;white-space:nowrap}.buttons-container.button[_ngcontent-%COMP%]{padding:14px}.draggable[_ngcontent-%COMP%]{touch-action:pan-y!important}.active[_ngcontent-%COMP%]{position:absolute;left:300px}.progress-hint[_ngcontent-%COMP%]{font-size:.875em;color:#5b5a5a}.progress-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-style:italic;font-size:1.125em}hr[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.gesture[_ngcontent-%COMP%]{position:relative;animation:animateright right 15s;animation-iteration-count:1;animation-name:hand}.card[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]{border-top-right-radius:3rem;border-top-left-radius:3rem;-webkit-border-top-left-radius:3rem;-webkit-border-top-right-radius:3rem}.tab[_ngcontent-%COMP%]{display:none}@keyframes hand{0%{right:300px;opacity:0}to{vertical-align:middle;opacity:1}}.qo-tooltip-class[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{width:60px;background-color:purple}.qo-tooltip-class[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:before{border-top-color:purple}.web-buttons[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;margin:2px;display:flex;justify-content:center;vertical-align:center}.web-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;padding:2px}@media screen and (max-width: 492px){h5[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})();function zG(n,t){1&n&&(c.TgZ(0,"div"),c.O4$(),c._UZ(1,"svg",9,10),c.qZA())}function qG(n,t){1&n&&(c.TgZ(0,"div"),c.O4$(),c._UZ(1,"svg",11,12),c.qZA())}function ZG(n,t){1&n&&(c.TgZ(0,"div"),c.O4$(),c._UZ(1,"svg",13,14),c.qZA())}let YG=(()=>{class n{constructor(e,i,r){this.gloveApi=i,this.toolTip=r,e.showNavigationArrows=!0,e.showNavigationIndicators=!0,e.animation=!1,e.interval=0,r.closeDelay=500}ngOnInit(){this.product$=this.gloveApi.product$,this.gloveApi.product$.subscribe(e=>{console.log(`Receiving product info ${e}`)})}loadSnap(){const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js",e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)}setLeather(e){!0===e.target.checked?(this.gloveApi.leatherSelected.next("kip"),console.log("Kip selected"),this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89337_kip",name:"kip"})):(this.gloveApi.leatherSelected.next("steer"),console.log("Steer selected"),this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89337_steer",name:"steer"}));const i=document.getElementById("pewc_total_calc_price");this.gloveApi.product$.pipe(da()).subscribe(r=>{console.log(`Old price: ${r.price}`),console.log(`New price is ${i.value}`),i.value!==r.price?(this.gloveApi.product.next({...r,price:i.value}),console.log({...r,price:i.value})):console.log("Price is the same")})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($u),c.Y36(c0),c.Y36(zb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-glove-view"]],decls:10,vars:0,consts:[["id","glove-container",1,"container"],[2,"max-width","768px"],["id","gloveContainer",1,"row","d-flex","justify-content-center","align-items-center",2,"max-width","400px"],[1,"glove-carousel"],["gloveSlide","ngbCarousel"],["ngbSlide","","id","slide-0"],["ngbSlide","","id","slide-1"],["ngbSlide","","id","slide-2"],[1,"row"],["id","svg-side"],["svgSide",""],["id","svg-main"],["svgMain",""],["id","svg-inside"],["svgInside",""]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngb-carousel",3,4),c.YNc(5,zG,3,0,"ng-template",5),c.YNc(6,qG,3,0,"ng-template",6),c.YNc(7,ZG,3,0,"ng-template",7),c.qZA()(),c.TgZ(8,"div",8),c._UZ(9,"app-mobile-ui"),c.qZA()()())},dependencies:[_b,Nh,WG],styles:["#gloveContainer[_ngcontent-%COMP%]{background:#EDEFF0;max-width:400px;margin:0 auto}#glove-container[_ngcontent-%COMP%]{max-width:768px;background:#EDEFF0}.accordion-body[_ngcontent-%COMP%]{padding:unset!important}.glove-carousel[_ngcontent-%COMP%]{background:#EDEFF0;max-width:100%;height:auto}.clone-container[_ngcontent-%COMP%]{display:flex;align-content:space-between}.clone-container_items[_ngcontent-%COMP%]{display:flex;width:100%}.clone-image[_ngcontent-%COMP%]{width:200px}.mobile-mode[_ngcontent-%COMP%]{display:none;margin:-100px 0 0;z-index:100}.h1[_ngcontent-%COMP%]{font-size:calc(.6rem + 1.5vw)}.leather-input[_ngcontent-%COMP%]{width:50px;margin-right:25px}@media (max-width: 991px){.mobile-mode[_ngcontent-%COMP%]{display:block}.fs-6[_ngcontent-%COMP%]{font-size:.8rem!important}}@media (min-width: 768px){.mobile-mode[_ngcontent-%COMP%]{margin-top:-50px}}@media (max-width: 580px){.mobile-mode[_ngcontent-%COMP%]{margin-top:-25px}}@media (max-width: 390px){.h1[_ngcontent-%COMP%]{font-size:calc(.9rem + 1.5vw)}}"]}),n})();const KG=["buttonUi"],QG=["personalization"];function JG(n,t){1&n&&(c.TgZ(0,"div",1)(1,"div",5),c._UZ(2,"app-glove-view"),c.qZA()())}let XG=(()=>{class n{constructor(e,i,r,a){this.gloveApi=e,this.tooltip=i,this.afs=r,this.sanitizer=a,this.custom=[],this.accordionIds=[],this.domResponse={},this.tooltip.placement="right",this.tooltip.triggers="hover"}ngOnInit(){this.gloveApi.leatherSelected$.subscribe(e=>{this.leatherSelected=e}),this.gloveApi.gloveType$.subscribe(e=>{this.gloveType=e}),this.gloveApi.gloveDesign$.subscribe(e=>{console.log(e),bi.forEach(e,(i,r)=>{bi.forEach(i,(a,d)=>{"prompt"===d&&bi.map(a,(m,y)=>{m.active&&(console.log(m.active),m.gloveInputs=bi.filter(m.gloveInputs,I=>{if(I.gloveType.includes(this.gloveType.glove)&&I.active)return I}))})})}),this.options=e})}ngAfterViewInit(){this.gloveApi.init()}addVariation(e){this.gloveApi.applyFormValue(e)}triggerAddToCart(){this.gloveApi.triggerAddToCart()}addPersonalization(e){this.gloveApi.applyFormValue({attribute:e.attribute_pewc,name:this.personalization.nativeElement.value})}urlSanitizer(e){return this.sanitizer.bypassSecurityTrustResourceUrl(`https:${e}`)}panelChange(e){if(this.domResponse[e]){const r=this.domResponse[e];document.querySelectorAll("button.btn").length>0&&document.querySelectorAll("button.btn").forEach(a=>{a.classList.remove("active"),a.innerText.toLowerCase()===r.name.toLowerCase()&&a.classList.add("active"),a.innerText===r&&a.classList.add("active")})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c0),c.Y36(zb),c.Y36(l0),c.Y36(Nc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-glove-ui"]],viewQuery:function(e,i){if(1&e&&(c.Gf(KG,5),c.Gf(QG,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.buttonUi=r.first),c.iGM(r=c.CRH())&&(i.personalization=r.first)}},features:[c._Bn([R])],decls:5,vars:1,consts:[["id","glove-designer",1,"container",2,"padding","unset"],[1,"row"],["activeIds","main-0",3,"destroyOnHide"],["id","main-0","title","Glove Designer"],["ngbPanelContent",""],[1,"col-sm-12"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"ngb-accordion",2)(3,"ngb-panel",3),c.YNc(4,JG,3,0,"ng-template",4),c.qZA()()()()),2&e&&(c.xp6(2),c.Q6J("destroyOnHide",!1))},dependencies:[Qe,je,fe,YG],styles:[".ngb-padding[_ngcontent-%COMP%]{padding:0 6px}ngb-accordion[_ngcontent-%COMP%]{padding:0 6px}.info-modal[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:10px}.custom-header-button.accordion-button[_ngcontent-%COMP%]{--bs-accordion-active-color: #fff;--bs-accordion-btn-active-icon: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'><path fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/></svg>\")}.numberCircle[_ngcontent-%COMP%]{border-radius:50%;width:1.8rem;height:1.8rem;padding:8px;background:#fff;border:2px solid #666;color:#666;text-align:center;font:1rem Arial,sans-serif}.web-buttons[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;margin:2px;display:flex;justify-content:center;vertical-align:center}.web-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;padding:2px}.form-group[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin:.25rem}.fpad-img-size[_ngcontent-%COMP%]{width:auto;height:172px}.fpad-web-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.fpad-web-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.fpad-web-view__list[_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.fpad-margin[_ngcontent-%COMP%]{margin:0 30px}.glove-brand-img-size[_ngcontent-%COMP%]{width:206px;height:100px}.glove-brand-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.glove-brand-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.glove-brand-margin[_ngcontent-%COMP%]{margin:0 30px}section[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})();const eH=[{attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",name:'10.50"',glove:["infielder","pitcher"],seqNo:1},{attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",glove:["infielder","pitcher"],seqNo:2,name:'11"'},{seqNo:3,glove:["infielder","pitcher"],name:'11.25"',attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size"},{seqNo:3,glove:["infielder","pitcher"],name:'11.50"',attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size"},{glove:["infielder","pitcher"],seqNo:4,attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",name:'11.75"'},{attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",seqNo:5,glove:["infielder","pitcher"],name:'12"'},{seqNo:6,glove:["outfielder","pitcher","first base","1st base"],name:'12.50"',attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder"],name:'12.75"',seqNo:7,attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder","first base","1st base"],attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",name:'13"',seqNo:8},{seqNo:9,glove:["outfielder","first base","1st base"],attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",name:'14"'},{seqNo:11,attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",name:'31.50"',glove:["catcher"]},{seqNo:11,attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",name:'32.50"',glove:["catcher"]},{glove:[],attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",seqNo:12,name:'33"'},{seqNo:13,name:'33.50"',glove:["catcher"],attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339"},{name:'34"',attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:14},{name:'34.50"',attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:15}],B2=[{active:!0,seqNo:1,id:"main-",disabled:!1,includeOptions:!1,title:"Glove Type",label:"Glove Type:",variations:[{attribute_pewc:"pewc_group_89335_89336",name:"Baseball",label:"Glove Type",attribute_wp:"pa_glove-type"},{label:"Glove Type",name:"Softball",attribute_pewc:"pewc_group_89335_89336",attribute_wp:"pa_glove-type"}]},{active:!1,seqNo:2,id:"main-",disabled:!1,includeOptions:!1,title:"Leather Type",label:"Leather Type:",variations:[{attribute_pewc:"pewc_group_89335_89336",name:"US Steer",label:"Leather Type",attribute_wp:"pa_glove-leather"},{label:"Leather Type",name:"Japan Kip",attribute_pewc:"pewc_group_89335_89336",attribute_wp:"pa_glove-leather"}]},{active:!0,seqNo:3,id:"main-",disabled:!1,includeOptions:!1,attribute_pewc:"pewc_group_89335_89338",title:"Glove Position",label:"Glove Position",variations:[{gloveType:"glove",label:"Field Position",attribute_pewc:"pewc_group_89335_89338",name:"Infielder",gloveBase:"inf",attribute_wp:"pa_glove-position"},{gloveType:"mitt",name:"Catcher",gloveBase:"catcher-mitt",attribute_pewc:"pewc_group_89335_89338",label:"Field Position",attribute_wp:"pa_glove-position"},{attribute_pewc:"pewc_group_89335_89338",label:"Field Position",name:"1st Base",gloveType:"mitt",gloveBase:"fbase",attribute_wp:"pa_glove-position"},{name:"Outfielder",attribute_pewc:"pewc_group_89335_89338",label:"Field Position",gloveBase:"of",gloveType:"glove",attribute_wp:"pa_glove-position"}]},{active:!0,seqNo:4,id:"main-",disabled:!1,includeOptions:!1,attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",label:"Glove Size",title:"Glove Size",options:[],variations:[]},{active:!0,seqNo:5,id:"main-",attribute_pewc:"pewc_group_89335_89340",disabled:!1,includeOptions:!1,label:"Throwing Arm",title:"Throwing Arm",options:[],variations:[{name:"Right Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340",attribute_wp:"pa_throwing-arm"},{name:"Left Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340",attribute_wp:"pa_throwing-arm"}]},{active:!1,seqNo:6,id:"main-",disabled:!0,label:"Glove Brand",title:"Glove Brand",includeOptions:!0,options:[],info:{title:"<h3>What is the difference between NYStix and 9P?</h3>",content:"<p>NYStix was created to fulfill a need for better baseball equipment in the parks of New York City and Long Island. <br> 9P (9Positions) is a brand created for the world.</p>"},variations:[{id:"pa_glove-brand",valueString:"NYStix",attribute_pewc:"pewc_group_89335_89341",img:"https://nystix.com/wp-content/uploads/2021/10/nystix.svg",value:"nystix",name:"NYStix",attribute_wp:"pa_glove-brand"},{name:"9Positions",value:"9positions",attribute_pewc:"pewc_group_89335_89341",attribute_wp:"pa_glove-brand",img:"https://nystix.com/wp-content/uploads/2021/10/nine-positions.svg",id:"pa_glove-brand",valueString:"9Positions"},{attribute_pewc:"pewc_group_89335_89341",img:"//nystix.com/wp-content/uploads/2021/10/nystix-alt.svg",value:"nystix-alt",valueString:"NYStix Alt",id:"pa_glove-brand",name:"NYStix Alt",attribute_wp:"pa_glove-brand"}]},{seqNo:6,id:"main-",disabled:!1,includeOptions:!0,contents:[],title:"Glove Designer",label:"Glove Designer",options:[{id:"",type:"leather",title:"",label:"Surface Leather",header:"glove-design-",info:{description:null,label:null},input:"buttons",prompt:[{active:!0,title:"Glove Shell",elementRef:"radio",type:"leather",gloveInputs:[{glovePart:"thb",fingerId:"1",label:"Thumb Finger",gloveType:["mitt"],attribute_wp:"pa_thumb-finger-color",attribute_pewc:"pewc_group_89335_89342",image:null,required:!0,active:!0},{glovePart:"bfg",attribute_pewc:"pewc_group_89335_89343",label:"Back Finger",gloveType:["mitt"],fingerId:"2",attribute_wp:"pa_back-finger-color",required:!0,active:!0},{glovePart:"thbo",attribute_pewc:"pewc_group_89335_89344",gloveType:["glove"],label:"Thumb Outer",attribute_wp:"pa_thumb-outer-color",image:null,fingerId:"1",required:!0,active:!0},{attribute_wp:"pa_thumb-inner-color",glovePart:"thbi",label:"Thumb Inner",attribute_pewc:"pewc_group_89335_89345",image:null,gloveType:["glove"],fingerId:"2",required:!0,active:!0},{fingerId:"3",gloveType:["glove"],label:"Index Inner",glovePart:"indi",attribute_pewc:"pewc_group_89335_89346",attribute_wp:"pa_index-inner-color",required:!0,image:null,active:!0},{glovePart:"indo",attribute_wp:"pa_index-outer-color",fingerId:"4",gloveType:["glove"],label:"Index Outer",attribute_pewc:"pewc_group_89335_89347",required:!0,image:null,active:!0},{fingerId:"5",label:"Middle Inner",gloveType:["glove"],glovePart:"midi",attribute_pewc:"pewc_group_89335_89348",attribute_wp:"pa_middle-inner-color",required:!0,image:null,active:!0},{attribute_wp:"pa_middle-outer-color",fingerId:"5",glovePart:"mido",gloveType:["glove"],label:"Middle Outer",attribute_pewc:"pewc_group_89335_89349",image:null,required:!0,active:!0},{gloveType:["glove"],fingerId:"6",attribute_pewc:"pewc_group_89335_89350",label:"Ring Inner",attribute_wp:"pa_ring-inner-color",glovePart:"rngi",required:!0,image:null,active:!0},{attribute_wp:"pa_ring-outer-color",attribute_pewc:"pewc_group_89335_89351",fingerId:"7",label:"Ring Outer",glovePart:"rngo",gloveType:["glove"],required:!0,image:null,active:!0},{fingerId:"8",gloveType:["glove"],attribute_pewc:"pewc_group_89335_89352",glovePart:"pnki",label:"Pinky Inner",attribute_wp:"pa_pinky-inner-color",required:!0,image:null,active:!0},{label:"Pinky Outer",gloveType:["glove"],attribute_wp:"pa_pinky-outer-color",fingerId:"9",glovePart:"pnko",attribute_pewc:"pewc_group_89335_89353",required:!0,image:null,active:!0},{fingerId:"10",gloveType:["glove","mitt"],attribute_pewc:"pewc_group_89335_89354",label:"Wrist Color",attribute_wp:"pa_wrist-color",glovePart:"wst",required:!0,image:null,active:!0}],info:{description:null,label:null}},{title:"Glove Pocket",header:"glove-design-",type:"leather",elementRef:"radio",active:!0,info:{label:null,description:null},gloveInputs:[{attribute_pewc:"pewc_group_89335_89355",attribute_wp:"pa_palm-color",glovePart:"plm",gloveType:["glove","mitt"],fingerId:"11",label:"Palm Color",required:!0,active:!0,image:null},{attribute_pewc:"pewc_group_89335_90148",attribute_wp:"pa_lining-color",glovePart:"lin",gloveType:["glove","mitt"],fingerId:"11",label:"Lining",required:!0,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/palm-lining.jpg",info:{label:null,description:"The palm lining is inside of the glove. The color will not be visible."}},{attribute_pewc:"pewc_group_89335_89356",attribute_wp:"pa_target-color",glovePart:"tgt",gloveType:["mitt"],fingerId:"11",label:"Target Color",required:!1,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/target-samples.jpg"}]},{title:"Finger Loop",header:"glove-design-",active:!1,type:"leather",elementRef:"radio",gloveInputs:[{attribute_wp:"pa_finger-loop-color",glovePart:"fstrap",attribute_pewc:"pewc_group_89335_89357",fingerId:"11",gloveType:["mitt","glove"],label:"Thumb/Little Finger Strap",required:!1,active:!1,image:null}],info:{label:null,description:"Finger loops are the laces that secure the thumbs and pinky fingers."}}]},{label:"Glove Web",header:"glove-web-",id:"static-",input:"buttons",type:"leather",info:{label:null,description:"Swipe to view all web options and select the web for your glove. "},prompt:[{active:!0,title:"Webs",attribute_pewc:"pewc_group_89335_89358",attribute_wp:"",header:"",elementRef:"radio",type:"leather",gloveInputs:[{label:"Web Color",glovePart:"web",attribute_pewc:"pewc_group_89335_89359",fingerId:"13",attribute_wp:"pa_web-color",gloveType:["glove","mitt"],required:!0,active:!0,image:null},{attribute_pewc:"pewc_group_89335_89360",glovePart:"utoe",gloveType:["mitt"],attribute_wp:"pa_web-base-color",fingerId:"4",label:"Web Base Color",required:!0,active:!0,image:null}],info:{label:null,description:null}}]},{label:"Glove Binding, Lace & Welt",header:"glove-trim-",type:"leather",info:{label:null,description:"Select colors for binding, lace and welt. Selections are required."},input:"buttons",prompt:[{type:"leather",glovePart:"bnd",title:"Glove Trim",elementRef:"radio",active:!0,gloveInputs:[{attribute_wp:"pa_binding-color",attribute_pewc:"pewc_group_89335_89361",fingerId:"15",gloveType:["glove","mitt"],label:"Binding Color",glovePart:"bnd",required:!0,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/best-binding-on-baseball-glove.jpg"},{attribute_wp:"pa_lace-color",attribute_pewc:"pewc_group_89335_89362",gloveType:["glove","mitt"],fingerId:"14",label:"Lace Color",glovePart:"lce",required:!0,active:!0,image:null},{attribute_wp:"pa_welt-color",attribute_pewc:"pewc_group_89335_89363",gloveType:["glove","mitt"],fingerId:"13",label:"Welt Color",glovePart:"wlt",required:!0,image:"https://nystix.com/wp-content/uploads/2022/10/best-welting-on-a-baseball-glove.jpg",active:!0}],info:{description:null,label:null}}]},{label:"Glove Embroidery and Stitching",title:"",header:"glove-thread-",type:"embroidery",info:{label:null,description:"In the Logo Color section, choose the thread color for the wrist logo and personalization. The stitching tread color will be used to bind the leather parts."},input:"buttons",prompt:[{active:!0,type:"embroidery",header:"",glovePart:"logo",title:"Embroidery",elementRef:"radio",gloveInputs:[{fingerId:"17",attribute_wp:"pa_glove-logo-color",glovePart:"logo",label:"Glove Logo Color",attribute_pewc:"pewc_group_89335_89364",image:"https://nystix.com/wp-content/uploads/2022/10/brand-logo.jpg",gloveType:["mitt","glove"],required:!0,active:!0},{glovePart:"stch",gloveType:["glove","mitt"],label:"Stitching Color",fingerId:"16",attribute_wp:"pa_stitching-color",attribute_pewc:"pewc_group_89335_89365",image:"https://nystix.com/wp-content/uploads/2022/10/stitching-sample.jpg",required:!0,active:!0},{glovePart:"psnl",gloveType:["glove","mitt"],label:"Personalization Embroidery Color",fingerId:"16",attribute_wp:"pa_embroidery-color",attribute_pewc:"pewc_group_89335_90601",image:"https://nystix.com/wp-content/uploads/2022/10/personalization-sample.jpg",required:!1,active:!0}],info:{label:null,description:null}}]},{id:"static-",title:"",prompt:[{title:"Finger Cover",active:!0,elementRef:"radio",header:"",info:{label:null,description:"Select the type of finger cover you want to add to your glove. It is not required to have a finger cover."},variations:[{attribute_pewc:"pewc_group_89335_89366",attribute_wp:"pa_finger-protector",img:"https://nystix.com/wp-content/uploads/2020/11/no-pad-hood.jpg",name:"No Pad"},{name:"Finger Pad",attribute_pewc:"pewc_group_89335_89366",attribute_wp:"pa_finger-protector",img:"https://nystix.com/wp-content/uploads/2020/11/nystix-finger-pad.jpg"},{img:"https://nystix.com/wp-content/uploads/2020/11/finger-hood.jpg",name:"F. Hood",attribute_pewc:"pewc_group_89335_89366",attribute_wp:"pa_finger-protector"}],type:"leather",gloveInputs:[]},{title:"Pad/Hood Color",active:!0,type:"leather",elementRef:"radio",info:{label:'Not required if "No Pad" was selected in previous step.',description:"The color of the finger cover might not change in glove view."},gloveInputs:[{glovePart:"fpad",fingerId:"",attribute_pewc:"pewc_group_89335_89367",attribute_wp:"pa_finger-protector-color",label:"Finger Pad Color",gloveType:["mitt","glove"],required:!1,image:null,active:!0}]}],info:{label:null,description:null},input:"buttons",label:"Finger Protection",header:"finger-protector",type:"leather"},{title:"",label:"Glove Personalization",header:"glove-design-",input:"buttons",active:!0,info:{label:null,description:null},type:"leather",id:"static-",prompt:[{title:"Glove Personalization",info:{label:null,description:null},active:!0,gloveInputs:[{label:"Glove Personalization",glovePart:"psnl",active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89368",elementRef:"text",attribute_wp:"custom_text_add_on",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}},{elementRef:"text",attribute_pewc:"pewc_group_89335_89369",label:"Embroidery Font",fingerId:null,attribute_wp:"pa_embroidery-font",active:!0,required:!1,variations:[{name:"Script Font",attribute_pewc:"pewc_group_89335_89369",attribute_wp:"pa_embroidery-font",label:"Glove Font"},{name:"Block Font",attribute_pewc:"pewc_group_89335_89369",attribute_wp:"pa_glove-font",label:"Glove Font"}],glovePart:"",gloveType:["glove","mitt"],info:{label:null,description:null}},{label:"Customer Notes",glovePart:null,active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89568",elementRef:"text",attribute_wp:"order_notes_textarea",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}}]}]}],variations:[]}],tH=["mainStep"],nH=["designId"];function iH(n,t){if(1&n){const e=c.EpF();c.ynx(0),c.TgZ(1,"div",6)(2,"label",7),c._uU(3,"Enter a design name"),c.TgZ(4,"span",8),c.O4$(),c.TgZ(5,"svg",9),c._UZ(6,"path",10)(7,"path",11),c.qZA()(),c._uU(8,":"),c.qZA()(),c.kcU(),c.TgZ(9,"div",12)(10,"div",13),c._UZ(11,"input",14,15),c.qZA()(),c.TgZ(13,"div",16)(14,"button",17),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.gloveNameInput())}),c._uU(15,"Save"),c.qZA()(),c.BQk()}if(2&n){const e=c.oxw();c.xp6(4),c.Q6J("ngbTooltip",e.whySaveDesign)}}function rH(n,t){if(1&n&&(c.TgZ(0,"h6"),c._uU(1),c.qZA()),2&n){const e=c.oxw(3).$implicit;c.xp6(1),c.Oqu(e.title)}}function sH(n,t){1&n&&(c.ynx(0),c.YNc(1,rH,2,1,"ng-template",21),c.BQk())}function oH(n,t){if(1&n){const e=c.EpF();c.ynx(0),c._UZ(1,"input",27),c.TgZ(2,"button",28),c.NdJ("click",function(){const a=c.CHM(e).$implicit,d=c.oxw(7);return c.KtG(d.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const e=t.$implicit,i=t.index;c.xp6(1),c.hYB("id","",e,"-",i,""),c.xp6(2),c.Oqu(e.name)}}function aH(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"dd",25)(2,"div",26),c.YNc(3,oH,4,3,"ng-container",18),c.qZA()(),c.BQk()),2&n){const e=c.oxw(6);c.xp6(3),c.Q6J("ngForOf",e.setGloveSize())}}function lH(n,t){if(1&n){const e=c.EpF();c.ynx(0),c._UZ(1,"input",30),c.TgZ(2,"button",31),c.NdJ("click",function(){const a=c.CHM(e).$implicit,d=c.oxw(7);return c.KtG(d.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const e=t.$implicit,i=t.index;c.xp6(1),c.MGl("id","button-",i,""),c.xp6(2),c.Oqu(e.name)}}function cH(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",29),c.YNc(2,lH,4,2,"ng-container",18),c.qZA(),c.BQk()),2&n){const e=c.oxw(4).$implicit;c.xp6(2),c.Q6J("ngForOf",e.variations)}}function uH(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"dt",23),c._uU(2),c.qZA(),c.YNc(3,aH,4,1,"ng-container",2),c.YNc(4,cH,3,1,"ng-container",2),c._UZ(5,"div",24),c.BQk()),2&n){const e=c.oxw(3).$implicit;c.xp6(2),c.hij(" ",e.label," "),c.xp6(1),c.Q6J("ngIf","glove size"===e.label.toLowerCase()),c.xp6(1),c.Q6J("ngIf","glove size"!==e.title.toLowerCase())}}function dH(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"ngu-tile")(1,"section")(2,"div",38)(3,"div",39)(4,"h4",40),c._uU(5),c.qZA()(),c.TgZ(6,"div",39),c._UZ(7,"img",41),c.qZA(),c.TgZ(8,"div",42)(9,"button",43),c.NdJ("click",function(){const a=c.CHM(e).$implicit,d=c.oxw(7);return c.KtG(d.addVariation(a))}),c._uU(10,"Select"),c.qZA()()()()()}if(2&n){const e=t.$implicit;c.xp6(5),c.Oqu(null==e?null:e.name),c.xp6(2),c.Q6J("src",null==e?null:e.img,c.LSH)}}function hH(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",32)(2,"div",3),c._UZ(3,"div",33),c.TgZ(4,"ngu-carousel",34),c._UZ(5,"button",35)(6,"button",36),c.YNc(7,dH,11,2,"ngu-tile",37),c.qZA()()(),c.BQk()),2&n){const e=c.oxw(4).$implicit,i=c.oxw(2);c.xp6(3),c.Q6J("innerHtml",e.info.title+e.info.content,c.oJD),c.xp6(1),c.Q6J("inputs",i.carouselTile)("dataSource",e.variations)}}function fH(n,t){if(1&n&&(c.ynx(0),c.YNc(1,hH,8,3,"ng-container",2),c.BQk()),2&n){const e=c.oxw(3).$implicit;c.xp6(1),c.Q6J("ngIf","Glove Brand"===e.title)}}function pH(n,t){if(1&n&&(c.TgZ(0,"dl",22),c.YNc(1,uH,6,3,"ng-container",2),c.YNc(2,fH,2,1,"ng-container",2),c.qZA()),2&n){const e=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngIf",!e.includeOptions),c.xp6(1),c.Q6J("ngIf",e.includeOptions)}}function gH(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"ngb-panel",19),c.YNc(2,sH,2,0,"ng-container",18),c.YNc(3,pH,3,2,"ng-template",20),c.qZA(),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,a=c.oxw(2);c.xp6(1),c.hYB("id","",i.id,"",r,""),c.Q6J("disabled",i.disabled),c.xp6(1),c.Q6J("ngForOf",a.steps)}}function mH(n,t){if(1&n&&(c.ynx(0),c.YNc(1,gH,4,4,"ng-container",2),c.BQk()),2&n){const e=t.$implicit;c.xp6(1),c.Q6J("ngIf",!0===e.active)}}function _H(n,t){if(1&n&&(c.ynx(0),c.YNc(1,mH,2,1,"ng-container",18),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.steps)}}const vH=[{path:"",component:(()=>{class n{constructor(e,i,r,a){this.afs=e,this.api=i,this.router=r,this.data=a,this.panelId="main-1",this.domResponse={},this.designNameSaved=!1,this.whySaveDesign="Backup your design to reorder easily.",this.carouselTile={grid:{xs:1,sm:2,md:3,lg:3,all:0},slide:2,speed:400,animation:"lazy",loop:!0,point:{visible:!0},load:2,touch:!0,easing:"ease"},this.gloveType="",this.gloveSize=eH}ngOnInit(){this.data.getSteps().subscribe(e=>{B2.forEach(i=>{!1===i.disabled&&i.includeOptions&&this.api.gloveDesign.next(i.options)}),this.steps=B2.filter(i=>1==i.active)})}gloveNameInput(){var e=this;return(0,Be.Z)(function*(){let i=e.designId.nativeElement.value;i&&i.length?(document.getElementById("design-btn").disabled=!1,e.afs.collection("gloveDesigns").add({designId:i}).then(a=>{e.api.designName.next({doc:a.id,designId:i}),e.designNameSaved=!0})):alert("Please enter a name for your design")})()}addVariation(e){const i=e.name.toLowerCase();switch(this.api.applyFormValue(e),(i.includes("steer")||i.includes("steer"))&&this.api.setGloveType(i),i){case"infielder":case"outfielder":case"catcher":case"pitcher":this.api.setGloveBase({name:i,gloveBase:e.gloveBase,gloveType:e.gloveType}),this.gloveType=i;break;case"first base":case"1st base":this.api.setGloveBase({name:"first base",gloveBase:e.gloveBase,gloveType:e.gloveType}),this.gloveType=i}"main-4"!=this.panelId?this.mainStep.expand(this.panelId):this.router.navigate(["./glove-designer"],{skipLocationChange:!0})}setGloveSize(){return null!=this.gloveSize?this.gloveSize.filter(r=>r.glove.includes(this.gloveType)):[]}panelChange(e){this.panelId=`main-${parseInt(e.split("-")[1])+1}`}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(l0),c.Y36(c0),c.Y36(so),c.Y36(QM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main"]],viewQuery:function(e,i){if(1&e&&(c.Gf(tH,5),c.Gf(nH,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.mainStep=r.first),c.iGM(r=c.CRH())&&(i.designId=r.first)}},features:[c._Bn([R])],decls:7,vars:4,consts:[[1,"container-fluid"],[1,"row","p-5"],[4,"ngIf"],[1,"row"],["activeIds","main-0",3,"closeOthers","destroyOnHide","shown"],["mainStep",""],[1,"col-sm-12","col-lg-12"],["for","design-id",1,"form-label","justify-content-start"],[2,"padding-left","2px",3,"ngbTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","#041e42","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"col-sm-12","col-lg-4"],[1,"form-label"],["type","text","name","","id","design-id","placeholder","Andre Custom Glove",1,"form-control"],["designId",""],[1,"col-sm-12","col-lg-2"],["id","design-btn",1,"btn","btn-primary","btn-md","w-100",3,"click"],[4,"ngFor","ngForOf"],[3,"id","disabled"],["ngbPanelContent",""],["ngbPanelTitle",""],[1,"row","align-items-center"],[1,"col-sm-12","text-center"],[1,"col-12"],[1,"col-sm-12","mb-1","d-flex"],[1,"col","main-button-group__item","px-4"],["type","radio","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","flex-fill","m-2",3,"click"],["role","group",1,"col","main-button-group__item","btn-group","px-4"],["type","checkbox","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","m-2",3,"click"],[1,"container"],[1,"col-12","px-5","brand-info",3,"innerHtml"],[3,"inputs","dataSource"],["type","button","NguCarouselPrev","",1,"leftRs"],["type","button","NguCarouselNext","",1,"rightRs"],[4,"nguCarouselDef"],[1,"d-flex","flex-column","py-4"],[1,"glove-brand-view__list","pb-2","my-2"],[2,"font-weight","600"],["mat-card-image","",1,"glove-brand-img-size",3,"src"],[1,"glove-brand-view__list","pt-2","my-2"],["type","button",1,"btn","btn-lg","w-100","btn-outline-success",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,iH,16,1,"ng-container",2),c.qZA(),c.TgZ(3,"div",3)(4,"ngb-accordion",4,5),c.NdJ("shown",function(a){return i.panelChange(a)}),c.YNc(6,_H,2,1,"ng-container",2),c.qZA()()()),2&e&&(c.xp6(2),c.Q6J("ngIf",!i.designNameSaved),c.xp6(2),c.Q6J("closeOthers",!0)("destroyOnHide",!0),c.xp6(2),c.Q6J("ngIf",void 0!==i.steps))},dependencies:[Dr,jn,Qe,je,re,fe,pC,IC,Ux,Gv,Hv,tw],styles:["ngb-accordion[_ngcontent-%COMP%]{padding:0 6px}.brand-info[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:inherit}.brand-info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400}.main[_ngcontent-%COMP%]{display:flex}.main-button-group[_ngcontent-%COMP%]{display:flex;margin-bottom:2px}.main-button-group__item[_ngcontent-%COMP%]{display:flex;padding:1rem}label[_ngcontent-%COMP%]{width:100%;height:60px;display:flex;align-items:center;justify-content:center;font-size:1rem;margin-right:5px}.wrap[_ngcontent-%COMP%]{flex-flow:wrap}.glove-brand-img-size[_ngcontent-%COMP%]{width:150px;height:100px}.glove-brand-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.glove-brand-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.glove-brand-margin[_ngcontent-%COMP%]{margin:0 30px}section[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 991px){.main-button-group__item[_ngcontent-%COMP%]{padding:.2rem}}@media (max-width: 580px){.brand-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.brand-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;font-weight:400}.main-button-group__item[_ngcontent-%COMP%]{padding:.4rem}label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;height:50px;padding:0}}@media (max-width: 460px){.card[_ngcontent-%COMP%]{padding:4px 4x}.main-button-group__item[_ngcontent-%COMP%]{padding:.3rem}button[_ngcontent-%COMP%]{font-size:.8rem;padding-right:0;padding-left:0}}"]}),n})()},{path:"glove-designer",component:XG}];let yH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wr.forRoot(vH),wr]}),n})();const bH=["cgbloader"];function wH(n,t){1&n&&(c.ynx(0),c._UZ(1,"router-outlet"),c.BQk())}function DH(n,t){1&n&&(c.ynx(0),c.TgZ(1,"div",2),c._UZ(2,"div",3),c.qZA(),c.BQk())}let CH=(()=>{class n{constructor(e,i,r){this.api=e,this.router=i,this.afs=r,this.title="japaneseGloveUi",this.loading=!0,this.loaderStatus=!1,this.mutationNode=document.getElementsByClassName("wfacp_qv-modal")[0],this.mutationConfig={attributes:!1,childList:!0,subtree:!1},this.router.navigate([""],{skipLocationChange:!0}),this.loading=!1}ngAfterViewInit(){this.loadSnap(),this.mutationNode&&(this.observer=new MutationObserver(this.mutationCallback),this.observer.observe(this.mutationNode,this.mutationConfig))}ngOnDestroy(){this.observer.disconnect()}ngAfterContentChecked(){try{document.getElementsByClassName("cgb-loader").length>0&&(document.getElementsByClassName("cgb-loader")[0].style.display="none")}catch(e){console.log(e)}}ngOnInit(){this.api.product.next({name:this.name,price:this.price,sale_price:this.sale}),this.router.events.subscribe(e=>{switch(!0){case e instanceof QC:case e instanceof Hm:this.loading=!0;break;case e instanceof qu:case e instanceof ty:case e instanceof mw:this.loading=!1;break;default:this.loading=!0}})}loadSnap(){const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js",e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)}mutationCallback(e,i){"childList"===e.type&&this.api.populateWFProductOptions()}mutationListener(){const e=document.getElementsByClassName("wfacp_qv-modal")[0];new MutationObserver(this.mutationCallback).observe(e,{attributes:!1,childList:!0,subtree:!1})}removeLoader(){!this.loaderStatus&&!this.loaderStatus&&document.getElementsByClassName("cgb-loader").length>0&&(document.getElementsByClassName("cgb-loader")[0].style.display="none",this.loaderStatus=!0)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c0),c.Y36(so),c.Y36(l0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&c.Gf(bH,5),2&e){let r;c.iGM(r=c.CRH())&&(i.loader=r.first)}},inputs:{name:"name",price:"price",sale:["sale-price","sale"]},decls:3,vars:2,consts:[[1,"container-fluid"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-grow","text-dark",2,"width","3rem","height","3rem"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.YNc(1,wH,2,0,"ng-container",1),c.YNc(2,DH,3,0,"ng-container",1),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",!i.loading),c.xp6(1),c.Q6J("ngIf",i.loading))},dependencies:[jn,Dw],styles:["#glove-custom-ui[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]{padding:0}"]}),n})(),IH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr,nw]}),n})();const U2_firebaseConfig={apiKey:"AIzaSyCEmZV_arlakRS_4aEmK7InwXRXAMfIybk",authDomain:"nys-custom-ui.firebaseapp.com",projectId:"nys-custom-ui",storageBucket:"nys-custom-ui.appspot.com",messagingSenderId:"946748632034",appId:"1:946748632034:web:aac02bf3a97c0b971ce7bb",measurementId:"G-ZY74EENWC4"};let $2=(()=>{class n extends wn{constructor(){super(...arguments),this.overrides={swipe:{velocity:.4,direction:Mc.DIRECTION_HORIZONTAL},pan:{direction:Mc.DIRECTION_LEFT|Mc.DIRECTION_RIGHT}}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TH=(()=>{class n{constructor(e){this.injector=e;const i=function Pc(n,t){const e=function Fc(n,t){return t.get(c._Vd).resolveComponentFactory(n).inputs}(n,t.injector),i=t.strategyFactory||new tp(n,t.injector),r=function ms(n){const t={};return n.forEach(({propName:e,templateName:i})=>{t[function ld(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(i)]=e}),t}(e);class a extends Kh{constructor(m){super(),this.injector=m}get ngElementStrategy(){if(!this._ngElementStrategy){const m=this._ngElementStrategy=i.create(this.injector||t.injector);e.forEach(({propName:y})=>{if(!this.hasOwnProperty(y))return;const I=this[y];delete this[y],m.setInputValue(y,I)})}return this._ngElementStrategy}attributeChangedCallback(m,y,I,A){this.ngElementStrategy.setInputValue(r[m],I)}connectedCallback(){let m=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),m=!0),this.ngElementStrategy.connect(this),m||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(m=>{const y=new CustomEvent(m.name,{detail:m.value});this.dispatchEvent(y)})}}return a.observedAttributes=Object.keys(r),e.forEach(({propName:d})=>{Object.defineProperty(a.prototype,d,{get(){return this.ngElementStrategy.getInputValue(d)},set(m){this.ngElementStrategy.setInputValue(d,m)},configurable:!0,enumerable:!0})}),a}(CH,{injector:this.injector});customElements.define("lp-glove-builder",i)}ngDoBootstrap(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:$2,useClass:$2}],imports:[pu,yH,Ox,xg,vG,kd.hO.initializeApp(U2_firebaseConfig),nw,IH]}),n})();(0,c.G48)(),ll().bootstrapModule(TH).catch(n=>console.error(n))},5867:(xt,Ge,H)=>{"use strict";H.d(Ge,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=H(9681);(0,c.registerVersion)("firebase","9.10.0","app")},127:(xt,Ge,H)=>{"use strict";H.d(Ge,{Z:()=>c.Z});var c=H(3942);c.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(xt,Ge,H)=>{"use strict";H.r(Ge);var c=H(5861),P=H(3942),j=H(2090),ye=H(9681),ge=H(655),De=H(1877),Ce=H(4859);const Le=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ct=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ne=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new De.Yd("@firebase/auth");function Tt(w,...g){st.logLevel<=De.in.ERROR&&st.error(`Auth (${ye.SDK_VERSION}): ${w}`,...g)}function He(w,...g){throw ut(w,...g)}function Re(w,...g){return ut(w,...g)}function ke(w,g,v){const C=Object.assign(Object.assign({},ct()),{[g]:v});return new j.LL("auth","Firebase",C).create(g,{appName:w.name})}function rt(w,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&He(w,"argument-error"),ke(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ut(w,...g){if("string"!=typeof w){const v=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(v,...C)}return Ne.create(w,...g)}function Q(w,g,...v){if(!w)throw ut(g,...v)}function Oe(w){const g="INTERNAL ASSERTION FAILED: "+w;throw Tt(g),new Error(g)}function ae(w,g){w||Oe(g)}const pe=new Map;function ve(w){ae(w instanceof Function,"Expected a class definition");let g=pe.get(w);return g?(ae(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,pe.set(w,g),g)}function Je(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Mt(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Wn{constructor(g,v){this.shortDelay=g,this.longDelay=v,ae(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ui(w,g){ae(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Ln{static initialize(g,v,C){this.fetchImpl=g,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pr=new Wn(3e4,6e4);function cn(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Qt(w,g,v,C){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(w,g,v,C,O={}){return En(w,O,(0,c.Z)(function*(){let B={},le={};C&&("GET"===g?le=C:B={body:JSON.stringify(C)});const Ie=(0,j.xO)(Object.assign({key:w.config.apiKey},le)).slice(1),Xe=yield w._getAdditionalHeaders();return Xe["Content-Type"]="application/json",w.languageCode&&(Xe["X-Firebase-Locale"]=w.languageCode),Ln.fetch()(di(w,w.config.apiHost,v,Ie),Object.assign({method:g,headers:Xe,referrerPolicy:"no-referrer"},B))}))})).apply(this,arguments)}function En(w,g,v){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(w,g,v){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},pn),g);try{const O=new Mi(w),B=yield Promise.race([v(),O.promise]);O.clearNetworkTimeout();const le=yield B.json();if("needConfirmation"in le)throw Nr(w,"account-exists-with-different-credential",le);if(B.ok&&!("errorMessage"in le))return le;{const Ie=B.ok?le.errorMessage:le.error.message,[Xe,St]=Ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw Nr(w,"credential-already-in-use",le);if("EMAIL_EXISTS"===Xe)throw Nr(w,"email-already-in-use",le);if("USER_DISABLED"===Xe)throw Nr(w,"user-disabled",le);const Kt=C[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(St)throw ke(w,Kt,St);He(w,Kt)}}catch(O){if(O instanceof j.ZR)throw O;He(w,"network-request-failed")}})).apply(this,arguments)}function zi(w,g,v,C){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(w,g,v,C,O={}){const B=yield Qt(w,g,v,C,O);return"mfaPendingCredential"in B&&He(w,"multi-factor-auth-required",{_serverResponse:B}),B})).apply(this,arguments)}function di(w,g,v,C){const O=`${g}${v}?${C}`;return w.config.emulator?ui(w.config,O):`${w.config.apiScheme}://${O}`}class Mi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Re(this.auth,"network-request-failed")),pr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nr(w,g,v){const C={appName:w.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const O=Re(w,g,C);return O.customData._tokenResponse=v,O}function mt(){return(mt=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Gr(w,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Cn(w,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Mr(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function hi(){return(hi=(0,c.Z)(function*(w,g=!1){const v=(0,j.m9)(w),C=yield v.getIdToken(g),O=Nt(C);Q(O&&O.exp&&O.auth_time&&O.iat,v.auth,"internal-error");const B="object"==typeof O.firebase?O.firebase:void 0,le=B?.sign_in_provider;return{claims:O,token:C,authTime:Mr(kt(O.auth_time)),issuedAtTime:Mr(kt(O.iat)),expirationTime:Mr(kt(O.exp)),signInProvider:le||null,signInSecondFactor:B?.sign_in_second_factor||null}})).apply(this,arguments)}function kt(w){return 1e3*Number(w)}function Nt(w){var g;const[v,C,O]=w.split(".");if(void 0===v||void 0===C||void 0===O)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,j.tV)(C);return B?JSON.parse(B):(Tt("Failed to decode base64 JWT payload"),null)}catch(B){return Tt("Caught error parsing JWT payload as JSON",null===(g=B)||void 0===g?void 0:g.toString()),null}}function Vi(w,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(w,g,v=!1){if(v)return g;try{return yield g}catch(C){throw C instanceof j.ZR&&qi(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}function qi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class jt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const O=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield v.iteration()}),C)}iteration(){var g=this;return(0,c.Z)(function*(){var v;try{yield g.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(v=C)||void 0===v?void 0:v.code)&&g.schedule(!0))}g.schedule()})()}}class Ds{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mr(this.lastLoginAt),this.creationTime=Mr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xn(w){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(w){var g;const v=w.auth,C=yield w.getIdToken(),O=yield Vi(w,Cn(v,{idToken:C}));Q(O?.users.length,v,"internal-error");const B=O.users[0];w._notifyReloadListener(B);const le=null!==(g=B.providerUserInfo)&&void 0!==g&&g.length?Y(B.providerUserInfo):[],Ie=te(w.providerData,le),Kt=!!w.isAnonymous&&!(w.email&&B.passwordHash||Ie?.length),$t={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:Ie,metadata:new Ds(B.createdAt,B.lastLoginAt),isAnonymous:Kt};Object.assign(w,$t)})).apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(w){const g=(0,j.m9)(w);yield xn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function te(w,g){return[...w.filter(C=>!g.some(O=>O.providerId===C.providerId)),...g]}function Y(w){return w.map(g=>{var{providerId:v}=g,C=(0,ge._T)(g,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ie(){return(ie=(0,c.Z)(function*(w,g){const v=yield En(w,{},(0,c.Z)(function*(){const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:O,apiKey:B}=w.config,le=di(w,O,"/v1/token",`key=${B}`),Ie=yield w._getAdditionalHeaders();return Ie["Content-Type"]="application/x-www-form-urlencoded",Ln.fetch()(le,{method:"POST",headers:Ie,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class We{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Q(g.idToken,"internal-error"),Q(typeof g.idToken<"u","internal-error"),Q(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Vn(w){const g=Nt(w);return Q(g,"internal-error"),Q(typeof g.exp<"u","internal-error"),Q(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var C=this;return(0,c.Z)(function*(){return Q(!C.accessToken||C.refreshToken,g,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var C=this;return(0,c.Z)(function*(){const{accessToken:O,refreshToken:B,expiresIn:le}=yield function ne(w,g){return ie.apply(this,arguments)}(g,v);C.updateTokensAndExpiration(O,B,Number(le))})()}updateTokensAndExpiration(g,v,C){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,v){const{refreshToken:C,accessToken:O,expirationTime:B}=v,le=new We;return C&&(Q("string"==typeof C,"internal-error",{appName:g}),le.refreshToken=C),O&&(Q("string"==typeof O,"internal-error",{appName:g}),le.accessToken=O),B&&(Q("number"==typeof B,"internal-error",{appName:g}),le.expirationTime=B),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new We,this.toJSON())}_performRefresh(){return Oe("not implemented")}}function at(w,g){Q("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class Pt{constructor(g){var{uid:v,auth:C,stsTokenManager:O}=g,B=(0,ge._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=B.displayName||null,this.email=B.email||null,this.emailVerified=B.emailVerified||!1,this.phoneNumber=B.phoneNumber||null,this.photoURL=B.photoURL||null,this.isAnonymous=B.isAnonymous||!1,this.tenantId=B.tenantId||null,this.providerData=B.providerData?[...B.providerData]:[],this.metadata=new Ds(B.createdAt||void 0,B.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,c.Z)(function*(){const C=yield Vi(v,v.stsTokenManager.getToken(v.auth,g));return Q(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(g){return function wi(w){return hi.apply(this,arguments)}(this,g)}reload(){return function In(w){return oe.apply(this,arguments)}(this)}_assign(g){this!==g&&(Q(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Pt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var C=this;return(0,c.Z)(function*(){let O=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),O=!0),v&&(yield xn(C)),yield C.auth._persistUserIfCurrent(C),O&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,c.Z)(function*(){const v=yield g.getIdToken();return yield Vi(g,function _i(w,g){return mt.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var C,O,B,le,Ie,Xe,St,Kt;const $t=null!==(C=v.displayName)&&void 0!==C?C:void 0,Br=null!==(O=v.email)&&void 0!==O?O:void 0,Xs=null!==(B=v.phoneNumber)&&void 0!==B?B:void 0,La=null!==(le=v.photoURL)&&void 0!==le?le:void 0,dh=null!==(Ie=v.tenantId)&&void 0!==Ie?Ie:void 0,Ru=null!==(Xe=v._redirectEventId)&&void 0!==Xe?Xe:void 0,hh=null!==(St=v.createdAt)&&void 0!==St?St:void 0,M_=null!==(Kt=v.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:fp,emailVerified:Yl,isAnonymous:fh,providerData:ph,stsTokenManager:pp}=v;Q(fp&&pp,g,"internal-error");const cf=We.fromJSON(this.name,pp);Q("string"==typeof fp,g,"internal-error"),at($t,g.name),at(Br,g.name),Q("boolean"==typeof Yl,g,"internal-error"),Q("boolean"==typeof fh,g,"internal-error"),at(Xs,g.name),at(La,g.name),at(dh,g.name),at(Ru,g.name),at(hh,g.name),at(M_,g.name);const gp=new Pt({uid:fp,auth:g,email:Br,emailVerified:Yl,displayName:$t,isAnonymous:fh,photoURL:La,phoneNumber:Xs,tenantId:dh,stsTokenManager:cf,createdAt:hh,lastLoginAt:M_});return ph&&Array.isArray(ph)&&(gp.providerData=ph.map(Id=>Object.assign({},Id))),Ru&&(gp._redirectEventId=Ru),gp}static _fromIdTokenResponse(g,v,C=!1){return(0,c.Z)(function*(){const O=new We;O.updateFromServerResponse(v);const B=new Pt({uid:v.localId,auth:g,stsTokenManager:O,isAnonymous:C});return yield xn(B),B})()}}const Rn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(v,C){var O=this;return(0,c.Z)(function*(){O.storage[v]=C})()}_get(v){var C=this;return(0,c.Z)(function*(){const O=C.storage[v];return void 0===O?null:O})()}_remove(v){var C=this;return(0,c.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return w.type="NONE",w})();function Zi(w,g,v){return`firebase:${w}:${g}:${v}`}class mn{constructor(g,v,C){this.persistence=g,this.auth=v,this.userKey=C;const{config:O,name:B}=this.auth;this.fullUserKey=Zi(this.userKey,O.apiKey,B),this.fullPersistenceKey=Zi("persistence",O.apiKey,B),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?Pt._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,c.Z)(function*(){if(v.persistence===g)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,C="authUser"){return(0,c.Z)(function*(){if(!v.length)return new mn(ve(Rn),g,C);const O=(yield Promise.all(v.map(function(){var St=(0,c.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return St.apply(this,arguments)}}()))).filter(St=>St);let B=O[0]||ve(Rn);const le=Zi(C,g.config.apiKey,g.name);let Ie=null;for(const St of v)try{const Kt=yield St._get(le);if(Kt){const $t=Pt._fromJSON(g,Kt);St!==B&&(Ie=$t),B=St;break}}catch{}const Xe=O.filter(St=>St._shouldAllowMigration);return B._shouldAllowMigration&&Xe.length?(B=Xe[0],Ie&&(yield B._set(le,Ie.toJSON())),yield Promise.all(v.map(function(){var St=(0,c.Z)(function*(Kt){if(Kt!==B)try{yield Kt._remove(le)}catch{}});return function(Kt){return St.apply(this,arguments)}}())),new mn(B,g,C)):new mn(B,g,C)})()}}function sn(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(jr(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(si(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ht(g))return"Blackberry";if(Wt(g))return"Webos";if(Di(g))return"Safari";if((g.includes("chrome/")||ls(g))&&!g.includes("edge/"))return"Chrome";if(Ui(g))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function si(w=(0,j.z$)()){return/firefox\//i.test(w)}function Di(w=(0,j.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ls(w=(0,j.z$)()){return/crios\//i.test(w)}function jr(w=(0,j.z$)()){return/iemobile/i.test(w)}function Ui(w=(0,j.z$)()){return/android/i.test(w)}function ht(w=(0,j.z$)()){return/blackberry/i.test(w)}function Wt(w=(0,j.z$)()){return/webos/i.test(w)}function Bn(w=(0,j.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function uo(w=(0,j.z$)()){return Bn(w)||Ui(w)||Wt(w)||ht(w)||/windows phone/i.test(w)||jr(w)}function Us(w,g=[]){let v;switch(w){case"Browser":v=sn((0,j.z$)());break;case"Worker":v=`${sn((0,j.z$)())}-${w}`;break;default:v=w}const C=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${ye.SDK_VERSION}/${C}`}class ds{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const C=B=>new Promise((le,Ie)=>{try{le(g(B))}catch(Xe){Ie(Xe)}});C.onAbort=v,this.queue.push(C);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,c.Z)(function*(){var C;if(v.auth.currentUser===g)return;const O=[];try{for(const B of v.queue)yield B(g),B.onAbort&&O.push(B.onAbort)}catch(B){O.reverse();for(const le of O)try{le()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=B)||void 0===C?void 0:C.message})}})()}}class tn{constructor(g,v,C){this.app=g,this.heartbeatServiceProvider=v,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,v){var C=this;return v&&(this._popupRedirectResolver=ve(v)),this._initializationPromise=this.queue((0,c.Z)(function*(){var O,B;if(!C._deleted&&(C.persistenceManager=yield mn.create(C,g),!C._deleted)){if(null!==(O=C._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(B=C.currentUser)||void 0===B?void 0:B.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,c.Z)(function*(){var C;const O=yield v.assertedPersistence.getCurrentUser();let B=O,le=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ie=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,Xe=B?._redirectEventId,St=yield v.tryRedirectSignIn(g);(!Ie||Ie===Xe)&&St?.user&&(B=St.user,le=!0)}if(!B)return v.directlySetCurrentUser(null);if(!B._redirectEventId){if(le)try{yield v.beforeStateQueue.runMiddleware(B)}catch(Ie){B=O,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ie))}return B?v.reloadAndSetCurrentUserOrClear(B):v.directlySetCurrentUser(null)}return Q(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===B._redirectEventId?v.directlySetCurrentUser(B):v.reloadAndSetCurrentUserOrClear(B)})()}tryRedirectSignIn(g){var v=this;return(0,c.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,c.Z)(function*(){var C;try{yield xn(g)}catch(O){if("auth/network-request-failed"!==(null===(C=O)||void 0===C?void 0:C.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function dt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,c.Z)(function*(){const C=g?(0,j.m9)(g):null;return C&&Q(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(g,v=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return g&&Q(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,c.Z)(function*(){yield v.assertedPersistence.setPersistence(ve(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,v,C){return this.registerStateListener(this.authStateSubscription,g,v,C)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,C){return this.registerStateListener(this.idTokenSubscription,g,v,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var C=this;return(0,c.Z)(function*(){const O=yield C.getOrInitRedirectPersistenceManager(v);return null===g?O.removeCurrentUser():O.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,c.Z)(function*(){if(!v.redirectPersistenceManager){const C=g&&ve(g)||v._popupRedirectResolver;Q(C,v,"argument-error"),v.redirectPersistenceManager=yield mn.create(v,[ve(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,c.Z)(function*(){var C,O;return v._isInitialized&&(yield v.queue((0,c.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===g?v._currentUser:(null===(O=v.redirectUser)||void 0===O?void 0:O._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,c.Z)(function*(){if(g===v.currentUser)return v.queue((0,c.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,C,O){if(this._deleted)return()=>{};const B="function"==typeof v?v:v.next.bind(v),le=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(le,this,"internal-error"),le.then(()=>B(this.currentUser)),"function"==typeof v?g.addObserver(v,C,O):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,c.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Us(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var v;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const O=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return O&&(C["X-Firebase-Client"]=O),C})()}}function zn(w){return(0,j.m9)(w)}class $s{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(v=>this.observer=v)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gs(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Cs(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class Oi{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return Oe("not implemented")}_getIdTokenResponse(g){return Oe("not implemented")}_linkToIdToken(g,v){return Oe("not implemented")}_getReauthenticationResolver(g){return Oe("not implemented")}}function qn(w,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:resetPassword",cn(w,g))})).apply(this,arguments)}function Sn(w,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Is(w,g){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:update",cn(w,g))})).apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(w,g){return zi(w,"POST","/v1/accounts:signInWithPassword",cn(w,g))})).apply(this,arguments)}function Qi(w,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:sendOobCode",cn(w,g))})).apply(this,arguments)}function jn(w,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(w,g){return Qi(w,g)})).apply(this,arguments)}function $i(w,g){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(w,g){return Qi(w,g)})).apply(this,arguments)}function ho(w,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(w,g){return Qi(w,g)})).apply(this,arguments)}function Cl(w,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(w,g){return Qi(w,g)})).apply(this,arguments)}function lc(){return(lc=(0,c.Z)(function*(w,g){return zi(w,"POST","/v1/accounts:signInWithEmailLink",cn(w,g))})).apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(w,g){return zi(w,"POST","/v1/accounts:signInWithEmailLink",cn(w,g))})).apply(this,arguments)}class V extends Oi{constructor(g,v,C,O=null){super("password",C),this._email=g,this._password=v,this._tenantId=O}static _fromEmailAndPassword(g,v){return new V(g,v,"password")}static _fromEmailAndCode(g,v,C=null){return new V(g,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return function Ca(w,g){return Dr.apply(this,arguments)}(g,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Za(w,g){return lc.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:He(g,"internal-error")}})()}_linkToIdToken(g,v){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return Sn(g,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function au(w,g){return fo.apply(this,arguments)}(g,{idToken:v,email:C._email,oobCode:C._password});default:He(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function $(w,g){return ee.apply(this,arguments)}function ee(){return(ee=(0,c.Z)(function*(w,g){return zi(w,"POST","/v1/accounts:signInWithIdp",cn(w,g))})).apply(this,arguments)}class Ye extends Oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Ye(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):He("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:O}=v,B=(0,ge._T)(v,["providerId","signInMethod"]);if(!C||!O)return null;const le=new Ye(C,O);return le.idToken=B.idToken||void 0,le.accessToken=B.accessToken||void 0,le.secret=B.secret,le.nonce=B.nonce,le.pendingToken=B.pendingToken||null,le}_getIdTokenResponse(g){return $(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,$(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,$(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,j.xO)(v)}return g}}function Ct(w,g){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:sendVerificationCode",cn(w,g))})).apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(w,g){return zi(w,"POST","/v1/accounts:signInWithPhoneNumber",cn(w,g))})).apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(w,g){const v=yield zi(w,"POST","/v1/accounts:signInWithPhoneNumber",cn(w,g));if(v.temporaryProof)throw Nr(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Jf={USER_NOT_FOUND:"user-not-found"};function Ud(){return(Ud=(0,c.Z)(function*(w,g){return zi(w,"POST","/v1/accounts:signInWithPhoneNumber",cn(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Jf)})).apply(this,arguments)}class Ia extends Oi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Ia({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Ia({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function Fi(w,g){return ai.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Wr(w,g){return Ts.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Wh(w,g){return Ud.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:C,verificationCode:O}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:C,code:O}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:C,phoneNumber:O,temporaryProof:B}=g;return C||v||O||B?new Ia({verificationId:v,verificationCode:C,phoneNumber:O,temporaryProof:B}):null}}class Il{constructor(g){var v,C,O,B,le,Ie;const Xe=(0,j.zd)((0,j.pd)(g)),St=null!==(v=Xe.apiKey)&&void 0!==v?v:null,Kt=null!==(C=Xe.oobCode)&&void 0!==C?C:null,$t=function $d(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=Xe.mode)&&void 0!==O?O:null);Q(St&&Kt&&$t,"argument-error"),this.apiKey=St,this.operation=$t,this.code=Kt,this.continueUrl=null!==(B=Xe.continueUrl)&&void 0!==B?B:null,this.languageCode=null!==(le=Xe.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Ie=Xe.tenantId)&&void 0!==Ie?Ie:null}static parseLink(g){const v=function Gd(w){const g=(0,j.zd)((0,j.pd)(w)).link,v=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(w)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||v||g||w}(g);try{return new Il(v)}catch{return null}}}let So=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,C){return V._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const O=Il.parseLink(C);return Q(O,"argument-error"),V._fromEmailAndCode(v,O.code,O.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ao{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ta extends Ao{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ya extends ta{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Q("providerId"in v&&"signInMethod"in v,"argument-error"),Ye._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Q(g.idToken||g.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ya.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ya.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:O,pendingToken:B,nonce:le,providerId:Ie}=g;if(!C&&!O&&!v&&!B||!Ie)return null;try{return new Ya(Ie)._credential({idToken:v,accessToken:C,nonce:le,pendingToken:B})}catch{return null}}}let Zn=(()=>{class w extends ta{constructor(){super("facebook.com")}static credential(v){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Yn=(()=>{class w extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:O}=v;if(!C&&!O)return null;try{return w.credential(C,O)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ku=(()=>{class w extends ta{constructor(){super("github.com")}static credential(v){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class mr extends Oi{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return $(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,$(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,$(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:O,pendingToken:B}=v;return C&&O&&B&&C===O?new mr(C,B):null}static _create(g,v){return new mr(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hs extends Ao{constructor(g){Q(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Hs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Hs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=mr.fromJSON(g);return Q(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:C}=g;if(!v||!C)return null;try{return mr._create(C,v)}catch{return null}}}let Es=(()=>{class w extends ta{constructor(){super("twitter.com")}static credential(v,C){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:O}=v;if(!C||!O)return null;try{return w.credential(C,O)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ka(w,g){return cc.apply(this,arguments)}function cc(){return(cc=(0,c.Z)(function*(w,g){return zi(w,"POST","/v1/accounts:signUp",cn(w,g))})).apply(this,arguments)}class Un{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,C,O=!1){return(0,c.Z)(function*(){const B=yield Pt._fromIdTokenResponse(g,C,O),le=Hd(C);return new Un({user:B,providerId:le,_tokenResponse:C,operationType:v})})()}static _forOperation(g,v,C){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const O=Hd(C);return new Un({user:g,providerId:O,_tokenResponse:C,operationType:v})})()}}function Hd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Gi(){return(Gi=(0,c.Z)(function*(w){var g;const v=zn(w);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Un({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield Ka(v,{returnSecureToken:!0}),O=yield Un._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}class Tl extends j.ZR{constructor(g,v,C,O){var B;super(v.code,v.message),this.operationType=C,this.user=O,Object.setPrototypeOf(this,Tl.prototype),this.customData={appName:g.name,tenantId:null!==(B=g.tenantId)&&void 0!==B?B:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,v,C,O){return new Tl(g,v,C,O)}}function js(w,g,v,C){return("reauthenticate"===g?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(B=>{throw"auth/multi-factor-auth-required"===B.code?Tl._fromErrorAndOperation(w,B,g,C):B})}function xs(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function dc(){return(dc=(0,c.Z)(function*(w,g){const v=(0,j.m9)(w);yield An(!0,v,g);const{providerUserInfo:C}=yield Gr(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),O=xs(C||[]);return v.providerData=v.providerData.filter(B=>O.has(B.providerId)),O.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Qa(w,g){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(w,g,v=!1){const C=yield Vi(w,g._linkToIdToken(w.auth,yield w.getIdToken()),v);return Un._forOperation(w,"link",C)})).apply(this,arguments)}function An(w,g,v){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(w,g,v){yield xn(g);const O=!1===w?"provider-already-linked":"no-such-provider";Q(xs(g.providerData).has(v)===w,g.auth,O)})).apply(this,arguments)}function Ja(w,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(w,g,v=!1){var C;const{auth:O}=w,B="reauthenticate";try{const le=yield Vi(w,js(O,B,g,w),v);Q(le.idToken,O,"internal-error");const Ie=Nt(le.idToken);Q(Ie,O,"internal-error");const{sub:Xe}=Ie;return Q(w.uid===Xe,O,"user-mismatch"),Un._forOperation(w,B,le)}catch(le){throw"auth/user-not-found"===(null===(C=le)||void 0===C?void 0:C.code)&&He(O,"user-mismatch"),le}})).apply(this,arguments)}function po(w,g){return hc.apply(this,arguments)}function hc(){return(hc=(0,c.Z)(function*(w,g,v=!1){const C="signIn",O=yield js(w,C,g),B=yield Un._fromIdTokenResponse(w,C,O);return v||(yield w._updateCurrentUser(B.user)),B})).apply(this,arguments)}function Kn(w,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(w,g){return po(zn(w),g)})).apply(this,arguments)}function El(w,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(w,g){const v=(0,j.m9)(w);return yield An(!1,v,g.providerId),Qa(v,g)})).apply(this,arguments)}function go(w,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,c.Z)(function*(w,g){return Ja((0,j.m9)(w),g)})).apply(this,arguments)}function Qu(w,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(w,g){return zi(w,"POST","/v1/accounts:signInWithCustomToken",cn(w,g))})).apply(this,arguments)}function fc(){return(fc=(0,c.Z)(function*(w,g){const v=zn(w),C=yield Qu(v,{token:g,returnSecureToken:!0}),O=yield Un._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}class Ze{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?_n._fromServerResponse(g,v):He(g,"internal-error")}}class _n extends Ze{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new _n(v)}}function Xa(w,g,v){var C;Q((null===(C=v.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),Q(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Q(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Q(v.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Xi(){return(Xi=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w),O={requestType:"PASSWORD_RESET",email:g};v&&Xa(C,O,v),yield $i(C,O)})).apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(w,g,v){yield qn((0,j.m9)(w),{oobCode:g,newPassword:v})})).apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(w,g){yield Is((0,j.m9)(w),{oobCode:g})})).apply(this,arguments)}function Sl(w,g){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,c.Z)(function*(w,g){const v=(0,j.m9)(w),C=yield qn(v,{oobCode:g}),O=C.requestType;switch(Q(O,v,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(C.mfaInfo,v,"internal-error");default:Q(C.email,v,"internal-error")}let B=null;return C.mfaInfo&&(B=Ze._fromServerResponse(zn(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:B},operation:O}})).apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(w,g){const{data:v}=yield Sl((0,j.m9)(w),g);return v.email})).apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(w,g,v){const C=zn(w),O=yield Ka(C,{returnSecureToken:!0,email:g,password:v}),B=yield Un._fromIdTokenResponse(C,"signIn",O);return yield C._updateCurrentUser(B.user),B})).apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w),O={requestType:"EMAIL_SIGNIN",email:g};Q(v.handleCodeInApp,C,"argument-error"),v&&Xa(C,O,v),yield ho(C,O)})).apply(this,arguments)}function vc(){return(vc=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w),O=So.credentialWithLink(g,v||Je());return Q(O._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Kn(C,O)})).apply(this,arguments)}function Xf(w,g){return ed.apply(this,arguments)}function ed(){return(ed=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:createAuthUri",cn(w,g))})).apply(this,arguments)}function yc(){return(yc=(0,c.Z)(function*(w,g){const C={identifier:g,continueUri:Mt()?Je():"http://localhost"},{signinMethods:O}=yield Xf((0,j.m9)(w),C);return O||[]})).apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(w,g){const v=(0,j.m9)(w),O={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Xa(v.auth,O,g);const{email:B}=yield jn(v.auth,O);B!==w.email&&(yield w.reload())})).apply(this,arguments)}function Al(){return(Al=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w),B={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};v&&Xa(C.auth,B,v);const{email:le}=yield Cl(C.auth,B);le!==w.email&&(yield w.reload())})).apply(this,arguments)}function wc(w,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(w,g){return Qt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nd(){return(nd=(0,c.Z)(function*(w,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const C=(0,j.m9)(w),B={idToken:yield C.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},le=yield Vi(C,wc(C.auth,B));C.displayName=le.displayName||null,C.photoURL=le.photoUrl||null;const Ie=C.providerData.find(({providerId:Xe})=>"password"===Xe);Ie&&(Ie.displayName=C.displayName,Ie.photoURL=C.photoURL),yield C._updateTokensIfNecessary(le)})).apply(this,arguments)}function Ws(w,g,v){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(w,g,v){const{auth:C}=w,B={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(B.email=g),v&&(B.password=v);const le=yield Vi(w,Sn(C,B));yield w._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class Ss{constructor(g,v,C={}){this.isNewUser=g,this.providerId=v,this.profile=C}}class Ti extends Ss{constructor(g,v,C,O){super(g,v,C),this.username=O}}class id extends Ss{constructor(g,v){super(g,"facebook.com",v)}}class rd extends Ti{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Wd extends Ss{constructor(g,v){super(g,"google.com",v)}}class Ml extends Ti{constructor(g,v,C){super(g,"twitter.com",v,C)}}function ue(w){const{user:g,_tokenResponse:v}=w;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function _r(w){var g,v;if(!w)return null;const{providerId:C}=w,O=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},B=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const le=null===(v=null===(g=Nt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(le)return new Ss(B,"anonymous"!==le&&"custom"!==le?le:null)}if(!C)return null;switch(C){case"facebook.com":return new id(B,O);case"github.com":return new rd(B,O);case"google.com":return new Wd(B,O);case"twitter.com":return new Ml(B,O,w.screenName||null);case"custom":case"anonymous":return new Ss(B,null);default:return new Ss(B,C,O)}}(v)}class Cr{constructor(g,v,C){this.type=g,this.credential=v,this.auth=C}static _fromIdtoken(g,v){return new Cr("enroll",g,v)}static _fromMfaPendingCredential(g){return new Cr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,C;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Cr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return Cr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class il{constructor(g,v,C){this.session=g,this.hints=v,this.signInResolver=C}static _fromError(g,v){const C=zn(g),O=v.customData._serverResponse,B=(O.mfaInfo||[]).map(Ie=>Ze._fromServerResponse(C,Ie));Q(O.mfaPendingCredential,C,"internal-error");const le=Cr._fromMfaPendingCredential(O.mfaPendingCredential);return new il(le,B,function(){var Ie=(0,c.Z)(function*(Xe){const St=yield Xe._process(C,le);delete O.mfaInfo,delete O.mfaPendingCredential;const Kt=Object.assign(Object.assign({},O),{idToken:St.idToken,refreshToken:St.refreshToken});switch(v.operationType){case"signIn":const $t=yield Un._fromIdTokenResponse(C,v.operationType,Kt);return yield C._updateCurrentUser($t.user),$t;case"reauthenticate":return Q(v.user,C,"internal-error"),Un._forOperation(v.user,v.operationType,Kt);default:He(C,"internal-error")}});return function(Xe){return Ie.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,c.Z)(function*(){return v.signInResolver(g)})()}}function ra(w,g){return Qt(w,"POST","/v2/accounts/mfaEnrollment:start",cn(w,g))}class Qn{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>Ze._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new Qn(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Cr._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var C=this;return(0,c.Z)(function*(){const O=g,B=yield C.getSession(),le=yield Vi(C.user,O._process(C.user.auth,B,v));return yield C.user._updateTokensIfNecessary(le),C.user.reload()})()}unenroll(g){var v=this;return(0,c.Z)(function*(){var C;const O="string"==typeof g?g:g.uid,B=yield v.user.getIdToken(),le=yield Vi(v.user,function Dc(w,g){return Qt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(w,g))}(v.user.auth,{idToken:B,mfaEnrollmentId:O}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ie})=>Ie!==O),yield v.user._updateTokensIfNecessary(le);try{yield v.user.reload()}catch(Ie){if("auth/user-token-expired"!==(null===(C=Ie)||void 0===C?void 0:C.code))throw Ie}})()}}const Ol=new WeakMap,Ro="__sak";class uu{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ro,"1"),this.storage.removeItem(Ro),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const xa=(()=>{class w extends uu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cc(){const w=(0,j.z$)();return Di(w)||Bn(w)}()&&function oi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=uo(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const O=this.storage.getItem(C),B=this.localCache[C];O!==B&&v(C,B,O)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((Ie,Xe,St)=>{this.notifyListeners(Ie,St)});const O=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(O);if(v.newValue!==Ie)null!==v.newValue?this.storage.setItem(O,v.newValue):this.storage.removeItem(O);else if(this.localCache[O]===v.newValue&&!C)return}const B=()=>{const Ie=this.storage.getItem(O);!C&&this.localCache[O]===Ie||this.notifyListeners(O,Ie)},le=this.storage.getItem(O);!function Yi(){return(0,j.w1)()&&10===document.documentMode}()||le===v.newValue||v.newValue===v.oldValue?B():setTimeout(B,10)}notifyListeners(v,C){this.localCache[v]=C;const O=this.listeners[v];if(O)for(const B of Array.from(O))B(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var O=()=>super._set,B=this;return(0,c.Z)(function*(){yield O().call(B,v,C),B.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,O=this;return(0,c.Z)(function*(){const B=yield C().call(O,v);return O.localCache[v]=JSON.stringify(B),B})()}_remove(v){var C=()=>super._remove,O=this;return(0,c.Z)(function*(){yield C().call(O,v),delete O.localCache[v]})()}}return w.type="LOCAL",w})(),As=(()=>{class w extends uu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return w.type="SESSION",w})();let sd=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(B=>B.isListeningto(v));if(C)return C;const O=new w(v);return this.receivers.push(O),O}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,c.Z)(function*(){const O=v,{eventId:B,eventType:le,data:Ie}=O.data,Xe=C.handlersMap[le];if(!Xe?.size)return;O.ports[0].postMessage({status:"ack",eventId:B,eventType:le});const St=Array.from(Xe).map(function(){var $t=(0,c.Z)(function*(Br){return Br(O.origin,Ie)});return function(Br){return $t.apply(this,arguments)}}()),Kt=yield function Rl(w){return Promise.all(w.map(function(){var g=(0,c.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return g.apply(this,arguments)}}()))}(St);O.ports[0].postMessage({status:"done",eventId:B,eventType:le,response:Kt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Sa(w="",g=10){let v="";for(let C=0;C<g;C++)v+=Math.floor(10*Math.random());return w+v}class du{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,C=50){var O=this;return(0,c.Z)(function*(){const B=typeof MessageChannel<"u"?new MessageChannel:null;if(!B)throw new Error("connection_unavailable");let le,Ie;return new Promise((Xe,St)=>{const Kt=Sa("",20);B.port1.start();const $t=setTimeout(()=>{St(new Error("unsupported_event"))},C);Ie={messageChannel:B,onMessage(Br){const Xs=Br;if(Xs.data.eventId===Kt)switch(Xs.data.status){case"ack":clearTimeout($t),le=setTimeout(()=>{St(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Xe(Xs.data.response);break;default:clearTimeout($t),clearTimeout(le),St(new Error("invalid_response"))}}},O.handlers.add(Ie),B.port1.addEventListener("message",Ie.onMessage),O.target.postMessage({eventType:g,eventId:Kt,data:v},[B.port2])}).finally(()=>{Ie&&O.removeMessageHandler(Ie)})})()}}function Si(){return window}function ol(){return typeof Si().WorkerGlobalScope<"u"&&"function"==typeof Si().importScripts}function Tc(){return(Tc=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vo="firebaseLocalStorageDb",Aa="firebaseLocalStorage",pu="fbase_key";class cl{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ec(w,g){return w.transaction([Aa],g?"readwrite":"readonly").objectStore(Aa)}function tr(){const w=indexedDB.open(vo,1);return new Promise((g,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(Aa,{keyPath:pu})}catch(O){v(O)}}),w.addEventListener("success",(0,c.Z)(function*(){const C=w.result;C.objectStoreNames.contains(Aa)?g(C):(C.close(),yield function or(){const w=indexedDB.deleteDatabase(vo);return new cl(w).toPromise()}(),g(yield tr()))}))})}function sa(w,g,v){return od.apply(this,arguments)}function od(){return(od=(0,c.Z)(function*(w,g,v){const C=Ec(w,!0).put({[pu]:g,value:v});return new cl(C).toPromise()})).apply(this,arguments)}function Sc(){return(Sc=(0,c.Z)(function*(w,g){const v=Ec(w,!1).get(g),C=yield new cl(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function oa(w,g){const v=Ec(w,!0).delete(g);return new cl(v).toPromise()}const Po=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.Z)(function*(){return v.db||(v.db=yield tr()),v.db})()}_withRetries(v){var C=this;return(0,c.Z)(function*(){let O=0;for(;;)try{const B=yield C._openDb();return yield v(B)}catch(B){if(O++>3)throw B;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.Z)(function*(){return ol()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.Z)(function*(){v.receiver=sd._getInstance(function ll(){return ol()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(O,B){return{keyProcessed:(yield v._poll()).includes(B.key)}});return function(O,B){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(O,B){return["keyChanged"]});return function(O,B){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.Z)(function*(){var C,O;if(v.activeServiceWorker=yield function al(){return Tc.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new du(v.activeServiceWorker);const B=yield v.sender._send("ping",{},800);!B||(null===(C=B[0])||void 0===C?void 0:C.fulfilled)&&(null===(O=B[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function hu(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const v=yield tr();return yield sa(v,Ro,"1"),yield oa(v,Ro),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var O=this;return(0,c.Z)(function*(){return O._withPendingWrite((0,c.Z)(function*(){return yield O._withRetries(B=>sa(B,v,C)),O.localCache[v]=C,O.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,c.Z)(function*(){const O=yield C._withRetries(B=>function xc(w,g){return Sc.apply(this,arguments)}(B,v));return C.localCache[v]=O,O})()}_remove(v){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(O=>oa(O,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.Z)(function*(){const C=yield v._withRetries(le=>{const Ie=Ec(le,!1).getAll();return new cl(Ie).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const O=[],B=new Set;for(const{fbase_key:le,value:Ie}of C)B.add(le),JSON.stringify(v.localCache[le])!==JSON.stringify(Ie)&&(v.notifyListeners(le,Ie),O.push(le));for(const le of Object.keys(v.localCache))v.localCache[le]&&!B.has(le)&&(v.notifyListeners(le,null),O.push(le));return O})()}notifyListeners(v,C){this.localCache[v]=C;const O=this.listeners[v];if(O)for(const B of Array.from(O))B(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function ko(w,g){return Qt(w,"POST","/v2/accounts/mfaSignIn:start",cn(w,g))}function Na(){return(Na=(0,c.Z)(function*(w){return(yield Qt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kl(w){return new Promise((g,v)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=g,C.onerror=O=>{const B=Re("internal-error");B.customData=O,v(B)},C.type="text/javascript",C.charset="UTF-8",function Pl(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(C)})}function gu(w){return`__${w}${Math.floor(1e6*Math.random())}`}const la=1e12;class fi{constructor(g){this.auth=g,this.counter=la,this._widgets=new Map}render(g,v){const C=this.counter;return this._widgets.set(C,new U(g,this.auth.name,v||{})),this.counter++,C}reset(g){var v;const C=g||la;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(g){var v;return(null===(v=this._widgets.get(g||la))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,c.Z)(function*(){var C;return null===(C=v._widgets.get(g||la))||void 0===C||C.execute(),""})()}}class U{constructor(g,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof g?document.getElementById(g):g;Q(O,"argument-error",{appName:v}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ac(w){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vl=gu("rcb"),zs=new Wn(3e4,6e4);class qd{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Si().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Q(function xg(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),g,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Si().grecaptcha):new Promise((C,O)=>{const B=Si().setTimeout(()=>{O(Re(g,"network-request-failed"))},zs.get());Si()[Vl]=()=>{Si().clearTimeout(B),delete Si()[Vl];const Ie=Si().grecaptcha;if(!Ie)return void O(Re(g,"internal-error"));const Xe=Ie.render;Ie.render=(St,Kt)=>{const $t=Xe(St,Kt);return this.counter++,$t},this.hostLanguage=v,C(Ie)},kl(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Vl,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(B),O(Re(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Si().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nc{load(g){return(0,c.Z)(function*(){return new fi(g)})()}clearedOneInstance(){}}const Bl="recaptcha",ep={theme:"light",type:"image"};class Rr{constructor(g,v=Object.assign({},ep),C){this.parameters=v,this.type=Bl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zn(C),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof g?document.getElementById(g):g;Q(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nc:new qd,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(v)||new Promise(B=>{const le=Ie=>{!Ie||(g.tokenChangeListeners.delete(le),B(Ie))};g.tokenChangeListeners.add(le),g.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof g)g(v);else if("string"==typeof g){const C=Si()[g];"function"==typeof C&&C(v)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){Q(Mt()&&!ol(),g.auth,"internal-error"),yield function Mc(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Ir(w){return Na.apply(this,arguments)}(g.auth);Q(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hn{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Ia._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Ns(){return(Ns=(0,c.Z)(function*(w,g,v){const C=zn(w),O=yield Jn(C,g,(0,j.m9)(v));return new Hn(O,B=>Kn(C,B))})).apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w);yield An(!1,C,"phone");const O=yield Jn(C.auth,g,(0,j.m9)(v));return new Hn(O,B=>El(C,B))})).apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w),O=yield Jn(C.auth,g,(0,j.m9)(v));return new Hn(O,B=>go(C,B))})).apply(this,arguments)}function Jn(w,g,v){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(w,g,v){var C;const O=yield v.verify();try{let B;if(Q("string"==typeof O,w,"argument-error"),Q(v.type===Bl,w,"argument-error"),B="string"==typeof g?{phoneNumber:g}:g,"session"in B){const le=B.session;if("phoneNumber"in B)return Q("enroll"===le.type,w,"internal-error"),(yield ra(w,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:B.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{Q("signin"===le.type,w,"internal-error");const Ie=(null===(C=B.multiFactorHint)||void 0===C?void 0:C.uid)||B.multiFactorUid;return Q(Ie,w,"missing-multi-factor-info"),(yield ko(w,{mfaPendingCredential:le.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield Ct(w,{phoneNumber:B.phoneNumber,recaptchaToken:O});return le}}finally{v._reset()}})).apply(this,arguments)}function ld(){return(ld=(0,c.Z)(function*(w,g){yield Qa((0,j.m9)(w),g)})).apply(this,arguments)}let mu=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=zn(v)}verifyPhoneNumber(v,C){return Jn(this.auth,v,(0,j.m9)(C))}static credential(v,C){return Ia._fromVerification(v,C)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:O}=v;return C&&O?Ia._fromTokenResponse(C,O):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ul(w,g){return g?ve(g):(Q(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class cd extends Oi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return $(g,this._buildIdpRequest())}_linkToIdToken(g,v){return $(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return $(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function nr(w){return po(w.auth,new cd(w),w.bypassAuthState)}function Oc(w){const{auth:g,user:v}=w;return Q(v,g,"internal-error"),Ja(v,new cd(w),w.bypassAuthState)}function Ma(w){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(w){const{auth:g,user:v}=w;return Q(v,g,"internal-error"),Qa(v,new cd(w),w.bypassAuthState)})).apply(this,arguments)}class Fc{constructor(g,v,C,O,B=!1){this.auth=g,this.resolver=C,this.user=O,this.bypassAuthState=B,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,c.Z)(function*(C,O){g.pendingPromise={resolve:C,reject:O};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(B){g.reject(B)}});return function(C,O){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:O,postBody:B,tenantId:le,error:Ie,type:Xe}=g;if(Ie)return void v.reject(Ie);const St={auth:v.auth,requestUri:C,sessionId:O,tenantId:le||void 0,postBody:B||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Xe)(St))}catch(Kt){v.reject(Kt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return nr;case"linkViaPopup":case"linkViaRedirect":return Ma;case"reauthViaPopup":case"reauthViaRedirect":return Oc;default:He(this.auth,"internal-error")}}resolve(g){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ud=new Wn(2e3,1e4);function Rc(){return(Rc=(0,c.Z)(function*(w,g,v){const C=zn(w);rt(w,g,Ao);const O=Ul(C,v);return new kc(C,"signInViaPopup",g,O).executeNotNull()})).apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w);rt(C.auth,g,Ao);const O=Ul(C.auth,v);return new kc(C.auth,"reauthViaPopup",g,O,C).executeNotNull()})).apply(this,arguments)}function Pc(){return(Pc=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w);rt(C.auth,g,Ao);const O=Ul(C.auth,v);return new kc(C.auth,"linkViaPopup",g,O,C).executeNotNull()})).apply(this,arguments)}let kc=(()=>{class w extends Fc{constructor(v,C,O,B,le){super(v,C,B,le),this.provider=O,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.Z)(function*(){const C=yield v.execute();return Q(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,c.Z)(function*(){ae(1===v.filter.length,"Popup operations only handle one event");const C=Sa();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(O=>{v.reject(O)}),v.resolver._isIframeWebStorageSupported(v.auth,O=>{O||v.reject(Re(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,O;this.pollId=null!==(O=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,ud.get())};v()}}return w.currentPopupAction=null,w})();const Pi=new Map;class Ms extends Fc{constructor(g,v,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,c.Z)(function*(){let C=Pi.get(v.auth._key());if(!C){try{const B=(yield function ti(w,g){return wt.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;C=()=>Promise.resolve(B)}catch(O){C=()=>Promise.reject(O)}Pi.set(v.auth._key(),C)}return v.bypassAuthState||Pi.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(C,g);if("unknown"!==g.type){if(g.eventId){const O=yield C.auth._redirectUserForId(g.eventId);if(O)return C.user=O,v().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function wt(){return(wt=(0,c.Z)(function*(w,g){const v=_u(g),C=yr(w);if(!(yield C._isAvailable()))return!1;const O="true"===(yield C._get(v));return yield C._remove(v),O})).apply(this,arguments)}function lr(w,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(w,g){return yr(w)._set(_u(g),"true")})).apply(this,arguments)}function Zs(w,g){Pi.set(w._key(),g)}function yr(w){return ve(w._redirectPersistence)}function _u(w){return Zi("pendingRedirect",w.config.apiKey,w.name)}function x(){return(x=(0,c.Z)(function*(w,g,v){const C=zn(w);rt(w,g,Ao);const O=Ul(C,v);return yield lr(O,C),O._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w);rt(C.auth,g,Ao);const O=Ul(C.auth,v);yield lr(O,C.auth);const B=yield Ut(C);return O._openRedirect(C.auth,g,"reauthViaRedirect",B)})).apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(w,g,v){const C=(0,j.m9)(w);rt(C.auth,g,Ao);const O=Ul(C.auth,v);yield An(!1,C,g.providerId),yield lr(O,C.auth);const B=yield Ut(C);return O._openRedirect(C.auth,g,"linkViaRedirect",B)})).apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(w,g){return yield zn(w)._initializationPromise,Ht(w,g,!1)})).apply(this,arguments)}function Ht(w,g){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(w,g,v=!1){const C=zn(w),O=Ul(C,g),le=yield new Ms(C,O,v).execute();return le&&!v&&(delete le.user._redirectEventId,yield C._persistUserIfCurrent(le.user),yield C._setRedirectUser(null,g)),le})).apply(this,arguments)}function Ut(w){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(w){const g=Sa(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Gn{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(v=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function $l(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var C;if(g.error&&!ca(g)){const O=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Re(this.auth,O))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const C=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cr(g))}saveEventToCache(g){this.cachedEventUids.add(cr(g)),this.lastProcessedEventTime=Date.now()}}function cr(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function ca({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function Oa(w){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(w,g={}){return Qt(w,"GET","/v1/projects",g)})).apply(this,arguments)}const Ra=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ys=/^https?/;function Qh(){return(Qh=(0,c.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Oa(w);for(const v of g)try{if(Yd(v))return}catch{}He(w,"unauthorized-domain")})).apply(this,arguments)}function Yd(w){const g=Je(),{protocol:v,hostname:C}=new URL(g);if(w.startsWith("chrome-extension://")){const le=new URL(w);return""===le.hostname&&""===C?"chrome-extension:"===v&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&le.hostname===C}if(!Ys.test(v))return!1;if(Ra.test(w))return C===w;const O=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(C)}const Sg=new Wn(3e4,6e4);function Lc(){const w=Si().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let vu=null;function np(w){return vu=vu||function Vc(w){return new Promise((g,v)=>{var C,O,B;function le(){Lc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Lc(),v(Re(w,"network-request-failed"))},timeout:Sg.get()})}if(null!==(O=null===(C=Si().gapi)||void 0===C?void 0:C.iframes)&&void 0!==O&&O.Iframe)g(gapi.iframes.getContext());else{if(null===(B=Si().gapi)||void 0===B||!B.load){const Ie=gu("iframefcb");return Si()[Ie]=()=>{gapi.load?le():v(Re(w,"network-request-failed"))},kl(`https://apis.google.com/js/api.js?onload=${Ie}`).catch(Xe=>v(Xe))}le()}}).catch(g=>{throw vu=null,g})}(w),vu}const yu=new Wn(5e3,15e3),Qd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ur(w){const g=w.config;Q(g.authDomain,w,"auth-domain-config-required");const v=g.emulator?ui(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:w.name,v:ye.SDK_VERSION},O=Jd.get(w.config.apiHost);O&&(C.eid=O);const B=w._getFrameworks();return B.length&&(C.fw=B.join(",")),`${v}?${(0,j.xO)(C).slice(1)}`}function ki(){return ki=(0,c.Z)(function*(w){const g=yield np(w),v=Si().gapi;return Q(v,w,"internal-error"),g.open({where:document.body,url:ur(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qd,dontclear:!0},C=>new Promise(function(){var O=(0,c.Z)(function*(B,le){yield C.restyle({setHideOnLeave:!1});const Ie=Re(w,"network-request-failed"),Xe=Si().setTimeout(()=>{le(Ie)},yu.get());function St(){Si().clearTimeout(Xe),B(C)}C.ping(St).then(St,()=>{le(Ie)})});return function(B,le){return O.apply(this,arguments)}}()))}),ki.apply(this,arguments)}const ua={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vo(w,g,v,C,O,B){Q(w.config.authDomain,w,"auth-domain-config-required"),Q(w.config.apiKey,w,"invalid-api-key");const le={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:C,v:ye.SDK_VERSION,eventId:O};if(g instanceof Ao){g.setDefaultLanguage(w.languageCode),le.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(le.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Xe,St]of Object.entries(B||{}))le[Xe]=St}if(g instanceof ta){const Xe=g.getScopes().filter(St=>""!==St);Xe.length>0&&(le.scopes=Xe.join(","))}w.tenantId&&(le.tid=w.tenantId);const Ie=le;for(const Xe of Object.keys(Ie))void 0===Ie[Xe]&&delete Ie[Xe];return`${function ap({config:w}){return w.emulator?ui(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,j.xO)(Ie).slice(1)}`}const wu="webStorageSupport";class Bo extends class vn{constructor(g){this.factorId=g}_process(g,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,C);case"signin":return this._finalizeSignIn(g,v.credential);default:return Oe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Bo(g)}_finalizeEnroll(g,v,C){return function rl(w,g){return Qt(w,"POST","/v2/accounts/mfaEnrollment:finalize",cn(w,g))}(g,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function dl(w,g){return Qt(w,"POST","/v2/accounts/mfaSignIn:finalize",cn(w,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Du=(()=>{class w{constructor(){}static assertion(v){return Bo._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var Cu="@firebase/auth";class ef{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,c.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(C=>{var O;g((null===(O=C)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);!v||(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ai(){return window}function tf(){return(tf=(0,c.Z)(function*(w,g,v){var C;const{BuildInfo:O}=Ai();ae(g.sessionId,"AuthEvent did not contain a session ID");const B=yield fd(g.sessionId),le={};return Bn()?le.ibi=O.packageName:Ui()?le.apn=O.packageName:He(w,"operation-not-supported-in-this-environment"),O.displayName&&(le.appDisplayName=O.displayName),le.sessionId=B,Vo(w,v,g.type,void 0,null!==(C=g.eventId)&&void 0!==C?C:void 0,le)})).apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(w){const{BuildInfo:g}=Ai(),v={};Bn()?v.iosBundleId=g.packageName:Ui()?v.androidPackageName=g.packageName:He(w,"operation-not-supported-in-this-environment"),yield Oa(w,v)})).apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(w,g,v){const{cordova:C}=Ai();let O=()=>{};try{yield new Promise((B,le)=>{let Ie=null;function Xe(){var $t;B();const Br=null===($t=C.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Br&&Br(),"function"==typeof v?.close&&v.close()}function St(){Ie||(Ie=window.setTimeout(()=>{le(Re(w,"redirect-cancelled-by-user"))},2e3))}function Kt(){"visible"===document?.visibilityState&&St()}g.addPassiveListener(Xe),document.addEventListener("resume",St,!1),Ui()&&document.addEventListener("visibilitychange",Kt,!1),O=()=>{g.removePassiveListener(Xe),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",Kt,!1),Ie&&window.clearTimeout(Ie)}})}finally{O()}})).apply(this,arguments)}function fd(w){return th.apply(this,arguments)}function th(){return(th=(0,c.Z)(function*(w){const g=pd(w),v=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(v)).map(O=>O.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pd(w){if(ae(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const g=new ArrayBuffer(w.length),v=new Uint8Array(g);for(let C=0;C<w.length;C++)v[C]=w.charCodeAt(C);return v}!function kr(w){(0,ye._registerComponent)(new Ce.wA("auth",(g,{options:v})=>{const C=g.getProvider("app").getImmediate(),O=g.getProvider("heartbeat"),{apiKey:B,authDomain:le}=C.options;return((Ie,Xe)=>{Q(B&&!B.includes(":"),"invalid-api-key",{appName:Ie.name}),Q(!le?.includes(":"),"argument-error",{appName:Ie.name});const St={apiKey:B,authDomain:le,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Us(w)},Kt=new tn(Ie,Xe,St);return function it(w,g){const v=g?.persistence||[],C=(Array.isArray(v)?v:[v]).map(ve);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(C,g?.popupRedirectResolver)}(Kt,v),Kt})(C,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,C)=>{g.getProvider("auth-internal").initialize()})),(0,ye._registerComponent)(new Ce.wA("auth-internal",g=>{const v=zn(g.getProvider("auth").getImmediate());return new ef(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ye.registerVersion)(Cu,"0.20.7",function Ag(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,ye.registerVersion)(Cu,"0.20.7","esm2017")}("Browser");class ha extends Gn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function cp(w){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(w){const g=yield rh()._get(gd(w));return g&&(yield rh()._remove(gd(w))),g})).apply(this,arguments)}function rf(){const w=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const C=Math.floor(Math.random()*g.length);w.push(g.charAt(C))}return w.join("")}function rh(){return ve(xa)}function gd(w){return Zi("authEvent",w.config.apiKey,w.name)}function Eu(w){if(!w?.includes("?"))return{};const[g,...v]=w.split("?");return(0,j.zd)(v.join("?"))}function wo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Re("no-auth-event")}}function _d(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function dp(w=(0,j.z$)()){return!("file:"!==_d()&&"ionic:"!==_d()&&"capacitor:"!==_d()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function jc(){try{const w=self.localStorage,g=Sa();if(w)return w.setItem(g,"1"),w.removeItem(g),!function vd(w=(0,j.z$)()){return function Gc(){return(0,j.w1)()&&11===document?.documentMode}()||function Hc(w=(0,j.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,j.hl)()}catch{return yd()&&(0,j.hl)()}return!1}function yd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Su(){return(function Mg(){return"http:"===_d()||"https:"===_d()}()||(0,j.ru)()||dp())&&!function hp(){return(0,j.b$)()||(0,j.UG)()}()&&jc()&&!yd()}function sf(){return dp()&&typeof document<"u"}function bd(){return(bd=(0,c.Z)(function*(){return!!sf()&&new Promise(w=>{const g=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),w(!0)})})})).apply(this,arguments)}const Js={LOCAL:"local",NONE:"none",SESSION:"session"},ah=Q,wd="persistence";function Au(w){return lh.apply(this,arguments)}function lh(){return(lh=(0,c.Z)(function*(w){yield w._initializationPromise;const g=Go(),v=Zi(wd,w.config.apiKey,w.name);g&&g.setItem(v,w._getPersistence())})).apply(this,arguments)}function Go(){var w;try{return(null===(w=function oh(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const Wl=Q;class Os{constructor(){this.browserResolver=ve(class Bc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=Ht,this._overrideRedirectResult=Zs}_openPopup(g,v,C,O){var B=this;return(0,c.Z)(function*(){var le;ae(null===(le=B.eventManagers[g._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Ie=Vo(g,v,C,Je(),O);return function Pa(w,g,v,C=500,O=600){const B=Math.max((window.screen.availHeight-O)/2,0).toString(),le=Math.max((window.screen.availWidth-C)/2,0).toString();let Ie="";const Xe=Object.assign(Object.assign({},ua),{width:C.toString(),height:O.toString(),top:B,left:le}),St=(0,j.z$)().toLowerCase();v&&(Ie=ls(St)?"_blank":v),si(St)&&(g=g||"http://localhost",Xe.scrollbars="yes");const Kt=Object.entries(Xe).reduce((Br,[Xs,La])=>`${Br}${Xs}=${La},`,"");if(function us(w=(0,j.z$)()){var g;return Bn(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(St)&&"_self"!==Ie)return function Jh(w,g){const v=document.createElement("a");v.href=w,v.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(g||"",Ie),new bu(null);const $t=window.open(g||"",Ie,Kt);Q($t,w,"popup-blocked");try{$t.focus()}catch{}return new bu($t)}(g,Ie,Sa())})()}_openRedirect(g,v,C,O){var B=this;return(0,c.Z)(function*(){return yield B._originValidation(g),function Fr(w){Si().location.href=w}(Vo(g,v,C,Je(),O)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:O,promise:B}=this.eventManagers[v];return O?Promise.resolve(O):(ae(B,"If manager is not set, promise should be"),B)}const C=this.initAndGetManager(g);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(g){var v=this;return(0,c.Z)(function*(){const C=yield function rr(w){return ki.apply(this,arguments)}(g),O=new Gn(g);return C.register("authEvent",B=>(Q(B?.authEvent,g,"invalid-auth-event"),{status:O.onEvent(B.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:O},v.iframes[g._key()]=C,O})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(wu,{type:wu},O=>{var B;const le=null===(B=O?.[0])||void 0===B?void 0:B[wu];void 0!==le&&v(!!le),He(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function hl(w){return Qh.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return uo()||Di()||Bn()}}),this.cordovaResolver=ve(class md{constructor(){this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ht,this._overrideRedirectResult=Zs}_initialize(g){var v=this;return(0,c.Z)(function*(){const C=g._key();let O=v.eventManagers.get(C);return O||(O=new ha(g),v.eventManagers.set(C,O),v.attachCallbackListeners(g,O)),O})()}_openPopup(g){He(g,"operation-not-supported-in-this-environment")}_openRedirect(g,v,C,O){var B=this;return(0,c.Z)(function*(){!function eh(w){var g,v,C,O,B,le,Ie,Xe,St,Kt;const $t=Ai();Q("function"==typeof(null===(g=$t?.universalLinks)||void 0===g?void 0:g.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(v=$t?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(B=null===(O=null===(C=$t?.cordova)||void 0===C?void 0:C.plugins)||void 0===O?void 0:O.browsertab)||void 0===B?void 0:B.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Xe=null===(Ie=null===(le=$t?.cordova)||void 0===le?void 0:le.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===Xe?void 0:Xe.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Kt=null===(St=$t?.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===Kt?void 0:Kt.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const le=yield B._initialize(g);yield le.initialized(),le.resetRedirect(),function qs(){Pi.clear()}(),yield B._originValidation(g);const Ie=function nh(w,g,v=null){return{type:g,eventId:v,urlResponse:null,sessionId:rf(),postBody:null,tenantId:w.tenantId,error:Re(w,"no-auth-event")}}(g,C,O);yield function Hl(w,g){return rh()._set(gd(w),g)}(g,Ie);const Xe=yield function lp(w,g,v){return tf.apply(this,arguments)}(g,Ie,v),St=yield function Uo(w){const{cordova:g}=Ai();return new Promise(v=>{g.plugins.browsertab.isAvailable(C=>{let O=null;C?g.plugins.browsertab.openUrl(w):O=g.InAppBrowser.open(w,function cs(w=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),v(O)})})}(Xe);return function Uc(w,g,v){return Gl.apply(this,arguments)}(g,le,St)})()}_isIframeWebStorageSupported(g,v){throw new Error("Method not implemented.")}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ks(w){return Qs.apply(this,arguments)}(g)),this.originValidationPromises[v]}attachCallbackListeners(g,v){const{universalLinks:C,handleOpenURL:O,BuildInfo:B}=Ai(),le=setTimeout((0,c.Z)(function*(){yield cp(g),v.onEvent(wo())}),500),Ie=function(){var Kt=(0,c.Z)(function*($t){clearTimeout(le);const Br=yield cp(g);let Xs=null;Br&&$t?.url&&(Xs=function ih(w,g){var v,C;const O=function Tu(w){const g=Eu(w),v=g.link?decodeURIComponent(g.link):void 0,C=Eu(v).link,O=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Eu(O).link||O||C||v||w}(g);if(O.includes("/__/auth/callback")){const B=Eu(O),le=B.firebaseError?function sh(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(B.firebaseError)):null,Ie=null===(C=null===(v=le?.code)||void 0===v?void 0:v.split("auth/"))||void 0===C?void 0:C[1],Xe=Ie?Re(Ie):null;return Xe?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:O,postBody:null}}return null}(Br,$t.url)),v.onEvent(Xs||wo())});return function(Br){return Kt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,Ie);const Xe=O,St=`${B.packageName.toLowerCase()}://`;Ai().handleOpenURL=function(){var Kt=(0,c.Z)(function*($t){if($t.toLowerCase().startsWith(St)&&Ie({url:$t}),"function"==typeof Xe)try{Xe($t)}catch(Br){console.error(Br)}});return function($t){return Kt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=Ht,this._overrideRedirectResult=Zs}_initialize(g){var v=this;return(0,c.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,v,C,O){var B=this;return(0,c.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._openPopup(g,v,C,O)})()}_openRedirect(g,v,C,O){var B=this;return(0,c.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._openRedirect(g,v,C,O)})()}_isIframeWebStorageSupported(g,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,v)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return sf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const v=yield function af(){return bd.apply(this,arguments)}();g.underlyingResolver=v?g.cordovaResolver:g.browserResolver})()}}function Wc(w){return w.unwrap()}function Nu(w){return Do(w)}function Do(w){const{_tokenResponse:g}=w instanceof j.ZR?w.customData:w;if(!g)return null;if(!(w instanceof j.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return mu.credentialFromResult(w);const v=g.providerId;if(!v||"password"===v)return null;let C;switch(v){case"google.com":C=Yn;break;case"facebook.com":C=Zn;break;case"github.com":C=Ku;break;case"twitter.com":C=Es;break;default:const{oauthIdToken:O,oauthAccessToken:B,oauthTokenSecret:le,pendingToken:Ie,nonce:Xe}=g;return B||le||O||Ie?Ie?v.startsWith("saml.")?mr._create(v,Ie):Ye._fromParams({providerId:v,signInMethod:v,pendingToken:Ie,idToken:O,accessToken:B}):new Ya(v).credential({idToken:O,accessToken:B,rawNonce:Xe}):null}return w instanceof j.ZR?C.credentialFromError(w):C.credentialFromResult(w)}function Lr(w,g){return g.catch(v=>{throw v instanceof j.ZR&&function ql(w,g){var v,C;const O=null===(v=g.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=g)||void 0===C?void 0:C.code))g.resolver=new Ou(w,function er(w,g){var v;const C=(0,j.m9)(w),O=g;return Q(g.customData.operationType,C,"argument-error"),Q(null===(v=O.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),il._fromError(C,O)}(w,g));else if(O){const B=Do(g),le=g;B&&(le.credential=B,le.tenantId=O.tenantId||void 0,le.email=O.email||void 0,le.phoneNumber=O.phoneNumber||void 0)}}(w,v),v}).then(v=>{const O=v.user;return{operationType:v.operationType,credential:Nu(v),additionalUserInfo:ue(v),user:Tr.getOrCreate(O)}})}function Zl(w,g){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,c.Z)(function*(w,g){const v=yield g;return{verificationId:v.verificationId,confirm:C=>Lr(w,v.confirm(C))}})).apply(this,arguments)}class Ou{constructor(g,v){this.resolver=v,this.auth=function zl(w){return w.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Lr(Wc(this.auth),this.resolver.resolveSignIn(g))}}class Tr{constructor(g){this._delegate=g,this.multiFactor=function sl(w){const g=(0,j.m9)(w);return Ol.has(g)||Ol.set(g,Qn._fromUser(g)),Ol.get(g)}(g)}static getOrCreate(g){return Tr.USER_MAP.has(g)||Tr.USER_MAP.set(g,new Tr(g)),Tr.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var v=this;return(0,c.Z)(function*(){return Lr(v.auth,El(v._delegate,g))})()}linkWithPhoneNumber(g,v){var C=this;return(0,c.Z)(function*(){return Zl(C.auth,function qr(w,g,v){return ar.apply(this,arguments)}(C._delegate,g,v))})()}linkWithPopup(g){var v=this;return(0,c.Z)(function*(){return Lr(v.auth,function Kh(w,g,v){return Pc.apply(this,arguments)}(v._delegate,g,Os))})()}linkWithRedirect(g){var v=this;return(0,c.Z)(function*(){return yield Au(zn(v.auth)),function de(w,g,v){return function Te(w,g,v){return ze.apply(this,arguments)}(w,g,v)}(v._delegate,g,Os)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var v=this;return(0,c.Z)(function*(){return Lr(v.auth,go(v._delegate,g))})()}reauthenticateWithPhoneNumber(g,v){return Zl(this.auth,function vr(w,g,v){return li.apply(this,arguments)}(this._delegate,g,v))}reauthenticateWithPopup(g){return Lr(this.auth,function tp(w,g,v){return hd.apply(this,arguments)}(this._delegate,g,Os))}reauthenticateWithRedirect(g){var v=this;return(0,c.Z)(function*(){return yield Au(zn(v.auth)),function N(w,g,v){return function k(w,g,v){return q.apply(this,arguments)}(w,g,v)}(v._delegate,g,Os)})()}sendEmailVerification(g){return function Ta(w,g){return bc.apply(this,arguments)}(this._delegate,g)}unlink(g){var v=this;return(0,c.Z)(function*(){return yield function is(w,g){return dc.apply(this,arguments)}(v._delegate,g),v})()}updateEmail(g){return function jd(w,g){return Ws((0,j.m9)(w),g,null)}(this._delegate,g)}updatePassword(g){return function nl(w,g){return Ws((0,j.m9)(w),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function ad(w,g){return ld.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Nl(w,g){return nd.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,v){return function td(w,g,v){return Al.apply(this,arguments)}(this._delegate,g,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tr.USER_MAP=new WeakMap;const Gt=Q;let ch=(()=>{class w{constructor(v,C){if(this.app=v,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:O}=v.options;Gt(O,"invalid-api-key",{appName:v.name}),Gt(O,"invalid-api-key",{appName:v.name});const B=typeof window<"u"?Os:void 0;this._delegate=C.initialize({options:{persistence:zc(O,v.name),popupRedirectResolver:B}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,C){!function Eo(w,g,v){const C=zn(w);Q(C._canInitEmulator,C,"emulator-config-failed"),Q(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const O=!!v?.disableWarnings,B=Gs(g),{host:le,port:Ie}=function Ci(w){const g=Gs(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(C);if(O){const B=O[1];return{host:B,port:Cs(C.substr(B.length+1))}}{const[B,le]=C.split(":");return{host:B,port:Cs(le)}}}(g);C.config.emulator={url:`${B}//${le}${null===Ie?"":`:${Ie}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:le,port:Ie,protocol:B.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function Ki(){function w(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,v,C)}applyActionCode(v){return function ps(w,g){return tl.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Sl(this._delegate,v)}confirmPasswordReset(v,C){return function pc(w,g,v){return el.apply(this,arguments)}(this._delegate,v,C)}createUserWithEmailAndPassword(v,C){var O=this;return(0,c.Z)(function*(){return Lr(O._delegate,function mc(w,g,v){return Hi.apply(this,arguments)}(O._delegate,v,C))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function cu(w,g){return yc.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Mo(w,g){return"EMAIL_SIGNIN"===Il.parseLink(g)?.operation}(0,v)}getRedirectResult(){var v=this;return(0,c.Z)(function*(){Gt(Su(),v._delegate,"operation-not-supported-in-this-environment");const C=yield function nt(w,g){return Bt.apply(this,arguments)}(v._delegate,Os);return C?Lr(v._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function up(w,g){zn(w)._logFramework(g)}(this._delegate,v)}onAuthStateChanged(v,C,O){const{next:B,error:le,complete:Ie}=lf(v,C,O);return this._delegate.onAuthStateChanged(B,le,Ie)}onIdTokenChanged(v,C,O){const{next:B,error:le,complete:Ie}=lf(v,C,O);return this._delegate.onIdTokenChanged(B,le,Ie)}sendSignInLinkToEmail(v,C){return function _c(w,g,v){return _o.apply(this,arguments)}(this._delegate,v,C)}sendPasswordResetEmail(v,C){return function ia(w,g,v){return Xi.apply(this,arguments)}(this._delegate,v,C||void 0)}setPersistence(v){var C=this;return(0,c.Z)(function*(){let O;switch(function Dd(w,g){ah(Object.values(Js).includes(g),w,"invalid-persistence-type"),(0,j.b$)()?ah(g!==Js.SESSION,w,"unsupported-persistence-type"):(0,j.UG)()?ah(g===Js.NONE,w,"unsupported-persistence-type"):yd()?ah(g===Js.NONE||g===Js.LOCAL&&(0,j.hl)(),w,"unsupported-persistence-type"):ah(g===Js.NONE||jc(),w,"unsupported-persistence-type")}(C._delegate,v),v){case Js.SESSION:O=As;break;case Js.LOCAL:O=(yield ve(Po)._isAvailable())?Po:xa;break;case Js.NONE:O=Rn;break;default:return He("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(O)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Lr(this._delegate,function uc(w){return Gi.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Lr(this._delegate,Kn(this._delegate,v))}signInWithCustomToken(v){return Lr(this._delegate,function Ju(w,g){return fc.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,C){return Lr(this._delegate,function ji(w,g,v){return Kn((0,j.m9)(w),So.credential(g,v))}(this._delegate,v,C))}signInWithEmailLink(v,C){return Lr(this._delegate,function Zh(w,g,v){return vc.apply(this,arguments)}(this._delegate,v,C))}signInWithPhoneNumber(v,C){return Zl(this._delegate,function Yh(w,g,v){return Ns.apply(this,arguments)}(this._delegate,v,C))}signInWithPopup(v){var C=this;return(0,c.Z)(function*(){return Gt(Su(),C._delegate,"operation-not-supported-in-this-environment"),Lr(C._delegate,function dd(w,g,v){return Rc.apply(this,arguments)}(C._delegate,v,Os))})()}signInWithRedirect(v){var C=this;return(0,c.Z)(function*(){return Gt(Su(),C._delegate,"operation-not-supported-in-this-environment"),yield Au(C._delegate),function ir(w,g,v){return function Zd(w,g,v){return x.apply(this,arguments)}(w,g,v)}(C._delegate,v,Os)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function gc(w,g){return lu.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=Js,w})();function lf(w,g,v){let C=w;"function"!=typeof w&&({next:C,error:g,complete:v}=w);const O=C;return{next:le=>O(le&&Tr.getOrCreate(le)),error:g,complete:v}}function zc(w,g){const v=function jl(w,g){const v=Go();if(!v)return[];const C=Zi(wd,w,g);switch(v.getItem(C)){case Js.NONE:return[Rn];case Js.LOCAL:return[Po,As];case Js.SESSION:return[As];default:return[]}}(w,g);if(typeof self<"u"&&!v.includes(Po)&&v.push(Po),typeof window<"u")for(const C of[xa,As])v.includes(C)||v.push(C);return v.includes(Rn)||v.push(Rn),v}class uh{constructor(){this.providerId="phone",this._delegate=new mu(Wc(P.Z.auth()))}static credential(g,v){return mu.credential(g,v)}verifyPhoneNumber(g,v){return this._delegate.verifyPhoneNumber(g,v)}unwrap(){return this._delegate}}uh.PHONE_SIGN_IN_METHOD=mu.PHONE_SIGN_IN_METHOD,uh.PROVIDER_ID=mu.PROVIDER_ID;const Fu=Q;class qc{constructor(g,v,C=P.Z.app()){var O;Fu(null===(O=C.options)||void 0===O?void 0:O.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Rr(g,v,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cd(w){w.INTERNAL.registerComponent(new Ce.wA("auth-compat",g=>{const v=g.getProvider("app-compat").getImmediate(),C=g.getProvider("auth");return new ch(v,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:So,FacebookAuthProvider:Zn,GithubAuthProvider:Ku,GoogleAuthProvider:Yn,OAuthProvider:Ya,SAMLAuthProvider:Hs,PhoneAuthProvider:uh,PhoneMultiFactorGenerator:Du,RecaptchaVerifier:qc,TwitterAuthProvider:Es,Auth:ch,AuthCredential:Oi,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.20")}(P.Z)},5386:(xt,Ge,H)=>{var c;!function(P,j,ye,ge){"use strict";var ct,De=["","webkit","Moz","MS","ms","o"],Ce=j.createElement("div"),Se=Math.round,J=Math.abs,X=Date.now;function ce(V,$,ee){return setTimeout(Tt(V,ee),$)}function tt(V,$,ee){return!!Array.isArray(V)&&(Ue(V,ee[$],ee),!0)}function Ue(V,$,ee){var be;if(V)if(V.forEach)V.forEach($,ee);else if(V.length!==ge)for(be=0;be<V.length;)$.call(ee,V[be],be,V),be++;else for(be in V)V.hasOwnProperty(be)&&$.call(ee,V[be],be,V)}function Le(V,$,ee){var be="DEPRECATED METHOD: "+$+"\n"+ee+" AT \n";return function(){var Ye=new Error("get-stack-trace"),Ct=Ye&&Ye.stack?Ye.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",un=P.console&&(P.console.warn||P.console.log);return un&&un.call(P.console,be,Ct),V.apply(this,arguments)}}ct="function"!=typeof Object.assign?function($){if($===ge||null===$)throw new TypeError("Cannot convert undefined or null to object");for(var ee=Object($),be=1;be<arguments.length;be++){var Ye=arguments[be];if(Ye!==ge&&null!==Ye)for(var Ct in Ye)Ye.hasOwnProperty(Ct)&&(ee[Ct]=Ye[Ct])}return ee}:Object.assign;var Ne=Le(function($,ee,be){for(var Ye=Object.keys(ee),Ct=0;Ct<Ye.length;)(!be||be&&$[Ye[Ct]]===ge)&&($[Ye[Ct]]=ee[Ye[Ct]]),Ct++;return $},"extend","Use `assign`."),Me=Le(function($,ee){return Ne($,ee,!0)},"merge","Use `assign`.");function st(V,$,ee){var Ye,be=$.prototype;(Ye=V.prototype=Object.create(be)).constructor=V,Ye._super=be,ee&&ct(Ye,ee)}function Tt(V,$){return function(){return V.apply($,arguments)}}function He(V,$){return"function"==typeof V?V.apply($&&$[0]||ge,$):V}function Re(V,$){return V===ge?$:V}function ke(V,$,ee){Ue(Oe($),function(be){V.addEventListener(be,ee,!1)})}function rt(V,$,ee){Ue(Oe($),function(be){V.removeEventListener(be,ee,!1)})}function ut(V,$){for(;V;){if(V==$)return!0;V=V.parentNode}return!1}function Q(V,$){return V.indexOf($)>-1}function Oe(V){return V.trim().split(/\s+/g)}function ae(V,$,ee){if(V.indexOf&&!ee)return V.indexOf($);for(var be=0;be<V.length;){if(ee&&V[be][ee]==$||!ee&&V[be]===$)return be;be++}return-1}function pe(V){return Array.prototype.slice.call(V,0)}function ve(V,$,ee){for(var be=[],Ye=[],Ct=0;Ct<V.length;){var un=$?V[Ct][$]:V[Ct];ae(Ye,un)<0&&be.push(V[Ct]),Ye[Ct]=un,Ct++}return ee&&(be=$?be.sort(function(ai,Wr){return ai[$]>Wr[$]}):be.sort()),be}function _e(V,$){for(var ee,be,Ye=$[0].toUpperCase()+$.slice(1),Ct=0;Ct<De.length;){if((be=(ee=De[Ct])?ee+Ye:$)in V)return be;Ct++}return ge}var it=1;function Mt(V){var $=V.ownerDocument||V;return $.defaultView||$.parentWindow||P}var ln="ontouchstart"in P,dt=_e(P,"PointerEvent")!==ge,Wn=ln&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ui="touch",pn="mouse",Hr=["x","y"],Cn=["clientX","clientY"];function Xn(V,$){var ee=this;this.manager=V,this.callback=$,this.element=V.element,this.target=V.options.inputTarget,this.domHandler=function(be){He(V.options.enable,[V])&&ee.handler(be)},this.init()}function Li(V,$,ee){var be=ee.pointers.length,Ye=ee.changedPointers.length,Ct=1&$&&be-Ye==0,un=12&$&&be-Ye==0;ee.isFirst=!!Ct,ee.isFinal=!!un,Ct&&(V.session={}),ee.eventType=$,function wi(V,$){var ee=V.session,be=$.pointers,Ye=be.length;ee.firstInput||(ee.firstInput=Nt($)),Ye>1&&!ee.firstMultiple?ee.firstMultiple=Nt($):1===Ye&&(ee.firstMultiple=!1);var Ct=ee.firstInput,un=ee.firstMultiple,Fi=un?un.center:Ct.center,ai=$.center=Vn(be);$.timeStamp=X(),$.deltaTime=$.timeStamp-Ct.timeStamp,$.angle=jt(Fi,ai),$.distance=qi(Fi,ai),function hi(V,$){var ee=$.center,be=V.offsetDelta||{},Ye=V.prevDelta||{},Ct=V.prevInput||{};(1===$.eventType||4===Ct.eventType)&&(Ye=V.prevDelta={x:Ct.deltaX||0,y:Ct.deltaY||0},be=V.offsetDelta={x:ee.x,y:ee.y}),$.deltaX=Ye.x+(ee.x-be.x),$.deltaY=Ye.y+(ee.y-be.y)}(ee,$),$.offsetDirection=Bi($.deltaX,$.deltaY);var Wr=Vi($.deltaTime,$.deltaX,$.deltaY);$.overallVelocityX=Wr.x,$.overallVelocityY=Wr.y,$.overallVelocity=J(Wr.x)>J(Wr.y)?Wr.x:Wr.y,$.scale=un?function xn(V,$){return qi($[0],$[1],Cn)/qi(V[0],V[1],Cn)}(un.pointers,be):1,$.rotation=un?function Ds(V,$){return jt($[1],$[0],Cn)+jt(V[1],V[0],Cn)}(un.pointers,be):0,$.maxPointers=ee.prevInput?$.pointers.length>ee.prevInput.maxPointers?$.pointers.length:ee.prevInput.maxPointers:$.pointers.length,function kt(V,$){var Ye,Ct,un,Fi,ee=V.lastInterval||$,be=$.timeStamp-ee.timeStamp;if(8!=$.eventType&&(be>25||ee.velocity===ge)){var ai=$.deltaX-ee.deltaX,Wr=$.deltaY-ee.deltaY,Ts=Vi(be,ai,Wr);Ct=Ts.x,un=Ts.y,Ye=J(Ts.x)>J(Ts.y)?Ts.x:Ts.y,Fi=Bi(ai,Wr),V.lastInterval=$}else Ye=ee.velocity,Ct=ee.velocityX,un=ee.velocityY,Fi=ee.direction;$.velocity=Ye,$.velocityX=Ct,$.velocityY=un,$.direction=Fi}(ee,$);var Ts=V.element;ut($.srcEvent.target,Ts)&&(Ts=$.srcEvent.target),$.target=Ts}(V,ee),V.emit("hammer.input",ee),V.recognize(ee),V.session.prevInput=ee}function Nt(V){for(var $=[],ee=0;ee<V.pointers.length;)$[ee]={clientX:Se(V.pointers[ee].clientX),clientY:Se(V.pointers[ee].clientY)},ee++;return{timeStamp:X(),pointers:$,center:Vn($),deltaX:V.deltaX,deltaY:V.deltaY}}function Vn(V){var $=V.length;if(1===$)return{x:Se(V[0].clientX),y:Se(V[0].clientY)};for(var ee=0,be=0,Ye=0;Ye<$;)ee+=V[Ye].clientX,be+=V[Ye].clientY,Ye++;return{x:Se(ee/$),y:Se(be/$)}}function Vi(V,$,ee){return{x:$/V||0,y:ee/V||0}}function Bi(V,$){return V===$?1:J(V)>=J($)?V<0?2:4:$<0?8:16}function qi(V,$,ee){ee||(ee=Hr);var be=$[ee[0]]-V[ee[0]],Ye=$[ee[1]]-V[ee[1]];return Math.sqrt(be*be+Ye*Ye)}function jt(V,$,ee){return ee||(ee=Hr),180*Math.atan2($[ee[1]]-V[ee[1]],$[ee[0]]-V[ee[0]])/Math.PI}Xn.prototype={handler:function(){},init:function(){this.evEl&&ke(this.element,this.evEl,this.domHandler),this.evTarget&&ke(this.target,this.evTarget,this.domHandler),this.evWin&&ke(Mt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&rt(this.element,this.evEl,this.domHandler),this.evTarget&&rt(this.target,this.evTarget,this.domHandler),this.evWin&&rt(Mt(this.element),this.evWin,this.domHandler)}};var ts={mousedown:1,mousemove:2,mouseup:4},In="mousedown",oe="mousemove mouseup";function te(){this.evEl=In,this.evWin=oe,this.pressed=!1,Xn.apply(this,arguments)}st(te,Xn,{handler:function($){var ee=ts[$.type];1&ee&&0===$.button&&(this.pressed=!0),2&ee&&1!==$.which&&(ee=4),this.pressed&&(4&ee&&(this.pressed=!1),this.callback(this.manager,ee,{pointers:[$],changedPointers:[$],pointerType:pn,srcEvent:$}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:ui,3:"pen",4:pn,5:"kinect"},ie="pointerdown",We="pointermove pointerup pointercancel";function at(){this.evEl=ie,this.evWin=We,Xn.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}P.MSPointerEvent&&!P.PointerEvent&&(ie="MSPointerDown",We="MSPointerMove MSPointerUp MSPointerCancel"),st(at,Xn,{handler:function($){var ee=this.store,be=!1,Ye=$.type.toLowerCase().replace("ms",""),Ct=Y[Ye],un=ne[$.pointerType]||$.pointerType,Fi=un==ui,ai=ae(ee,$.pointerId,"pointerId");1&Ct&&(0===$.button||Fi)?ai<0&&(ee.push($),ai=ee.length-1):12&Ct&&(be=!0),!(ai<0)&&(ee[ai]=$,this.callback(this.manager,Ct,{pointers:ee,changedPointers:[$],pointerType:un,srcEvent:$}),be&&ee.splice(ai,1))}});var Pt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ri="touchstart",Rn="touchstart touchmove touchend touchcancel";function Zi(){this.evTarget=ri,this.evWin=Rn,this.started=!1,Xn.apply(this,arguments)}function mn(V,$){var ee=pe(V.touches),be=pe(V.changedTouches);return 12&$&&(ee=ve(ee.concat(be),"identifier",!0)),[ee,be]}st(Zi,Xn,{handler:function($){var ee=Pt[$.type];if(1===ee&&(this.started=!0),this.started){var be=mn.call(this,$,ee);12&ee&&be[0].length-be[1].length==0&&(this.started=!1),this.callback(this.manager,ee,{pointers:be[0],changedPointers:be[1],pointerType:ui,srcEvent:$})}}});var sn={touchstart:1,touchmove:2,touchend:4,touchcancel:8},si="touchstart touchmove touchend touchcancel";function Di(){this.evTarget=si,this.targetIds={},Xn.apply(this,arguments)}function ls(V,$){var ee=pe(V.touches),be=this.targetIds;if(3&$&&1===ee.length)return be[ee[0].identifier]=!0,[ee,ee];var Ye,Ct,un=pe(V.changedTouches),Fi=[],ai=this.target;if(Ct=ee.filter(function(Wr){return ut(Wr.target,ai)}),1===$)for(Ye=0;Ye<Ct.length;)be[Ct[Ye].identifier]=!0,Ye++;for(Ye=0;Ye<un.length;)be[un[Ye].identifier]&&Fi.push(un[Ye]),12&$&&delete be[un[Ye].identifier],Ye++;return Fi.length?[ve(Ct.concat(Fi),"identifier",!0),Fi]:void 0}function ht(){Xn.apply(this,arguments);var V=Tt(this.handler,this);this.touch=new Di(this.manager,V),this.mouse=new te(this.manager,V),this.primaryTouch=null,this.lastTouches=[]}function Wt(V,$){1&V?(this.primaryTouch=$.changedPointers[0].identifier,Bn.call(this,$)):12&V&&Bn.call(this,$)}function Bn(V){var $=V.changedPointers[0];if($.identifier===this.primaryTouch){var ee={x:$.clientX,y:$.clientY};this.lastTouches.push(ee);var be=this.lastTouches;setTimeout(function(){var Ct=be.indexOf(ee);Ct>-1&&be.splice(Ct,1)},2500)}}function cs(V){for(var $=V.srcEvent.clientX,ee=V.srcEvent.clientY,be=0;be<this.lastTouches.length;be++){var Ye=this.lastTouches[be],Ct=Math.abs($-Ye.x),un=Math.abs(ee-Ye.y);if(Ct<=25&&un<=25)return!0}return!1}st(Di,Xn,{handler:function($){var ee=sn[$.type],be=ls.call(this,$,ee);!be||this.callback(this.manager,ee,{pointers:be[0],changedPointers:be[1],pointerType:ui,srcEvent:$})}}),st(ht,Xn,{handler:function($,ee,be){var Ct=be.pointerType==pn;if(!(Ct&&be.sourceCapabilities&&be.sourceCapabilities.firesTouchEvents)){if(be.pointerType==ui)Wt.call(this,ee,be);else if(Ct&&cs.call(this,be))return;this.callback($,ee,be)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var us=_e(Ce.style,"touchAction"),Yi=us!==ge,uo="compute",Us="manipulation",ds="none",tn="pan-x",zn="pan-y",$s=function Ci(){if(!Yi)return!1;var V={},$=P.CSS&&P.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ee){V[ee]=!$||P.CSS.supports("touch-action",ee)}),V}();function Eo(V,$){this.manager=V,this.set($)}function Is(V){this.options=ct({},this.defaults,V||{}),this.id=function Je(){return it++}(),this.manager=null,this.options.enable=Re(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function xo(V){return 16&V?"cancel":8&V?"end":4&V?"move":2&V?"start":""}function Ca(V){return 16==V?"down":8==V?"up":2==V?"left":4==V?"right":""}function Dr(V,$){var ee=$.manager;return ee?ee.get(V):V}function Qi(){Is.apply(this,arguments)}function Or(){Qi.apply(this,arguments),this.pX=null,this.pY=null}function jn(){Qi.apply(this,arguments)}function qa(){Is.apply(this,arguments),this._timer=null,this._input=null}function $i(){Qi.apply(this,arguments)}function Ji(){Qi.apply(this,arguments)}function ho(){Is.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function fs(V,$){return($=$||{}).recognizers=Re($.recognizers,fs.defaults.preset),new Za(V,$)}function Za(V,$){this.options=ct({},fs.defaults,$||{}),this.options.inputTarget=this.options.inputTarget||V,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=V,this.input=function Mr(V){return new(V.options.inputClass||(dt?at:Wn?Di:ln?ht:te))(V,Li)}(this),this.touchAction=new Eo(this,this.options.touchAction),lc(this,!0),Ue(this.options.recognizers,function(ee){var be=this.add(new ee[0](ee[1]));ee[2]&&be.recognizeWith(ee[2]),ee[3]&&be.requireFailure(ee[3])},this)}function lc(V,$){var be,ee=V.element;ee.style&&(Ue(V.options.cssProps,function(Ye,Ct){be=_e(ee.style,Ct),$?(V.oldCssProps[be]=ee.style[be],ee.style[be]=Ye):ee.style[be]=V.oldCssProps[be]||""}),$||(V.oldCssProps={}))}Eo.prototype={set:function(V){V==uo&&(V=this.compute()),Yi&&this.manager.element.style&&$s[V]&&(this.manager.element.style[us]=V),this.actions=V.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var V=[];return Ue(this.manager.recognizers,function($){He($.options.enable,[$])&&(V=V.concat($.getTouchAction()))}),function Gs(V){if(Q(V,ds))return ds;var $=Q(V,tn),ee=Q(V,zn);return $&&ee?ds:$||ee?$?tn:zn:Q(V,Us)?Us:"auto"}(V.join(" "))},preventDefaults:function(V){var $=V.srcEvent,ee=V.offsetDirection;if(!this.manager.session.prevented){var be=this.actions,Ye=Q(be,ds)&&!$s[ds],Ct=Q(be,zn)&&!$s[zn],un=Q(be,tn)&&!$s[tn];if(Ye&&1===V.pointers.length&&V.distance<2&&V.deltaTime<250)return;return un&&Ct||!(Ye||Ct&&6&ee||un&&24&ee)?void 0:this.preventSrc($)}$.preventDefault()},preventSrc:function(V){this.manager.session.prevented=!0,V.preventDefault()}},Is.prototype={defaults:{},set:function(V){return ct(this.options,V),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(V){if(tt(V,"recognizeWith",this))return this;var $=this.simultaneous;return $[(V=Dr(V,this)).id]||($[V.id]=V,V.recognizeWith(this)),this},dropRecognizeWith:function(V){return tt(V,"dropRecognizeWith",this)||(V=Dr(V,this),delete this.simultaneous[V.id]),this},requireFailure:function(V){if(tt(V,"requireFailure",this))return this;var $=this.requireFail;return-1===ae($,V=Dr(V,this))&&($.push(V),V.requireFailure(this)),this},dropRequireFailure:function(V){if(tt(V,"dropRequireFailure",this))return this;V=Dr(V,this);var $=ae(this.requireFail,V);return $>-1&&this.requireFail.splice($,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(V){return!!this.simultaneous[V.id]},emit:function(V){var $=this,ee=this.state;function be(Ye){$.manager.emit(Ye,V)}ee<8&&be($.options.event+xo(ee)),be($.options.event),V.additionalEvent&&be(V.additionalEvent),ee>=8&&be($.options.event+xo(ee))},tryEmit:function(V){if(this.canEmit())return this.emit(V);this.state=32},canEmit:function(){for(var V=0;V<this.requireFail.length;){if(!(33&this.requireFail[V].state))return!1;V++}return!0},recognize:function(V){var $=ct({},V);if(!He(this.options.enable,[this,$]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process($),30&this.state&&this.tryEmit($)},process:function(V){},getTouchAction:function(){},reset:function(){}},st(Qi,Is,{defaults:{pointers:1},attrTest:function(V){var $=this.options.pointers;return 0===$||V.pointers.length===$},process:function(V){var $=this.state,ee=V.eventType,be=6&$,Ye=this.attrTest(V);return be&&(8&ee||!Ye)?16|$:be||Ye?4&ee?8|$:2&$?4|$:2:32}}),st(Or,Qi,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var V=this.options.direction,$=[];return 6&V&&$.push(zn),24&V&&$.push(tn),$},directionTest:function(V){var $=this.options,ee=!0,be=V.distance,Ye=V.direction,Ct=V.deltaX,un=V.deltaY;return Ye&$.direction||(6&$.direction?(Ye=0===Ct?1:Ct<0?2:4,ee=Ct!=this.pX,be=Math.abs(V.deltaX)):(Ye=0===un?1:un<0?8:16,ee=un!=this.pY,be=Math.abs(V.deltaY))),V.direction=Ye,ee&&be>$.threshold&&Ye&$.direction},attrTest:function(V){return Qi.prototype.attrTest.call(this,V)&&(2&this.state||!(2&this.state)&&this.directionTest(V))},emit:function(V){this.pX=V.deltaX,this.pY=V.deltaY;var $=Ca(V.direction);$&&(V.additionalEvent=this.options.event+$),this._super.emit.call(this,V)}}),st(jn,Qi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ds]},attrTest:function(V){return this._super.attrTest.call(this,V)&&(Math.abs(V.scale-1)>this.options.threshold||2&this.state)},emit:function(V){1!==V.scale&&(V.additionalEvent=this.options.event+(V.scale<1?"in":"out")),this._super.emit.call(this,V)}}),st(qa,Is,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(V){var $=this.options,ee=V.pointers.length===$.pointers,be=V.distance<$.threshold,Ye=V.deltaTime>$.time;if(this._input=V,!be||!ee||12&V.eventType&&!Ye)this.reset();else if(1&V.eventType)this.reset(),this._timer=ce(function(){this.state=8,this.tryEmit()},$.time,this);else if(4&V.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(V){8===this.state&&(V&&4&V.eventType?this.manager.emit(this.options.event+"up",V):(this._input.timeStamp=X(),this.manager.emit(this.options.event,this._input)))}}),st($i,Qi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ds]},attrTest:function(V){return this._super.attrTest.call(this,V)&&(Math.abs(V.rotation)>this.options.threshold||2&this.state)}}),st(Ji,Qi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Or.prototype.getTouchAction.call(this)},attrTest:function(V){var ee,$=this.options.direction;return 30&$?ee=V.overallVelocity:6&$?ee=V.overallVelocityX:24&$&&(ee=V.overallVelocityY),this._super.attrTest.call(this,V)&&$&V.offsetDirection&&V.distance>this.options.threshold&&V.maxPointers==this.options.pointers&&J(ee)>this.options.velocity&&4&V.eventType},emit:function(V){var $=Ca(V.offsetDirection);$&&this.manager.emit(this.options.event+$,V),this.manager.emit(this.options.event,V)}}),st(ho,Is,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Us]},process:function(V){var $=this.options,ee=V.pointers.length===$.pointers,be=V.distance<$.threshold,Ye=V.deltaTime<$.time;if(this.reset(),1&V.eventType&&0===this.count)return this.failTimeout();if(be&&Ye&&ee){if(4!=V.eventType)return this.failTimeout();var Ct=!this.pTime||V.timeStamp-this.pTime<$.interval,un=!this.pCenter||qi(this.pCenter,V.center)<$.posThreshold;if(this.pTime=V.timeStamp,this.pCenter=V.center,un&&Ct?this.count+=1:this.count=1,this._input=V,0==this.count%$.taps)return this.hasRequireFailures()?(this._timer=ce(function(){this.state=8,this.tryEmit()},$.interval,this),2):8}return 32},failTimeout:function(){return this._timer=ce(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),fs.VERSION="2.0.7",fs.defaults={domEvents:!1,touchAction:uo,enable:!0,inputTarget:null,inputClass:null,preset:[[$i,{enable:!1}],[jn,{enable:!1},["rotate"]],[Ji,{direction:6}],[Or,{direction:6},["swipe"]],[ho],[ho,{event:"doubletap",taps:2},["tap"]],[qa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Za.prototype={set:function(V){return ct(this.options,V),V.touchAction&&this.touchAction.update(),V.inputTarget&&(this.input.destroy(),this.input.target=V.inputTarget,this.input.init()),this},stop:function(V){this.session.stopped=V?2:1},recognize:function(V){var $=this.session;if(!$.stopped){this.touchAction.preventDefaults(V);var ee,be=this.recognizers,Ye=$.curRecognizer;(!Ye||Ye&&8&Ye.state)&&(Ye=$.curRecognizer=null);for(var Ct=0;Ct<be.length;)ee=be[Ct],2===$.stopped||Ye&&ee!=Ye&&!ee.canRecognizeWith(Ye)?ee.reset():ee.recognize(V),!Ye&&14&ee.state&&(Ye=$.curRecognizer=ee),Ct++}},get:function(V){if(V instanceof Is)return V;for(var $=this.recognizers,ee=0;ee<$.length;ee++)if($[ee].options.event==V)return $[ee];return null},add:function(V){if(tt(V,"add",this))return this;var $=this.get(V.options.event);return $&&this.remove($),this.recognizers.push(V),V.manager=this,this.touchAction.update(),V},remove:function(V){if(tt(V,"remove",this))return this;if(V=this.get(V)){var $=this.recognizers,ee=ae($,V);-1!==ee&&($.splice(ee,1),this.touchAction.update())}return this},on:function(V,$){if(V!==ge&&$!==ge){var ee=this.handlers;return Ue(Oe(V),function(be){ee[be]=ee[be]||[],ee[be].push($)}),this}},off:function(V,$){if(V!==ge){var ee=this.handlers;return Ue(Oe(V),function(be){$?ee[be]&&ee[be].splice(ae(ee[be],$),1):delete ee[be]}),this}},emit:function(V,$){this.options.domEvents&&function au(V,$){var ee=j.createEvent("Event");ee.initEvent(V,!0,!0),ee.gesture=$,$.target.dispatchEvent(ee)}(V,$);var ee=this.handlers[V]&&this.handlers[V].slice();if(ee&&ee.length){$.type=V,$.preventDefault=function(){$.srcEvent.preventDefault()};for(var be=0;be<ee.length;)ee[be]($),be++}},destroy:function(){this.element&&lc(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ct(fs,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Za,Input:Xn,TouchAction:Eo,TouchInput:Di,MouseInput:te,PointerEventInput:at,TouchMouseInput:ht,SingleTouchInput:Zi,Recognizer:Is,AttrRecognizer:Qi,Tap:ho,Pan:Or,Swipe:Ji,Pinch:jn,Rotate:$i,Press:qa,on:ke,off:rt,each:Ue,merge:Me,extend:Ne,assign:ct,inherit:st,bindFn:Tt,prefixed:_e}),(typeof P<"u"?P:typeof self<"u"?self:{}).Hammer=fs,(c=function(){return fs}.call(Ge,H,Ge,xt))!==ge&&(xt.exports=c)}(window,document)},7489:function(xt,Ge,H){var c;xt=H.nmd(xt),function(){var P,De="Expected a function",Ae="__lodash_hash_undefined__",J="__lodash_placeholder__",Je=1/0,Mt=9007199254740991,dt=4294967295,Ln=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],pn="[object Arguments]",pr="[object Array]",Qt="[object Boolean]",Ar="[object Date]",Fn="[object Error]",zi="[object Function]",es="[object GeneratorFunction]",di="[object Map]",Mi="[object Number]",_i="[object Object]",mt="[object Promise]",Hr="[object RegExp]",Cn="[object Set]",Xn="[object String]",Mr="[object Symbol]",wi="[object WeakMap]",kt="[object ArrayBuffer]",Nt="[object DataView]",Vn="[object Float32Array]",Vi="[object Float64Array]",Bi="[object Int8Array]",qi="[object Int16Array]",jt="[object Int32Array]",Ds="[object Uint8Array]",xn="[object Uint8ClampedArray]",ts="[object Uint16Array]",In="[object Uint32Array]",oe=/\b__p \+= '';/g,te=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ne=/&(?:amp|lt|gt|quot|#39);/g,ie=/[&<>"']/g,We=RegExp(ne.source),at=RegExp(ie.source),Pt=/<%-([\s\S]+?)%>/g,ri=/<%([\s\S]+?)%>/g,Rn=/<%=([\s\S]+?)%>/g,Zi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mn=/^\w*$/,sn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,si=/[\\^$.*+?()[\]{}|]/g,Di=RegExp(si.source),ls=/^\s+/,jr=/\s/,Ui=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ht=/\{\n\/\* \[wrapped with (.+)\] \*/,Wt=/,? & /,Bn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cs=/[()=,{}\[\]\/\s]/,us=/\\(\\)?/g,Yi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,uo=/\w*$/,oi=/^[-+]0x[0-9a-f]+$/i,Us=/^0b[01]+$/i,ds=/^\[object .+?Constructor\]$/,tn=/^0o[0-7]+$/i,zn=/^(?:0|[1-9]\d*)$/,$s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Eo=/($^)/,Gs=/['\n\r\u2028\u2029\\]/g,Ci="\\ud800-\\udfff",qn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ns="\\u2700-\\u27bf",Sn="a-z\\xdf-\\xf6\\xf8-\\xff",Dr="A-Z\\xc0-\\xd6\\xd8-\\xde",Qi="\\ufe0e\\ufe0f",Or="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qa="["+Ci+"]",$i="["+Or+"]",Ji="["+qn+"]",ho="\\d+",fs="["+ns+"]",Cl="["+Sn+"]",gr="[^"+Ci+Or+ho+ns+Sn+Dr+"]",Za="\\ud83c[\\udffb-\\udfff]",au="[^"+Ci+"]",fo="(?:\\ud83c[\\udde6-\\uddff]){2}",V="[\\ud800-\\udbff][\\udc00-\\udfff]",$="["+Dr+"]",be="(?:"+Cl+"|"+gr+")",Ye="(?:"+$+"|"+gr+")",Ct="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",un="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Fi="(?:"+Ji+"|"+Za+")?",ai="["+Qi+"]?",Wh=ai+Fi+"(?:\\u200d(?:"+[au,fo,V].join("|")+")"+ai+Fi+")*",Ud="(?:"+[fs,fo,V].join("|")+")"+Wh,Ia="(?:"+[au+Ji+"?",Ji,fo,V,qa].join("|")+")",$d=RegExp("['\u2019]","g"),Gd=RegExp(Ji,"g"),Il=RegExp(Za+"(?="+Za+")|"+Ia+Wh,"g"),zh=RegExp([$+"?"+Cl+"+"+Ct+"(?="+[$i,$,"$"].join("|")+")",Ye+"+"+un+"(?="+[$i,$+be,"$"].join("|")+")",$+"?"+be+"+"+Ct,$+"+"+un,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ho,Ud].join("|"),"g"),So=RegExp("[\\u200d"+Ci+qn+Qi+"]"),Ao=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ta=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ya=-1,Zn={};Zn[Vn]=Zn[Vi]=Zn[Bi]=Zn[qi]=Zn[jt]=Zn[Ds]=Zn[xn]=Zn[ts]=Zn[In]=!0,Zn[pn]=Zn[pr]=Zn[kt]=Zn[Qt]=Zn[Nt]=Zn[Ar]=Zn[Fn]=Zn[zi]=Zn[di]=Zn[Mi]=Zn[_i]=Zn[Hr]=Zn[Cn]=Zn[Xn]=Zn[wi]=!1;var Yn={};Yn[pn]=Yn[pr]=Yn[kt]=Yn[Nt]=Yn[Qt]=Yn[Ar]=Yn[Vn]=Yn[Vi]=Yn[Bi]=Yn[qi]=Yn[jt]=Yn[di]=Yn[Mi]=Yn[_i]=Yn[Hr]=Yn[Cn]=Yn[Xn]=Yn[Mr]=Yn[Ds]=Yn[xn]=Yn[ts]=Yn[In]=!0,Yn[Fn]=Yn[zi]=Yn[wi]=!1;var na={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hs=parseFloat,Es=parseInt,Ka="object"==typeof global&&global&&global.Object===Object&&global,cc="object"==typeof self&&self&&self.Object===Object&&self,Un=Ka||cc||Function("return this")(),Hd=Ge&&!Ge.nodeType&&Ge,uc=Hd&&xt&&!xt.nodeType&&xt,Gi=uc&&uc.exports===Hd,Tl=Gi&&Ka.process,js=function(){try{return uc&&uc.require&&uc.require("util").types||Tl&&Tl.binding&&Tl.binding("util")}catch{}}(),xs=js&&js.isArrayBuffer,is=js&&js.isDate,dc=js&&js.isMap,Qa=js&&js.isRegExp,No=js&&js.isSet,An=js&&js.isTypedArray;function zr(ue,Ve,Ee){switch(Ee.length){case 0:return ue.call(Ve);case 1:return ue.call(Ve,Ee[0]);case 2:return ue.call(Ve,Ee[0],Ee[1]);case 3:return ue.call(Ve,Ee[0],Ee[1],Ee[2])}return ue.apply(Ve,Ee)}function Ja(ue,Ve,Ee,bt){for(var Yt=-1,$n=null==ue?0:ue.length;++Yt<$n;){var Ei=ue[Yt];Ve(bt,Ei,Ee(Ei),ue)}return bt}function rs(ue,Ve){for(var Ee=-1,bt=null==ue?0:ue.length;++Ee<bt&&!1!==Ve(ue[Ee],Ee,ue););return ue}function po(ue,Ve){for(var Ee=null==ue?0:ue.length;Ee--&&!1!==Ve(ue[Ee],Ee,ue););return ue}function hc(ue,Ve){for(var Ee=-1,bt=null==ue?0:ue.length;++Ee<bt;)if(!Ve(ue[Ee],Ee,ue))return!1;return!0}function Kn(ue,Ve){for(var Ee=-1,bt=null==ue?0:ue.length,Yt=0,$n=[];++Ee<bt;){var Ei=ue[Ee];Ve(Ei,Ee,ue)&&($n[Yt++]=Ei)}return $n}function Zt(ue,Ve){return!(null==ue||!ue.length)&&ia(ue,Ve,0)>-1}function El(ue,Ve,Ee){for(var bt=-1,Yt=null==ue?0:ue.length;++bt<Yt;)if(Ee(Ve,ue[bt]))return!0;return!1}function Ii(ue,Ve){for(var Ee=-1,bt=null==ue?0:ue.length,Yt=Array(bt);++Ee<bt;)Yt[Ee]=Ve(ue[Ee],Ee,ue);return Yt}function go(ue,Ve){for(var Ee=-1,bt=Ve.length,Yt=ue.length;++Ee<bt;)ue[Yt+Ee]=Ve[Ee];return ue}function xl(ue,Ve,Ee,bt){var Yt=-1,$n=null==ue?0:ue.length;for(bt&&$n&&(Ee=ue[++Yt]);++Yt<$n;)Ee=Ve(Ee,ue[Yt],Yt,ue);return Ee}function Qu(ue,Ve,Ee,bt){var Yt=null==ue?0:ue.length;for(bt&&Yt&&(Ee=ue[--Yt]);Yt--;)Ee=Ve(Ee,ue[Yt],Yt,ue);return Ee}function mo(ue,Ve){for(var Ee=-1,bt=null==ue?0:ue.length;++Ee<bt;)if(Ve(ue[Ee],Ee,ue))return!0;return!1}var Ju=ps("length");function _n(ue,Ve,Ee){var bt;return Ee(ue,function(Yt,$n,Ei){if(Ve(Yt,$n,Ei))return bt=$n,!1}),bt}function Xa(ue,Ve,Ee,bt){for(var Yt=ue.length,$n=Ee+(bt?1:-1);bt?$n--:++$n<Yt;)if(Ve(ue[$n],$n,ue))return $n;return-1}function ia(ue,Ve,Ee){return Ve==Ve?function jd(ue,Ve,Ee){for(var bt=Ee-1,Yt=ue.length;++bt<Yt;)if(ue[bt]===Ve)return bt;return-1}(ue,Ve,Ee):Xa(ue,pc,Ee)}function Xi(ue,Ve,Ee,bt){for(var Yt=Ee-1,$n=ue.length;++Yt<$n;)if(bt(ue[Yt],Ve))return Yt;return-1}function pc(ue){return ue!=ue}function el(ue,Ve){var Ee=null==ue?0:ue.length;return Ee?gc(ue,Ve)/Ee:NaN}function ps(ue){return function(Ve){return null==Ve?P:Ve[ue]}}function tl(ue){return function(Ve){return null==ue?P:ue[Ve]}}function Sl(ue,Ve,Ee,bt,Yt){return Yt(ue,function($n,Ei,ei){Ee=bt?(bt=!1,$n):Ve(Ee,$n,Ei,ei)}),Ee}function gc(ue,Ve){for(var Ee,bt=-1,Yt=ue.length;++bt<Yt;){var $n=Ve(ue[bt]);$n!==P&&(Ee=Ee===P?$n:Ee+$n)}return Ee}function lu(ue,Ve){for(var Ee=-1,bt=Array(ue);++Ee<ue;)bt[Ee]=Ve(Ee);return bt}function Hi(ue){return ue&&ue.slice(0,_r(ue)+1).replace(ls,"")}function ji(ue){return function(Ve){return ue(Ve)}}function _c(ue,Ve){return Ii(Ve,function(Ee){return ue[Ee]})}function _o(ue,Ve){return ue.has(Ve)}function Mo(ue,Ve){for(var Ee=-1,bt=ue.length;++Ee<bt&&ia(Ve,ue[Ee],0)>-1;);return Ee}function Zh(ue,Ve){for(var Ee=ue.length;Ee--&&ia(Ve,ue[Ee],0)>-1;);return Ee}function vc(ue,Ve){for(var Ee=ue.length,bt=0;Ee--;)ue[Ee]===Ve&&++bt;return bt}var Xf=tl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),ed=tl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cu(ue){return"\\"+na[ue]}function Ta(ue){return So.test(ue)}function Al(ue){var Ve=-1,Ee=Array(ue.size);return ue.forEach(function(bt,Yt){Ee[++Ve]=[Yt,bt]}),Ee}function wc(ue,Ve){return function(Ee){return ue(Ve(Ee))}}function Oo(ue,Ve){for(var Ee=-1,bt=ue.length,Yt=0,$n=[];++Ee<bt;){var Ei=ue[Ee];(Ei===Ve||Ei===J)&&(ue[Ee]=J,$n[Yt++]=Ee)}return $n}function Nl(ue){var Ve=-1,Ee=Array(ue.size);return ue.forEach(function(bt){Ee[++Ve]=bt}),Ee}function Ws(ue){return Ta(ue)?function Ti(ue){for(var Ve=Il.lastIndex=0;Il.test(ue);)++Ve;return Ve}(ue):Ju(ue)}function gs(ue){return Ta(ue)?function id(ue){return ue.match(Il)||[]}(ue):function fc(ue){return ue.split("")}(ue)}function _r(ue){for(var Ve=ue.length;Ve--&&jr.test(ue.charAt(Ve)););return Ve}var Ss=tl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ml=function ue(Ve){var u,Ee=(Ve=null==Ve?Un:Ml.defaults(Un.Object(),Ve,Ml.pick(Un,ta))).Array,bt=Ve.Date,Yt=Ve.Error,$n=Ve.Function,Ei=Ve.Math,ei=Ve.Object,Fo=Ve.RegExp,Ea=Ve.String,Cr=Ve.TypeError,il=Ee.prototype,ra=ei.prototype,rl=Ve["__core-js_shared__"],Dc=$n.prototype.toString,Qn=ra.hasOwnProperty,Ol=0,sl=(u=/[^.]+$/.exec(rl&&rl.keys&&rl.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",Ro=ra.toString,uu=Dc.call(ei),Cc=Un._,zd=Fo("^"+Dc.call(Qn).replace(si,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ic=Gi?Ve.Buffer:P,xi=Ve.Symbol,xa=Ve.Uint8Array,Fl=Ic?Ic.allocUnsafe:P,As=wc(ei.getPrototypeOf,ei),Rl=ei.create,sd=ra.propertyIsEnumerable,Sa=il.splice,du=xi?xi.isConcatSpreadable:P,Si=xi?xi.iterator:P,Fr=xi?xi.toStringTag:P,ol=function(){try{var u=zc(ei,"defineProperty");return u({},"",{}),u}catch{}}(),al=Ve.clearTimeout!==Un.clearTimeout&&Ve.clearTimeout,Tc=bt&&bt.now!==Un.Date.now&&bt.now,hu=Ve.setTimeout!==Un.setTimeout&&Ve.setTimeout,ll=Ei.ceil,vo=Ei.floor,fu=ei.getOwnPropertySymbols,Aa=Ic?Ic.isBuffer:P,pu=Ve.isFinite,cl=il.join,Ec=wc(ei.keys,ei),or=Ei.max,tr=Ei.min,sa=bt.now,od=Ve.parseInt,xc=Ei.random,Sc=il.reverse,oa=zc(Ve,"DataView"),ul=zc(Ve,"Map"),yo=zc(Ve,"Promise"),aa=zc(Ve,"Set"),Po=zc(Ve,"WeakMap"),ko=zc(ei,"create"),dl=Po&&new Po,Ir={},Na=Pu(oa),Pl=Pu(ul),kl=Pu(yo),gu=Pu(aa),Ll=Pu(Po),Lo=xi?xi.prototype:P,la=Lo?Lo.valueOf:P,fi=Lo?Lo.toString:P;function U(u){if(Er(u)&&!gn(u)&&!(u instanceof wn)){if(u instanceof zs)return u;if(Qn.call(u,"__wrapped__"))return Td(u)}return new zs(u)}var Ac=function(){function u(){}return function(p){if(!br(p))return{};if(Rl)return Rl(p);u.prototype=p;var b=new u;return u.prototype=P,b}}();function Vl(){}function zs(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=P}function wn(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dt,this.__views__=[]}function Bl(u){var p=-1,b=null==u?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function Ns(u){var p=-1,b=null==u?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function It(u){var p=-1,b=null==u?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function nr(u){var p=-1,b=null==u?0:u.length;for(this.__data__=new It;++p<b;)this.add(u[p])}function ms(u){var p=this.__data__=new Ns(u);this.size=p.size}function hd(u,p){var b=gn(u),S=!b&&Yc(u),R=!b&&!S&&Kc(u),G=!b&&!S&&!R&&to(u),Z=b||S||R||G,re=Z?lu(u.length,Ea):[],fe=re.length;for(var je in u)(p||Qn.call(u,je))&&(!Z||!("length"==je||R&&("offset"==je||"parent"==je)||G&&("buffer"==je||"byteLength"==je||"byteOffset"==je)||Ie(je,fe)))&&re.push(je);return re}function Kh(u){var p=u.length;return p?u[wu(0,p-1)]:P}function Pc(u,p){return mp(Pn(u),Zs(p,0,u.length))}function kc(u){return mp(Pn(u))}function Ri(u,p,b){(b!==P&&!vs(u[p],b)||b===P&&!(p in u))&&Pr(u,p,b)}function Pi(u,p,b){var S=u[p];(!Qn.call(u,p)||!vs(S,b)||b===P&&!(p in u))&&Pr(u,p,b)}function Ms(u,p){for(var b=u.length;b--;)if(vs(u[b][0],p))return b;return-1}function ti(u,p,b,S){return N(u,function(R,G,Z){p(S,R,b(R),Z)}),S}function wt(u,p){return u&&wo(p,no(p),u)}function Pr(u,p,b){"__proto__"==p&&ol?ol(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function qs(u,p){for(var b=-1,S=p.length,R=Ee(S),G=null==u;++b<S;)R[b]=G?P:z0(u,p[b]);return R}function Zs(u,p,b){return u==u&&(b!==P&&(u=u<=b?u:b),p!==P&&(u=u>=p?u:p)),u}function yr(u,p,b,S,R,G){var Z,re=1&p,fe=2&p,je=4&p;if(b&&(Z=R?b(u,S,R,G):b(u)),Z!==P)return Z;if(!br(u))return u;var qe=gn(u);if(qe){if(Z=function v(u){var p=u.length,b=new u.constructor(p);return p&&"string"==typeof u[0]&&Qn.call(u,"index")&&(b.index=u.index,b.input=u.input),b}(u),!re)return Pn(u,Z)}else{var Qe=Vr(u),ft=Qe==zi||Qe==es;if(Kc(u))return Iu(u,re);if(Qe==_i||Qe==pn||ft&&!R){if(Z=fe||ft?{}:C(u),!re)return fe?function ss(u,p){return wo(u,qc(u),p)}(u,function lr(u,p){return u&&wo(p,Ga(p),u)}(Z,u)):function up(u,p){return wo(u,Fu(u),p)}(u,wt(Z,u))}else{if(!Yn[Qe])return R?u:{};Z=function O(u,p,b){var S=u.constructor;switch(p){case kt:return ih(u);case Qt:case Ar:return new S(+u);case Nt:return function rf(u,p){var b=p?ih(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}(u,b);case Vn:case Vi:case Bi:case qi:case jt:case Ds:case xn:case ts:case In:return sh(u,b);case di:return new S;case Mi:case Xn:return new S(u);case Hr:return function rh(u){var p=new u.constructor(u.source,uo.exec(u));return p.lastIndex=u.lastIndex,p}(u);case Cn:return new S;case Mr:return function gd(u){return la?ei(la.call(u)):{}}(u)}}(u,Qe,re)}}G||(G=new ms);var Lt=G.get(u);if(Lt)return Lt;G.set(u,Z),nm(u)?u.forEach(function(Jt){Z.add(yr(Jt,p,b,Jt,u,G))}):rv(u)&&u.forEach(function(Jt,rn){Z.set(rn,yr(Jt,p,b,rn,u,G))});var dn=qe?P:(je?fe?Zl:Lr:fe?Ga:no)(u);return rs(dn||u,function(Jt,rn){dn&&(Jt=u[rn=Jt]),Pi(Z,rn,yr(Jt,p,b,rn,u,G))}),Z}function ir(u,p,b){var S=b.length;if(null==u)return!S;for(u=ei(u);S--;){var R=b[S],Z=u[R];if(Z===P&&!(R in u)||!(0,p[R])(Z))return!1}return!0}function Zd(u,p,b){if("function"!=typeof u)throw new Cr(De);return Id(function(){u.apply(P,b)},p)}function x(u,p,b,S){var R=-1,G=Zt,Z=!0,re=u.length,fe=[],je=p.length;if(!re)return fe;b&&(p=Ii(p,ji(b))),S?(G=El,Z=!1):p.length>=200&&(G=_o,Z=!1,p=new nr(p));e:for(;++R<re;){var qe=u[R],Qe=null==b?qe:b(qe);if(qe=S||0!==qe?qe:0,Z&&Qe==Qe){for(var ft=je;ft--;)if(p[ft]===Qe)continue e;fe.push(qe)}else G(p,Qe,S)||fe.push(qe)}return fe}U.templateSettings={escape:Pt,evaluate:ri,interpolate:Rn,variable:"",imports:{_:U}},(U.prototype=Vl.prototype).constructor=U,(zs.prototype=Ac(Vl.prototype)).constructor=zs,(wn.prototype=Ac(Vl.prototype)).constructor=wn,Bl.prototype.clear=function ep(){this.__data__=ko?ko(null):{},this.size=0},Bl.prototype.delete=function Rr(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p},Bl.prototype.get=function Mc(u){var p=this.__data__;if(ko){var b=p[u];return b===Ae?P:b}return Qn.call(p,u)?p[u]:P},Bl.prototype.has=function Hn(u){var p=this.__data__;return ko?p[u]!==P:Qn.call(p,u)},Bl.prototype.set=function Yh(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=ko&&p===P?Ae:p,this},Ns.prototype.clear=function qr(){this.__data__=[],this.size=0},Ns.prototype.delete=function ar(u){var p=this.__data__,b=Ms(p,u);return!(b<0||(b==p.length-1?p.pop():Sa.call(p,b,1),--this.size,0))},Ns.prototype.get=function vr(u){var p=this.__data__,b=Ms(p,u);return b<0?P:p[b][1]},Ns.prototype.has=function li(u){return Ms(this.__data__,u)>-1},Ns.prototype.set=function Jn(u,p){var b=this.__data__,S=Ms(b,u);return S<0?(++this.size,b.push([u,p])):b[S][1]=p,this},It.prototype.clear=function ad(){this.size=0,this.__data__={hash:new Bl,map:new(ul||Ns),string:new Bl}},It.prototype.delete=function ld(u){var p=ch(this,u).delete(u);return this.size-=p?1:0,p},It.prototype.get=function mu(u){return ch(this,u).get(u)},It.prototype.has=function Ul(u){return ch(this,u).has(u)},It.prototype.set=function cd(u,p){var b=ch(this,u),S=b.size;return b.set(u,p),this.size+=b.size==S?0:1,this},nr.prototype.add=nr.prototype.push=function Oc(u){return this.__data__.set(u,Ae),this},nr.prototype.has=function Ma(u){return this.__data__.has(u)},ms.prototype.clear=function Fc(){this.__data__=new Ns,this.size=0},ms.prototype.delete=function ud(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b},ms.prototype.get=function dd(u){return this.__data__.get(u)},ms.prototype.has=function Rc(u){return this.__data__.has(u)},ms.prototype.set=function tp(u,p){var b=this.__data__;if(b instanceof Ns){var S=b.__data__;if(!ul||S.length<199)return S.push([u,p]),this.size=++b.size,this;b=this.__data__=new It(S)}return b.set(u,p),this.size=b.size,this};var N=_d(qt),k=_d(Ut,!0);function q(u,p){var b=!0;return N(u,function(S,R,G){return b=!!p(S,R,G)}),b}function de(u,p,b){for(var S=-1,R=u.length;++S<R;){var G=u[S],Z=p(G);if(null!=Z&&(re===P?Z==Z&&!eo(Z):b(Z,re)))var re=Z,fe=G}return fe}function ze(u,p){var b=[];return N(u,function(S,R,G){p(S,R,G)&&b.push(S)}),b}function nt(u,p,b,S,R){var G=-1,Z=u.length;for(b||(b=le),R||(R=[]);++G<Z;){var re=u[G];p>0&&b(re)?p>1?nt(re,p-1,b,S,R):go(R,re):S||(R[R.length]=re)}return R}var Bt=Mg(),Ht=Mg(!0);function qt(u,p){return u&&Bt(u,p,no)}function Ut(u,p){return u&&Ht(u,p,no)}function pi(u,p){return Kn(p,function(b){return Xl(u[b])})}function Wi(u,p){for(var b=0,S=(p=ha(p,u)).length;null!=u&&b<S;)u=u[Va(p[b++])];return b&&b==S?u:P}function Gn(u,p,b){var S=p(u);return gn(u)?S:go(S,b(u))}function cr(u){return null==u?u===P?"[object Undefined]":"[object Null]":Fr&&Fr in ei(u)?function uh(u){var p=Qn.call(u,Fr),b=u[Fr];try{u[Fr]=P;var S=!0}catch{}var R=Ro.call(u);return S&&(p?u[Fr]=b:delete u[Fr]),R}(u):function Yl(u){return Ro.call(u)}(u)}function ca(u,p){return u>p}function $l(u,p){return null!=u&&Qn.call(u,p)}function Oa(u,p){return null!=u&&p in ei(u)}function Ra(u,p,b){for(var S=b?El:Zt,R=u[0].length,G=u.length,Z=G,re=Ee(G),fe=1/0,je=[];Z--;){var qe=u[Z];Z&&p&&(qe=Ii(qe,ji(p))),fe=tr(qe.length,fe),re[Z]=!b&&(p||R>=120&&qe.length>=120)?new nr(Z&&qe):P}qe=u[0];var Qe=-1,ft=re[0];e:for(;++Qe<R&&je.length<fe;){var Lt=qe[Qe],Ot=p?p(Lt):Lt;if(Lt=b||0!==Lt?Lt:0,!(ft?_o(ft,Ot):S(je,Ot,b))){for(Z=G;--Z;){var dn=re[Z];if(!(dn?_o(dn,Ot):S(u[Z],Ot,b)))continue e}ft&&ft.push(Ot),je.push(Lt)}}return je}function hl(u,p,b){var S=null==(u=ph(u,p=ha(p,u)))?u:u[Va(Ho(p))];return null==S?P:zr(S,u,b)}function Qh(u){return Er(u)&&cr(u)==pn}function Lc(u,p,b,S,R){return u===p||(null==u||null==p||!Er(u)&&!Er(p)?u!=u&&p!=p:function Vc(u,p,b,S,R,G){var Z=gn(u),re=gn(p),fe=Z?pr:Vr(u),je=re?pr:Vr(p),qe=(fe=fe==pn?_i:fe)==_i,Qe=(je=je==pn?_i:je)==_i,ft=fe==je;if(ft&&Kc(u)){if(!Kc(p))return!1;Z=!0,qe=!1}if(ft&&!qe)return G||(G=new ms),Z||to(u)?zl(u,p,b,S,R,G):function Nu(u,p,b,S,R,G,Z){switch(b){case Nt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case kt:return!(u.byteLength!=p.byteLength||!G(new xa(u),new xa(p)));case Qt:case Ar:case Mi:return vs(+u,+p);case Fn:return u.name==p.name&&u.message==p.message;case Hr:case Xn:return u==p+"";case di:var re=Al;case Cn:if(re||(re=Nl),u.size!=p.size&&!(1&S))return!1;var je=Z.get(u);if(je)return je==p;S|=2,Z.set(u,p);var qe=zl(re(u),re(p),S,R,G,Z);return Z.delete(u),qe;case Mr:if(la)return la.call(u)==la.call(p)}return!1}(u,p,fe,b,S,R,G);if(!(1&b)){var Lt=qe&&Qn.call(u,"__wrapped__"),Ot=Qe&&Qn.call(p,"__wrapped__");if(Lt||Ot){var dn=Lt?u.value():u,Jt=Ot?p.value():p;return G||(G=new ms),R(dn,Jt,b,S,G)}}return!!ft&&(G||(G=new ms),function ql(u,p,b,S,R,G){var Z=1&b,re=Lr(u),fe=re.length;if(fe!=Lr(p).length&&!Z)return!1;for(var Qe=fe;Qe--;){var ft=re[Qe];if(!(Z?ft in p:Qn.call(p,ft)))return!1}var Lt=G.get(u),Ot=G.get(p);if(Lt&&Ot)return Lt==p&&Ot==u;var dn=!0;G.set(u,p),G.set(p,u);for(var Jt=Z;++Qe<fe;){var rn=u[ft=re[Qe]],Nn=p[ft];if(S)var sr=Z?S(Nn,rn,ft,p,u,G):S(rn,Nn,ft,u,p,G);if(!(sr===P?rn===Nn||R(rn,Nn,b,S,G):sr)){dn=!1;break}Jt||(Jt="constructor"==ft)}if(dn&&!Jt){var Ur=u.constructor,xr=p.constructor;Ur!=xr&&"constructor"in u&&"constructor"in p&&!("function"==typeof Ur&&Ur instanceof Ur&&"function"==typeof xr&&xr instanceof xr)&&(dn=!1)}return G.delete(u),G.delete(p),dn}(u,p,b,S,R,G))}(u,p,b,S,Lc,R))}function np(u,p,b,S){var R=b.length,G=R,Z=!S;if(null==u)return!G;for(u=ei(u);R--;){var re=b[R];if(Z&&re[2]?re[1]!==u[re[0]]:!(re[0]in u))return!1}for(;++R<G;){var fe=(re=b[R])[0],je=u[fe],qe=re[1];if(Z&&re[2]){if(je===P&&!(fe in u))return!1}else{var Qe=new ms;if(S)var ft=S(je,qe,fe,u,p,Qe);if(!(ft===P?Lc(qe,je,3,S,Qe):ft))return!1}}return!0}function yu(u){return!(!br(u)||function Br(u){return!!sl&&sl in u}(u))&&(Xl(u)?zd:ds).test(Pu(u))}function Jd(u){return"function"==typeof u?u:null==u?ga:"object"==typeof u?gn(u)?rp(u[0],u[1]):da(u):Tm(u)}function ur(u){if(!La(u))return Ec(u);var p=[];for(var b in ei(u))Qn.call(u,b)&&"constructor"!=b&&p.push(b);return p}function ki(u,p){return u<p}function ua(u,p){var b=-1,S=fa(u)?Ee(u.length):[];return N(u,function(R,G,Z){S[++b]=p(R,G,Z)}),S}function da(u){var p=lf(u);return 1==p.length&&p[0][2]?Ru(p[0][0],p[0][1]):function(b){return b===u||np(b,u,p)}}function rp(u,p){return St(u)&&dh(p)?Ru(Va(u),p):function(b){var S=z0(b,u);return S===P&&S===p?dv(b,u):Lc(p,S,3)}}function dr(u,p,b,S,R){u!==p&&Bt(p,function(G,Z){if(R||(R=new ms),br(G))!function sp(u,p,b,S,R,G,Z){var re=cf(u,b),fe=cf(p,b),je=Z.get(fe);if(je)Ri(u,b,je);else{var qe=G?G(re,fe,b+"",u,p,Z):P,Qe=qe===P;if(Qe){var ft=gn(fe),Lt=!ft&&Kc(fe),Ot=!ft&&!Lt&&to(fe);qe=fe,ft||Lt||Ot?gn(re)?qe=re:Zr(re)?qe=Pn(re):Lt?(Qe=!1,qe=Iu(fe,!0)):Ot?(Qe=!1,qe=sh(fe,!0)):qe=[]:Rp(fe)||Yc(fe)?(qe=re,Yc(re)?qe=If(re):(!br(re)||Xl(re))&&(qe=C(fe))):Qe=!1}Qe&&(Z.set(fe,qe),R(qe,fe,S,G,Z),Z.delete(fe)),Ri(u,b,qe)}}(u,p,Z,b,dr,S,R);else{var re=S?S(cf(u,Z),G,Z+"",u,p,R):P;re===P&&(re=G),Ri(u,Z,re)}},Ga)}function bu(u,p){var b=u.length;if(b)return Ie(p+=p<0?b:0,b)?u[p]:P}function Pa(u,p,b){p=p.length?Ii(p,function(G){return gn(G)?function(Z){return Wi(Z,1===G.length?G[0]:G)}:G}):[ga];var S=-1;return p=Ii(p,ji(Gt())),function Xu(ue,Ve){var Ee=ue.length;for(ue.sort(Ve);Ee--;)ue[Ee]=ue[Ee].value;return ue}(ua(u,function(G,Z,re){return{criteria:Ii(p,function(je){return je(G)}),index:++S,value:G}}),function(G,Z){return function Eu(u,p,b){for(var S=-1,R=u.criteria,G=p.criteria,Z=R.length,re=b.length;++S<Z;){var fe=Tu(R[S],G[S]);if(fe)return S>=re?fe:fe*("desc"==b[S]?-1:1)}return u.index-p.index}(G,Z,b)})}function Xd(u,p,b){for(var S=-1,R=p.length,G={};++S<R;){var Z=p[S],re=Wi(u,Z);b(re,Z)&&Cu(G,ha(Z,u),re)}return G}function Vo(u,p,b,S){var R=S?Xi:ia,G=-1,Z=p.length,re=u;for(u===p&&(p=Pn(p)),b&&(re=Ii(u,ji(b)));++G<Z;)for(var fe=0,je=p[G],qe=b?b(je):je;(fe=R(re,qe,fe,S))>-1;)re!==u&&Sa.call(re,fe,1),Sa.call(u,fe,1);return u}function ap(u,p){for(var b=u?p.length:0,S=b-1;b--;){var R=p[b];if(b==S||R!==G){var G=R;Ie(R)?Sa.call(u,R,1):Uo(u,R)}}return u}function wu(u,p){return u+vo(xc()*(p-u+1))}function bo(u,p){var b="";if(!u||p<1||p>Mt)return b;do{p%2&&(b+=u),(p=vo(p/2))&&(u+=u)}while(p);return b}function vn(u,p){return uf(fh(u,p,ga),u+"")}function Bo(u){return Kh(gl(u))}function Du(u,p){var b=gl(u);return mp(b,Zs(p,0,b.length))}function Cu(u,p,b,S){if(!br(u))return u;for(var R=-1,G=(p=ha(p,u)).length,Z=G-1,re=u;null!=re&&++R<G;){var fe=Va(p[R]),je=b;if("__proto__"===fe||"constructor"===fe||"prototype"===fe)return u;if(R!=Z){var qe=re[fe];(je=S?S(qe,fe,re):P)===P&&(je=br(qe)?qe:Ie(p[R+1])?[]:{})}Pi(re,fe,je),re=re[fe]}return u}var Xh=dl?function(u,p){return dl.set(u,p),u}:ga,ef=ol?function(u,p){return ol(u,"toString",{configurable:!0,enumerable:!1,value:Sv(p),writable:!0})}:ga;function Ag(u){return mp(gl(u))}function kr(u,p,b){var S=-1,R=u.length;p<0&&(p=-p>R?0:R+p),(b=b>R?R:b)<0&&(b+=R),R=p>b?0:b-p>>>0,p>>>=0;for(var G=Ee(R);++S<R;)G[S]=u[S+p];return G}function Ng(u,p){var b;return N(u,function(S,R,G){return!(b=p(S,R,G))}),!!b}function Ai(u,p,b){var S=0,R=null==u?S:u.length;if("number"==typeof p&&p==p&&R<=2147483647){for(;S<R;){var G=S+R>>>1,Z=u[G];null!==Z&&!eo(Z)&&(b?Z<=p:Z<p)?S=G+1:R=G}return R}return ka(u,p,ga,b)}function ka(u,p,b,S){var R=0,G=null==u?0:u.length;if(0===G)return 0;for(var Z=(p=b(p))!=p,re=null===p,fe=eo(p),je=p===P;R<G;){var qe=vo((R+G)/2),Qe=b(u[qe]),ft=Qe!==P,Lt=null===Qe,Ot=Qe==Qe,dn=eo(Qe);if(Z)var Jt=S||Ot;else Jt=je?Ot&&(S||ft):re?Ot&&ft&&(S||!Lt):fe?Ot&&ft&&!Lt&&(S||!dn):!Lt&&!dn&&(S?Qe<=p:Qe<p);Jt?R=qe+1:G=qe}return tr(G,4294967294)}function lp(u,p){for(var b=-1,S=u.length,R=0,G=[];++b<S;){var Z=u[b],re=p?p(Z):Z;if(!b||!vs(re,fe)){var fe=re;G[R++]=0===Z?0:Z}}return G}function tf(u){return"number"==typeof u?u:eo(u)?NaN:+u}function Ks(u){if("string"==typeof u)return u;if(gn(u))return Ii(u,Ks)+"";if(eo(u))return fi?fi.call(u):"";var p=u+"";return"0"==p&&1/u==-Je?"-0":p}function Qs(u,p,b){var S=-1,R=Zt,G=u.length,Z=!0,re=[],fe=re;if(b)Z=!1,R=El;else if(G>=200){var je=p?null:lh(u);if(je)return Nl(je);Z=!1,R=_o,fe=new nr}else fe=p?[]:re;e:for(;++S<G;){var qe=u[S],Qe=p?p(qe):qe;if(qe=b||0!==qe?qe:0,Z&&Qe==Qe){for(var ft=fe.length;ft--;)if(fe[ft]===Qe)continue e;p&&fe.push(Qe),re.push(qe)}else R(fe,Qe,b)||(fe!==re&&fe.push(Qe),re.push(qe))}return re}function Uo(u,p){return null==(u=ph(u,p=ha(p,u)))||delete u[Va(Ho(p))]}function Uc(u,p,b,S){return Cu(u,p,b(Wi(u,p)),S)}function Gl(u,p,b,S){for(var R=u.length,G=S?R:-1;(S?G--:++G<R)&&p(u[G],G,u););return b?kr(u,S?0:G,S?G+1:R):kr(u,S?G+1:0,S?R:G)}function eh(u,p){var b=u;return b instanceof wn&&(b=b.value()),xl(p,function(S,R){return R.func.apply(R.thisArg,go([S],R.args))},b)}function fd(u,p,b){var S=u.length;if(S<2)return S?Qs(u[0]):[];for(var R=-1,G=Ee(S);++R<S;)for(var Z=u[R],re=-1;++re<S;)re!=R&&(G[R]=x(G[R]||Z,u[re],p,b));return Qs(nt(G,1),p,b)}function th(u,p,b){for(var S=-1,R=u.length,G=p.length,Z={};++S<R;)b(Z,u[S],S<G?p[S]:P);return Z}function pd(u){return Zr(u)?u:[]}function nf(u){return"function"==typeof u?u:ga}function ha(u,p){return gn(u)?u:St(u,p)?[u]:F_(ni(u))}var nh=vn;function Hl(u,p,b){var S=u.length;return b=b===P?S:b,!p&&b>=S?u:kr(u,p,b)}var cp=al||function(u){return Un.clearTimeout(u)};function Iu(u,p){if(p)return u.slice();var b=u.length,S=Fl?Fl(b):new u.constructor(b);return u.copy(S),S}function ih(u){var p=new u.constructor(u.byteLength);return new xa(p).set(new xa(u)),p}function sh(u,p){var b=p?ih(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function Tu(u,p){if(u!==p){var b=u!==P,S=null===u,R=u==u,G=eo(u),Z=p!==P,re=null===p,fe=p==p,je=eo(p);if(!re&&!je&&!G&&u>p||G&&Z&&fe&&!re&&!je||S&&Z&&fe||!b&&fe||!R)return 1;if(!S&&!G&&!je&&u<p||je&&b&&R&&!S&&!G||re&&b&&R||!Z&&R||!fe)return-1}return 0}function xu(u,p,b,S){for(var R=-1,G=u.length,Z=b.length,re=-1,fe=p.length,je=or(G-Z,0),qe=Ee(fe+je),Qe=!S;++re<fe;)qe[re]=p[re];for(;++R<Z;)(Qe||R<G)&&(qe[b[R]]=u[R]);for(;je--;)qe[re++]=u[R++];return qe}function md(u,p,b,S){for(var R=-1,G=u.length,Z=-1,re=b.length,fe=-1,je=p.length,qe=or(G-re,0),Qe=Ee(qe+je),ft=!S;++R<qe;)Qe[R]=u[R];for(var Lt=R;++fe<je;)Qe[Lt+fe]=p[fe];for(;++Z<re;)(ft||R<G)&&(Qe[Lt+b[Z]]=u[R++]);return Qe}function Pn(u,p){var b=-1,S=u.length;for(p||(p=Ee(S));++b<S;)p[b]=u[b];return p}function wo(u,p,b,S){var R=!b;b||(b={});for(var G=-1,Z=p.length;++G<Z;){var re=p[G],fe=S?S(b[re],u[re],re,b,u):P;fe===P&&(fe=u[re]),R?Pr(b,re,fe):Pi(b,re,fe)}return b}function $o(u,p){return function(b,S){var R=gn(b)?Ja:ti,G=p?p():{};return R(b,u,Gt(S,2),G)}}function $c(u){return vn(function(p,b){var S=-1,R=b.length,G=R>1?b[R-1]:P,Z=R>2?b[2]:P;for(G=u.length>3&&"function"==typeof G?(R--,G):P,Z&&Xe(b[0],b[1],Z)&&(G=R<3?P:G,R=1),p=ei(p);++S<R;){var re=b[S];re&&u(p,re,S,G)}return p})}function _d(u,p){return function(b,S){if(null==b)return b;if(!fa(b))return u(b,S);for(var R=b.length,G=p?R:-1,Z=ei(b);(p?G--:++G<R)&&!1!==S(Z[G],G,Z););return b}}function Mg(u){return function(p,b,S){for(var R=-1,G=ei(p),Z=S(p),re=Z.length;re--;){var fe=Z[u?re:++R];if(!1===b(G[fe],fe,G))break}return p}}function hp(u){return function(p){var b=Ta(p=ni(p))?gs(p):P,S=b?b[0]:p.charAt(0),R=b?Hl(b,1).join(""):p.slice(1);return S[u]()+R}}function Gc(u){return function(p){return xl(bm(Vp(p).replace($d,"")),u,"")}}function Hc(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Ac(u.prototype),S=u.apply(b,p);return br(S)?S:b}}function jc(u){return function(p,b,S){var R=ei(p);if(!fa(p)){var G=Gt(b,3);p=no(p),b=function(re){return G(R[re],re,R)}}var Z=u(p,b,S);return Z>-1?R[G?p[Z]:Z]:P}}function yd(u){return Do(function(p){var b=p.length,S=b,R=zs.prototype.thru;for(u&&p.reverse();S--;){var G=p[S];if("function"!=typeof G)throw new Cr(De);if(R&&!Z&&"wrapper"==Ou(G))var Z=new zs([],!0)}for(S=Z?S:b;++S<b;){var re=Ou(G=p[S]),fe="wrapper"==re?Mu(G):P;Z=fe&&$t(fe[0])&&424==fe[1]&&!fe[4].length&&1==fe[9]?Z[Ou(fe[0])].apply(Z,fe[3]):1==G.length&&$t(G)?Z[re]():Z.thru(G)}return function(){var je=arguments,qe=je[0];if(Z&&1==je.length&&gn(qe))return Z.plant(qe).value();for(var Qe=0,ft=b?p[Qe].apply(this,je):qe;++Qe<b;)ft=p[Qe].call(this,ft);return ft}})}function Su(u,p,b,S,R,G,Z,re,fe,je){var qe=128&p,Qe=1&p,ft=2&p,Lt=24&p,Ot=512&p,dn=ft?P:Hc(u);return function Jt(){for(var rn=arguments.length,Nn=Ee(rn),sr=rn;sr--;)Nn[sr]=arguments[sr];if(Lt)var Ur=Tr(Jt),xr=vc(Nn,Ur);if(S&&(Nn=xu(Nn,S,R,Lt)),G&&(Nn=md(Nn,G,Z,Lt)),rn-=xr,Lt&&rn<je){var vi=Oo(Nn,Ur);return Dd(u,p,Su,Jt.placeholder,b,Nn,vi,re,fe,je-rn)}var io=Qe?b:this,qo=ft?io[u]:u;return rn=Nn.length,re?Nn=pp(Nn,re):Ot&&rn>1&&Nn.reverse(),qe&&fe<rn&&(Nn.length=fe),this&&this!==Un&&this instanceof Jt&&(qo=dn||Hc(qo)),qo.apply(io,Nn)}}function sf(u,p){return function(b,S){return function Ys(u,p,b,S){return qt(u,function(R,G,Z){p(S,b(R),G,Z)}),S}(b,u,p(S),{})}}function af(u,p){return function(b,S){var R;if(b===P&&S===P)return p;if(b!==P&&(R=b),S!==P){if(R===P)return S;"string"==typeof b||"string"==typeof S?(b=Ks(b),S=Ks(S)):(b=tf(b),S=tf(S)),R=u(b,S)}return R}}function bd(u){return Do(function(p){return p=Ii(p,ji(Gt())),vn(function(b){var S=this;return u(p,function(R){return zr(R,S,b)})})})}function oh(u,p){var b=(p=p===P?" ":Ks(p)).length;if(b<2)return b?bo(p,u):p;var S=bo(p,ll(u/Ws(p)));return Ta(p)?Hl(gs(S),0,u).join(""):S.slice(0,u)}function ah(u){return function(p,b,S){return S&&"number"!=typeof S&&Xe(p,b,S)&&(b=S=P),p=ec(p),b===P?(b=p,p=0):b=ec(b),function Bc(u,p,b,S){for(var R=-1,G=or(ll((p-u)/(b||1)),0),Z=Ee(G);G--;)Z[S?G:++R]=u,u+=b;return Z}(p,b,S=S===P?p<b?1:-1:ec(S),u)}}function wd(u){return function(p,b){return"string"==typeof p&&"string"==typeof b||(p=pl(p),b=pl(b)),u(p,b)}}function Dd(u,p,b,S,R,G,Z,re,fe,je){var qe=8&p;p|=qe?32:64,4&(p&=~(qe?64:32))||(p&=-4);var dn=[u,p,R,qe?G:P,qe?Z:P,qe?P:G,qe?P:Z,re,fe,je],Jt=b.apply(P,dn);return $t(u)&&gp(Jt,dn),Jt.placeholder=S,Og(Jt,u,p)}function Au(u){var p=Ei[u];return function(b,S){if(b=pl(b),(S=null==S?0:tr(Dn(S),292))&&pu(b)){var R=(ni(b)+"e").split("e");return+((R=(ni(p(R[0]+"e"+(+R[1]+S)))+"e").split("e"))[0]+"e"+(+R[1]-S))}return p(b)}}var lh=aa&&1/Nl(new aa([,-0]))[1]==Je?function(u){return new aa(u)}:Tf;function jl(u){return function(p){var b=Vr(p);return b==di?Al(p):b==Cn?function nd(ue){var Ve=-1,Ee=Array(ue.size);return ue.forEach(function(bt){Ee[++Ve]=[bt,bt]}),Ee}(p):function mc(ue,Ve){return Ii(Ve,function(Ee){return[Ee,ue[Ee]]})}(p,u(p))}}function Go(u,p,b,S,R,G,Z,re){var fe=2&p;if(!fe&&"function"!=typeof u)throw new Cr(De);var je=S?S.length:0;if(je||(p&=-97,S=R=P),Z=Z===P?Z:or(Dn(Z),0),re=re===P?re:Dn(re),je-=R?R.length:0,64&p){var qe=S,Qe=R;S=R=P}var ft=fe?P:Mu(u),Lt=[u,p,b,S,R,qe,Qe,G,Z,re];if(ft&&function M_(u,p){var b=u[1],S=p[1],R=b|S;if(!(R<131||(128==S&&8==b||128==S&&256==b&&u[7].length<=p[8]||384==S&&p[7].length<=p[8]&&8==b)))return u;1&S&&(u[2]=p[2],R|=1&b?0:4);var re=p[3];if(re){var fe=u[3];u[3]=fe?xu(fe,re,p[4]):re,u[4]=fe?Oo(u[3],J):p[4]}(re=p[5])&&(u[5]=(fe=u[5])?md(fe,re,p[6]):re,u[6]=fe?Oo(u[5],J):p[6]),(re=p[7])&&(u[7]=re),128&S&&(u[8]=null==u[8]?p[8]:tr(u[8],p[8])),null==u[9]&&(u[9]=p[9]),u[0]=p[0],u[1]=R}(Lt,ft),u=Lt[0],p=Lt[1],b=Lt[2],S=Lt[3],R=Lt[4],!(re=Lt[9]=Lt[9]===P?fe?0:u.length:or(Lt[9]-je,0))&&24&p&&(p&=-25),p&&1!=p)Ot=8==p||16==p?function vd(u,p,b){var S=Hc(u);return function R(){for(var G=arguments.length,Z=Ee(G),re=G,fe=Tr(R);re--;)Z[re]=arguments[re];var je=G<3&&Z[0]!==fe&&Z[G-1]!==fe?[]:Oo(Z,fe);return(G-=je.length)<b?Dd(u,p,Su,R.placeholder,P,Z,je,P,P,b-G):zr(this&&this!==Un&&this instanceof R?S:u,this,Z)}}(u,p,re):32!=p&&33!=p||R.length?Su.apply(P,Lt):function Js(u,p,b,S){var R=1&p,G=Hc(u);return function Z(){for(var re=-1,fe=arguments.length,je=-1,qe=S.length,Qe=Ee(qe+fe),ft=this&&this!==Un&&this instanceof Z?G:u;++je<qe;)Qe[je]=S[je];for(;fe--;)Qe[je++]=arguments[++re];return zr(ft,R?b:this,Qe)}}(u,p,b,S);else var Ot=function dp(u,p,b){var S=1&p,R=Hc(u);return function G(){return(this&&this!==Un&&this instanceof G?R:u).apply(S?b:this,arguments)}}(u,p,b);return Og((ft?Xh:gp)(Ot,Lt),u,p)}function Wl(u,p,b,S){return u===P||vs(u,ra[b])&&!Qn.call(S,b)?p:u}function Os(u,p,b,S,R,G){return br(u)&&br(p)&&(G.set(p,u),dr(u,p,P,Os,G),G.delete(p)),u}function Wc(u){return Rp(u)?P:u}function zl(u,p,b,S,R,G){var Z=1&b,re=u.length,fe=p.length;if(re!=fe&&!(Z&&fe>re))return!1;var je=G.get(u),qe=G.get(p);if(je&&qe)return je==p&&qe==u;var Qe=-1,ft=!0,Lt=2&b?new nr:P;for(G.set(u,p),G.set(p,u);++Qe<re;){var Ot=u[Qe],dn=p[Qe];if(S)var Jt=Z?S(dn,Ot,Qe,p,u,G):S(Ot,dn,Qe,u,p,G);if(Jt!==P){if(Jt)continue;ft=!1;break}if(Lt){if(!mo(p,function(rn,Nn){if(!_o(Lt,Nn)&&(Ot===rn||R(Ot,rn,b,S,G)))return Lt.push(Nn)})){ft=!1;break}}else if(Ot!==dn&&!R(Ot,dn,b,S,G)){ft=!1;break}}return G.delete(u),G.delete(p),ft}function Do(u){return uf(fh(u,P,Lg),u+"")}function Lr(u){return Gn(u,no,Fu)}function Zl(u){return Gn(u,Ga,qc)}var Mu=dl?function(u){return dl.get(u)}:Tf;function Ou(u){for(var p=u.name+"",b=Ir[p],S=Qn.call(Ir,p)?b.length:0;S--;){var R=b[S],G=R.func;if(null==G||G==u)return R.name}return p}function Tr(u){return(Qn.call(U,"placeholder")?U:u).placeholder}function Gt(){var u=U.iteratee||Av;return u=u===Av?Jd:u,arguments.length?u(arguments[0],arguments[1]):u}function ch(u,p){var b=u.__data__;return function Kt(u){var p=typeof u;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==u:null===u}(p)?b["string"==typeof p?"string":"hash"]:b.map}function lf(u){for(var p=no(u),b=p.length;b--;){var S=p[b],R=u[S];p[b]=[S,R,dh(R)]}return p}function zc(u,p){var b=function yc(ue,Ve){return null==ue?P:ue[Ve]}(u,p);return yu(b)?b:P}var Fu=fu?function(u){return null==u?[]:(u=ei(u),Kn(fu(u),function(p){return sd.call(u,p)}))}:ml,qc=fu?function(u){for(var p=[];u;)go(p,Fu(u)),u=As(u);return p}:ml,Vr=cr;function g(u,p,b){for(var S=-1,R=(p=ha(p,u)).length,G=!1;++S<R;){var Z=Va(p[S]);if(!(G=null!=u&&b(u,Z)))break;u=u[Z]}return G||++S!=R?G:!!(R=null==u?0:u.length)&&Mp(R)&&Ie(Z,R)&&(gn(u)||Yc(u))}function C(u){return"function"!=typeof u.constructor||La(u)?{}:Ac(As(u))}function le(u){return gn(u)||Yc(u)||!!(du&&u&&u[du])}function Ie(u,p){var b=typeof u;return!!(p=p??Mt)&&("number"==b||"symbol"!=b&&zn.test(u))&&u>-1&&u%1==0&&u<p}function Xe(u,p,b){if(!br(b))return!1;var S=typeof p;return!!("number"==S?fa(b)&&Ie(p,b.length):"string"==S&&p in b)&&vs(b[p],u)}function St(u,p){if(gn(u))return!1;var b=typeof u;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=u&&!eo(u))||mn.test(u)||!Zi.test(u)||null!=p&&u in ei(p)}function $t(u){var p=Ou(u),b=U[p];if("function"!=typeof b||!(p in wn.prototype))return!1;if(u===b)return!0;var S=Mu(b);return!!S&&u===S[0]}(oa&&Vr(new oa(new ArrayBuffer(1)))!=Nt||ul&&Vr(new ul)!=di||yo&&Vr(yo.resolve())!=mt||aa&&Vr(new aa)!=Cn||Po&&Vr(new Po)!=wi)&&(Vr=function(u){var p=cr(u),b=p==_i?u.constructor:P,S=b?Pu(b):"";if(S)switch(S){case Na:return Nt;case Pl:return di;case kl:return mt;case gu:return Cn;case Ll:return wi}return p});var Xs=rl?Xl:Ef;function La(u){var p=u&&u.constructor;return u===("function"==typeof p&&p.prototype||ra)}function dh(u){return u==u&&!br(u)}function Ru(u,p){return function(b){return null!=b&&b[u]===p&&(p!==P||u in ei(b))}}function fh(u,p,b){return p=or(p===P?u.length-1:p,0),function(){for(var S=arguments,R=-1,G=or(S.length-p,0),Z=Ee(G);++R<G;)Z[R]=S[p+R];R=-1;for(var re=Ee(p+1);++R<p;)re[R]=S[R];return re[p]=b(Z),zr(u,this,re)}}function ph(u,p){return p.length<2?u:Wi(u,kr(p,0,-1))}function pp(u,p){for(var b=u.length,S=tr(p.length,b),R=Pn(u);S--;){var G=p[S];u[S]=Ie(G,b)?R[G]:P}return u}function cf(u,p){if(("constructor"!==p||"function"!=typeof u[p])&&"__proto__"!=p)return u[p]}var gp=O_(Xh),Id=hu||function(u,p){return Un.setTimeout(u,p)},uf=O_(ef);function Og(u,p,b){var S=p+"";return uf(u,function B(u,p){var b=p.length;if(!b)return u;var S=b-1;return p[S]=(b>1?"& ":"")+p[S],p=p.join(b>2?", ":" "),u.replace(Ui,"{\n/* [wrapped with "+p+"] */\n")}(S,function Fg(u,p){return rs(Ln,function(b){var S="_."+b[0];p&b[1]&&!Zt(u,S)&&u.push(S)}),u.sort()}(function w(u){var p=u.match(ht);return p?p[1].split(Wt):[]}(S),b)))}function O_(u){var p=0,b=0;return function(){var S=sa(),R=16-(S-b);if(b=S,R>0){if(++p>=800)return arguments[0]}else p=0;return u.apply(P,arguments)}}function mp(u,p){var b=-1,S=u.length,R=S-1;for(p=p===P?S:p;++b<p;){var G=wu(b,R),Z=u[G];u[G]=u[b],u[b]=Z}return u.length=p,u}var F_=function hh(u){var p=Bu(u,function(S){return 500===b.size&&b.clear(),S}),b=p.cache;return p}(function(u){var p=[];return 46===u.charCodeAt(0)&&p.push(""),u.replace(sn,function(b,S,R,G){p.push(R?G.replace(us,"$1"):S||b)}),p});function Va(u){if("string"==typeof u||eo(u))return u;var p=u+"";return"0"==p&&1/u==-Je?"-0":p}function Pu(u){if(null!=u){try{return Dc.call(u)}catch{}try{return u+""}catch{}}return""}function Td(u){if(u instanceof wn)return u.clone();var p=new zs(u.__wrapped__,u.__chain__);return p.__actions__=Pn(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}var Rg=vn(function(u,p){return Zr(u)?x(u,nt(p,1,Zr,!0)):[]}),f0=vn(function(u,p){var b=Ho(p);return Zr(b)&&(b=P),Zr(u)?x(u,nt(p,1,Zr,!0),Gt(b,2)):[]}),Q1=vn(function(u,p){var b=Ho(p);return Zr(b)&&(b=P),Zr(u)?x(u,nt(p,1,Zr,!0),P,b):[]});function Pg(u,p,b){var S=null==u?0:u.length;if(!S)return-1;var R=null==b?0:Dn(b);return R<0&&(R=or(S+R,0)),Xa(u,Gt(p,3),R)}function kg(u,p,b){var S=null==u?0:u.length;if(!S)return-1;var R=S-1;return b!==P&&(R=Dn(b),R=b<0?or(S+R,0):tr(R,S-1)),Xa(u,Gt(p,3),R,!0)}function Lg(u){return null!=u&&u.length?nt(u,1):[]}function df(u){return u&&u.length?u[0]:P}var gh=vn(function(u){var p=Ii(u,pd);return p.length&&p[0]===u[0]?Ra(p):[]}),L_=vn(function(u){var p=Ho(u),b=Ii(u,pd);return p===Ho(b)?p=P:b.pop(),b.length&&b[0]===u[0]?Ra(b,Gt(p,2)):[]}),V_=vn(function(u){var p=Ho(u),b=Ii(u,pd);return(p="function"==typeof p?p:P)&&b.pop(),b.length&&b[0]===u[0]?Ra(b,P,p):[]});function Ho(u){var p=null==u?0:u.length;return p?u[p-1]:P}var y0=vn(Ug);function Ug(u,p){return u&&u.length&&p&&p.length?Vo(u,p):u}var J1=Do(function(u,p){var b=null==u?0:u.length,S=qs(u,p);return ap(u,Ii(p,function(R){return Ie(R,b)?+R:R}).sort(Tu)),S});function Gg(u){return null==u?u:Sc.call(u)}var mh=vn(function(u){return Qs(nt(u,1,Zr,!0))}),T0=vn(function(u){var p=Ho(u);return Zr(p)&&(p=P),Qs(nt(u,1,Zr,!0),Gt(p,2))}),U_=vn(function(u){var p=Ho(u);return p="function"==typeof p?p:P,Qs(nt(u,1,Zr,!0),P,p)});function x0(u){if(!u||!u.length)return[];var p=0;return u=Kn(u,function(b){if(Zr(b))return p=or(b.length,p),!0}),lu(p,function(b){return Ii(u,ps(b))})}function _h(u,p){if(!u||!u.length)return[];var b=x0(u);return null==p?b:Ii(b,function(S){return zr(p,P,S)})}var zg=vn(function(u,p){return Zr(u)?x(u,p):[]}),$_=vn(function(u){return fd(Kn(u,Zr))}),tD=vn(function(u){var p=Ho(u);return Zr(p)&&(p=P),fd(Kn(u,Zr),Gt(p,2))}),qg=vn(function(u){var p=Ho(u);return p="function"==typeof p?p:P,fd(Kn(u,Zr),P,p)}),nD=vn(x0),sD=vn(function(u){var p=u.length,b=p>1?u[p-1]:P;return b="function"==typeof b?(u.pop(),b):P,_h(u,b)});function S0(u){var p=U(u);return p.__chain__=!0,p}function wp(u,p){return p(u)}var Zg=Do(function(u){var p=u.length,b=p?u[0]:0,S=this.__wrapped__,R=function(G){return qs(G,u)};return!(p>1||this.__actions__.length)&&S instanceof wn&&Ie(b)?((S=S.slice(b,+b+(p?1:0))).__actions__.push({func:wp,args:[R],thisArg:P}),new zs(S,this.__chain__).thru(function(G){return p&&!G.length&&G.push(P),G})):this.thru(R)}),Wo=$o(function(u,p,b){Qn.call(u,b)?++u[b]:Pr(u,b,1)}),gf=jc(Pg),ku=jc(kg);function Kg(u,p){return(gn(u)?rs:N)(u,Gt(p,3))}function mf(u,p){return(gn(u)?po:k)(u,Gt(p,3))}var Qg=$o(function(u,p,b){Qn.call(u,b)?u[b].push(p):Pr(u,b,[p])}),Ip=vn(function(u,p,b){var S=-1,R="function"==typeof p,G=fa(u)?Ee(u.length):[];return N(u,function(Z){G[++S]=R?zr(p,Z,b):hl(Z,p,b)}),G}),H_=$o(function(u,p,b){Pr(u,b,p)});function yh(u,p){return(gn(u)?Ii:ua)(u,Gt(p,3))}var Jg=$o(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]}),Sd=vn(function(u,p){if(null==u)return[];var b=p.length;return b>1&&Xe(u,p[0],p[1])?p=[]:b>2&&Xe(p[0],p[1],p[2])&&(p=[p[0]]),Pa(u,nt(p,1),[])}),fl=Tc||function(){return Un.Date.now()};function Vu(u,p,b){return p=b?P:p,Go(u,128,P,P,P,P,p=u&&null==p?u.length:p)}function xp(u,p){var b;if("function"!=typeof p)throw new Cr(De);return u=Dn(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=P),b}}var Sp=vn(function(u,p,b){var S=1;if(b.length){var R=Oo(b,Tr(Sp));S|=32}return Go(u,S,p,b,R)}),Ps=vn(function(u,p,b){var S=3;if(b.length){var R=Oo(b,Tr(Ps));S|=32}return Go(p,S,u,b,R)});function z_(u,p,b){var S,R,G,Z,re,fe,je=0,qe=!1,Qe=!1,ft=!0;if("function"!=typeof u)throw new Cr(De);function Lt(vi){var io=S,qo=R;return S=R=P,je=vi,Z=u.apply(qo,io)}function Ot(vi){return je=vi,re=Id(rn,p),qe?Lt(vi):Z}function Jt(vi){var io=vi-fe;return fe===P||io>=p||io<0||Qe&&vi-je>=G}function rn(){var vi=fl();if(Jt(vi))return Nn(vi);re=Id(rn,function dn(vi){var $u=p-(vi-fe);return Qe?tr($u,G-(vi-je)):$u}(vi))}function Nn(vi){return re=P,ft&&S?Lt(vi):(S=R=P,Z)}function xr(){var vi=fl(),io=Jt(vi);if(S=arguments,R=this,fe=vi,io){if(re===P)return Ot(fe);if(Qe)return cp(re),re=Id(rn,p),Lt(fe)}return re===P&&(re=Id(rn,p)),Z}return p=pl(p)||0,br(b)&&(qe=!!b.leading,G=(Qe="maxWait"in b)?or(pl(b.maxWait)||0,p):G,ft="trailing"in b?!!b.trailing:ft),xr.cancel=function sr(){re!==P&&cp(re),je=0,S=fe=R=re=P},xr.flush=function Ur(){return re===P?Z:Nn(fl())},xr}var Zc=vn(function(u,p){return Zd(u,1,p)}),F0=vn(function(u,p,b){return Zd(u,pl(p)||0,b)});function Bu(u,p){if("function"!=typeof u||null!=p&&"function"!=typeof p)throw new Cr(De);var b=function(){var S=arguments,R=p?p.apply(this,S):S[0],G=b.cache;if(G.has(R))return G.get(R);var Z=u.apply(this,S);return b.cache=G.set(R,Z)||G,Z};return b.cache=new(Bu.Cache||It),b}function bh(u){if("function"!=typeof u)throw new Cr(De);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}Bu.Cache=It;var yf=nh(function(u,p){var b=(p=1==p.length&&gn(p[0])?Ii(p[0],ji(Gt())):Ii(nt(p,1),ji(Gt()))).length;return vn(function(S){for(var R=-1,G=tr(S.length,b);++R<G;)S[R]=p[R].call(this,S[R]);return zr(u,this,S)})}),on=vn(function(u,p){var b=Oo(p,Tr(on));return Go(u,32,P,p,b)}),Np=vn(function(u,p){var b=Oo(p,Tr(Np));return Go(u,64,P,p,b)}),Z_=Do(function(u,p){return Go(u,256,P,P,P,p)});function vs(u,p){return u===p||u!=u&&p!=p}var ev=wd(ca),bf=wd(function(u,p){return u>=p}),Yc=Qh(function(){return arguments}())?Qh:function(u){return Er(u)&&Qn.call(u,"callee")&&!sd.call(u,"callee")},gn=Ee.isArray,aD=xs?ji(xs):function Yd(u){return Er(u)&&cr(u)==kt};function fa(u){return null!=u&&Mp(u.length)&&!Xl(u)}function Zr(u){return Er(u)&&fa(u)}var Kc=Aa||Ef,tv=is?ji(is):function Sg(u){return Er(u)&&cr(u)==Ar};function Ih(u){if(!Er(u))return!1;var p=cr(u);return p==Fn||"[object DOMException]"==p||"string"==typeof u.message&&"string"==typeof u.name&&!Rp(u)}function Xl(u){if(!br(u))return!1;var p=cr(u);return p==zi||p==es||"[object AsyncFunction]"==p||"[object Proxy]"==p}function iv(u){return"number"==typeof u&&u==Dn(u)}function Mp(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=Mt}function br(u){var p=typeof u;return null!=u&&("object"==p||"function"==p)}function Er(u){return null!=u&&"object"==typeof u}var rv=dc?ji(dc):function vu(u){return Er(u)&&Vr(u)==di};function Fp(u){return"number"==typeof u||Er(u)&&cr(u)==Mi}function Rp(u){if(!Er(u)||cr(u)!=_i)return!1;var p=As(u);if(null===p)return!0;var b=Qn.call(p,"constructor")&&p.constructor;return"function"==typeof b&&b instanceof b&&Dc.call(b)==uu}var Df=Qa?ji(Qa):function Kd(u){return Er(u)&&cr(u)==Hr},nm=No?ji(No):function ip(u){return Er(u)&&Vr(u)==Cn};function Cf(u){return"string"==typeof u||!gn(u)&&Er(u)&&cr(u)==Xn}function eo(u){return"symbol"==typeof u||Er(u)&&cr(u)==Mr}var to=An?ji(An):function Qd(u){return Er(u)&&Mp(u.length)&&!!Zn[cr(u)]},Qc=wd(ki),rm=wd(function(u,p){return u<=p});function sm(u){if(!u)return[];if(fa(u))return Cf(u)?gs(u):Pn(u);if(Si&&u[Si])return function td(ue){for(var Ve,Ee=[];!(Ve=ue.next()).done;)Ee.push(Ve.value);return Ee}(u[Si]());var p=Vr(u);return(p==di?Al:p==Cn?Nl:gl)(u)}function ec(u){return u?(u=pl(u))===Je||u===-Je?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function Dn(u){var p=ec(u),b=p%1;return p==p?b?p-b:p:0}function om(u){return u?Zs(Dn(u),0,dt):0}function pl(u){if("number"==typeof u)return u;if(eo(u))return NaN;if(br(u)){var p="function"==typeof u.valueOf?u.valueOf():u;u=br(p)?p+"":p}if("string"!=typeof u)return 0===u?u:+u;u=Hi(u);var b=Us.test(u);return b||tn.test(u)?Es(u.slice(2),b?2:8):oi.test(u)?NaN:+u}function If(u){return wo(u,Ga(u))}function ni(u){return null==u?"":Ks(u)}var am=$c(function(u,p){if(La(p)||fa(p))wo(p,no(p),u);else for(var b in p)Qn.call(p,b)&&Pi(u,b,p[b])}),kp=$c(function(u,p){wo(p,Ga(p),u)}),lm=$c(function(u,p,b,S){wo(p,Ga(p),u,S)}),G0=$c(function(u,p,b,S){wo(p,no(p),u,S)}),H0=Do(qs),lD=vn(function(u,p){u=ei(u);var b=-1,S=p.length,R=S>2?p[2]:P;for(R&&Xe(p[0],p[1],R)&&(S=1);++b<S;)for(var G=p[b],Z=Ga(G),re=-1,fe=Z.length;++re<fe;){var je=Z[re],qe=u[je];(qe===P||vs(qe,ra[je])&&!Qn.call(u,je))&&(u[je]=G[je])}return u}),cm=vn(function(u){return u.push(P,Os),zr(hv,P,u)});function z0(u,p,b){var S=null==u?P:Wi(u,p);return S===P?b:S}function dv(u,p){return null!=u&&g(u,p,Oa)}var hD=sf(function(u,p,b){null!=p&&"function"!=typeof p.toString&&(p=Ro.call(p)),u[p]=b},Sv(ga)),fD=sf(function(u,p,b){null!=p&&"function"!=typeof p.toString&&(p=Ro.call(p)),Qn.call(u,p)?u[p].push(b):u[p]=[b]},Gt),aE=vn(hl);function no(u){return fa(u)?hd(u):ur(u)}function Ga(u){return fa(u)?hd(u,!0):function rr(u){if(!br(u))return function fp(u){var p=[];if(null!=u)for(var b in ei(u))p.push(b);return p}(u);var p=La(u),b=[];for(var S in u)"constructor"==S&&(p||!Qn.call(u,S))||b.push(S);return b}(u)}var um=$c(function(u,p,b){dr(u,p,b)}),hv=$c(function(u,p,b,S){dr(u,p,b,S)}),q0=Do(function(u,p){var b={};if(null==u)return b;var S=!1;p=Ii(p,function(G){return G=ha(G,u),S||(S=G.length>1),G}),wo(u,Zl(u),b),S&&(b=yr(b,7,Wc));for(var R=p.length;R--;)Uo(b,p[R]);return b}),Z0=Do(function(u,p){return null==u?{}:function Jh(u,p){return Xd(u,p,function(b,S){return dv(u,S)})}(u,p)});function dm(u,p){if(null==u)return{};var b=Ii(Zl(u),function(S){return[S]});return p=Gt(p),Xd(u,b,function(S,R){return p(S,R[0])})}var pv=jl(no),gv=jl(Ga);function gl(u){return null==u?[]:_c(u,no(u))}var _v=Gc(function(u,p,b){return p=p.toLowerCase(),u+(b?gm(p):p)});function gm(u){return ym(ni(u).toLowerCase())}function Vp(u){return(u=ni(u))&&u.replace($s,Xf).replace(Gd,"")}var X0=Gc(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),pD=Gc(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),eb=hp("toLowerCase"),Dv=Gc(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()}),Cv=Gc(function(u,p,b){return u+(b?" ":"")+ym(p)}),cb=Gc(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),ym=hp("toUpperCase");function bm(u,p,b){return u=ni(u),(p=b?P:p)===P?function bc(ue){return Ao.test(ue)}(u)?function rd(ue){return ue.match(zh)||[]}(u):function Ze(ue){return ue.match(Bn)||[]}(u):u.match(p)||[]}var xv=vn(function(u,p){try{return zr(u,P,p)}catch(b){return Ih(b)?b:new Yt(b)}}),gD=Do(function(u,p){return rs(p,function(b){b=Va(b),Pr(u,b,Sp(u[b],u))}),u});function Sv(u){return function(){return u}}var cE=yd(),ub=yd(!0);function ga(u){return u}function Av(u){return Jd("function"==typeof u?u:yr(u,1))}var _D=vn(function(u,p){return function(b){return hl(b,u,p)}}),vD=vn(function(u,p){return function(b){return hl(u,b,p)}});function xh(u,p,b){var S=no(p),R=pi(p,S);null==b&&(!br(p)||!R.length&&S.length)&&(b=p,p=u,u=this,R=pi(p,no(p)));var G=!(br(b)&&"chain"in b&&!b.chain),Z=Xl(u);return rs(R,function(re){var fe=p[re];u[re]=fe,Z&&(u.prototype[re]=function(){var je=this.__chain__;if(G||je){var qe=u(this.__wrapped__),Qe=qe.__actions__=Pn(this.__actions__);return Qe.push({func:fe,args:arguments,thisArg:u}),qe.__chain__=je,qe}return fe.apply(u,go([this.value()],arguments))})}),u}function Tf(){}var Im=bd(Ii),dE=bd(hc),Nv=bd(mo);function Tm(u){return St(u)?ps(Va(u)):function op(u){return function(p){return Wi(p,u)}}(u)}var fb=ah(),Em=ah(!0);function ml(){return[]}function Ef(){return!1}var Md=af(function(u,p){return u+p},0),Sh=Au("ceil"),yD=af(function(u,p){return u/p},1),hE=Au("floor"),Up=af(function(u,p){return u*p},1),mb=Au("round"),Sm=af(function(u,p){return u-p},0);return U.after=function Ep(u,p){if("function"!=typeof p)throw new Cr(De);return u=Dn(u),function(){if(--u<1)return p.apply(this,arguments)}},U.ary=Vu,U.assign=am,U.assignIn=kp,U.assignInWith=lm,U.assignWith=G0,U.at=H0,U.before=xp,U.bind=Sp,U.bindAll=gD,U.bindKey=Ps,U.castArray=function J_(){if(!arguments.length)return[];var u=arguments[0];return gn(u)?u:[u]},U.chain=S0,U.chunk=function R_(u,p,b){p=(b?Xe(u,p,b):p===P)?1:or(Dn(p),0);var S=null==u?0:u.length;if(!S||p<1)return[];for(var R=0,G=0,Z=Ee(ll(S/p));R<S;)Z[G++]=kr(u,R,R+=p);return Z},U.compact=function d0(u){for(var p=-1,b=null==u?0:u.length,S=0,R=[];++p<b;){var G=u[p];G&&(R[S++]=G)}return R},U.concat=function h0(){var u=arguments.length;if(!u)return[];for(var p=Ee(u-1),b=arguments[0],S=u;S--;)p[S-1]=arguments[S];return go(gn(b)?Pn(b):[b],nt(p,1))},U.cond=function Jc(u){var p=null==u?0:u.length,b=Gt();return u=p?Ii(u,function(S){if("function"!=typeof S[1])throw new Cr(De);return[b(S[0]),S[1]]}):[],vn(function(S){for(var R=-1;++R<p;){var G=u[R];if(zr(G[0],this,S))return zr(G[1],this,S)}})},U.conforms=function wm(u){return function _u(u){var p=no(u);return function(b){return ir(b,u,p)}}(yr(u,1))},U.constant=Sv,U.countBy=Wo,U.create=function j0(u,p){var b=Ac(u);return null==p?b:wt(b,p)},U.curry=function Ap(u,p,b){var S=Go(u,8,P,P,P,P,P,p=b?P:p);return S.placeholder=Ap.placeholder,S},U.curryRight=function vf(u,p,b){var S=Go(u,16,P,P,P,P,P,p=b?P:p);return S.placeholder=vf.placeholder,S},U.debounce=z_,U.defaults=lD,U.defaultsDeep=cm,U.defer=Zc,U.delay=F0,U.difference=Rg,U.differenceBy=f0,U.differenceWith=Q1,U.drop=function P_(u,p,b){var S=null==u?0:u.length;return S?kr(u,(p=b||p===P?1:Dn(p))<0?0:p,S):[]},U.dropRight=function p0(u,p,b){var S=null==u?0:u.length;return S?kr(u,0,(p=S-(p=b||p===P?1:Dn(p)))<0?0:p):[]},U.dropRightWhile=function _p(u,p){return u&&u.length?Gl(u,Gt(p,3),!0,!0):[]},U.dropWhile=function g0(u,p){return u&&u.length?Gl(u,Gt(p,3),!0):[]},U.fill=function k_(u,p,b,S){var R=null==u?0:u.length;return R?(b&&"number"!=typeof b&&Xe(u,p,b)&&(b=0,S=R),function Te(u,p,b,S){var R=u.length;for((b=Dn(b))<0&&(b=-b>R?0:R+b),(S=S===P||S>R?R:Dn(S))<0&&(S+=R),S=b>S?0:om(S);b<S;)u[b++]=p;return u}(u,p,b,S)):[]},U.filter=function pf(u,p){return(gn(u)?Kn:ze)(u,Gt(p,3))},U.flatMap=function N0(u,p){return nt(yh(u,p),1)},U.flatMapDeep=function Yg(u,p){return nt(yh(u,p),Je)},U.flatMapDepth=function vh(u,p,b){return b=b===P?1:Dn(b),nt(yh(u,p),b)},U.flatten=Lg,U.flattenDeep=function m0(u){return null!=u&&u.length?nt(u,Je):[]},U.flattenDepth=function Fs(u,p){return null!=u&&u.length?nt(u,p=p===P?1:Dn(p)):[]},U.flip=function Jl(u){return Go(u,512)},U.flow=cE,U.flowRight=ub,U.fromPairs=function Vg(u){for(var p=-1,b=null==u?0:u.length,S={};++p<b;){var R=u[p];S[R[0]]=R[1]}return S},U.functions=function uv(u){return null==u?[]:pi(u,no(u))},U.functionsIn=function sE(u){return null==u?[]:pi(u,Ga(u))},U.groupBy=Qg,U.initial=function _s(u){return null!=u&&u.length?kr(u,0,-1):[]},U.intersection=gh,U.intersectionBy=L_,U.intersectionWith=V_,U.invert=hD,U.invertBy=fD,U.invokeMap=Ip,U.iteratee=Av,U.keyBy=H_,U.keys=no,U.keysIn=Ga,U.map=yh,U.mapKeys=function lE(u,p){var b={};return p=Gt(p,3),qt(u,function(S,R,G){Pr(b,p(S,R,G),S)}),b},U.mapValues=function Ad(u,p){var b={};return p=Gt(p,3),qt(u,function(S,R,G){Pr(b,R,p(S,R,G))}),b},U.matches=function db(u){return da(yr(u,1))},U.matchesProperty=function Dm(u,p){return rp(u,yr(p,1))},U.memoize=Bu,U.merge=um,U.mergeWith=hv,U.method=_D,U.methodOf=vD,U.mixin=xh,U.negate=bh,U.nthArg=function uE(u){return u=Dn(u),vn(function(p){return bu(p,u)})},U.omit=q0,U.omitBy=function fv(u,p){return dm(u,bh(Gt(p)))},U.once=function q_(u){return xp(2,u)},U.orderBy=function j_(u,p,b,S){return null==u?[]:(gn(p)||(p=null==p?[]:[p]),gn(b=S?P:b)||(b=null==b?[]:[b]),Pa(u,p,b))},U.over=Im,U.overArgs=yf,U.overEvery=dE,U.overSome=Nv,U.partial=on,U.partialRight=Np,U.partition=Jg,U.pick=Z0,U.pickBy=dm,U.property=Tm,U.propertyOf=function hb(u){return function(p){return null==u?P:Wi(u,p)}},U.pull=y0,U.pullAll=Ug,U.pullAllBy=function B_(u,p,b){return u&&u.length&&p&&p.length?Vo(u,p,Gt(b,2)):u},U.pullAllWith=function b0(u,p,b){return u&&u.length&&p&&p.length?Vo(u,p,P,b):u},U.pullAt=J1,U.range=fb,U.rangeRight=Em,U.rearg=Z_,U.reject=function W_(u,p){return(gn(u)?Kn:ze)(u,bh(Gt(p,3)))},U.remove=function $g(u,p){var b=[];if(!u||!u.length)return b;var S=-1,R=[],G=u.length;for(p=Gt(p,3);++S<G;){var Z=u[S];p(Z,S,u)&&(b.push(Z),R.push(S))}return ap(u,R),b},U.rest=function wh(u,p){if("function"!=typeof u)throw new Cr(De);return vn(u,p=p===P?p:Dn(p))},U.reverse=Gg,U.sampleSize=function $a(u,p,b){return p=(b?Xe(u,p,b):p===P)?1:Dn(p),(gn(u)?Pc:Du)(u,p)},U.set=function Uu(u,p,b){return null==u?u:Cu(u,p,b)},U.setWith=function K0(u,p,b,S){return S="function"==typeof S?S:P,null==u?u:Cu(u,p,b,S)},U.shuffle=function Lu(u){return(gn(u)?kc:Ag)(u)},U.slice=function Ed(u,p,b){var S=null==u?0:u.length;return S?(b&&"number"!=typeof b&&Xe(u,p,b)?(p=0,b=S):(p=null==p?0:Dn(p),b=b===P?S:Dn(b)),kr(u,p,b)):[]},U.sortBy=Sd,U.sortedUniq=function eD(u){return u&&u.length?lp(u):[]},U.sortedUniqBy=function Ql(u,p){return u&&u.length?lp(u,Gt(p,2)):[]},U.split=function ib(u,p,b){return b&&"number"!=typeof b&&Xe(u,p,b)&&(p=b=P),(b=b===P?dt:b>>>0)?(u=ni(u))&&("string"==typeof p||null!=p&&!Df(p))&&!(p=Ks(p))&&Ta(u)?Hl(gs(u),0,b):u.split(p,b):[]},U.spread=function Y_(u,p){if("function"!=typeof u)throw new Cr(De);return p=null==p?0:or(Dn(p),0),vn(function(b){var S=b[p],R=Hl(b,0,p);return S&&go(R,S),zr(u,this,R)})},U.tail=function hf(u){var p=null==u?0:u.length;return p?kr(u,1,p):[]},U.take=function yp(u,p,b){return u&&u.length?kr(u,0,(p=b||p===P?1:Dn(p))<0?0:p):[]},U.takeRight=function C0(u,p,b){var S=null==u?0:u.length;return S?kr(u,(p=S-(p=b||p===P?1:Dn(p)))<0?0:p,S):[]},U.takeRightWhile=function jg(u,p){return u&&u.length?Gl(u,Gt(p,3),!1,!0):[]},U.takeWhile=function I0(u,p){return u&&u.length?Gl(u,Gt(p,3)):[]},U.tap=function oD(u,p){return p(u),u},U.throttle=function Xg(u,p,b){var S=!0,R=!0;if("function"!=typeof u)throw new Cr(De);return br(b)&&(S="leading"in b?!!b.leading:S,R="trailing"in b?!!b.trailing:R),z_(u,p,{leading:S,maxWait:p,trailing:R})},U.thru=wp,U.toArray=sm,U.toPairs=pv,U.toPairsIn=gv,U.toPath=function tc(u){return gn(u)?Ii(u,Va):eo(u)?[u]:Pn(F_(ni(u)))},U.toPlainObject=If,U.transform=function mv(u,p,b){var S=gn(u),R=S||Kc(u)||to(u);if(p=Gt(p,4),null==b){var G=u&&u.constructor;b=R?S?new G:[]:br(u)&&Xl(G)?Ac(As(u)):{}}return(R?rs:qt)(u,function(Z,re,fe){return p(b,Z,re,fe)}),b},U.unary=function K_(u){return Vu(u,1)},U.union=mh,U.unionBy=T0,U.unionWith=U_,U.uniq=function Wg(u){return u&&u.length?Qs(u):[]},U.uniqBy=function bp(u,p){return u&&u.length?Qs(u,Gt(p,2)):[]},U.uniqWith=function E0(u,p){return p="function"==typeof p?p:P,u&&u.length?Qs(u,P,p):[]},U.unset=function Q0(u,p){return null==u||Uo(u,p)},U.unzip=x0,U.unzipWith=_h,U.update=function J0(u,p,b){return null==u?u:Uc(u,p,nf(b))},U.updateWith=function hm(u,p,b,S){return S="function"==typeof S?S:P,null==u?u:Uc(u,p,nf(b),S)},U.values=gl,U.valuesIn=function fm(u){return null==u?[]:_c(u,Ga(u))},U.without=zg,U.words=bm,U.wrap=function Q_(u,p){return on(nf(p),u)},U.xor=$_,U.xorBy=tD,U.xorWith=qg,U.zip=nD,U.zipObject=function iD(u,p){return th(u||[],p||[],Pi)},U.zipObjectDeep=function rD(u,p){return th(u||[],p||[],Cu)},U.zipWith=sD,U.entries=pv,U.entriesIn=gv,U.extend=kp,U.extendWith=lm,xh(U,U),U.add=Md,U.attempt=xv,U.camelCase=_v,U.capitalize=gm,U.ceil=Sh,U.clamp=function Eh(u,p,b){return b===P&&(b=p,p=P),b!==P&&(b=(b=pl(b))==b?b:0),p!==P&&(p=(p=pl(p))==p?p:0),Zs(pl(u),p,b)},U.clone=function R0(u){return yr(u,4)},U.cloneDeep=function X_(u){return yr(u,5)},U.cloneDeepWith=function em(u,p){return yr(u,5,p="function"==typeof p?p:P)},U.cloneWith=function Dh(u,p){return yr(u,4,p="function"==typeof p?p:P)},U.conformsTo=function tm(u,p){return null==p||ir(u,p,no(p))},U.deburr=Vp,U.defaultTo=function mD(u,p){return null==u||u!=u?p:u},U.divide=yD,U.endsWith=function mm(u,p,b){u=ni(u),p=Ks(p);var S=u.length,R=b=b===P?S:Zs(Dn(b),0,S);return(b-=p.length)>=0&&u.slice(b,R)==p},U.eq=vs,U.escape=function vv(u){return(u=ni(u))&&at.test(u)?u.replace(ie,ed):u},U.escapeRegExp=function _m(u){return(u=ni(u))&&Di.test(u)?u.replace(si,"\\$&"):u},U.every=function Dp(u,p,b){var S=gn(u)?hc:q;return b&&Xe(u,p,b)&&(p=P),S(u,Gt(p,3))},U.find=gf,U.findIndex=Pg,U.findKey=function cD(u,p){return _n(u,Gt(p,3),qt)},U.findLast=ku,U.findLastIndex=kg,U.findLastKey=function W0(u,p){return _n(u,Gt(p,3),Ut)},U.floor=hE,U.forEach=Kg,U.forEachRight=mf,U.forIn=function uD(u,p){return null==u?u:Bt(u,Gt(p,3),Ga)},U.forInRight=function lv(u,p){return null==u?u:Ht(u,Gt(p,3),Ga)},U.forOwn=function cv(u,p){return u&&qt(u,Gt(p,3))},U.forOwnRight=function dD(u,p){return u&&Ut(u,Gt(p,3))},U.get=z0,U.gt=ev,U.gte=bf,U.has=function oE(u,p){return null!=u&&g(u,p,$l)},U.hasIn=dv,U.head=df,U.identity=ga,U.includes=function Cp(u,p,b,S){u=fa(u)?u:gl(u),b=b&&!S?Dn(b):0;var R=u.length;return b<0&&(b=or(R+b,0)),Cf(u)?b<=R&&u.indexOf(p,b)>-1:!!R&&ia(u,p,b)>-1},U.indexOf=function Bg(u,p,b){var S=null==u?0:u.length;if(!S)return-1;var R=null==b?0:Dn(b);return R<0&&(R=or(S+R,0)),ia(u,p,R)},U.inRange=function pm(u,p,b){return p=ec(p),b===P?(b=p,p=0):b=ec(b),function Fa(u,p,b){return u>=tr(p,b)&&u<or(p,b)}(u=pl(u),p,b)},U.invoke=aE,U.isArguments=Yc,U.isArray=gn,U.isArrayBuffer=aD,U.isArrayLike=fa,U.isArrayLikeObject=Zr,U.isBoolean=function wf(u){return!0===u||!1===u||Er(u)&&cr(u)==Qt},U.isBuffer=Kc,U.isDate=tv,U.isElement=function P0(u){return Er(u)&&1===u.nodeType&&!Rp(u)},U.isEmpty=function Ch(u){if(null==u)return!0;if(fa(u)&&(gn(u)||"string"==typeof u||"function"==typeof u.splice||Kc(u)||to(u)||Yc(u)))return!u.length;var p=Vr(u);if(p==di||p==Cn)return!u.size;if(La(u))return!ur(u).length;for(var b in u)if(Qn.call(u,b))return!1;return!0},U.isEqual=function k0(u,p){return Lc(u,p)},U.isEqualWith=function nv(u,p,b){var S=(b="function"==typeof b?b:P)?b(u,p):P;return S===P?Lc(u,p,P,b):!!S},U.isError=Ih,U.isFinite=function L0(u){return"number"==typeof u&&pu(u)},U.isFunction=Xl,U.isInteger=iv,U.isLength=Mp,U.isMap=rv,U.isMatch=function sv(u,p){return u===p||np(u,p,lf(p))},U.isMatchWith=function V0(u,p,b){return b="function"==typeof b?b:P,np(u,p,lf(p),b)},U.isNaN=function B0(u){return Fp(u)&&u!=+u},U.isNative=function U0(u){if(Xs(u))throw new Yt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return yu(u)},U.isNil=function $0(u){return null==u},U.isNull=function Op(u){return null===u},U.isNumber=Fp,U.isObject=br,U.isObjectLike=Er,U.isPlainObject=Rp,U.isRegExp=Df,U.isSafeInteger=function Th(u){return iv(u)&&u>=-Mt&&u<=Mt},U.isSet=nm,U.isString=Cf,U.isSymbol=eo,U.isTypedArray=to,U.isUndefined=function ov(u){return u===P},U.isWeakMap=function av(u){return Er(u)&&Vr(u)==wi},U.isWeakSet=function im(u){return Er(u)&&"[object WeakSet]"==cr(u)},U.join=function _0(u,p){return null==u?"":cl.call(u,p)},U.kebabCase=X0,U.last=Ho,U.lastIndexOf=function v0(u,p,b){var S=null==u?0:u.length;if(!S)return-1;var R=S;return b!==P&&(R=(R=Dn(b))<0?or(S+R,0):tr(R,S-1)),p==p?function nl(ue,Ve,Ee){for(var bt=Ee+1;bt--;)if(ue[bt]===Ve)return bt;return bt}(u,p,R):Xa(u,pc,R,!0)},U.lowerCase=pD,U.lowerFirst=eb,U.lt=Qc,U.lte=rm,U.max=function bD(u){return u&&u.length?de(u,ga,ca):P},U.maxBy=function wD(u,p){return u&&u.length?de(u,Gt(p,2),ca):P},U.mean=function Ah(u){return el(u,ga)},U.meanBy=function gb(u,p){return el(u,Gt(p,2))},U.min=function DD(u){return u&&u.length?de(u,ga,ki):P},U.minBy=function Mv(u,p){return u&&u.length?de(u,Gt(p,2),ki):P},U.stubArray=ml,U.stubFalse=Ef,U.stubObject=function Nd(){return{}},U.stubString=function Bp(){return""},U.stubTrue=function pb(){return!0},U.multiply=Up,U.nth=function vp(u,p){return u&&u.length?bu(u,Dn(p)):P},U.noConflict=function Cm(){return Un._===this&&(Un._=Cc),this},U.noop=Tf,U.now=fl,U.pad=function yv(u,p,b){u=ni(u);var S=(p=Dn(p))?Ws(u):0;if(!p||S>=p)return u;var R=(p-S)/2;return oh(vo(R),b)+u+oh(ll(R),b)},U.padEnd=function tb(u,p,b){u=ni(u);var S=(p=Dn(p))?Ws(u):0;return p&&S<p?u+oh(p-S,b):u},U.padStart=function bv(u,p,b){u=ni(u);var S=(p=Dn(p))?Ws(u):0;return p&&S<p?oh(p-S,b)+u:u},U.parseInt=function wv(u,p,b){return b||null==p?p=0:p&&(p=+p),od(ni(u).replace(ls,""),p||0)},U.random=function Lp(u,p,b){if(b&&"boolean"!=typeof b&&Xe(u,p,b)&&(p=b=P),b===P&&("boolean"==typeof p?(b=p,p=P):"boolean"==typeof u&&(b=u,u=P)),u===P&&p===P?(u=0,p=1):(u=ec(u),p===P?(p=u,u=0):p=ec(p)),u>p){var S=u;u=p,p=S}if(b||u%1||p%1){var R=xc();return tr(u+R*(p-u+Hs("1e-"+((R+"").length-1))),p)}return wu(u,p)},U.reduce=function _f(u,p,b){var S=gn(u)?xl:Sl,R=arguments.length<3;return S(u,Gt(p,4),b,R,N)},U.reduceRight=function M0(u,p,b){var S=gn(u)?Qu:Sl,R=arguments.length<3;return S(u,Gt(p,4),b,R,k)},U.repeat=function nb(u,p,b){return p=(b?Xe(u,p,b):p===P)?1:Dn(p),bo(ni(u),p)},U.replace=function pa(){var u=arguments,p=ni(u[0]);return u.length<3?p:p.replace(u[1],u[2])},U.result=function Y0(u,p,b){var S=-1,R=(p=ha(p,u)).length;for(R||(R=1,u=P);++S<R;){var G=null==u?P:u[Va(p[S])];G===P&&(S=R,G=b),u=Xl(G)?G.call(u):G}return u},U.round=mb,U.runInContext=ue,U.sample=function O0(u){return(gn(u)?Kh:Bo)(u)},U.size=function zo(u){if(null==u)return 0;if(fa(u))return Cf(u)?Ws(u):u.length;var p=Vr(u);return p==di||p==Cn?u.size:ur(u).length},U.snakeCase=Dv,U.some=function Tp(u,p,b){var S=gn(u)?mo:Ng;return b&&Xe(u,p,b)&&(p=P),S(u,Gt(p,3))},U.sortedIndex=function Kl(u,p){return Ai(u,p)},U.sortedIndexBy=function xd(u,p,b){return ka(u,p,Gt(b,2))},U.sortedIndexOf=function w0(u,p){var b=null==u?0:u.length;if(b){var S=Ai(u,p);if(S<b&&vs(u[S],p))return S}return-1},U.sortedLastIndex=function D0(u,p){return Ai(u,p,!0)},U.sortedLastIndexBy=function X1(u,p,b){return ka(u,p,Gt(b,2),!0)},U.sortedLastIndexOf=function Hg(u,p){if(null!=u&&u.length){var S=Ai(u,p,!0)-1;if(vs(u[S],p))return S}return-1},U.startCase=Cv,U.startsWith=function rb(u,p,b){return u=ni(u),b=null==b?0:Zs(Dn(b),0,u.length),p=Ks(p),u.slice(b,b+p.length)==p},U.subtract=Sm,U.sum=function Sf(u){return u&&u.length?gc(u,ga):0},U.sumBy=function Co(u,p){return u&&u.length?gc(u,Gt(p,2)):0},U.template=function vm(u,p,b){var S=U.templateSettings;b&&Xe(u,p,b)&&(p=P),u=ni(u),p=lm({},p,S,Wl);var re,fe,R=lm({},p.imports,S.imports,Wl),G=no(R),Z=_c(R,G),je=0,qe=p.interpolate||Eo,Qe="__p += '",ft=Fo((p.escape||Eo).source+"|"+qe.source+"|"+(qe===Rn?Yi:Eo).source+"|"+(p.evaluate||Eo).source+"|$","g"),Lt="//# sourceURL="+(Qn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ya+"]")+"\n";u.replace(ft,function(Jt,rn,Nn,sr,Ur,xr){return Nn||(Nn=sr),Qe+=u.slice(je,xr).replace(Gs,cu),rn&&(re=!0,Qe+="' +\n__e("+rn+") +\n'"),Ur&&(fe=!0,Qe+="';\n"+Ur+";\n__p += '"),Nn&&(Qe+="' +\n((__t = ("+Nn+")) == null ? '' : __t) +\n'"),je=xr+Jt.length,Jt}),Qe+="';\n";var Ot=Qn.call(p,"variable")&&p.variable;if(Ot){if(cs.test(Ot))throw new Yt("Invalid `variable` option passed into `_.template`")}else Qe="with (obj) {\n"+Qe+"\n}\n";Qe=(fe?Qe.replace(oe,""):Qe).replace(te,"$1").replace(Y,"$1;"),Qe="function("+(Ot||"obj")+") {\n"+(Ot?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(re?", __e = _.escape":"")+(fe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Qe+"return __p\n}";var dn=xv(function(){return $n(G,Lt+"return "+Qe).apply(P,Z)});if(dn.source=Qe,Ih(dn))throw dn;return dn},U.times=function xf(u,p){if((u=Dn(u))<1||u>Mt)return[];var b=dt,S=tr(u,dt);p=Gt(p),u-=dt;for(var R=lu(S,p);++b<u;)p(b);return R},U.toFinite=ec,U.toInteger=Dn,U.toLength=om,U.toLower=function Iv(u){return ni(u).toLowerCase()},U.toNumber=pl,U.toSafeInteger=function Pp(u){return u?Zs(Dn(u),-Mt,Mt):0===u?u:0},U.toString=ni,U.toUpper=function sb(u){return ni(u).toUpperCase()},U.trim=function ob(u,p,b){if((u=ni(u))&&(b||p===P))return Hi(u);if(!u||!(p=Ks(p)))return u;var S=gs(u),R=gs(p);return Hl(S,Mo(S,R),Zh(S,R)+1).join("")},U.trimEnd=function ab(u,p,b){if((u=ni(u))&&(b||p===P))return u.slice(0,_r(u)+1);if(!u||!(p=Ks(p)))return u;var S=gs(u);return Hl(S,0,Zh(S,gs(p))+1).join("")},U.trimStart=function Tv(u,p,b){if((u=ni(u))&&(b||p===P))return u.replace(ls,"");if(!u||!(p=Ks(p)))return u;var S=gs(u);return Hl(S,Mo(S,gs(p))).join("")},U.truncate=function lb(u,p){var b=30,S="...";if(br(p)){var R="separator"in p?p.separator:R;b="length"in p?Dn(p.length):b,S="omission"in p?Ks(p.omission):S}var G=(u=ni(u)).length;if(Ta(u)){var Z=gs(u);G=Z.length}if(b>=G)return u;var re=b-Ws(S);if(re<1)return S;var fe=Z?Hl(Z,0,re).join(""):u.slice(0,re);if(R===P)return fe+S;if(Z&&(re+=fe.length-re),Df(R)){if(u.slice(re).search(R)){var je,qe=fe;for(R.global||(R=Fo(R.source,ni(uo.exec(R))+"g")),R.lastIndex=0;je=R.exec(qe);)var Qe=je.index;fe=fe.slice(0,Qe===P?re:Qe)}}else if(u.indexOf(Ks(R),re)!=re){var ft=fe.lastIndexOf(R);ft>-1&&(fe=fe.slice(0,ft))}return fe+S},U.unescape=function Ev(u){return(u=ni(u))&&We.test(u)?u.replace(ne,Ss):u},U.uniqueId=function xm(u){var p=++Ol;return ni(u)+p},U.upperCase=cb,U.upperFirst=ym,U.each=Kg,U.eachRight=mf,U.first=df,xh(U,function(){var u={};return qt(U,function(p,b){Qn.call(U.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),U.VERSION="4.17.21",rs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){U[u].placeholder=U}),rs(["drop","take"],function(u,p){wn.prototype[u]=function(b){b=b===P?1:or(Dn(b),0);var S=this.__filtered__&&!p?new wn(this):this.clone();return S.__filtered__?S.__takeCount__=tr(b,S.__takeCount__):S.__views__.push({size:tr(b,dt),type:u+(S.__dir__<0?"Right":"")}),S},wn.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),rs(["filter","map","takeWhile"],function(u,p){var b=p+1,S=1==b||3==b;wn.prototype[u]=function(R){var G=this.clone();return G.__iteratees__.push({iteratee:Gt(R,3),type:b}),G.__filtered__=G.__filtered__||S,G}}),rs(["head","last"],function(u,p){var b="take"+(p?"Right":"");wn.prototype[u]=function(){return this[b](1).value()[0]}}),rs(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");wn.prototype[u]=function(){return this.__filtered__?new wn(this):this[b](1)}}),wn.prototype.compact=function(){return this.filter(ga)},wn.prototype.find=function(u){return this.filter(u).head()},wn.prototype.findLast=function(u){return this.reverse().find(u)},wn.prototype.invokeMap=vn(function(u,p){return"function"==typeof u?new wn(this):this.map(function(b){return hl(b,u,p)})}),wn.prototype.reject=function(u){return this.filter(bh(Gt(u)))},wn.prototype.slice=function(u,p){u=Dn(u);var b=this;return b.__filtered__&&(u>0||p<0)?new wn(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==P&&(b=(p=Dn(p))<0?b.dropRight(-p):b.take(p-u)),b)},wn.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},wn.prototype.toArray=function(){return this.take(dt)},qt(wn.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),S=/^(?:head|last)$/.test(p),R=U[S?"take"+("last"==p?"Right":""):p],G=S||/^find/.test(p);!R||(U.prototype[p]=function(){var Z=this.__wrapped__,re=S?[1]:arguments,fe=Z instanceof wn,je=re[0],qe=fe||gn(Z),Qe=function(rn){var Nn=R.apply(U,go([rn],re));return S&&ft?Nn[0]:Nn};qe&&b&&"function"==typeof je&&1!=je.length&&(fe=qe=!1);var ft=this.__chain__,Lt=!!this.__actions__.length,Ot=G&&!ft,dn=fe&&!Lt;if(!G&&qe){Z=dn?Z:new wn(this);var Jt=u.apply(Z,re);return Jt.__actions__.push({func:wp,args:[Qe],thisArg:P}),new zs(Jt,ft)}return Ot&&dn?u.apply(this,re):(Jt=this.thru(Qe),Ot?S?Jt.value()[0]:Jt.value():Jt)})}),rs(["pop","push","shift","sort","splice","unshift"],function(u){var p=il[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",S=/^(?:pop|shift)$/.test(u);U.prototype[u]=function(){var R=arguments;if(S&&!this.__chain__){var G=this.value();return p.apply(gn(G)?G:[],R)}return this[b](function(Z){return p.apply(gn(Z)?Z:[],R)})}}),qt(wn.prototype,function(u,p){var b=U[p];if(b){var S=b.name+"";Qn.call(Ir,S)||(Ir[S]=[]),Ir[S].push({name:p,func:b})}}),Ir[Su(P,2).name]=[{name:"wrapper",func:P}],wn.prototype.clone=function qd(){var u=new wn(this.__wrapped__);return u.__actions__=Pn(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Pn(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Pn(this.__views__),u},wn.prototype.reverse=function xg(){if(this.__filtered__){var u=new wn(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},wn.prototype.value=function Nc(){var u=this.__wrapped__.value(),p=this.__dir__,b=gn(u),S=p<0,R=b?u.length:0,G=function Cd(u,p,b){for(var S=-1,R=b.length;++S<R;){var G=b[S],Z=G.size;switch(G.type){case"drop":u+=Z;break;case"dropRight":p-=Z;break;case"take":p=tr(p,u+Z);break;case"takeRight":u=or(u,p-Z)}}return{start:u,end:p}}(0,R,this.__views__),Z=G.start,re=G.end,fe=re-Z,je=S?re:Z-1,qe=this.__iteratees__,Qe=qe.length,ft=0,Lt=tr(fe,this.__takeCount__);if(!b||!S&&R==fe&&Lt==fe)return eh(u,this.__actions__);var Ot=[];e:for(;fe--&&ft<Lt;){for(var dn=-1,Jt=u[je+=p];++dn<Qe;){var rn=qe[dn],sr=rn.type,Ur=(0,rn.iteratee)(Jt);if(2==sr)Jt=Ur;else if(!Ur){if(1==sr)continue e;break e}}Ot[ft++]=Jt}return Ot},U.prototype.at=Zg,U.prototype.chain=function ff(){return S0(this)},U.prototype.commit=function Ba(){return new zs(this.value(),this.__chain__)},U.prototype.next=function A0(){this.__values__===P&&(this.__values__=sm(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?P:this.__values__[this.__index__++]}},U.prototype.plant=function jo(u){for(var p,b=this;b instanceof Vl;){var S=Td(b);S.__index__=0,S.__values__=P,p?R.__wrapped__=S:p=S;var R=S;b=b.__wrapped__}return R.__wrapped__=u,p},U.prototype.reverse=function Ua(){var u=this.__wrapped__;if(u instanceof wn){var p=u;return this.__actions__.length&&(p=new wn(this)),(p=p.reverse()).__actions__.push({func:wp,args:[Gg],thisArg:P}),new zs(p,this.__chain__)}return this.thru(Gg)},U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=function Rs(){return eh(this.__wrapped__,this.__actions__)},U.prototype.first=U.prototype.head,Si&&(U.prototype[Si]=function G_(){return this}),U}();Un._=Ml,(c=function(){return Ml}.call(Ge,H,Ge,xt))!==P&&(xt.exports=c)}.call(this)},9751:(xt,Ge,H)=>{"use strict";H.d(Ge,{y:()=>Ae});var c=H(930),P=H(727),j=H(8822),ye=H(9635),ge=H(2416),De=H(576),Ce=H(2806);let Ae=(()=>{class ce{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Le=new ce;return Le.source=this,Le.operator=Ue,Le}subscribe(Ue,Le,ct){const Ne=function X(ce){return ce&&ce instanceof c.Lv||function J(ce){return ce&&(0,De.m)(ce.next)&&(0,De.m)(ce.error)&&(0,De.m)(ce.complete)}(ce)&&(0,P.Nn)(ce)}(Ue)?Ue:new c.Hp(Ue,Le,ct);return(0,Ce.x)(()=>{const{operator:Me,source:st}=this;Ne.add(Me?Me.call(Ne,st):st?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Le){Ue.error(Le)}}forEach(Ue,Le){return new(Le=Se(Le))((ct,Ne)=>{const Me=new c.Hp({next:st=>{try{Ue(st)}catch(Tt){Ne(Tt),Me.unsubscribe()}},error:Ne,complete:ct});this.subscribe(Me)})}_subscribe(Ue){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ue)}[j.L](){return this}pipe(...Ue){return(0,ye.U)(Ue)(this)}toPromise(Ue){return new(Ue=Se(Ue))((Le,ct)=>{let Ne;this.subscribe(Me=>Ne=Me,Me=>ct(Me),()=>Le(Ne))})}}return ce.create=tt=>new ce(tt),ce})();function Se(ce){var tt;return null!==(tt=ce??ge.v.Promise)&&void 0!==tt?tt:Promise}},7579:(xt,Ge,H)=>{"use strict";H.d(Ge,{x:()=>Ce});var c=H(9751),P=H(727);const ye=(0,H(3888).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=H(8737),De=H(2806);let Ce=(()=>{class Se extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const ce=new Ae(this,this);return ce.operator=X,ce}_throwIfClosed(){if(this.closed)throw new ye}next(X){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(X)}})}error(X){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:ce}=this;for(;ce.length;)ce.shift().error(X)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:ce,isStopped:tt,observers:Ue}=this;return ce||tt?P.Lc:(this.currentObservers=null,Ue.push(X),new P.w0(()=>{this.currentObservers=null,(0,ge.P)(Ue,X)}))}_checkFinalizedStatuses(X){const{hasError:ce,thrownError:tt,isStopped:Ue}=this;ce?X.error(tt):Ue&&X.complete()}asObservable(){const X=new c.y;return X.source=this,X}}return Se.create=(J,X)=>new Ae(J,X),Se})();class Ae extends Ce{constructor(J,X){super(),this.destination=J,this.source=X}next(J){var X,ce;null===(ce=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===ce||ce.call(X,J)}error(J){var X,ce;null===(ce=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===ce||ce.call(X,J)}complete(){var J,X;null===(X=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===X||X.call(J)}_subscribe(J){var X,ce;return null!==(ce=null===(X=this.source)||void 0===X?void 0:X.subscribe(J))&&void 0!==ce?ce:P.Lc}}},930:(xt,Ge,H)=>{"use strict";H.d(Ge,{Hp:()=>ct,Lv:()=>ce});var c=H(576),P=H(727),j=H(2416),ye=H(7849),ge=H(5032);const De=Se("C",void 0,void 0);function Se(He,Re,ke){return{kind:He,value:Re,error:ke}}var J=H(3410),X=H(2806);class ce extends P.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,P.Nn)(Re)&&Re.add(this)):this.destination=Tt}static create(Re,ke,rt){return new ct(Re,ke,rt)}next(Re){this.isStopped?st(function Ae(He){return Se("N",He,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?st(function Ce(He){return Se("E",void 0,He)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?st(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Ue(He,Re){return tt.call(He,Re)}class Le{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Re)}catch(rt){Ne(rt)}}error(Re){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Re)}catch(rt){Ne(rt)}else Ne(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(ke){Ne(ke)}}}class ct extends ce{constructor(Re,ke,rt){let ut;if(super(),(0,c.m)(Re)||!Re)ut={next:Re??void 0,error:ke??void 0,complete:rt??void 0};else{let Q;this&&j.v.useDeprecatedNextContext?(Q=Object.create(Re),Q.unsubscribe=()=>this.unsubscribe(),ut={next:Re.next&&Ue(Re.next,Q),error:Re.error&&Ue(Re.error,Q),complete:Re.complete&&Ue(Re.complete,Q)}):ut=Re}this.destination=new Le(ut)}}function Ne(He){j.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(He):(0,ye.h)(He)}function st(He,Re){const{onStoppedNotification:ke}=j.v;ke&&J.z.setTimeout(()=>ke(He,Re))}const Tt={closed:!0,next:ge.Z,error:function Me(He){throw He},complete:ge.Z}},727:(xt,Ge,H)=>{"use strict";H.d(Ge,{Lc:()=>De,w0:()=>ge,Nn:()=>Ce});var c=H(576);const j=(0,H(3888).d)(Se=>function(X){Se(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((ce,tt)=>`${tt+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var ye=H(8737);class ge{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Ue of X)Ue.remove(this);else X.remove(this);const{initialTeardown:ce}=this;if((0,c.m)(ce))try{ce()}catch(Ue){J=Ue instanceof j?Ue.errors:[Ue]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Ue of tt)try{Ae(Ue)}catch(Le){J=J??[],Le instanceof j?J=[...J,...Le.errors]:J.push(Le)}}if(J)throw new j(J)}}add(J){var X;if(J&&J!==this)if(this.closed)Ae(J);else{if(J instanceof ge){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(J)}}_hasParent(J){const{_parentage:X}=this;return X===J||Array.isArray(X)&&X.includes(J)}_addParent(J){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(J),X):X?[X,J]:J}_removeParent(J){const{_parentage:X}=this;X===J?this._parentage=null:Array.isArray(X)&&(0,ye.P)(X,J)}remove(J){const{_finalizers:X}=this;X&&(0,ye.P)(X,J),J instanceof ge&&J._removeParent(this)}}ge.EMPTY=(()=>{const Se=new ge;return Se.closed=!0,Se})();const De=ge.EMPTY;function Ce(Se){return Se instanceof ge||Se&&"closed"in Se&&(0,c.m)(Se.remove)&&(0,c.m)(Se.add)&&(0,c.m)(Se.unsubscribe)}function Ae(Se){(0,c.m)(Se)?Se():Se.unsubscribe()}},2416:(xt,Ge,H)=>{"use strict";H.d(Ge,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xt,Ge,H)=>{"use strict";H.d(Ge,{E:()=>P});const P=new(H(9751).y)(ge=>ge.complete())},8996:(xt,Ge,H)=>{"use strict";H.d(Ge,{D:()=>Re});var c=H(8421),P=H(5363),j=H(9468),De=H(9751),Ae=H(2202),Se=H(576),J=H(9672);function ce(ke,rt){if(!ke)throw new Error("Iterable cannot be null");return new De.y(ut=>{(0,J.f)(ut,rt,()=>{const Q=ke[Symbol.asyncIterator]();(0,J.f)(ut,rt,()=>{Q.next().then(Oe=>{Oe.done?ut.complete():ut.next(Oe.value)})},0,!0)})})}var tt=H(3670),Ue=H(8239),Le=H(1144),ct=H(6495),Ne=H(2206),Me=H(4532),st=H(3260);function Re(ke,rt){return rt?function He(ke,rt){if(null!=ke){if((0,tt.c)(ke))return function ye(ke,rt){return(0,c.Xf)(ke).pipe((0,j.R)(rt),(0,P.Q)(rt))}(ke,rt);if((0,Le.z)(ke))return function Ce(ke,rt){return new De.y(ut=>{let Q=0;return rt.schedule(function(){Q===ke.length?ut.complete():(ut.next(ke[Q++]),ut.closed||this.schedule())})})}(ke,rt);if((0,Ue.t)(ke))return function ge(ke,rt){return(0,c.Xf)(ke).pipe((0,j.R)(rt),(0,P.Q)(rt))}(ke,rt);if((0,Ne.D)(ke))return ce(ke,rt);if((0,ct.T)(ke))return function X(ke,rt){return new De.y(ut=>{let Q;return(0,J.f)(ut,rt,()=>{Q=ke[Ae.h](),(0,J.f)(ut,rt,()=>{let Oe,ae;try{({value:Oe,done:ae}=Q.next())}catch(pe){return void ut.error(pe)}ae?ut.complete():ut.next(Oe)},0,!0)}),()=>(0,Se.m)(Q?.return)&&Q.return()})}(ke,rt);if((0,st.L)(ke))return function Tt(ke,rt){return ce((0,st.Q)(ke),rt)}(ke,rt)}throw(0,Me.z)(ke)}(ke,rt):(0,c.Xf)(ke)}},8421:(xt,Ge,H)=>{"use strict";H.d(Ge,{Xf:()=>tt});var c=H(655),P=H(1144),j=H(8239),ye=H(9751),ge=H(3670),De=H(2206),Ce=H(4532),Ae=H(6495),Se=H(3260),J=H(576),X=H(7849),ce=H(8822);function tt(He){if(He instanceof ye.y)return He;if(null!=He){if((0,ge.c)(He))return function Ue(He){return new ye.y(Re=>{const ke=He[ce.L]();if((0,J.m)(ke.subscribe))return ke.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,P.z)(He))return function Le(He){return new ye.y(Re=>{for(let ke=0;ke<He.length&&!Re.closed;ke++)Re.next(He[ke]);Re.complete()})}(He);if((0,j.t)(He))return function ct(He){return new ye.y(Re=>{He.then(ke=>{Re.closed||(Re.next(ke),Re.complete())},ke=>Re.error(ke)).then(null,X.h)})}(He);if((0,De.D)(He))return Me(He);if((0,Ae.T)(He))return function Ne(He){return new ye.y(Re=>{for(const ke of He)if(Re.next(ke),Re.closed)return;Re.complete()})}(He);if((0,Se.L)(He))return function st(He){return Me((0,Se.Q)(He))}(He)}throw(0,Ce.z)(He)}function Me(He){return new ye.y(Re=>{(function Tt(He,Re){var ke,rt,ut,Q;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ke=(0,c.KL)(He);!(rt=yield ke.next()).done;)if(Re.next(rt.value),Re.closed)return}catch(Oe){ut={error:Oe}}finally{try{rt&&!rt.done&&(Q=ke.return)&&(yield Q.call(ke))}finally{if(ut)throw ut.error}}Re.complete()})})(He,Re).catch(ke=>Re.error(ke))})}},6451:(xt,Ge,H)=>{"use strict";H.d(Ge,{T:()=>De});var c=H(8189),P=H(8421),j=H(515),ye=H(3269),ge=H(8996);function De(...Ce){const Ae=(0,ye.yG)(Ce),Se=(0,ye._6)(Ce,1/0),J=Ce;return J.length?1===J.length?(0,P.Xf)(J[0]):(0,c.J)(Se)((0,ge.D)(J,Ae)):j.E}},5403:(xt,Ge,H)=>{"use strict";H.d(Ge,{x:()=>P});var c=H(930);function P(ye,ge,De,Ce,Ae){return new j(ye,ge,De,Ce,Ae)}class j extends c.Lv{constructor(ge,De,Ce,Ae,Se,J){super(ge),this.onFinalize=Se,this.shouldUnsubscribe=J,this._next=De?function(X){try{De(X)}catch(ce){ge.error(ce)}}:super._next,this._error=Ae?function(X){try{Ae(X)}catch(ce){ge.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(X){ge.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(xt,Ge,H)=>{"use strict";H.d(Ge,{U:()=>j});var c=H(4482),P=H(5403);function j(ye,ge){return(0,c.e)((De,Ce)=>{let Ae=0;De.subscribe((0,P.x)(Ce,Se=>{Ce.next(ye.call(ge,Se,Ae++))}))})}},8189:(xt,Ge,H)=>{"use strict";H.d(Ge,{J:()=>j});var c=H(5577),P=H(4671);function j(ye=1/0){return(0,c.z)(P.y,ye)}},5577:(xt,Ge,H)=>{"use strict";H.d(Ge,{z:()=>Ae});var c=H(4004),P=H(8421),j=H(4482),ye=H(9672),ge=H(5403),Ce=H(576);function Ae(Se,J,X=1/0){return(0,Ce.m)(J)?Ae((ce,tt)=>(0,c.U)((Ue,Le)=>J(ce,Ue,tt,Le))((0,P.Xf)(Se(ce,tt))),X):("number"==typeof J&&(X=J),(0,j.e)((ce,tt)=>function De(Se,J,X,ce,tt,Ue,Le,ct){const Ne=[];let Me=0,st=0,Tt=!1;const He=()=>{Tt&&!Ne.length&&!Me&&J.complete()},Re=rt=>Me<ce?ke(rt):Ne.push(rt),ke=rt=>{Ue&&J.next(rt),Me++;let ut=!1;(0,P.Xf)(X(rt,st++)).subscribe((0,ge.x)(J,Q=>{tt?.(Q),Ue?Re(Q):J.next(Q)},()=>{ut=!0},void 0,()=>{if(ut)try{for(Me--;Ne.length&&Me<ce;){const Q=Ne.shift();Le?(0,ye.f)(J,Le,()=>ke(Q)):ke(Q)}He()}catch(Q){J.error(Q)}}))};return Se.subscribe((0,ge.x)(J,Re,()=>{Tt=!0,He()})),()=>{ct?.()}}(ce,tt,Se,X)))}},5363:(xt,Ge,H)=>{"use strict";H.d(Ge,{Q:()=>ye});var c=H(9672),P=H(4482),j=H(5403);function ye(ge,De=0){return(0,P.e)((Ce,Ae)=>{Ce.subscribe((0,j.x)(Ae,Se=>(0,c.f)(Ae,ge,()=>Ae.next(Se),De),()=>(0,c.f)(Ae,ge,()=>Ae.complete(),De),Se=>(0,c.f)(Ae,ge,()=>Ae.error(Se),De)))})}},3099:(xt,Ge,H)=>{"use strict";H.d(Ge,{B:()=>ge});var c=H(8421),P=H(7579),j=H(930),ye=H(4482);function ge(Ce={}){const{connector:Ae=(()=>new P.x),resetOnError:Se=!0,resetOnComplete:J=!0,resetOnRefCountZero:X=!0}=Ce;return ce=>{let tt,Ue,Le,ct=0,Ne=!1,Me=!1;const st=()=>{Ue?.unsubscribe(),Ue=void 0},Tt=()=>{st(),tt=Le=void 0,Ne=Me=!1},He=()=>{const Re=tt;Tt(),Re?.unsubscribe()};return(0,ye.e)((Re,ke)=>{ct++,!Me&&!Ne&&st();const rt=Le=Le??Ae();ke.add(()=>{ct--,0===ct&&!Me&&!Ne&&(Ue=De(He,X))}),rt.subscribe(ke),!tt&&ct>0&&(tt=new j.Hp({next:ut=>rt.next(ut),error:ut=>{Me=!0,st(),Ue=De(Tt,Se,ut),rt.error(ut)},complete:()=>{Ne=!0,st(),Ue=De(Tt,J),rt.complete()}}),(0,c.Xf)(Re).subscribe(tt))})(ce)}}function De(Ce,Ae,...Se){if(!0===Ae)return void Ce();if(!1===Ae)return;const J=new j.Hp({next:()=>{J.unsubscribe(),Ce()}});return Ae(...Se).subscribe(J)}},9468:(xt,Ge,H)=>{"use strict";H.d(Ge,{R:()=>P});var c=H(4482);function P(j,ye=0){return(0,c.e)((ge,De)=>{De.add(j.schedule(()=>ge.subscribe(De),ye))})}},8505:(xt,Ge,H)=>{"use strict";H.d(Ge,{b:()=>ge});var c=H(576),P=H(4482),j=H(5403),ye=H(4671);function ge(De,Ce,Ae){const Se=(0,c.m)(De)||Ce||Ae?{next:De,error:Ce,complete:Ae}:De;return Se?(0,P.e)((J,X)=>{var ce;null===(ce=Se.subscribe)||void 0===ce||ce.call(Se);let tt=!0;J.subscribe((0,j.x)(X,Ue=>{var Le;null===(Le=Se.next)||void 0===Le||Le.call(Se,Ue),X.next(Ue)},()=>{var Ue;tt=!1,null===(Ue=Se.complete)||void 0===Ue||Ue.call(Se),X.complete()},Ue=>{var Le;tt=!1,null===(Le=Se.error)||void 0===Le||Le.call(Se,Ue),X.error(Ue)},()=>{var Ue,Le;tt&&(null===(Ue=Se.unsubscribe)||void 0===Ue||Ue.call(Se)),null===(Le=Se.finalize)||void 0===Le||Le.call(Se)}))}):ye.y}},4408:(xt,Ge,H)=>{"use strict";H.d(Ge,{o:()=>ge});var c=H(727);class P extends c.w0{constructor(Ce,Ae){super()}schedule(Ce,Ae=0){return this}}const j={setInterval(De,Ce,...Ae){const{delegate:Se}=j;return Se?.setInterval?Se.setInterval(De,Ce,...Ae):setInterval(De,Ce,...Ae)},clearInterval(De){const{delegate:Ce}=j;return(Ce?.clearInterval||clearInterval)(De)},delegate:void 0};var ye=H(8737);class ge extends P{constructor(Ce,Ae){super(Ce,Ae),this.scheduler=Ce,this.work=Ae,this.pending=!1}schedule(Ce,Ae=0){if(this.closed)return this;this.state=Ce;const Se=this.id,J=this.scheduler;return null!=Se&&(this.id=this.recycleAsyncId(J,Se,Ae)),this.pending=!0,this.delay=Ae,this.id=this.id||this.requestAsyncId(J,this.id,Ae),this}requestAsyncId(Ce,Ae,Se=0){return j.setInterval(Ce.flush.bind(Ce,this),Se)}recycleAsyncId(Ce,Ae,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return Ae;j.clearInterval(Ae)}execute(Ce,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(Ce,Ae);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,Ae){let J,Se=!1;try{this.work(Ce)}catch(X){Se=!0,J=X||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:Ae}=this,{actions:Se}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(Se,this),null!=Ce&&(this.id=this.recycleAsyncId(Ae,Ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Ge,H)=>{"use strict";H.d(Ge,{v:()=>j});var c=H(6063);class P{constructor(ge,De=P.now){this.schedulerActionCtor=ge,this.now=De}schedule(ge,De=0,Ce){return new this.schedulerActionCtor(this,ge).schedule(Ce,De)}}P.now=c.l.now;class j extends P{constructor(ge,De=P.now){super(ge,De),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:De}=this;if(this._active)return void De.push(ge);let Ce;this._active=!0;do{if(Ce=ge.execute(ge.state,ge.delay))break}while(ge=De.shift());if(this._active=!1,Ce){for(;ge=De.shift();)ge.unsubscribe();throw Ce}}}},4986:(xt,Ge,H)=>{"use strict";H.d(Ge,{P:()=>ye,z:()=>j});var c=H(4408);const j=new(H(7565).v)(c.o),ye=j},6063:(xt,Ge,H)=>{"use strict";H.d(Ge,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(xt,Ge,H)=>{"use strict";H.d(Ge,{z:()=>c});const c={setTimeout(P,j,...ye){const{delegate:ge}=c;return ge?.setTimeout?ge.setTimeout(P,j,...ye):setTimeout(P,j,...ye)},clearTimeout(P){const{delegate:j}=c;return(j?.clearTimeout||clearTimeout)(P)},delegate:void 0}},2202:(xt,Ge,H)=>{"use strict";H.d(Ge,{h:()=>P});const P=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Ge,H)=>{"use strict";H.d(Ge,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xt,Ge,H)=>{"use strict";H.d(Ge,{_6:()=>De,jO:()=>ye,yG:()=>ge});var c=H(576),P=H(3532);function j(Ce){return Ce[Ce.length-1]}function ye(Ce){return(0,c.m)(j(Ce))?Ce.pop():void 0}function ge(Ce){return(0,P.K)(j(Ce))?Ce.pop():void 0}function De(Ce,Ae){return"number"==typeof j(Ce)?Ce.pop():Ae}},8737:(xt,Ge,H)=>{"use strict";function c(P,j){if(P){const ye=P.indexOf(j);0<=ye&&P.splice(ye,1)}}H.d(Ge,{P:()=>c})},3888:(xt,Ge,H)=>{"use strict";function c(P){const ye=P(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}H.d(Ge,{d:()=>c})},2806:(xt,Ge,H)=>{"use strict";H.d(Ge,{O:()=>ye,x:()=>j});var c=H(2416);let P=null;function j(ge){if(c.v.useDeprecatedSynchronousErrorHandling){const De=!P;if(De&&(P={errorThrown:!1,error:null}),ge(),De){const{errorThrown:Ce,error:Ae}=P;if(P=null,Ce)throw Ae}}else ge()}function ye(ge){c.v.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=ge)}},9672:(xt,Ge,H)=>{"use strict";function c(P,j,ye,ge=0,De=!1){const Ce=j.schedule(function(){ye(),De?P.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(P.add(Ce),!De)return Ce}H.d(Ge,{f:()=>c})},4671:(xt,Ge,H)=>{"use strict";function c(P){return P}H.d(Ge,{y:()=>c})},1144:(xt,Ge,H)=>{"use strict";H.d(Ge,{z:()=>c});const c=P=>P&&"number"==typeof P.length&&"function"!=typeof P},2206:(xt,Ge,H)=>{"use strict";H.d(Ge,{D:()=>P});var c=H(576);function P(j){return Symbol.asyncIterator&&(0,c.m)(j?.[Symbol.asyncIterator])}},576:(xt,Ge,H)=>{"use strict";function c(P){return"function"==typeof P}H.d(Ge,{m:()=>c})},3670:(xt,Ge,H)=>{"use strict";H.d(Ge,{c:()=>j});var c=H(8822),P=H(576);function j(ye){return(0,P.m)(ye[c.L])}},6495:(xt,Ge,H)=>{"use strict";H.d(Ge,{T:()=>j});var c=H(2202),P=H(576);function j(ye){return(0,P.m)(ye?.[c.h])}},8239:(xt,Ge,H)=>{"use strict";H.d(Ge,{t:()=>P});var c=H(576);function P(j){return(0,c.m)(j?.then)}},3260:(xt,Ge,H)=>{"use strict";H.d(Ge,{L:()=>ye,Q:()=>j});var c=H(655),P=H(576);function j(ge){return(0,c.FC)(this,arguments,function*(){const Ce=ge.getReader();try{for(;;){const{value:Ae,done:Se}=yield(0,c.qq)(Ce.read());if(Se)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ae)}}finally{Ce.releaseLock()}})}function ye(ge){return(0,P.m)(ge?.getReader)}},3532:(xt,Ge,H)=>{"use strict";H.d(Ge,{K:()=>P});var c=H(576);function P(j){return j&&(0,c.m)(j.schedule)}},4482:(xt,Ge,H)=>{"use strict";H.d(Ge,{A:()=>P,e:()=>j});var c=H(576);function P(ye){return(0,c.m)(ye?.lift)}function j(ye){return ge=>{if(P(ge))return ge.lift(function(De){try{return ye(De,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xt,Ge,H)=>{"use strict";function c(){}H.d(Ge,{Z:()=>c})},9635:(xt,Ge,H)=>{"use strict";H.d(Ge,{U:()=>j,z:()=>P});var c=H(4671);function P(...ye){return j(ye)}function j(ye){return 0===ye.length?c.y:1===ye.length?ye[0]:function(De){return ye.reduce((Ce,Ae)=>Ae(Ce),De)}}},7849:(xt,Ge,H)=>{"use strict";H.d(Ge,{h:()=>j});var c=H(2416),P=H(3410);function j(ye){P.z.setTimeout(()=>{const{onUnhandledError:ge}=c.v;if(!ge)throw ye;ge(ye)})}},4532:(xt,Ge,H)=>{"use strict";function c(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Ge,{z:()=>c})},655:(xt,Ge,H)=>{"use strict";function ye(ae,pe){var ve={};for(var _e in ae)Object.prototype.hasOwnProperty.call(ae,_e)&&pe.indexOf(_e)<0&&(ve[_e]=ae[_e]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(_e=Object.getOwnPropertySymbols(ae);it<_e.length;it++)pe.indexOf(_e[it])<0&&Object.prototype.propertyIsEnumerable.call(ae,_e[it])&&(ve[_e[it]]=ae[_e[it]])}return ve}function Ae(ae,pe,ve,_e){return new(ve||(ve=Promise))(function(Je,Mt){function Tn(Wn){try{dt(_e.next(Wn))}catch(ui){Mt(ui)}}function ln(Wn){try{dt(_e.throw(Wn))}catch(ui){Mt(ui)}}function dt(Wn){Wn.done?Je(Wn.value):function it(Je){return Je instanceof ve?Je:new ve(function(Mt){Mt(Je)})}(Wn.value).then(Tn,ln)}dt((_e=_e.apply(ae,pe||[])).next())})}function Ne(ae){return this instanceof Ne?(this.v=ae,this):new Ne(ae)}function Me(ae,pe,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,_e=ve.apply(ae,pe||[]),Je=[];return it={},Mt("next"),Mt("throw"),Mt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Mt(Ln){_e[Ln]&&(it[Ln]=function(pn){return new Promise(function(pr,cn){Je.push([Ln,pn,pr,cn])>1||Tn(Ln,pn)})})}function Tn(Ln,pn){try{!function ln(Ln){Ln.value instanceof Ne?Promise.resolve(Ln.value.v).then(dt,Wn):ui(Je[0][2],Ln)}(_e[Ln](pn))}catch(pr){ui(Je[0][3],pr)}}function dt(Ln){Tn("next",Ln)}function Wn(Ln){Tn("throw",Ln)}function ui(Ln,pn){Ln(pn),Je.shift(),Je.length&&Tn(Je[0][0],Je[0][1])}}function Tt(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,pe=ae[Symbol.asyncIterator];return pe?pe.call(ae):(ae=function ce(ae){var pe="function"==typeof Symbol&&Symbol.iterator,ve=pe&&ae[pe],_e=0;if(ve)return ve.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&_e>=ae.length&&(ae=void 0),{value:ae&&ae[_e++],done:!ae}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ve={},_e("next"),_e("throw"),_e("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function _e(Je){ve[Je]=ae[Je]&&function(Mt){return new Promise(function(Tn,ln){!function it(Je,Mt,Tn,ln){Promise.resolve(ln).then(function(dt){Je({value:dt,done:Tn})},Mt)}(Tn,ln,(Mt=ae[Je](Mt)).done,Mt.value)})}}}H.d(Ge,{FC:()=>Me,KL:()=>Tt,_T:()=>ye,mG:()=>Ae,qq:()=>Ne})},4650:(xt,Ge,H)=>{"use strict";H.d(Ge,{$8M:()=>dl,$Z:()=>nm,AFp:()=>nI,ALo:()=>xC,AaK:()=>Ae,AsE:()=>hr,BQk:()=>Ib,CHM:()=>Xa,CRH:()=>$m,CZH:()=>ry,CqO:()=>CE,D6c:()=>VS,EJc:()=>Cw,EiD:()=>Eu,EpF:()=>wE,F$t:()=>SE,F4k:()=>DE,FYo:()=>Xe,FiY:()=>nt,G48:()=>vy,Gf:()=>LC,GfV:()=>Br,GkF:()=>TD,Gpc:()=>X,Hsn:()=>AE,Ikx:()=>ZD,JOm:()=>Ql,JVY:()=>Xh,KtG:()=>ia,L6k:()=>ef,LAX:()=>kr,LFG:()=>ir,LMc:()=>mF,LSH:()=>ss,Lbi:()=>iI,Lck:()=>Px,MAs:()=>yE,MGl:()=>xb,MMx:()=>ew,NdJ:()=>Eb,O4$:()=>id,OlP:()=>fi,Oqu:()=>GD,PXZ:()=>bS,Q6J:()=>CD,QGY:()=>Tb,QP$:()=>ls,Qsj:()=>St,QtT:()=>Mx,R0b:()=>_l,RDi:()=>ur,Rgc:()=>Kp,SBq:()=>B,SDv:()=>Nx,Sil:()=>eF,Suo:()=>VC,TTD:()=>ta,TgZ:()=>bb,Tol:()=>UE,Udp:()=>VD,VKq:()=>rw,W1O:()=>Xv,WD2:()=>Ao,WLB:()=>km,X6Q:()=>_y,XFs:()=>mt,Xpm:()=>ne,Xts:()=>jc,Y36:()=>Th,YKP:()=>yC,YNc:()=>vE,Yjl:()=>mn,Yz7:()=>pn,Z0I:()=>Ar,ZZ4:()=>Ey,_Bn:()=>vC,_UZ:()=>Db,_Vd:()=>v,_c5:()=>kS,_uU:()=>Ob,aQg:()=>kw,c2e:()=>Dw,cJS:()=>cn,cg1:()=>Bv,dDg:()=>mS,dqk:()=>Vn,eBb:()=>Ag,eFA:()=>dI,ekj:()=>BD,eoX:()=>cI,f3M:()=>x,g9A:()=>bw,h0i:()=>qp,hGG:()=>LS,hYB:()=>xD,hij:()=>Ha,iGM:()=>kC,ifc:()=>Nt,ip1:()=>ig,jDz:()=>bC,kEZ:()=>sw,kL8:()=>KD,kcU:()=>Wd,lG2:()=>Zi,lcZ:()=>SC,lqb:()=>ql,lri:()=>sg,mCW:()=>Qs,n5z:()=>yo,oAB:()=>Pt,oJD:()=>wo,oxw:()=>ED,pB0:()=>Ng,pQV:()=>gC,q3G:()=>Pn,q4F:()=>Xs,qLn:()=>Td,qOj:()=>Up,qZA:()=>wb,qzn:()=>Du,rWj:()=>lI,s9C:()=>os,sBO:()=>ES,sIi:()=>re,s_b:()=>Vm,soG:()=>ly,tb:()=>rI,tp0:()=>Ht,uIk:()=>Nn,vHH:()=>Le,vpe:()=>nc,wAp:()=>Xt,xp6:()=>Np,ynx:()=>Cb,z2F:()=>py,z3N:()=>Bo,zSh:()=>Wl,zs3:()=>vs});var c=H(7579),P=H(727),j=H(9751),ye=H(6451),ge=H(3099);function De(s){for(let o in s)if(s[o]===De)return o;throw Error("Could not find renamed property on target object.")}function Ce(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Ae(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ae).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Se(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const J=De({__forward_ref__:De});function X(s){return s.__forward_ref__=X,s.toString=function(){return Ae(this())},s}function ce(s){return tt(s)?s():s}function tt(s){return"function"==typeof s&&s.hasOwnProperty(J)&&s.__forward_ref__===X}class Le extends Error{constructor(o,l){super(function ct(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Ne(s){return"string"==typeof s?s:null==s?"":String(s)}function Re(s,o){throw new Le(-201,!1)}function dt(s,o,l,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${l} ${h} ${o} <=Actual]`))}function pn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function cn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Qt(s){return En(s,di)||En(s,Nr)}function Ar(s){return null!==Qt(s)}function En(s,o){return s.hasOwnProperty(o)?s[o]:null}function es(s){return s&&(s.hasOwnProperty(Mi)||s.hasOwnProperty(_i))?s[Mi]:null}const di=De({\u0275prov:De}),Mi=De({\u0275inj:De}),Nr=De({ngInjectableDef:De}),_i=De({ngInjectorDef:De});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let Gr;function Cn(s){const o=Gr;return Gr=s,o}function Xn(s,o,l){const h=Qt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&mt.Optional?null:void 0!==o?o:void Re(Ae(s))}function Li(s){return{toString:s}.toString()}var wi=(()=>((wi=wi||{})[wi.OnPush=0]="OnPush",wi[wi.Default=1]="Default",wi))(),Nt=(()=>{return(s=Nt||(Nt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Nt;var s})();const Vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qi={},jt=[],Ds=De({\u0275cmp:De}),xn=De({\u0275dir:De}),ts=De({\u0275pipe:De}),In=De({\u0275mod:De}),oe=De({\u0275fac:De}),te=De({__NG_ELEMENT_ID__:De});let Y=0;function ne(s){return Li(()=>{const l=!0===s.standalone,h={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===wi.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Nt.Emulated,id:"c"+Y++,styles:s.styles||jt,_:null,setInput:null,schemas:s.schemas||null,tView:null},_=s.dependencies,D=s.features;return f.inputs=Rn(s.inputs,h),f.outputs=Rn(s.outputs),D&&D.forEach(T=>T(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(We).filter(at):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(Di).filter(at):null,f})}function We(s){return sn(s)||si(s)}function at(s){return null!==s}function Pt(s){return Li(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Rn(s,o){if(null==s)return qi;const l={};for(const h in s)if(s.hasOwnProperty(h)){let f=s[h],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),l[f]=h,o&&(o[f]=_)}return l}const Zi=ne;function mn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function sn(s){return s[Ds]||null}function si(s){return s[xn]||null}function Di(s){return s[ts]||null}function ls(s){const o=sn(s)||si(s)||Di(s);return null!==o&&o.standalone}function jr(s,o){const l=s[In]||null;if(!l&&!0===o)throw new Error(`Type ${Ae(s)} does not have '\u0275mod' property.`);return l}function $i(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ji(s){return Array.isArray(s)&&!0===s[1]}function ho(s){return 0!=(8&s.flags)}function fs(s){return 2==(2&s.flags)}function Cl(s){return 1==(1&s.flags)}function gr(s){return null!==s.template}function Za(s){return 0!=(256&s[2])}function So(s,o){return s.hasOwnProperty(oe)?s[oe]:null}class Ao{constructor(o,l,h){this.previousValue=o,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function ta(){return Ya}function Ya(s){return s.type.prototype.ngOnChanges&&(s.setInput=Yn),Zn}function Zn(){const s=qh(this),o=s?.current;if(o){const l=s.previous;if(l===qi)s.previous=o;else for(let h in o)l[h]=o[h];s.current=null,this.ngOnChanges(o)}}function Yn(s,o,l,h){const f=qh(s)||function mr(s,o){return s[Ku]=o}(s,{previous:qi,current:null}),_=f.current||(f.current={}),D=f.previous,T=this.declaredInputs[l],E=D[T];_[T]=new Ao(E&&E.currentValue,o,D===qi),s[h]=o}ta.ngInherit=!0;const Ku="__ngSimpleChanges__";function qh(s){return s[Ku]||null}function Gi(s){for(;Array.isArray(s);)s=s[0];return s}function xs(s,o){return Gi(o[s])}function is(s,o){return Gi(o[s.index])}function Qa(s,o){return s.data[o]}function No(s,o){return s[o]}function An(s,o){const l=o[s];return $i(l)?l:l[0]}function Ja(s){return 64==(64&s[2])}function po(s,o){return null==o?null:s[o]}function hc(s){s[18]=0}function Kn(s,o){s[5]+=o;let l=s,h=s[3];for(;null!==h&&(1===o&&1===l[5]||-1===o&&0===l[5]);)h[5]+=o,l=h,h=h[3]}const Zt={lFrame:Nl(null),bindingsEnabled:!0};function mo(){return Zt.bindingsEnabled}function Ze(){return Zt.lFrame.lView}function _n(){return Zt.lFrame.tView}function Xa(s){return Zt.lFrame.contextLView=s,s[8]}function ia(s){return Zt.lFrame.contextLView=null,s}function Xi(){let s=pc();for(;null!==s&&64===s.type;)s=s.parent;return s}function pc(){return Zt.lFrame.currentTNode}function el(){const s=Zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function ps(s,o){const l=Zt.lFrame;l.currentTNode=s,l.isParent=o}function tl(){return Zt.lFrame.isParent}function Sl(){Zt.lFrame.isParent=!1}function Hi(){const s=Zt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ji(){return Zt.lFrame.bindingIndex}function _o(){return Zt.lFrame.bindingIndex++}function Mo(s){const o=Zt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function vc(s){Zt.lFrame.inI18n=s}function Xf(s,o){const l=Zt.lFrame;l.bindingIndex=l.bindingRootIndex=s,cu(o)}function cu(s){Zt.lFrame.currentDirectiveIndex=s}function Ta(){return Zt.lFrame.currentQueryIndex}function bc(s){Zt.lFrame.currentQueryIndex=s}function td(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Al(s,o,l){if(l&mt.SkipSelf){let f=o,_=s;for(;!(f=f.parent,null!==f||l&mt.Host||(f=td(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;o=f,s=_}const h=Zt.lFrame=Oo();return h.currentTNode=o,h.lView=s,!0}function wc(s){const o=Oo(),l=s[1];Zt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Oo(){const s=Zt.lFrame,o=null===s?null:s.child;return null===o?Nl(s):o}function Nl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function nd(){const s=Zt.lFrame;return Zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const jd=nd;function nl(){const s=nd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function _r(){return Zt.lFrame.selectedIndex}function Ss(s){Zt.lFrame.selectedIndex=s}function Ti(){const s=Zt.lFrame;return Qa(s.tView,s.selectedIndex)}function id(){Zt.lFrame.currentNamespace="svg"}function Wd(){!function Ml(){Zt.lFrame.currentNamespace=null}()}function Ee(s,o){for(let l=o.directiveStart,h=o.directiveEnd;l<h;l++){const _=s.data[l].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:T,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:L}=_;D&&(s.contentHooks||(s.contentHooks=[])).push(-l,D),T&&((s.contentHooks||(s.contentHooks=[])).push(l,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,T)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=L&&(s.destroyHooks||(s.destroyHooks=[])).push(l,L)}}function bt(s,o,l){Ei(s,o,3,l)}function Yt(s,o,l,h){(3&s[2])===l&&Ei(s,o,l,h)}function $n(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Ei(s,o,l,h){const _=h??-1,D=o.length-1;let T=0;for(let E=void 0!==h?65535&s[18]:0;E<D;E++)if("number"==typeof o[E+1]){if(T=o[E],null!=h&&T>=h)break}else o[E]<0&&(s[18]+=65536),(T<_||-1==_)&&(ei(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function ei(s,o,l,h){const f=l[h]<0,_=l[h+1],T=s[f?-l[h]:l[h]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{_.call(T)}finally{}}}else try{_.call(T)}finally{}}class Ea{constructor(o,l,h){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function sl(s,o,l){let h=0;for(;h<l.length;){const f=l[h];if("number"==typeof f){if(0!==f)break;h++;const _=l[h++],D=l[h++],T=l[h++];s.setAttribute(o,D,T,_)}else{const _=f,D=l[++h];uu(_)?s.setProperty(o,_,D):s.setAttribute(o,_,D),h++}}return h}function Ro(s){return 3===s||4===s||6===s}function uu(s){return 64===s.charCodeAt(0)}function Cc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let h=0;h<o.length;h++){const f=o[h];"number"==typeof f?l=f:0===l||zd(s,l,f,null,-1===l||2===l?o[++h]:null)}}return s}function zd(s,o,l,h,f){let _=0,D=s.length;if(-1===o)D=-1;else for(;_<s.length;){const T=s[_++];if("number"==typeof T){if(T===o){D=-1;break}if(T>o){D=_-1;break}}}for(;_<s.length;){const T=s[_];if("number"==typeof T)break;if(T===l){if(null===h)return void(null!==f&&(s[_+1]=f));if(h===s[_+1])return void(s[_+2]=f)}_++,null!==h&&_++,null!==f&&_++}-1!==D&&(s.splice(D,0,o),_=D+1),s.splice(_++,0,l),null!==h&&s.splice(_++,0,h),null!==f&&s.splice(_++,0,f)}function Ic(s){return-1!==s}function xi(s){return 32767&s}function Fl(s,o){let l=function xa(s){return s>>16}(s),h=o;for(;l>0;)h=h[15],l--;return h}let As=!0;function Rl(s){const o=As;return As=s,o}let Si=0;const Fr={};function al(s,o){const l=hu(s,o);if(-1!==l)return l;const h=o[1];h.firstCreatePass&&(s.injectorIndex=o.length,Tc(h.data,s),Tc(o,null),Tc(h.blueprint,null));const f=ll(s,o),_=s.injectorIndex;if(Ic(f)){const D=xi(f),T=Fl(f,o),E=T[1].data;for(let M=0;M<8;M++)o[_+M]=T[D+M]|E[D+M]}return o[_+8]=f,_}function Tc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function hu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ll(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,h=null,f=o;for(;null!==f;){if(h=ko(f),null===h)return-1;if(l++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function vo(s,o,l){!function ol(s,o,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(te)&&(h=l[te]),null==h&&(h=l[te]=Si++);const f=255&h;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function Aa(s,o,l){if(l&mt.Optional||void 0!==s)return s;Re()}function pu(s,o,l,h){if(l&mt.Optional&&void 0===h&&(h=null),0==(l&(mt.Self|mt.Host))){const f=s[9],_=Cn(void 0);try{return f?f.get(o,h,l&mt.Optional):Xn(o,h,l&mt.Optional)}finally{Cn(_)}}return Aa(h,0,l)}function cl(s,o,l,h=mt.Default,f){if(null!==s){if(1024&o[2]){const D=function Po(s,o,l,h,f){let _=s,D=o;for(;null!==_&&null!==D&&1024&D[2]&&!(256&D[2]);){const T=Ec(_,D,l,h|mt.Self,Fr);if(T!==Fr)return T;let E=_.parent;if(!E){const M=D[21];if(M){const L=M.get(l,Fr,h);if(L!==Fr)return L}E=ko(D),D=D[15]}_=E}return f}(s,o,l,h,Fr);if(D!==Fr)return D}const _=Ec(s,o,l,h,Fr);if(_!==Fr)return _}return pu(o,l,h,f)}function Ec(s,o,l,h,f){const _=function od(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(te)?s[te]:void 0;return"number"==typeof o?o>=0?255&o:ul:o}(l);if("function"==typeof _){if(!Al(o,s,h))return h&mt.Host?Aa(f,0,h):pu(o,l,h,f);try{const D=_(h);if(null!=D||h&mt.Optional)return D;Re()}finally{jd()}}else if("number"==typeof _){let D=null,T=hu(s,o),E=-1,M=h&mt.Host?o[16][6]:null;for((-1===T||h&mt.SkipSelf)&&(E=-1===T?ll(s,o):o[T+8],-1!==E&&Sc(h,!1)?(D=o[1],T=xi(E),o=Fl(E,o)):T=-1);-1!==T;){const L=o[1];if(xc(_,T,L.data)){const z=or(T,o,l,D,h,M);if(z!==Fr)return z}E=o[T+8],-1!==E&&Sc(h,o[1].data[T+8]===M)&&xc(_,T,o)?(D=L,T=xi(E),o=Fl(E,o)):T=-1}}return f}function or(s,o,l,h,f,_){const D=o[1],T=D.data[s+8],L=tr(T,D,l,null==h?fs(T)&&As:h!=D&&0!=(3&T.type),f&mt.Host&&_===T);return null!==L?sa(o,D,L,T):Fr}function tr(s,o,l,h,f){const _=s.providerIndexes,D=o.data,T=1048575&_,E=s.directiveStart,L=_>>20,se=f?T+L:s.directiveEnd;for(let me=h?T:T+L;me<se;me++){const $e=D[me];if(me<E&&l===$e||me>=E&&$e.type===l)return me}if(f){const me=D[E];if(me&&gr(me)&&me.type===l)return E}return null}function sa(s,o,l,h){let f=s[l];const _=o.data;if(function Cr(s){return s instanceof Ea}(f)){const D=f;D.resolving&&function st(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ne(s)}(_[l]));const T=Rl(D.canSeeViewProviders);D.resolving=!0;const E=D.injectImpl?Cn(D.injectImpl):null;Al(s,h,mt.Default);try{f=s[l]=D.factory(void 0,_,s,h),o.firstCreatePass&&l>=h.directiveStart&&function Ve(s,o,l){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:_}=o.type.prototype;if(h){const D=Ya(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,D),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,D)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),_&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_))}(l,_[l],o)}finally{null!==E&&Cn(E),Rl(T),D.resolving=!1,jd()}}return f}function xc(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Sc(s,o){return!(s&mt.Self||s&mt.Host&&o)}class oa{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,h){return cl(this._tNode,this._lView,o,h,l)}}function ul(){return new oa(Xi(),Ze())}function yo(s){return Li(()=>{const o=s.prototype.constructor,l=o[oe]||aa(o),h=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==h;){const _=f[oe]||aa(f);if(_&&_!==l)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function aa(s){return tt(s)?()=>{const o=aa(ce(s));return o&&o()}:So(s)}function ko(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function dl(s){return function fu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const h=l.length;let f=0;for(;f<h;){const _=l[f];if(Ro(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<h&&"string"==typeof l[f];)f++;else{if(_===o)return l[f+1];f+=2}}}return null}(Xi(),s)}const Na="__parameters__";function Ll(s,o,l){return Li(()=>{const h=function gu(s){return function(...l){if(s){const h=s(...l);for(const f in h)this[f]=h[f]}}}(o);function f(..._){if(this instanceof f)return h.apply(this,_),this;const D=new f(..._);return T.annotation=D,T;function T(E,M,L){const z=E.hasOwnProperty(Na)?E[Na]:Object.defineProperty(E,Na,{value:[]})[Na];for(;z.length<=L;)z.push(null);return(z[L]=z[L]||[]).push(D),E}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class fi{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=pn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let h=s[l];Array.isArray(h)?(o===s&&(o=s.slice(0,l)),qr(h,o)):o!==s&&o.push(h)}return o}function ar(s,o){s.forEach(l=>Array.isArray(l)?ar(l,o):o(l))}function vr(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function li(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Jn(s,o){const l=[];for(let h=0;h<s;h++)l.push(o);return l}function nr(s,o,l){let h=Ma(s,o);return h>=0?s[1|h]=l:(h=~h,function ld(s,o,l,h){let f=s.length;if(f==o)s.push(l,h);else if(1===f)s.push(h,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=h}}(s,h,o,l)),h}function Oc(s,o){const l=Ma(s,o);if(l>=0)return s[1|l]}function Ma(s,o){return function Fc(s,o,l){let h=0,f=s.length>>l;for(;f!==h;){const _=h+(f-h>>1),D=s[_<<l];if(o===D)return _<<l;D>o?f=_:h=_+1}return~(f<<l)}(s,o,1)}const Pi={},Ms="__NG_DI_FLAG__",ti="ngTempTokenPath",lr=/\n/gm,qs="__source";let Zs;function yr(s){const o=Zs;return Zs=s,o}function _u(s,o=mt.Default){if(void 0===Zs)throw new Le(-203,!1);return null===Zs?Xn(s,void 0,o):Zs.get(s,o&mt.Optional?null:void 0,o)}function ir(s,o=mt.Default){return(function Hr(){return Gr}()||_u)(ce(s),o)}function x(s,o=mt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),ir(s,o)}function N(s){const o=[];for(let l=0;l<s.length;l++){const h=ce(s[l]);if(Array.isArray(h)){if(0===h.length)throw new Le(900,!1);let f,_=mt.Default;for(let D=0;D<h.length;D++){const T=h[D],E=q(T);"number"==typeof E?-1===E?f=T.token:_|=E:f=T}o.push(ir(f,_))}else o.push(ir(h))}return o}function k(s,o){return s[Ms]=o,s.prototype[Ms]=o,s}function q(s){return s[Ms]}const nt=k(Ll("Optional"),8),Ht=k(Ll("SkipSelf"),4);let Jd,ki,bu;function ur(s){Jd=s}function rr(){return void 0!==Jd?Jd:typeof document<"u"?document:void 0}function da(s){return function ua(){if(void 0===ki&&(ki=null,Vn.trustedTypes))try{ki=Vn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ki}()?.createHTML(s)||s}function Jh(s){return function Pa(){if(void 0===bu&&(bu=null,Vn.trustedTypes))try{bu=Vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return bu}()?.createHTML(s)||s}class Vo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ap extends Vo{getTypeName(){return"HTML"}}class wu extends Vo{getTypeName(){return"Style"}}class Bc extends Vo{getTypeName(){return"Script"}}class bo extends Vo{getTypeName(){return"URL"}}class vn extends Vo{getTypeName(){return"ResourceURL"}}function Bo(s){return s instanceof Vo?s.changingThisBreaksApplicationSecurity:s}function Du(s,o){const l=function Cu(s){return s instanceof Vo&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Xh(s){return new ap(s)}function ef(s){return new wu(s)}function Ag(s){return new Bc(s)}function kr(s){return new bo(s)}function Ng(s){return new vn(s)}function Ai(s){const o=new lp(s);return function tf(){try{return!!(new window.DOMParser).parseFromString(da(""),"text/html")}catch{return!1}}()?new ka(o):o}class ka{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(da(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class lp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=da(o),l;const h=this.inertDocument.createElement("body");return h.innerHTML=da(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const D=l.item(f).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&o.removeAttribute(D)}let h=o.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Ks=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Qs(s){return(s=String(s)).match(Ks)?s:"unsafe:"+s}function Uo(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Uc(...s){const o={};for(const l of s)for(const h in l)l.hasOwnProperty(h)&&(o[h]=!0);return o}const Gl=Uo("area,br,col,hr,img,wbr"),eh=Uo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fd=Uo("rp,rt"),ha=Uc(Gl,Uc(eh,Uo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uc(fd,Uo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uc(fd,eh)),nh=Uo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Iu=Uc(nh,Uo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Uo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ih=Uo("script,style,template");class rf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!ha.hasOwnProperty(l))return this.sanitizedSomething=!0,!ih.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=o.attributes;for(let f=0;f<h.length;f++){const _=h.item(f),D=_.name,T=D.toLowerCase();if(!Iu.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let E=_.value;nh[T]&&(E=Qs(E)),this.buf.push(" ",D,'="',sh(E),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();ha.hasOwnProperty(l)&&!Gl.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(sh(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const rh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gd=/([^\#-~ |!])/g;function sh(s){return s.replace(/&/g,"&amp;").replace(rh,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(gd,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tu;function Eu(s,o){let l=null;try{Tu=Tu||Ai(s);let h=o?String(o):"";l=Tu.getInertBodyElement(h);let f=5,_=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=_,_=l.innerHTML,l=Tu.getInertBodyElement(h)}while(h!==_);return da((new rf).sanitizeChildren(xu(l)||l))}finally{if(l){const h=xu(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function xu(s){return"content"in s&&function md(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Pn=(()=>((Pn=Pn||{})[Pn.NONE=0]="NONE",Pn[Pn.HTML=1]="HTML",Pn[Pn.STYLE=2]="STYLE",Pn[Pn.SCRIPT=3]="SCRIPT",Pn[Pn.URL=4]="URL",Pn[Pn.RESOURCE_URL=5]="RESOURCE_URL",Pn))();function wo(s){const o=vd();return o?Jh(o.sanitize(Pn.HTML,s)||""):Du(s,"HTML")?Jh(Bo(s)):Eu(rr(),Ne(s))}function ss(s){const o=vd();return o?o.sanitize(Pn.URL,s)||"":Du(s,"URL")?Bo(s):Qs(Ne(s))}function vd(){const s=Ze();return s&&s[12]}const jc=new fi("ENVIRONMENT_INITIALIZER"),yd=new fi("INJECTOR",-1),Su=new fi("INJECTOR_DEF_TYPES");class sf{get(o,l=Pi){if(l===Pi){const h=new Error(`NullInjectorError: No provider for ${Ae(o)}!`);throw h.name="NullInjectorError",h}return l}}function af(...s){return{\u0275providers:bd(0,s)}}function bd(s,...o){const l=[],h=new Set;let f;return ar(o,_=>{const D=_;Js(D,l,[],h)&&(f||(f=[]),f.push(D))}),void 0!==f&&oh(f,l),l}function oh(s,o){for(let l=0;l<s.length;l++){const{providers:f}=s[l];ar(f,_=>{o.push(_)})}}function Js(s,o,l,h){if(!(s=ce(s)))return!1;let f=null,_=es(s);const D=!_&&sn(s);if(_||D){if(D&&!D.standalone)return!1;f=s}else{const E=s.ngModule;if(_=es(E),!_)return!1;f=E}const T=h.has(f);if(D){if(T)return!1;if(h.add(f),D.dependencies){const E="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const M of E)Js(M,o,l,h)}}else{if(!_)return!1;{if(null!=_.imports&&!T){let M;h.add(f);try{ar(_.imports,L=>{Js(L,o,l,h)&&(M||(M=[]),M.push(L))})}finally{}void 0!==M&&oh(M,o)}if(!T){const M=So(f)||(()=>new f);o.push({provide:f,useFactory:M,deps:jt},{provide:Su,useValue:f,multi:!0},{provide:jc,useValue:()=>ir(f),multi:!0})}const E=_.providers;null==E||T||ar(E,L=>{o.push(L)})}}return f!==s&&void 0!==s.providers}const wd=De({provide:String,useValue:De});function Dd(s){return null!==s&&"object"==typeof s&&wd in s}function jl(s){return"function"==typeof s}const Wl=new fi("Set Injector scope."),Os={},Wc={};let zl;function Nu(){return void 0===zl&&(zl=new sf),zl}class ql{}class Do extends ql{constructor(o,l,h,f){super(),this.parent=l,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uh(o,D=>this.processProvider(D)),this.records.set(yd,Tr(void 0,this)),f.has("environment")&&this.records.set(ql,Tr(void 0,this));const _=this.records.get(Wl);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Su.multi,jt,mt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=yr(this),h=Cn(void 0);try{return o()}finally{yr(l),Cn(h)}}get(o,l=Pi,h=mt.Default){this.assertNotDestroyed();const f=yr(this),_=Cn(void 0);try{if(!(h&mt.SkipSelf)){let T=this.records.get(o);if(void 0===T){const E=function lf(s){return"function"==typeof s||"object"==typeof s&&s instanceof fi}(o)&&Qt(o);T=E&&this.injectableDefInScope(E)?Tr(Lr(o),Os):null,this.records.set(o,T)}if(null!=T)return this.hydrate(o,T)}return(h&mt.Self?Nu():this.parent).get(o,l=h&mt.Optional&&l===Pi?null:l)}catch(D){if("NullInjectorError"===D.name){if((D[ti]=D[ti]||[]).unshift(Ae(o)),f)throw D;return function de(s,o,l,h){const f=s[ti];throw o[qs]&&f.unshift(o[qs]),s.message=function Te(s,o,l,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=Ae(o);if(Array.isArray(o))f=o.map(Ae).join(" -> ");else if("object"==typeof o){let _=[];for(let D in o)if(o.hasOwnProperty(D)){let T=o[D];_.push(D+":"+("string"==typeof T?JSON.stringify(T):Ae(T)))}f=`{${_.join(", ")}}`}return`${l}${h?"("+h+")":""}[${f}]: ${s.replace(lr,"\n  ")}`}("\n"+s.message,f,l,h),s.ngTokenPath=f,s[ti]=null,s}(D,o,"R3InjectorError",this.source)}throw D}finally{Cn(_),yr(f)}}resolveInjectorInitializers(){const o=yr(this),l=Cn(void 0);try{const h=this.get(jc.multi,jt,mt.Self);for(const f of h)f()}finally{yr(o),Cn(l)}}toString(){const o=[],l=this.records;for(const h of l.keys())o.push(Ae(h));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(o){let l=jl(o=ce(o))?o:ce(o&&o.provide);const h=function Mu(s){return Dd(s)?Tr(void 0,s.useValue):Tr(Ou(s),Os)}(o);if(jl(o)||!0!==o.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Tr(void 0,Os,!0),f.factory=()=>N(f.multi),this.records.set(l,f)),l=o,f.multi.push(o)}this.records.set(l,h)}hydrate(o,l){return l.value===Os&&(l.value=Wc,l.value=l.factory()),"object"==typeof l.value&&l.value&&function ch(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ce(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Lr(s){const o=Qt(s),l=null!==o?o.factory:So(s);if(null!==l)return l;if(s instanceof fi)throw new Le(204,!1);if(s instanceof Function)return function Zl(s){const o=s.length;if(o>0)throw Jn(o,"?"),new Le(204,!1);const l=function Fn(s){const o=s&&(s[di]||s[Nr]);if(o){const l=function zi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Le(204,!1)}function Ou(s,o,l){let h;if(jl(s)){const f=ce(s);return So(f)||Lr(f)}if(Dd(s))h=()=>ce(s.useValue);else if(function lh(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...N(s.deps||[]));else if(function Au(s){return!(!s||!s.useExisting)}(s))h=()=>ir(ce(s.useExisting));else{const f=ce(s&&(s.useClass||s.provide));if(!function Gt(s){return!!s.deps}(s))return So(f)||Lr(f);h=()=>new f(...N(s.deps))}return h}function Tr(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function zc(s){return!!s.\u0275providers}function uh(s,o){for(const l of s)Array.isArray(l)?uh(l,o):zc(l)?uh(l.\u0275providers,o):o(l)}class qc{}class g{resolveComponentFactory(o){throw function Vr(s){const o=Error(`No component factory found for ${Ae(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let v=(()=>{class s{}return s.NULL=new g,s})();function C(){return O(Xi(),Ze())}function O(s,o){return new B(is(s,o))}let B=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=C,s})();function le(s){return s instanceof B?s.nativeElement:s}class Xe{}let St=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Kt(){const s=Ze(),l=An(Xi().index,s);return($i(l)?l:s)[11]}(),s})(),$t=(()=>{class s{}return s.\u0275prov=pn({token:s,providedIn:"root",factory:()=>null}),s})();class Br{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Xs=new Br("14.2.2"),La={};function Fg(s){return s.ngOriginalError}class Td{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Fg(o);for(;l&&Fg(l);)l=Fg(l);return l||null}}const R_=/^>|^->|<!--|-->|--!>|<!-$/g,d0=/(<|>)/;const _p=new Map;let g0=0;const Bg="__ngContext__";function _s(s,o){$i(o)?(s[Bg]=o[20],function Pg(s){_p.set(s[20],s)}(o)):s[Bg]=o}function Kl(s){return s instanceof Function?s():s}var Ql=(()=>((Ql=Ql||{})[Ql.Important=1]="Important",Ql[Ql.DashCase=2]="DashCase",Ql))();let hf;function yp(s,o){return hf(s,o)}function mh(s){const o=s[3];return Ji(o)?o[3]:o}function Wg(s){return E0(s[13])}function bp(s){return E0(s[4])}function E0(s){for(;null!==s&&!Ji(s);)s=s[4];return s}function _h(s,o,l,h,f){if(null!=h){let _,D=!1;Ji(h)?_=h:$i(h)&&(D=!0,h=h[0]);const T=Gi(h);0===s&&null!==l?null==f?Wo(o,l,T):Rs(o,l,T,f||null,!0):1===s&&null!==l?Rs(o,l,T,f||null,!0):2===s?j_(o,T,D):3===s&&o.destroyNode(T),null!=_&&function O0(s,o,l,h,f){const _=l[7];_!==Gi(l)&&_h(o,s,h,_,f);for(let T=10;T<l.length;T++){const E=l[T];_f(E[1],E,s,o,h,_)}}(o,s,_,l,f)}}function zg(s,o){return s.createText(o)}function $_(s,o,l){s.setValue(o,l)}function tD(s,o){return s.createComment(function Rg(s){return s.replace(R_,o=>o.replace(d0,"\u200b$1\u200b"))}(o))}function qg(s,o,l){return s.createElement(o,l)}function wp(s,o){const l=s[9],h=l.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,Kn(f,-1)),l.splice(h,1)}function Zg(s,o){if(s.length<=10)return;const l=10+o,h=s[l];if(h){const f=h[17];null!==f&&f!==s&&wp(f,h),o>0&&(s[l-1][4]=h[4]);const _=li(s,10+o);!function nD(s,o){_f(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(h[1],h);const D=_[19];null!==D&&D.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function ff(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&_f(s,o,l,3,null,null),function sD(s){let o=s[13];if(!o)return Ba(s[1],s);for(;o;){let l=null;if($i(o))l=o[13];else{const h=o[10];h&&(l=h)}if(!l){for(;o&&!o[4]&&o!==s;)$i(o)&&Ba(o[1],o),o=o[3];null===o&&(o=s),$i(o)&&Ba(o[1],o),l=o&&o[4]}o=l}}(o)}}function Ba(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function G_(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let h=0;h<l.length;h+=2){const f=o[l[h]];if(!(f instanceof Ea)){const _=l[h+1];if(Array.isArray(_))for(let D=0;D<_.length;D+=2){const T=f[_[D]],E=_[D+1];try{E.call(T)}finally{}}else try{_.call(f)}finally{}}}}(s,o),function A0(s,o){const l=s.cleanup,h=o[7];let f=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const D=l[_+1],T="function"==typeof D?D(o):Gi(o[D]),E=h[f=l[_+2]],M=l[_+3];"boolean"==typeof M?T.removeEventListener(l[_],E,M):M>=0?h[f=M]():h[f=-M].unsubscribe(),_+=2}else{const D=h[f=l[_+1]];l[_].call(D)}if(null!==h){for(let _=f+1;_<h.length;_++)(0,h[_])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Ji(o[3])){l!==o[3]&&wp(l,o);const h=o[19];null!==h&&h.detachView(s)}!function Lg(s){_p.delete(s[20])}(o)}}function jo(s,o,l){return Ua(s,o.parent,l)}function Ua(s,o,l){let h=o;for(;null!==h&&40&h.type;)h=(o=h).parent;if(null===h)return l[0];if(2&h.flags){const f=s.data[h.directiveStart].encapsulation;if(f===Nt.None||f===Nt.Emulated)return null}return is(h,l)}function Rs(s,o,l,h,f){s.insertBefore(o,l,h,f)}function Wo(s,o,l){s.appendChild(o,l)}function Dp(s,o,l,h,f){null!==h?Rs(s,o,l,h,f):Wo(s,o,l)}function ku(s,o){return s.parentNode(o)}function Yg(s,o,l){return Kg(s,o,l)}function vh(s,o,l){return 40&s.type?is(s,l):null}let mf,Kg=vh;function Qg(s,o){Kg=s,mf=o}function Cp(s,o,l,h){const f=jo(s,h,o),_=o[11],T=Yg(h.parent||o[6],h,o);if(null!=f)if(Array.isArray(l))for(let E=0;E<l.length;E++)Dp(_,f,l[E],T,!1);else Dp(_,f,l,T,!1);void 0!==mf&&mf(_,h,o,l,f)}function Ip(s,o){if(null!==o){const l=o.type;if(3&l)return is(o,s);if(4&l)return yh(-1,s[o.index]);if(8&l){const h=o.child;if(null!==h)return Ip(s,h);{const f=s[o.index];return Ji(f)?yh(-1,f):Gi(f)}}if(32&l)return yp(o,s)()||Gi(s[o.index]);{const h=H_(s,o);return null!==h?Array.isArray(h)?h[0]:Ip(mh(s[16]),h):Ip(s,o.next)}}return null}function H_(s,o){return null!==o?s[16][6].projection[o.projection]:null}function yh(s,o){const l=10+s+1;if(l<o.length){const h=o[l],f=h[1].firstChild;if(null!==f)return Ip(h,f)}return o[7]}function j_(s,o,l){const h=ku(s,o);h&&function pf(s,o,l,h){s.removeChild(o,l,h)}(s,h,o,l)}function Jg(s,o,l,h,f,_,D){for(;null!=l;){const T=h[l.index],E=l.type;if(D&&0===o&&(T&&_s(Gi(T),h),l.flags|=4),64!=(64&l.flags))if(8&E)Jg(s,o,l.child,h,f,_,!1),_h(o,s,f,T,_);else if(32&E){const M=yp(l,h);let L;for(;L=M();)_h(o,s,f,L,_);_h(o,s,f,T,_)}else 16&E?W_(s,o,h,l,f,_):_h(o,s,f,T,_);l=D?l.projectionNext:l.next}}function _f(s,o,l,h,f,_){Jg(l,h,s.firstChild,o,f,_,!1)}function W_(s,o,l,h,f,_){const D=l[16],E=D[6].projection[h.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)_h(o,s,f,E[M],_);else Jg(s,o,E,D[3],f,_,!0)}function Lu(s,o,l){s.setAttribute(o,"style",l)}function zo(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Tp(s,o,l){let h=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const _=o.length;if(f+_===h||s.charCodeAt(f+_)<=32)return f}l=f+1}}const fl="ng-template";function Ep(s,o,l){let h=0;for(;h<s.length;){let f=s[h++];if(l&&"class"===f){if(f=s[h],-1!==Tp(f.toLowerCase(),o,0))return!0}else if(1===f){for(;h<s.length&&"string"==typeof(f=s[h++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function Vu(s){return 4===s.type&&s.value!==fl}function xp(s,o,l){return o===(4!==s.type||l?s.value:fl)}function Sp(s,o,l){let h=4;const f=s.attrs||[],_=function Zc(s){for(let o=0;o<s.length;o++)if(Ro(s[o]))return o;return s.length}(f);let D=!1;for(let T=0;T<o.length;T++){const E=o[T];if("number"!=typeof E){if(!D)if(4&h){if(h=2|1&h,""!==E&&!xp(s,E,l)||""===E&&1===o.length){if(Ps(h))return!1;D=!0}}else{const M=8&h?E:o[++T];if(8&h&&null!==s.attrs){if(!Ep(s.attrs,M,l)){if(Ps(h))return!1;D=!0}continue}const z=Ap(8&h?"class":E,f,Vu(s),l);if(-1===z){if(Ps(h))return!1;D=!0;continue}if(""!==M){let se;se=z>_?"":f[z+1].toLowerCase();const me=8&h?se:null;if(me&&-1!==Tp(me,M,0)||2&h&&M!==se){if(Ps(h))return!1;D=!0}}}}else{if(!D&&!Ps(h)&&!Ps(E))return!1;if(D&&Ps(E))continue;D=!1,h=E|1&h}}return Ps(h)||D}function Ps(s){return 0==(1&s)}function Ap(s,o,l,h){if(null===o)return-1;let f=0;if(h||!l){let _=!1;for(;f<o.length;){const D=o[f];if(D===s)return f;if(3===D||6===D)_=!0;else{if(1===D||2===D){let T=o[++f];for(;"string"==typeof T;)T=o[++f];continue}if(4===D)break;if(0===D){f+=4;continue}}f+=_?1:2}return-1}return function F0(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const h=s[l];if("number"==typeof h)return-1;if(h===o)return l;l++}return-1}(o,s)}function vf(s,o,l=!1){for(let h=0;h<o.length;h++)if(Sp(s,o[h],l))return!0;return!1}function Jl(s,o){e:for(let l=0;l<o.length;l++){const h=o[l];if(s.length===h.length){for(let f=0;f<s.length;f++)if(s[f]!==h[f])continue e;return!0}}return!1}function Bu(s,o){return s?":not("+o.trim()+")":o}function bh(s){let o=s[0],l=1,h=2,f="",_=!1;for(;l<s.length;){let D=s[l];if("string"==typeof D)if(2&h){const T=s[++l];f+="["+D+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?f+="."+D:4&h&&(f+=" "+D);else""!==f&&!Ps(D)&&(o+=Bu(_,f),f=""),h=D,_=_||!Ps(h);l++}return""!==f&&(o+=Bu(_,f)),o}const on={};function Np(s){Z_(_n(),Ze(),_r()+s,!1)}function Z_(s,o,l,h){if(!h)if(3==(3&o[2])){const _=s.preOrderCheckHooks;null!==_&&bt(o,_,l)}else{const _=s.preOrderHooks;null!==_&&Yt(o,_,0,l)}Ss(l)}function em(s,o=null,l=null,h){const f=tm(s,o,l,h);return f.resolveInjectorInitializers(),f}function tm(s,o=null,l=null,h,f=new Set){const _=[l||jt,af(s)];return h=h||("object"==typeof s?void 0:Ae(s)),new Do(_,o||Nu(),h||null,f)}let vs=(()=>{class s{static create(l,h){if(Array.isArray(l))return em({name:""},h,l,"");{const f=l.name??"";return em({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=Pi,s.NULL=new sf,s.\u0275prov=pn({token:s,providedIn:"any",factory:()=>ir(yd)}),s.__NG_ELEMENT_ID__=-1,s})();function Th(s,o=mt.Default){const l=Ze();return null===l?ir(s,o):cl(Xi(),l,ce(s),o)}function nm(){throw new Error("invalid")}function eo(s,o){return s<<17|o<<2}function to(s){return s>>17&32767}function im(s){return 2|s}function Qc(s){return(131068&s)>>2}function rm(s,o){return-131069&s|o<<2}function ec(s){return 1|s}function mv(s,o){const l=s.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const f=l[h],_=l[h+1];if(-1!==_){const D=s.data[_];bc(f),D.contentQueries(2,o[_],_)}}}function hm(s,o,l,h,f,_,D,T,E,M,L){const z=o.blueprint.slice();return z[0]=f,z[2]=76|h,(null!==L||s&&1024&s[2])&&(z[2]|=1024),hc(z),z[3]=z[15]=s,z[8]=l,z[10]=D||s&&s[10],z[11]=T||s&&s[11],z[12]=E||s&&s[12]||null,z[9]=M||s&&s[9]||null,z[6]=_,z[20]=function k_(){return g0++}(),z[21]=L,z[16]=2==o.type?s[16]:z,z}function gl(s,o,l,h,f){let _=s.data[o];if(null===_)_=fm(s,o,l,h,f),function Zh(){return Zt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=l,_.value=h,_.attrs=f;const D=el();_.injectorIndex=null===D?-1:D.injectorIndex}return ps(_,!0),_}function fm(s,o,l,h,f){const _=pc(),D=tl(),E=s.data[o]=function tb(s,o,l,h,f,_){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?_:_&&_.parent,l,o,h,f);return null===s.firstChild&&(s.firstChild=E),null!==_&&(D?null==_.child&&null!==E.parent&&(_.child=E):null===_.next&&(_.next=E)),E}function Eh(s,o,l,h){if(0===l)return-1;const f=o.length;for(let _=0;_<l;_++)o.push(h),s.blueprint.push(h),s.data.push(null);return f}function pm(s,o,l){wc(o);try{const h=s.viewQuery;null!==h&&Im(1,h,l);const f=s.template;null!==f&&_v(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&mv(s,o),s.staticViewQueries&&Im(2,s.viewQuery,l);const _=s.components;null!==_&&function J0(s,o){for(let l=0;l<o.length;l++)_D(s,o[l])}(o,_)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{o[2]&=-5,nl()}}function Lp(s,o,l,h){const f=o[2];if(128!=(128&f)){wc(o);try{hc(o),function _c(s){return Zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&_v(s,o,l,2,h);const D=3==(3&f);if(D){const M=s.preOrderCheckHooks;null!==M&&bt(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Yt(o,M,0,null),$n(o,0)}if(function Av(s){for(let o=Wg(s);null!==o;o=bp(o)){if(!o[2])continue;const l=o[9];for(let h=0;h<l.length;h++){const f=l[h],_=f[3];0==(512&f[2])&&Kn(_,1),f[2]|=512}}}(o),function ga(s){for(let o=Wg(s);null!==o;o=bp(o))for(let l=10;l<o.length;l++){const h=o[l],f=h[1];Ja(h)&&Lp(f,h,f.template,h[8])}}(o),null!==s.contentQueries&&mv(s,o),D){const M=s.contentCheckHooks;null!==M&&bt(o,M)}else{const M=s.contentHooks;null!==M&&Yt(o,M,1),$n(o,1)}!function gv(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const f=l[h];if(f<0)Ss(~f);else{const _=f,D=l[++h],T=l[++h];Xf(D,_),T(2,o[_])}}}finally{Ss(-1)}}(s,o);const T=s.components;null!==T&&function Q0(s,o){for(let l=0;l<o.length;l++)db(s,o[l])}(o,T);const E=s.viewQuery;if(null!==E&&Im(2,E,h),D){const M=s.viewCheckHooks;null!==M&&bt(o,M)}else{const M=s.viewHooks;null!==M&&Yt(o,M,2),$n(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Kn(o[3],-1))}finally{nl()}}}function _v(s,o,l,h,f){const _=_r(),D=2&h;try{Ss(-1),D&&o.length>22&&Z_(s,o,22,!1),l(h,f)}finally{Ss(_)}}function gm(s,o,l){if(ho(o)){const f=o.directiveEnd;for(let _=o.directiveStart;_<f;_++){const D=s.data[_];D.contentQueries&&D.contentQueries(1,l[_],_)}}}function Vp(s,o,l){!mo()||(function ob(s,o,l,h){const f=l.directiveStart,_=l.directiveEnd;s.firstCreatePass||al(l,o),_s(h,o);const D=l.initialInputs;for(let T=f;T<_;T++){const E=s.data[T],M=gr(E);M&&gD(o,l,E);const L=sa(o,s,T,l);_s(L,o),null!==D&&Sv(0,T-f,L,E,0,D),M&&(An(l.index,o)[8]=L)}}(s,o,l,is(l,o)),128==(128&l.flags)&&function ab(s,o,l){const h=l.directiveStart,f=l.directiveEnd,_=l.index,D=function ed(){return Zt.lFrame.currentDirectiveIndex}();try{Ss(_);for(let T=h;T<f;T++){const E=s.data[T],M=o[T];cu(T),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Tv(E,M)}}finally{Ss(-1),cu(D)}}(s,o,l))}function mm(s,o,l=is){const h=o.localNames;if(null!==h){let f=o.index+1;for(let _=0;_<h.length;_+=2){const D=h[_+1],T=-1===D?l(o,s):s[D];s[f++]=T}}}function vv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=_m(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function _m(s,o,l,h,f,_,D,T,E,M){const L=22+h,z=L+f,se=function X0(s,o){const l=[];for(let h=0;h<o;h++)l.push(h<s?null:on);return l}(L,z),me="function"==typeof M?M():M;return se[1]={type:s,blueprint:se,template:l,queries:null,viewQuery:T,declTNode:o,data:se.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:E,consts:me,incompleteFirstPass:!1}}function yv(s,o,l,h){const f=Nv(o);null===l?f.push(h):(f.push(l),s.firstCreatePass&&Tm(s).push(h,f.length-1))}function bv(s,o,l){for(let h in s)if(s.hasOwnProperty(h)){const f=s[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(o,f):l[h]=[o,f]}return l}function wv(s,o){const h=o.directiveEnd,f=s.data,_=o.attrs,D=[];let T=null,E=null;for(let M=o.directiveStart;M<h;M++){const L=f[M],z=L.inputs,se=null===_||Vu(o)?null:mD(z,_);D.push(se),T=bv(z,M,T),E=bv(L.outputs,M,E)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=16),T.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=D,o.inputs=T,o.outputs=E}function pa(s,o,l,h,f,_,D,T){const E=is(o,l);let L,M=o.inputs;!T&&null!=M&&(L=M[h])?(Em(s,l,L,h,f),fs(o)&&Dv(l,o.index)):3&o.type&&(h=function nb(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),f=null!=D?D(f,o.value||"",h):f,_.setProperty(E,h,f))}function Dv(s,o){const l=An(o,s);16&l[2]||(l[2]|=32)}function vm(s,o,l,h){let f=!1;if(mo()){const _=function lb(s,o,l){const h=s.directiveRegistry;let f=null;if(h)for(let _=0;_<h.length;_++){const D=h[_];vf(l,D.selectors,!1)&&(f||(f=[]),vo(al(l,o),s,D.type),gr(D)?(Ev(s,l),f.unshift(D)):f.push(D))}return f}(s,o,l),D=null===h?null:{"":-1};if(null!==_){f=!0,bm(l,s.data.length,_.length);for(let L=0;L<_.length;L++){const z=_[L];z.providersResolver&&z.providersResolver(z)}let T=!1,E=!1,M=Eh(s,o,_.length,null);for(let L=0;L<_.length;L++){const z=_[L];l.mergedAttrs=Cc(l.mergedAttrs,z.hostAttrs),xv(s,l,o,M,z),ym(M,z,D),null!==z.contentQueries&&(l.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(l.flags|=128);const se=z.type.prototype;!T&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),T=!0),!E&&(se.ngOnChanges||se.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),M++}wv(s,l)}D&&function cb(s,o,l){if(o){const h=s.localNames=[];for(let f=0;f<o.length;f+=2){const _=l[o[f+1]];if(null==_)throw new Le(-301,!1);h.push(o[f],_)}}}(l,h,D)}return l.mergedAttrs=Cc(l.mergedAttrs,l.attrs),f}function Iv(s,o,l,h,f,_){const D=_.hostBindings;if(D){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const E=~o.index;(function sb(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(T)!=E&&T.push(E),T.push(h,f,D)}}function Tv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ev(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function ym(s,o,l){if(l){if(o.exportAs)for(let h=0;h<o.exportAs.length;h++)l[o.exportAs[h]]=s;gr(o)&&(l[""]=s)}}function bm(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function xv(s,o,l,h,f){s.data[h]=f;const _=f.factory||(f.factory=So(f.type)),D=new Ea(_,gr(f),Th);s.blueprint[h]=D,l[h]=D,Iv(s,o,0,h,Eh(s,l,f.hostVars,on),f)}function gD(s,o,l){const h=is(o,s),f=vv(l),_=s[10],D=xh(s,hm(s,f,null,l.onPush?32:16,h,o,_,_.createRenderer(h,l),null,null,null));s[o.index]=D}function wm(s,o,l,h,f,_,D){if(null==_)s.removeAttribute(o,f,l);else{const T=null==D?Ne(_):D(_,h||"",f);s.setAttribute(o,f,T,l)}}function Sv(s,o,l,h,f,_){const D=_[o];if(null!==D){const T=h.setInput;for(let E=0;E<D.length;){const M=D[E++],L=D[E++],z=D[E++];null!==T?h.setInput(l,z,M,L):l[L]=z}}}function mD(s,o){let l=null,h=0;for(;h<o.length;){const f=o[h];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[h+1])),h+=2}else h+=2;else h+=4}return l}function ub(s,o,l,h){return new Array(s,!0,!1,o,null,0,h,l,null,null)}function db(s,o){const l=An(o,s);if(Ja(l)){const h=l[1];48&l[2]?Lp(h,l,h.template,l[8]):l[5]>0&&Dm(l)}}function Dm(s){for(let h=Wg(s);null!==h;h=bp(h))for(let f=10;f<h.length;f++){const _=h[f];if(Ja(_))if(512&_[2]){const D=_[1];Lp(D,_,D.template,_[8])}else _[5]>0&&Dm(_)}const l=s[1].components;if(null!==l)for(let h=0;h<l.length;h++){const f=An(l[h],s);Ja(f)&&f[5]>0&&Dm(f)}}function _D(s,o){const l=An(o,s),h=l[1];(function vD(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(h,l),pm(h,l,l[8])}function xh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Cm(s){for(;s;){s[2]|=32;const o=mh(s);if(Za(s)&&!o)return s;s=o}return null}function Tf(s,o,l,h=!0){const f=o[10];f.begin&&f.begin();try{Lp(s,o,s.template,l)}catch(D){throw h&&fb(o,D),D}finally{f.end&&f.end()}}function Im(s,o,l){bc(0),o(s,l)}function Nv(s){return s[7]||(s[7]=[])}function Tm(s){return s.cleanup||(s.cleanup=[])}function fb(s,o){const l=s[9],h=l?l.get(Td,null):null;h&&h.handleError(o)}function Em(s,o,l,h,f){for(let _=0;_<l.length;){const D=l[_++],T=l[_++],E=o[D],M=s.data[D];null!==M.setInput?M.setInput(E,f,h,T):E[T]=f}}function ml(s,o,l){const h=xs(o,s);$_(s[11],h,l)}function Ef(s,o,l){let h=l?s.styles:null,f=l?s.classes:null,_=0;if(null!==o)for(let D=0;D<o.length;D++){const T=o[D];"number"==typeof T?_=T:1==_?f=Se(f,T):2==_&&(h=Se(h,T+": "+o[++D]+";"))}l?s.styles=h:s.stylesWithoutHost=h,l?s.classes=f:s.classesWithoutHost=f}function Nd(s,o,l,h,f=!1){for(;null!==l;){const _=o[l.index];if(null!==_&&h.push(Gi(_)),Ji(_))for(let T=10;T<_.length;T++){const E=_[T],M=E[1].firstChild;null!==M&&Nd(E[1],E,M,h)}const D=l.type;if(8&D)Nd(s,o,l.child,h);else if(32&D){const T=yp(l,o);let E;for(;E=T();)h.push(E)}else if(16&D){const T=H_(o,l);if(Array.isArray(T))h.push(...T);else{const E=mh(o[16]);Nd(E[1],E,T,h,!0)}}l=f?l.projectionNext:l.next}return h}class Bp{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Nd(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ji(o)){const l=o[8],h=l?l.indexOf(this):-1;h>-1&&(Zg(o,h),li(l,h))}this._attachedToViewContainer=!1}ff(this._lView[1],this._lView)}onDestroy(o){yv(this._lView[1],this._lView,null,o)}markForCheck(){Cm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Tf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rD(s,o){_f(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=o}}class pb extends Bp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Tf(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class xf extends v{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=sn(o);return new Sh(l,this.ngModule)}}function tc(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Md{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,h){const f=this.injector.get(o,La,h);return f!==La||l===La?f:this.parentInjector.get(o,l,h)}}class Sh extends qc{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function q_(s){return s.map(bh).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return tc(this.componentDef.inputs)}get outputs(){return tc(this.componentDef.outputs)}create(o,l,h,f){let _=(f=f||this.ngModule)instanceof ql?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const D=_?new Md(o,_):o,T=D.get(Xe,null);if(null===T)throw new Le(407,!1);const E=D.get($t,null),M=T.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",z=h?function eb(s,o,l){return s.selectRootElement(o,l===Nt.ShadowDom)}(M,h,this.componentDef.encapsulation):qg(T.createRenderer(null,this.componentDef),L,function xm(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),se=this.componentDef.onPush?288:272,me=_m(0,null,null,1,0,null,null,null,null,null),$e=hm(null,me,null,se,null,null,T,M,E,D,null);let lt,yt;wc($e);try{const Rt=function Ah(s,o,l,h,f,_){const D=l[1];l[22]=s;const E=gl(D,22,2,"#host",null),M=E.mergedAttrs=o.hostAttrs;null!==M&&(Ef(E,M,!0),null!==s&&(sl(f,s,M),null!==E.classes&&zo(f,s,E.classes),null!==E.styles&&Lu(f,s,E.styles)));const L=h.createRenderer(s,o),z=hm(l,vv(o),null,o.onPush?32:16,l[22],E,h,L,_||null,null,null);return D.firstCreatePass&&(vo(al(E,l),D,o.type),Ev(D,E),bm(E,l.length,1)),xh(l,z),l[22]=z}(z,this.componentDef,$e,T,M);if(z)if(h)sl(M,z,["ng-version",Xs.full]);else{const{attrs:en,classes:Ke}=function yf(s){const o=[],l=[];let h=1,f=2;for(;h<s.length;){let _=s[h];if("string"==typeof _)2===f?""!==_&&o.push(_,s[++h]):8===f&&l.push(_);else{if(!Ps(f))break;f=_}h++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);en&&sl(M,z,en),Ke&&Ke.length>0&&zo(M,z,Ke.join(" "))}if(yt=Qa(me,22),void 0!==l){const en=yt.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const nn=l[Ke];en.push(null!=nn?Array.from(nn):null)}}lt=function gb(s,o,l,h){const f=l[1],_=function rb(s,o,l){const h=Xi();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),xv(s,h,o,Eh(s,o,1,null),l),wv(s,h));const f=sa(o,s,h.directiveStart,h);_s(f,o);const _=is(h,o);return _&&_s(_,o),f}(f,l,o);if(s[8]=l[8]=_,null!==h)for(const T of h)T(_,o);if(o.contentQueries){const T=Xi();o.contentQueries(1,_,T.directiveStart)}const D=Xi();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ss(D.index),Iv(l[1],D,0,D.directiveStart,D.directiveEnd,o),Tv(o,_)),_}(Rt,this.componentDef,$e,[DD]),pm(me,$e,null)}finally{nl()}return new bD(this.componentType,lt,O(yt,$e),$e,yt)}}class bD extends class Fu{}{constructor(o,l,h,f,_){super(),this.location=h,this._rootLView=f,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new pb(f),this.componentType=o}setInput(o,l){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[o])){const _=this._rootLView;Em(_[1],_,f,o,l),Dv(_,this._tNode.index)}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function DD(){const s=Xi();Ee(Ze()[1],s)}function Up(s){let o=function Mv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const h=[s];for(;o;){let f;if(gr(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,!1);f=o.\u0275dir}if(f){if(l){h.push(f);const D=s;D.inputs=Sm(s.inputs),D.declaredInputs=Sm(s.declaredInputs),D.outputs=Sm(s.outputs);const T=f.hostBindings;T&&u(s,T);const E=f.viewQuery,M=f.contentQueries;if(E&&Sf(s,E),M&&Co(s,M),Ce(s.inputs,f.inputs),Ce(s.declaredInputs,f.declaredInputs),Ce(s.outputs,f.outputs),gr(f)&&f.data.animation){const L=s.data;L.animation=(L.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let D=0;D<_.length;D++){const T=_[D];T&&T.ngInherit&&T(s),T===Up&&(l=!1)}}o=Object.getPrototypeOf(o)}!function mb(s){let o=0,l=null;for(let h=s.length-1;h>=0;h--){const f=s[h];f.hostVars=o+=f.hostVars,f.hostAttrs=Cc(f.hostAttrs,l=Cc(l,f.hostAttrs))}}(h)}function Sm(s){return s===qi?{}:s===jt?[]:s}function Sf(s,o){const l=s.viewQuery;s.viewQuery=l?(h,f)=>{o(h,f),l(h,f)}:o}function Co(s,o){const l=s.contentQueries;s.contentQueries=l?(h,f,_)=>{o(h,f,_),l(h,f,_)}:o}function u(s,o){const l=s.hostBindings;s.hostBindings=l?(h,f)=>{o(h,f),l(h,f)}:o}let R=null;function G(){if(!R){const s=Vn.Symbol;if(s&&s.iterator)R=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const h=o[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(R=h)}}}return R}function re(s){return!!qe(s)&&(Array.isArray(s)||!(s instanceof Map)&&G()in s)}function qe(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ft(s,o,l){return s[o]=l}function Ot(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function dn(s,o,l,h){const f=Ot(s,o,l);return Ot(s,o+1,h)||f}function Nn(s,o,l,h){const f=Ze();return Ot(f,_o(),o)&&(_n(),function Jc(s,o,l,h,f,_){const D=is(s,o);wm(o[11],D,_,s.value,l,h,f)}(Ti(),f,s,o,l,h)),Nn}function Ur(s,o,l,h){return Ot(s,_o(),l)?o+Ne(l)+h:on}function xr(s,o,l,h,f,_){const T=dn(s,ji(),l,f);return Mo(2),T?o+Ne(l)+h+Ne(f)+_:on}function vE(s,o,l,h,f,_,D,T){const E=Ze(),M=_n(),L=s+22,z=M.firstCreatePass?function _E(s,o,l,h,f,_,D,T,E){const M=o.consts,L=gl(o,s,4,D||null,po(M,T));vm(o,l,L,po(M,E)),Ee(o,L);const z=L.tViews=_m(2,L,h,f,_,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,L),z.queries=o.queries.embeddedTView(L)),L}(L,M,E,o,l,h,f,_,D):M.data[L];ps(z,!1);const se=E[11].createComment("");Cp(M,E,se,z),_s(se,E),xh(E,E[L]=ub(se,E,se,z)),Cl(z)&&Vp(M,E,z),null!=D&&mm(E,z,T)}function yE(s){return No(function gc(){return Zt.lFrame.contextLView}(),22+s)}function CD(s,o,l){const h=Ze();return Ot(h,_o(),o)&&pa(_n(),Ti(),h,s,o,h[11],l,!1),CD}function ID(s,o,l,h,f){const D=f?"class":"style";Em(s,l,o.inputs[D],D,h)}function bb(s,o,l,h){const f=Ze(),_=_n(),D=22+s,T=f[11],E=f[D]=qg(T,o,function ue(){return Zt.lFrame.currentNamespace}()),M=_.firstCreatePass?function rO(s,o,l,h,f,_,D){const T=o.consts,M=gl(o,s,2,f,po(T,_));return vm(o,l,M,po(T,D)),null!==M.attrs&&Ef(M,M.attrs,!1),null!==M.mergedAttrs&&Ef(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(D,_,f,0,o,l,h):_.data[D];ps(M,!0);const L=M.mergedAttrs;null!==L&&sl(T,E,L);const z=M.classes;null!==z&&zo(T,E,z);const se=M.styles;return null!==se&&Lu(T,E,se),64!=(64&M.flags)&&Cp(_,f,E,M),0===function go(){return Zt.lFrame.elementDepthCount}()&&_s(E,f),function xl(){Zt.lFrame.elementDepthCount++}(),Cl(M)&&(Vp(_,f,M),gm(_,M,f)),null!==h&&mm(f,M),bb}function wb(){let s=Xi();tl()?Sl():(s=s.parent,ps(s,!1));const o=s;!function Qu(){Zt.lFrame.elementDepthCount--}();const l=_n();return l.firstCreatePass&&(Ee(l,s),ho(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function rl(s){return 0!=(16&s.flags)}(o)&&ID(l,o,Ze(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Dc(s){return 0!=(32&s.flags)}(o)&&ID(l,o,Ze(),o.stylesWithoutHost,!1),wb}function Db(s,o,l,h){return bb(s,o,l,h),wb(),Db}function Cb(s,o,l){const h=Ze(),f=_n(),_=s+22,D=f.firstCreatePass?function bE(s,o,l,h,f){const _=o.consts,D=po(_,h),T=gl(o,s,8,"ng-container",D);return null!==D&&Ef(T,D,!0),vm(o,l,T,po(_,f)),null!==o.queries&&o.queries.elementStart(o,T),T}(_,f,h,o,l):f.data[_];ps(D,!0);const T=h[_]=h[11].createComment("");return Cp(f,h,T,D),_s(T,h),Cl(D)&&(Vp(f,h,D),gm(f,D,h)),null!=l&&mm(h,D),Cb}function Ib(){let s=Xi();const o=_n();return tl()?Sl():(s=s.parent,ps(s,!1)),o.firstCreatePass&&(Ee(o,s),ho(s)&&o.queries.elementEnd(s)),Ib}function TD(s,o,l){return Cb(s,o,l),Ib(),TD}function wE(){return Ze()}function Tb(s){return!!s&&"function"==typeof s.then}function DE(s){return!!s&&"function"==typeof s.subscribe}const CE=DE;function Eb(s,o,l,h){const f=Ze(),_=_n(),D=Xi();return function TE(s,o,l,h,f,_,D,T){const E=Cl(h),L=s.firstCreatePass&&Tm(s),z=o[8],se=Nv(o);let me=!0;if(3&h.type||T){const yt=is(h,o),Rt=T?T(yt):yt,en=se.length,Ke=T?yi=>T(Gi(yi[h.index])):h.index;let nn=null;if(!T&&E&&(nn=function sO(s,o,l,h){const f=s.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const D=f[_];if(D===l&&f[_+1]===h){const T=o[7],E=f[_+2];return T.length>E?T[E]:null}"string"==typeof D&&(_+=2)}return null}(s,o,f,h.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=_,nn.__ngLastListenerFn__=_,me=!1;else{_=xE(h,o,z,_,!1);const yi=l.listen(Rt,f,_);se.push(_,yi),L&&L.push(f,Ke,en,en+1)}}else _=xE(h,o,z,_,!1);const $e=h.outputs;let lt;if(me&&null!==$e&&(lt=$e[f])){const yt=lt.length;if(yt)for(let Rt=0;Rt<yt;Rt+=2){const wr=o[lt[Rt]][lt[Rt+1]].subscribe(_),Hf=se.length;se.push(_,wr),L&&L.push(f,h.index,Hf,-(Hf+1))}}}(_,f,f[11],D,s,o,0,h),Eb}function EE(s,o,l,h){try{return!1!==l(h)}catch(f){return fb(s,f),!1}}function xE(s,o,l,h,f){return function _(D){if(D===Function)return h;Cm(2&s.flags?An(s.index,o):o);let E=EE(o,0,h,D),M=_.__ngNextListenerFn__;for(;M;)E=EE(o,0,M,D)&&E,M=M.__ngNextListenerFn__;return f&&!1===E&&(D.preventDefault(),D.returnValue=!1),E}}function ED(s=1){return function Ws(s){return(Zt.lFrame.contextLView=function gs(s,o){for(;s>0;)o=o[15],s--;return o}(s,Zt.lFrame.contextLView))[8]}(s)}function oO(s,o){let l=null;const h=function z_(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const _=o[f];if("*"!==_){if(null===h?vf(s,_,!0):Jl(h,_))return f}else l=f}return l}function SE(s){const o=Ze()[16][6];if(!o.projection){const h=o.projection=Jn(s?s.length:1,null),f=h.slice();let _=o.child;for(;null!==_;){const D=s?oO(_,s):0;null!==D&&(f[D]?f[D].projectionNext=_:h[D]=_,f[D]=_),_=_.next}}}function AE(s,o=0,l){const h=Ze(),f=_n(),_=gl(f,22+s,16,null,l||null);null===_.projection&&(_.projection=o),Sl(),64!=(64&_.flags)&&function M0(s,o,l){W_(o[11],0,o,l,jo(s,l,o),Yg(l.parent||o[6],l,o))}(f,h,_)}function os(s,o,l){return xb(s,"",o,"",l),os}function xb(s,o,l,h,f){const _=Ze(),D=Ur(_,o,l,h);return D!==on&&pa(_n(),Ti(),_,s,D,_[11],f,!1),xb}function xD(s,o,l,h,f,_,D){const T=Ze(),E=xr(T,o,l,h,f,_);return E!==on&&pa(_n(),Ti(),T,s,E,T[11],D,!1),xD}function MD(s,o,l,h,f){const _=s[l+1],D=null===o;let T=h?to(_):Qc(_),E=!1;for(;0!==T&&(!1===E||D);){const L=s[T+1];RE(s[T],o)&&(E=!0,s[T+1]=h?ec(L):im(L)),T=h?to(L):Qc(L)}E&&(s[l+1]=h?im(_):ec(_))}function RE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ma(s,o)>=0}const ks={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OD(s){return s.substring(ks.key,ks.keyEnd)}function FD(s,o){const l=ks.textEnd;return l===o?-1:(o=ks.keyEnd=function VE(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,ks.key=o,l),Gp(s,o,l))}function Gp(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function VD(s,o,l){return Hu(s,o,l,!1),VD}function BD(s,o){return Hu(s,o,null,!0),BD}function UE(s){!function ju(s,o,l,h){const f=_n(),_=Mo(2);f.firstUpdatePass&&GE(f,null,_,h);const D=Ze();if(l!==on&&Ot(D,_,l)){const T=f.data[_r()];if(WE(T,h)&&!$E(f,_)){let E=h?T.classesWithoutHost:T.stylesWithoutHost;null!==E&&(l=Se(E,l||"")),ID(f,T,D,l,h)}else!function pO(s,o,l,h,f,_,D,T){f===on&&(f=jt);let E=0,M=0,L=0<f.length?f[0]:null,z=0<_.length?_[0]:null;for(;null!==L||null!==z;){const se=E<f.length?f[E+1]:void 0,me=M<_.length?_[M+1]:void 0;let lt,$e=null;L===z?(E+=2,M+=2,se!==me&&($e=z,lt=me)):null===z||null!==L&&L<z?(E+=2,$e=L):(M+=2,$e=z,lt=me),null!==$e&&HE(s,o,l,h,$e,lt,D,T),L=E<f.length?f[E]:null,z=M<_.length?_[M]:null}}(f,T,D,D[11],D[_+1],D[_+1]=function fO(s,o,l){if(null==l||""===l)return jt;const h=[],f=Bo(l);if(Array.isArray(f))for(let _=0;_<f.length;_++)s(h,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&s(h,_,f[_]);else"string"==typeof f&&o(h,f);return h}(s,o,l),h,_)}}(nr,Od,s,!0)}function Od(s,o){for(let l=function kE(s){return function PD(s){ks.key=0,ks.keyEnd=0,ks.value=0,ks.valueEnd=0,ks.textEnd=s.length}(s),FD(s,Gp(s,0,ks.textEnd))}(o);l>=0;l=FD(o,l))nr(s,OD(o),!0)}function Hu(s,o,l,h){const f=Ze(),_=_n(),D=Mo(2);_.firstUpdatePass&&GE(_,s,D,h),o!==on&&Ot(f,D,o)&&HE(_,_.data[_r()],f,f[11],s,f[D+1]=function gO(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ae(Bo(s)))),s}(o,l),h,D)}function $E(s,o){return o>=s.expandoStartIndex}function GE(s,o,l,h){const f=s.data;if(null===f[l+1]){const _=f[_r()],D=$E(s,l);WE(_,h)&&null===o&&!D&&(o=!1),o=function cO(s,o,l,h){const f=function yc(s){const o=Zt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let _=h?o.residualClasses:o.residualStyles;if(null===f)0===(h?o.classBindings:o.styleBindings)&&(l=Ov(l=UD(null,s,o,l,h),o.attrs,h),_=null);else{const D=o.directiveStylingLast;if(-1===D||s[D]!==f)if(l=UD(f,s,o,l,h),null===_){let E=function uO(s,o,l){const h=l?o.classBindings:o.styleBindings;if(0!==Qc(h))return s[to(h)]}(s,o,h);void 0!==E&&Array.isArray(E)&&(E=UD(null,s,o,E[1],h),E=Ov(E,o.attrs,h),function dO(s,o,l,h){s[to(l?o.classBindings:o.styleBindings)]=h}(s,o,h,E))}else _=function hO(s,o,l){let h;const f=o.directiveEnd;for(let _=1+o.directiveStylingLast;_<f;_++)h=Ov(h,s[_].hostAttrs,l);return Ov(h,o.attrs,l)}(s,o,h)}return void 0!==_&&(h?o.residualClasses=_:o.residualStyles=_),l}(f,_,o,h),function ND(s,o,l,h,f,_){let D=_?o.classBindings:o.styleBindings,T=to(D),E=Qc(D);s[h]=l;let L,M=!1;if(Array.isArray(l)){const z=l;L=z[1],(null===L||Ma(z,L)>0)&&(M=!0)}else L=l;if(f)if(0!==E){const se=to(s[T+1]);s[h+1]=eo(se,T),0!==se&&(s[se+1]=rm(s[se+1],h)),s[T+1]=function av(s,o){return 131071&s|o<<17}(s[T+1],h)}else s[h+1]=eo(T,0),0!==T&&(s[T+1]=rm(s[T+1],h)),T=h;else s[h+1]=eo(E,0),0===T?T=h:s[E+1]=rm(s[E+1],h),E=h;M&&(s[h+1]=im(s[h+1])),MD(s,L,h,!0),MD(s,L,h,!1),function FE(s,o,l,h,f){const _=f?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof o&&Ma(_,o)>=0&&(l[h+1]=ec(l[h+1]))}(o,L,s,h,_),D=eo(T,E),_?o.classBindings=D:o.styleBindings=D}(f,_,o,l,D,h)}}function UD(s,o,l,h,f){let _=null;const D=l.directiveEnd;let T=l.directiveStylingLast;for(-1===T?T=l.directiveStart:T++;T<D&&(_=o[T],h=Ov(h,_.hostAttrs,f),_!==s);)T++;return null!==s&&(l.directiveStylingLast=T),h}function Ov(s,o,l){const h=l?1:2;let f=-1;if(null!==o)for(let _=0;_<o.length;_++){const D=o[_];"number"==typeof D?f=D:f===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),nr(s,D,!!l||o[++_]))}return void 0===s?null:s}function HE(s,o,l,h,f,_,D,T){if(!(3&o.type))return;const E=s.data,M=E[T+1];Mb(function sm(s){return 1==(1&s)}(M)?jE(E,o,l,f,Qc(M),D):void 0)||(Mb(_)||function ov(s){return 2==(2&s)}(M)&&(_=jE(E,null,l,f,T,D)),function $a(s,o,l,h,f){if(o)f?s.addClass(l,h):s.removeClass(l,h);else{let _=-1===h.indexOf("-")?void 0:Ql.DashCase;null==f?s.removeStyle(l,h,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=Ql.Important),s.setStyle(l,h,f,_))}}(h,D,xs(_r(),l),f,_))}function jE(s,o,l,h,f,_){const D=null===o;let T;for(;f>0;){const E=s[f],M=Array.isArray(E),L=M?E[1]:E,z=null===L;let se=l[f+1];se===on&&(se=z?jt:void 0);let me=z?Oc(se,h):L===h?se:void 0;if(M&&!Mb(me)&&(me=Oc(E,h)),Mb(me)&&(T=me,D))return T;const $e=s[f+1];f=D?to($e):Qc($e)}if(null!==o){let E=_?o.residualClasses:o.residualStyles;null!=E&&(T=Oc(E,h))}return T}function Mb(s){return void 0!==s}function WE(s,o){return 0!=(s.flags&(o?16:32))}function Ob(s,o=""){const l=Ze(),h=_n(),f=s+22,_=h.firstCreatePass?gl(h,f,1,o,null):h.data[f],D=l[f]=zg(l[11],o);Cp(h,l,D,_),ps(_,!1)}function GD(s){return Ha("",s,""),GD}function Ha(s,o,l){const h=Ze(),f=Ur(h,s,o,l);return f!==on&&ml(h,_r(),f),Ha}function hr(s,o,l,h,f){const _=Ze(),D=xr(_,s,o,l,h,f);return D!==on&&ml(_,_r(),D),hr}function ZD(s,o,l){const h=Ze();return Ot(h,_o(),o)&&pa(_n(),Ti(),h,s,o,h[11],l,!0),ZD}const jp=void 0;var ax=["en",[["a","p"],["AM","PM"],jp],[["AM","PM"],jp,jp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jp,"{1} 'at' {0}",jp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function YD(s){const l=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let Mf={};function Bv(s){const o=function Of(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Om(o);if(l)return l;const h=o.split("-")[0];if(l=Om(h),l)return l;if("en"===h)return ax;throw new Le(701,!1)}function KD(s){return Bv(s)[Xt.PluralCase]}function Om(s){return s in Mf||(Mf[s]=Vn.ng&&Vn.ng.common&&Vn.ng.common.locales&&Vn.ng.common.locales[s]),Mf[s]}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const cx=["zero","one","two","few","many"],Ff="en-US",Oh={marker:"element"},Uv={marker:"ICU"};var Yr=(()=>((Yr=Yr||{})[Yr.SHIFT=2]="SHIFT",Yr[Yr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Yr[Yr.COMMENT=2]="COMMENT",Yr))();let QD=Ff;function JD(s){(function ln(s,o){null==s&&dt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(QD=s.toLowerCase().replace(/_/g,"-"))}function eC(s,o,l){const h=o.insertBeforeIndex,f=Array.isArray(h)?h[0]:h;return null===f?vh(s,0,l):Gi(l[f])}function Pb(s,o,l,h,f){const _=o.insertBeforeIndex;if(Array.isArray(_)){let D=h,T=null;if(3&o.type||(T=D,D=f),null!==D&&0==(2&o.flags))for(let E=1;E<_.length;E++)Rs(s,D,l[_[E]],T,!1)}}function tC(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const h=s[l];kb(h)||Lb(h,o)&&null===Vb(h)&&nC(h,o.index)}}function kb(s){return!(64&s.type)}function Lb(s,o){return kb(o)||s.index>o.index}function Vb(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function nC(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(Qg(eC,Pb),s.insertBeforeIndex=o)}function Fm(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function bO(s,o,l){const h=fm(s,l,64,null,null);return tC(o,h),h}function Ub(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function $b(s){return s>>>17}function iC(s){return(131070&s)>>>1}let Wp=0,zp=0;function fx(s,o,l,h){const f=l[11];let D,_=null;for(let T=0;T<o.length;T++){const E=o[T];if("string"==typeof E){const M=o[++T];null===l[M]&&(l[M]=zg(f,E))}else if("number"==typeof E)switch(1&E){case 0:const M=$b(E);let L,z;if(null===_&&(_=M,D=ku(f,h)),M===_?(L=h,z=D):(L=null,z=Gi(l[M])),null!==z){const lt=iC(E);Rs(f,z,l[lt],L,!1);const Rt=Fm(s,lt);if(null!==Rt&&"object"==typeof Rt){const en=Ub(Rt,l);null!==en&&fx(s,Rt.create[en],l,l[Rt.anchorIdx])}}break;case 1:const me=o[++T],$e=o[++T];wm(f,xs(E>>>1,l),null,null,me,$e,null)}else switch(E){case Uv:const M=o[++T],L=o[++T];null===l[L]&&_s(l[L]=tD(f,M),l);break;case Oh:const z=o[++T],se=o[++T];null===l[se]&&_s(l[se]=qg(f,z,null),l)}}}function px(s,o,l,h,f){for(let _=0;_<l.length;_++){const D=l[_],T=l[++_];if(D&f){let E="";for(let M=_+1;M<=_+T;M++){const L=l[M];if("string"==typeof L)E+=L;else if("number"==typeof L)if(L<0)E+=Ne(o[h-L]);else{const z=L>>>2;switch(3&L){case 1:const se=l[++M],me=l[++M],$e=s.data[z];"string"==typeof $e?wm(o[11],o[z],null,$e,se,E,me):pa(s,$e,o,se,E,o[11],me,!1);break;case 0:const lt=o[z];null!==lt&&$_(o[11],lt,E);break;case 2:gx(s,Fm(s,z),o,E);break;case 3:Hb(s,Fm(s,z),h,o)}}}}else{const E=l[_+1];if(E>0&&3==(3&E)){const L=Fm(s,E>>>2);o[L.currentCaseLViewIndex]<0&&Hb(s,L,h,o)}}_+=T}}function Hb(s,o,l,h){let f=h[o.currentCaseLViewIndex];if(null!==f){let _=Wp;f<0&&(f=h[o.currentCaseLViewIndex]=~f,_=-1),px(s,h,o.update[f],l,_)}}function gx(s,o,l,h){const f=function mx(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const h=function ux(s,o){const l=KD(o)(parseInt(s,10)),h=cx[l];return void 0!==h?h:"other"}(o,function XD(){return QD}());l=s.cases.indexOf(h),-1===l&&"other"!==h&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,h);if(Ub(o,l)!==f&&(lC(s,o,l),l[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const D=l[o.anchorIdx];D&&fx(s,o.create[f],l,D)}}function lC(s,o,l){let h=Ub(o,l);if(null!==h){const f=o.remove[h];for(let _=0;_<f.length;_++){const D=f[_];if(D>0){const T=xs(D,l);null!==T&&j_(l[11],T)}else lC(s,Fm(s,~D),l)}}}function _x(){const s=[];let l,h,o=-1;function _(T,E){o=0;const M=Ub(T,E);h=null!==M?T.remove[M]:jt}function D(){if(o<h.length){const T=h[o++];return T>0?l[T]:(s.push(o,h),_(l[1].data[~T],l),D())}return 0===s.length?null:(h=s.pop(),o=s.pop(),D())}return function f(T,E){for(l=E;s.length;)s.pop();return _(T.value,E),D}}const jb=/\ufffd(\d+):?\d*\ufffd/gi,cC=/\ufffd(\d+)\ufffd/,bx=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,uC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,IO=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,TO=/\uE500/g;function wx(s,o,l,h,f,_,D){const T=Eh(s,h,1,null);let E=T<<Yr.SHIFT,M=el();o===M&&(M=null),null===M&&(E|=Yr.APPEND_EAGERLY),D&&(E|=Yr.COMMENT,function C0(s){void 0===hf&&(hf=s())}(_x)),f.push(E,null===_?"":_);const L=fm(s,T,D?32:1,null===_?"":_,null);tC(l,L);const z=L.index;return ps(L,!1),null!==M&&o!==M&&function Bb(s,o){let l=s.insertBeforeIndex;null===l?(Qg(eC,Pb),l=s.insertBeforeIndex=[null,o]):(function Oe(s,o,l){s!=o&&dt(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(M,z),L}function xO(s,o,l,h,f,_,D){const T=D.match(jb),E=wx(s,o,l,_,h,T?null:D,!1);T&&Rm(f,D,E.index,null,0,null)}function Rm(s,o,l,h,f,_){const D=s.length,T=D+1;s.push(null,null);const E=D+2,M=o.split(jb);let L=0;for(let z=0;z<M.length;z++){const se=M[z];if(1&z){const me=f+parseInt(se,10);s.push(-1-me),L|=Dx(me)}else""!==se&&s.push(se)}return s.push(l<<2|(h?1:0)),h&&s.push(h,_),s[D]=L,s[T]=s.length-E,L}function Dx(s){return 1<<Math.min(s,31)}function Ix(s){let o,_,l="",h=0,f=!1;for(;null!==(o=uC.exec(s));)f?o[0]===`\ufffd/*${_}\ufffd`&&(h=o.index,f=!1):(l+=s.substring(h,o.index+o[0].length),_=o[1],f=!0);return l+=s.slice(h),l}function Wb(s,o,l,h,f,_){let D=0;const T={type:f.type,currentCaseLViewIndex:Eh(s,o,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function zb(s,o,l){s.push(Dx(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,f,_),function hx(s,o,l){const h=s.data[o];null===h?s.data[o]=l:h.value=l}(s,_,T);const E=f.values;for(let M=0;M<E.length;M++){const L=E[M],z=[];for(let se=0;se<L.length;se++){const me=L[se];if("string"!=typeof me){const $e=z.push(me)-1;L[se]=`\x3c!--\ufffd${$e}\ufffd--\x3e`}}D=OO(s,T,o,l,h,f.cases[M],L.join(""),z)|D}D&&function xx(s,o,l){s.push(o,1,l<<2|3)}(l,D,_)}function MO(s){const o=[],l=[];let h=1,f=0;const _=hC(s=s.replace(bx,function(D,T,E){return h="select"===E?0:1,f=parseInt(T.slice(1),10),""}));for(let D=0;D<_.length;){let T=_[D++].trim();1===h&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&o.push(T);const E=hC(_[D++]);o.length>l.length&&l.push(E)}return{type:h,mainBinding:f,cases:o,values:l}}function hC(s){if(!s)return[];let o=0;const l=[],h=[],f=/[{}]/g;let _;for(f.lastIndex=0;_=f.exec(s);){const T=_.index;if("}"==_[0]){if(l.pop(),0==l.length){const E=s.substring(o,T);bx.test(E)?h.push(MO(E)):h.push(E),o=T+1}}else{if(0==l.length){const E=s.substring(o,T);h.push(E),o=T+1}l.push("{")}}const D=s.substring(o);return h.push(D),h}function OO(s,o,l,h,f,_,D,T){const E=[],M=[],L=[];o.cases.push(_),o.create.push(E),o.remove.push(M),o.update.push(L);const se=Ai(rr()).getInertBodyElement(D),me=xu(se)||se;return me?Tx(s,o,l,h,E,M,L,me,f,T,0):0}function Tx(s,o,l,h,f,_,D,T,E,M,L){let z=0,se=T.firstChild;for(;se;){const me=Eh(s,l,1,null);switch(se.nodeType){case Node.ELEMENT_NODE:const $e=se,lt=$e.tagName.toLowerCase();if(ha.hasOwnProperty(lt)){qb(f,Oh,lt,E,me),s.data[me]=lt;const Ke=$e.attributes;for(let nn=0;nn<Ke.length;nn++){const yi=Ke.item(nn),wr=yi.name.toLowerCase();yi.value.match(jb)?Iu.hasOwnProperty(wr)&&Rm(D,yi.value,me,yi.name,0,nh[wr]?Qs:null):pC(f,me,yi)}z=Tx(s,o,l,h,f,_,D,se,me,M,L+1)|z,Ex(_,me,L)}break;case Node.TEXT_NODE:const yt=se.textContent||"",Rt=yt.match(jb);qb(f,null,Rt?"":yt,E,me),Ex(_,me,L),Rt&&(z=Rm(D,yt,me,null,0,null)|z);break;case Node.COMMENT_NODE:const en=cC.exec(se.textContent||"");if(en){const nn=M[parseInt(en[1],10)];qb(f,Uv,"",E,me),Wb(s,l,h,E,nn,me),fC(_,me,L)}}se=se.nextSibling}return z}function Ex(s,o,l){0===l&&s.push(o)}function fC(s,o,l){0===l&&(s.push(~o),s.push(o))}function qb(s,o,l,h,f){null!==o&&s.push(o),s.push(l,f,function rC(s,o,l){return s|o<<17|l<<1}(0,h,f))}function pC(s,o,l){s.push(o<<1|1,l.name,l.value)}function Ax(s,o,l=-1){const h=_n(),f=Ze(),_=22+s,D=po(h.consts,o),T=el();h.firstCreatePass&&function EO(s,o,l,h,f,_){const D=el(),T=[],E=[],M=[[]];f=function NO(s,o){if(function Cx(s){return-1===s}(o))return Ix(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,h=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Ix(s.substring(l,h))}}(f,_);const L=function dC(s){return s.replace(TO," ")}(f).split(IO);for(let z=0;z<L.length;z++){let se=L[z];if(0==(1&z)){const me=hC(se);for(let $e=0;$e<me.length;$e++){let lt=me[$e];if(0==(1&$e)){const yt=lt;""!==yt&&xO(s,D,M[0],T,E,l,yt)}else{const yt=lt;if("object"!=typeof yt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Wb(s,l,E,o,yt,wx(s,D,M[0],l,T,"",!0).index)}}}else{const me=47===se.charCodeAt(0),lt=(se.charCodeAt(me?1:0),22+Number.parseInt(se.substring(me?2:1)));if(me)M.shift(),ps(el(),!1);else{const yt=bO(s,M[0],lt);M.unshift([]),ps(yt,!0)}}}s.data[h]={create:T,update:E}}(h,null===T?0:T.index,f,_,D,l);const E=h.data[_],L=Ua(h,T===f[6]?null:T,f);(function aC(s,o,l,h){const f=s[11];for(let _=0;_<o.length;_++){const D=o[_++],T=o[_],E=(D&Yr.COMMENT)===Yr.COMMENT,M=(D&Yr.APPEND_EAGERLY)===Yr.APPEND_EAGERLY,L=D>>>Yr.SHIFT;let z=s[L];null===z&&(z=s[L]=E?f.createComment(T):zg(f,T)),M&&null!==l&&Rs(f,l,z,h,!1)}})(f,E.create,L,T&&8&T.type?f[T.index]:null),vc(!0)}function Nx(s,o,l){Ax(s,o,l),function Yb(){vc(!1)}()}function gC(s){return function sC(s){s&&(Wp|=1<<Math.min(zp,31)),zp++}(Ot(Ze(),_o(),s)),gC}function Mx(s){!function oC(s,o,l){if(zp>0){const h=s.data[l];px(s,o,Array.isArray(h)?h:h.update,ji()-zp-1,Wp)}Wp=0,zp=0}(_n(),Ze(),s+22)}function mC(s,o,l,h,f){if(s=ce(s),Array.isArray(s))for(let _=0;_<s.length;_++)mC(s[_],o,l,h,f);else{const _=_n(),D=Ze();let T=jl(s)?s:ce(s.provide),E=Ou(s);const M=Xi(),L=1048575&M.providerIndexes,z=M.directiveStart,se=M.providerIndexes>>20;if(jl(s)||!s.multi){const me=new Ea(E,f,Th),$e=Qb(T,o,f?L:L+se,z);-1===$e?(vo(al(M,D),_,T),_C(_,s,o.length),o.push(T),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),l.push(me),D.push(me)):(l[$e]=me,D[$e]=me)}else{const me=Qb(T,o,L+se,z),$e=Qb(T,o,L,L+se),lt=me>=0&&l[me],yt=$e>=0&&l[$e];if(f&&!yt||!f&&!lt){vo(al(M,D),_,T);const Rt=function Rx(s,o,l,h,f){const _=new Ea(s,l,Th);return _.multi=[],_.index=o,_.componentProviders=0,Kb(_,f,h&&!l),_}(f?Fx:Ox,l.length,f,h,E);!f&&yt&&(l[$e].providerFactory=Rt),_C(_,s,o.length,0),o.push(T),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),l.push(Rt),D.push(Rt)}else _C(_,s,me>-1?me:$e,Kb(l[f?$e:me],E,!f&&h));!f&&h&&yt&&l[$e].componentProviders++}}}function _C(s,o,l,h){const f=jl(o),_=function Go(s){return!!s.useClass}(o);if(f||_){const E=(_?ce(o.useClass):o).prototype.ngOnDestroy;if(E){const M=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const L=M.indexOf(l);-1===L?M.push(l,[h,E]):M[L+1].push(h,E)}else M.push(l,E)}}}function Kb(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Qb(s,o,l,h){for(let f=l;f<h;f++)if(o[f]===s)return f;return-1}function Ox(s,o,l,h){return Jb(this.multi,[])}function Fx(s,o,l,h){const f=this.multi;let _;if(this.providerFactory){const D=this.providerFactory.componentProviders,T=sa(l,l[1],this.providerFactory.index,h);_=T.slice(0,D),Jb(f,_);for(let E=D;E<T.length;E++)_.push(T[E])}else _=[],Jb(f,_);return _}function Jb(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function vC(s,o=[]){return l=>{l.providersResolver=(h,f)=>function GO(s,o,l){const h=_n();if(h.firstCreatePass){const f=gr(s);mC(l,h.data,h.blueprint,f,!0),mC(o,h.data,h.blueprint,f,!1)}}(h,f?f(s):s,o)}}class qp{}class yC{}function Px(s,o){return new kx(s,o??null)}class kx extends qp{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xf(this);const h=jr(o);this._bootstrapComponents=Kl(h.bootstrap),this._r3Injector=tm(o,l,[{provide:qp,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],Ae(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Xb extends yC{constructor(o){super(),this.moduleType=o}create(o){return new kx(this.moduleType,o)}}class jO extends qp{constructor(o,l,h){super(),this.componentFactoryResolver=new xf(this),this.instance=null;const f=new Do([...o,{provide:qp,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],l||Nu(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ew(s,o,l=null){return new jO(s,o,l).injector}let Lx=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=bd(0,l.type),f=h.length>0?ew([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=pn({token:s,providedIn:"environment",factory:()=>new s(ir(ql))}),s})();function bC(s){s.getStandaloneInjector=o=>o.get(Lx).getOrCreateStandaloneInjector(s)}function rw(s,o,l,h){return ow(Ze(),Hi(),s,o,l,h)}function km(s,o,l,h,f){return function EC(s,o,l,h,f,_,D){const T=o+l;return dn(s,T,f,_)?ft(s,T+2,D?h.call(D,f,_):h(f,_)):Pf(s,T+2)}(Ze(),Hi(),s,o,l,h,f)}function sw(s,o,l,h,f,_){return function Wv(s,o,l,h,f,_,D,T){const E=o+l;return function Jt(s,o,l,h,f){const _=dn(s,o,l,h);return Ot(s,o+2,f)||_}(s,E,f,_,D)?ft(s,E+3,T?h.call(T,f,_,D):h(f,_,D)):Pf(s,E+3)}(Ze(),Hi(),s,o,l,h,f,_)}function Pf(s,o){const l=s[o];return l===on?void 0:l}function ow(s,o,l,h,f,_){const D=o+l;return Ot(s,D,f)?ft(s,D+1,_?h.call(_,f):h(f)):Pf(s,D+1)}function xC(s,o){const l=_n();let h;const f=s+22;l.firstCreatePass?(h=function Yp(s,o){if(o)for(let l=o.length-1;l>=0;l--){const h=o[l];if(s===h.name)return h}}(o,l.pipeRegistry),l.data[f]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,h.onDestroy)):h=l.data[f];const _=h.factory||(h.factory=So(h.type)),D=Cn(Th);try{const T=Rl(!1),E=_();return Rl(T),function iO(s,o,l,h){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=h}(l,Ze(),f,E),E}finally{Cn(D)}}function SC(s,o,l){const h=s+22,f=Ze(),_=No(f,h);return function zv(s,o){return s[1].data[o].pure}(f,h)?ow(f,Hi(),o,_.transform,l,_):_.transform(l)}function zu(s){return o=>{setTimeout(s,void 0,o)}}const nc=class Io extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,h){let f=o,_=l||(()=>null),D=h;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),_=E.error?.bind(E),D=E.complete?.bind(E)}this.__isAsync&&(_=zu(_),f&&(f=zu(f)),D&&(D=zu(D)));const T=super.subscribe({next:f,error:_,complete:D});return o instanceof P.w0&&o.add(T),T}};function Wx(){return this._results[G()]()}class aw{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=G(),h=aw.prototype;h[l]||(h[l]=Wx)}get changes(){return this._changes||(this._changes=new nc)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const h=this;h.dirty=!1;const f=qr(o);(this._changesDetected=!function Ns(s,o,l){if(s.length!==o.length)return!1;for(let h=0;h<s.length;h++){let f=s[h],_=o[h];if(l&&(f=l(f),_=l(_)),_!==f)return!1}return!0}(h._results,f,l))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kp=(()=>{class s{}return s.__NG_ELEMENT_ID__=FC,s})();const OC=Kp,zx=class extends OC{constructor(o,l,h){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(o,l){const h=this._declarationTContainer.tViews,f=hm(this._declarationLView,h,o,16,null,h.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(f[19]=D.createEmbeddedView(h)),pm(h,f,o),new Bp(f)}};function FC(){return qv(Xi(),Ze())}function qv(s,o){return 4&s.type?new zx(o,s,O(s,o)):null}let Vm=(()=>{class s{}return s.__NG_ELEMENT_ID__=RC,s})();function RC(){return PC(Xi(),Ze())}const Zv=Vm,Rh=class extends Zv{constructor(o,l,h){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=h}get element(){return O(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const o=ll(this._hostTNode,this._hostLView);if(Ic(o)){const l=Fl(o,this._hostLView),h=xi(o);return new oa(l[1].data[h+8],l)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=kn(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,h){let f,_;"number"==typeof h?f=h:null!=h&&(f=h.index,_=h.injector);const D=o.createEmbeddedView(l||{},_);return this.insert(D,f),D}createComponent(o,l,h,f,_){const D=o&&!function Hn(s){return"function"==typeof s}(o);let T;if(D)T=l;else{const z=l||{};T=z.index,h=z.injector,f=z.projectableNodes,_=z.environmentInjector||z.ngModuleRef}const E=D?o:new Sh(sn(o)),M=h||this.parentInjector;if(!_&&null==E.ngModule){const se=(D?M:this.parentInjector).get(ql,null);se&&(_=se)}const L=E.create(M,f,void 0,_);return this.insert(L.hostView,T),L}insert(o,l){const h=o._lView,f=h[1];if(function rs(s){return Ji(s[3])}(h)){const L=this.indexOf(o);if(-1!==L)this.detach(L);else{const z=h[3],se=new Rh(z,z[6],z[3]);se.detach(se.indexOf(o))}}const _=this._adjustIndex(l),D=this._lContainer;!function S0(s,o,l,h){const f=10+h,_=l.length;h>0&&(l[f-1][4]=o),h<_-10?(o[4]=l[f],vr(l,10+h,o)):(l.push(o),o[4]=null),o[3]=l;const D=o[17];null!==D&&l!==D&&function oD(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(D,o);const T=o[19];null!==T&&T.insertView(s),o[2]|=64}(f,h,D,_);const T=yh(_,D),E=h[11],M=ku(E,D[7]);return null!==M&&function iD(s,o,l,h,f,_){h[0]=f,h[6]=o,_f(s,h,l,1,f,_)}(f,D[6],E,h,M,T),o.attachToViewContainerRef(),vr(kf(D),_,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=kn(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),h=Zg(this._lContainer,l);h&&(li(kf(this._lContainer),l),ff(h[1],h))}detach(o){const l=this._adjustIndex(o,-1),h=Zg(this._lContainer,l);return h&&null!=li(kf(this._lContainer),l)?new Bp(h):null}_adjustIndex(o,l=0){return o??this.length+l}};function kn(s){return s[8]}function kf(s){return s[8]||(s[8]=[])}function PC(s,o){let l;const h=o[s.index];if(Ji(h))l=h;else{let f;if(8&s.type)f=Gi(h);else{const _=o[11];f=_.createComment("");const D=is(s,o);Rs(_,ku(_,D),f,function N0(s,o){return s.nextSibling(o)}(_,D),!1)}o[s.index]=l=ub(h,o,f,s),xh(o,l)}return new Rh(l,s,o)}class Bm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Bm(this.queryList)}setDirty(){this.queryList.setDirty()}}class lw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const h=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let _=0;_<h;_++){const D=l.getByIndex(_);f.push(this.queries[D.indexInDeclarationView].clone())}return new lw(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==$C(o,l).matches&&this.queries[l].setDirty()}}class Um{constructor(o,l,h=null){this.predicate=o,this.flags=l,this.read=h}}class Vf{constructor(o=[]){this.queries=o}elementStart(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let h=0;h<this.length;h++){const f=null!==l?l.length:0,_=this.getByIndex(h).embeddedTView(o,f);_&&(_.indexInDeclarationView=h,null!==l?l.push(_):l=[_])}return null!==l?new Vf(l):null}template(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Yv{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Yv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=o.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const _=h[f];this.matchTNodeWithReadOption(o,l,Kv(l,_)),this.matchTNodeWithReadOption(o,l,tr(l,o,_,!1,!1))}else h===Kp?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,tr(l,o,h,!1,!1))}matchTNodeWithReadOption(o,l,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===B||f===Vm||f===Kp&&4&l.type)this.addMatch(l.index,-2);else{const _=tr(l,o,f,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,h)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Kv(s,o){const l=s.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===o)return l[h+1];return null}function cw(s,o,l,h){return-1===l?function Yx(s,o){return 11&s.type?O(s,o):4&s.type?qv(s,o):null}(o,s):-2===l?function Qv(s,o,l){return l===B?O(o,s):l===Kp?qv(o,s):l===Vm?PC(o,s):void 0}(s,o,h):sa(s,s[1],l,o)}function uw(s,o,l,h){const f=o[19].queries[h];if(null===f.matches){const _=s.data,D=l.matches,T=[];for(let E=0;E<D.length;E+=2){const M=D[E];T.push(M<0?null:cw(o,_[M],D[E+1],l.metadata.read))}f.matches=T}return f.matches}function Jv(s,o,l,h){const f=s.queries.getByIndex(l),_=f.matches;if(null!==_){const D=uw(s,o,f,l);for(let T=0;T<_.length;T+=2){const E=_[T];if(E>0)h.push(D[T/2]);else{const M=_[T+1],L=o[-E];for(let z=10;z<L.length;z++){const se=L[z];se[17]===se[3]&&Jv(se[1],se,M,h)}if(null!==L[9]){const z=L[9];for(let se=0;se<z.length;se++){const me=z[se];Jv(me[1],me,M,h)}}}}}return h}function kC(s){const o=Ze(),l=_n(),h=Ta();bc(h+1);const f=$C(l,h);if(s.dirty&&function zr(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const _=f.crossesNgTemplate?Jv(l,o,h,[]):uw(l,o,f,h);s.reset(_,le),s.notifyOnChanges()}return!0}return!1}function LC(s,o,l){const h=_n();h.firstCreatePass&&(UC(h,new Um(s,o,l),-1),2==(2&o)&&(h.staticViewQueries=!0)),BC(h,Ze(),o)}function VC(s,o,l,h){const f=_n();if(f.firstCreatePass){const _=Xi();UC(f,new Um(o,l,h),_.index),function Qx(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}BC(f,Ze(),l)}function $m(){return function Kx(s,o){return s[19].queries[o].queryList}(Ze(),Ta())}function BC(s,o,l){const h=new aw(4==(4&l));yv(s,o,h,h.destroy),null===o[19]&&(o[19]=new lw),o[19].queries.push(new Bm(h))}function UC(s,o,l){null===s.queries&&(s.queries=new Vf),s.queries.track(new Yv(o,l))}function $C(s,o){return s.queries.getByIndex(o)}function Xv(s,o){return qv(s,o)}function ng(...s){}const ig=new fi("Application Initializer");let ry=(()=>{class s{constructor(l){this.appInits=l,this.resolve=ng,this.reject=ng,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(Tb(_))l.push(_);else if(CE(_)){const D=new Promise((T,E)=>{_.subscribe({complete:T,error:E})});l.push(D)}}Promise.all(l).then(()=>{h()}).catch(f=>{this.reject(f)}),0===l.length&&h(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ir(ig,8))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const nI=new fi("AppId",{providedIn:"root",factory:function sy(){return`${oy()}${oy()}${oy()}`}});function oy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bw=new fi("Platform Initializer"),iI=new fi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rI=new fi("appBootstrapListener");let Dw=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ly=new fi("LocaleId",{providedIn:"root",factory:()=>x(ly,mt.Optional|mt.SkipSelf)||function dS(){return typeof $localize<"u"&&$localize.locale||Ff}()}),Cw=new fi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class XO{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let eF=(()=>{class s{compileModuleSync(l){return new Xb(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),_=Kl(jr(l).declarations).reduce((D,T)=>{const E=sn(T);return E&&D.push(new Sh(E)),D},[]);return new XO(h,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const jm=(()=>Promise.resolve(0))();function Tw(s){typeof Zone>"u"?jm.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class _l{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&l,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function pS(){let s=Vn.requestAnimationFrame,o=Vn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const h=o[Zone.__symbol__("OriginalDelegate")];h&&(o=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function rg(s){const o=()=>{!function gS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Vn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Gf(s),s.isCheckStableRunning=!0,Ew(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Gf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,f,_,D,T)=>{try{return oI(s),l.invokeTask(f,_,D,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&o(),aI(s)}},onInvoke:(l,h,f,_,D,T,E)=>{try{return oI(s),l.invoke(f,_,D,T,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),aI(s)}},onHasTask:(l,h,f,_)=>{l.hasTask(f,_),h===f&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,Gf(s),Ew(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,h,f,_)=>(l.handleError(f,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_l.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(_l.isInAngularZone())throw new Le(909,!1)}run(o,l,h){return this._inner.run(o,l,h)}runTask(o,l,h,f){const _=this._inner,D=_.scheduleEventTask("NgZoneEvent: "+f,o,uy,ng,ng);try{return _.runTask(D,l,h)}finally{_.cancelTask(D)}}runGuarded(o,l,h){return this._inner.runGuarded(o,l,h)}runOutsideAngular(o){return this._outer.run(o)}}const uy={};function Ew(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Gf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function oI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function aI(s){s._nesting--,Ew(s)}class Wm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(o,l,h){return o.apply(l,h)}runGuarded(o,l,h){return o.apply(l,h)}runOutsideAngular(o){return o()}runTask(o,l,h,f){return o.apply(l,h)}}const sg=new fi(""),lI=new fi("");let xw,mS=(()=>{class s{constructor(l,h,f){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xw||(function _S(s){xw=s}(f),f.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_l.assertNotInAngularZone(),Tw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tw(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,f){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==_),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:f})}whenStable(l,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(ir(_l),ir(cI),ir(lI))},s.\u0275prov=pn({token:s,factory:s.\u0275fac}),s})(),cI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return xw?.findTestabilityInTree(this,l,h)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),kh=null;const vS=new fi("AllowMultipleToken"),Sw=new fi("PlatformDestroyListeners");class bS{constructor(o,l){this.name=o,this.token=l}}function dI(s,o,l=[]){const h=`Platform: ${o}`,f=new fi(h);return(_=[])=>{let D=Aw();if(!D||D.injector.get(vS,!1)){const T=[...l,..._,{provide:f,useValue:!0}];s?s(T):function wS(s){if(kh&&!kh.get(vS,!1))throw new Le(400,!1);kh=s;const o=s.get(hy);(function uI(s){const o=s.get(bw,null);o&&o.forEach(l=>l())})(s)}(function hI(s=[],o){return vs.create({name:o,providers:[{provide:Wl,useValue:"platform"},{provide:Sw,useValue:new Set([()=>kh=null])},...s]})}(T,h))}return function CS(s){const o=Aw();if(!o)throw new Le(401,!1);return o}()}}function Aw(){return kh?.get(hy)??null}let hy=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const f=function fy(s,o){let l;return l="noop"===s?new Wm:("zone.js"===s?void 0:s)||new _l(o),l}(h?.ngZone,function Nw(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:_l,useValue:f}];return f.run(()=>{const D=vs.create({providers:_,parent:this.injector,name:l.moduleType.name}),T=l.create(D),E=T.injector.get(Td,null);if(!E)throw new Le(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:L=>{E.handleError(L)}});T.onDestroy(()=>{gy(this._modules,T),M.unsubscribe()})}),function qm(s,o,l){try{const h=l();return Tb(h)?h.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):h}catch(h){throw o.runOutsideAngular(()=>s.handleError(h)),h}}(E,f,()=>{const M=T.injector.get(ry);return M.runInitializers(),M.donePromise.then(()=>(JD(T.injector.get(ly,Ff)||Ff),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,h=[]){const f=fI({},h);return function dy(s,o,l){const h=new Xb(l);return Promise.resolve(h)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(l){const h=l.injector.get(py);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Le(403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(Sw,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ir(vs))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function fI(s,o){return Array.isArray(o)?o.reduce(fI,s):{...s,...o}}let py=(()=>{class s{constructor(l,h,f){this._zone=l,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new j.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new j.y(T=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{_l.assertNotInAngularZone(),Tw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{_l.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ye.T)(_,D.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const f=l instanceof qc;if(!this._injector.get(ry).done)throw!f&&ls(l),new Le(405,false);let D;D=f?l:this._injector.get(v).resolveComponentFactory(l),this.componentTypes.push(D.componentType);const T=function yS(s){return s.isBoundToModule}(D)?void 0:this._injector.get(qp),M=D.create(vs.NULL,[],h||D.selector,T),L=M.location.nativeElement,z=M.injector.get(sg,null);return z?.registerApplication(L),M.onDestroy(()=>{this.detachView(M.hostView),gy(this.components,M),z?.unregisterApplication(L)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;gy(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(rI,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>gy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Le(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(ir(_l),ir(ql),ir(Td))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function gy(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let Mw=!0,Ow=!1;function _y(){return Ow=!0,Mw}function vy(){if(Ow)throw new Error("Cannot enable prod mode after platform setup.");Mw=!1}let ES=(()=>{class s{}return s.__NG_ELEMENT_ID__=xS,s})();function xS(s){return function SS(s,o,l){if(fs(s)&&!l){const h=An(s.index,o);return new Bp(h,h)}return 47&s.type?new Bp(o[16],o):null}(Xi(),Ze(),16==(16&s))}class vI{constructor(){}supports(o){return re(o)}create(o){return new Pw(o)}}const yI=(s,o)=>o;class Pw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||yI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,h=this._removalsHead,f=0,_=null;for(;l||h;){const D=!h||l&&l.currentIndex<DI(h,f,_)?l:h,T=DI(D,f,_),E=D.currentIndex;if(D===h)f--,h=h._nextRemoved;else if(l=l._next,null==D.previousIndex)f++;else{_||(_=[]);const M=T-f,L=E-f;if(M!=L){for(let se=0;se<M;se++){const me=se<_.length?_[se]:_[se]=0,$e=me+se;L<=$e&&$e<M&&(_[se]=me+1)}_[D.previousIndex]=L-M}}T!==E&&o(D,T,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!re(o))throw new Le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,_,D,l=this._itHead,h=!1;if(Array.isArray(o)){this.length=o.length;for(let T=0;T<this.length;T++)_=o[T],D=this._trackByFn(T,_),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,_,D,T)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,D,T),h=!0),l=l._next}else f=0,function je(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[G()]();let h;for(;!(h=l.next()).done;)o(h.value)}}(o,T=>{D=this._trackByFn(f,T),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,T,D,f)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,D,f),h=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,h,f){let _;return null===o?_=this._itTail:(_=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,_,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,_,f)):o=this._addAfter(new bI(l,h),_,f),o}_verifyReinsertion(o,l,h,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?o=this._reinsertAfter(_,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,_=o._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(o,l,h),this._addToMoves(o,h),o}_moveAfter(o,l,h){return this._unlink(o),this._insertAfter(o,l,h),this._addToMoves(o,h),o}_addAfter(o,l,h){return this._insertAfter(o,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,h){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new OS),this._linkedRecords.put(o),o.currentIndex=h,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,h=o._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OS),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bI{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,o))return h;return null}remove(o){const l=o._prevDup,h=o._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class OS{constructor(){this.map=new Map}put(o){const l=o.trackById;let h=this.map.get(l);h||(h=new wI,this.map.set(l,h)),h.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DI(s,o,l){const h=s.previousIndex;if(null===h)return h;let f=0;return l&&h<l.length&&(f=l[h]),h+o+f}class CI{constructor(){}supports(o){return o instanceof Map||qe(o)}create(){return new FS}}class FS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||qe(o)))throw new Le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(h,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(f,h);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const h=o._prev;return l._next=o,l._prev=h,o._prev=l,h&&(h._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const _=f._prev,D=f._next;return _&&(_._next=D),D&&(D._prev=_),f._next=null,f._prev=null,f}const h=new RS(o);return this._records.set(o,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(h=>l(o[h],h))}}class RS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zm(){return new Ey([new vI])}let Ey=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(null!=h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||Zm()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(null!=h)return h;throw new Le(901,!1)}}return s.\u0275prov=pn({token:s,providedIn:"root",factory:Zm}),s})();function xy(){return new kw([new CI])}let kw=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||xy()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(h)return h;throw new Le(901,!1)}}return s.\u0275prov=pn({token:s,providedIn:"root",factory:xy}),s})();const kS=dI(null,"core",[]);let LS=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ir(py))},s.\u0275mod=Pt({type:s}),s.\u0275inj=cn({}),s})();function VS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function mF(s,o){const l=sn(s),h=o.elementInjector||Nu();return new Sh(l).create(h,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(xt,Ge,H)=>{"use strict";H.d(Ge,{Z:()=>Le});var c=H(2090),P=H(4859),j=H(9681),ye=H(1877);class ge{constructor(Ne,Me){this._delegate=Ne,this.firebase=Me,(0,j._addComponent)(Ne,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Ne,Me=j._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Tt=this._delegate.container.getProvider(Ne);return!Tt.isInitialized()&&"EXPLICIT"===(null===(st=Tt.getComponent())||void 0===st?void 0:st.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:Me})}_removeServiceInstance(Ne,Me=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(Me)}_addComponent(Ne){(0,j._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,j._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Se(){const ct=function Ae(ct){const Ne={},Me={__esModule:!0,initializeApp:function He(ut,Q={}){const Oe=j.initializeApp(ut,Q);if((0,c.r3)(Ne,Oe.name))return Ne[Oe.name];const ae=new ct(Oe,Me);return Ne[Oe.name]=ae,ae},app:Tt,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function ke(ut){const Q=ut.name,Oe=Q.replace("-compat","");if(j._registerComponent(ut)&&"PUBLIC"===ut.type){const ae=(pe=Tt())=>{if("function"!=typeof pe[Oe])throw Ce.create("invalid-app-argument",{appName:Q});return pe[Oe]()};void 0!==ut.serviceProps&&(0,c.ZB)(ae,ut.serviceProps),Me[Oe]=ae,ct.prototype[Oe]=function(...pe){return this._getService.bind(this,Q).apply(this,ut.multipleInstances?pe:[])}}return"PUBLIC"===ut.type?Me[Oe]:null},removeApp:function st(ut){delete Ne[ut]},useAsService:function rt(ut,Q){return"serverAuth"===Q?null:Q},modularAPIs:j}};function Tt(ut){if(!(0,c.r3)(Ne,ut=ut||j._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:ut});return Ne[ut]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function Re(){return Object.keys(Ne).map(ut=>Ne[ut])}}),Tt.App=ct,Me}(ge);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function Ne(Me){(0,c.ZB)(ct,Me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ct}(),X=new ye.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=J;!function Ue(ct){(0,j.registerVersion)("@firebase/app-compat","0.1.34",ct)}()},9681:(xt,Ge,H)=>{"use strict";H.r(Ge),H.d(Ge,{FirebaseError:()=>ye.ZR,SDK_VERSION:()=>es,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>Ln,_addOrOverwriteComponent:()=>pn,_apps:()=>Wn,_clearComponents:()=>Ar,_components:()=>ui,_getProvider:()=>cn,_registerComponent:()=>pr,_removeServiceInstance:()=>Qt,deleteApp:()=>_i,getApp:()=>Mi,getApps:()=>Nr,initializeApp:()=>di,onLog:()=>Hr,registerVersion:()=>Gr,setLogLevel:()=>Cn});var c=H(5861),P=H(4859),j=H(1877),ye=H(2090),ge=H(8766);class De{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(ie=>{if(function Ce(Y){return"VERSION"===Y.getComponent()?.type}(ie)){const We=ie.getImmediate();return`${We.library}/${We.version}`}return null}).filter(ie=>ie).join(" ")}}const Ae="@firebase/app",J=new j.Yd("@firebase/app"),ln="[DEFAULT]",dt={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wn=new Map,ui=new Map;function Ln(Y,ne){try{Y.container.addComponent(ne)}catch(ie){J.debug(`Component ${ne.name} failed to register with FirebaseApp ${Y.name}`,ie)}}function pn(Y,ne){Y.container.addOrOverwriteComponent(ne)}function pr(Y){const ne=Y.name;if(ui.has(ne))return J.debug(`There were multiple attempts to register component ${ne}.`),!1;ui.set(ne,Y);for(const ie of Wn.values())Ln(ie,Y);return!0}function cn(Y,ne){const ie=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return ie&&ie.triggerHeartbeat(),Y.container.getProvider(ne)}function Qt(Y,ne,ie=ln){cn(Y,ne).clearInstance(ie)}function Ar(){ui.clear()}const Fn=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zi{constructor(ne,ie,We){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},ie),this._name=ie.name,this._automaticDataCollectionEnabled=ie.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}const es="9.10.0";function di(Y,ne={}){"object"!=typeof ne&&(ne={name:ne});const ie=Object.assign({name:ln,automaticDataCollectionEnabled:!1},ne),We=ie.name;if("string"!=typeof We||!We)throw Fn.create("bad-app-name",{appName:String(We)});const at=Wn.get(We);if(at){if((0,ye.vZ)(Y,at.options)&&(0,ye.vZ)(ie,at.config))return at;throw Fn.create("duplicate-app",{appName:We})}const Pt=new P.H0(We);for(const Rn of ui.values())Pt.addComponent(Rn);const ri=new zi(Y,ie,Pt);return Wn.set(We,ri),ri}function Mi(Y=ln){const ne=Wn.get(Y);if(!ne)throw Fn.create("no-app",{appName:Y});return ne}function Nr(){return Array.from(Wn.values())}function _i(Y){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(Y){const ne=Y.name;Wn.has(ne)&&(Wn.delete(ne),yield Promise.all(Y.container.getProviders().map(ie=>ie.delete())),Y.isDeleted=!0)})).apply(this,arguments)}function Gr(Y,ne,ie){var We;let at=null!==(We=dt[Y])&&void 0!==We?We:Y;ie&&(at+=`-${ie}`);const Pt=at.match(/\s|\//),ri=ne.match(/\s|\//);if(Pt||ri){const Rn=[`Unable to register library "${at}" with version "${ne}":`];return Pt&&Rn.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Pt&&ri&&Rn.push("and"),ri&&Rn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void J.warn(Rn.join(" "))}pr(new P.wA(`${at}-version`,()=>({library:at,version:ne}),"VERSION"))}function Hr(Y,ne){if(null!==Y&&"function"!=typeof Y)throw Fn.create("invalid-log-argument");(0,j.Am)(Y,ne)}function Cn(Y){(0,j.Ub)(Y)}const Li="firebase-heartbeat-store";let wi=null;function hi(){return wi||(wi=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(Y,ne)=>{0===ne&&Y.createObjectStore(Li)}}).catch(Y=>{throw Fn.create("idb-open",{originalErrorMessage:Y.message})})),wi}function Nt(){return(Nt=(0,c.Z)(function*(Y){var ne;try{return(yield hi()).transaction(Li).objectStore(Li).get(Bi(Y))}catch(ie){if(ie instanceof ye.ZR)J.warn(ie.message);else{const We=Fn.create("idb-get",{originalErrorMessage:null===(ne=ie)||void 0===ne?void 0:ne.message});J.warn(We.message)}}})).apply(this,arguments)}function Vn(Y,ne){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(Y,ne){var ie;try{const at=(yield hi()).transaction(Li,"readwrite");return yield at.objectStore(Li).put(ne,Bi(Y)),at.done}catch(We){if(We instanceof ye.ZR)J.warn(We.message);else{const at=Fn.create("idb-set",{originalErrorMessage:null===(ie=We)||void 0===ie?void 0:ie.message});J.warn(at.message)}}})).apply(this,arguments)}function Bi(Y){return`${Y.name}!${Y.options.appId}`}class Ds{constructor(ne){this.container=ne,this._heartbeatsCache=null;const ie=this.container.getProvider("app").getImmediate();this._storage=new In(ie),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var ne=this;return(0,c.Z)(function*(){const We=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=xn();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==at&&!ne._heartbeatsCache.heartbeats.some(Pt=>Pt.date===at))return ne._heartbeatsCache.heartbeats.push({date:at,agent:We}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Pt=>{const ri=new Date(Pt.date).valueOf();return Date.now()-ri<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,c.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const ie=xn(),{heartbeatsToSend:We,unsentEntries:at}=function ts(Y,ne=1024){const ie=[];let We=Y.slice();for(const at of Y){const Pt=ie.find(ri=>ri.agent===at.agent);if(Pt){if(Pt.dates.push(at.date),oe(ie)>ne){Pt.dates.pop();break}}else if(ie.push({agent:at.agent,dates:[at.date]}),oe(ie)>ne){ie.pop();break}We=We.slice(1)}return{heartbeatsToSend:ie,unsentEntries:We}}(ne._heartbeatsCache.heartbeats),Pt=(0,ye.L)(JSON.stringify({version:2,heartbeats:We}));return ne._heartbeatsCache.lastSentHeartbeatDate=ie,at.length>0?(ne._heartbeatsCache.heartbeats=at,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Pt})()}}function xn(){return(new Date).toISOString().substring(0,10)}class In{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,c.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function kt(Y){return Nt.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var ie=this;return(0,c.Z)(function*(){var We;if(yield ie._canUseIndexedDBPromise){const Pt=yield ie.read();return Vn(ie.app,{lastSentHeartbeatDate:null!==(We=ne.lastSentHeartbeatDate)&&void 0!==We?We:Pt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var ie=this;return(0,c.Z)(function*(){var We;if(yield ie._canUseIndexedDBPromise){const Pt=yield ie.read();return Vn(ie.app,{lastSentHeartbeatDate:null!==(We=ne.lastSentHeartbeatDate)&&void 0!==We?We:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...ne.heartbeats]})}})()}}function oe(Y){return(0,ye.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function te(Y){pr(new P.wA("platform-logger",ne=>new De(ne),"PRIVATE")),pr(new P.wA("heartbeat",ne=>new Ds(ne),"PRIVATE")),Gr(Ae,"0.7.33",Y),Gr(Ae,"0.7.33","esm2017"),Gr("fire-js","")}("")},4859:(xt,Ge,H)=>{"use strict";H.d(Ge,{H0:()=>Ae,wA:()=>j});var c=H(5861),P=H(2090);class j{constructor(J,X,ce){this.name=J,this.instanceFactory=X,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const ye="[DEFAULT]";class ge{constructor(J,X){this.name=J,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const X=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(X)){const ce=new P.BH;if(this.instancesDeferred.set(X,ce),this.isInitialized(X)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:X});tt&&ce.resolve(tt)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(J){var X;const ce=this.normalizeInstanceIdentifier(J?.identifier),tt=null!==(X=J?.optional)&&void 0!==X&&X;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(Ue){if(tt)return null;throw Ue}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Ce(Se){return"EAGER"===Se.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[X,ce]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(X);try{const Ue=this.getOrInitializeService({instanceIdentifier:tt});ce.resolve(Ue)}catch{}}}}clearInstance(J=ye){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,c.Z)(function*(){const X=Array.from(J.instances.values());yield Promise.all([...X.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...X.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=ye){return this.instances.has(J)}getOptions(J=ye){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:X={}}=J,ce=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:ce,options:X});for(const[Ue,Le]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(Ue)&&Le.resolve(tt);return tt}onInit(J,X){var ce;const tt=this.normalizeInstanceIdentifier(X),Ue=null!==(ce=this.onInitCallbacks.get(tt))&&void 0!==ce?ce:new Set;Ue.add(J),this.onInitCallbacks.set(tt,Ue);const Le=this.instances.get(tt);return Le&&J(Le,tt),()=>{Ue.delete(J)}}invokeOnInitCallbacks(J,X){const ce=this.onInitCallbacks.get(X);if(ce)for(const tt of ce)try{tt(J,X)}catch{}}getOrInitializeService({instanceIdentifier:J,options:X={}}){let ce=this.instances.get(J);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=J,Se===ye?void 0:Se),options:X}),this.instances.set(J,ce),this.instancesOptions.set(J,X),this.invokeOnInitCallbacks(ce,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ce)}catch{}var Se;return ce||null}normalizeInstanceIdentifier(J=ye){return this.component?this.component.multipleInstances?J:ye:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const X=this.getProvider(J.name);if(X.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);X.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const X=new ge(J,this);return this.providers.set(J,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Ge,H)=>{"use strict";H.d(Ge,{Am:()=>Se,Ub:()=>Ae,Yd:()=>Ce,in:()=>P});const c=[];var P=(()=>{return(J=P||(P={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",P;var J})();const j={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},ye=P.INFO,ge={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},De=(J,X,...ce)=>{if(X<J.logLevel)return;const tt=(new Date).toISOString(),Ue=ge[X];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Ue](`[${tt}]  ${J.name}:`,...ce)};class Ce{constructor(X){this.name=X,this._logLevel=ye,this._logHandler=De,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in P))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?j[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...X),this._logHandler(this,P.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...X),this._logHandler(this,P.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,P.INFO,...X),this._logHandler(this,P.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,P.WARN,...X),this._logHandler(this,P.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...X),this._logHandler(this,P.ERROR,...X)}}function Ae(J){c.forEach(X=>{X.setLogLevel(J)})}function Se(J,X){for(const ce of c){let tt=null;X&&X.level&&(tt=j[X.level]),ce.userLogHandler=null===J?null:(Ue,Le,...ct)=>{const Ne=ct.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Le>=(tt??Ue.logLevel)&&J({level:P[Le].toLowerCase(),message:Ne,args:ct,type:Ue.name})}}}},8766:(xt,Ge,H)=>{"use strict";H.d(Ge,{Lj:()=>He,X3:()=>Tt});var c=H(5861);let j,ye;const Ce=new WeakMap,Ae=new WeakMap,Se=new WeakMap,J=new WeakMap,X=new WeakMap;let Ue={get(Q,Oe,ae){if(Q instanceof IDBTransaction){if("done"===Oe)return Ae.get(Q);if("objectStoreNames"===Oe)return Q.objectStoreNames||Se.get(Q);if("store"===Oe)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Me(Q[Oe])},set:(Q,Oe,ae)=>(Q[Oe]=ae,!0),has:(Q,Oe)=>Q instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in Q};function Ne(Q){return"function"==typeof Q?function ct(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...Oe){return Q.apply(st(this),Oe),Me(Ce.get(this))}:function(...Oe){return Me(Q.apply(st(this),Oe))}:function(Oe,...ae){const pe=Q.call(st(this),Oe,...ae);return Se.set(pe,Oe.sort?Oe.sort():[Oe]),Me(pe)}}(Q):(Q instanceof IDBTransaction&&function tt(Q){if(Ae.has(Q))return;const Oe=new Promise((ae,pe)=>{const ve=()=>{Q.removeEventListener("complete",_e),Q.removeEventListener("error",it),Q.removeEventListener("abort",it)},_e=()=>{ae(),ve()},it=()=>{pe(Q.error||new DOMException("AbortError","AbortError")),ve()};Q.addEventListener("complete",_e),Q.addEventListener("error",it),Q.addEventListener("abort",it)});Ae.set(Q,Oe)}(Q),((Q,Oe)=>Oe.some(ae=>Q instanceof ae))(Q,function ge(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Ue):Q)}function Me(Q){if(Q instanceof IDBRequest)return function ce(Q){const Oe=new Promise((ae,pe)=>{const ve=()=>{Q.removeEventListener("success",_e),Q.removeEventListener("error",it)},_e=()=>{ae(Me(Q.result)),ve()},it=()=>{pe(Q.error),ve()};Q.addEventListener("success",_e),Q.addEventListener("error",it)});return Oe.then(ae=>{ae instanceof IDBCursor&&Ce.set(ae,Q)}).catch(()=>{}),X.set(Oe,Q),Oe}(Q);if(J.has(Q))return J.get(Q);const Oe=Ne(Q);return Oe!==Q&&(J.set(Q,Oe),X.set(Oe,Q)),Oe}const st=Q=>X.get(Q);function Tt(Q,Oe,{blocked:ae,upgrade:pe,blocking:ve,terminated:_e}={}){const it=indexedDB.open(Q,Oe),Je=Me(it);return pe&&it.addEventListener("upgradeneeded",Mt=>{pe(Me(it.result),Mt.oldVersion,Mt.newVersion,Me(it.transaction))}),ae&&it.addEventListener("blocked",()=>ae()),Je.then(Mt=>{_e&&Mt.addEventListener("close",()=>_e()),ve&&Mt.addEventListener("versionchange",()=>ve())}).catch(()=>{}),Je}function He(Q,{blocked:Oe}={}){const ae=indexedDB.deleteDatabase(Q);return Oe&&ae.addEventListener("blocked",()=>Oe()),Me(ae).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],rt=new Map;function ut(Q,Oe){if(!(Q instanceof IDBDatabase)||Oe in Q||"string"!=typeof Oe)return;if(rt.get(Oe))return rt.get(Oe);const ae=Oe.replace(/FromIndex$/,""),pe=Oe!==ae,ve=ke.includes(ae);if(!(ae in(pe?IDBIndex:IDBObjectStore).prototype)||!ve&&!Re.includes(ae))return;const _e=function(){var it=(0,c.Z)(function*(Je,...Mt){const Tn=this.transaction(Je,ve?"readwrite":"readonly");let ln=Tn.store;return pe&&(ln=ln.index(Mt.shift())),(yield Promise.all([ln[ae](...Mt),ve&&Tn.done]))[0]});return function(Mt){return it.apply(this,arguments)}}();return rt.set(Oe,_e),_e}!function Le(Q){Ue=Q(Ue)}(Q=>({...Q,get:(Oe,ae,pe)=>ut(Oe,ae)||Q.get(Oe,ae,pe),has:(Oe,ae)=>!!ut(Oe,ae)||Q.has(Oe,ae)}))},5861:(xt,Ge,H)=>{"use strict";function c(j,ye,ge,De,Ce,Ae,Se){try{var J=j[Ae](Se),X=J.value}catch(ce){return void ge(ce)}J.done?ye(X):Promise.resolve(X).then(De,Ce)}function P(j){return function(){var ye=this,ge=arguments;return new Promise(function(De,Ce){var Ae=j.apply(ye,ge);function Se(X){c(Ae,De,Ce,Se,J,"next",X)}function J(X){c(Ae,De,Ce,Se,J,"throw",X)}Se(void 0)})}}H.d(Ge,{Z:()=>P})}},xt=>{xt(xt.s=5298)}]);