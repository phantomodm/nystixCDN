(()=>{"use strict";var e,b={},d={};function t(e){var o=d[e];if(void 0!==o)return o.exports;var r=d[e]={id:e,loaded:!1,exports:{}};return b[e].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.m=b,e=[],t.O=(o,r,a,f)=>{if(!r){var i=1/0;for(n=0;n<e.length;n++){for(var[r,a,f]=e[n],c=!0,s=0;s<r.length;s++)(!1&f||i>=f)&&Object.keys(t.O).every(u=>t.O[u](r[s]))?r.splice(s--,1):(c=!1,f<i&&(i=f));if(c){e.splice(n--,1);var l=a();void 0!==l&&(o=l)}}return o}f=f||0;for(var n=e.length;n>0&&e[n-1][2]>f;n--)e[n]=e[n-1];e[n]=[r,a,f]},(()=>{var o,e=Object.getPrototypeOf?r=>Object.getPrototypeOf(r):r=>r.__proto__;t.t=function(r,a){if(1&a&&(r=this(r)),8&a||"object"==typeof r&&r&&(4&a&&r.__esModule||16&a&&"function"==typeof r.then))return r;var f=Object.create(null);t.r(f);var n={};o=o||[null,e({}),e([]),e(e)];for(var i=2&a&&r;"object"==typeof i&&!~o.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach(c=>n[c]=()=>r[c]);return n.default=()=>r,t.d(f,n),f}})(),t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={666:0};t.O.j=a=>0===e[a];var o=(a,f)=>{var s,l,[n,i,c]=f,p=0;if(n.some(_=>0!==e[_])){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(c)var h=c(t)}for(a&&a(f);p<n.length;p++)t.o(e,l=n[p])&&e[l]&&e[l][0](),e[l]=0;return t.O(h)},r=self.webpackChunknystixTools=self.webpackChunknystixTools||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})()})();
"use strict";(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[429],{5565:(jt,zn,Kn)=>{Error;const $o=function(s,...e){if($o.translate){const n=$o.translate(s,e);s=n[0],e=n[1]}let t=Wl(s[0],s.raw[0]);for(let n=1;n<s.length;n++)t+=e[n-1]+Wl(s[n],s.raw[n]);return t};function Wl(s,e){return":"===e.charAt(0)?s.substring(function Hl(s,e){for(let t=1,n=1;t<s.length;t++,n++)if("\\"===e[n])n++;else if(":"===s[t])return t;throw new Error(`Unterminated $localize metadata block in "${e}".`)}(s,e)+1):s}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=$o,Kn(8583)},8583:()=>{!function(d){const v=d.performance;function T(de){v&&v.mark&&v.mark(de)}function _(de,q){v&&v.measure&&v.measure(de,q)}T("Zone");const S=d.__Zone_symbol_prefix||"__zone_symbol__";function A(de){return S+de}const H=!0===d[A("forceDuplicateZoneCheck")];if(d.Zone){if(H||"function"!=typeof d.Zone.__symbol__)throw new Error("Zone already loaded.");return d.Zone}let U=(()=>{class de{constructor(h,m){this._parent=h,this._name=m?m.name||"unnamed":"<root>",this._properties=m&&m.properties||{},this._zoneDelegate=new Q(this,this._parent&&this._parent._zoneDelegate,m)}static assertZonePatched(){if(d.Promise!==Qe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let h=de.current;for(;h.parent;)h=h.parent;return h}static get current(){return Me.zone}static get currentTask(){return $e}static __load_patch(h,m,X=!1){if(Qe.hasOwnProperty(h)){if(!X&&H)throw Error("Already loaded patch: "+h)}else if(!d["__Zone_disable_"+h]){const ne="Zone:"+h;T(ne),Qe[h]=m(d,de,Le),_(ne,ne)}}get parent(){return this._parent}get name(){return this._name}get(h){const m=this.getZoneWith(h);if(m)return m._properties[h]}getZoneWith(h){let m=this;for(;m;){if(m._properties.hasOwnProperty(h))return m;m=m._parent}return null}fork(h){if(!h)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,h)}wrap(h,m){if("function"!=typeof h)throw new Error("Expecting function got: "+h);const X=this._zoneDelegate.intercept(this,h,m),ne=this;return function(){return ne.runGuarded(X,this,arguments,m)}}run(h,m,X,ne){Me={parent:Me,zone:this};try{return this._zoneDelegate.invoke(this,h,m,X,ne)}finally{Me=Me.parent}}runGuarded(h,m=null,X,ne){Me={parent:Me,zone:this};try{try{return this._zoneDelegate.invoke(this,h,m,X,ne)}catch(B){if(this._zoneDelegate.handleError(this,B))throw B}}finally{Me=Me.parent}}runTask(h,m,X){if(h.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");if(h.state===K&&(h.type===Ye||h.type===te))return;const ne=h.state!=W;ne&&h._transitionTo(W,le),h.runCount++;const B=$e;$e=h,Me={parent:Me,zone:this};try{h.type==te&&h.data&&!h.data.isPeriodic&&(h.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,h,m,X)}catch(b){if(this._zoneDelegate.handleError(this,b))throw b}}finally{h.state!==K&&h.state!==L&&(h.type==Ye||h.data&&h.data.isPeriodic?ne&&h._transitionTo(le,W):(h.runCount=0,this._updateTaskCount(h,-1),ne&&h._transitionTo(K,W,K))),Me=Me.parent,$e=B}}scheduleTask(h){if(h.zone&&h.zone!==this){let X=this;for(;X;){if(X===h.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${h.zone.name}`);X=X.parent}}h._transitionTo(Te,K);const m=[];h._zoneDelegates=m,h._zone=this;try{h=this._zoneDelegate.scheduleTask(this,h)}catch(X){throw h._transitionTo(L,Te,K),this._zoneDelegate.handleError(this,X),X}return h._zoneDelegates===m&&this._updateTaskCount(h,1),h.state==Te&&h._transitionTo(le,Te),h}scheduleMicroTask(h,m,X,ne){return this.scheduleTask(new z(J,h,m,X,ne,void 0))}scheduleMacroTask(h,m,X,ne,B){return this.scheduleTask(new z(te,h,m,X,ne,B))}scheduleEventTask(h,m,X,ne,B){return this.scheduleTask(new z(Ye,h,m,X,ne,B))}cancelTask(h){if(h.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");h._transitionTo(Ce,le,W);try{this._zoneDelegate.cancelTask(this,h)}catch(m){throw h._transitionTo(L,Ce),this._zoneDelegate.handleError(this,m),m}return this._updateTaskCount(h,-1),h._transitionTo(K,Ce),h.runCount=0,h}_updateTaskCount(h,m){const X=h._zoneDelegates;-1==m&&(h._zoneDelegates=null);for(let ne=0;ne<X.length;ne++)X[ne]._updateTaskCount(h.type,m)}}return de.__symbol__=A,de})();const $={name:"",onHasTask:(de,q,h,m)=>de.hasTask(h,m),onScheduleTask:(de,q,h,m)=>de.scheduleTask(h,m),onInvokeTask:(de,q,h,m,X,ne)=>de.invokeTask(h,m,X,ne),onCancelTask:(de,q,h,m)=>de.cancelTask(h,m)};class Q{constructor(q,h,m){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=q,this._parentDelegate=h,this._forkZS=m&&(m&&m.onFork?m:h._forkZS),this._forkDlgt=m&&(m.onFork?h:h._forkDlgt),this._forkCurrZone=m&&(m.onFork?this.zone:h._forkCurrZone),this._interceptZS=m&&(m.onIntercept?m:h._interceptZS),this._interceptDlgt=m&&(m.onIntercept?h:h._interceptDlgt),this._interceptCurrZone=m&&(m.onIntercept?this.zone:h._interceptCurrZone),this._invokeZS=m&&(m.onInvoke?m:h._invokeZS),this._invokeDlgt=m&&(m.onInvoke?h:h._invokeDlgt),this._invokeCurrZone=m&&(m.onInvoke?this.zone:h._invokeCurrZone),this._handleErrorZS=m&&(m.onHandleError?m:h._handleErrorZS),this._handleErrorDlgt=m&&(m.onHandleError?h:h._handleErrorDlgt),this._handleErrorCurrZone=m&&(m.onHandleError?this.zone:h._handleErrorCurrZone),this._scheduleTaskZS=m&&(m.onScheduleTask?m:h._scheduleTaskZS),this._scheduleTaskDlgt=m&&(m.onScheduleTask?h:h._scheduleTaskDlgt),this._scheduleTaskCurrZone=m&&(m.onScheduleTask?this.zone:h._scheduleTaskCurrZone),this._invokeTaskZS=m&&(m.onInvokeTask?m:h._invokeTaskZS),this._invokeTaskDlgt=m&&(m.onInvokeTask?h:h._invokeTaskDlgt),this._invokeTaskCurrZone=m&&(m.onInvokeTask?this.zone:h._invokeTaskCurrZone),this._cancelTaskZS=m&&(m.onCancelTask?m:h._cancelTaskZS),this._cancelTaskDlgt=m&&(m.onCancelTask?h:h._cancelTaskDlgt),this._cancelTaskCurrZone=m&&(m.onCancelTask?this.zone:h._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const X=m&&m.onHasTask;(X||h&&h._hasTaskZS)&&(this._hasTaskZS=X?m:$,this._hasTaskDlgt=h,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=q,m.onScheduleTask||(this._scheduleTaskZS=$,this._scheduleTaskDlgt=h,this._scheduleTaskCurrZone=this.zone),m.onInvokeTask||(this._invokeTaskZS=$,this._invokeTaskDlgt=h,this._invokeTaskCurrZone=this.zone),m.onCancelTask||(this._cancelTaskZS=$,this._cancelTaskDlgt=h,this._cancelTaskCurrZone=this.zone))}fork(q,h){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,q,h):new U(q,h)}intercept(q,h,m){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,q,h,m):h}invoke(q,h,m,X,ne){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,q,h,m,X,ne):h.apply(m,X)}handleError(q,h){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,q,h)}scheduleTask(q,h){let m=h;if(this._scheduleTaskZS)this._hasTaskZS&&m._zoneDelegates.push(this._hasTaskDlgtOwner),m=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,q,h),m||(m=h);else if(h.scheduleFn)h.scheduleFn(h);else{if(h.type!=J)throw new Error("Task is missing scheduleFn.");ie(h)}return m}invokeTask(q,h,m,X){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,q,h,m,X):h.callback.apply(m,X)}cancelTask(q,h){let m;if(this._cancelTaskZS)m=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,q,h);else{if(!h.cancelFn)throw Error("Task is not cancelable");m=h.cancelFn(h)}return m}hasTask(q,h){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,q,h)}catch(m){this.handleError(q,m)}}_updateTaskCount(q,h){const m=this._taskCounts,X=m[q],ne=m[q]=X+h;if(ne<0)throw new Error("More tasks executed then were scheduled.");0!=X&&0!=ne||this.hasTask(this.zone,{microTask:m.microTask>0,macroTask:m.macroTask>0,eventTask:m.eventTask>0,change:q})}}class z{constructor(q,h,m,X,ne,B){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=q,this.source=h,this.data=X,this.scheduleFn=ne,this.cancelFn=B,!m)throw new Error("callback is not defined");this.callback=m;const b=this;this.invoke=q===Ye&&X&&X.useG?z.invokeTask:function(){return z.invokeTask.call(d,b,this,arguments)}}static invokeTask(q,h,m){q||(q=this),Ie++;try{return q.runCount++,q.zone.runTask(q,h,m)}finally{1==Ie&&R(),Ie--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(K,Te)}_transitionTo(q,h,m){if(this._state!==h&&this._state!==m)throw new Error(`${this.type} '${this.source}': can not transition to '${q}', expecting state '${h}'${m?" or '"+m+"'":""}, was '${this._state}'.`);this._state=q,q==K&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Ee=A("setTimeout"),ue=A("Promise"),re=A("then");let Ke,De=[],we=!1;function ke(de){if(Ke||d[ue]&&(Ke=d[ue].resolve(0)),Ke){let q=Ke[re];q||(q=Ke.then),q.call(Ke,de)}else d[Ee](de,0)}function ie(de){0===Ie&&0===De.length&&ke(R),de&&De.push(de)}function R(){if(!we){for(we=!0;De.length;){const de=De;De=[];for(let q=0;q<de.length;q++){const h=de[q];try{h.zone.runTask(h,null,null)}catch(m){Le.onUnhandledError(m)}}}Le.microtaskDrainDone(),we=!1}}const Be={name:"NO ZONE"},K="notScheduled",Te="scheduling",le="scheduled",W="running",Ce="canceling",L="unknown",J="microTask",te="macroTask",Ye="eventTask",Qe={},Le={symbol:A,currentZoneFrame:()=>Me,onUnhandledError:x,microtaskDrainDone:x,scheduleMicroTask:ie,showUncaughtError:()=>!U[A("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:x,patchMethod:()=>x,bindArguments:()=>[],patchThen:()=>x,patchMacroTask:()=>x,patchEventPrototype:()=>x,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>x,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>x,wrapWithCurrentZone:()=>x,filterProperties:()=>[],attachOriginToPatched:()=>x,_redefineProperty:()=>x,patchCallbacks:()=>x,nativeScheduleMicroTask:ke};let Me={parent:null,zone:new U(null,null)},$e=null,Ie=0;function x(){}_("Zone","Zone"),d.Zone=U}(typeof window<"u"&&window||typeof self<"u"&&self||global);const jt=Object.getOwnPropertyDescriptor,zn=Object.defineProperty,Kn=Object.getPrototypeOf,Oe=Object.create,mt=Array.prototype.slice,In="addEventListener",bn="removeEventListener",Ts=Zone.__symbol__(In),Zn=Zone.__symbol__(bn),gt="true",ee="false",ln=Zone.__symbol__("");function cn(d,v){return Zone.current.wrap(d,v)}function Dn(d,v,T,_,S){return Zone.current.scheduleMacroTask(d,v,T,_,S)}const ye=Zone.__symbol__,vt=typeof window<"u",Nt=vt?window:void 0,He=vt&&Nt||"object"==typeof self&&self||global;function xs(d,v){for(let T=d.length-1;T>=0;T--)"function"==typeof d[T]&&(d[T]=cn(d[T],v+"_"+T));return d}function lt(d){return!d||!1!==d.writable&&!("function"==typeof d.get&&typeof d.set>"u")}const Xn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,pn=!("nw"in He)&&typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process),Cs=!pn&&!Xn&&!(!vt||!Nt.HTMLElement),pe=typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process)&&!Xn&&!(!vt||!Nt.HTMLElement),je={},ur=function(d){if(!(d=d||He.event))return;let v=je[d.type];v||(v=je[d.type]=ye("ON_PROPERTY"+d.type));const T=this||d.target||He,_=T[v];let S;if(Cs&&T===Nt&&"error"===d.type){const A=d;S=_&&_.call(this,A.message,A.filename,A.lineno,A.colno,A.error),!0===S&&d.preventDefault()}else S=_&&_.apply(this,arguments),null!=S&&!S&&d.preventDefault();return S};function lr(d,v,T){let _=jt(d,v);if(!_&&T&&jt(T,v)&&(_={enumerable:!0,configurable:!0}),!_||!_.configurable)return;const S=ye("on"+v+"patched");if(d.hasOwnProperty(S)&&d[S])return;delete _.writable,delete _.value;const A=_.get,H=_.set,U=v.slice(2);let $=je[U];$||($=je[U]=ye("ON_PROPERTY"+U)),_.set=function(Q){let z=this;!z&&d===He&&(z=He),z&&("function"==typeof z[$]&&z.removeEventListener(U,ur),H&&H.call(z,null),z[$]=Q,"function"==typeof Q&&z.addEventListener(U,ur,!1))},_.get=function(){let Q=this;if(!Q&&d===He&&(Q=He),!Q)return null;const z=Q[$];if(z)return z;if(A){let Ee=A.call(this);if(Ee)return _.set.call(this,Ee),"function"==typeof Q.removeAttribute&&Q.removeAttribute(v),Ee}return null},zn(d,v,_),d[S]=!0}function cr(d,v,T){if(v)for(let _=0;_<v.length;_++)lr(d,"on"+v[_],T);else{const _=[];for(const S in d)"on"==S.slice(0,2)&&_.push(S);for(let S=0;S<_.length;S++)lr(d,_[S],T)}}const et=ye("originalInstance");function Yn(d){const v=He[d];if(!v)return;He[ye(d)]=v,He[d]=function(){const S=xs(arguments,d);switch(S.length){case 0:this[et]=new v;break;case 1:this[et]=new v(S[0]);break;case 2:this[et]=new v(S[0],S[1]);break;case 3:this[et]=new v(S[0],S[1],S[2]);break;case 4:this[et]=new v(S[0],S[1],S[2],S[3]);break;default:throw new Error("Arg list too long.")}},kt(He[d],v);const T=new v(function(){});let _;for(_ in T)"XMLHttpRequest"===d&&"responseBlob"===_||function(S){"function"==typeof T[S]?He[d].prototype[S]=function(){return this[et][S].apply(this[et],arguments)}:zn(He[d].prototype,S,{set:function(A){"function"==typeof A?(this[et][S]=cn(A,d+"."+S),kt(this[et][S],A)):this[et][S]=A},get:function(){return this[et][S]}})}(_);for(_ in v)"prototype"!==_&&v.hasOwnProperty(_)&&(He[d][_]=v[_])}function Pt(d,v,T){let _=d;for(;_&&!_.hasOwnProperty(v);)_=Kn(_);!_&&d[v]&&(_=d);const S=ye(v);let A=null;if(_&&(!(A=_[S])||!_.hasOwnProperty(S))&&(A=_[S]=_[v],lt(_&&jt(_,v)))){const U=T(A,S,v);_[v]=function(){return U(this,arguments)},kt(_[v],A)}return A}function ai(d,v,T){let _=null;function S(A){const H=A.data;return H.args[H.cbIdx]=function(){A.invoke.apply(this,arguments)},_.apply(H.target,H.args),A}_=Pt(d,v,A=>function(H,U){const $=T(H,U);return $.cbIdx>=0&&"function"==typeof U[$.cbIdx]?Dn($.name,U[$.cbIdx],$,S):A.apply(H,U)})}function kt(d,v){d[ye("OriginalDelegate")]=v}let pr=!1,Qn=!1;function Jn(){if(pr)return Qn;pr=!0;try{const d=Nt.navigator.userAgent;(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/")||-1!==d.indexOf("Edge/"))&&(Qn=!0)}catch{}return Qn}Zone.__load_patch("ZoneAwarePromise",(d,v,T)=>{const _=Object.getOwnPropertyDescriptor,S=Object.defineProperty,H=T.symbol,U=[],$=!0===d[H("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Q=H("Promise"),z=H("then");T.onUnhandledError=b=>{if(T.showUncaughtError()){const N=b&&b.rejection;N?console.error("Unhandled Promise rejection:",N instanceof Error?N.message:N,"; Zone:",b.zone.name,"; Task:",b.task&&b.task.source,"; Value:",N,N instanceof Error?N.stack:void 0):console.error(b)}},T.microtaskDrainDone=()=>{for(;U.length;){const b=U.shift();try{b.zone.runGuarded(()=>{throw b.throwOriginal?b.rejection:b})}catch(N){re(N)}}};const ue=H("unhandledPromiseRejectionHandler");function re(b){T.onUnhandledError(b);try{const N=v[ue];"function"==typeof N&&N.call(this,b)}catch{}}function De(b){return b&&b.then}function we(b){return b}function Ke(b){return h.reject(b)}const ke=H("state"),ie=H("value"),R=H("finally"),Be=H("parentPromiseValue"),K=H("parentPromiseState"),le=null,W=!0,Ce=!1;function J(b,N){return w=>{try{Le(b,N,w)}catch(D){Le(b,!1,D)}}}const te=function(){let b=!1;return function(w){return function(){b||(b=!0,w.apply(null,arguments))}}},Qe=H("currentTaskTrace");function Le(b,N,w){const D=te();if(b===w)throw new TypeError("Promise resolved with itself");if(b[ke]===le){let j=null;try{("object"==typeof w||"function"==typeof w)&&(j=w&&w.then)}catch(Y){return D(()=>{Le(b,!1,Y)})(),b}if(N!==Ce&&w instanceof h&&w.hasOwnProperty(ke)&&w.hasOwnProperty(ie)&&w[ke]!==le)$e(w),Le(b,w[ke],w[ie]);else if(N!==Ce&&"function"==typeof j)try{j.call(w,D(J(b,N)),D(J(b,!1)))}catch(Y){D(()=>{Le(b,!1,Y)})()}else{b[ke]=N;const Y=b[ie];if(b[ie]=w,b[R]===R&&N===W&&(b[ke]=b[K],b[ie]=b[Be]),N===Ce&&w instanceof Error){const M=v.currentTask&&v.currentTask.data&&v.currentTask.data.__creationTrace__;M&&S(w,Qe,{configurable:!0,enumerable:!1,writable:!0,value:M})}for(let M=0;M<Y.length;)Ie(b,Y[M++],Y[M++],Y[M++],Y[M++]);if(0==Y.length&&N==Ce){b[ke]=0;let M=w;try{throw new Error("Uncaught (in promise): "+function A(b){return b&&b.toString===Object.prototype.toString?(b.constructor&&b.constructor.name||"")+": "+JSON.stringify(b):b?b.toString():Object.prototype.toString.call(b)}(w)+(w&&w.stack?"\n"+w.stack:""))}catch(oe){M=oe}$&&(M.throwOriginal=!0),M.rejection=w,M.promise=b,M.zone=v.current,M.task=v.currentTask,U.push(M),T.scheduleMicroTask()}}}return b}const Me=H("rejectionHandledHandler");function $e(b){if(0===b[ke]){try{const N=v[Me];N&&"function"==typeof N&&N.call(this,{rejection:b[ie],promise:b})}catch{}b[ke]=Ce;for(let N=0;N<U.length;N++)b===U[N].promise&&U.splice(N,1)}}function Ie(b,N,w,D,j){$e(b);const Y=b[ke],M=Y?"function"==typeof D?D:we:"function"==typeof j?j:Ke;N.scheduleMicroTask("Promise.then",()=>{try{const oe=b[ie],ae=!!w&&R===w[R];ae&&(w[Be]=oe,w[K]=Y);const se=N.run(M,void 0,ae&&M!==Ke&&M!==we?[]:[oe]);Le(w,!0,se)}catch(oe){Le(w,!1,oe)}},w)}const de=function(){},q=d.AggregateError;class h{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(N){return Le(new this(null),W,N)}static reject(N){return Le(new this(null),Ce,N)}static any(N){if(!N||"function"!=typeof N[Symbol.iterator])return Promise.reject(new q([],"All promises were rejected"));const w=[];let D=0;try{for(let M of N)D++,w.push(h.resolve(M))}catch{return Promise.reject(new q([],"All promises were rejected"))}if(0===D)return Promise.reject(new q([],"All promises were rejected"));let j=!1;const Y=[];return new h((M,oe)=>{for(let ae=0;ae<w.length;ae++)w[ae].then(se=>{j||(j=!0,M(se))},se=>{Y.push(se),D--,0===D&&(j=!0,oe(new q(Y,"All promises were rejected")))})})}static race(N){let w,D,j=new this((oe,ae)=>{w=oe,D=ae});function Y(oe){w(oe)}function M(oe){D(oe)}for(let oe of N)De(oe)||(oe=this.resolve(oe)),oe.then(Y,M);return j}static all(N){return h.allWithCallback(N)}static allSettled(N){return(this&&this.prototype instanceof h?this:h).allWithCallback(N,{thenCallback:D=>({status:"fulfilled",value:D}),errorCallback:D=>({status:"rejected",reason:D})})}static allWithCallback(N,w){let D,j,Y=new this((se,Se)=>{D=se,j=Se}),M=2,oe=0;const ae=[];for(let se of N){De(se)||(se=this.resolve(se));const Se=oe;try{se.then(Ae=>{ae[Se]=w?w.thenCallback(Ae):Ae,M--,0===M&&D(ae)},Ae=>{w?(ae[Se]=w.errorCallback(Ae),M--,0===M&&D(ae)):j(Ae)})}catch(Ae){j(Ae)}M++,oe++}return M-=2,0===M&&D(ae),Y}constructor(N){const w=this;if(!(w instanceof h))throw new Error("Must be an instanceof Promise.");w[ke]=le,w[ie]=[];try{const D=te();N&&N(D(J(w,W)),D(J(w,Ce)))}catch(D){Le(w,!1,D)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return h}then(N,w){var D;let j=null===(D=this.constructor)||void 0===D?void 0:D[Symbol.species];(!j||"function"!=typeof j)&&(j=this.constructor||h);const Y=new j(de),M=v.current;return this[ke]==le?this[ie].push(M,Y,N,w):Ie(this,M,Y,N,w),Y}catch(N){return this.then(null,N)}finally(N){var w;let D=null===(w=this.constructor)||void 0===w?void 0:w[Symbol.species];(!D||"function"!=typeof D)&&(D=h);const j=new D(de);j[R]=R;const Y=v.current;return this[ke]==le?this[ie].push(Y,j,N,N):Ie(this,Y,j,N,N),j}}h.resolve=h.resolve,h.reject=h.reject,h.race=h.race,h.all=h.all;const m=d[Q]=d.Promise;d.Promise=h;const X=H("thenPatched");function ne(b){const N=b.prototype,w=_(N,"then");if(w&&(!1===w.writable||!w.configurable))return;const D=N.then;N[z]=D,b.prototype.then=function(j,Y){return new h((oe,ae)=>{D.call(this,oe,ae)}).then(j,Y)},b[X]=!0}return T.patchThen=ne,m&&(ne(m),Pt(d,"fetch",b=>function B(b){return function(N,w){let D=b.apply(N,w);if(D instanceof h)return D;let j=D.constructor;return j[X]||ne(j),D}}(b))),Promise[v.__symbol__("uncaughtPromiseErrors")]=U,h}),Zone.__load_patch("toString",d=>{const v=Function.prototype.toString,T=ye("OriginalDelegate"),_=ye("Promise"),S=ye("Error"),A=function(){if("function"==typeof this){const Q=this[T];if(Q)return"function"==typeof Q?v.call(Q):Object.prototype.toString.call(Q);if(this===Promise){const z=d[_];if(z)return v.call(z)}if(this===Error){const z=d[S];if(z)return v.call(z)}}return v.call(this)};A[T]=v,Function.prototype.toString=A;const H=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":H.call(this)}});let Nn=!1;if(typeof window<"u")try{const d=Object.defineProperty({},"passive",{get:function(){Nn=!0}});window.addEventListener("test",d,d),window.removeEventListener("test",d,d)}catch{Nn=!1}const As={useG:!0},nt={},hr={},Wt=new RegExp("^"+ln+"(\\w+)(true|false)$"),dr=ye("propagationStopped");function fr(d,v){const T=(v?v(d):d)+ee,_=(v?v(d):d)+gt,S=ln+T,A=ln+_;nt[d]={},nt[d][ee]=S,nt[d][gt]=A}function hn(d,v,T,_){const S=_&&_.add||In,A=_&&_.rm||bn,H=_&&_.listeners||"eventListeners",U=_&&_.rmAll||"removeAllListeners",$=ye(S),Q="."+S+":",ue=function(ie,R,Be){if(ie.isRemoved)return;const K=ie.callback;let Te;"object"==typeof K&&K.handleEvent&&(ie.callback=W=>K.handleEvent(W),ie.originalDelegate=K);try{ie.invoke(ie,R,[Be])}catch(W){Te=W}const le=ie.options;return le&&"object"==typeof le&&le.once&&R[A].call(R,Be.type,ie.originalDelegate?ie.originalDelegate:ie.callback,le),Te};function re(ie,R,Be){if(!(R=R||d.event))return;const K=ie||R.target||d,Te=K[nt[R.type][Be?gt:ee]];if(Te){const le=[];if(1===Te.length){const W=ue(Te[0],K,R);W&&le.push(W)}else{const W=Te.slice();for(let Ce=0;Ce<W.length&&(!R||!0!==R[dr]);Ce++){const L=ue(W[Ce],K,R);L&&le.push(L)}}if(1===le.length)throw le[0];for(let W=0;W<le.length;W++){const Ce=le[W];v.nativeScheduleMicroTask(()=>{throw Ce})}}}const De=function(ie){return re(this,ie,!1)},we=function(ie){return re(this,ie,!0)};function Ke(ie,R){if(!ie)return!1;let Be=!0;R&&void 0!==R.useG&&(Be=R.useG);const K=R&&R.vh;let Te=!0;R&&void 0!==R.chkDup&&(Te=R.chkDup);let le=!1;R&&void 0!==R.rt&&(le=R.rt);let W=ie;for(;W&&!W.hasOwnProperty(S);)W=Kn(W);if(!W&&ie[S]&&(W=ie),!W||W[$])return!1;const Ce=R&&R.eventNameToString,L={},J=W[$]=W[S],te=W[ye(A)]=W[A],Ye=W[ye(H)]=W[H],Qe=W[ye(U)]=W[U];let Le;function Me(w,D){return!Nn&&"object"==typeof w&&w?!!w.capture:Nn&&D?"boolean"==typeof w?{capture:w,passive:!0}:w?"object"==typeof w&&!1!==w.passive?Object.assign(Object.assign({},w),{passive:!0}):w:{passive:!0}:w}R&&R.prepend&&(Le=W[ye(R.prepend)]=W[R.prepend]);const h=Be?function(w){if(!L.isExisting)return J.call(L.target,L.eventName,L.capture?we:De,L.options)}:function(w){return J.call(L.target,L.eventName,w.invoke,L.options)},m=Be?function(w){if(!w.isRemoved){const D=nt[w.eventName];let j;D&&(j=D[w.capture?gt:ee]);const Y=j&&w.target[j];if(Y)for(let M=0;M<Y.length;M++)if(Y[M]===w){Y.splice(M,1),w.isRemoved=!0,0===Y.length&&(w.allRemoved=!0,w.target[j]=null);break}}if(w.allRemoved)return te.call(w.target,w.eventName,w.capture?we:De,w.options)}:function(w){return te.call(w.target,w.eventName,w.invoke,w.options)},ne=R&&R.diff?R.diff:function(w,D){const j=typeof D;return"function"===j&&w.callback===D||"object"===j&&w.originalDelegate===D},B=Zone[ye("UNPATCHED_EVENTS")],b=d[ye("PASSIVE_EVENTS")],N=function(w,D,j,Y,M=!1,oe=!1){return function(){const ae=this||d;let se=arguments[0];R&&R.transferEventName&&(se=R.transferEventName(se));let Se=arguments[1];if(!Se)return w.apply(this,arguments);if(pn&&"uncaughtException"===se)return w.apply(this,arguments);let Ae=!1;if("function"!=typeof Se){if(!Se.handleEvent)return w.apply(this,arguments);Ae=!0}if(K&&!K(w,Se,ae,arguments))return;const Lt=Nn&&!!b&&-1!==b.indexOf(se),Tt=Me(arguments[2],Lt);if(B)for(let Et=0;Et<B.length;Et++)if(se===B[Et])return Lt?w.call(ae,se,Se,Tt):w.apply(this,arguments);const ss=!!Tt&&("boolean"==typeof Tt||Tt.capture),Pn=!(!Tt||"object"!=typeof Tt)&&Tt.once,di=Zone.current;let Ds=nt[se];Ds||(fr(se,Ce),Ds=nt[se]);const rs=Ds[ss?gt:ee];let is,Gt=ae[rs],fn=!1;if(Gt){if(fn=!0,Te)for(let Et=0;Et<Gt.length;Et++)if(ne(Gt[Et],Se))return}else Gt=ae[rs]=[];const kn=ae.constructor.name,Ln=hr[kn];Ln&&(is=Ln[se]),is||(is=kn+D+(Ce?Ce(se):se)),L.options=Tt,Pn&&(L.options.once=!1),L.target=ae,L.capture=ss,L.eventName=se,L.isExisting=fn;const Ue=Be?As:void 0;Ue&&(Ue.taskData=L);const st=di.scheduleEventTask(is,Se,Ue,j,Y);return L.target=null,Ue&&(Ue.taskData=null),Pn&&(Tt.once=!0),!Nn&&"boolean"==typeof st.options||(st.options=Tt),st.target=ae,st.capture=ss,st.eventName=se,Ae&&(st.originalDelegate=Se),oe?Gt.unshift(st):Gt.push(st),M?ae:void 0}};return W[S]=N(J,Q,h,m,le),Le&&(W.prependListener=N(Le,".prependListener:",function(w){return Le.call(L.target,L.eventName,w.invoke,L.options)},m,le,!0)),W[A]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=arguments[2],Y=!!j&&("boolean"==typeof j||j.capture),M=arguments[1];if(!M)return te.apply(this,arguments);if(K&&!K(te,M,w,arguments))return;const oe=nt[D];let ae;oe&&(ae=oe[Y?gt:ee]);const se=ae&&w[ae];if(se)for(let Se=0;Se<se.length;Se++){const Ae=se[Se];if(ne(Ae,M))return se.splice(Se,1),Ae.isRemoved=!0,0===se.length&&(Ae.allRemoved=!0,w[ae]=null,"string"==typeof D)&&(w[ln+"ON_PROPERTY"+D]=null),Ae.zone.cancelTask(Ae),le?w:void 0}return te.apply(this,arguments)},W[H]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=[],Y=Is(w,Ce?Ce(D):D);for(let M=0;M<Y.length;M++){const oe=Y[M];j.push(oe.originalDelegate?oe.originalDelegate:oe.callback)}return j},W[U]=function(){const w=this||d;let D=arguments[0];if(D){R&&R.transferEventName&&(D=R.transferEventName(D));const j=nt[D];if(j){const oe=w[j[ee]],ae=w[j[gt]];if(oe){const se=oe.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}if(ae){const se=ae.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}}}else{const j=Object.keys(w);for(let Y=0;Y<j.length;Y++){const oe=Wt.exec(j[Y]);let ae=oe&&oe[1];ae&&"removeListener"!==ae&&this[U].call(this,ae)}this[U].call(this,"removeListener")}if(le)return this},kt(W[S],J),kt(W[A],te),Qe&&kt(W[U],Qe),Ye&&kt(W[H],Ye),!0}let ke=[];for(let ie=0;ie<T.length;ie++)ke[ie]=Ke(T[ie],_);return ke}function Is(d,v){if(!v){const A=[];for(let H in d){const U=Wt.exec(H);let $=U&&U[1];if($&&(!v||$===v)){const Q=d[H];if(Q)for(let z=0;z<Q.length;z++)A.push(Q[z])}}return A}let T=nt[v];T||(fr(v),T=nt[v]);const _=d[T[ee]],S=d[T[gt]];return _?S?_.concat(S):_.slice():S?S.slice():[]}function li(d,v){const T=d.Event;T&&T.prototype&&v.patchMethod(T.prototype,"stopImmediatePropagation",_=>function(S,A){S[dr]=!0,_&&_.apply(S,A)})}function mr(d,v,T,_,S){const A=Zone.__symbol__(_);if(v[A])return;const H=v[A]=v[_];v[_]=function(U,$,Q){return $&&$.prototype&&S.forEach(function(z){const Ee=`${T}.${_}::`+z,ue=$.prototype;try{if(ue.hasOwnProperty(z)){const re=d.ObjectGetOwnPropertyDescriptor(ue,z);re&&re.value?(re.value=d.wrapWithCurrentZone(re.value,Ee),d._redefineProperty($.prototype,z,re)):ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}else ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}catch{}}),H.call(v,U,$,Q)},d.attachOriginToPatched(v[_],H)}function bs(d,v,T){if(!T||0===T.length)return v;const _=T.filter(A=>A.target===d);if(!_||0===_.length)return v;const S=_[0].ignoreProperties;return v.filter(A=>-1===S.indexOf(A))}function es(d,v,T,_){d&&cr(d,bs(d,v,T),_)}function ts(d){return Object.getOwnPropertyNames(d).filter(v=>v.startsWith("on")&&v.length>2).map(v=>v.substring(2))}Zone.__load_patch("util",(d,v,T)=>{const _=ts(d);T.patchOnProperties=cr,T.patchMethod=Pt,T.bindArguments=xs,T.patchMacroTask=ai;const S=v.__symbol__("BLACK_LISTED_EVENTS"),A=v.__symbol__("UNPATCHED_EVENTS");d[A]&&(d[S]=d[A]),d[S]&&(v[S]=v[A]=d[S]),T.patchEventPrototype=li,T.patchEventTarget=hn,T.isIEOrEdge=Jn,T.ObjectDefineProperty=zn,T.ObjectGetOwnPropertyDescriptor=jt,T.ObjectCreate=Oe,T.ArraySlice=mt,T.patchClass=Yn,T.wrapWithCurrentZone=cn,T.filterProperties=bs,T.attachOriginToPatched=kt,T._redefineProperty=Object.defineProperty,T.patchCallbacks=mr,T.getGlobalObjects=()=>({globalSources:hr,zoneSymbolEventNames:nt,eventNames:_,isBrowser:Cs,isMix:pe,isNode:pn,TRUE_STR:gt,FALSE_STR:ee,ZONE_SYMBOL_PREFIX:ln,ADD_EVENT_LISTENER_STR:In,REMOVE_EVENT_LISTENER_STR:bn})});const ns=ye("zoneTask");function dn(d,v,T,_){let S=null,A=null;T+=_;const H={};function U(Q){const z=Q.data;return z.args[0]=function(){return Q.invoke.apply(this,arguments)},z.handleId=S.apply(d,z.args),Q}function $(Q){return A.call(d,Q.data.handleId)}S=Pt(d,v+=_,Q=>function(z,Ee){if("function"==typeof Ee[0]){const ue={isPeriodic:"Interval"===_,delay:"Timeout"===_||"Interval"===_?Ee[1]||0:void 0,args:Ee},re=Ee[0];Ee[0]=function(){try{return re.apply(this,arguments)}finally{ue.isPeriodic||("number"==typeof ue.handleId?delete H[ue.handleId]:ue.handleId&&(ue.handleId[ns]=null))}};const De=Dn(v,Ee[0],ue,U,$);if(!De)return De;const we=De.data.handleId;return"number"==typeof we?H[we]=De:we&&(we[ns]=De),we&&we.ref&&we.unref&&"function"==typeof we.ref&&"function"==typeof we.unref&&(De.ref=we.ref.bind(we),De.unref=we.unref.bind(we)),"number"==typeof we||we?we:De}return Q.apply(d,Ee)}),A=Pt(d,T,Q=>function(z,Ee){const ue=Ee[0];let re;"number"==typeof ue?re=H[ue]:(re=ue&&ue[ns],re||(re=ue)),re&&"string"==typeof re.type?"notScheduled"!==re.state&&(re.cancelFn&&re.data.isPeriodic||0===re.runCount)&&("number"==typeof ue?delete H[ue]:ue&&(ue[ns]=null),re.zone.cancelTask(re)):Q.apply(d,Ee)})}Zone.__load_patch("legacy",d=>{const v=d[Zone.__symbol__("legacyPatch")];v&&v()}),Zone.__load_patch("queueMicrotask",(d,v,T)=>{T.patchMethod(d,"queueMicrotask",_=>function(S,A){v.current.scheduleMicroTask("queueMicrotask",A[0])})}),Zone.__load_patch("timers",d=>{const v="set",T="clear";dn(d,v,T,"Timeout"),dn(d,v,T,"Interval"),dn(d,v,T,"Immediate")}),Zone.__load_patch("requestAnimationFrame",d=>{dn(d,"request","cancel","AnimationFrame"),dn(d,"mozRequest","mozCancel","AnimationFrame"),dn(d,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(d,v)=>{const T=["alert","prompt","confirm"];for(let _=0;_<T.length;_++)Pt(d,T[_],(A,H,U)=>function($,Q){return v.current.run(A,d,Q,U)})}),Zone.__load_patch("EventTarget",(d,v,T)=>{(function hi(d,v){v.patchEventPrototype(d,v)})(d,T),function pi(d,v){if(Zone[v.symbol("patchEventTarget")])return;const{eventNames:T,zoneSymbolEventNames:_,TRUE_STR:S,FALSE_STR:A,ZONE_SYMBOL_PREFIX:H}=v.getGlobalObjects();for(let $=0;$<T.length;$++){const Q=T[$],ue=H+(Q+A),re=H+(Q+S);_[Q]={},_[Q][A]=ue,_[Q][S]=re}const U=d.EventTarget;U&&U.prototype&&v.patchEventTarget(d,v,[U&&U.prototype])}(d,T);const _=d.XMLHttpRequestEventTarget;_&&_.prototype&&T.patchEventTarget(d,T,[_.prototype])}),Zone.__load_patch("MutationObserver",(d,v,T)=>{Yn("MutationObserver"),Yn("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(d,v,T)=>{Yn("IntersectionObserver")}),Zone.__load_patch("FileReader",(d,v,T)=>{Yn("FileReader")}),Zone.__load_patch("on_property",(d,v,T)=>{!function gr(d,v){if(pn&&!pe||Zone[d.symbol("patchEvents")])return;const T=v.__Zone_ignore_on_properties;let _=[];if(Cs){const S=window;_=_.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const A=function ui(){try{const d=Nt.navigator.userAgent;if(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:S,ignoreProperties:["error"]}]:[];es(S,ts(S),T&&T.concat(A),Kn(S))}_=_.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let S=0;S<_.length;S++){const A=v[_[S]];A&&A.prototype&&es(A.prototype,ts(A.prototype),T)}}(T,d)}),Zone.__load_patch("customElements",(d,v,T)=>{!function ci(d,v){const{isBrowser:T,isMix:_}=v.getGlobalObjects();(T||_)&&d.customElements&&"customElements"in d&&v.patchCallbacks(v,d.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(d,T)}),Zone.__load_patch("XHR",(d,v)=>{!function $(Q){const z=Q.XMLHttpRequest;if(!z)return;const Ee=z.prototype;let re=Ee[Ts],De=Ee[Zn];if(!re){const L=Q.XMLHttpRequestEventTarget;if(L){const J=L.prototype;re=J[Ts],De=J[Zn]}}const we="readystatechange",Ke="scheduled";function ke(L){const J=L.data,te=J.target;te[A]=!1,te[U]=!1;const Ye=te[S];re||(re=te[Ts],De=te[Zn]),Ye&&De.call(te,we,Ye);const Qe=te[S]=()=>{if(te.readyState===te.DONE)if(!J.aborted&&te[A]&&L.state===Ke){const Me=te[v.__symbol__("loadfalse")];if(0!==te.status&&Me&&Me.length>0){const $e=L.invoke;L.invoke=function(){const Ie=te[v.__symbol__("loadfalse")];for(let x=0;x<Ie.length;x++)Ie[x]===L&&Ie.splice(x,1);!J.aborted&&L.state===Ke&&$e.call(L)},Me.push(L)}else L.invoke()}else!J.aborted&&!1===te[A]&&(te[U]=!0)};return re.call(te,we,Qe),te[T]||(te[T]=L),W.apply(te,J.args),te[A]=!0,L}function ie(){}function R(L){const J=L.data;return J.aborted=!0,Ce.apply(J.target,J.args)}const Be=Pt(Ee,"open",()=>function(L,J){return L[_]=0==J[2],L[H]=J[1],Be.apply(L,J)}),Te=ye("fetchTaskAborting"),le=ye("fetchTaskScheduling"),W=Pt(Ee,"send",()=>function(L,J){if(!0===v.current[le]||L[_])return W.apply(L,J);{const te={target:L,url:L[H],isPeriodic:!1,args:J,aborted:!1},Ye=Dn("XMLHttpRequest.send",ie,te,ke,R);L&&!0===L[U]&&!te.aborted&&Ye.state===Ke&&Ye.invoke()}}),Ce=Pt(Ee,"abort",()=>function(L,J){const te=function ue(L){return L[T]}(L);if(te&&"string"==typeof te.type){if(null==te.cancelFn||te.data&&te.data.aborted)return;te.zone.cancelTask(te)}else if(!0===v.current[Te])return Ce.apply(L,J)})}(d);const T=ye("xhrTask"),_=ye("xhrSync"),S=ye("xhrListener"),A=ye("xhrScheduled"),H=ye("xhrURL"),U=ye("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",d=>{d.navigator&&d.navigator.geolocation&&function qe(d,v){const T=d.constructor.name;for(let _=0;_<v.length;_++){const S=v[_],A=d[S];if(A){if(!lt(jt(d,S)))continue;d[S]=(U=>{const $=function(){return U.apply(this,xs(arguments,T+"."+S))};return kt($,U),$})(A)}}}(d.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(d,v)=>{function T(_){return function(S){Is(d,_).forEach(H=>{const U=d.PromiseRejectionEvent;if(U){const $=new U(_,{promise:S.promise,reason:S.rejection});H.invoke($)}})}}d.PromiseRejectionEvent&&(v[ye("unhandledPromiseRejectionHandler")]=T("unhandledrejection"),v[ye("rejectionHandledHandler")]=T("rejectionhandled"))})}},jt=>{jt(jt.s=5565)}]);
(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[179],{2011:(At,Ge,j)=>{"use strict";j.d(Ge,{Dh:()=>Ne,GT:()=>Ce,cc:()=>Ue,hO:()=>tt,on:()=>J,pX:()=>ge,xv:()=>Ae});var u=j(4650),k=j(127),W=j(5813);At=j.hmd(At);const be=["ngOnDestroy"],ge=(Me,at,St,He={})=>new Proxy(Me,{get:(ke,Fe)=>St.runOutsideAngular(()=>{var st;if(Me[Fe])return!(null===(st=He?.spy)||void 0===st)&&st.get&&He.spy.get(Fe,Me[Fe]),Me[Fe];if(be.indexOf(Fe)>-1)return()=>{};const ft=at.toPromise().then(Q=>{const Re=Q&&Q[Fe];return"function"==typeof Re?Re.bind(Q):Re&&Re.then?Re.then(ae=>St.run(()=>ae)):St.run(()=>Re)});return new Proxy(()=>{},{get:(Q,Re)=>ft[Re],apply:(Q,Re,ae)=>ft.then(pe=>{var ye;const ve=pe&&pe(...ae);return!(null===(ye=He?.spy)||void 0===ye)&&ye.apply&&He.spy.apply(Fe,ae,ve),ve})})})}),Ce=(Me,at)=>{at.forEach(St=>{Object.getOwnPropertyNames(St.prototype||St).forEach(He=>{Object.defineProperty(Me.prototype,He,Object.getOwnPropertyDescriptor(St.prototype||St,He))})})};class Ie{constructor(at){return at}}const Ne=new u.OlP("angularfire2.app.options"),Ae=new u.OlP("angularfire2.app.name");function J(Me,at,St){const ke="object"==typeof St&&St||{};ke.name=ke.name||"string"==typeof St&&St||"[DEFAULT]";const st=k.Z.apps.filter(ft=>ft&&ft.name===ke.name)[0]||at.runOutsideAngular(()=>k.Z.initializeApp(Me,ke));try{JSON.stringify(Me)!==JSON.stringify(st.options)&&X("error",`${st.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(st)}const X=(Me,...at)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Me](...at)},ce={provide:Ie,useFactory:J,deps:[Ne,u.R0b,[new u.FiY,Ae]]};let tt=(()=>{class Me{constructor(St){k.Z.registerVersion("angularfire",W.q4.full,"core"),k.Z.registerVersion("angularfire",W.q4.full,"app-compat"),k.Z.registerVersion("angular",u.q4F.full,St.toString())}static initializeApp(St,He){return{ngModule:Me,providers:[{provide:Ne,useValue:St},{provide:Ae,useValue:He}]}}}return Me.\u0275fac=function(St){return new(St||Me)(u.LFG(u.Lbi))},Me.\u0275mod=u.oAB({type:Me}),Me.\u0275inj=u.cJS({providers:[ce]}),Me})();function Ue(Me,at,St,He,ke){const[,Fe,st]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===Me)||[];if(Fe)return function Le(Me,at){try{return Me.toString()===at.toString()}catch{return Me===at}}(ke,st)||(Oe("error",`${at} was already initialized on the ${St} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:ke,was:st})),Fe;{const ft=He();return globalThis.\u0275AngularfireInstanceCache.push([Me,ft,ke]),ft}}const ht=!!At.hot,Oe=(Me,...at)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Me](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(At,Ge,j)=>{"use strict";j.d(Ge,{q4:()=>ti,iC:()=>vi,fc:()=>Ps,HU:()=>Wn,vb:()=>Vu,JM:()=>Bu});var u=j(4650),k=j(5867),W=j(5861),be=j(9681),ge=j(2090),Ce=j(4859),Ie=j(1877),Ne=j(8766);const Ae="@firebase/installations",J="0.5.12",ce=`w:${J}`,tt="FIS_v2",at=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function St(S){return S instanceof ge.ZR&&S.code.includes("request-failed")}function He({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function ke(S){return{token:S.token,requestStatus:2,expiresIn:pe(S.expiresIn),creationTime:Date.now()}}function Fe(S,N){return st.apply(this,arguments)}function st(){return(st=(0,W.Z)(function*(S,N){const q=(yield N.json()).error;return at.create("request-failed",{requestName:S,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function ft({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Q(S,{refreshToken:N}){const F=ft(S);return F.append("Authorization",function ye(S){return`${tt} ${S}`}(N)),F}function Re(S){return ae.apply(this,arguments)}function ae(){return(ae=(0,W.Z)(function*(S){const N=yield S();return N.status>=500&&N.status<600?S():N})).apply(this,arguments)}function pe(S){return Number(S.replace("s","000"))}function ve(S,N){return rt.apply(this,arguments)}function rt(){return(rt=(0,W.Z)(function*({appConfig:S,heartbeatServiceProvider:N},{fid:F}){const q=He(S),he=ft(S),Ee=N.getImmediate({optional:!0});if(Ee){const Ht=yield Ee.getHeartbeatsHeader();Ht&&he.append("x-firebase-client",Ht)}const nt={method:"POST",headers:he,body:JSON.stringify({fid:F,authVersion:tt,appId:S.appId,sdkVersion:ce})},Vt=yield Re(()=>fetch(q,nt));if(Vt.ok){const Ht=yield Vt.json();return{fid:Ht.fid||F,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:ke(Ht.authToken)}}throw yield Fe("Create Installation",Vt)})).apply(this,arguments)}function Je(S){return new Promise(N=>{setTimeout(N,S)})}const Tn=/^[cdef][\w-]{21}$/;function pt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const F=function Yn(S){return function Mt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Tn.test(F)?F:""}catch{return""}}function dr(S){return`${S.appName}!${S.appId}`}const Vn=new Map;function pn(S,N){const F=dr(S);Qt(F,N),function xi(S,N){const F=function kn(){return!En&&"BroadcastChannel"in self&&(En=new BroadcastChannel("[Firebase] FID Change"),En.onmessage=S=>{Qt(S.data.key,S.data.fid)}),En}();F&&F.postMessage({key:S,fid:N}),function Wr(){0===Vn.size&&En&&(En.close(),En=null)}()}(F,N)}function Qt(S,N){const F=Vn.get(S);if(F)for(const q of F)q(N)}let En=null;const Or="firebase-installations-store";let Ai=null;function vr(){return Ai||(Ai=(0,Ne.X3)("firebase-installations-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(Or)}})),Ai}function yt(S,N){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,W.Z)(function*(S,N){const F=dr(S),he=(yield vr()).transaction(Or,"readwrite"),Ee=he.objectStore(Or),We=yield Ee.get(F);return yield Ee.put(N,F),yield he.done,(!We||We.fid!==N.fid)&&pn(S,N.fid),N})).apply(this,arguments)}function Hi(S){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,W.Z)(function*(S){const N=dr(S),q=(yield vr()).transaction(Or,"readwrite");yield q.objectStore(Or).delete(N),yield q.done})).apply(this,arguments)}function nr(S,N){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,W.Z)(function*(S,N){const F=dr(S),he=(yield vr()).transaction(Or,"readwrite"),Ee=he.objectStore(Or),We=yield Ee.get(F),nt=N(We);return void 0===nt?yield Ee.delete(F):yield Ee.put(nt,F),yield he.done,nt&&(!We||We.fid!==nt.fid)&&pn(S,nt.fid),nt})).apply(this,arguments)}function Fr(S){return wr.apply(this,arguments)}function wr(){return(wr=(0,W.Z)(function*(S){let N;const F=yield nr(S.appConfig,q=>{const he=fr(q),Ee=Ft(S,he);return N=Ee.registrationPromise,Ee.installationEntry});return""===F.fid?{installationEntry:yield N}:{installationEntry:F,registrationPromise:N}})).apply(this,arguments)}function fr(S){return jt(S||{fid:pt(),registrationStatus:0})}function Ft(S,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(at.create("app-offline"))};const F={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},q=function Ot(S,N){return Un.apply(this,arguments)}(S,F);return{installationEntry:F,registrationPromise:q}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Lr(S)}:{installationEntry:N}}function Un(){return(Un=(0,W.Z)(function*(S,N){try{const F=yield ve(S,N);return yt(S.appConfig,F)}catch(F){throw St(F)&&409===F.customData.serverCode?yield Hi(S.appConfig):yield yt(S.appConfig,{fid:N.fid,registrationStatus:0}),F}})).apply(this,arguments)}function Lr(S){return Br.apply(this,arguments)}function Br(){return(Br=(0,W.Z)(function*(S){let N=yield zr(S.appConfig);for(;1===N.registrationStatus;)yield Je(100),N=yield zr(S.appConfig);if(0===N.registrationStatus){const{installationEntry:F,registrationPromise:q}=yield Fr(S);return q||F}return N})).apply(this,arguments)}function zr(S){return nr(S,N=>{if(!N)throw at.create("installation-not-found");return jt(N)})}function jt(S){return function Is(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Sn(S,N){return ns.apply(this,arguments)}function ns(){return(ns=(0,W.Z)(function*({appConfig:S,heartbeatServiceProvider:N},F){const q=In(S,F),he=Q(S,F),Ee=N.getImmediate({optional:!0});if(Ee){const Ht=yield Ee.getHeartbeatsHeader();Ht&&he.append("x-firebase-client",Ht)}const nt={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:ce,appId:S.appId}})},Vt=yield Re(()=>fetch(q,nt));if(Vt.ok)return ke(yield Vt.json());throw yield Fe("Generate Auth Token",Vt)})).apply(this,arguments)}function In(S,{fid:N}){return`${He(S)}/${N}/authTokens:generate`}function oe(S){return te.apply(this,arguments)}function te(){return(te=(0,W.Z)(function*(S,N=!1){let F;const q=yield nr(S.appConfig,Ee=>{if(!kt(Ee))throw at.create("not-registered");const We=Ee.authToken;if(!N&&or(We))return Ee;if(1===We.requestStatus)return F=K(S,N),Ee;{if(!navigator.onLine)throw at.create("app-offline");const nt=qr(Ee);return F=ze(S,nt),nt}});return F?yield F:q.authToken})).apply(this,arguments)}function K(S,N){return ne.apply(this,arguments)}function ne(){return(ne=(0,W.Z)(function*(S,N){let F=yield re(S.appConfig);for(;1===F.authToken.requestStatus;)yield Je(100),F=yield re(S.appConfig);const q=F.authToken;return 0===q.requestStatus?oe(S,N):q})).apply(this,arguments)}function re(S){return nr(S,N=>{if(!kt(N))throw at.create("not-registered");return function mn(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function ze(S,N){return ct.apply(this,arguments)}function ct(){return(ct=(0,W.Z)(function*(S,N){try{const F=yield Sn(S,N),q=Object.assign(Object.assign({},N),{authToken:F});return yield yt(S.appConfig,q),F}catch(F){if(!St(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const q=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield yt(S.appConfig,q)}else yield Hi(S.appConfig);throw F}})).apply(this,arguments)}function kt(S){return void 0!==S&&2===S.registrationStatus}function or(S){return 2===S.requestStatus&&!function Fn(S){const N=Date.now();return N<S.creationTime||S.creationTime+S.expiresIn<N+36e5}(S)}function qr(S){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:N})}function ar(){return(ar=(0,W.Z)(function*(S){const N=S,{installationEntry:F,registrationPromise:q}=yield Fr(N);return q?q.catch(console.error):oe(N).catch(console.error),F.fid})).apply(this,arguments)}function us(){return(us=(0,W.Z)(function*(S,N=!1){const F=S;return yield ji(F),(yield oe(F,N)).token})).apply(this,arguments)}function ji(S){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,W.Z)(function*(S){const{registrationPromise:N}=yield Fr(S);N&&(yield N)})).apply(this,arguments)}function Hs(S){return at.create("missing-app-config-values",{valueName:S})}const hs="installations",Kn=S=>{const N=S.getProvider("app").getImmediate(),F=function lr(S){if(!S||!S.options)throw Hs("App Configuration");if(!S.name)throw Hs("App Name");const N=["projectId","apiKey","appId"];for(const F of N)if(!S.options[F])throw Hs(F);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(N);return{app:N,appConfig:F,heartbeatServiceProvider:(0,be._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},js=S=>{const N=S.getProvider("app").getImmediate(),F=(0,be._getProvider)(N,hs).getImmediate();return{getId:()=>function on(S){return ar.apply(this,arguments)}(F),getToken:he=>function Dr(S){return us.apply(this,arguments)}(F,he)}};(function Eo(){(0,be._registerComponent)(new Ce.wA(hs,Kn,"PUBLIC")),(0,be._registerComponent)(new Ce.wA("installations-internal",js,"PRIVATE"))})(),(0,be.registerVersion)(Ae,J),(0,be.registerVersion)(Ae,J,"esm2017");const Ws="@firebase/remote-config",Qn=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dc{constructor(N,F,q,he){this.client=N,this.storage=F,this.storageCache=q,this.logger=he}isCachedDataFresh(N,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-F,he=q<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${he}.`),he}fetch(N){var F=this;return(0,W.Z)(function*(){const[q,he]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(he&&F.isCachedDataFresh(N.cacheMaxAgeMillis,q))return he;N.eTag=he&&he.eTag;const Ee=yield F.client.fetch(N),We=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ee.status&&We.push(F.storage.setLastSuccessfulFetchResponse(Ee)),yield Promise.all(We),Ee})()}}function fo(S=navigator){return S.languages&&S.languages[0]||S.language}class B{constructor(N,F,q,he,Ee,We){this.firebaseInstallations=N,this.sdkVersion=F,this.namespace=q,this.projectId=he,this.apiKey=Ee,this.appId=We}fetch(N){var F=this;return(0,W.Z)(function*(){var q,he,Ee;const[We,nt]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Ut={sdk_version:F.sdkVersion,app_instance_id:We,app_instance_id_token:nt,app_id:F.appId,language_code:fo()},gr={method:"POST",headers:qt,body:JSON.stringify(Ut)},jr=fetch(Ht,gr),Zn=new Promise((Ra,Qs)=>{N.signal.addEventListener(()=>{const fl=new Error("The operation was aborted.");fl.name="AbortError",Qs(fl)})});let ui;try{yield Promise.race([jr,Zn]),ui=yield jr}catch(Ra){let Qs="fetch-client-network";throw"AbortError"===(null===(q=Ra)||void 0===q?void 0:q.name)&&(Qs="fetch-timeout"),Qn.create(Qs,{originalErrorMessage:null===(he=Ra)||void 0===he?void 0:he.message})}let ua=ui.status;const Wl=ui.headers.get("ETag")||void 0;let Oa,Ma;if(200===ui.status){let Ra;try{Ra=yield ui.json()}catch(Qs){throw Qn.create("fetch-client-parse",{originalErrorMessage:null===(Ee=Qs)||void 0===Ee?void 0:Ee.message})}Oa=Ra.entries,Ma=Ra.state}if("INSTANCE_STATE_UNSPECIFIED"===Ma?ua=500:"NO_CHANGE"===Ma?ua=304:("NO_TEMPLATE"===Ma||"EMPTY_CONFIG"===Ma)&&(Oa={}),304!==ua&&200!==ua)throw Qn.create("fetch-status",{httpStatus:ua});return{status:ua,eTag:Wl,config:Oa}})()}}class we{constructor(N,F){this.client=N,this.storage=F}fetch(N){var F=this;return(0,W.Z)(function*(){const q=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(N,q)})()}attemptFetch(N,{throttleEndTimeMillis:F,backoffCount:q}){var he=this;return(0,W.Z)(function*(){yield function $(S,N){return new Promise((F,q)=>{const he=Math.max(N-Date.now(),0),Ee=setTimeout(F,he);S.addEventListener(()=>{clearTimeout(Ee),q(Qn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,F);try{const Ee=yield he.client.fetch(N);return yield he.storage.deleteThrottleMetadata(),Ee}catch(Ee){if(!function ee(S){if(!(S instanceof ge.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ee))throw Ee;const We={throttleEndTimeMillis:Date.now()+(0,ge.$s)(q),backoffCount:q+1};return yield he.storage.setThrottleMetadata(We),he.attemptFetch(N,We)}})()}}class an{constructor(N,F,q,he,Ee){this.app=N,this._client=F,this._storageCache=q,this._storage=he,this._logger=Ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rr(S,N){var F;const q=S.target.error||void 0;return Qn.create(N,{originalErrorMessage:q&&(null===(F=q)||void 0===F?void 0:F.message)})}const ur="app_namespace_store";class ef{constructor(N,F,q,he=function up(){return new Promise((S,N)=>{var F;try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=he=>{N(Rr(he,"storage-open"))},q.onsuccess=he=>{S(he.target.result)},q.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(ur,{keyPath:"compositeKey"})}}catch(q){N(Qn.create("storage-open",{originalErrorMessage:null===(F=q)||void 0===F?void 0:F.message}))}})}()){this.appId=N,this.appName=F,this.namespace=q,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var F=this;return(0,W.Z)(function*(){const q=yield F.openDbPromise;return new Promise((he,Ee)=>{var We;const Vt=q.transaction([ur],"readonly").objectStore(ur),Ht=F.createCompositeKey(N);try{const qt=Vt.get(Ht);qt.onerror=Ut=>{Ee(Rr(Ut,"storage-get"))},qt.onsuccess=Ut=>{const gr=Ut.target.result;he(gr?gr.value:void 0)}}catch(qt){Ee(Qn.create("storage-get",{originalErrorMessage:null===(We=qt)||void 0===We?void 0:We.message}))}})})()}set(N,F){var q=this;return(0,W.Z)(function*(){const he=yield q.openDbPromise;return new Promise((Ee,We)=>{var nt;const Ht=he.transaction([ur],"readwrite").objectStore(ur),qt=q.createCompositeKey(N);try{const Ut=Ht.put({compositeKey:qt,value:F});Ut.onerror=gr=>{We(Rr(gr,"storage-set"))},Ut.onsuccess=()=>{Ee()}}catch(Ut){We(Qn.create("storage-set",{originalErrorMessage:null===(nt=Ut)||void 0===nt?void 0:nt.message}))}})})()}delete(N){var F=this;return(0,W.Z)(function*(){const q=yield F.openDbPromise;return new Promise((he,Ee)=>{var We;const Vt=q.transaction([ur],"readwrite").objectStore(ur),Ht=F.createCompositeKey(N);try{const qt=Vt.delete(Ht);qt.onerror=Ut=>{Ee(Rr(Ut,"storage-delete"))},qt.onsuccess=()=>{he()}}catch(qt){Ee(Qn.create("storage-delete",{originalErrorMessage:null===(We=qt)||void 0===We?void 0:We.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class zd{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,W.Z)(function*(){const F=N.storage.getLastFetchStatus(),q=N.storage.getLastSuccessfulFetchTimestampMillis(),he=N.storage.getActiveConfig(),Ee=yield F;Ee&&(N.lastFetchStatus=Ee);const We=yield q;We&&(N.lastSuccessfulFetchTimestampMillis=We);const nt=yield he;nt&&(N.activeConfig=nt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Al(){return tf.apply(this,arguments)}function tf(){return(tf=(0,W.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Ca(){(0,be._registerComponent)(new Ce.wA("remote-config",function S(N,{instanceIdentifier:F}){const q=N.getProvider("app").getImmediate(),he=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qn.create("registration-window");if(!(0,ge.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:Ee,apiKey:We,appId:nt}=q.options;if(!Ee)throw Qn.create("registration-project-id");if(!We)throw Qn.create("registration-api-key");if(!nt)throw Qn.create("registration-app-id");const Vt=new ef(nt,q.name,F=F||"firebase"),Ht=new zd(Vt),qt=new Ie.Yd(Ws);qt.logLevel=Ie.in.ERROR;const Ut=new B(he,be.SDK_VERSION,F,Ee,We,nt),gr=new we(Ut,Vt),jr=new dc(gr,Vt,Ht,qt),Zn=new an(q,jr,Ht,Vt,qt);return function Gn(S){const N=(0,ge.m9)(S);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Zn),Zn},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(Ws,"0.3.11"),(0,be.registerVersion)(Ws,"0.3.11","esm2017")}();const xo="/firebase-messaging-sw.js",Ao="/firebase-cloud-messaging-push-scope",ta="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jn="google.c.a.c_id",Xn="google.c.a.c_l",ed="google.c.a.ts",nf="google.c.a.e";var na=(()=>{return(S=na||(na={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",na;var S})();function zs(S){const N=new Uint8Array(S);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xs(S){const F=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(F),he=new Uint8Array(q.length);for(let Ee=0;Ee<q.length;++Ee)he[Ee]=q.charCodeAt(Ee);return he}const Ka="fcm_token_details_db",Hn="fcm_token_object_Store";function Yd(S){return pu.apply(this,arguments)}function pu(){return pu=(0,W.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ee=>Ee.name).includes(Ka))return null;let N=null;return(yield(0,Ne.X3)(Ka,5,{upgrade:(q=(0,W.Z)(function*(he,Ee,We,nt){var Vt;if(Ee<2||!he.objectStoreNames.contains(Hn))return;const Ht=nt.objectStore(Hn),qt=yield Ht.index("fcmSenderId").get(S);if(yield Ht.clear(),qt)if(2===Ee){const Ut=qt;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;N={token:Ut.fcmToken,createTime:null!==(Vt=Ut.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:zs(Ut.vapidKey)}}}else if(3===Ee){const Ut=qt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:zs(Ut.auth),p256dh:zs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:zs(Ut.vapidKey)}}}else if(4===Ee){const Ut=qt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:zs(Ut.auth),p256dh:zs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:zs(Ut.vapidKey)}}}}),function(Ee,We,nt,Vt){return q.apply(this,arguments)})})).close(),yield(0,Ne.Lj)(Ka),yield(0,Ne.Lj)("fcm_vapid_details_db"),yield(0,Ne.Lj)("undefined"),$r(N)?N:null;var q}),pu.apply(this,arguments)}function $r(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:N}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const As="firebase-messaging-store";let is=null;function gu(){return is||(is=(0,Ne.X3)("firebase-messaging-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(As)}})),is}function Qa(S){return No.apply(this,arguments)}function No(){return(No=(0,W.Z)(function*(S){const N=po(S),q=yield(yield gu()).transaction(As).objectStore(As).get(N);if(q)return q;{const he=yield Yd(S.appConfig.senderId);if(he)return yield An(S,he),he}})).apply(this,arguments)}function An(S,N){return zi.apply(this,arguments)}function zi(){return(zi=(0,W.Z)(function*(S,N){const F=po(S),he=(yield gu()).transaction(As,"readwrite");return yield he.objectStore(As).put(N,F),yield he.done,N})).apply(this,arguments)}function Ja(S){return ss.apply(this,arguments)}function ss(){return(ss=(0,W.Z)(function*(S){const N=po(S),q=(yield gu()).transaction(As,"readwrite");yield q.objectStore(As).delete(N),yield q.done})).apply(this,arguments)}function po({appConfig:S}){return S.appId}const er=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zt(S,N){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,W.Z)(function*(S,N){var F;const q=yield nd(S),he=Ze(N),Ee={method:"POST",headers:q,body:JSON.stringify(he)};let We;try{We=yield(yield fetch(mo(S.appConfig),Ee)).json()}catch(nt){throw er.create("token-subscribe-failed",{errorInfo:null===(F=nt)||void 0===F?void 0:F.toString()})}if(We.error)throw er.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw er.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function Ir(S,N){return go.apply(this,arguments)}function go(){return(go=(0,W.Z)(function*(S,N){var F;const q=yield nd(S),he=Ze(N.subscriptionOptions),Ee={method:"PATCH",headers:q,body:JSON.stringify(he)};let We;try{We=yield(yield fetch(`${mo(S.appConfig)}/${N.token}`,Ee)).json()}catch(nt){throw er.create("token-update-failed",{errorInfo:null===(F=nt)||void 0===F?void 0:F.toString()})}if(We.error)throw er.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw er.create("token-update-no-token");return We.token})).apply(this,arguments)}function Ml(S,N){return td.apply(this,arguments)}function td(){return(td=(0,W.Z)(function*(S,N){var F;const he={method:"DELETE",headers:yield nd(S)};try{const We=yield(yield fetch(`${mo(S.appConfig)}/${N}`,he)).json();if(We.error)throw er.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(Ee){throw er.create("token-unsubscribe-failed",{errorInfo:null===(F=Ee)||void 0===F?void 0:F.toString()})}})).apply(this,arguments)}function mo({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function nd(S){return _u.apply(this,arguments)}function _u(){return(_u=(0,W.Z)(function*({appConfig:S,installations:N}){const F=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function Ze({p256dh:S,auth:N,endpoint:F,vapidKey:q}){const he={web:{endpoint:F,auth:N,p256dh:S}};return q!==ta&&(he.web.applicationPubKey=q),he}const _n=6048e5;function Xa(S){return ra.apply(this,arguments)}function ra(){return(ra=(0,W.Z)(function*(S){const N=yield rd(S.swRegistration,S.vapidKey),F={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:N.endpoint,auth:zs(N.getKey("auth")),p256dh:zs(N.getKey("p256dh"))},q=yield Qa(S.firebaseDependencies);if(q){if(hc(q.subscriptionOptions,F))return Date.now()>=q.createTime+_n?el(S,{token:q.token,createTime:Date.now(),subscriptionOptions:F}):q.token;try{yield Ml(S.firebaseDependencies,q.token)}catch(he){console.warn(he)}return tl(S.firebaseDependencies,F)}return tl(S.firebaseDependencies,F)})).apply(this,arguments)}function Jr(S){return vu.apply(this,arguments)}function vu(){return(vu=(0,W.Z)(function*(S){const N=yield Qa(S.firebaseDependencies);N&&(yield Ml(S.firebaseDependencies,N.token),yield Ja(S.firebaseDependencies));const F=yield S.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function el(S,N){return gs.apply(this,arguments)}function gs(){return(gs=(0,W.Z)(function*(S,N){try{const F=yield Ir(S.firebaseDependencies,N),q=Object.assign(Object.assign({},N),{token:F,createTime:Date.now()});return yield An(S.firebaseDependencies,q),F}catch(F){throw yield Jr(S),F}})).apply(this,arguments)}function tl(S,N){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,W.Z)(function*(S,N){const q={token:yield Zt(S,N),createTime:Date.now(),subscriptionOptions:N};return yield An(S,q),q.token})).apply(this,arguments)}function rd(S,N){return yu.apply(this,arguments)}function yu(){return(yu=(0,W.Z)(function*(S,N){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xs(N)})})).apply(this,arguments)}function hc(S,N){return N.vapidKey===S.vapidKey&&N.endpoint===S.endpoint&&N.auth===S.auth&&N.p256dh===S.p256dh}function bu(S){const N={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Gr(S,N){if(!N.notification)return;S.notification={};const F=N.notification.title;F&&(S.notification.title=F);const q=N.notification.body;q&&(S.notification.body=q);const he=N.notification.image;he&&(S.notification.image=he)}(N,S),function Hr(S,N){!N.data||(S.data=N.data)}(N,S),function wu(S,N){var F,q,he,Ee,We;if(!(N.fcmOptions||null!==(F=N.notification)&&void 0!==F&&F.click_action))return;S.fcmOptions={};const nt=null!==(he=null===(q=N.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==he?he:null===(Ee=N.notification)||void 0===Ee?void 0:Ee.click_action;nt&&(S.fcmOptions.link=nt);const Vt=null===(We=N.fcmOptions)||void 0===We?void 0:We.analytics_label;Vt&&(S.fcmOptions.analyticsLabel=Vt)}(N,S),N}function _o(S){return"object"==typeof S&&!!S&&Jn in S}function Oo(S,N){const F=[];for(let q=0;q<S.length;q++)F.push(S.charAt(q)),q<N.length&&F.push(N.charAt(q));return F.join("")}function Du(S){return er.create("missing-app-config-values",{valueName:S})}Oo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cp{constructor(N,F,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function rf(S){if(!S||!S.options)throw Du("App Configuration Object");if(!S.name)throw Du("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:F}=S;for(const q of N)if(!F[q])throw Du(q);return{appName:S.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:he,installations:F,analyticsProvider:q}}_delete(){return Promise.resolve()}}function id(S){return fc.apply(this,arguments)}function fc(){return(fc=(0,W.Z)(function*(S){var N;try{S.swRegistration=yield navigator.serviceWorker.register(xo,{scope:Ao}),S.swRegistration.update().catch(()=>{})}catch(F){throw er.create("failed-service-worker-registration",{browserErrorMessage:null===(N=F)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function Cu(S,N){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,W.Z)(function*(S,N){if(!N&&!S.swRegistration&&(yield id(S)),N||!S.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw er.create("invalid-sw-registration");S.swRegistration=N}})).apply(this,arguments)}function Iu(S,N){return sd.apply(this,arguments)}function sd(){return(sd=(0,W.Z)(function*(S,N){N?S.vapidKey=N:S.vapidKey||(S.vapidKey=ta)})).apply(this,arguments)}function Tu(){return(Tu=(0,W.Z)(function*(S,N){if(!navigator)throw er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw er.create("permission-blocked");return yield Iu(S,N?.vapidKey),yield Cu(S,N?.serviceWorkerRegistration),Xa(S)})).apply(this,arguments)}function Mo(S,N,F){return kl.apply(this,arguments)}function kl(){return(kl=(0,W.Z)(function*(S,N,F){const q=od(N);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:F[Jn],message_name:F[Xn],message_time:F[ed],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function od(S){switch(S){case na.NOTIFICATION_CLICKED:return"notification_open";case na.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nl(){return(nl=(0,W.Z)(function*(S,N){const F=N.data;if(!F.isFirebaseMessaging)return;S.onMessageHandler&&F.messageType===na.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(bu(F)):S.onMessageHandler.next(bu(F)));const q=F.data;_o(q)&&"1"===q[nf]&&(yield Mo(S,F.messageType,q))})).apply(this,arguments)}const Zs="@firebase/messaging",_i=S=>{const N=new cp(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function Kd(S,N){return nl.apply(this,arguments)}(N,F)),N},Ns=S=>{const N=S.getProvider("messaging").getImmediate();return{getToken:q=>function Pl(S,N){return Tu.apply(this,arguments)}(N,q)}};function ad(){return ld.apply(this,arguments)}function ld(){return(ld=(0,W.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tr(){(0,be._registerComponent)(new Ce.wA("messaging",_i,"PUBLIC")),(0,be._registerComponent)(new Ce.wA("messaging-internal",Ns,"PRIVATE")),(0,be.registerVersion)(Zs,"0.9.16"),(0,be.registerVersion)(Zs,"0.9.16","esm2017")}();const Er="analytics",rr="firebase_id",Di="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rl="https://www.googletagmanager.com/gtag/js",Xr=new Ie.Yd("@firebase/analytics");function ia(S){return Promise.all(S.map(N=>N.catch(F=>F)))}function il(S,N){const F=document.createElement("script");F.src=`${rl}?l=${S}&id=${N}`,F.async=!0,document.head.appendChild(F)}function tr(S,N,F,q,he,Ee){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,W.Z)(function*(S,N,F,q,he,Ee){const We=q[he];try{if(We)yield N[We];else{const Vt=(yield ia(F)).find(Ht=>Ht.measurementId===he);Vt&&(yield N[Vt.appId])}}catch(nt){Xr.error(nt)}S("config",he,Ee)})).apply(this,arguments)}function sl(S,N,F,q,he){return Po.apply(this,arguments)}function Po(){return(Po=(0,W.Z)(function*(S,N,F,q,he){try{let Ee=[];if(he&&he.send_to){let We=he.send_to;Array.isArray(We)||(We=[We]);const nt=yield ia(F);for(const Vt of We){const Ht=nt.find(Ut=>Ut.measurementId===Vt),qt=Ht&&N[Ht.appId];if(!qt){Ee=[];break}Ee.push(qt)}}0===Ee.length&&(Ee=Object.values(N)),yield Promise.all(Ee),S("event",q,he||{})}catch(Ee){Xr.error(Ee)}})).apply(this,arguments)}function Jd(){const S=window.document.getElementsByTagName("script");for(const N of Object.values(S))if(N.src&&N.src.includes(rl))return N;return null}const Sr=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vl=new class Os{constructor(N={},F=1e3){this.throttleMetadata=N,this.intervalMillis=F}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,F){this.throttleMetadata[N]=F}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function ud(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Sa(S){return gc.apply(this,arguments)}function gc(){return(gc=(0,W.Z)(function*(S){var N;const{appId:F,apiKey:q}=S,he={method:"GET",headers:ud(q)},Ee=Di.replace("{app-id}",F),We=yield fetch(Ee,he);if(200!==We.status&&304!==We.status){let nt="";try{const Vt=yield We.json();null!==(N=Vt.error)&&void 0!==N&&N.message&&(nt=Vt.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:We.status,responseMessage:nt})}return We.json()})).apply(this,arguments)}function xr(S){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,W.Z)(function*(S,N=Vl,F){const{appId:q,apiKey:he,measurementId:Ee}=S.options;if(!q)throw Sr.create("no-app-id");if(!he){if(Ee)return{measurementId:Ee,appId:q};throw Sr.create("no-api-key")}const We=N.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new ll;return setTimeout((0,W.Z)(function*(){nt.abort()}),void 0!==F?F:6e4),ol({appId:q,apiKey:he,measurementId:Ee},We,nt,N)})).apply(this,arguments)}function ol(S,N,F){return al.apply(this,arguments)}function al(){return(al=(0,W.Z)(function*(S,{throttleEndTimeMillis:N,backoffCount:F},q,he=Vl){var Ee,We;const{appId:nt,measurementId:Vt}=S;try{yield Au(q,N)}catch(Ht){if(Vt)return Xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${null===(Ee=Ht)||void 0===Ee?void 0:Ee.message}]`),{appId:nt,measurementId:Vt};throw Ht}try{const Ht=yield Sa(S);return he.deleteThrottleMetadata(nt),Ht}catch(Ht){const qt=Ht;if(!mc(qt)){if(he.deleteThrottleMetadata(nt),Vt)return Xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${qt?.message}]`),{appId:nt,measurementId:Vt};throw Ht}const Ut=503===Number(null===(We=qt?.customData)||void 0===We?void 0:We.httpStatus)?(0,ge.$s)(F,he.intervalMillis,30):(0,ge.$s)(F,he.intervalMillis),gr={throttleEndTimeMillis:Date.now()+Ut,backoffCount:F+1};return he.setThrottleMetadata(nt,gr),Xr.debug(`Calling attemptFetch again in ${Ut} millis`),ol(S,gr,q,he)}})).apply(this,arguments)}function Au(S,N){return new Promise((F,q)=>{const he=Math.max(N-Date.now(),0),Ee=setTimeout(F,he);S.addEventListener(()=>{clearTimeout(Ee),q(Sr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function mc(S){if(!(S instanceof ge.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}class ll{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let vo,Mu;function xa(){return(xa=(0,W.Z)(function*(S,N,F,q,he){if(he&&he.global)S("event",F,q);else{const Ee=yield N;S("event",F,Object.assign(Object.assign({},q),{send_to:Ee}))}})).apply(this,arguments)}function oa(S){Mu=S}function cl(S){vo=S}function yo(){return aa.apply(this,arguments)}function aa(){return(aa=(0,W.Z)(function*(){var S;if(!(0,ge.hl)())return Xr.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(N){return Xr.warn(Sr.create("indexeddb-unavailable",{errorInfo:null===(S=N)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Fo(){return(Fo=(0,W.Z)(function*(S,N,F,q,he,Ee,We){var nt;const Vt=xr(S);Vt.then(jr=>{F[jr.measurementId]=jr.appId,S.options.measurementId&&jr.measurementId!==S.options.measurementId&&Xr.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${jr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jr=>Xr.error(jr)),N.push(Vt);const Ht=yo().then(jr=>{if(jr)return q.getId()}),[qt,Ut]=yield Promise.all([Vt,Ht]);Jd()||il(Ee,qt.measurementId),Mu&&(he("consent","default",Mu),oa(void 0)),he("js",new Date);const gr=null!==(nt=We?.config)&&void 0!==nt?nt:{};return gr.origin="firebase",gr.update=!0,null!=Ut&&(gr[rr]=Ut),he("config",qt.measurementId,gr),vo&&(he("set",vo),cl(void 0)),qt.measurementId})).apply(this,arguments)}class dl{constructor(N){this.app=N}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},Aa=[];const Ul={};let Gl,Lo,$l="dataLayer",la=!1;function Ru(S,N,F){!function U(){const S=[];if((0,ge.ru)()&&S.push("This is a browser extension environment."),(0,ge.zI)()||S.push("Cookies are not available."),S.length>0){const N=S.map((q,he)=>`(${he+1}) ${q}`).join(" "),F=Sr.create("invalid-analytics-context",{errorInfo:N});Xr.warn(F.message)}}();const q=S.options.appId;if(!q)throw Sr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Sr.create("no-api-key");Xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[q])throw Sr.create("already-exists",{id:q});if(!la){!function Eu(S){let N=[];Array.isArray(window[S])?N=window[S]:window[S]=N}($l);const{wrappedGtag:Ee,gtagCore:We}=function Su(S,N,F,q,he){let Ee=function(...We){window[q].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Ee=window[he]),window[he]=function pc(S,N,F,q){function Ee(){return(Ee=(0,W.Z)(function*(We,nt,Vt){try{"event"===We?yield sl(S,N,F,nt,Vt):"config"===We?yield tr(S,N,F,q,nt,Vt):"consent"===We?S("consent","update",Vt):S("set",nt)}catch(Ht){Xr.error(Ht)}})).apply(this,arguments)}return function he(We,nt,Vt){return Ee.apply(this,arguments)}}(Ee,S,N,F),{gtagCore:Ee,wrappedGtag:window[he]}}(Ci,Aa,Ul,$l,"gtag");Lo=Ee,Gl=We,la=!0}return Ci[q]=function ko(S,N,F,q,he,Ee,We){return Fo.apply(this,arguments)}(S,Aa,Ul,N,Gl,$l,F),new dl(S)}function wn(){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,W.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}const sf="@firebase/analytics";!function qi(){(0,be._registerComponent)(new Ce.wA(Er,(N,{options:F})=>Ru(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,be._registerComponent)(new Ce.wA("analytics-internal",function S(N){try{const F=N.getProvider(Er).getImmediate();return{logEvent:(q,he,Ee)=>function dd(S,N,F,q){S=(0,ge.m9)(S),function _c(S,N,F,q,he){return xa.apply(this,arguments)}(Lo,Ci[S.app.options.appId],N,F,q).catch(he=>Xr.error(he))}(F,q,he,Ee)}}catch(F){throw Sr.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,be.registerVersion)(sf,"0.8.0"),(0,be.registerVersion)(sf,"0.8.0","esm2017")}();var oi=j(4408),ir=j(7565);const It=new class qn extends ir.v{}(class ai extends oi.o{constructor(N,F){super(N,F),this.scheduler=N,this.work=F}schedule(N,F=0){return F>0?super.schedule(N,F):(this.delay=F,this.state=N,this.scheduler.flush(this),this)}execute(N,F){return F>0||this.closed?super.execute(N,F):this._execute(N,F)}requestAsyncId(N,F,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(N,F,q):N.flush(this)}});var fd=j(4986),bc=j(8505),hl=j(5363),pd=j(9468);const ti=new u.GfV("7.4.1"),ku="__angularfire_symbol__analyticsIsSupportedValue",Na="__angularfire_symbol__analyticsIsSupported",_s="__angularfire_symbol__remoteConfigIsSupportedValue",Fu="__angularfire_symbol__remoteConfigIsSupported",gd="__angularfire_symbol__messagingIsSupportedValue",md="__angularfire_symbol__messagingIsSupported";function Bu(S,N,F){if(N){if(1===N.length)return N[0];const Ee=N.filter(We=>We.app===F);if(1===Ee.length)return Ee[0]}return F.container.getProvider(S).getImmediate({optional:!0})}globalThis[Na]||(globalThis[Na]=wn().then(S=>globalThis[ku]=S).catch(()=>globalThis[ku]=!1)),globalThis[md]||(globalThis[md]=ad().then(S=>globalThis[gd]=S).catch(()=>globalThis[gd]=!1)),globalThis[Fu]||(globalThis[Fu]=Al().then(S=>globalThis[_s]=S).catch(()=>globalThis[_s]=!1));const Vu=(S,N)=>{const F=N?[N]:(0,k.C6)(),q=[];return F.forEach(he=>{he.container.getProvider(S).instances.forEach(We=>{q.includes(We)||q.push(We)})}),q};function Ar(){}class Pr{constructor(N,F=It){this.zone=N,this.delegate=F}now(){return this.delegate.now()}schedule(N,F,q){const he=this.zone;return this.delegate.schedule(function(We){he.runGuarded(()=>{N.apply(this,[We])})},F,q)}}class Rs{constructor(N){this.zone=N,this.task=null}call(N,F){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ar,{},Ar,Ar)),F.pipe((0,bc.b)({next:q,complete:q,error:q})).subscribe(N).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wn=(()=>{class S{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new Pr(Zone.current)),this.insideAngular=F.run(()=>new Pr(Zone.current,fd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(F){return new(F||S)(u.LFG(u.R0b))},S.\u0275prov=u.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function bt(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ps(S){return S.pipe((0,hl.Q)(bt().outsideAngular))}function vi(S){return bt(),function wc(S){return function(F){return(F=F.lift(new Rs(S.ngZone))).pipe((0,pd.R)(S.outsideAngular),(0,hl.Q)(S.insideAngular))}}(bt())(S)}},2090:(At,Ge,j)=>{"use strict";j.d(Ge,{$s:()=>Is,BH:()=>tt,G6:()=>ft,L:()=>Ne,LL:()=>rt,Sg:()=>Ue,UG:()=>Oe,US:()=>Ce,ZB:()=>X,ZR:()=>ve,b$:()=>St,eu:()=>Re,hl:()=>Q,jU:()=>Me,m9:()=>In,ne:()=>vr,pd:()=>Or,r3:()=>pi,ru:()=>at,tV:()=>Ae,uI:()=>ht,vZ:()=>En,w1:()=>ke,xO:()=>ts,xb:()=>Qt,z$:()=>Le,zI:()=>ae,zd:()=>hr});const be=function(oe){const te=[];let K=0;for(let ne=0;ne<oe.length;ne++){let re=oe.charCodeAt(ne);re<128?te[K++]=re:re<2048?(te[K++]=re>>6|192,te[K++]=63&re|128):55296==(64512&re)&&ne+1<oe.length&&56320==(64512&oe.charCodeAt(ne+1))?(re=65536+((1023&re)<<10)+(1023&oe.charCodeAt(++ne)),te[K++]=re>>18|240,te[K++]=re>>12&63|128,te[K++]=re>>6&63|128,te[K++]=63&re|128):(te[K++]=re>>12|224,te[K++]=re>>6&63|128,te[K++]=63&re|128)}return te},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,te){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let re=0;re<oe.length;re+=3){const ze=oe[re],ct=re+1<oe.length,kt=ct?oe[re+1]:0,or=re+2<oe.length,Fn=or?oe[re+2]:0;let on=(15&kt)<<2|Fn>>6,ar=63&Fn;or||(ar=64,ct||(on=64)),ne.push(K[ze>>2],K[(3&ze)<<4|kt>>4],K[on],K[ar])}return ne.join("")},encodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(oe):this.encodeByteArray(be(oe),te)},decodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(oe):function(oe){const te=[];let K=0,ne=0;for(;K<oe.length;){const re=oe[K++];if(re<128)te[ne++]=String.fromCharCode(re);else if(re>191&&re<224){const ze=oe[K++];te[ne++]=String.fromCharCode((31&re)<<6|63&ze)}else if(re>239&&re<365){const or=((7&re)<<18|(63&oe[K++])<<12|(63&oe[K++])<<6|63&oe[K++])-65536;te[ne++]=String.fromCharCode(55296+(or>>10)),te[ne++]=String.fromCharCode(56320+(1023&or))}else{const ze=oe[K++],ct=oe[K++];te[ne++]=String.fromCharCode((15&re)<<12|(63&ze)<<6|63&ct)}}return te.join("")}(this.decodeStringToByteArray(oe,te))},decodeStringToByteArray(oe,te){this.init_();const K=te?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let re=0;re<oe.length;){const ze=K[oe.charAt(re++)],kt=re<oe.length?K[oe.charAt(re)]:0;++re;const Fn=re<oe.length?K[oe.charAt(re)]:64;++re;const mn=re<oe.length?K[oe.charAt(re)]:64;if(++re,null==ze||null==kt||null==Fn||null==mn)throw Error();ne.push(ze<<2|kt>>4),64!==Fn&&(ne.push(kt<<4&240|Fn>>2),64!==mn&&ne.push(Fn<<6&192|mn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},Ne=function(oe){return function(oe){const te=be(oe);return Ce.encodeByteArray(te,!0)}(oe).replace(/\./g,"")},Ae=function(oe){try{return Ce.decodeString(oe,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function X(oe,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return te}for(const K in te)!te.hasOwnProperty(K)||!ce(K)||(oe[K]=X(oe[K],te[K]));return oe}function ce(oe){return"__proto__"!==oe}class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,K)=>{this.resolve=te,this.reject=K})}wrapCallback(te){return(K,ne)=>{K?this.reject(K):this.resolve(ne),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(K):te(K,ne))}}}function Ue(oe,te){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=te||"demo-project",re=oe.iat||0,ze=oe.sub||oe.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:re,exp:re+3600,auth_time:re,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(ct)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ht(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return"object"==typeof self&&self.self===self}function at(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function St(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){const oe=Le();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function ft(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"object"==typeof indexedDB}function Re(){return new Promise((oe,te)=>{try{let K=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(ne);re.onsuccess=()=>{re.result.close(),K||self.indexedDB.deleteDatabase(ne),oe(!0)},re.onupgradeneeded=()=>{K=!1},re.onerror=()=>{var ze;te((null===(ze=re.error)||void 0===ze?void 0:ze.message)||"")}}catch(K){te(K)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(te,K,ne){super(K),this.code=te,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(te,K,ne){this.service=te,this.serviceName=K,this.errors=ne}create(te,...K){const ne=K[0]||{},re=`${this.service}/${te}`,ze=this.errors[te],ct=ze?function Je(oe,te){return oe.replace(Mt,(K,ne)=>{const re=te[ne];return null!=re?String(re):`<${ne}?>`})}(ze,ne):"Error";return new ve(re,`${this.serviceName}: ${ct} (${re}).`,ne)}}const Mt=/\{\$([^}]+)}/g;function pi(oe,te){return Object.prototype.hasOwnProperty.call(oe,te)}function Qt(oe){for(const te in oe)if(Object.prototype.hasOwnProperty.call(oe,te))return!1;return!0}function En(oe,te){if(oe===te)return!0;const K=Object.keys(oe),ne=Object.keys(te);for(const re of K){if(!ne.includes(re))return!1;const ze=oe[re],ct=te[re];if(kn(ze)&&kn(ct)){if(!En(ze,ct))return!1}else if(ze!==ct)return!1}for(const re of ne)if(!K.includes(re))return!1;return!0}function kn(oe){return null!==oe&&"object"==typeof oe}function ts(oe){const te=[];for(const[K,ne]of Object.entries(oe))Array.isArray(ne)?ne.forEach(re=>{te.push(encodeURIComponent(K)+"="+encodeURIComponent(re))}):te.push(encodeURIComponent(K)+"="+encodeURIComponent(ne));return te.length?"&"+te.join("&"):""}function hr(oe){const te={};return oe.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[re,ze]=ne.split("=");te[decodeURIComponent(re)]=decodeURIComponent(ze)}}),te}function Or(oe){const te=oe.indexOf("?");if(!te)return"";const K=oe.indexOf("#",te);return oe.substring(te,K>0?K:void 0)}function vr(oe,te){const K=new yt(oe,te);return K.subscribe.bind(K)}class yt{constructor(te,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{te(this)}).catch(ne=>{this.error(ne)})}next(te){this.forEachObserver(K=>{K.next(te)})}error(te){this.forEachObserver(K=>{K.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,K,ne){let re;if(void 0===te&&void 0===K&&void 0===ne)throw new Error("Missing Observer.");re=function Hi(oe,te){if("object"!=typeof oe||null===oe)return!1;for(const K of te)if(K in oe&&"function"==typeof oe[K])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:K,complete:ne},void 0===re.next&&(re.next=Cn),void 0===re.error&&(re.error=Cn),void 0===re.complete&&(re.complete=Cn);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),ze}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,te)}sendOne(te,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{K(this.observers[te])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function Is(oe,te=1e3,K=2){const ne=te*Math.pow(K,oe),re=Math.round(.5*ne*(Math.random()-.5)*2);return Math.min(144e5,ne+re)}function In(oe){return oe&&oe._delegate?oe._delegate:oe}},7021:(At,Ge,j)=>{"use strict";var u=j(4650);let k=null;function W(){return k}const Ie=new u.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return(0,u.LFG)(X)}()},providedIn:"platform"}),n})();const J=new u.OlP("Location Initialized");let X=(()=>{class n extends Ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(t){const r=W().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=W().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ce()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ce()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function tt(){return new X((0,u.LFG)(Ie))}()},providedIn:"platform"}),n})();function ce(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ht(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(at)},providedIn:"root"}),n})();const Me=new u.OlP("appBaseHref");let at=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ht(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+ht(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+ht(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ne),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),St=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+ht(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+ht(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ne),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Le(st(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ht(r))}normalize(t){return n.stripTrailingSlash(function Fe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,st(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ht,n.joinWithSlash=Ue,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(u.LFG(Oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ke(){return new He((0,u.LFG)(Oe))}()},providedIn:"root"}),n})();function st(n){return n.replace(/\/index.html$/,"")}class Da{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Da(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const g=r.get(a);r.move(g,c),Kr(g,i)}});for(let i=0,a=r.length;i<a;i++){const g=r.get(i).context;g.index=i,g.count=a,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Kr(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kr(n,e){n.context.$implicit=e.item}let Gn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ur("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ur("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qa{constructor(){this.$implicit=null,this.ngIf=null}}function Ur(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Qr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ho=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ps=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Qr(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ho,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),fo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,a,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),n})();class ee{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class we{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Ye=new we,Et=new ee;let an=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return Ye;if((0,u.F4k)(t))return Et;throw function $(n,e){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const na="browser";function fu(n){return n===na}function Hn(n){return"server"===n}let Nl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new qs((0,u.LFG)(Ie),window)}),n})();class qs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function is(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=As(this.window.history)||As(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function As(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nl extends class Kd extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){k||(k=n)}(new nl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ms(){return Zs=Zs||document.querySelector("base"),Zs?Zs.getAttribute("href"):null}();return null==t?null:function Ns(n){_i=_i||document.createElement("a"),_i.setAttribute("href",n);const e=_i.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function rs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let _i,Zs=null;const Tr=new u.OlP("TRANSITION_ID"),ld=[{provide:u.ip1,useFactory:function ad(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=W(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Tr,Ie,u.zs3],multi:!0}];let Fl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const de=new u.OlP("EventManagerPlugins");let Ve=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Se{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=W().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ct=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Yt=(()=>{class n extends Ct{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(jn),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(jn))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function jn(n){W().remove(n)}const Er={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rr=/%COMP%/g;function il(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?il(n,i,t):(i=i.replace(rr,n),t.push(i))}return t}function Eu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ll=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new sl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Jd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new xu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=il(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ve),u.LFG(Yt),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class sl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Er[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Su(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Su(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Er[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Er[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Eu(r)):this.eventManager.addEventListener(e,t,Eu(r))}}function Su(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Jd extends sl{constructor(e,t,r,i){super(e),this.component=r;const a=il(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Xr(n){return"_ngcontent-%COMP%".replace(rr,n)}(i+"-"+r.id),this.hostAttr=function ia(n){return"_nghost-%COMP%".replace(rr,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class xu extends sl{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=il(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const g=document.createElement("style");g.textContent=a[c],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Sr=(()=>{class n extends Se{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ea=["alt","control","meta","shift"],Bl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Os={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vl=(()=>{class n extends Se{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),c="code."),Ea.forEach(I=>{const A=r.indexOf(I);A>-1&&(r.splice(A,1),c+=I+".")}),c+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=c,y}static matchEventFullKeyCode(t,r){let i=Bl[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ea.forEach(c=>{c!==i&&(0,Os[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ll=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:na},{provide:u.g9A,useValue:function ol(){nl.makeCurrent()},multi:!0},{provide:Ie,useFactory:function Au(){return(0,u.RDi)(document),document},deps:[]}]),vo=new u.OlP(""),_c=[{provide:u.rWj,useClass:class Qd{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const g=function(y){c=c||y,a--,0==a&&r(c)};i.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?W().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],xa=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function al(){return new u.qLn},deps:[]},{provide:de,useClass:Sr,multi:!0,deps:[Ie,u.R0b,u.Lbi]},{provide:de,useClass:Vl,multi:!0,deps:[Ie]},{provide:Ll,useClass:Ll,deps:[Ve,Yt,u.AFp]},{provide:u.FYo,useExisting:Ll},{provide:Ct,useExisting:Yt},{provide:Yt,useClass:Yt,deps:[Ie]},{provide:Ve,useClass:Ve,deps:[de,u.R0b]},{provide:class Qa{},useClass:Fl,deps:[]},[]];let vc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Tr,useExisting:u.AFp},ld]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vo,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...xa,..._c],imports:[mi,u.hGG]}),n})(),sa=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ei(){return new sa((0,u.LFG)(Ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const Ru={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Hl=new u.OlP("HammerGestureConfig"),Ys=new u.OlP("HammerLoader");let wn=(()=>{class n{constructor(){this.events=[],this.overrides={}}buildHammer(t){const r=new Hammer(t,this.options);r.get("pinch").set({enable:!0}),r.get("rotate").set({enable:!0});for(const i in this.overrides)r.get(i).set(this.overrides[i]);return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Xd=(()=>{class n extends Se{constructor(t,r,i,a){super(t),this._config=r,this.console=i,this.loader=a,this._loaderPromise=null}supports(t){return!(!Ru.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader)}addEventListener(t,r,i){const a=this.manager.getZone();if(r=r.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||a.runOutsideAngular(()=>this.loader());let c=!1,g=()=>{c=!0};return a.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?c||(g=this.addEventListener(t,r,i)):g=()=>{}}).catch(()=>{g=()=>{}})),()=>{g()}}return a.runOutsideAngular(()=>{const c=this._config.buildHammer(t),g=function(y){a.runGuarded(function(){i(y)})};return c.on(r,g),()=>{c.off(r,g),"function"==typeof c.destroy&&c.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie),u.LFG(Hl),u.LFG(u.c2e),u.LFG(Ys,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Vg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:de,useClass:Xd,multi:!0,deps:[Ie,Hl,u.c2e,[new u.FiY,Ys]]},{provide:Hl,useClass:wn,deps:[]}]}),n})(),Pu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(dp),r},providedIn:"root"}),n})(),dp=(()=>{class n extends Pu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function jl(n){return new dp(n.get(Ie))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var dd=j(5386),zn=j(7579),sf=j(6063);class Ms extends zn.x{constructor(e=1/0,t=1/0,r=sf.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let g=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)g=y;g&&r.splice(0,g+1)}}}var qi=j(6451),oi=j(8421),ai=j(4482),ir=j(5403);function qn(n,e){return(0,ai.e)((t,r)=>{let i=null,a=0,c=!1;const g=()=>c&&!i&&r.complete();t.subscribe((0,ir.x)(r,y=>{i?.unsubscribe();let I=0;const A=a++;(0,oi.Xf)(n(y,A)).subscribe(i=(0,ir.x)(r,R=>r.next(e?e(y,R,A,I++):R),()=>{i=null,g()}))},()=>{c=!0,g()}))})}var It=j(4004);const hd={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return hd.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return hd.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let ti;function md(n,e,t){let r=t;return function bc(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((i,a)=>!("*"===i||!function ku(n,e){if(!ti){const t=Element.prototype;ti=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&ti.call(n,e)}(n,i)||(r=a,0))),r}class hp{constructor(e,t){this.componentFactory=t.get(u._Vd).resolveComponentFactory(e)}create(e){return new _d(this.componentFactory,e)}}class _d{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new Ms(1),this.events=this.eventEmitters.pipe(qn(r=>(0,qi.T)(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(u.R0b),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=hd.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function Na(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=u.zs3.create({providers:[],parent:this.injector}),r=function gd(n,e){const t=n.childNodes,r=e.map(()=>[]);let i=-1;e.some((a,c)=>"*"===a&&(i=c,!0));for(let a=0,c=t.length;a<c;++a){const g=t[a],y=md(g,e,i);-1!==y&&r[y].push(g)}return r}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,r,e),this.viewChangeDetectorRef=this.componentRef.injector.get(u.sBO),this.implementsOnChanges=function hl(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(u.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:r,templateName:i})=>e.instance[r].pipe((0,It.U)(c=>({name:i,value:c}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=hd.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const r=this.inputChanges[e];if(r)return void(r.currentValue=t);const i=this.unchangedInputs.has(e),a=i?void 0:this.getInputValue(e);this.inputChanges[e]=new u.WD2(a,t,i)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class af extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}var Ar=j(9751),Pr=j(515),Rs=j(3269),Wn=j(8996);function bt(...n){const e=(0,Rs.yG)(n);return(0,Wn.D)(n,e)}var li=j(5577),Pi=j(1144),Ps=j(576);const{isArray:Ks}=Array;function wc(n){return(0,It.U)(e=>function vi(n,e){return Ks(e)?n(...e):n(e)}(n,e))}const ni=["addListener","removeListener"],eh=["addEventListener","removeEventListener"],S=["on","off"];function N(n,e,t,r){if((0,Ps.m)(t)&&(r=t,t=void 0),r)return N(n,e,t).pipe(wc(r));const[i,a]=function Ee(n){return(0,Ps.m)(n.addEventListener)&&(0,Ps.m)(n.removeEventListener)}(n)?eh.map(c=>g=>n[c](e,g,t)):function q(n){return(0,Ps.m)(n.addListener)&&(0,Ps.m)(n.removeListener)}(n)?ni.map(F(n,e)):function he(n){return(0,Ps.m)(n.on)&&(0,Ps.m)(n.off)}(n)?S.map(F(n,e)):[];if(!i&&(0,Pi.z)(n))return(0,li.z)(c=>N(c,e,t))((0,oi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Ar.y(c=>{const g=(...y)=>c.next(1<y.length?y:y[0]);return i(g),()=>a(g)})}function F(n,e){return t=>r=>n[t](e,r)}var We=j(4986),nt=j(3532);function Ht(n=0,e,t=We.P){let r=-1;return null!=e&&((0,nt.K)(e)?t=e:r=e),new Ar.y(i=>{let a=function Vt(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:qt}=Array;function Ut(n){return 1===n.length&&qt(n[0])?n[0]:n}function gr(...n){return 1===(n=Ut(n)).length?(0,oi.Xf)(n[0]):new Ar.y(function jr(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,oi.Xf)(n[r]).subscribe((0,ir.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))}class Zn extends zn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:ui}=Array,{getPrototypeOf:ua,prototype:Wl,keys:Oa}=Object;var Qs=j(4671);var lf=j(9672);function th(...n){const e=(0,Rs.yG)(n),t=(0,Rs.jO)(n),{args:r,keys:i}=function Ma(n){if(1===n.length){const e=n[0];if(ui(e))return{args:e,keys:null};if(function Ra(n){return n&&"object"==typeof n&&ua(n)===Wl}(e)){const t=Oa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,Wn.D)([],e);const a=new Ar.y(function Ug(n,e,t=Qs.y){return r=>{Uu(e,()=>{const{length:i}=n,a=new Array(i);let c=i,g=i;for(let y=0;y<i;y++)Uu(e,()=>{const I=(0,Wn.D)(n[y],e);let A=!1;I.subscribe((0,ir.x)(r,R=>{a[y]=R,A||(A=!0,g--),g||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>function fl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,c):Qs.y));return t?a.pipe(wc(t)):a}function Uu(n,e,t){n?(0,lf.f)(t,n,e):e()}var $u=j(5032);const Dc=new Ar.y($u.Z);function Cc(...n){const e=(0,Rs.jO)(n),t=Ut(n);return t.length?new Ar.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let c=0;!r.closed&&c<t.length;c++)(0,oi.Xf)(t[c]).subscribe((0,ir.x)(r,g=>{if(i[c].push(g),i.every(y=>y.length)){const y=i.map(I=>I.shift());r.next(e?e(...y):y),i.some((I,A)=>!I.length&&a[A])&&r.complete()}},()=>{a[c]=!0,!i[c].length&&r.complete()}));return()=>{i=a=null}}):Pr.E}var nh=j(8189);function rh(...n){return function pp(){return(0,nh.J)(1)}()((0,Wn.D)(n,(0,Rs.yG)(n)))}function ci(n){return(0,ai.e)((e,t)=>{(0,oi.Xf)(n).subscribe((0,ir.x)(t,()=>t.complete(),$u.Z)),!t.closed&&e.subscribe(t)})}function ri(n,e){return(0,ai.e)((t,r)=>{let i=0;t.subscribe((0,ir.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function kr(n){return n<=0?()=>Pr.E:(0,ai.e)((e,t)=>{let r=0;e.subscribe((0,ir.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ca(...n){const e=(0,Rs.yG)(n);return(0,ai.e)((t,r)=>{(e?rh(n,t,e):rh(n,t)).subscribe(r)})}function da(n,e=Qs.y){return n=n??gp,(0,ai.e)((t,r)=>{let i,a=!0;t.subscribe((0,ir.x)(r,c=>{const g=e(c);(a||!n(i,g))&&(a=!1,i=g,r.next(c))}))})}function gp(n,e){return n===e}var di=j(8505);function mp(...n){const e=(0,Rs.jO)(n);return(0,ai.e)((t,r)=>{const i=n.length,a=new Array(i);let c=n.map(()=>!1),g=!1;for(let y=0;y<i;y++)(0,oi.Xf)(n[y]).subscribe((0,ir.x)(r,I=>{a[y]=I,!g&&!c[y]&&(c[y]=!0,(g=c.every(Qs.y))&&(c=null))},$u.Z));t.subscribe((0,ir.x)(r,y=>{if(g){const I=[y,...a];r.next(e?e(...I):I)}}))})}function Pa(n){return(0,It.U)(()=>n)}function uf(n,e){return e?t=>rh(e.pipe(kr(1),function Ic(){return(0,ai.e)((n,e)=>{n.subscribe((0,ir.x)(e,$u.Z))})}()),t.pipe(uf(n))):(0,li.z)((t,r)=>n(t,r).pipe(kr(1),Pa(t)))}function sh(n,e=We.z){const t=Ht(n,e);return uf(()=>t)}var Bo=j(3099);let q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[q_]}),n})(),X_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[im]}),n})();var om={left:"right",right:"left",bottom:"top",top:"bottom"};function Df(n){return n.replace(/left|right|bottom|top/g,function(e){return om[e]})}function Ba(n){return n.split("-")[0]}var j0={start:"end",end:"start"};function ev(n){return n.replace(/start|end/g,function(e){return j0[e]})}var jo="top",Va="bottom",Ls="right",Wo="left",Rp="auto",Cf=[jo,Va,Ls,Wo],If="start",Uc="end",am="viewport",Ih="popper",Tf=Cf.reduce(function(n,e){return n.concat([e+"-"+If,e+"-"+Uc])},[]),um=[].concat(Cf,[Rp]).reduce(function(n,e){return n.concat([e,e+"-"+If,e+"-"+Uc])},[]),q0=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ua(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function $c(n){return n instanceof Ua(n).Element||n instanceof Element}function zo(n){return n instanceof Ua(n).HTMLElement||n instanceof HTMLElement}function Fp(n){return!(typeof ShadowRoot>"u")&&(n instanceof Ua(n).ShadowRoot||n instanceof ShadowRoot)}function Rd(n){return(($c(n)?n.ownerDocument:n.document)||window.document).documentElement}var pl=Math.max,Lp=Math.min,Gc=Math.round;function Bp(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Vp(){return!/^((?!chrome|android).)*safari/i.test(Bp())}function Bs(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&zo(n)&&(i=n.offsetWidth>0&&Gc(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Gc(r.height)/n.offsetHeight||1);var g=($c(n)?Ua(n):window).visualViewport,y=!Vp()&&t,I=(r.left+(y&&g?g.offsetLeft:0))/i,A=(r.top+(y&&g?g.offsetTop:0))/a,R=r.width/i,H=r.height/a;return{width:R,height:H,top:A,right:I+R,bottom:A+H,left:I,x:I,y:A}}function Up(n){var e=Ua(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Sf(n){return Bs(Rd(n)).left+Up(n).scrollLeft}function Qu(n){return Ua(n).getComputedStyle(n)}function nu(n){return n?(n.nodeName||"").toLowerCase():null}function Hc(n){return"html"===nu(n)?n:n.assignedSlot||n.parentNode||(Fp(n)?n.host:null)||Rd(n)}function Eh(n){var e=Qu(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function sv(n){return["html","body","#document"].indexOf(nu(n))>=0?n.ownerDocument.body:zo(n)&&Eh(n)?n:sv(Hc(n))}function xf(n,e){var t;void 0===e&&(e=[]);var r=sv(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),a=Ua(r),c=i?[a].concat(a.visualViewport||[],Eh(r)?r:[]):r,g=e.concat(c);return i?g:g.concat(xf(Hc(c)))}function ln(n){return["table","td","th"].indexOf(nu(n))>=0}function $p(n){return zo(n)&&"fixed"!==Qu(n).position?n.offsetParent:null}function Sh(n){for(var e=Ua(n),t=$p(n);t&&ln(t)&&"static"===Qu(t).position;)t=$p(t);return t&&("html"===nu(t)||"body"===nu(t)&&"static"===Qu(t).position)?e:t||function ov(n){var e=/firefox/i.test(Bp());if(/Trident/i.test(Bp())&&zo(n)&&"fixed"===Qu(n).position)return null;var i=Hc(n);for(Fp(i)&&(i=i.host);zo(i)&&["html","body"].indexOf(nu(i))<0;){var a=Qu(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||e&&"filter"===a.willChange||e&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}(n)||e}function av(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Fp(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function dm(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function uv(n,e,t){return e===am?dm(function iv(n,e){var t=Ua(n),r=Rd(n),i=t.visualViewport,a=r.clientWidth,c=r.clientHeight,g=0,y=0;if(i){a=i.width,c=i.height;var I=Vp();(I||!I&&"fixed"===e)&&(g=i.offsetLeft,y=i.offsetTop)}return{width:a,height:c,x:g+Sf(n),y}}(n,t)):$c(e)?function lv(n,e){var t=Bs(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):dm(function Z0(n){var e,t=Rd(n),r=Up(n),i=null==(e=n.ownerDocument)?void 0:e.body,a=pl(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=pl(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),g=-r.scrollLeft+Sf(n),y=-r.scrollTop;return"rtl"===Qu(i||t).direction&&(g+=pl(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:c,x:g,y}}(Rd(n)))}function xh(n){return n.split("-")[1]}function dv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function hm(n){var y,e=n.reference,t=n.element,r=n.placement,i=r?Ba(r):null,a=r?xh(r):null,c=e.x+e.width/2-t.width/2,g=e.y+e.height/2-t.height/2;switch(i){case jo:y={x:c,y:e.y-t.height};break;case Va:y={x:c,y:e.y+e.height};break;case Ls:y={x:e.x+e.width,y:g};break;case Wo:y={x:e.x-t.width,y:g};break;default:y={x:e.x,y:e.y}}var I=i?dv(i):null;if(null!=I){var A="y"===I?"height":"width";switch(a){case If:y[I]=y[I]-(e[A]/2-t[A]/2);break;case Uc:y[I]=y[I]+(e[A]/2-t[A]/2)}}return y}function ys(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function hv(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function Af(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,a=e.strategy,c=void 0===a?n.strategy:a,g=e.boundary,y=void 0===g?"clippingParents":g,I=e.rootBoundary,A=void 0===I?am:I,R=e.elementContext,H=void 0===R?Ih:R,Z=e.altBoundary,ue=void 0!==Z&&Z,_e=e.padding,De=void 0===_e?0:_e,ot=ys("number"!=typeof De?De:hv(De,Cf)),vt=n.rects.popper,it=n.elements[ue?H===Ih?"reference":Ih:H],gt=function Y0(n,e,t,r){var i="clippingParents"===e?function cv(n){var e=xf(Hc(n)),r=["absolute","fixed"].indexOf(Qu(n).position)>=0&&zo(n)?Sh(n):n;return $c(r)?e.filter(function(i){return $c(i)&&av(i,r)&&"body"!==nu(i)}):[]}(n):[].concat(e),a=[].concat(i,[t]),g=a.reduce(function(y,I){var A=uv(n,I,r);return y.top=pl(A.top,y.top),y.right=Lp(A.right,y.right),y.bottom=Lp(A.bottom,y.bottom),y.left=pl(A.left,y.left),y},uv(n,a[0],r));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}($c(it)?it:it.contextElement||Rd(n.elements.popper),y,A,c),Dt=Bs(n.elements.reference),rn=hm({reference:Dt,element:vt,strategy:"absolute",placement:i}),Pn=dm(Object.assign({},vt,rn)),$i=H===Ih?Pn:Dt,Gs={top:gt.top-$i.top+ot.top,bottom:$i.bottom-gt.bottom+ot.bottom,left:gt.left-$i.left+ot.left,right:$i.right-gt.right+ot.right},ls=n.modifiersData.offset;if(H===Ih&&ls){var uc=ls[i];Object.keys(Gs).forEach(function(wa){var B_=[Ls,Va].indexOf(wa)>=0?1:-1,V_=[jo,Va].indexOf(wa)>=0?"y":"x";Gs[wa]+=uc[V_]*B_})}return Gs}const fa={name:"flip",enabled:!0,phase:"main",fn:function SD(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=void 0===i||i,c=t.altAxis,g=void 0===c||c,y=t.fallbackPlacements,I=t.padding,A=t.boundary,R=t.rootBoundary,H=t.altBoundary,Z=t.flipVariations,ue=void 0===Z||Z,_e=t.allowedAutoPlacements,De=e.options.placement,ot=Ba(De),vt=y||(ot!==De&&ue?function gn(n){if(Ba(n)===Rp)return[];var e=Df(n);return[ev(n),e,ev(e)]}(De):[Df(De)]),it=[De].concat(vt).reduce(function(T0,Bg){return T0.concat(Ba(Bg)===Rp?function Ju(n,e){void 0===e&&(e={});var i=e.boundary,a=e.rootBoundary,c=e.padding,g=e.flipVariations,y=e.allowedAutoPlacements,I=void 0===y?um:y,A=xh(e.placement),R=A?g?Tf:Tf.filter(function(ue){return xh(ue)===A}):Cf,H=R.filter(function(ue){return I.indexOf(ue)>=0});0===H.length&&(H=R);var Z=H.reduce(function(ue,_e){return ue[_e]=Af(n,{placement:_e,boundary:i,rootBoundary:a,padding:c})[Ba(_e)],ue},{});return Object.keys(Z).sort(function(ue,_e){return Z[ue]-Z[_e]})}(e,{placement:Bg,boundary:A,rootBoundary:R,padding:I,flipVariations:ue,allowedAutoPlacements:_e}):Bg)},[]),gt=e.rects.reference,Dt=e.rects.popper,rn=new Map,Pn=!0,$i=it[0],Gs=0;Gs<it.length;Gs++){var ls=it[Gs],uc=Ba(ls),wa=xh(ls)===If,B_=[jo,Va].indexOf(uc)>=0,V_=B_?"width":"height",cc=Af(e,{placement:ls,boundary:A,rootBoundary:R,altBoundary:H,padding:I}),Wd=B_?wa?Ls:Wo:wa?Va:jo;gt[V_]>Dt[V_]&&(Wd=Df(Wd));var EE=Df(Wd),U_=[];if(a&&U_.push(cc[uc]<=0),g&&U_.push(cc[Wd]<=0,cc[EE]<=0),U_.every(function(T0){return T0})){$i=ls,Pn=!1;break}rn.set(ls,U_)}if(Pn)for(var VM=function(Bg){var mD=it.find(function(AE){var $_=rn.get(AE);if($_)return $_.slice(0,Bg).every(function(UM){return UM})});if(mD)return $i=mD,"break"},gD=ue?3:1;gD>0&&"break"!==VM(gD);gD--);e.placement!==$i&&(e.modifiersData[r]._skip=!0,e.placement=$i,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Nf(n,e,t){return pl(n,Lp(e,t))}function fv(n){var e=Bs(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const Ah={name:"preventOverflow",enabled:!0,phase:"main",fn:function K0(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=void 0===i||i,c=t.altAxis,g=void 0!==c&&c,H=t.tether,Z=void 0===H||H,ue=t.tetherOffset,_e=void 0===ue?0:ue,De=Af(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),ot=Ba(e.placement),ut=xh(e.placement),vt=!ut,it=dv(ot),gt=function Zi(n){return"x"===n?"y":"x"}(it),Dt=e.modifiersData.popperOffsets,rn=e.rects.reference,Pn=e.rects.popper,$i="function"==typeof _e?_e(Object.assign({},e.rects,{placement:e.placement})):_e,Gs="number"==typeof $i?{mainAxis:$i,altAxis:$i}:Object.assign({mainAxis:0,altAxis:0},$i),ls=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,uc={x:0,y:0};if(Dt){if(a){var wa,B_="y"===it?jo:Wo,V_="y"===it?Va:Ls,cc="y"===it?"height":"width",Wd=Dt[it],EE=Wd+De[B_],U_=Wd-De[V_],SE=Z?-Pn[cc]/2:0,VM=ut===If?rn[cc]:Pn[cc],gD=ut===If?-Pn[cc]:-rn[cc],xE=e.elements.arrow,T0=Z&&xE?fv(xE):{width:0,height:0},Bg=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},mD=Bg[B_],AE=Bg[V_],$_=Nf(0,rn[cc],T0[cc]),UM=vt?rn[cc]/2-SE-$_-mD-Gs.mainAxis:VM-$_-mD-Gs.mainAxis,j5=vt?-rn[cc]/2+SE+$_+AE+Gs.mainAxis:gD+$_+AE+Gs.mainAxis,$M=e.elements.arrow&&Sh(e.elements.arrow),cV=null!=(wa=ls?.[it])?wa:0,q5=Wd+j5-cV,dV=Nf(Z?Lp(EE,Wd+UM-cV-($M?"y"===it?$M.clientTop||0:$M.clientLeft||0:0)):EE,Wd,Z?pl(U_,q5):U_);Dt[it]=dV,uc[it]=dV-Wd}if(g){var hV,G_=Dt[gt],NE="y"===gt?"height":"width",fV=G_+De["x"===it?jo:Wo],pV=G_-De["x"===it?Va:Ls],GM=-1!==[jo,Wo].indexOf(ot),gV=null!=(hV=ls?.[gt])?hV:0,mV=GM?fV:G_-rn[NE]-Pn[NE]-gV+Gs.altAxis,_V=GM?G_+rn[NE]+Pn[NE]-gV-Gs.altAxis:pV,vV=Z&&GM?function Xu(n,e,t){var r=Nf(n,e,t);return r>t?t:r}(mV,G_,_V):Nf(Z?mV:fV,G_,Z?_V:pV);Dt[gt]=vV,uc[gt]=vV-G_}e.modifiersData[r]=uc}},requiresIfExists:["offset"]},J0={name:"arrow",enabled:!0,phase:"main",fn:function pv(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,c=t.modifiersData.popperOffsets,g=Ba(t.placement),y=dv(g),A=[Wo,Ls].indexOf(g)>=0?"height":"width";if(a&&c){var R=function(e,t){return ys("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:hv(e,Cf))}(i.padding,t),H=fv(a),Z="y"===y?jo:Wo,ue="y"===y?Va:Ls,_e=t.rects.reference[A]+t.rects.reference[y]-c[y]-t.rects.popper[A],De=c[y]-t.rects.reference[y],ot=Sh(a),ut=ot?"y"===y?ot.clientHeight||0:ot.clientWidth||0:0,Dt=ut/2-H[A]/2+(_e/2-De/2),rn=Nf(R[Z],Dt,ut-H[A]-R[ue]);t.modifiersData[r]=((e={})[y]=rn,e.centerOffset=rn-Dt,e)}},effect:function Nh(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!av(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yi(n,e,t){void 0===t&&(t=!1);var r=zo(e),i=zo(e)&&function Gp(n){var e=n.getBoundingClientRect(),t=Gc(e.width)/n.offsetWidth||1,r=Gc(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),a=Rd(e),c=Bs(n,i,t),g={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(r||!r&&!t)&&(("body"!==nu(e)||Eh(a))&&(g=function gv(n){return n!==Ua(n)&&zo(n)?function ru(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Up(n)}(e)),zo(e)?((y=Bs(e,!0)).x+=e.clientLeft,y.y+=e.clientTop):a&&(y.x=Sf(a))),{x:c.left+g.scrollLeft-y.x,y:c.top+g.scrollTop-y.y,width:c.width,height:c.height}}function Ti(n){var e=new Map,t=new Set,r=[];function i(a){t.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(g){if(!t.has(g)){var y=e.get(g);y&&i(y)}}),r.push(a)}return n.forEach(function(a){e.set(a.name,a)}),n.forEach(function(a){t.has(a.name)||i(a)}),r}function _v(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var Hp={placement:"bottom",modifiers:[],strategy:"absolute"};function nb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function jp(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,a=void 0===i?Hp:i;return function(g,y,I){void 0===I&&(I=a);var A={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hp,a),modifiersData:{},elements:{reference:g,popper:y},attributes:{},styles:{}},R=[],H=!1,Z={state:A,setOptions:function(ot){var ut="function"==typeof ot?ot(A.options):ot;_e(),A.options=Object.assign({},a,A.options,ut),A.scrollParents={reference:$c(g)?xf(g):g.contextElement?xf(g.contextElement):[],popper:xf(y)};var vt=function mv(n){var e=Ti(n);return q0.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function X0(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,A.options.modifiers)));return A.orderedModifiers=vt.filter(function(ls){return ls.enabled}),function ue(){A.orderedModifiers.forEach(function(De){var ut=De.options,it=De.effect;if("function"==typeof it){var gt=it({state:A,name:De.name,instance:Z,options:void 0===ut?{}:ut});R.push(gt||function(){})}})}(),Z.update()},forceUpdate:function(){if(!H){var ot=A.elements,ut=ot.reference,vt=ot.popper;if(nb(ut,vt)){A.rects={reference:yi(ut,Sh(vt),"fixed"===A.options.strategy),popper:fv(vt)},A.reset=!1,A.placement=A.options.placement,A.orderedModifiers.forEach(function(ls){return A.modifiersData[ls.name]=Object.assign({},ls.data)});for(var gt=0;gt<A.orderedModifiers.length;gt++)if(!0!==A.reset){var Dt=A.orderedModifiers[gt],rn=Dt.fn,Pn=Dt.options;"function"==typeof rn&&(A=rn({state:A,options:void 0===Pn?{}:Pn,name:Dt.name,instance:Z})||A)}else A.reset=!1,gt=-1}}},update:_v(function(){return new Promise(function(De){Z.forceUpdate(),De(A)})}),destroy:function(){_e(),H=!0}};if(!nb(g,y))return Z;function _e(){R.forEach(function(De){return De()}),R=[]}return Z.setOptions(I).then(function(De){!H&&I.onFirstUpdate&&I.onFirstUpdate(De)}),Z}}var Of={passive:!0};const pm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Oh(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=void 0===i||i,c=r.resize,g=void 0===c||c,y=Ua(e.elements.popper),I=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&I.forEach(function(A){A.addEventListener("scroll",t.update,Of)}),g&&y.addEventListener("resize",t.update,Of),function(){a&&I.forEach(function(A){A.removeEventListener("scroll",t.update,Of)}),g&&y.removeEventListener("resize",t.update,Of)}},data:{}},no={name:"popperOffsets",enabled:!0,phase:"read",fn:function Mf(n){var e=n.state;e.modifiersData[n.name]=hm({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var ro={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yv(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,c=n.offsets,g=n.position,y=n.gpuAcceleration,I=n.adaptive,A=n.roundOffsets,R=n.isFixed,H=c.x,Z=void 0===H?0:H,ue=c.y,_e=void 0===ue?0:ue,De="function"==typeof A?A({x:Z,y:_e}):{x:Z,y:_e};Z=De.x,_e=De.y;var ot=c.hasOwnProperty("x"),ut=c.hasOwnProperty("y"),vt=Wo,it=jo,gt=window;if(I){var Dt=Sh(t),rn="clientHeight",Pn="clientWidth";Dt===Ua(t)&&"static"!==Qu(Dt=Rd(t)).position&&"absolute"===g&&(rn="scrollHeight",Pn="scrollWidth"),(i===jo||(i===Wo||i===Ls)&&a===Uc)&&(it=Va,_e-=(R&&Dt===gt&&gt.visualViewport?gt.visualViewport.height:Dt[rn])-r.height,_e*=y?1:-1),i!==Wo&&(i!==jo&&i!==Va||a!==Uc)||(vt=Ls,Z-=(R&&Dt===gt&&gt.visualViewport?gt.visualViewport.width:Dt[Pn])-r.width,Z*=y?1:-1)}var wa,ls=Object.assign({position:g},I&&ro),uc=!0===A?function vv(n){var t=n.y,i=window.devicePixelRatio||1;return{x:Gc(n.x*i)/i||0,y:Gc(t*i)/i||0}}({x:Z,y:_e}):{x:Z,y:_e};return Z=uc.x,_e=uc.y,Object.assign({},ls,y?((wa={})[it]=ut?"0":"",wa[vt]=ot?"0":"",wa.transform=(gt.devicePixelRatio||1)<=1?"translate("+Z+"px, "+_e+"px)":"translate3d("+Z+"px, "+_e+"px, 0)",wa):((e={})[it]=ut?_e+"px":"",e[vt]=ot?Z+"px":"",e.transform="",e))}const ec={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function gm(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,a=t.adaptive,c=void 0===a||a,g=t.roundOffsets,y=void 0===g||g,A={placement:Ba(e.placement),variation:xh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,yv(Object.assign({},A,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:y})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,yv(Object.assign({},A,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Dn=[pm,no,ec,{name:"applyStyles",enabled:!0,phase:"write",fn:function mm(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!zo(a)||!nu(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(c){var g=i[c];!1===g?a.removeAttribute(c):a.setAttribute(c,!0===g?"":g)}))})},effect:function _m(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},g=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(y,I){return y[I]="",y},{});!zo(i)||!nu(i)||(Object.assign(i.style,g),Object.keys(a).forEach(function(y){i.removeAttribute(y)}))})}},requires:["computeStyles"]}],vm=jp({defaultModifiers:Dn});function sr(n,e){}function ym(n,e){if(1&n&&(u.TgZ(0,"button",3),u._uU(1),u.YNc(2,sr,0,0,"ng-template",4),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngbPanelToggle",t),u.xp6(1),u.hij(" ",t.title,""),u.xp6(1),u.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function qp(n,e){}function bm(n,e){}function rb(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",8),u.NdJ("ngbRef",function(i){u.CHM(t);const a=u.oxw().$implicit;return u.KtG(a.panelDiv=i)}),u.TgZ(1,"div",9),u.YNc(2,bm,0,0,"ng-template",4),u.qZA()()}if(2&n){const t=u.oxw().$implicit;u.s9C("id",t.id),u.uIk("aria-labelledby",t.id+"-header"),u.xp6(2),u.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}const ib=function(n,e){return{$implicit:n,opened:e}};function sb(n,e){if(1&n&&(u.TgZ(0,"div")(1,"div",5),u.YNc(2,qp,0,0,"ng-template",6),u.qZA(),u.YNc(3,rb,3,3,"div",7),u.qZA()),2&n){const t=e.$implicit,r=u.oxw(),i=u.MAs(1);u.Tol("accordion-item "+(t.cardClass||"")),u.xp6(1),u.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),u.MGl("id","",t.id,"-header"),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",u.WLB(8,ib,t,t.isOpen)),u.xp6(1),u.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}const wm=["*"];function AD(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",6),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return c.focus(),u.KtG(c.select(a.id,c.NgbSlideEventSource.INDICATOR))}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw();u.ekj("active",t.id===r.activeId),u.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function ob(n,e){}function ND(n,e){if(1&n&&(u.TgZ(0,"div",7)(1,"span",8),u.SDv(2,9),u.qZA(),u.YNc(3,ob,0,0,"ng-template",10),u.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;u.Q6J("id","slide-"+t.id),u.xp6(2),u.pQV(r+1)(i),u.QtT(2),u.xp6(1),u.Q6J("ngTemplateOutlet",t.tplRef)}}function bv(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.arrowLeft())}),u._UZ(1,"span",12),u.TgZ(2,"span",8),u.SDv(3,13),u.qZA()()}}function wv(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",14),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.arrowRight())}),u._UZ(1,"span",15),u.TgZ(2,"span",8),u.SDv(3,16),u.qZA()()}}const ml=["dialog"];function Ff(n){return"string"==typeof n}function Fd(n){return null!=n}function kh(n){return(n||document.body).getBoundingClientRect()}const Qp={animation:!0,transitionTimerDelayMs:5},Ob=()=>{},{transitionTimerDelayMs:Um}=Qp,Lf=new Map,Co=(n,e,t,r)=>{let i=r.context||{};const a=Lf.get(e);if(a)switch(r.runningTransition){case"continue":return Pr.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Lf.delete(e)}const c=t(e,r.animation,i)||Ob;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),bt(void 0).pipe(function Nb(n){return e=>new Ar.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new zn.x,y=new zn.x,I=g.pipe(function ih(...n){return e=>rh(e,bt(...n))}(!0));Lf.set(e,{transition$:g,complete:()=>{y.next(),y.complete()},context:i});const A=function Hv(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const R=N(e,"transitionend").pipe(ci(I),ri(({target:Z})=>Z===e));gr(Ht(A+Um).pipe(ci(I)),R,y).pipe(ci(I)).subscribe(()=>{Lf.delete(e),n.run(()=>{c(),g.next(),g.complete()})})}),g.asObservable()},b=(n,e,t)=>{let{direction:r,maxHeight:i}=t;const{classList:a}=n;function c(){a.add("collapse"),"show"===r?a.add("show"):a.remove("show")}if(e)return i||(i=function p(n){if(typeof navigator>"u")return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return t||e.remove("show"),r}(n),t.maxHeight=i,n.style.height="show"!==r?i:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),kh(n),a.add("collapsing")),n.style.height="show"===r?i:"0px",()=>{c(),a.remove("collapsing"),n.style.height=""};c()};let x=(()=>{class n{constructor(){this.animation=Qp.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G=0,Y=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]]}),n})(),ie=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]]}),n})(),fe=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]]}),n})(),je=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+G++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new u.vpe,this.hidden=new u.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,ie,4),u.Suo(i,Y,4),u.Suo(i,fe,4)),2&t){let a;u.iGM(a=u.CRH())&&(r.titleTpls=a),u.iGM(a=u.CRH())&&(r.headerTpls=a),u.iGM(a=u.CRH())&&(r.contentTpls=a)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),n})(),qe=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new u.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),n})(),Qe=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){Ff(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(kr(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,Co(this._ngZone,r,b,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&Co(this._ngZone,r.panelDiv,b,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide"}}).subscribe(()=>{r.transitionRunning=!1;const{id:a}=r;r.isOpen?(r.shown.emit(),this.shown.emit(a)):(r.hidden.emit(),this.hidden.emit(a))})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(P),u.Y36(u.R0b),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,je,4),2&t){let a;u.iGM(a=u.CRH())&&(r.panels=a)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(u.YNc(0,ym,3,3,"ng-template",0,1,u.W1O),u.YNc(2,sb,4,11,"ng-template",2)),2&t&&(u.xp6(2),u.Q6J("ngForOf",r.panels))},dependencies:function(){return[wi,Gn,fo,qe,Y,_t]},encapsulation:2}),n})(),_t=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qe),u.Y36(je,9))},n.\u0275dir=u.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(u.Ikx("disabled",r.panel.disabled),u.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),u.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),n})(),Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})(),Nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})();var ii=(()=>{return(n=ii||(ii={})).START="start",n.END="end",ii;var n})();const Vi=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Ei=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},yr=n=>{Ei(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},so=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Vi(n)?Ei(r):(r.add("carousel-item-"+(t===ii.START?"next":"prev")),kh(n),r.add("carousel-item-"+t)),()=>{yr(r),r.add("active")}):(Ei(r),yr(r),void r.add("active"))},qo=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Vi(n)?Ei(r):r.add("carousel-item-"+t),()=>{yr(r),r.remove("active")}):(Ei(r),yr(r),void r.remove("active"))};let Wc=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jp=0,Fh=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+Jp++,this.slid=new u.vpe}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),Mb=(()=>{class n{constructor(t,r,i,a,c){this._platformId=r,this._ngZone=i,this._cd=a,this._container=c,this.NgbSlideEventSource=Lh,this._destroy$=new zn.x,this._interval$=new Zn(0),this._mouseHover$=new Zn(!1),this._focused$=new Zn(!1),this._pauseOnHover$=new Zn(!1),this._pauseOnFocus$=new Zn(!1),this._pause$=new Zn(!1),this._wrap$=new Zn(!1),this.slide=new u.vpe,this.slid=new u.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Lh.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Lh.ARROW_RIGHT)}ngAfterContentInit(){fu(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=th([this.slide.pipe((0,It.U)(r=>r.current),ca(this.activeId)),this._wrap$,this.slides.changes.pipe(ca(null))]).pipe((0,It.U)(([r,i])=>{const a=this.slides.toArray(),c=this._getSlideIdxById(r);return i?a.length>1:c<a.length-1}),da());th([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,It.U)(([r,i,a,c,g,y,I])=>r||i&&a||c&&g||!I?0:y),da(),qn(r=>r>0?Ht(r,r):Dc),ci(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Lh.TIMER)))}),this.slides.changes.pipe(ci(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Lf.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(kr(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),ii.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),ii.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const a=this._transitionIds;if(a&&(a[0]!==t||a[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:r,paused:this._pause$.value,source:i});const g={animation:this.animation,runningTransition:"stop",context:{direction:r}},y=[],I=this._getSlideById(this.activeId);if(I){const Z=Co(this._ngZone,this._getSlideElement(I.id),qo,g);Z.subscribe(()=>{I.slid.emit({isShown:!1,direction:r,source:i})}),y.push(Z)}const A=this.activeId;this.activeId=c.id;const R=this._getSlideById(this.activeId),H=Co(this._ngZone,this._getSlideElement(c.id),so,g);H.subscribe(()=>{R?.slid.emit({isShown:!0,direction:r,source:i})}),y.push(H),Cc(...y).pipe(kr(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:A,current:c.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?ii.END:ii.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Wc),u.Y36(u.Lbi),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,Fh,4),2&t){let a;u.iGM(a=u.CRH())&&(r.slides=a)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&u.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(u.uIk("aria-activedescendant","slide-"+r.activeId),u.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,AD,1,5,"button",1),u.qZA(),u.TgZ(2,"div",2),u.YNc(3,ND,4,4,"div",3),u.qZA(),u.YNc(4,bv,4,0,"button",4),u.YNc(5,wv,4,0,"button",5)),2&t&&(u.ekj("visually-hidden",!r.showNavigationIndicators),u.xp6(1),u.Q6J("ngForOf",r.slides),u.xp6(2),u.Q6J("ngForOf",r.slides),u.xp6(1),u.Q6J("ngIf",r.showNavigationArrows),u.xp6(1),u.Q6J("ngIf",r.showNavigationArrows))},dependencies:[wi,Gn,fo],encapsulation:2,changeDetection:0}),n})();var Lh=(()=>{return(n=Lh||(Lh={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Lh;var n})();let Rb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})(),Pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var as=(()=>{return(n=as||(as={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",as;var n})();const $m=(n,e)=>!!e&&e.some(t=>t.contains(n)),Hb=(n,e)=>!e||null!=function $D(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),ZD=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const iS=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function KD(n){const e=Array.from(n.querySelectorAll(iS)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const QD=/\s+/,oS=/  +/gi,Vs=/^start/,JD=/^end/,aS=/-(top|left)$/,lS=/-(bottom|right)$/,uS=/^left/,eC=/^right/,tC=/^start/,Xp=/^end/;function nC({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(QD),i=t.findIndex(y=>"auto"===y);i>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(y){null==t.find(I=>-1!==I.search("^"+y))&&t.splice(i++,1,y)});const a=t.map(y=>function XD(n){return n.replace(Vs,"left").replace(JD,"right").replace(aS,"-start").replace(lS,"-end")}(y));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:y}){const I=new RegExp(e+"(-[a-z]+)*","gi"),A=y.elements.popper,R=y.placement;let H=A.className;H=H.replace(I,""),H+=` ${function cS(n,e){let[t,r]=e.split("-");const i=t.replace(uS,"start").replace(eC,"end");let a=[i];if(r){let c=r;("left"===t||"right"===t)&&(c=c.replace(tC,"top").replace(Xp,"bottom")),a.push(`${i}-${c}`)}return n&&(a=a.map(c=>`${n}-${c}`)),a.join(" ")}(e,R)}`,H=H.trim().replace(oS," "),A.className=H}},fa,Ah,J0,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Wb(n){return n}new Date(1882,10,12),new Date(2174,10,25);let gC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi,X_]}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class $f{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class kS{constructor(e,t,r,i,a,c){this._componentType=e,this._injector=t,this._viewContainerRef=r,this._renderer=i,this._ngZone=a,this._applicationRef=c,this._windowRef=null,this._contentRef=null}open(e,t,r=!1){this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:i}=this._windowRef.location,a=this._ngZone.onStable.pipe(kr(1),(0,li.z)(()=>Co(this._ngZone,i,({classList:c})=>c.add("show"),{animation:r,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:a}}close(e=!1){return this._windowRef?Co(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:e,runningTransition:"stop"}).pipe((0,di.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):bt(void 0)}_getContentRef(e,t){if(e){if(e instanceof u.Rgc){const r=e.createEmbeddedView(t);return this._applicationRef.attachView(r),new $f([r.rootNodes],r)}return new $f([[this._renderer.createText(`${e}`)]])}return new $f([])}}let FS=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(kr(1)).subscribe(()=>{Co(this._zone,this._el.nativeElement,(t,r)=>{r&&kh(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Co(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class Gf{close(e){}dismiss(e){}}class LS{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new zn.x,this._dismissed=new zn.x,this._hidden=new zn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ci(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ci(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Ph(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():bt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Cc(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Bh=(()=>{return(n=Bh||(Bh={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Bh;var n})();let Jv=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new zn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new zn.x,this.hidden=new zn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ff(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(kr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=Cc(Co(this._zone,t,()=>t.classList.remove("show"),r),Co(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};Cc(Co(this._zone,this._elRef.nativeElement,(a,c)=>{c&&kh(a),a.classList.add("show")},t),Co(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{N(t,"keydown").pipe(ci(this._closed$),ri(i=>i.which===as.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Bh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;N(this._dialogEl.nativeElement,"mousedown").pipe(ci(this._closed$),(0,di.b)(()=>r=!1),qn(()=>N(t,"mouseup").pipe(ci(this._closed$),kr(1))),ri(({target:i})=>t===i)).subscribe(()=>{r=!0}),N(t,"click").pipe(ci(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Bh.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=KD(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Co(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ie),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(ml,7),2&t){let i;u.iGM(i=u.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wm,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Yi=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:c}=i;if(t>0){const g=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${g+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oR=(()=>{class n{constructor(t,r,i,a,c,g){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=c,this._ngZone=g,this._activeWindowCmptHasChanged=new zn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=N(e,"focusin").pipe(ci(t),(0,It.U)(a=>a.target));N(e,"keydown").pipe(ci(t),ri(a=>a.which===as.Tab),mp(i)).subscribe(([a,c])=>{const[g,y]=KD(e);(c===g||c===e)&&a.shiftKey&&(y.focus(),a.preventDefault()),c===y&&!a.shiftKey&&(g.focus(),a.preventDefault())}),r&&N(e,"click").pipe(ci(t),mp(i),(0,It.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:Fd(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new Gf,y=this._getContentRef(i.injector||t,r,g,i);let I=!1!==i.backdrop?this._attachBackdrop(a):void 0,A=this._attachWindowComponent(a,y.nodes),R=new LS(A,y,I,i.beforeDismiss);return this._registerModalRef(R),this._registerWindowCmpt(A),R.hidden.pipe(kr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=H=>{R.close(H)},g.dismiss=H=>{R.dismiss(H)},this._applyWindowOptions(A.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,i),I.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),R}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,u.LMc)(FS,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,u.LMc)(Jv,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Fd(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Fd(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a){return r?r instanceof u.Rgc?this._createFromTemplateRef(r,i):Ff(r)?this._createFromString(r):this._createFromComponent(t,r,i,a):new $f([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(a),new $f([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new $f([[r]])}_createFromComponent(t,r,i,a){const c=u.zs3.create({providers:[{provide:Gf,useValue:i}],parent:t}),g=(0,u.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:c}),y=g.location.nativeElement;return a.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new $f([[y]],g.hostView,g)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(Ie),u.LFG(Yi),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_C=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kb=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(oR),u.LFG(_C))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Kb]}),n})(),rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})(),sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})();class $S{constructor(e,t){this.open=e,this.close=t,t||(this.close=e)}isManual(){return"manual"===this.open||"manual"===this.close}}const SC={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},jS=n=>n>0?sh(n):e=>e;let xC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})(),AC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})(),NC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})(),aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})(),MC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})(),lw=(()=>{class n{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XS=0,uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,r){2&t&&(u.Ikx("id",r.id),u.Tol("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),u.ekj("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:wm,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(t,r){1&t&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA())},encapsulation:2,changeDetection:0}),n})(),RC=(()=>{class n{constructor(t,r,i,a,c,g,y,I,A){this._elementRef=t,this._renderer=r,this._ngZone=g,this._document=y,this._changeDetector=I,this.shown=new u.vpe,this.hidden=new u.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+XS++,this._windowRef=null,this._positioning=function rC(){let n=null;return{createPopper(e){if(!n){let r=(e.updatePopperOptions||Wb)(nC(e));n=vm(e.hostElement,e.targetElement,r)}},update(){n&&n.update()},setOptions(e){if(n){let r=(e.updatePopperOptions||Wb)(nC(e));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}(),this.animation=c.animation,this.autoClose=c.autoClose,this.placement=c.placement,this.triggers=c.triggers,this.container=c.container,this.disableTooltip=c.disableTooltip,this.tooltipClass=c.tooltipClass,this.openDelay=c.openDelay,this.closeDelay=c.closeDelay,this._popupService=new kS(uw,i,a,r,this._ngZone,A)}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:r,transition$:i}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=r,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function jb(n,e,t,r,i,a,c,g){t&&n.runOutsideAngular((n=>ZD?()=>setTimeout(()=>n(),100):n)(()=>{const I=N(e,"keydown").pipe(ci(i),ri(H=>H.which===as.Escape),(0,di.b)(H=>H.preventDefault())),A=N(e,"mousedown").pipe((0,It.U)(H=>{const Z=H.target;return 2!==H.button&&!$m(Z,c)&&("inside"===t?$m(Z,a)&&Hb(Z,g):"outside"===t?!$m(Z,a):Hb(Z,g)||!$m(Z,a))}),ci(i)),R=N(e,"mouseup").pipe(mp(A),ri(([H,Z])=>Z),sh(0),ci(i));gr([I.pipe((0,It.U)(H=>0)),R.pipe((0,It.U)(H=>1))]).subscribe(H=>n.run(()=>r(H)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),i.subscribe(()=>this.shown.emit())}}close(t=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function uR(n,e,t,r,i,a,c=0,g=0){const y=function GS(n,e=SC){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(a=>a.split(":")).map(a=>{let c=e[a[0]]||a;return new $S(c[0],c[1])}),i=r.filter(a=>a.isManual());if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(t);if(1===y.length&&y[0].isManual())return()=>{};const I=function HS(n,e,t,r){return new Ar.y(i=>{const a=[],c=()=>i.next(!0),g=()=>i.next(!1),y=()=>i.next(!r());return t.forEach(I=>{I.open===I.close?a.push(n.listen(e,I.open,y)):a.push(n.listen(e,I.open,c),n.listen(e,I.close,g))}),()=>{a.forEach(I=>I())}})}(n,e,y,r).pipe(function lR(n,e,t){return r=>{let i=null;const a=r.pipe((0,It.U)(y=>({open:y})),ri(y=>{const I=t();return I===y.open||i&&i.open!==I?(i&&i.open!==y.open&&(i=null),!1):(i=y,!0)}),(0,Bo.B)()),c=a.pipe(ri(y=>y.open),jS(n)),g=a.pipe(ri(y=>!y.open),jS(e));return(0,qi.T)(c,g).pipe(ri(y=>y===i&&(i=null,y.open!==t())),(0,It.U)(y=>y.open))}}(c,g,r)).subscribe(A=>A?i():a());return()=>I.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.zs3),u.Y36(u.s_b),u.Y36(lw),u.Y36(u.R0b),u.Y36(Ie),u.Y36(u.sBO),u.Y36(u.z2F))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[u.TTD]}),n})(),cw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function ex(){return 100}});let dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})(),hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const fw=[Rt,Nn,Rb,Pb,gC,Xt,vC,rw,hw,sw,xC,AC,NC,aw,MC,cw,dw];let ix=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[fw,Rt,Nn,Rb,Pb,gC,Xt,vC,rw,hw,sw,xC,AC,NC,aw,MC,cw,dw]}),n})();const pw=["ngucarousel"],ox=["nguItemsContainer"],LC=["touchContainer"],ig=[[["","NguCarouselPrev",""]],[["","NguCarouselNext",""]],[["","NguCarouselPoint",""]]],BC=["[NguCarouselPrev]","[NguCarouselNext]","[NguCarouselPoint]"],ax=["*"];class gw{}class mw{}class ux{constructor(e=0,t=0,r=0,i=0,a=0){this.xs=e,this.sm=t,this.md=r,this.lg=i,this.all=a,this.xl=0}}class VC{constructor(e=768,t=992,r=1200,i=1200){this.sm=e,this.md=t,this.lg=r,this.xl=i}}class $C{constructor(e){this.$implicit=e}}let ey=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","NguCarouselNext",""]]}),n})(),ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","NguCarouselPrev",""]]}),n})(),_w=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","nguCarouselDef",""]]}),n})(),GC=(()=>{class n{constructor(t){this.viewContainer=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","nguCarouselOutlet",""]]}),n})(),HC=(()=>{class n extends class NR{constructor(e=new mw,t=new gw,r,i=new ux,a,c,g,y="fixed",I="",A=0,R=0,H=0,Z=0,ue=0,_e=0,De=0,ot=0,ut=0,vt="cubic-bezier(0, 0, 0.2, 1)",it=200,gt=!1,Dt=0,rn=0,Pn=!1,$i=!0,Gs=!1,ls=!1,uc=!0,wa=1){this.touch=e,this.vertical=t,this.interval=r,this.transform=i,this.button=a,this.visibleItems=c,this.deviceType=g,this.type=y,this.token=I,this.items=A,this.load=R,this.deviceWidth=H,this.carouselWidth=Z,this.itemWidth=ue,this.slideItems=_e,this.itemWidthPer=De,this.itemLength=ot,this.currentSlide=ut,this.easing=vt,this.speed=it,this.loop=gt,this.dexVal=Dt,this.touchTransform=rn,this.isEnd=Pn,this.isFirst=$i,this.isLast=Gs,this.RTL=ls,this.point=uc,this.velocity=wa}}{constructor(t,r,i,a,c){super(),this._el=t,this._renderer=r,this._differs=i,this.platformId=a,this.cdr=c,this.withAnim=!0,this.isHovered=!1,this.carouselLoad=new u.vpe,this.onMove=new u.vpe,this._intervalController$=new zn.x,this.pointNumbers=[]}get dataSource(){return this._dataSource}set dataSource(t){t&&this._switchDataSource(t)}set nextBtn(t){this.listener2?.(),t&&(this.listener2=this._renderer.listen(t.nativeElement,"click",()=>this._carouselScrollOne(1)))}set prevBtn(t){this.listener1?.(),t&&(this.listener1=this._renderer.listen(t.nativeElement,"click",()=>this._carouselScrollOne(0)))}get trackBy(){return this._trackByFn}set trackBy(t){(0,u.X6Q)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}ngOnInit(){this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(t,r):r)}ngDoCheck(){this.arrayChanges=this._dataDiffer.diff(this.dataSource),this.arrayChanges&&this._defDirec&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource=t,this._defDirec&&this._observeRenderChanges()}_observeRenderChanges(){let t;this._dataSource instanceof Ar.y?t=this._dataSource:Array.isArray(this._dataSource)&&(t=bt(this._dataSource)),t&&(this._dataSubscription=t.pipe(ci(this._intervalController$)).subscribe(r=>{this.renderNodeChanges(r),this.isLast=this.pointIndex===this.currentSlide}))}renderNodeChanges(t,r=this._nodeOutlet.viewContainer){!this.arrayChanges||(this.arrayChanges.forEachOperation((i,a,c)=>{const g=this._getNodeDef(t[c],c);if(null==i.previousIndex){const y=new $C(t[c]);y.index=c,r.createEmbeddedView(g.template,y,c)}else if(null==c)r.remove(a);else{const y=r.get(a);r.move(y,c)}}),this._updateItemIndexContext(),this.carousel&&this._storeCarouselData())}_updateItemIndexContext(){const t=this._nodeOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const c=t.get(r).context;c.count=i,c.first=0===r,c.last=r===i-1,c.even=r%2==0,c.odd=!c.even,c.index=r}}_getNodeDef(t,r){return 1===this._defDirec.length?this._defDirec.first:this._defDirec.find(a=>a.when&&a.when(r,t))||this._defaultNodeDef}ngAfterViewInit(){this.carousel=this._el.nativeElement,this._inputValidation(),this.carouselCssNode=this._createStyleElem(),fu(this.platformId)&&(this._carouselInterval(),this.vertical.enabled||this._touch(),this.listener3=this._renderer.listen("window","resize",t=>{this._onResizing(t)}),this._onWindowScrolling())}ngAfterContentInit(){this._observeRenderChanges(),this.cdr.markForCheck()}_inputValidation(){this.inputs.gridBreakpoints=this.inputs.gridBreakpoints?this.inputs.gridBreakpoints:new VC,void 0===this.inputs.grid.xl&&(this.inputs.grid.xl=this.inputs.grid.lg),this.type=0!==this.inputs.grid.all?"fixed":"responsive",this.loop=this.inputs.loop||!1,this.inputs.easing=this.inputs.easing||"cubic-bezier(0, 0, 0.2, 1)",this.touch.active=this.inputs.touch||!1,this.RTL=!!this.inputs.RTL,this.interval=this.inputs.interval||null,this.velocity="number"==typeof this.inputs.velocity?this.inputs.velocity:this.velocity,this.inputs.vertical&&this.inputs.vertical.enabled&&(this.vertical.enabled=this.inputs.vertical.enabled,this.vertical.height=this.inputs.vertical.height),this.directionSym=this.RTL?"":"-",this.point=!(this.inputs.point&&typeof this.inputs.point.visible<"u")||this.inputs.point.visible,this._carouselSize()}ngOnDestroy(){this.carouselInt&&this.carouselInt.unsubscribe(),this._intervalController$.unsubscribe(),this.carouselLoad.complete(),this.onMove.complete(),clearTimeout(this.onScrolling);for(let t=1;t<=4;t++){const r=`listener${t}`;this[r]&&this[r]()}}_onResizing(t){clearTimeout(this.onResize),this.onResize=setTimeout(()=>{this.deviceWidth!==t.target.outerWidth&&(this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this._storeCarouselData())},500)}_touch(){this.inputs.touch&&Promise.resolve().then(j.t.bind(j,5386,19)).then(()=>{const t=new Hammer(this.touchContainer.nativeElement);t.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),t.on("panstart",r=>{this.carouselWidth=this.nguItemsContainer.nativeElement.offsetWidth,this.touchTransform=this.transform[this.deviceType],this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","")}),this.vertical.enabled?(t.on("panup",r=>{this._touchHandling("panleft",r)}),t.on("pandown",r=>{this._touchHandling("panright",r)})):(t.on("panleft",r=>{this._touchHandling("panleft",r)}),t.on("panright",r=>{this._touchHandling("panright",r)})),t.on("panend pancancel",r=>{if(Math.abs(r.velocity)>=this.velocity){this.touch.velocity=r.velocity;let i=0;i=this.RTL?"panright"===this.touch.swipe?1:0:"panright"===this.touch.swipe?0:1,this._carouselScrollOne(i)}else this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","transform 324ms cubic-bezier(0, 0, 0.2, 1)"),this._setStyle(this.nguItemsContainer.nativeElement,"transform","")}),t.on("hammer.input",r=>{r.srcEvent.stopPropagation()})})}_touchHandling(t,r){if(0===r.center.x)return;let i=(r=Math.abs(this.vertical.enabled?r.deltaY:r.deltaX))-this.dexVal;i="responsive"===this.type?Math.abs(r-this.dexVal)/(this.vertical.enabled?this.vertical.height:this.carouselWidth)*100:i,this.dexVal=r,this.touch.swipe=t,this._setTouchTransfrom(t,i),this._setTransformFromTouch()}_setTouchTransfrom(t,r){this.touchTransform=t===(this.RTL?"panright":"panleft")?r+this.touchTransform:this.touchTransform-r}_setTransformFromTouch(){this.touchTransform<0&&(this.touchTransform=0);const t="responsive"===this.type?"%":"px";this._setStyle(this.nguItemsContainer.nativeElement,"transform",this.vertical.enabled?`translate3d(0, ${this.directionSym}${this.touchTransform}${t}, 0)`:`translate3d(${this.directionSym}${this.touchTransform}${t}, 0, 0)`)}_onWindowScrolling(){const t=this.carousel.offsetTop,r=window.scrollY,i=window.innerHeight,a=this.carousel.offsetHeight;this._intervalController$.next(t<=r+i-a/4&&t+a/2>=r?1:0)}_storeCarouselData(){const t=this.inputs.gridBreakpoints;this.deviceWidth=fu(this.platformId)?window.innerWidth:t.xl,this.carouselWidth=this.carouselMain1.nativeElement.offsetWidth,"responsive"===this.type?(this.deviceType=this.deviceWidth>=t.xl?"xl":this.deviceWidth>=t.lg?"lg":this.deviceWidth>=t.md?"md":this.deviceWidth>=t.sm?"sm":"xs",this.items=this.inputs.grid[this.deviceType],this.itemWidth=this.carouselWidth/this.items):(this.items=Math.trunc(this.carouselWidth/this.inputs.grid.all),this.itemWidth=this.inputs.grid.all,this.deviceType="all"),this.slideItems=+(this.inputs.slide<this.items?this.inputs.slide:this.items),this.load=this.inputs.load>=this.slideItems?this.inputs.load:this.slideItems,this.speed=this.inputs.speed&&this.inputs.speed>-1?this.inputs.speed:400,this._carouselPoint()}reset(t){t&&(this.withAnim=!1),this.carouselCssNode.textContent="",this.moveTo(0),this._carouselPoint()}_carouselPoint(){this.pointIndex=Math.ceil((this.dataSource.length-(this.items-this.slideItems))/this.slideItems);const r=[];if(this.pointIndex>1||!this.inputs.point.hideOnSingleSlide)for(let i=0;i<this.pointIndex;i++)r.push(i);this.pointNumbers=r,this._carouselPointActiver(),this.pointIndex<=1?this._btnBoolean(1,1):this._btnBoolean(0!==this.currentSlide||this.loop?0:1,0)}_carouselPointActiver(){const t=Math.ceil(this.currentSlide/this.slideItems);this.activePoint=t,this.cdr.markForCheck()}moveTo(t,r){if(r&&(this.withAnim=!1),this.activePoint!==t&&t<this.pointIndex){let i;const a=this.currentSlide<t?1:0;switch(t){case 0:this._btnBoolean(1,0),i=t*this.slideItems;break;case this.pointIndex-1:this._btnBoolean(0,1),i=this.dataSource.length-this.items;break;default:this._btnBoolean(0,0),i=t*this.slideItems}this._carouselScrollTwo(a,i,this.speed)}}_carouselSize(){this.token=this._generateID();let t="";this.styleid=`.${this.token} > .ngucarousel > .ngu-touch-container > .ngucarousel-items`,"banner"===this.inputs.custom&&this._renderer.addClass(this.carousel,"banner"),"lazy"===this.inputs.animation&&(t+=`${this.styleid} > .item {transition: transform .6s ease;}`);const r=this.inputs.gridBreakpoints;let i="";i=this.vertical.enabled?`@media (max-width:${r.sm-1}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xs}px}}\n                    @media (max-width:${r.sm}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.sm}px}}\n                    @media (min-width:${r.md}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.md}px}}\n                    @media (min-width:${r.lg}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.lg}px}}\n                    @media (min-width:${r.xl}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xl}px}}`:"responsive"===this.type?`@media (max-width:${r.sm-1}px){${"mobile"===this.inputs.type?`${this.styleid} .item {flex: 0 0 ${95/+this.inputs.grid.xs}%; width: ${95/+this.inputs.grid.xs}%;}`:`${this.styleid} .item {flex: 0 0 ${100/+this.inputs.grid.xs}%; width: ${100/+this.inputs.grid.xs}%;}`}}\n                    @media (min-width:${r.sm}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.sm}%; width: ${100/+this.inputs.grid.sm}%}}\n                    @media (min-width:${r.md}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.md}%; width: ${100/+this.inputs.grid.md}%}}\n                    @media (min-width:${r.lg}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.lg}%; width: ${100/+this.inputs.grid.lg}%}}\n                    @media (min-width:${r.xl}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.xl}%; width: ${100/+this.inputs.grid.xl}%}}`:`${this.styleid} .item {flex: 0 0 ${this.inputs.grid.all}px; width: ${this.inputs.grid.all}px;}`,this._renderer.addClass(this.carousel,this.token),this.vertical.enabled&&(this._renderer.addClass(this.nguItemsContainer.nativeElement,"nguvertical"),this._renderer.setStyle(this.carouselMain1.nativeElement,"height",`${this.vertical.height}px`)),this.RTL&&!this.vertical.enabled&&this._renderer.addClass(this.carousel,"ngurtl"),this._createStyleElem(`${t} ${i}`),this._storeCarouselData()}_carouselScrollOne(t){let r=this.speed,i=0,a=0,c=Math.ceil(this.dexVal/this.itemWidth);if(c=isFinite(c)?c:0,this._setStyle(this.nguItemsContainer.nativeElement,"transform",""),1!==this.pointIndex)if(0!==t||(this.loop||this.isFirst)&&!this.loop)1===t&&(!this.loop&&!this.isLast||this.loop)&&(this.dataSource.length<=this.currentSlide+this.items+this.slideItems&&!this.isLast?(a=this.dataSource.length-this.items,this._btnBoolean(0,1)):this.isLast?(a=i=0,r=400,this._btnBoolean(1,0)):(this._btnBoolean(0,0),c>this.slideItems?(a=this.currentSlide+this.slideItems+(c-this.slideItems),r=200):a=this.currentSlide+this.slideItems),this._carouselScrollTwo(t,a,r));else{const y=this.currentSlide-this.slideItems+this.slideItems;this._btnBoolean(0,1),0===this.currentSlide?(a=this.dataSource.length-this.items,r=400,this._btnBoolean(0,1)):this.slideItems>=y?(a=i=0,this._btnBoolean(1,0)):(this._btnBoolean(0,0),c>this.slideItems?(a=this.currentSlide-c,r=200):a=this.currentSlide-this.slideItems),this._carouselScrollTwo(t,a,r)}}_carouselScrollTwo(t,r,i){if(0!==this.dexVal){const a=Math.abs(this.touch.velocity);let c=Math.floor(this.dexVal/a/this.dexVal*(this.deviceWidth-this.dexVal));c=c>i?i:c,i=c<200?200:c,this.dexVal=0}this.withAnim?(this._setStyle(this.nguItemsContainer.nativeElement,"transition",`transform ${i}ms ${this.inputs.easing}`),this.inputs.animation&&this._carouselAnimator(t,r+1,r+this.items,i,Math.abs(this.currentSlide-r))):this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this.itemLength=this.dataSource.length,this._transformStyle(r),this.currentSlide=r,this.onMove.emit(this),this._carouselPointActiver(),this._carouselLoadTrigger(),this.withAnim=!0}_btnBoolean(t,r){this.isFirst=!!t,this.isLast=!!r}_transformString(t,r){let i="";return i+=`${this.styleid} { transform: translate3d(`,this.vertical.enabled?(this.transform[t]=this.vertical.height/this.inputs.grid[t]*r,i+=`0, -${this.transform[t]}px, 0`):(this.transform[t]=100/this.inputs.grid[t]*r,i+=`${this.directionSym}${this.transform[t]}%, 0, 0`),i+="); }",i}_transformStyle(t){let r="";if("responsive"===this.type){const i=this.inputs.gridBreakpoints;r=`@media (max-width: ${i.sm-1}px) {${this._transformString("xs",t)}}\n      @media (min-width: ${i.sm}px) {${this._transformString("sm",t)} }\n      @media (min-width: ${i.md}px) {${this._transformString("md",t)} }\n      @media (min-width: ${i.lg}px) {${this._transformString("lg",t)} }\n      @media (min-width: ${i.xl}px) {${this._transformString("xl",t)} }`}else this.transform.all=this.inputs.grid.all*t,r=`${this.styleid} { transform: translate3d(${this.directionSym}${this.transform.all}px, 0, 0);`;this.carouselCssNode.textContent=r}_carouselLoadTrigger(){"number"==typeof this.inputs.load&&this.dataSource.length-this.load<=this.currentSlide+this.items&&this.carouselLoad.emit(this.currentSlide)}_generateID(){let t="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<6;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return`ngucarousel${t}`}_carouselInterval(){const t=this.carouselMain1.nativeElement;if(this.interval&&this.loop){this.listener4=this._renderer.listen("window","scroll",()=>{clearTimeout(this.onScrolling),this.onScrolling=setTimeout(()=>{this._onWindowScrolling()},600)});const r=N(t,"mouseleave").pipe(Pa(1)),i=N(t,"mouseenter").pipe(Pa(0)),a=N(t,"touchstart").pipe(Pa(1)),c=N(t,"touchend").pipe(Pa(0)),g=function sx(n=0,e=We.z){return n<0&&(n=0),Ht(n,n,e)}(this.inputs.interval.timing).pipe(Pa(1));setTimeout(()=>{this.carouselInt=(0,qi.T)(r,a,i,c,this._intervalController$).pipe(ca(1),qn(y=>(this.isHovered=!y,this.cdr.markForCheck(),y?g:Pr.E))).subscribe(y=>{this._carouselScrollOne(1)})},this.interval.initialDelay)}}_updateItemIndexContextAni(){const t=this._nodeOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const c=t.get(r).context;c.count=i,c.first=0===r,c.last=r===i-1,c.even=r%2==0,c.odd=!c.even,c.index=r}}_carouselAnimator(t,r,i,a,c,g=this._nodeOutlet.viewContainer){let y=c<5?c:5;y=1===y?3:y;const I=[];if(1===t)for(let A=r-1;A<i;A++)I.push(A),y*=2,g.get(A).context.animate={value:!0,params:{distance:y}};else for(let A=i-1;A>=r-1;A--)I.push(A),y*=2,g.get(A).context.animate={value:!0,params:{distance:-y}};this.cdr.markForCheck(),setTimeout(()=>{this._removeAnimations(I)},.7*a)}_removeAnimations(t){const r=this._nodeOutlet.viewContainer;t.forEach(i=>{r.get(i).context.animate={value:!1,params:{distance:0}}}),this.cdr.markForCheck()}_setStyle(t,r,i){this._renderer.setStyle(t,r,i)}_createStyleElem(t){const r=this._renderer.createElement("style");if(t){const i=this._renderer.createText(t);this._renderer.appendChild(r,i)}return this._renderer.appendChild(this.carousel,r),r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.ZZ4),u.Y36(u.Lbi),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngu-carousel"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,ey,5,u.SBq),u.Suo(i,ty,5,u.SBq),u.Suo(i,_w,4)),2&t){let a;u.iGM(a=u.CRH())&&(r.nextBtn=a.first),u.iGM(a=u.CRH())&&(r.prevBtn=a.first),u.iGM(a=u.CRH())&&(r._defDirec=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(GC,7),u.Gf(pw,7,u.SBq),u.Gf(ox,7,u.SBq),u.Gf(LC,7,u.SBq)),2&t){let i;u.iGM(i=u.CRH())&&(r._nodeOutlet=i.first),u.iGM(i=u.CRH())&&(r.carouselMain1=i.first),u.iGM(i=u.CRH())&&(r.nguItemsContainer=i.first),u.iGM(i=u.CRH())&&(r.touchContainer=i.first)}},inputs:{inputs:"inputs",dataSource:"dataSource",trackBy:"trackBy"},outputs:{carouselLoad:"carouselLoad",onMove:"onMove"},features:[u.qOj],ngContentSelectors:BC,decls:11,vars:0,consts:[[1,"ngucarousel"],["ngucarousel",""],[1,"ngu-touch-container"],["touchContainer",""],[1,"ngucarousel-items"],["nguItemsContainer",""],["nguCarouselOutlet",""],[1,"nguclearFix"]],template:function(t,r){1&t&&(u.F$t(ig),u.TgZ(0,"div",0,1),u.Hsn(2),u.TgZ(3,"div",2,3)(5,"div",4,5),u.GkF(7,6),u.qZA()(),u._UZ(8,"div",7),u.Hsn(9,1),u.qZA(),u.Hsn(10,2))},dependencies:[GC],styles:["[_nghost-%COMP%]{display:block;position:relative}.ngurtl[_nghost-%COMP%]{direction:rtl}.ngucarousel[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%}.ngucarousel[_ngcontent-%COMP%]   .ngucarousel-items[_ngcontent-%COMP%]{position:relative;display:flex;height:100%}.nguvertical[_ngcontent-%COMP%]{flex-direction:column}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:20px}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:rgba(255,255,255,.55)}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:white}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{list-style-type:none;text-align:center;padding:12px;margin:0;white-space:nowrap;overflow:auto;box-sizing:border-box}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border-radius:50%;background:rgba(0,0,0,.55);padding:4px;margin:0 4px;transition-timing-function:cubic-bezier(.17,.67,.83,.67);transition:.4s}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#6b6b6b;transform:scale(1.8)}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.nguclearFix[_ngcontent-%COMP%]{clear:both}"],changeDetection:0}),n})(),hx=(()=>{class n{constructor(){this.classes=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngu-tile"]],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("item",r.classes)},ngContentSelectors:ax,decls:2,vars:0,consts:[[1,"tile"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0),u.Hsn(1),u.qZA())},styles:["[_nghost-%COMP%]{padding:10px;box-sizing:border-box}.tile[_ngcontent-%COMP%]{box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f}"]}),n})(),vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi]}),n})();const ny=(0,j(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function px(n){return new Ar.y(e=>{(0,oi.Xf)(n()).subscribe(e)})}var RR=j(9635);function qm(n,e){const t=(0,Ps.m)(n)?n:()=>n,r=i=>i.error(t());return new Ar.y(e?i=>e.schedule(r,0,i):r)}var jC=j(727);function yw(){return(0,ai.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ir.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class bw extends Ar.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ai.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jC.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ir.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jC.w0.EMPTY)}return e}refCount(){return yw()(this)}}function Zm(n){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,ir.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ww(n=gx){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,ir.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function gx(){return new ny}function Bd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((i,a)=>n(i,a,r)):Qs.y,kr(1),t?Zm(e):ww(()=>new ny))}function Hf(n,e){return(0,Ps.m)(e)?(0,li.z)(n,e,1):(0,li.z)(n,1)}function Vh(n){return(0,ai.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,ir.x)(t,void 0,void 0,c=>{a=(0,oi.Xf)(n(c,Vh(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function mx(n,e,t,r,i){return(a,c)=>{let g=t,y=e,I=0;a.subscribe((0,ir.x)(c,A=>{const R=I++;y=g?n(y,A,R):(g=!0,A),r&&c.next(y)},i&&(()=>{g&&c.next(y),c.complete()})))}}function Ym(n,e){return(0,ai.e)(mx(n,e,arguments.length>=2,!0))}function jf(n){return n<=0?()=>Pr.E:(0,ai.e)((e,t)=>{let r=[];e.subscribe((0,ir.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dw(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((i,a)=>n(i,a,r)):Qs.y,jf(1),t?Zm(e):ww(()=>new ny))}function ry(n){return(0,ai.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const On="primary",sg=Symbol("RouteTitle");class zC{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function og(n){return new zC(n)}function PR(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],g=n[a];if(c.startsWith(":"))i[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!ZC(n[i],e[i]))return!1;return!0}function ZC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function YC(n){return Array.prototype.concat.apply([],n)}function KC(n){return n.length>0?n[n.length-1]:null}function Io(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Kc(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Wn.D)(Promise.resolve(n)):bt(n)}const Cw={exact:function JC(n,e,t){if(!zf(n.segments,e.segments)||!oy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!JC(n.children[r],e.children[r],t))return!1;return!0},subset:Km},ag={exact:function vx(n,e){return Yc(n,e)},subset:function sy(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZC(n[t],e[t]))},ignored:()=>!0};function QC(n,e,t){return Cw[t.paths](n.root,e.root,t.matrixParams)&&ag[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Km(n,e,t){return XC(n,e,e.segments,t)}function XC(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!zf(i,t)||e.hasChildren()||!oy(i,t,r))}if(n.segments.length===t.length){if(!zf(n.segments,t)||!oy(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Km(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(zf(n.segments,i)&&oy(n.segments,i,r)&&n.children[On])&&XC(n.children[On],e,a,r)}}function oy(n,e,t){return e.every((r,i)=>ag[t](n[i].parameters,r.parameters))}class Uh{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=og(this.queryParams)),this._queryParamMap}toString(){return Iw.serialize(this)}}class Bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Io(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jm(this)}}class Wf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=og(this.parameters)),this._parameterMap}toString(){return cy(this)}}function zf(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Qm},providedIn:"root"}),n})();class Qm{parse(e){const t=new oI(e);return new Uh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qf(e.root,!0)}`,r=function nI(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ly(t)}=${ly(i)}`).join("&"):`${ly(t)}=${ly(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function wx(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Iw=new Qm;function Jm(n){return n.segments.map(e=>cy(e)).join("/")}function qf(n,e){if(!n.hasChildren())return Jm(n);if(e){const t=n.children[On]?qf(n.children[On],!1):"",r=[];return Io(n.children,(i,a)=>{a!==On&&r.push(`${a}:${qf(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function yx(n,e){let t=[];return Io(n.children,(r,i)=>{i===On&&(t=t.concat(e(r,i)))}),Io(n.children,(r,i)=>{i!==On&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===On?[qf(n.children[On],!1)]:[`${i}:${qf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[On]?`${Jm(n)}/${t[0]}`:`${Jm(n)}/(${t.join("//")})`}}function ay(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ly(n){return ay(n).replace(/%3B/gi,";")}function Tw(n){return ay(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uy(n){return decodeURIComponent(n)}function Ew(n){return uy(n.replace(/\+/g,"%20"))}function cy(n){return`${Tw(n.path)}${function tI(n){return Object.keys(n).map(e=>`;${Tw(e)}=${Tw(n[e])}`).join("")}(n.parameters)}`}const rI=/^[^\/()?;=#]+/;function Xm(n){const e=n.match(rI);return e?e[0]:""}const Dx=/^[^=?&#]+/,sI=/^[^&#]+/;class oI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[On]=new Bn(e,t)),r}parseSegment(){const e=Xm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Wf(uy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Xm(this.remaining);i&&(r=i,this.capture(r))}e[uy(t)]=uy(r)}parseQueryParam(e){const t=function iI(n){const e=n.match(Dx);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Cx(n){const e=n.match(sI);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Ew(t),a=Ew(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=On);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[On]:new Bn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function dy(n){return n.segments.length>0?new Bn([],{[On]:n}):n}function oo(n){const e={};for(const r of Object.keys(n.children)){const a=oo(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function lg(n){if(1===n.numberOfChildren&&n.children[On]){const e=n.children[On];return new Bn(n.segments.concat(e.segments),e.children)}return n}(new Bn(n.segments,e))}function Zf(n){return n instanceof Uh}function lI(n,e,t,r,i){if(0===t.length)return $h(e.root,e.root,e.root,r,i);const a=function cI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xw(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const g={};return Io(a.outlets,(y,I)=>{g[I]="string"==typeof y?y.split("/"):y}),[...i,{outlets:g}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,a]},[]);return new xw(t,e,r)}(t);return a.toRoot()?$h(e.root,e.root,new Bn([],{}),r,i):function c(y){const I=function Aw(n,e,t,r){if(n.isAbsolute)return new ug(e.root,!0,0);if(-1===r)return new ug(t,t===e.root,0);return function Nw(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new ug(r,!1,i-a)}(t,r+(Vd(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),A=I.processChildren?Yf(I.segmentGroup,I.index,a.commands):cg(I.segmentGroup,I.index,a.commands);return $h(e.root,I.segmentGroup,A,r,i)}(n.snapshot?._lastPathIndex)}function Vd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function e_(n){return"object"==typeof n&&null!=n&&n.outlets}function $h(n,e,t,r,i){let c,a={};r&&Io(r,(y,I)=>{a[I]=Array.isArray(y)?y.map(A=>`${A}`):`${y}`}),c=n===e?t:uI(n,e,t);const g=dy(oo(c));return new Uh(g,a,i)}function uI(n,e,t){const r={};return Io(n.children,(i,a)=>{r[a]=i===e?t:uI(i,e,t)}),new Bn(n.segments,r)}class xw{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vd(r[0]))throw new u.vHH(4003,!1);const i=r.find(e_);if(i&&i!==KC(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ug{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function cg(n,e,t){if(n||(n=new Bn([],{})),0===n.segments.length&&n.hasChildren())return Yf(n,e,t);const r=function FR(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],g=t[r];if(e_(g))break;const y=`${g}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&I&&"object"==typeof I&&void 0===I.outlets){if(!Kf(y,I,c))return a;r+=2}else{if(!Kf(y,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Bn(n.segments.slice(0,r.pathIndex),{});return a.children[On]=new Bn(n.segments.slice(r.pathIndex),n.children),Yf(a,0,i)}return r.match&&0===i.length?new Bn(n.segments,{}):r.match&&!n.hasChildren()?hy(n,e,t):r.match?Yf(n,0,i):hy(n,e,t)}function Yf(n,e,t){if(0===t.length)return new Bn(n.segments,{});{const r=function dI(n){return e_(n[0])?n[0].outlets:{[On]:n}}(t),i={};return Io(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=cg(n.children[c],e,a))}),Io(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Bn(n.segments,i)}}function hy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(e_(a)){const y=Tx(a.outlets);return new Bn(r,y)}if(0===i&&Vd(t[0])){r.push(new Wf(n.segments[e].path,Ow(t[0]))),i++;continue}const c=e_(a)?a.outlets[On]:`${a}`,g=i<t.length-1?t[i+1]:null;c&&g&&Vd(g)?(r.push(new Wf(c,Ow(g))),i+=2):(r.push(new Wf(c,{})),i++)}return new Bn(r,{})}function Tx(n){const e={};return Io(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=hy(new Bn([],{}),0,t))}),e}function Ow(n){const e={};return Io(n,(t,r)=>e[r]=`${t}`),e}function Kf(n,e,t){return n==t.path&&Yc(e,t.parameters)}class Ud{constructor(e,t){this.id=e,this.url=t}}class t_ extends Ud{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qc extends Ud{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fy extends Ud{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mw extends Ud{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LR extends Ud{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ex extends Ud{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sx extends Ud{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xx extends Ud{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hI extends Ud{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fI{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ax{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pI{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gI{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nx{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ox{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=py(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=py(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gy(e,this._root).map(t=>t.value)}}function py(n,e){if(n===e.value)return e;for(const t of e.children){const r=py(n,t);if(r)return r}return null}function gy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=gy(n,t);if(r.length)return r.unshift(e),r}return[]}class Jc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function dg(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class mI extends Pw{constructor(e,t){super(e),this.snapshot=t,vI(this,e)}toString(){return this.snapshot.toString()}}function Rx(n,e){const t=function _I(n,e){const c=new kw([],{},{},"",{},On,e,null,n.root,-1,{});return new kx("",new Jc(c,[]))}(n,e),r=new Zn([new Wf("",{})]),i=new Zn({}),a=new Zn({}),c=new Zn({}),g=new Zn(""),y=new hg(r,i,c,g,a,On,e,t.root);return y.snapshot=t.root,new mI(new Jc(y,[]),t)}class hg{constructor(e,t,r,i,a,c,g,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=g,this.title=this.data?.pipe((0,It.U)(I=>I[sg]))??bt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>og(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>og(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Px(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function BR(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class kw{constructor(e,t,r,i,a,c,g,y,I,A,R,H){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=g,this.title=this.data?.[sg],this.routeConfig=y,this._urlSegment=I,this._lastPathIndex=A,this._correctedLastPathIndex=H??A,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=og(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=og(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kx extends Pw{constructor(e,t){super(t),this.url=e,vI(this,t)}toString(){return Fx(this._root)}}function vI(n,e){e.value._routerState=n,e.children.forEach(t=>vI(n,t))}function Fx(n){const e=n.children.length>0?` { ${n.children.map(Fx).join(", ")} } `:"";return`${n.value}${e}`}function yI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yc(e.params,t.params)||n.params.next(t.params),function qC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fg(n,e){const t=Yc(n.params,e.params)&&function eI(n,e){return zf(n,e)&&n.every((t,r)=>Yc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fg(n.parent,e.parent))}function pg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function my(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pg(n,r,i);return pg(n,r)})}(n,e,t);return new Jc(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>pg(n,g)),c}}const r=function bI(n){return new hg(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>pg(n,a));return new Jc(r,i)}}const _y="ngNavigationCancelingError";function Lx(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Zf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vy(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function vy(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[_y]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Fw(n){return wI(n)&&Zf(n.url)}function wI(n){return n&&n[_y]}class DI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yy,this.attachRef=null}}let yy=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new DI,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lw=!1;let Bw=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||On,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Lw);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Lw);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Lw);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,Lw);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new Bx(t,g,i.injector);if(r&&function by(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(c);this.activated=i.createComponent(I,i.length,y)}else this.activated=i.createComponent(c,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yy),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Bx{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===hg?this.route:e===yy?this.childContexts:this.parent.get(e,t)}}let Vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Bw],encapsulation:2}),n})();function Vx(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wy(n){const e=n.children&&n.children.map(wy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==On&&(t.component=Vw),t}function rc(n){return n.outlet||On}function au(n,e){const t=n.filter(r=>rc(r)===e);return t.push(...n.filter(r=>rc(r)!==e)),t}function n_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class $x{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=dg(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Io(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=dg(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=dg(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=dg(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Ox(a.value.snapshot))}),e.children.length&&this.forwardEvent(new gI(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(yI(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),yI(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=n_(i.snapshot),y=g?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=y,c.injector=g,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class vl{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Dy{constructor(e,t){this.component=e,this.route=t}}function Gw(n,e,t){const r=n._root;return Qf(r,e?e._root:null,t,[r.value])}function gg(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function Qf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=dg(e);return n.children.forEach(c=>{(function II(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const y=function TI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!zf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!zf(n.url,e.url)||!Yc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fg(n,e)||!Yc(n.queryParams,e.queryParams);default:return!fg(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new vl(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Qf(n,e,a.component?g?g.children:null:t,r,i),y&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new Dy(g.outlet.component,c))}else c&&r_(e,g,i),i.canActivateChecks.push(new vl(r)),Qf(n,null,a.component?g?g.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Io(a,(c,g)=>r_(c,t.getContext(g),i)),i}function r_(n,e,t){const r=dg(n),i=n.value;Io(r,(a,c)=>{r_(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Dy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function mg(n){return"function"==typeof n}function ic(n){return n instanceof ny||"EmptyError"===n?.name}const Cy=Symbol("INITIAL_VALUE");function i_(){return qn(n=>th(n.map(e=>e.pipe(kr(1),ca(Cy)))).pipe((0,It.U)(e=>{for(const t of e)if(!0!==t){if(t===Cy)return Cy;if(!1===t||t instanceof Uh)return t}return!0}),ri(e=>e!==Cy),kr(1)))}function Qx(n){return(0,RR.z)((0,di.b)(e=>{if(Zf(e))throw Lx(0,e)}),(0,It.U)(e=>!0===e))}const Iy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zw(n,e,t,r,i){const a=Ty(n,e,t);return a.matched?function Ww(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?bt(i.map(c=>{const g=gg(c,n);return Kc(function Gh(n){return n&&mg(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(i_(),Qx()):bt(!0)}(r=Vx(e,r),e,t).pipe((0,It.U)(c=>!0===c?a:{...Iy})):bt(a)}function Ty(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Iy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||PR)(t,n,e);if(!i)return{...Iy};const a={};Io(i.posParams,(g,y)=>{a[y]=g.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function s_(n,e,t,r,i="corrected"){if(t.length>0&&function Sy(n,e,t){return t.some(r=>xy(n,e,r)&&rc(r)!==On)}(n,t,r)){const c=new Bn(e,function Ey(n,e,t,r){const i={};i[On]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&rc(a)!==On){const c=new Bn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[rc(a)]=c}return i}(n,e,r,new Bn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function MI(n,e,t){return t.some(r=>xy(n,e,r))}(n,t,r)){const c=new Bn(n.segments,function OI(n,e,t,r,i,a){const c={};for(const g of r)if(xy(n,t,g)&&!i[rc(g)]){const y=new Bn([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[rc(g)]=y}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new Bn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function xy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function qw(n,e,t,r){return!!(rc(n)===r||r!==On&&xy(e,t,n))&&("**"===n.path||Ty(e,n,t).matched)}function Zw(n,e,t){return 0===e.length&&!n.children[t]}const Ay=!1;class Ny{constructor(e){this.segmentGroup=e||null}}class Jx{constructor(e){this.urlTree=e}}function Oy(n){return qm(new Ny(n))}function Yw(n){return qm(new Jx(n))}class jR{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=s_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,On).pipe((0,It.U)(a=>this.createUrlTree(oo(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vh(a=>{if(a instanceof Jx)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ny?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,On).pipe((0,It.U)(i=>this.createUrlTree(oo(i),e.queryParams,e.fragment))).pipe(Vh(i=>{throw i instanceof Ny?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Ay)}createUrlTree(e,t,r){const i=dy(e);return new Uh(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(a=>new Bn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Wn.D)(i).pipe(Hf(a=>{const c=r.children[a],g=au(t,a);return this.expandSegmentGroup(e,g,c,a).pipe((0,It.U)(y=>({segment:y,outlet:a})))}),Ym((a,c)=>(a[c.outlet]=c.segment,a),{}),Dw())}expandSegment(e,t,r,i,a,c){return(0,Wn.D)(r).pipe(Hf(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,a,c).pipe(Vh(I=>{if(I instanceof Ny)return bt(null);throw I}))),Bd(g=>!!g),Vh((g,y)=>{if(ic(g))return Zw(t,i,a)?bt(new Bn([],{})):Oy(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,a,c,g){return qw(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Oy(t):Oy(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Yw(a):this.lineralizeSegments(r,a).pipe((0,li.z)(c=>{const g=new Bn(c,{});return this.expandSegment(e,g,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:g,consumedSegments:y,remainingSegments:I,positionalParamSegments:A}=Ty(t,i,a);if(!g)return Oy(t);const R=this.applyRedirectCommands(y,i.redirectTo,A);return i.redirectTo.startsWith("/")?Yw(R):this.lineralizeSegments(i,R).pipe((0,li.z)(H=>this.expandSegment(e,t,r,H.concat(I),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Vx(r,e),r.loadChildren?(r._loadedRoutes?bt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,It.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new Bn(i,{})))):bt(new Bn(i,{}))):zw(t,r,i,e).pipe(qn(({matched:c,consumedSegments:g,remainingSegments:y})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,li.z)(A=>{const R=A.injector??e,H=A.routes,{segmentGroup:Z,slicedSegments:ue}=s_(t,g,y,H),_e=new Bn(Z.segments,Z.children);if(0===ue.length&&_e.hasChildren())return this.expandChildren(R,H,_e).pipe((0,It.U)(vt=>new Bn(g,vt)));if(0===H.length&&0===ue.length)return bt(new Bn(g,{}));const De=rc(r)===a;return this.expandSegment(R,_e,H,ue,De?On:a,!0).pipe((0,It.U)(ut=>new Bn(g.concat(ut.segments),ut.children)))})):Oy(t)))}getChildConfig(e,t,r){return t.children?bt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bt({routes:t._loadedRoutes,injector:t._loadedInjector}):function NI(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?bt(!0):bt(i.map(c=>{const g=gg(c,n);return Kc(function Hx(n){return n&&mg(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(i_(),Qx())}(e,t,r).pipe((0,li.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,di.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function eA(n){return qm(vy(Ay,3))}())):bt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return bt(r);if(i.numberOfChildren>1||!i.children[On])return qm(new u.vHH(4e3,Ay));i=i.children[On]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Uh(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Io(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[a]=t[g]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Io(t.children,(g,y)=>{c[y]=this.createSegmentGroup(e,g,r,i)}),new Bn(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Ay);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class zR{}class My{constructor(e,t,r,i,a,c,g,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const e=s_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,On).pipe((0,It.U)(t=>{if(null===t)return null;const r=new kw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Jc(r,t),a=new kx(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Px(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Wn.D)(Object.keys(r.children)).pipe(Hf(i=>{const a=r.children[i],c=au(t,i);return this.processSegmentGroup(e,c,a,i)}),Ym((i,a)=>i&&a?(i.push(...a),i):null),function WC(n,e=!1){return(0,ai.e)((t,r)=>{let i=0;t.subscribe((0,ir.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),Zm(null),Dw(),(0,It.U)(i=>{if(null===i)return null;const a=Hh(i);return function rA(n){n.sort((e,t)=>e.value.outlet===On?-1:t.value.outlet===On?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Wn.D)(t).pipe(Hf(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),Bd(c=>!!c),Vh(c=>{if(ic(c))return Zw(r,i,a)?bt([]):bt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!qw(t,r,i,a))return bt(null);let c;if("**"===t.path){const g=i.length>0?KC(i).parameters:{},y=Py(r)+i.length;c=bt({snapshot:new kw(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ky(t),rc(t),t.component??t._loadedComponent??null,t,Ry(r),y,Fy(t),y),consumedSegments:[],remainingSegments:[]})}else c=zw(r,t,i,e).pipe((0,It.U)(({matched:g,consumedSegments:y,remainingSegments:I,parameters:A})=>{if(!g)return null;const R=Py(r)+y.length;return{snapshot:new kw(y,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ky(t),rc(t),t.component??t._loadedComponent??null,t,Ry(r),R,Fy(t),R),consumedSegments:y,remainingSegments:I}}));return c.pipe(qn(g=>{if(null===g)return bt(null);const{snapshot:y,consumedSegments:I,remainingSegments:A}=g;e=t._injector??e;const R=t._loadedInjector??e,H=function iA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:ue}=s_(r,I,A,H.filter(De=>void 0===De.redirectTo),this.relativeLinkResolution);if(0===ue.length&&Z.hasChildren())return this.processChildren(R,H,Z).pipe((0,It.U)(De=>null===De?null:[new Jc(y,De)]));if(0===H.length&&0===ue.length)return bt([new Jc(y,[])]);const _e=rc(t)===a;return this.processSegment(R,H,Z,ue,_e?On:a).pipe((0,It.U)(De=>null===De?null:[new Jc(y,De)]))}))}}function RI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hh(n){const e=[],t=new Set;for(const r of n){if(!RI(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Hh(r.children);e.push(new Jc(r.value,i))}return e.filter(r=>!t.has(r))}function Ry(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Py(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ky(n){return n.data||{}}function Fy(n){return n.resolve||{}}function LI(n){return"string"==typeof n.title||null===n.title}function Qw(n){return qn(e=>{const t=n(e);return t?(0,Wn.D)(t).pipe((0,It.U)(()=>e)):bt(e)})}let BI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===On);return r}getResolvedTitleForRoute(t){return t.data[sg]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(VI)},providedIn:"root"}),n})(),VI=(()=>{class n extends BI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sa))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UI{}class oA extends class $I{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const o_=new u.OlP("",{providedIn:"root",factory:()=>({})}),GI=new u.OlP("ROUTES");let Vy=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Kc(t.loadComponent()).pipe((0,di.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),ry(()=>{this.componentLoaders.delete(t)})),i=new bw(r,()=>new zn.x).pipe(yw());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return bt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,It.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,I,A=!1;Array.isArray(g)?I=g:(y=g.create(t).injector,I=YC(y.get(GI,[],u.XFs.Self|u.XFs.Optional)));return{routes:I.map(wy),injector:y}}),ry(()=>{this.childrenLoaders.delete(r)})),c=new bw(a,()=>new zn.x).pipe(yw());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Kc(t()).pipe((0,li.z)(r=>r instanceof u.YKP||Array.isArray(r)?bt(r):(0,Wn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jw{}class lA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function JR(n){throw n}function XR(n,e,t){return e.parse("/")}const uA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function hA(){const n=(0,u.f3M)(bx),e=(0,u.f3M)(yy),t=(0,u.f3M)(He),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),a=(0,u.f3M)(GI,{optional:!0})??[],c=(0,u.f3M)(o_,{optional:!0})??{},g=(0,u.f3M)(VI),y=(0,u.f3M)(BI,{optional:!0}),I=(0,u.f3M)(Jw,{optional:!0}),A=(0,u.f3M)(UI,{optional:!0}),R=new Us(null,n,e,t,r,i,YC(a));return I&&(R.urlHandlingStrategy=I),A&&(R.routeReuseStrategy=A),R.titleStrategy=y??g,function dA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,R),R}let Us=(()=>{class n{constructor(t,r,i,a,c,g,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zn.x,this.errorHandler=JR,this.malformedUriErrorHandler=XR,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>bt(void 0),this.urlHandlingStrategy=new lA,this.routeReuseStrategy=new oA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Vy),this.configLoader.onLoadEndListener=H=>this.triggerEvent(new Ax(H)),this.configLoader.onLoadStartListener=H=>this.triggerEvent(new fI(H)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const R=c.get(u.R0b);this.isNgZoneEnabled=R instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function _x(){return new Uh(new Bn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Rx(this.currentUrlTree,this.rootComponentType),this.transitions=new Zn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ri(i=>0!==i.id),(0,It.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),qn(i=>{let a=!1,c=!1;return bt(i).pipe((0,di.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qn(g=>{const y=this.browserUrlTree.toString(),I=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return fA(g.source)&&(this.browserUrlTree=g.extractedUrl),bt(g).pipe(qn(R=>{const H=this.transitions.getValue();return r.next(new t_(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),H!==this.transitions.getValue()?Pr.E:Promise.resolve(R)}),function WR(n,e,t,r){return qn(i=>function tA(n,e,t,r,i){return new jR(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,It.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,di.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},i.urlAfterRedirects=R.urlAfterRedirects}),function Ly(n,e,t,r,i,a){return(0,li.z)(c=>function nA(n,e,t,r,i,a,c="emptyOnly",g="legacy"){return new My(n,e,t,r,i,c,g,a).recognize().pipe(qn(y=>null===y?function qR(n){return new Ar.y(e=>e.error(n))}(new zR):bt(y)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,a).pipe((0,It.U)(g=>({...c,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,di.b)(R=>{if(i.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const Z=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(Z,R)}this.browserUrlTree=R.urlAfterRedirects}const H=new LR(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(H)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:Z,source:ue,restoredState:_e,extras:De}=g,ot=new t_(H,this.serializeUrl(Z),ue,_e);r.next(ot);const ut=Rx(Z,this.rootComponentType).snapshot;return bt(i={...g,targetSnapshot:ut,urlAfterRedirects:Z,extras:{...De,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),Pr.E}),(0,di.b)(g=>{const y=new Ex(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,It.U)(g=>i={...g,guards:Gw(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function zx(n,e){return(0,li.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?bt({...t,guardsResult:!0}):function qx(n,e,t,r){return(0,Wn.D)(n).pipe((0,li.z)(i=>function Kx(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?bt(a.map(g=>{const y=n_(e)??i,I=gg(g,y);return Kc(function Hw(n){return n&&mg(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):y.runInContext(()=>I(n,e,t,r))).pipe(Bd())})).pipe(i_()):bt(!0)}(i.component,i.route,t,e,r)),Bd(i=>!0!==i,!0))}(c,r,i,n).pipe((0,li.z)(g=>g&&function EI(n){return"boolean"==typeof n}(g)?function Zx(n,e,t,r){return(0,Wn.D)(e).pipe(Hf(i=>rh(function xI(n,e){return null!==n&&e&&e(new pI(n)),bt(!0)}(i.route.parent,r),function Yx(n,e){return null!==n&&e&&e(new Nx(n)),bt(!0)}(i.route,r),function AI(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Gx(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>px(()=>bt(c.guards.map(y=>{const I=n_(c.node)??t,A=gg(y,I);return Kc(function jx(n){return n&&mg(n.canActivateChild)}(A)?A.canActivateChild(r,n):I.runInContext(()=>A(r,n))).pipe(Bd())})).pipe(i_())));return bt(a).pipe(i_())}(n,i.path,t),function HR(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bt(!0);const i=r.map(a=>px(()=>{const c=n_(e)??t,g=gg(a,c);return Kc(function SI(n){return n&&mg(n.canActivate)}(g)?g.canActivate(e,n):c.runInContext(()=>g(e,n))).pipe(Bd())}));return bt(i).pipe(i_())}(n,i.route,t))),Bd(i=>!0!==i,!0))}(r,a,n,e):bt(g)),(0,It.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,di.b)(g=>{if(i.guardsResult=g.guardsResult,Zf(g.guardsResult))throw Lx(0,g.guardsResult);const y=new Sx(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),ri(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Qw(g=>{if(g.guards.canActivateChecks.length)return bt(g).pipe((0,di.b)(y=>{const I=new xx(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}),qn(y=>{let I=!1;return bt(y).pipe(function ZR(n,e){return(0,li.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return bt(t);let a=0;return(0,Wn.D)(i).pipe(Hf(c=>function YR(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!LI(i)&&(a[sg]=i.title),function KR(n,e,t,r){const i=function QR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return bt({});const a={};return(0,Wn.D)(i).pipe((0,li.z)(c=>function FI(n,e,t,r){const i=n_(e)??r,a=gg(n,i);return Kc(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(Bd(),(0,di.b)(g=>{a[c]=g}))),jf(1),Pa(a),Vh(c=>ic(c)?Pr.E:qm(c)))}(a,n,e,r).pipe((0,It.U)(c=>(n._resolvedData=c,n.data=Px(n,t).resolve,i&&LI(i)&&(n.data[sg]=i.title),null)))}(c.route,r,n,e)),(0,di.b)(()=>a++),jf(1),(0,li.z)(c=>a===i.length?bt(t):Pr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,di.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,di.b)(y=>{const I=new hI(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}))}),Qw(g=>{const y=I=>{const A=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,di.b)(R=>{I.component=R}),(0,It.U)(()=>{})));for(const R of I.children)A.push(...y(R));return A};return th(y(g.targetSnapshot.root)).pipe(Zm(),kr(1))}),Qw(()=>this.afterPreactivation()),(0,It.U)(g=>{const y=function VR(n,e,t){const r=pg(n,e._root,t?t._root:void 0);return new mI(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return i={...g,targetRouterState:y}}),(0,di.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new $x(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,di.b)({next(){a=!0},complete(){a=!0}}),ry(()=>{a||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Vh(g=>{if(c=!0,wI(g)){Fw(g)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new fy(i.id,this.serializeUrl(i.extractedUrl),g.message,g.cancellationCode);if(r.next(y),Fw(g)){const I=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fA(i.source)};this.scheduleNavigation(I,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Mw(i.id,this.serializeUrl(i.extractedUrl),g,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(g))}catch(I){i.reject(I)}}return Pr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const g={...a};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(i.state=g)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(wy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:g,preserveFragment:y}=r,I=i||this.routerState.root,A=y?this.currentUrlTree.fragment:c;let R=null;switch(g){case"merge":R={...this.currentUrlTree.queryParams,...a};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=a||null}return null!==R&&(R=this.removeEmptyProps(R)),lI(I,this.currentUrlTree,t,R,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Zf(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function eP(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...uA}:!1===r?{...cA}:r,Zf(t))return QC(this.currentUrlTree,t,i);const a=this.parseUrl(t);return QC(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Qc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let g,y,I;c?(g=c.resolve,y=c.reject,I=c.promise):I=new Promise((H,Z)=>{g=H,y=Z});const A=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),R=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:A,targetPageId:R,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:g,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(H=>Promise.reject(H))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new fy(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return hA()},providedIn:"root"}),n})();function fA(n){return"imperative"!==n}class pA{}let iP=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ri(t=>t instanceof Qc),Hf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,g=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(g,a.children??a._loadedRoutes))}return(0,Wn.D)(i).pipe((0,nh.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):bt(null);const a=i.pipe((0,li.z)(c=>null===c?bt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Wn.D)([a,c]).pipe((0,nh.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Us),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(pA),u.LFG(Vy))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s=new u.OlP("");let o=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof t_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Rw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function _(n,e){return{\u0275kind:n,\u0275providers:e}}function D(n){return[{provide:GI,multi:!0,useValue:n}]}function E(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Us),i=n.get(O);1===n.get(L)&&r.initialNavigation(),n.get($e,null,u.XFs.Optional)?.setUpPreloading(),n.get(s,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const O=new u.OlP("",{factory:()=>new zn.x}),L=new u.OlP("",{providedIn:"root",factory:()=>1});const $e=new u.OlP("");function dt(n){return _(0,[{provide:$e,useExisting:iP},{provide:pA,useExisting:n}])}const Ke=new u.OlP("ROUTER_FORROOT_GUARD"),nn=[He,{provide:bx,useClass:Qm},{provide:Us,useFactory:hA},yy,{provide:hg,useFactory:function f(n){return n.routerState.root},deps:[Us]},Vy];function br(){return new u.PXZ("Router",Us)}let bi=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[nn,[],D(t),{provide:Ke,useFactory:n1,deps:[[Us,new u.FiY,new u.tp0]]},{provide:o_,useValue:r||{}},r?.useHash?{provide:Oe,useClass:St}:{provide:Oe,useClass:at},{provide:s,useFactory:()=>{const n=(0,u.f3M)(Us),e=(0,u.f3M)(Nl),t=(0,u.f3M)(o_);return t.scrollOffset&&e.setOffset(t.scrollOffset),new o(n,e,t)}},r?.preloadingStrategy?dt(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:br},r?.initialNavigation?r1(r):[],[{provide:$y,useFactory:E},{provide:u.tb,multi:!0,useExisting:$y}]]}}static forChild(t){return{ngModule:n,providers:[D(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ke,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vw]}),n})();function n1(n){return"guarded"}function r1(n){return["disabled"===n.initialNavigation?_(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Us);return()=>{e.setUpLocationChangeListener()}}},{provide:L,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?_(2,[{provide:L,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(J,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(Us),g=e.get(O);(function i(a){e.get(Us).events.pipe(ri(g=>g instanceof Qc||g instanceof fy||g instanceof Mw),(0,It.U)(g=>g instanceof Qc||g instanceof fy&&(0===g.code||1===g.code)&&null),ri(g=>null!==g),kr(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),c.afterPreactivation=()=>(a(!0),r||g.closed?bt(void 0):g),c.initialNavigation()}))}}]).\u0275providers:[]]}const $y=new u.OlP("");var yl=j(7489),Be=j(5861);const gA_imgSrc="https://cdn.jsdelivr.net/gh/phantomodm/nystixCDN@2.0/depository/";var Ki=j(5813);function mA(){return(0,ai.e)((n,e)=>{let t,r=!1;n.subscribe((0,ir.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var zt,bl=j(2011),sP=(j(2476),j(3942)),$d=j(9681),Gy=j(4859),_g=j(1877),Mn=j(2090),TV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xf={},_A=_A||{},yn=TV||self;function WI(){}function zI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function s1(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vA="closure_uid_"+(1e9*Math.random()>>>0),SV=0;function xV(n,e,t){return n.call.apply(n.bind,arguments)}function AV(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ha(n,e,t){return(Ha=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xV:AV).apply(null,arguments)}function qI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ma(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[i].apply(r,c)}}function vg(){this.s=this.s,this.o=this.o}var OV={};vg.prototype.s=!1,vg.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function EV(n){return Object.prototype.hasOwnProperty.call(n,vA)&&n[vA]||(n[vA]=++SV)}(this);delete OV[n]}},vg.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function yA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function aP(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(zI(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function ja(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ja.prototype.h=function(){this.defaultPrevented=!0};var MV=function(){if(!yn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yn.addEventListener("test",WI,e),yn.removeEventListener("test",WI,e)}catch{}return n}();function ZI(n){return/^[\s\xa0]*$/.test(n)}var lP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bA(n,e){return n<e?-1:n>e?1:0}function YI(){var n=yn.navigator;return n&&(n=n.userAgent)?n:""}function jh(n){return-1!=YI().indexOf(n)}function wA(n){return wA[" "](n),n}wA[" "]=WI;var KI,n,PV=jh("Opera"),Hy=jh("Trident")||jh("MSIE"),uP=jh("Edge"),DA=uP||Hy,cP=jh("Gecko")&&!(-1!=YI().toLowerCase().indexOf("webkit")&&!jh("Edge"))&&!(jh("Trident")||jh("MSIE"))&&!jh("Edge"),kV=-1!=YI().toLowerCase().indexOf("webkit")&&!jh("Edge");function dP(){var n=yn.document;return n?n.documentMode:void 0}e:{var CA="",IA=(n=YI(),cP?/rv:([^\);]+)(\)|;)/.exec(n):uP?/Edge\/([\d\.]+)/.exec(n):Hy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kV?/WebKit\/(\S+)/.exec(n):PV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(IA&&(CA=IA?IA[1]:""),Hy){var TA=dP();if(null!=TA&&TA>parseFloat(CA)){KI=String(TA);break e}}KI=CA}var FV={};var BV=yn.document&&Hy&&(dP()||parseInt(KI,10))||void 0;function o1(n,e){if(ja.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(cP){e:{try{wA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VV[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&o1.X.h.call(this)}}ma(o1,ja);var VV={2:"touch",3:"pen",4:"mouse"};o1.prototype.h=function(){o1.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var a1="closure_listenable_"+(1e6*Math.random()|0),UV=0;function $V(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++UV,this.ba=this.ea=!1}function QI(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function SA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function fP(n){const e={};for(const t in n)e[t]=n[t];return e}const pP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<pP.length;a++)t=pP[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function JI(n){this.src=n,this.g={},this.h=0}function xA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=oP(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(QI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function AA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}JI.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=AA(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new $V(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var NA="closure_lm_"+(1e6*Math.random()|0),OA={};function mP(n,e,t,r,i){if(r&&r.once)return vP(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)mP(n,e[a],t,r,i);return null}return t=kA(t),n&&n[a1]?n.N(e,t,s1(r)?!!r.capture:!!r,i):_P(n,e,t,!1,r,i)}function _P(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=s1(i)?!!i.capture:!!i,g=RA(n);if(g||(n[NA]=g=new JI(n)),(t=g.add(e,t,r,c,a)).proxy)return t;if(r=function GV(){const e=HV;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)MV||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(bP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function vP(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)vP(n,e[a],t,r,i);return null}return t=kA(t),n&&n[a1]?n.O(e,t,s1(r)?!!r.capture:!!r,i):_P(n,e,t,!0,r,i)}function yP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)yP(n,e[a],t,r,i);else r=s1(r)?!!r.capture:!!r,t=kA(t),n&&n[a1]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=AA(a=n.g[e],t,r,i))&&(QI(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=RA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=AA(e,t,r,i)),(t=-1<n?e[n]:null)&&MA(t))}function MA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[a1])xA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=RA(e))?(xA(t,n),0==t.h&&(t.src=null,e[NA]=null)):QI(n)}}}function bP(n){return n in OA?OA[n]:OA[n]="on"+n}function HV(n,e){if(n.ba)n=!0;else{e=new o1(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&MA(n),n=t.call(r,e)}return n}function RA(n){return(n=n[NA])instanceof JI?n:null}var PA="__closure_events_fn_"+(1e9*Math.random()>>>0);function kA(n){return"function"==typeof n?n:(n[PA]||(n[PA]=function(e){return n.handleEvent(e)}),n[PA])}function Zo(){vg.call(this),this.i=new JI(this),this.P=this,this.I=null}function _a(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ja(e,n);else if(e instanceof ja)e.target=e.target||n;else{var i=e;gP(e=new ja(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=XI(c,r,!0,e)&&i}if(i=XI(c=e.g=n,r,!0,e)&&i,i=XI(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=XI(c=e.g=t[a],r,!1,e)&&i}function XI(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var g=c.listener,y=c.ha||c.src;c.ea&&xA(n.i,c),i=!1!==g.call(y,r)&&i}}return i&&!r.defaultPrevented}ma(Zo,vg),Zo.prototype[a1]=!0,Zo.prototype.removeEventListener=function(n,e,t,r){yP(this,n,e,t,r)},Zo.prototype.M=function(){if(Zo.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)QI(t[r]);delete n.g[e],n.h--}}this.I=null},Zo.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Zo.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var FA=yn.JSON.stringify;function jV(){var n=CP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LA,wP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zV,n=>n.reset());class zV{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qV(n){yn.setTimeout(()=>{throw n},0)}function DP(n,e){LA||function ZV(){var n=yn.Promise.resolve(void 0);LA=function(){n.then(YV)}}(),BA||(LA(),BA=!0),CP.add(n,e)}var BA=!1,CP=new class WV{constructor(){this.h=this.g=null}add(e,t){const r=wP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function YV(){for(var n;n=jV();){try{n.h.call(n.g)}catch(t){qV(t)}var e=wP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}BA=!1}function eT(n,e){Zo.call(this),this.h=n||1,this.g=e||yn,this.j=Ha(this.kb,this),this.l=Date.now()}function VA(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function UA(n,e,t){if("function"==typeof n)t&&(n=Ha(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ha(n.handleEvent,n)}return 2147483647<Number(e)?-1:yn.setTimeout(n,e||0)}function IP(n){n.g=UA(()=>{n.g=null,n.i&&(n.i=!1,IP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ma(eT,Zo),(zt=eT.prototype).ca=!1,zt.R=null,zt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),_a(this,"tick"),this.ca&&(VA(this),this.start()))}},zt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zt.M=function(){eT.X.M.call(this),VA(this),delete this.g};class KV extends vg{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IP(this)}M(){super.M(),this.g&&(yn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function l1(n){vg.call(this),this.h=n,this.g={}}ma(l1,vg);var TP=[];function EP(n,e,t,r){Array.isArray(t)||(t&&(TP[0]=t.toString()),t=TP);for(var i=0;i<t.length;i++){var a=mP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function SP(n){SA(n.g,function(e,t){this.g.hasOwnProperty(t)&&MA(e)},n),n.g={}}function tT(){this.g=!0}function jy(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function eU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return FA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}l1.prototype.M=function(){l1.X.M.call(this),SP(this)},l1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tT.prototype.Aa=function(){this.g=!1},tT.prototype.info=function(){};var a_={},xP=null;function nT(){return xP=xP||new Zo}function AP(n){ja.call(this,a_.Oa,n)}function u1(n){const e=nT();_a(e,new AP(e,n))}function NP(n,e){ja.call(this,a_.STAT_EVENT,n),this.stat=e}function wl(n){const e=nT();_a(e,new NP(e,n))}function OP(n,e){ja.call(this,a_.Pa,n),this.size=e}function c1(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yn.setTimeout(function(){n()},e)}a_.Oa="serverreachability",ma(AP,ja),a_.STAT_EVENT="statevent",ma(NP,ja),a_.Pa="timingevent",ma(OP,ja);var rT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},MP={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $A(){}function PP(){}$A.prototype.h=null;var jA,d1={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function GA(){ja.call(this,"d")}function HA(){ja.call(this,"c")}function iT(){}function h1(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new l1(this),this.O=tU,this.T=new eT(n=DA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kP}function kP(){this.i=null,this.g="",this.h=!1}ma(GA,ja),ma(HA,ja),ma(iT,$A),iT.prototype.g=function(){return new XMLHttpRequest},iT.prototype.i=function(){return{}},jA=new iT;var tU=45e3,WA={},sT={};function zA(n,e,t){n.K=1,n.v=uT(ep(e)),n.s=t,n.P=!0,FP(n,null)}function FP(n,e){n.F=Date.now(),f1(n),n.A=ep(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),zP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new kP,n.g=mk(n.l,t?e:null,!n.s),0<n.N&&(n.L=new KV(Ha(n.Ka,n,n.g),n.N)),EP(n.S,n.g,"readystatechange",n.hb),e=n.H?fP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),u1(1),function QV(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",g=a.split("&"),y=0;y<g.length;y++){var I=g[y].split("=");if(1<I.length){var A=I[0];I=I[1];var R=A.split("_");c=2<=R.length&&"type"==R[1]?c+(A+"=")+I+"&":c+(A+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function LP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function BP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=nU(n,t),i==sT){4==e&&(n.o=4,wl(14),r=!1),jy(n.j,n.m,null,"[Incomplete Response]");break}if(i==WA){n.o=4,wl(15),jy(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jy(n.j,n.m,i,null),qA(n,i)}LP(n)&&i!=sT&&i!=WA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,wl(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),tN(e),e.K=!0,wl(11))):(jy(n.j,n.m,t,"[Invalid Chunked Response]"),l_(n),p1(n))}function nU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?sT:(t=Number(e.substring(t,r)),isNaN(t)?WA:(r+=1)+t>e.length?sT:(e=e.substr(r,t),n.C=r+t,e))}function f1(n){n.V=Date.now()+n.O,VP(n,n.O)}function VP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=c1(Ha(n.fb,n),e)}function oT(n){n.B&&(yn.clearTimeout(n.B),n.B=null)}function p1(n){0==n.l.G||n.I||hk(n.l,n)}function l_(n){oT(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,VA(n.T),SP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ZA(t.h,n)))if(!n.J&&ZA(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;gT(t),fT(t)}eN(t),wl(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=c1(Ha(t.bb,t),6e3));if(1>=YP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else c_(t,11)}else if((n.J||t.g==n)&&gT(t),!ZI(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.T=I[0],I=I[1],2==t.G)if("c"==I[0]){t.I=I[1],t.ka=I[2];const A=I[3];null!=A&&(t.ma=A,t.j.info("VER="+t.ma));const R=I[4];null!=R&&(t.Ca=R,t.j.info("SVER="+t.Ca));const H=I[5];null!=H&&"number"==typeof H&&0<H&&(t.J=r=1.5*H,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const ue=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var a=r.h;a.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(YA(a,a.h),a.h=null))}if(r.D){const _e=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;_e&&(r.za=_e,Qi(r.F,r.D,_e))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=gk(r,r.H?r.ka:null,r.V),c.J){KP(r.h,c);var g=c,y=r.J;y&&g.setTimeout(y),g.B&&(oT(g),f1(g)),r.g=c}else ck(r);0<t.i.length&&pT(t)}else"stop"!=I[0]&&"close"!=I[0]||c_(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?c_(t,7):XA(t):"noop"!=I[0]&&t.l&&t.l.wa(I),t.A=0)}u1(4)}catch{}}function UP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zI(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function iU(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(zI(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function rU(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(zI(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(zt=h1.prototype).setTimeout=function(n){this.O=n},zt.hb=function(n){n=n.target;const e=this.L;e&&3==tp(n)?e.l():this.Ka(n)},zt.Ka=function(n){try{if(n==this.g)e:{const A=tp(this.g);var e=this.g.Ea();const R=this.g.aa();if(!(3>A)&&(3!=A||DA||this.g&&(this.h.h||this.g.fa()||ik(this.g)))){this.I||4!=A||7==e||u1(8==e||0>=R?3:2),oT(this);var t=this.g.aa();this.Y=t;t:if(LP(this)){var r=ik(this.g);n="";var i=r.length,a=4==tp(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){l_(this),p1(this);var c="";break t}this.h.i=new yn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function JV(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,A,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ZI(g)){var I=g;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,wl(12),l_(this),p1(this);break e}jy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qA(this,t)}this.P?(BP(this,A,c),DA&&this.i&&3==A&&(EP(this.S,this.T,"tick",this.gb),this.T.start())):(jy(this.j,this.m,c,null),qA(this,c)),4==A&&l_(this),this.i&&!this.I&&(4==A?hk(this.l,this):(this.i=!1,f1(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,wl(12)):(this.o=0,wl(13)),l_(this),p1(this)}}}catch{}},zt.gb=function(){if(this.g){var n=tp(this.g),e=this.g.fa();this.C<e.length&&(oT(this),BP(this,n,e),this.i&&4!=n&&f1(this))}},zt.cancel=function(){this.I=!0,l_(this)},zt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function XV(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(u1(3),wl(17)),l_(this),this.o=2,p1(this)):VP(this,this.V-n)};var $P=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u_(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof u_){this.h=void 0!==e?e:n.h,aT(this,n.j),this.s=n.s,this.g=n.g,lT(this,n.m),this.l=n.l,e=n.i;var t=new _1;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),GP(this,t),this.o=n.o}else n&&(t=String(n).match($P))?(this.h=!!e,aT(this,t[1]||"",!0),this.s=g1(t[2]||""),this.g=g1(t[3]||"",!0),lT(this,t[4]),this.l=g1(t[5]||"",!0),GP(this,t[6]||"",!0),this.o=g1(t[7]||"")):(this.h=!!e,this.i=new _1(null,this.h))}function ep(n){return new u_(n)}function aT(n,e,t){n.j=t?g1(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function lT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function GP(n,e,t){e instanceof _1?(n.i=e,function dU(n,e){e&&!n.j&&(yg(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(jP(this,r),zP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=m1(e,uU)),n.i=new _1(e,n.h))}function Qi(n,e,t){n.i.set(e,t)}function uT(n){return Qi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function g1(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function m1(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,oU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function oU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}u_.prototype.toString=function(){var n=[],e=this.j;e&&n.push(m1(e,HP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(m1(e,HP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(m1(t,"/"==t.charAt(0)?lU:aU,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",m1(t,cU)),n.join("")};var HP=/[#\/\?@]/g,aU=/[#\?:]/g,lU=/[#\?]/g,uU=/[#\?@]/g,cU=/#/g;function _1(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function yg(n){n.g||(n.g=new Map,n.h=0,n.i&&function sU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jP(n,e){yg(n),e=Wy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function WP(n,e){return yg(n),e=Wy(n,e),n.g.has(e)}function zP(n,e,t){jP(n,e),0<t.length&&(n.i=null,n.g.set(Wy(n,e),yA(t)),n.h+=t.length)}function Wy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qP(n){this.l=n||fU,n=yn.PerformanceNavigationTiming?0<(n=yn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yn.g&&yn.g.Ga&&yn.g.Ga()&&yn.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(zt=_1.prototype).add=function(n,e){yg(this),this.i=null,n=Wy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},zt.forEach=function(n,e){yg(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},zt.oa=function(){yg(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},zt.W=function(n){yg(this);let e=[];if("string"==typeof n)WP(this,n)&&(e=e.concat(this.g.get(Wy(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},zt.set=function(n,e){return yg(this),this.i=null,WP(this,n=Wy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},zt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var fU=10;function ZP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YP(n){return n.h?1:n.g?n.g.size:0}function ZA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function YA(n,e){n.g?n.g.add(e):n.h=e}function KP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yA(n.i)}function KA(){}function pU(){this.g=new KA}function gU(n,e,t){const r=t||"";try{UP(n,function(i,a){let c=i;s1(i)&&(c=FA(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cT(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function v1(n){this.l=n.$b||null,this.j=n.ib||!1}function dT(n,e){Zo.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=QA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qP.prototype.cancel=function(){if(this.i=QP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},KA.prototype.stringify=function(n){return yn.JSON.stringify(n,void 0)},KA.prototype.parse=function(n){return yn.JSON.parse(n,void 0)},ma(v1,$A),v1.prototype.g=function(){return new dT(this.l,this.j)},v1.prototype.i=function(n){return function(){return n}}({}),ma(dT,Zo);var QA=0;function JP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function y1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,b1(n)}function b1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(zt=dT.prototype).open=function(n,e){if(this.readyState!=QA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,b1(this)},zt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||yn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,y1(this)),this.readyState=QA},zt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,b1(this)),this.g&&(this.readyState=3,b1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof yn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JP(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},zt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?y1(this):b1(this),3==this.readyState&&JP(this)}},zt.Ua=function(n){this.g&&(this.response=this.responseText=n,y1(this))},zt.Ta=function(n){this.g&&(this.response=n,y1(this))},zt.ga=function(){this.g&&y1(this)},zt.setRequestHeader=function(n,e){this.v.append(n,e)},zt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},zt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _U=yn.JSON.parse;function ao(n){Zo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XP,this.K=this.L=!1}ma(ao,Zo);var XP="",vU=/^https?$/i,yU=["POST","PUT"];function ek(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tk(n),hT(n)}function tk(n){n.D||(n.D=!0,_a(n,"complete"),_a(n,"error"))}function nk(n){if(n.h&&typeof _A<"u"&&(!n.C[1]||4!=tp(n)||2!=n.aa()))if(n.v&&4==tp(n))UA(n.Ha,0,n);else if(_a(n,"readystatechange"),4==tp(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match($P)[1]||null;if(!i&&yn.self&&yn.self.location){var a=yn.self.location.protocol;i=a.substr(0,a.length-1)}r=!vU.test(i?i.toLowerCase():"")}t=r}if(t)_a(n,"complete"),_a(n,"success");else{n.m=6;try{var c=2<tp(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",tk(n)}}finally{hT(n)}}}function hT(n,e){if(n.g){rk(n);const t=n.g,r=n.C[0]?WI:null;n.g=null,n.C=null,e||_a(n,"ready");try{t.onreadystatechange=r}catch{}}}function rk(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yn.clearTimeout(n.A),n.A=null)}function tp(n){return n.g?n.g.readyState:0}function ik(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case XP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sk(n){let e="";return SA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function JA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=sk(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qi(n,e,t))}function w1(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ok(n){this.Ca=0,this.i=[],this.j=new tT,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=w1("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=w1("baseRetryDelayMs",5e3,n),this.ab=w1("retryDelaySeedMs",1e4,n),this.Za=w1("forwardChannelMaxRetries",2,n),this.ta=w1("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new qP(n&&n.concurrentRequestLimit),this.Fa=new pU,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function XA(n){if(ak(n),3==n.G){var e=n.U++,t=ep(n.F);Qi(t,"SID",n.I),Qi(t,"RID",e),Qi(t,"TYPE","terminate"),D1(n,t),(e=new h1(n,n.j,e,void 0)).K=2,e.v=uT(ep(t)),t=!1,yn.navigator&&yn.navigator.sendBeacon&&(t=yn.navigator.sendBeacon(e.v.toString(),"")),!t&&yn.Image&&((new Image).src=e.v,t=!0),t||(e.g=mk(e.l,null),e.g.da(e.v)),e.F=Date.now(),f1(e)}pk(n)}function fT(n){n.g&&(tN(n),n.g.cancel(),n.g=null)}function ak(n){fT(n),n.u&&(yn.clearTimeout(n.u),n.u=null),gT(n),n.h.cancel(),n.m&&("number"==typeof n.m&&yn.clearTimeout(n.m),n.m=null)}function pT(n){ZP(n.h)||n.m||(n.m=!0,DP(n.Ja,n),n.C=0)}function lk(n,e){var t;t=e?e.m:n.U++;const r=ep(n.F);Qi(r,"SID",n.I),Qi(r,"RID",t),Qi(r,"AID",n.T),D1(n,r),n.o&&n.s&&JA(r,n.o,n.s),t=new h1(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=uk(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),YA(n.h,t),zA(t,r,e)}function D1(n,e){n.ia&&SA(n.ia,function(t,r){Qi(e,r,t)}),n.l&&UP({},function(t,r){Qi(e,r,t)})}function uk(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ha(n.l.Qa,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let g=!0;for(let y=0;y<t;y++){let I=i[y].h;const A=i[y].g;if(I-=a,0>I)a=Math.max(0,i[y].h-100),g=!1;else try{gU(A,c,"req"+I+"_")}catch{r&&r(A)}}if(g){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function ck(n){n.g||n.u||(n.Z=1,DP(n.Ia,n),n.A=0)}function eN(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=c1(Ha(n.Ia,n),fk(n,n.A)),n.A++,0))}function tN(n){null!=n.B&&(yn.clearTimeout(n.B),n.B=null)}function dk(n){n.g=new h1(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ep(n.sa);Qi(e,"RID","rpc"),Qi(e,"SID",n.I),Qi(e,"CI",n.L?"0":"1"),Qi(e,"AID",n.T),Qi(e,"TYPE","xmlhttp"),D1(n,e),n.o&&n.s&&JA(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=uT(ep(e)),t.s=null,t.P=!0,FP(t,n)}function gT(n){null!=n.v&&(yn.clearTimeout(n.v),n.v=null)}function hk(n,e){var t=null;if(n.g==e){gT(n),tN(n),n.g=null;var r=2}else{if(!ZA(n.h,e))return;t=e.D,KP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;_a(r=nT(),new OP(r,t,e,i)),pT(n)}else ck(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function wU(n,e){return!(YP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=c1(Ha(n.Ja,n,e),fk(n,n.C)),n.C++,0)))}(n,e)||2==r&&eN(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:c_(n,5);break;case 4:c_(n,10);break;case 3:c_(n,6);break;default:c_(n,2)}}function fk(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function c_(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ha(n.jb,n);t||(t=new u_("//www.google.com/images/cleardot.gif"),yn.location&&"http"==yn.location.protocol||aT(t,"https"),uT(t)),function mU(n,e){const t=new tT;if(yn.Image){const r=new Image;r.onload=qI(cT,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qI(cT,t,r,"TestLoadImage: error",!1,e),r.onabort=qI(cT,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qI(cT,t,r,"TestLoadImage: timeout",!1,e),yn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else wl(2);n.G=0,n.l&&n.l.va(e),pk(n),ak(n)}function pk(n){if(n.G=0,n.la=[],n.l){const e=QP(n.h);(0!=e.length||0!=n.i.length)&&(aP(n.la,e),aP(n.la,n.i),n.h.i.length=0,yA(n.i),n.i.length=0),n.l.ua()}}function gk(n,e,t){var r=t instanceof u_?ep(t):new u_(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),lT(r,r.m);else{var i=yn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new u_(null,void 0);r&&aT(a,r),e&&(a.g=e),i&&lT(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Qi(r,t,e),Qi(r,"VER",n.ma),D1(n,r),r}function mk(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ao(t&&n.Da&&!n.ra?new v1({ib:!0}):n.ra)).L=n.H,e}function _k(){}function mT(){if(Hy&&!(10<=Number(BV)))throw Error("Environmental error: no available transport.")}function sc(n,e){Zo.call(this),this.g=new ok(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!ZI(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ZI(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new zy(this)}function vk(n){GA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yk(){HA.call(this),this.status=1}function zy(n){this.g=n}(zt=ao.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jA.g(),this.C=function RP(n){return n.h||(n.h=n.i())}(this.u?this.u:jA),this.g.onreadystatechange=Ha(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void ek(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=yn.FormData&&n instanceof yn.FormData,!(0<=oP(yU,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rk(this),0<this.B&&((this.K=function bU(n){return Hy&&function LV(){return function RV(n){var e=FV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=lP(String(KI)).split("."),t=lP("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=bA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||bA(0==i[2].length,0==a[2].length)||bA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ha(this.qa,this)):this.A=UA(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){ek(this,a)}},zt.qa=function(){typeof _A<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_a(this,"timeout"),this.abort(8))},zt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_a(this,"complete"),_a(this,"abort"),hT(this))},zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hT(this,!0)),ao.X.M.call(this)},zt.Ha=function(){this.s||(this.F||this.v||this.l?nk(this):this.eb())},zt.eb=function(){nk(this)},zt.aa=function(){try{return 2<tp(this)?this.g.status:-1}catch{return-1}},zt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},zt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_U(e)}},zt.Ea=function(){return this.m},zt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(zt=ok.prototype).ma=8,zt.G=1,zt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new h1(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=fP(a),gP(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uk(this,i,e),Qi(t=ep(this.F),"RID",n),Qi(t,"CVER",22),this.D&&Qi(t,"X-HTTP-Session-Id",this.D),D1(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(sk(a)))+"&"+e:this.o&&JA(t,this.o,a)),YA(this.h,i),this.Xa&&Qi(t,"TYPE","init"),this.O?(Qi(t,"$req",e),Qi(t,"SID","null"),i.Z=!0,zA(i,t,null)):zA(i,t,e),this.G=2}}else 3==this.G&&(n?lk(this,n):0==this.i.length||ZP(this.h)||lk(this))},zt.Ia=function(){if(this.u=null,dk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=c1(Ha(this.cb,this),n)}},zt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,wl(10),fT(this),dk(this))},zt.bb=function(){null!=this.v&&(this.v=null,fT(this),eN(this),wl(19))},zt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),wl(2)):(this.j.info("Failed to ping google.com"),wl(1))},(zt=_k.prototype).xa=function(){},zt.wa=function(){},zt.va=function(){},zt.ua=function(){},zt.Qa=function(){},mT.prototype.g=function(n,e){return new sc(n,e)},ma(sc,Zo),sc.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;wl(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=gk(n,null,n.V),pT(n)},sc.prototype.close=function(){XA(this.g)},sc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=FA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&pT(e)},sc.prototype.M=function(){this.g.l=null,delete this.j,XA(this.g),delete this.g,sc.X.M.call(this)},ma(vk,GA),ma(yk,HA),ma(zy,_k),zy.prototype.xa=function(){_a(this.g,"a")},zy.prototype.wa=function(n){_a(this.g,new vk(n))},zy.prototype.va=function(n){_a(this.g,new yk(n))},zy.prototype.ua=function(){_a(this.g,"b")},mT.prototype.createWebChannel=mT.prototype.g,sc.prototype.send=sc.prototype.u,sc.prototype.open=sc.prototype.m,sc.prototype.close=sc.prototype.close,rT.NO_ERROR=0,rT.TIMEOUT=8,rT.HTTP_ERROR=6,MP.COMPLETE="complete",PP.EventType=d1,d1.OPEN="a",d1.CLOSE="b",d1.ERROR="c",d1.MESSAGE="d",Zo.prototype.listen=Zo.prototype.N,ao.prototype.listenOnce=ao.prototype.O,ao.prototype.getLastError=ao.prototype.Na,ao.prototype.getLastErrorCode=ao.prototype.Ea,ao.prototype.getStatus=ao.prototype.aa,ao.prototype.getResponseJson=ao.prototype.Ra,ao.prototype.getResponseText=ao.prototype.fa,ao.prototype.send=ao.prototype.da;var DU=Xf.createWebChannelTransport=function(){return new mT},CU=Xf.getStatEventTarget=function(){return nT()},nN=Xf.ErrorCode=rT,IU=Xf.EventType=MP,TU=Xf.Event=a_,bk=Xf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},EU=Xf.FetchXmlHttpFactory=v1,_T=Xf.WebChannel=PP,SU=Xf.XhrIo=ao;const wk="@firebase/firestore";class Yo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yo.UNAUTHENTICATED=new Yo(null),Yo.GOOGLE_CREDENTIALS=new Yo("google-credentials-uid"),Yo.FIRST_PARTY=new Yo("first-party-uid"),Yo.MOCK_USER=new Yo("mock-user");let qy="9.10.0";const bg=new _g.Yd("@firebase/firestore");function rN(){return bg.logLevel}function lt(n,...e){if(bg.logLevel<=_g.in.DEBUG){const t=e.map(iN);bg.debug(`Firestore (${qy}): ${n}`,...t)}}function $s(n,...e){if(bg.logLevel<=_g.in.ERROR){const t=e.map(iN);bg.error(`Firestore (${qy}): ${n}`,...t)}}function d_(n,...e){if(bg.logLevel<=_g.in.WARN){const t=e.map(iN);bg.warn(`Firestore (${qy}): ${n}`,...t)}}function iN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Bt(n="Unexpected state"){const e=`FIRESTORE (${qy}) INTERNAL ASSERTION FAILED: `+n;throw $s(e),new Error(e)}function fn(n,e){n||Bt()}function xt(n,e){return n}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ko{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Dk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yo.UNAUTHENTICATED))}shutdown(){}}class OU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MU{constructor(e){this.t=e,this.currentUser=Yo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let c=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ko,e.enqueueRetryable(()=>a(this.currentUser))};const g=()=>{const I=c;e.enqueueRetryable((0,Be.Z)(function*(){yield I.promise,yield a(r.currentUser)}))},y=I=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(I=>y(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?y(I):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ko)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fn("string"==typeof r.accessToken),new Dk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fn(null===e||"string"==typeof e),new Yo(e)}}class RU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Yo.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(fn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class PU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new RU(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Yo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ck{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,lt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fn("string"==typeof t.token),this.A=t.token,new Ck(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ik{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function bn(n,e){return n<e?-1:n>e?1:0}function Zy(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Tk(n){return n+"\0"}class Ji{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new et(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ji.fromMillis(Date.now())}static fromDate(e){return Ji.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ji(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new un(e)}static min(){return new un(new Ji(0,0))}static max(){return new un(new Ji(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class C1{constructor(e,t,r){void 0===t?t=0:t>e.length&&Bt(),void 0===r?r=e.length-t:r>e.length-t&&Bt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===C1.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof C1?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mr extends C1{construct(e,t,r){return new mr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new et(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new mr(t)}static emptyPath(){return new mr([])}}const LU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bs extends C1{construct(e,t,r){return new bs(e,t,r)}static isValidIdentifier(e){return LU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bs(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new et(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new et(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new et(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===g?(c=!c,i++):"."!==g||c?(r+=g,i++):(a(),i++)}if(a(),c)throw new et(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bs(t)}static emptyPath(){return new bs([])}}class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(mr.fromString(e))}static fromName(e){return new Tt(mr.fromString(e).popFirst(5))}static empty(){return new Tt(mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new mr(e.slice()))}}class vT{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function sN(n){return n.fields.find(e=>2===e.kind)}function h_(n){return n.fields.filter(e=>2!==e.kind)}vT.UNKNOWN_ID=-1;class yT{constructor(e,t){this.fieldPath=e,this.kind=t}}class I1{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new I1(0,oc.min())}}function Ek(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=un.fromTimestamp(1e9===r?new Ji(t+1,0):new Ji(t,r));return new oc(i,Tt.empty(),e)}function Sk(n){return new oc(n.readTime,n.key,-1)}class oc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oc(un.min(),Tt.empty(),-1)}static max(){return new oc(un.max(),Tt.empty(),-1)}}function oN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Tt.comparator(n.documentKey,e.documentKey),0!==t?t:bn(n.largestBatchId,e.largestBatchId))}const xk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ak{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wg(n){return aN.apply(this,arguments)}function aN(){return aN=(0,Be.Z)(function*(n){if(n.code!==Pe.FAILED_PRECONDITION||n.message!==xk)throw n;lt("LocalStore","Unexpectedly lost primary lease")}),aN.apply(this,arguments)}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xe?t:xe.resolve(t)}catch(t){return xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.reject(t)}static resolve(e){return new xe((t,r)=>{t(e)})}static reject(e){return new xe((t,r)=>{r(e)})}static waitFor(e){return new xe((t,r)=>{let i=0,a=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++a,c&&a===i&&t()},y=>r(y))}),c=!0,a===i&&t()})}static or(e){let t=xe.resolve(!1);for(const r of e)t=t.next(i=>i?xe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new xe((r,i)=>{const a=e.length,c=new Array(a);let g=0;for(let y=0;y<a;y++){const I=y;t(e[I]).next(A=>{c[I]=A,++g,g===a&&r(c)},A=>i(A))}})}static doWhile(e,t){return new xe((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class bT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ko,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new T1(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=lN(r.target.error);this.P.reject(new T1(e,i))}}static open(e,t,r,i){try{return new bT(t,e.transaction(i,r))}catch(a){throw new T1(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $U(t)}}class Gd{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Gd.D((0,Mn.z$)())&&$s("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lt("SimpleDb","Removing database:",e),f_(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Mn.hl)())return!1;if(Gd.N())return!0;const e=(0,Mn.z$)(),t=Gd.D(e),r=0<t&&t<10,i=Gd.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Be.Z)(function*(){return t.db||(lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new T1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const g=c.target.error;i("VersionError"===g.name?new et(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new et(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new T1(e,g))},a.onupgradeneeded=c=>{lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Be.Z)(function*(){const c="readonly"===t;let g=0;for(;;){++g;try{a.db=yield a.F(e);const y=bT.open(a.db,e,c?"readonly":"readwrite",r),I=i(y).next(A=>(y.V(),A)).catch(A=>(y.abort(A),xe.reject(A))).toPromise();return I.catch(()=>{}),yield y.v,I}catch(y){const I=y,A="FirebaseError"!==I.name&&g<3;if(lt("SimpleDb","Transaction failed with error:",I.message,"Retrying:",A),a.close(),!A)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class UU{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return f_(this.U.delete())}}class T1 extends et{constructor(e,t){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dg(n){return"IndexedDbTransactionError"===n.name}class $U{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(lt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),f_(r)}add(e){return lt("SimpleDb","ADD",this.store.name,e,e),f_(this.store.add(e))}get(e){return f_(this.store.get(e)).next(t=>(void 0===t&&(t=null),lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return lt("SimpleDb","DELETE",this.store.name,e),f_(this.store.delete(e))}count(){return lt("SimpleDb","COUNT",this.store.name),f_(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,g)=>{a.push(g)}).next(()=>a)}{const i=this.store.getAll(r.range);return new xe((a,c)=>{i.onerror=g=>{c(g.target.error)},i.onsuccess=g=>{a(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new xe((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){lt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,c,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new xe((r,i)=>{t.onerror=a=>{const c=lN(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(g=>{g?c.continue():r()}):r()}})}H(e,t){const r=[];return new xe((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const g=c.target.result;if(!g)return void i();const y=new UU(g),I=t(g.primaryKey,g.value,y);if(I instanceof xe){const A=I.catch(R=>(y.done(),xe.reject(R)));r.push(A)}y.isDone?i():null===y.G?g.continue():g.continue(y.G)}}).next(()=>xe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function f_(n){return new xe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=lN(r.target.error);t(i)}})}let Nk=!1;function lN(n){const e=Gd.D((0,Mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nk||(Nk=!0,setTimeout(()=>{throw r},0)),r}}return n}class GU{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Be.Z)(function*(){t.task=null;try{lt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Dg(r)?lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield wg(r)}yield t.nt(6e4)}))}}class HU{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return xe.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return lt("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(g=>{i-=g,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(g=>(lt("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=Sk(a);oN(c,r)>0&&(r=c)}),new oc(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class lu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ok(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function p_(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}lu.at=-1;class ws{constructor(e,t){this.comparator=e,this.root=t||va.EMPTY}insert(e,t){return new ws(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,va.BLACK,null,null))}remove(e){return new ws(this.comparator,this.root.remove(e,this.comparator).copy(null,null,va.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wT(this.root,e,this.comparator,!1)}getReverseIterator(){return new wT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wT(this.root,e,this.comparator,!0)}}class wT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class va{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??va.RED,this.left=i??va.EMPTY,this.right=a??va.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new va(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return va.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return va.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,va.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,va.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}va.EMPTY=null,va.RED=!0,va.BLACK=!1,va.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new va(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fi{constructor(e){this.comparator=e,this.data=new ws(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Rk(this.data.getIterator())}getIteratorFrom(e){return new Rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fi(this.comparator);return t.data=e,t}}class Rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yy(n){return n.hasNext()?n.getNext():void 0}class ac{constructor(e){this.fields=e,e.sort(bs.comparator)}static empty(){return new ac([])}unionWith(e){let t=new fi(bs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ac(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class To{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new To(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new To(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}To.EMPTY_BYTE_STRING=new To("");const WU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cg(n){if(fn(!!n),"string"==typeof n){let e=0;const t=WU.exec(n);if(fn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ds(n.seconds),nanos:Ds(n.nanos)}}function Ds(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function g_(n){return"string"==typeof n?To.fromBase64String(n):To.fromUint8Array(n)}function uN(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Pk(n){const e=n.mapValue.fields.__previous_value__;return uN(e)?Pk(e):e}function E1(n){const e=Cg(n.mapValue.fields.__local_write_time__.timestampValue);return new Ji(e.seconds,e.nanos)}class zU{constructor(e,t,r,i,a,c,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class Ig{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ig("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ig&&e.projectId===this.projectId&&e.database===this.database}}function S1(n){return null==n}function x1(n){return 0===n&&1/n==-1/0}function kk(n){return"number"==typeof n&&Number.isInteger(n)&&!x1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Tg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DT={nullValue:"NULL_VALUE"};function m_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uN(n)?4:Vk(n)?9007199254740991:10:Bt()}function Wh(n,e){if(n===e)return!0;const t=m_(n);if(t!==m_(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return E1(n).isEqual(E1(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Cg(r.timestampValue),c=Cg(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,g_(n.bytesValue).isEqual(g_(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ds(r.geoPointValue.latitude)===Ds(i.geoPointValue.latitude)&&Ds(r.geoPointValue.longitude)===Ds(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ds(r.integerValue)===Ds(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ds(r.doubleValue),c=Ds(i.doubleValue);return a===c?x1(a)===x1(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Zy(n.arrayValue.values||[],e.arrayValue.values||[],Wh);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Ok(a)!==Ok(c))return!1;for(const g in a)if(a.hasOwnProperty(g)&&(void 0===c[g]||!Wh(a[g],c[g])))return!1;return!0}(n,e);default:return Bt()}var i}function A1(n,e){return void 0!==(n.values||[]).find(t=>Wh(t,e))}function Eg(n,e){if(n===e)return 0;const t=m_(n),r=m_(e);if(t!==r)return bn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Ds(i.integerValue||i.doubleValue),g=Ds(a.integerValue||a.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return Fk(n.timestampValue,e.timestampValue);case 4:return Fk(E1(n),E1(e));case 5:return bn(n.stringValue,e.stringValue);case 6:return function(i,a){const c=g_(i),g=g_(a);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),g=a.split("/");for(let y=0;y<c.length&&y<g.length;y++){const I=bn(c[y],g[y]);if(0!==I)return I}return bn(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=bn(Ds(i.latitude),Ds(a.latitude));return 0!==c?c:bn(Ds(i.longitude),Ds(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],g=a.values||[];for(let y=0;y<c.length&&y<g.length;++y){const I=Eg(c[y],g[y]);if(I)return I}return bn(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Tg.mapValue&&a===Tg.mapValue)return 0;if(i===Tg.mapValue)return 1;if(a===Tg.mapValue)return-1;const c=i.fields||{},g=Object.keys(c),y=a.fields||{},I=Object.keys(y);g.sort(),I.sort();for(let A=0;A<g.length&&A<I.length;++A){const R=bn(g[A],I[A]);if(0!==R)return R;const H=Eg(c[g[A]],y[I[A]]);if(0!==H)return H}return bn(g.length,I.length)}(n.mapValue,e.mapValue);default:throw Bt()}}function Fk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bn(n,e);const t=Cg(n),r=Cg(e),i=bn(t.seconds,r.seconds);return 0!==i?i:bn(t.nanos,r.nanos)}function Ky(n){return cN(n)}function cN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Cg(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?g_(n.bytesValue).toBase64():"referenceValue"in n?Tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=cN(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const g of i)c?c=!1:a+=",",a+=`${g}:${cN(r.fields[g])}`;return a+"}"}(n.mapValue):Bt();var e}function __(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dN(n){return!!n&&"integerValue"in n}function N1(n){return!!n&&"arrayValue"in n}function Lk(n){return!!n&&"nullValue"in n}function Bk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function CT(n){return!!n&&"mapValue"in n}function O1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return p_(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=O1(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=O1(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Vk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qU(n){return"nullValue"in n?DT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?__(Ig.empty(),Tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Bt()}function ZU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?__(Ig.empty(),Tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Tg:Bt()}function Uk(n,e){const t=Eg(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $k(n,e){const t=Eg(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ya{constructor(e){this.value=e}static empty(){return new ya({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!CT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=O1(t)}setAll(e){let t=bs.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=g.popLast()}c?r[g.lastSegment()]=O1(c):i.push(g.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());CT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];CT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){p_(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ya(O1(this.value))}}function Gk(n){const e=[];return p_(n.fields,(t,r)=>{const i=new bs([t]);if(CT(r)){const a=Gk(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new ac(e)}class Si{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Si(e,0,un.min(),un.min(),ya.empty(),0)}static newFoundDocument(e,t,r){return new Si(e,1,t,un.min(),r,0)}static newNoDocument(e,t){return new Si(e,2,t,un.min(),ya.empty(),0)}static newUnknownDocument(e,t){return new Si(e,3,t,un.min(),ya.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ya.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ya.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class YU{constructor(e,t=null,r=[],i=[],a=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=g,this.ht=null}}function Hk(n,e=null,t=[],r=[],i=null,a=null,c=null){return new YU(n,e,t,r,i,a,c)}function v_(n){const e=xt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ky(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),S1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ky(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ky(r)).join(",")),e.ht=t}return e.ht}function M1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!s3(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Wh(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zk(n.startAt,e.startAt)&&Zk(n.endAt,e.endAt)}function IT(n){return Tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function TT(n,e){return n.filters.filter(t=>t instanceof ba&&t.field.isEqual(e))}function jk(n,e,t){let r=DT,i=!0;for(const a of TT(n,e)){let c=DT,g=!0;switch(a.op){case"<":case"<=":c=qU(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,g=!1;break;case"!=":case"not-in":c=DT}Uk({value:r,inclusive:i},{value:c,inclusive:g})<0&&(r=c,i=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Uk({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function Wk(n,e,t){let r=Tg,i=!0;for(const a of TT(n,e)){let c=Tg,g=!0;switch(a.op){case">=":case">":c=ZU(a.value),g=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,g=!1;break;case"!=":case"not-in":c=Tg}$k({value:r,inclusive:i},{value:c,inclusive:g})>0&&(r=c,i=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];$k({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class ba extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new QU(e,t,r):"array-contains"===t?new e3(e,r):"in"===t?new t3(e,r):"not-in"===t?new n3(e,r):"array-contains-any"===t?new r3(e,r):new ba(e,t,r)}static lt(e,t,r){return"in"===t?new JU(e,r):new XU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Eg(t,this.value)):null!==t&&m_(this.value)===m_(t)&&this.ft(Eg(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class QU extends ba{constructor(e,t,r){super(e,t,r),this.key=Tt.fromName(r.referenceValue)}matches(e){const t=Tt.comparator(e.key,this.key);return this.ft(t)}}class JU extends ba{constructor(e,t){super(e,"in",t),this.keys=zk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XU extends ba{constructor(e,t){super(e,"not-in",t),this.keys=zk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Tt.fromName(r.referenceValue))}class e3 extends ba{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return N1(t)&&A1(t.arrayValue,this.value)}}class t3 extends ba{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&A1(this.value.arrayValue,t)}}class n3 extends ba{constructor(e,t){super(e,"not-in",t)}matches(e){if(A1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!A1(this.value.arrayValue,t)}}class r3 extends ba{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!N1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>A1(this.value.arrayValue,r))}}class Sg{constructor(e,t){this.position=e,this.inclusive=t}}class Qy{constructor(e,t="asc"){this.field=e,this.dir=t}}function s3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Tt.comparator(Tt.fromName(c.referenceValue),t.key):Eg(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Zk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wh(n.position[t],e.position[t]))return!1;return!0}class np{constructor(e,t=null,r=[],i=[],a=null,c="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=g,this.endAt=y,this._t=null,this.wt=null}}function Yk(n,e,t,r,i,a,c,g){return new np(n,e,t,r,i,a,c,g)}function Jy(n){return new np(n)}function Kk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fN(n){for(const e of n.filters)if(e.dt())return e.field;return null}function pN(n){return null!==n.collectionGroup}function Xy(n){const e=xt(n);if(null===e._t){e._t=[];const t=fN(e),r=hN(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Qy(t)),e._t.push(new Qy(bs.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Qy(bs.keyField(),a))}}}return e._t}function uu(n){const e=xt(n);if(!e.wt)if("F"===e.limitType)e.wt=Hk(e.path,e.collectionGroup,Xy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Xy(e))t.push(new Qy(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Sg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Sg(e.startAt.position,e.startAt.inclusive):null;e.wt=Hk(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function ET(n,e,t){return new np(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function R1(n,e){return M1(uu(n),uu(e))&&n.limitType===e.limitType}function Qk(n){return`${v_(uu(n))}|lt:${n.limitType}`}function gN(n){return`Query(target=${function KU(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ky(r.value)}`;var r}).join(", ")}]`),S1(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ky(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ky(t)).join(",")),`Target(${e})`}(uu(n))}; limitType=${n.limitType})`}function mN(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Tt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const g=qk(i,a,c);return i.inclusive?g<=0:g<0}(t.startAt,Xy(t),r)||t.endAt&&!function(i,a,c){const g=qk(i,a,c);return i.inclusive?g>=0:g>0}(t.endAt,Xy(t),r)));var t,r}function Jk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Xk(n){return(e,t)=>{let r=!1;for(const i of Xy(n)){const a=o3(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function o3(n,e,t){const r=n.field.isKeyField()?Tt.comparator(e.key,t.key):function(i,a,c){const g=a.data.field(i),y=c.data.field(i);return null!==g&&null!==y?Eg(g,y):Bt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Bt()}}function eF(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:x1(e)?"-0":e}}function tF(n){return{integerValue:""+n}}function nF(n,e){return kk(e)?tF(e):eF(n,e)}class ST{constructor(){this._=void 0}}function a3(n,e,t){return n instanceof e0?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof y_?iF(n,e):n instanceof b_?sF(n,e):function(r,i){const a=rF(r,i),c=oF(a)+oF(r.yt);return dN(a)&&dN(r.yt)?tF(c):eF(r.It,c)}(n,e)}function l3(n,e,t){return n instanceof y_?iF(n,e):n instanceof b_?sF(n,e):t}function rF(n,e){return n instanceof t0?dN(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class e0 extends ST{}class y_ extends ST{constructor(e){super(),this.elements=e}}function iF(n,e){const t=aF(e);for(const r of n.elements)t.some(i=>Wh(i,r))||t.push(r);return{arrayValue:{values:t}}}class b_ extends ST{constructor(e){super(),this.elements=e}}function sF(n,e){let t=aF(e);for(const r of n.elements)t=t.filter(i=>!Wh(i,r));return{arrayValue:{values:t}}}class t0 extends ST{constructor(e,t){super(),this.It=e,this.yt=t}}function oF(n){return Ds(n.integerValue||n.doubleValue)}function aF(n){return N1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class P1{constructor(e,t){this.field=e,this.transform=t}}class c3{constructor(e,t){this.version=e,this.transformResults=t}}class Xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class AT{}function lF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new r0(n.key,Xi.none()):new n0(n.key,n.data,Xi.none());{const t=n.data,r=ya.empty();let i=new fi(bs.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new rp(n.key,r,new ac(i.toArray()),Xi.none())}}function d3(n,e,t){n instanceof n0?function(r,i,a){const c=r.value.clone(),g=dF(r.fieldTransforms,i,a.transformResults);c.setAll(g),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof rp?function(r,i,a){if(!xT(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=dF(r.fieldTransforms,i,a.transformResults),g=i.data;g.setAll(cF(r)),g.setAll(c),i.convertToFoundDocument(a.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function k1(n,e,t,r){return n instanceof n0?function(i,a,c,g){if(!xT(i.precondition,a))return c;const y=i.value.clone(),I=hF(i.fieldTransforms,g,a);return y.setAll(I),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof rp?function(i,a,c,g){if(!xT(i.precondition,a))return c;const y=hF(i.fieldTransforms,g,a),I=a.data;return I.setAll(cF(i)),I.setAll(y),a.convertToFoundDocument(a.version,I).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(c=t,xT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function h3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=rF(r.transform,i||null);null!=a&&(null===t&&(t=ya.empty()),t.set(r.field,a))}return t||null}function uF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Zy(t,r,(i,a)=>function u3(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof y_&&r instanceof y_||t instanceof b_&&r instanceof b_?Zy(t.elements,r.elements,Wh):t instanceof t0&&r instanceof t0?Wh(t.yt,r.yt):t instanceof e0&&r instanceof e0);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class n0 extends AT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rp extends AT{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dF(n,e,t){const r=new Map;fn(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,g=e.data.field(a.field);r.set(a.field,l3(c,g,t[i]))}return r}function hF(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,a3(a,c,e))}return r}class r0 extends AT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _N extends AT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f3{constructor(e){this.count=e}}var lo,_r;function fF(n){switch(n){default:return Bt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function pF(n){if(void 0===n)return $s("GRPC error has no .code"),Pe.UNKNOWN;switch(n){case lo.OK:return Pe.OK;case lo.CANCELLED:return Pe.CANCELLED;case lo.UNKNOWN:return Pe.UNKNOWN;case lo.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case lo.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case lo.INTERNAL:return Pe.INTERNAL;case lo.UNAVAILABLE:return Pe.UNAVAILABLE;case lo.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case lo.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case lo.NOT_FOUND:return Pe.NOT_FOUND;case lo.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case lo.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case lo.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case lo.ABORTED:return Pe.ABORTED;case lo.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case lo.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case lo.DATA_LOSS:return Pe.DATA_LOSS;default:return Bt()}}(_r=lo||(lo={}))[_r.OK=0]="OK",_r[_r.CANCELLED=1]="CANCELLED",_r[_r.UNKNOWN=2]="UNKNOWN",_r[_r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_r[_r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_r[_r.NOT_FOUND=5]="NOT_FOUND",_r[_r.ALREADY_EXISTS=6]="ALREADY_EXISTS",_r[_r.PERMISSION_DENIED=7]="PERMISSION_DENIED",_r[_r.UNAUTHENTICATED=16]="UNAUTHENTICATED",_r[_r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_r[_r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_r[_r.ABORTED=10]="ABORTED",_r[_r.OUT_OF_RANGE=11]="OUT_OF_RANGE",_r[_r.UNIMPLEMENTED=12]="UNIMPLEMENTED",_r[_r.INTERNAL=13]="INTERNAL",_r[_r.UNAVAILABLE=14]="UNAVAILABLE",_r[_r.DATA_LOSS=15]="DATA_LOSS";class xg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){p_(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Mk(this.inner)}size(){return this.innerSize}}const p3=new ws(Tt.comparator);function cu(){return p3}const gF=new ws(Tt.comparator);function F1(...n){let e=gF;for(const t of n)e=e.insert(t.key,t);return e}function mF(n){let e=gF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zh(){return L1()}function _F(){return L1()}function L1(){return new xg(n=>n.toString(),(n,e)=>n.isEqual(e))}const g3=new ws(Tt.comparator),m3=new fi(Tt.comparator);function Rn(...n){let e=m3;for(const t of n)e=e.add(t);return e}const _3=new fi(bn);function NT(){return _3}class B1{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,V1.createSynthesizedTargetChangeForCurrentChange(e,t)),new B1(un.min(),r,NT(),cu(),Rn())}}class V1{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new V1(To.EMPTY_BYTE_STRING,t,Rn(),Rn(),Rn())}}class OT{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class vF{constructor(e,t){this.targetId=e,this.At=t}}class yF{constructor(e,t,r=To.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class bF{constructor(){this.Rt=0,this.bt=DF(),this.Pt=To.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rn(),t=Rn(),r=Rn();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Bt()}}),new V1(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=DF()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class v3{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=cu(),this.qt=wF(),this.Kt=new fi(bn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(IT(a))if(0===r){const c=new Tt(a.path);this.jt(t,c,Si.newNoDocument(c,un.min()))}else fn(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,c)=>{const g=this.Xt(c);if(g){if(a.current&&IT(g.target)){const y=new Tt(g.target.path);null!==this.Ut.get(y)||this.ee(c,y)||this.jt(c,y,Si.newNoDocument(y,e))}a.Dt&&(t.set(c,a.xt()),a.Nt())}});let r=Rn();this.qt.forEach((a,c)=>{let g=!0;c.forEachWhile(y=>{const I=this.Xt(y);return!I||2===I.purpose||(g=!1,!1)}),g&&(r=r.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const i=new B1(e,t,this.Kt,this.Ut,r);return this.Ut=cu(),this.qt=wF(),this.Kt=new fi(bn),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new bF,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new fi(bn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||lt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new bF),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function wF(){return new ws(Tt.comparator)}function DF(){return new ws(Tt.comparator)}const y3={asc:"ASCENDING",desc:"DESCENDING"},b3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class w3{constructor(e,t){this.databaseId=e,this.gt=t}}function U1(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CF(n,e){return n.gt?e.toBase64():e.toUint8Array()}function D3(n,e){return U1(n,e.toTimestamp())}function Qo(n){return fn(!!n),un.fromTimestamp(function(e){const t=Cg(e);return new Ji(t.seconds,t.nanos)}(n))}function vN(n,e){return(t=n,new mr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function IF(n){const e=mr.fromString(n);return fn(RF(e)),e}function $1(n,e){return vN(n.databaseId,e.path)}function qh(n,e){const t=IF(e);if(t.get(1)!==n.databaseId.projectId)throw new et(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new et(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Tt(EF(t))}function yN(n,e){return vN(n.databaseId,e)}function TF(n){const e=IF(n);return 4===e.length?mr.emptyPath():EF(e)}function G1(n){return new mr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EF(n){return fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function SF(n,e,t){return{name:$1(n,e),fields:t.value.mapValue.fields}}function xF(n,e,t){const r=qh(n,e.name),i=Qo(e.updateTime),a=new ya({mapValue:{fields:e.fields}}),c=Si.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function H1(n,e){let t;if(e instanceof n0)t={update:SF(n,e.key,e.value)};else if(e instanceof r0)t={delete:$1(n,e.key)};else if(e instanceof rp)t={update:SF(n,e.key,e.data),updateMask:O3(e.fieldMask)};else{if(!(e instanceof _N))return Bt();t={verify:$1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof e0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof y_)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof b_)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof t0)return{fieldPath:a.field.canonicalString(),increment:c.yt};throw Bt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:D3(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Bt()),t;var i}function bN(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Xi.updateTime(Qo(i.updateTime)):void 0!==i.exists?Xi.exists(i.exists):Xi.none():Xi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let g=null;"setToServerValue"in c?(fn("REQUEST_TIME"===c.setToServerValue),g=new e0):"appendMissingElements"in c?g=new y_(c.appendMissingElements.values||[]):"removeAllFromArray"in c?g=new b_(c.removeAllFromArray.values||[]):"increment"in c?g=new t0(a,c.increment):Bt();const y=bs.fromServerFormat(c.fieldPath);return new P1(y,g)}(n,i)):[];var i;if(e.update){const i=qh(n,e.update.name),a=new ya({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ac((e.updateMask.fieldPaths||[]).map(I=>bs.fromServerFormat(I)));return new rp(i,a,c,t,r)}return new n0(i,a,t,r)}if(e.delete){const i=qh(n,e.delete);return new r0(i,t)}if(e.verify){const i=qh(n,e.verify);return new _N(i,t)}return Bt()}function AF(n,e){return{documents:[yN(n,e.path)]}}function NF(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=yN(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yN(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const I=y.map(A=>function(R){if("=="===R.op){if(Bk(R.value))return{unaryFilter:{field:s0(R.field),op:"IS_NAN"}};if(Lk(R.value))return{unaryFilter:{field:s0(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(Bk(R.value))return{unaryFilter:{field:s0(R.field),op:"IS_NOT_NAN"}};if(Lk(R.value))return{unaryFilter:{field:s0(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:s0(R.field),op:x3(R.op),value:R.value}}}(A));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(I=>{return{field:s0((A=I).field),direction:S3(A.dir)};var A})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(I=e.limit,n.gt||S1(I)?I:{value:I});var I,g,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function OF(n){let e=TF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){fn(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let a=[];t.where&&(a=MF(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new Qy(o0((R=A).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let g=null;t.limit&&(g=function(A){let R;return R="object"==typeof A?A.value:A,S1(R)?null:R}(t.limit));let y=null;var A;t.startAt&&(y=new Sg((A=t.startAt).values||[],!!A.before));let I=null;return t.endAt&&(I=function(A){return new Sg(A.values||[],!A.before)}(t.endAt)),Yk(e,i,c,a,g,"F",y,I)}function MF(n){return n?void 0!==n.unaryFilter?[N3(n)]:void 0!==n.fieldFilter?[A3(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>MF(e)).reduce((e,t)=>e.concat(t)):Bt():[]}function S3(n){return y3[n]}function x3(n){return b3[n]}function s0(n){return{fieldPath:n.canonicalString()}}function o0(n){return bs.fromServerFormat(n.fieldPath)}function A3(n){return ba.create(o0(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function N3(n){switch(n.unaryFilter.op){case"IS_NAN":const e=o0(n.unaryFilter.field);return ba.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=o0(n.unaryFilter.field);return ba.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=o0(n.unaryFilter.field);return ba.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=o0(n.unaryFilter.field);return ba.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}function O3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Dl(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PF(e)),e=M3(n.get(t),e);return PF(e)}function M3(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function PF(n){return n+"\x01\x01"}function Zh(n){const e=n.length;if(fn(e>=2),2===e)return fn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mr.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&Bt(),n.charAt(c+1)){case"\x01":const g=n.substring(a,c);let y;0===i.length?y=g:(i+=g,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:Bt()}a=c+2}return new mr(r)}const kF=["userId","batchId"];function MT(n,e){return[n,Dl(e)]}function FF(n,e,t){return[n,Dl(e),t]}const R3={},P3=["prefixPath","collectionGroup","readTime","documentId"],k3=["prefixPath","collectionGroup","documentId"],F3=["collectionGroup","readTime","prefixPath","documentId"],L3=["canonicalId","targetId"],B3=["targetId","path"],V3=["path","targetId"],U3=["collectionId","parent"],$3=["indexId","uid"],G3=["uid","sequenceNumber"],H3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],j3=["indexId","uid","orderedDocumentKey"],W3=["userId","collectionPath","documentId"],z3=["userId","collectionPath","largestBatchId"],q3=["userId","collectionGroup","largestBatchId"],LF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Z3=[...LF,"documentOverlays"],BF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VF=BF,Y3=[...VF,"indexConfiguration","indexState","indexEntries"];class wN extends Ak{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Jo(n,e){const t=xt(n);return Gd.O(t.ie,e)}class DN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&d3(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=k1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=k1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_F();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let g=this.applyToLocalView(c,a.mutatedFields);g=t.has(i.key)?null:g;const y=lF(c,g);null!==y&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(un.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rn())}isEqual(e){return this.batchId===e.batchId&&Zy(this.mutations,e.mutations,(t,r)=>uF(t,r))&&Zy(this.baseMutations,e.baseMutations,(t,r)=>uF(t,r))}}class CN{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){fn(e.mutations.length===r.length);let i=g3;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new CN(e,t,r,i)}}class IN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ag{constructor(e,t,r,i,a=un.min(),c=un.min(),g=To.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g}withSequenceNumber(e){return new Ag(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ag(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ag(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class UF{constructor(e){this.re=e}}function $F(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:RT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:$1(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:U1(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:w_(e.version)};else{if(!e.isUnknownDocument())return Bt();r.unknownDocument={path:t.path.toArray(),version:w_(e.version)}}var i,a;return r}function RT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function w_(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function D_(n){const e=new Ji(n.seconds,n.nanoseconds);return un.fromTimestamp(e)}function C_(n,e){const t=(e.baseMutations||[]).map(a=>bN(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>bN(n.re,a)),i=Ji.fromMillis(e.localWriteTimeMs);return new DN(e.batchId,i,t,r)}function j1(n){const e=D_(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?D_(n.lastLimboFreeSnapshotVersion):un.min();let r;var i;return void 0!==n.query.documents?(fn(1===(i=n.query).documents.length),r=uu(Jy(TF(i.documents[0])))):r=uu(OF(n.query)),new Ag(r,n.targetId,0,n.lastListenSequenceNumber,e,t,To.fromBase64String(n.resumeToken))}function GF(n,e){const t=w_(e.snapshotVersion),r=w_(e.lastLimboFreeSnapshotVersion);let i;i=IT(e.target)?AF(n.re,e.target):NF(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:v_(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function TN(n){const e=OF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ET(e,e.limit,"L"):e}function EN(n,e){return new IN(e.largestBatchId,bN(n.re,e.overlayMutation))}function HF(n,e){const t=e.path.lastSegment();return[n,Dl(e.path.popLast()),t]}function jF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:w_(r.readTime),documentKey:Dl(r.documentKey.path),largestBatchId:r.largestBatchId}}class Q3{getBundleMetadata(e,t){return WF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:D_(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return WF(e).put({bundleId:(r=t).id,createTime:w_(Qo(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return zF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:TN(i.bundledQuery),readTime:D_(i.readTime)};var i})}saveNamedQuery(e,t){return zF(e).put({name:(r=t).name,readTime:w_(Qo(r.readTime)),bundledQuery:r.bundledQuery});var r}}function WF(n){return Jo(n,"bundles")}function zF(n){return Jo(n,"namedQueries")}class PT{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new PT(e,t.uid||"")}getOverlay(e,t){return W1(e).get(HF(this.userId,t)).next(r=>r?EN(this.It,r):null)}getOverlays(e,t){const r=zh();return xe.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const g=new IN(t,c);i.push(this.ue(e,g))}),xe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Dl(c.getCollectionPath())));const a=[];return i.forEach(c=>{const g=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(W1(e).Y("collectionPathOverlayIndex",g))}),xe.waitFor(a)}getOverlaysForCollection(e,t,r){const i=zh(),a=Dl(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return W1(e).W("collectionPathOverlayIndex",c).next(g=>{for(const y of g){const I=EN(this.It,y);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=zh();let c;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return W1(e).Z({index:"collectionGroupOverlayIndex",range:g},(y,I,A)=>{const R=EN(this.It,I);a.size()<i||R.largestBatchId===c?(a.set(R.getKey(),R),c=R.largestBatchId):A.done()}).next(()=>a)}ue(e,t){return W1(e).put(function(r,i,a){const[c,g,y]=HF(i,a.mutation.key);return{userId:i,collectionPath:g,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:H1(r.re,a.mutation)}}(this.It,this.userId,t))}}function W1(n){return Jo(n,"documentOverlays")}class I_{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ds(e.integerValue));else if("doubleValue"in e){const r=Ds(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),x1(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(g_(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Vk(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Bt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Tt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function J3(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function qF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=J3(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}I_.Te=new I_;class X3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=qF(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=qF(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class e${constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class t${constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class z1{constructor(){this.Be=new X3,this.Le=new e$(this.Be),this.Ue=new t$(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class T_{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new T_(this.indexId,this.documentKey,this.arrayValue,r)}}function E_(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ZF(n.arrayValue,e.arrayValue),0!==t?t:(t=ZF(n.directionalValue,e.directionalValue),0!==t?t:Tt.comparator(n.documentKey,e.documentKey)))}function ZF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class n${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=sN(e);if(void 0!==t&&!this.ze(t))return!1;const r=h_(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const c=r[i];if(!this.He(this.je,c)||!this.Je(this.Ge[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class r${constructor(){this.Ye=new SN}addToCollectionParentIndex(e,t){return this.Ye.add(t),xe.resolve()}getCollectionParents(e,t){return xe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return xe.resolve()}deleteFieldIndex(e,t){return xe.resolve()}getDocumentsMatchingTarget(e,t){return xe.resolve(null)}getIndexType(e,t){return xe.resolve(0)}getFieldIndexes(e,t){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,t){return xe.resolve(oc.min())}getMinOffsetFromCollectionGroup(e,t){return xe.resolve(oc.min())}updateCollectionGroup(e,t,r){return xe.resolve()}updateIndexEntries(e,t){return xe.resolve()}}class SN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new fi(mr.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fi(mr.comparator)).toArray()}}const kT=new Uint8Array(0);class i${constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new SN,this.Ze=new xg(r=>v_(r),(r,i)=>M1(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:Dl(i)};return YF(e).put(a)}return xe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Tk(t),""],!1,!0);return YF(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Zh(c.parent))}return r})}addFieldIndex(e,t){const r=FT(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=Z1(e);return a.next(g=>{c.put(jF(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=FT(e),i=Z1(e),a=q1(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=q1(e);let i=!0;const a=new Map;return xe.forEach(this.tn(t),c=>this.en(e,c).next(g=>{i&&(i=!!g),a.set(c,g)})).next(()=>{if(i){let c=Rn();const g=[];return xe.forEach(a,(y,I)=>{var A;lt("IndexedDbIndexManager",`Using index ${A=y,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${v_(t)}`);const R=function(vt,it){const gt=sN(it);if(void 0===gt)return null;for(const Dt of TT(vt,gt.fieldPath))switch(Dt.op){case"array-contains-any":return Dt.value.arrayValue.values||[];case"array-contains":return[Dt.value]}return null}(I,y),H=function(vt,it){const gt=new Map;for(const Dt of h_(it))for(const rn of TT(vt,Dt.fieldPath))switch(rn.op){case"==":case"in":gt.set(Dt.fieldPath.canonicalString(),rn.value);break;case"not-in":case"!=":return gt.set(Dt.fieldPath.canonicalString(),rn.value),Array.from(gt.values())}return null}(I,y),Z=function(vt,it){const gt=[];let Dt=!0;for(const rn of h_(it)){const Pn=0===rn.kind?jk(vt,rn.fieldPath,vt.startAt):Wk(vt,rn.fieldPath,vt.startAt);gt.push(Pn.value),Dt&&(Dt=Pn.inclusive)}return new Sg(gt,Dt)}(I,y),ue=function(vt,it){const gt=[];let Dt=!0;for(const rn of h_(it)){const Pn=0===rn.kind?Wk(vt,rn.fieldPath,vt.endAt):jk(vt,rn.fieldPath,vt.endAt);gt.push(Pn.value),Dt&&(Dt=Pn.inclusive)}return new Sg(gt,Dt)}(I,y),_e=this.nn(y,I,Z),De=this.nn(y,I,ue),ot=this.sn(y,I,H),ut=this.rn(y.indexId,R,_e,Z.inclusive,De,ue.inclusive,ot);return xe.forEach(ut,vt=>r.J(vt,t.limit).next(it=>{it.forEach(gt=>{const Dt=Tt.fromSegments(gt.documentKey);c.has(Dt)||(c=c.add(Dt),g.push(Dt))})}))}).next(()=>g)}return xe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,c,g){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),I=y/(null!=t?t.length:1),A=[];for(let R=0;R<y;++R){const H=t?this.on(t[R/I]):kT,Z=this.un(e,H,r[R%I],i),ue=this.cn(e,H,a[R%I],c),_e=g.map(De=>this.un(e,H,De,!0));A.push(...this.createRange(Z,ue,_e))}return A}un(e,t,r,i){const a=new T_(e,Tt.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new T_(e,Tt.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new n$(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const g of a)r.We(g)&&(!c||g.fields.length>c.fields.length)&&(c=g);return c})}getIndexType(e,t){let r=2;return xe.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(c){let g=new fi(bs.comparator),y=!1;for(const I of c.filters){const A=I;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?y=!0:g=g.add(A.field))}for(const I of c.orderBy)I.field.isKeyField()||(g=g.add(I.field));return g.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new z1;for(const i of h_(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.qe(i.kind);I_.Te.ce(a,c)}return r.$e()}on(e){const t=new z1;return I_.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new z1;return I_.Te.ce(__(this.databaseId,t),r.qe(function(i){const a=h_(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new z1);let a=0;for(const c of h_(e)){const g=r[a++];for(const y of i)if(this.ln(t,c.fieldPath)&&N1(g))i=this.fn(i,c,g);else{const I=y.qe(c.kind);I_.Te.ce(g,I)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const g of i){const y=new z1;y.seed(g.$e()),I_.Te.ce(c,y.qe(t.kind)),a.push(y)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof ba&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=FT(e),i=Z1(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return xe.forEach(a,g=>i.get([g.indexId,this.uid]).next(y=>{c.push(function(I,A){const R=A?new I1(A.sequenceNumber,new oc(D_(A.readTime),new Tt(Zh(A.documentKey)),A.largestBatchId)):I1.empty(),H=I.fields.map(([Z,ue])=>new yT(bs.fromServerFormat(Z),ue));return new vT(I.indexId,I.collectionGroup,H,R)}(g,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:bn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=FT(e),a=Z1(e);return this._n(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>xe.forEach(g,y=>a.put(jF(y.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return xe.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?xe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),xe.forEach(g,y=>this.wn(e,i,y).next(I=>{const A=this.mn(a,y);return I.isEqual(A)?xe.resolve():this.gn(e,a,y,I,A)}))))})}yn(e,t,r,i){return q1(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return q1(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=q1(e);let a=new fi(E_);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(c,g)=>{a=a.add(new T_(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>a)}mn(e,t){let r=new fi(E_);const i=this.an(t,e);if(null==i)return r;const a=sN(t);if(null!=a){const c=e.data.field(a.fieldPath);if(N1(c))for(const g of c.arrayValue.values||[])r=r.add(new T_(t.indexId,e.key,this.on(g),i))}else r=r.add(new T_(t.indexId,e.key,kT,i));return r}gn(e,t,r,i,a){lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(g,y,I,A,R){const H=g.getIterator(),Z=y.getIterator();let ue=Yy(H),_e=Yy(Z);for(;ue||_e;){let De=!1,ot=!1;if(ue&&_e){const ut=I(ue,_e);ut<0?ot=!0:ut>0&&(De=!0)}else null!=ue?ot=!0:De=!0;De?(A(_e),_e=Yy(Z)):ot?(R(ue),ue=Yy(H)):(ue=Yy(H),_e=Yy(Z))}}(i,a,E_,g=>{c.push(this.yn(e,t,r,g))},g=>{c.push(this.pn(e,t,r,g))}),xe.waitFor(c)}_n(e){let t=1;return Z1(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,g)=>E_(c,g)).filter((c,g,y)=>!g||0!==E_(c,y[g-1]));const i=[];i.push(e);for(const c of r){const g=E_(c,e),y=E_(c,t);if(0===g)i[0]=e.Ke();else if(g>0&&y<0)i.push(c),i.push(c.Ke());else if(y>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,kT,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,kT,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(KF)}getMinOffset(e,t){return xe.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Bt())).next(KF)}}function YF(n){return Jo(n,"collectionParents")}function q1(n){return Jo(n,"indexEntries")}function FT(n){return Jo(n,"indexConfiguration")}function Z1(n){return Jo(n,"indexState")}function KF(n){fn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;oN(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new oc(e.readTime,e.documentKey,t)}const QF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class du{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new du(e,du.DEFAULT_COLLECTION_PERCENTILE,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function JF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let g=0;const y=r.Z({range:c},(A,R,H)=>(g++,H.delete()));a.push(y.next(()=>{fn(1===g)}));const I=[];for(const A of t.mutations){const R=FF(e,A.key.path,t.batchId);a.push(i.delete(R)),I.push(A.key)}return xe.waitFor(a).next(()=>I)}function LT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Bt();e=n.noDocument}return JSON.stringify(e).length}du.DEFAULT_COLLECTION_PERCENTILE=10,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,du.DEFAULT=new du(41943040,du.DEFAULT_COLLECTION_PERCENTILE,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),du.DISABLED=new du(-1,0,0);class BT{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){fn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new BT(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ng(e).Z({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=a0(e),c=Ng(e);return c.add({}).next(g=>{fn("number"==typeof g);const y=new DN(g,t,r,i),I=function(H,Z,ue){const _e=ue.baseMutations.map(ot=>H1(H.re,ot)),De=ue.mutations.map(ot=>H1(H.re,ot));return{userId:Z,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:_e,mutations:De}}(this.It,this.userId,y),A=[];let R=new fi((H,Z)=>bn(H.canonicalString(),Z.canonicalString()));for(const H of i){const Z=FF(this.userId,H.key.path,g);R=R.add(H.key.path.popLast()),A.push(c.put(I)),A.push(a.put(Z,R3))}return R.forEach(H=>{A.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.In[g]=y.keys()}),xe.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return Ng(e).get(t).next(r=>r?(fn(r.userId===this.userId),C_(this.It,r)):null)}Tn(e,t){return this.In[t]?xe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Ng(e).Z({index:"userMutationsIndex",range:i},(c,g,y)=>{g.userId===this.userId&&(fn(g.batchId>=r),a=C_(this.It,g)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ng(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ng(e).W("userMutationsIndex",t).next(r=>r.map(i=>C_(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=MT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return a0(e).Z({range:i},(c,g,y)=>{const[I,A,R]=c,H=Zh(A);if(I===this.userId&&t.path.isEqual(H))return Ng(e).get(R).next(Z=>{if(!Z)throw Bt();fn(Z.userId===this.userId),a.push(C_(this.It,Z))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fi(bn);const i=[];return t.forEach(a=>{const c=MT(this.userId,a.path),g=IDBKeyRange.lowerBound(c),y=a0(e).Z({range:g},(I,A,R)=>{const[H,Z,ue]=I,_e=Zh(Z);H===this.userId&&a.path.isEqual(_e)?r=r.add(ue):R.done()});i.push(y)}),xe.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=MT(this.userId,r),c=IDBKeyRange.lowerBound(a);let g=new fi(bn);return a0(e).Z({range:c},(y,I,A)=>{const[R,H,Z]=y,ue=Zh(H);R===this.userId&&r.isPrefixOf(ue)?ue.length===i&&(g=g.add(Z)):A.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Ng(e).get(a).next(c=>{if(null===c)throw Bt();fn(c.userId===this.userId),r.push(C_(this.It,c))}))}),xe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return JF(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),xe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return xe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return a0(e).Z({range:r},(a,c,g)=>{if(a[0]===this.userId){const y=Zh(a[1]);i.push(y)}else g.done()}).next(()=>{fn(0===i.length)})})}containsKey(e,t){return XF(e,this.userId,t)}Rn(e){return eL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function XF(n,e,t){const r=MT(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return a0(n).Z({range:a,X:!0},(g,y,I)=>{const[A,R,H]=g;A===e&&R===i&&(c=!0),I.done()}).next(()=>c)}function Ng(n){return Jo(n,"mutations")}function a0(n){return Jo(n,"documentMutations")}function eL(n){return Jo(n,"mutationQueues")}class S_{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new S_(0)}static vn(){return new S_(-1)}}class s${constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new S_(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>un.fromTimestamp(new Ji(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>l0(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(fn(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return l0(e).Z((c,g)=>{const y=j1(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>xe.waitFor(a)).next(()=>i)}forEachTarget(e,t){return l0(e).Z((r,i)=>{const a=j1(i);t(a)})}Vn(e){return tL(e).get("targetGlobalKey").next(t=>(fn(null!==t),t))}Sn(e,t){return tL(e).put("targetGlobalKey",t)}Dn(e,t){return l0(e).put(GF(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=v_(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return l0(e).Z({range:i,index:"queryTargetsIndex"},(c,g,y)=>{const I=j1(g);M1(t,I.target)&&(a=I,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Og(e);return t.forEach(c=>{const g=Dl(c.path);i.push(a.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,c))}),xe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Og(e);return xe.forEach(t,a=>{const c=Dl(a.path);return xe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Og(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Og(e);let a=Rn();return i.Z({range:r,X:!0},(c,g,y)=>{const I=Zh(c[1]),A=new Tt(I);a=a.add(A)}).next(()=>a)}containsKey(e,t){const r=Dl(t.path),i=IDBKeyRange.bound([r],[Tk(r)],!1,!0);let a=0;return Og(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,g],y,I)=>{0!==c&&(a++,I.done())}).next(()=>a>0)}se(e,t){return l0(e).get(t).next(r=>r?j1(r):null)}}function l0(n){return Jo(n,"targets")}function tL(n){return Jo(n,"targetGlobal")}function Og(n){return Jo(n,"targetDocuments")}function nL([n,e],[t,r]){const i=bn(n,t);return 0===i?bn(e,r):i}class o${constructor(e){this.xn=e,this.buffer=new fi(nL),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class a${constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Be.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Dg(r)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield wg(r)}yield t.Fn(3e5)}))}}class l${constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return xe.resolve(lu.at);const r=new o$(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(QF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QF):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,c,g,y,I;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,c=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,g=Date.now(),this.removeTargets(e,r,t))).next(R=>(a=R,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(I=Date.now(),rN()<=_g.in.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-A}ms\n\tDetermined least recently used ${i} in `+(g-c)+`ms\n\tRemoved ${a} targets in `+(y-g)+`ms\n\tRemoved ${R} documents in `+(I-y)+`ms\nTotal Duration: ${I-A}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:R})))}}class u${constructor(e,t){this.db=e,this.garbageCollector=new l$(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return VT(e,r)}removeReference(e,t,r){return VT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return VT(e,t)}Gn(e,t){return function(r,i){let a=!1;return eL(r).tt(c=>XF(r,c,i).next(g=>(g&&(a=!0),xe.resolve(!g)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(c,g)=>{if(g<=t){const y=this.Gn(e,c).next(I=>{if(!I)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,un.min()),Og(e).delete([0,Dl(c.path)])))});i.push(y)}}).next(()=>xe.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return VT(e,t)}Kn(e,t){const r=Og(e);let i,a=lu.at;return r.Z({index:"documentTargetsIndex"},([c,g],{path:y,sequenceNumber:I})=>{0===c?(a!==lu.at&&t(new Tt(Zh(i)),a),a=I,i=y):a=lu.at}).next(()=>{a!==lu.at&&t(new Tt(Zh(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function VT(n,e){return Og(n).put((r=n.currentSequenceNumber,{targetId:0,path:Dl(e.path),sequenceNumber:r}));var r}class rL{constructor(){this.changes=new xg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?xe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class c${constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return x_(e).put(r)}removeEntry(e,t,r){return x_(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],RT(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Si.newInvalidDocument(t);return x_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Y1(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Si.newInvalidDocument(t)};return x_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Y1(t))},(i,a)=>{r={document:this.jn(t,a),size:LT(a)}}).next(()=>r)}getEntries(e,t){let r=cu();return this.zn(e,t,(i,a)=>{const c=this.jn(i,a);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=cu(),i=new ws(Tt.comparator);return this.zn(e,t,(a,c)=>{const g=this.jn(a,c);r=r.insert(a,g),i=i.insert(a,LT(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return xe.resolve();let i=new fi(aL);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(Y1(i.first()),Y1(i.last())),c=i.getIterator();let g=c.getNext();return x_(e).Z({index:"documentKeyIndex",range:a},(y,I,A)=>{const R=Tt.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;g&&aL(g,R)<0;)r(g,null),g=c.getNext();g&&g.isEqual(R)&&(r(g,I),g=c.hasNext()?c.getNext():null),g?A.j(Y1(g)):A.done()}).next(()=>{for(;g;)r(g,null),g=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),RT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return x_(e).W(IDBKeyRange.bound(i,a,!0)).next(c=>{let g=cu();for(const y of c){const I=this.jn(Tt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(I.key,I)}return g})}getAllFromCollectionGroup(e,t,r,i){let a=cu();const c=oL(t,r),g=oL(t,oc.max());return x_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,g,!0)},(y,I,A)=>{const R=this.jn(Tt.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);a=a.insert(R.key,R),a.size===i&&A.done()}).next(()=>a)}newChangeBuffer(e){return new d$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sL(e).get("remoteDocumentGlobalKey").next(t=>(fn(!!t),t))}Qn(e,t){return sL(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function K3(n,e){let t;if(e.document)t=xF(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Tt.fromSegments(e.noDocument.path),i=D_(e.noDocument.readTime);t=Si.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Bt();{const r=Tt.fromSegments(e.unknownDocument.path),i=D_(e.unknownDocument.version);t=Si.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ji(r[0],r[1]);return un.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(un.min()))return r}return Si.newInvalidDocument(e)}}function iL(n){return new c$(n)}class d$ extends rL{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new xg(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new fi((a,c)=>bn(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const g=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,g.readTime)),c.isValidDocument()){const y=$F(this.Yn.It,c);i=i.add(a.path.popLast()),r+=LT(y)-g.size,t.push(this.Yn.addEntry(e,a,y))}else if(r-=g.size,this.trackRemovals){const y=$F(this.Yn.It,c.convertToNoDocument(un.min()));t.push(this.Yn.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),xe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function sL(n){return Jo(n,"remoteDocumentGlobal")}function x_(n){return Jo(n,"remoteDocumentsV14")}function Y1(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oL(n,e){const t=e.documentKey.path.toArray();return[n,RT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=bn(t[a],r[a]),i)return i;return i=bn(t.length,r.length),i||(i=bn(t[t.length-2],r[r.length-2]),i||bn(t[t.length-1],r[r.length-1]))}class h${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&k1(r.mutation,i,ac.empty(),Ji.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Rn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Rn()){const i=zh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=F1();return a.forEach((g,y)=>{c=c.insert(g,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=zh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Rn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,i){let a=cu();const c=L1(),g=L1();return t.forEach((y,I)=>{const A=r.get(I.key);i.has(I.key)&&(void 0===A||A.mutation instanceof rp)?a=a.insert(I.key,I):void 0!==A&&(c.set(I.key,A.mutation.getFieldMask()),k1(A.mutation,I,A.mutation.getFieldMask(),Ji.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((I,A)=>c.set(I,A)),t.forEach((I,A)=>{var R;return g.set(I,new h$(A,null!==(R=c.get(I))&&void 0!==R?R:null))}),g))}recalculateAndSaveOverlays(e,t){const r=L1();let i=new ws((c,g)=>c-g),a=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(y=>{const I=t.get(y);if(null===I)return;let A=r.get(y)||ac.empty();A=g.applyToLocalView(I,A),r.set(y,A);const R=(i.get(g.batchId)||Rn()).add(y);i=i.insert(g.batchId,R)})}).next(()=>{const c=[],g=i.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),I=y.key,A=y.value,R=_F();A.forEach(H=>{if(!a.has(H)){const Z=lF(t.get(H),r.get(H));null!==Z&&R.set(H,Z),a=a.add(H)}}),c.push(this.documentOverlayCache.saveOverlays(e,I,R))}return xe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Tt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):pN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):xe.resolve(zh());let g=-1,y=a;return c.next(I=>xe.forEach(I,(A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),a.get(A)?xe.resolve():this.getBaseDocument(e,A,R).next(H=>{y=y.insert(A,H)}))).next(()=>this.populateOverlays(e,I,a)).next(()=>this.computeViews(e,y,I,Rn())).next(A=>({batchId:g,changes:mF(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Tt(t)).next(r=>{let i=F1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=F1();return this.indexManager.getCollectionParents(e,i).next(c=>xe.forEach(c,g=>{const y=(I=t,A=g.child(i),new np(A,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,A;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(I=>{I.forEach((A,R)=>{a=a.insert(A,R)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((g,y)=>{const I=y.getKey();null===i.get(I)&&(i=i.insert(I,Si.newInvalidDocument(I)))});let c=F1();return i.forEach((g,y)=>{const I=a.get(g);void 0!==I&&k1(I.mutation,y,ac.empty(),Ji.now()),mN(t,y)&&(c=c.insert(g,y))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):xe.resolve(Si.newInvalidDocument(t))}}class f${constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return xe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Qo(r.createTime)}),xe.resolve()}getNamedQuery(e,t){return xe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:TN(r.bundledQuery),readTime:Qo(r.readTime)}),xe.resolve();var r}}class p${constructor(){this.overlays=new ws(Tt.comparator),this.es=new Map}getOverlay(e,t){return xe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zh();return xe.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),xe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),xe.resolve()}getOverlaysForCollection(e,t,r){const i=zh(),a=t.length+1,c=new Tt(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const y=g.getNext().value,I=y.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ws((I,A)=>I-A);const c=this.overlays.getIterator();for(;c.hasNext();){const I=c.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let A=a.get(I.largestBatchId);null===A&&(A=zh(),a=a.insert(I.largestBatchId,A)),A.set(I.getKey(),I)}}const g=zh(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((I,A)=>g.set(I,A)),!(g.size()>=i)););return xe.resolve(g)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new IN(t,r));let a=this.es.get(t);void 0===a&&(a=Rn(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class xN{constructor(){this.ns=new fi(Xo.ss),this.rs=new fi(Xo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Xo(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Xo(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Tt(new mr([])),r=new Xo(t,e),i=new Xo(t,e+1),a=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Tt(new mr([])),r=new Xo(t,e),i=new Xo(t,e+1);let a=Rn();return this.rs.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Xo(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Xo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Tt.comparator(e.key,t.key)||bn(e._s,t._s)}static os(e,t){return bn(e._s,t._s)||Tt.comparator(e.key,t.key)}}class g${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new fi(Xo.ss)}checkEmpty(e){return xe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const c=new DN(a,t,r,i);this.mutationQueue.push(c);for(const g of i)this.gs=this.gs.add(new Xo(g.key,a)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return xe.resolve(c)}lookupMutationBatch(e,t){return xe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return xe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xo(t,0),i=new Xo(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],c=>{const g=this.ys(c._s);a.push(g)}),xe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fi(bn);return t.forEach(i=>{const a=new Xo(i,0),c=new Xo(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],g=>{r=r.add(g._s)})}),xe.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Tt.isDocumentKey(a)||(a=a.child(""));const c=new Xo(new Tt(a),0);let g=new fi(bn);return this.gs.forEachWhile(y=>{const I=y.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(g=g.add(y._s)),!0)},c),xe.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){fn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return xe.forEach(t.mutations,i=>{const a=new Xo(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Xo(t,0),i=this.gs.firstAfterOrEqual(r);return xe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return xe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class m${constructor(e){this.Es=e,this.docs=new ws(Tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return xe.resolve(r?r.document.mutableCopy():Si.newInvalidDocument(t))}getEntries(e,t){let r=cu();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Si.newInvalidDocument(i))}),xe.resolve(r)}getAllFromCollection(e,t,r){let i=cu();const a=new Tt(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:g,value:{document:y}}=c.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||oN(Sk(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return xe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Bt()}As(e,t){return xe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _$(this)}getSize(e){return xe.resolve(this.size)}}class _$ extends rL{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),xe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class v${constructor(e){this.persistence=e,this.Rs=new xg(t=>v_(t),M1),this.lastRemoteSnapshotVersion=un.min(),this.highestTargetId=0,this.bs=0,this.Ps=new xN,this.targetCount=0,this.vs=S_.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),xe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new S_(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,xe.resolve()}updateTargetData(e,t){return this.Dn(t),xe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),xe.waitFor(a).next(()=>i)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return xe.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),xe.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),xe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),xe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return xe.resolve(r)}containsKey(e,t){return xe.resolve(this.Ps.containsKey(t))}}class uL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new lu(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new v$(this),this.indexManager=new r$,this.remoteDocumentCache=new m$(r=>this.referenceDelegate.xs(r)),this.It=new UF(t),this.Ns=new f$(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new g$(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){lt("MemoryPersistence","Starting transaction:",e);const i=new y$(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,t){return xe.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class y$ extends Ak{constructor(e){super(),this.currentSequenceNumber=e}}class UT{constructor(e){this.persistence=e,this.Fs=new xN,this.$s=null}static Bs(e){return new UT(e)}get Ls(){if(this.$s)return this.$s;throw Bt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),xe.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),xe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Ls,r=>{const i=Tt.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,un.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return xe.or([()=>xe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class b${constructor(e){this.It=e}$(e,t,r,i){const a=new bT("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kF,{unique:!0}),g.createObjectStore("documentMutations"),cL(e),function(g){g.createObjectStore("remoteDocuments")}(e));let c=xe.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),cL(e)),c=c.next(()=>function(g){const y=g.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:un.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",I)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(g,y){return y.store("mutations").W().next(I=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kF,{unique:!0});const A=y.store("mutations"),R=I.map(H=>A.put(H));return xe.waitFor(R)})}(e,a))),c=c.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(a))),r<6&&i>=6&&(c=c.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(a))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(a))),r<11&&i>=11&&(c=c.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:W3});y.createIndex("collectionPathOverlayIndex",z3,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",q3,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:P3});y.createIndex("documentKeyIndex",k3),y.createIndex("collectionGroupIndex",F3)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:$3}).createIndex("sequenceNumberIndex",G3,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:H3}).createIndex("documentKeyIndex",j3,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=LT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>xe.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(g=>xe.forEach(g,y=>{fn(y.userId===a.userId);const I=C_(this.It,y);return JF(e,a.userId,I).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((c,g)=>{const y=new mr(c),I=[0,Dl(y)];a.push(t.get(I).next(A=>A?xe.resolve():t.put({targetId:0,path:Dl(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>xe.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:U3});const r=t.store("collectionParents"),i=new SN,a=c=>{if(i.add(c)){const g=c.lastSegment(),y=c.popLast();return r.put({collectionId:g,parent:Dl(y)})}};return t.store("remoteDocuments").Z({X:!0},(c,g)=>{const y=new mr(c);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,g,y],I)=>{const A=Zh(g);return a(A.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=j1(i),c=GF(this.It,a);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,c)=>{const g=t.store("remoteDocumentsV14"),y=(I=c,I.document?new Tt(mr.fromString(I.document.name).popFirst(5)):I.noDocument?Tt.fromSegments(I.noDocument.path):I.unknownDocument?Tt.fromSegments(I.unknownDocument.path):Bt()).path.toArray();var I;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(g.put(A))}).next(()=>xe.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=iL(this.It),a=new uL(UT.Bs,this.It.re);return r.W().next(c=>{const g=new Map;return c.forEach(y=>{var I;let A=null!==(I=g.get(y.userId))&&void 0!==I?I:Rn();C_(this.It,y).keys().forEach(R=>A=A.add(R)),g.set(y.userId,A)}),xe.forEach(g,(y,I)=>{const A=new Yo(I),R=PT.oe(this.It,A),H=a.getIndexManager(A),Z=BT.oe(A,this.It,H,a.referenceDelegate);return new lL(i,Z,R,H).recalculateAndSaveOverlaysForDocumentKeys(new wN(t,lu.at),y).next()})})}}function cL(n){n.createObjectStore("targetDocuments",{keyPath:B3}).createIndex("documentTargetsIndex",V3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",L3,{unique:!0}),n.createObjectStore("targetGlobal")}const AN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NN{constructor(e,t,r,i,a,c,g,y,I,A,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=c,this.document=g,this.Js=I,this.Ys=A,this.Xs=R,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=H=>Promise.resolve(),!NN.C())throw new et(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new u$(this,i),this.ii=t+"main",this.It=new UF(y),this.ri=new Gd(this.ii,this.Xs,new b$(this.It)),this.Cs=new s$(this.referenceDelegate,this.It),this.remoteDocumentCache=iL(this.It),this.Ns=new Q3,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===A&&$s("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Pe.FAILED_PRECONDITION,AN);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new lu(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$T(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Dg(e))return lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return K1(e).get("owner").next(t=>xe.resolve(this.mi(t)))}gi(e){return $T(e).delete(this.clientId)}yi(){var e=this;return(0,Be.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Jo(r,"clientMetadata");return i.W().next(a=>{const c=e.Ii(a,18e5),g=a.filter(y=>-1===c.indexOf(y));return xe.forEach(g,y=>i.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?xe.resolve(!0):K1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new et(Pe.FAILED_PRECONDITION,AN);return!1}}return!(!this.networkEnabled||!this.inForeground)||$T(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Be.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new wN(t,lu.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>$T(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return BT.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new i$(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return PT.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){lt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?Y3:14===c?VF:13===c?BF:12===c?Z3:11===c?LF:void Bt();var c;let g;return this.ri.runTransaction(e,i,a,y=>(g=new wN(y,this.Ss?this.Ss.next():lu.at),"readwrite-primary"===t?this.fi(g).next(I=>!!I||this.di(g)).next(I=>{if(!I)throw $s(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new et(Pe.FAILED_PRECONDITION,xk);return r(g)}).next(I=>this.wi(g).next(()=>I)):this.Vi(g).next(()=>r(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}Vi(e){return K1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new et(Pe.FAILED_PRECONDITION,AN)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return K1(e).put("owner",t)}static C(){return Gd.C()}_i(e){const t=K1(e);return t.get("owner").next(r=>this.mi(r)?(lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):xe.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&($s(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return lt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $s("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){$s("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function K1(n){return Jo(n,"owner")}function $T(n){return Jo(n,"clientMetadata")}function ON(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class MN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Rn(),i=Rn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new MN(e,t.fromCache,r,i)}}class dL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Mi(e,t,i,r)).next(a=>a||this.Oi(e,t))}ki(e,t){if(Kk(t))return xe.resolve(null);let r=uu(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ET(t,null,"F"),r=uu(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Rn(...a);return this.Ni.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const I=this.Fi(t,g);return this.$i(t,I,c,y.readTime)?this.ki(e,ET(t,null,"F")):this.Bi(e,I,t,y)}))})))}Mi(e,t,r,i){return Kk(t)||i.isEqual(un.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,r,i)?this.Oi(e,t):(rN()<=_g.in.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gN(t)),this.Bi(e,c,t,Ek(i,-1)))})}Fi(e,t){let r=new fi(Xk(e));return t.forEach((i,a)=>{mN(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,t){return rN()<=_g.in.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",gN(t)),this.Ni.getDocumentsMatchingQuery(e,t,oc.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class w${constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new ws(bn),this.qi=new xg(a=>v_(a),M1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function hL(n,e,t,r){return new w$(n,e,t,r)}function fL(n,e){return RN.apply(this,arguments)}function RN(){return RN=(0,Be.Z)(function*(n,e){const t=xt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],g=[];let y=Rn();for(const I of i){c.push(I.batchId);for(const A of I.mutations)y=y.add(A.key)}for(const I of a){g.push(I.batchId);for(const A of I.mutations)y=y.add(A.key)}return t.localDocuments.getDocuments(r,y).next(I=>({ji:I,removedBatchIds:c,addedBatchIds:g}))})})}),RN.apply(this,arguments)}function D$(n,e){const t=xt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,g,y,I){const A=y.batch,R=A.keys();let H=xe.resolve();return R.forEach(Z=>{H=H.next(()=>I.getEntry(g,Z)).next(ue=>{const _e=y.docVersions.get(Z);fn(null!==_e),ue.version.compareTo(_e)<0&&(A.applyToRemoteDocument(ue,y),ue.isValidDocument()&&(ue.setReadTime(y.commitVersion),I.addEntry(ue)))})}),H.next(()=>c.mutationQueue.removeMutationBatch(g,A))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let g=Rn();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(g=g.add(c.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function pL(n){const e=xt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function C$(n,e){const t=xt(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const g=[];e.targetChanges.forEach((A,R)=>{const H=i.get(R);if(!H)return;g.push(t.Cs.removeMatchingKeys(a,A.removedDocuments,R).next(()=>t.Cs.addMatchingKeys(a,A.addedDocuments,R)));let Z=H.withSequenceNumber(a.currentSequenceNumber);var ue,_e,De;e.targetMismatches.has(R)?Z=Z.withResumeToken(To.EMPTY_BYTE_STRING,un.min()).withLastLimboFreeSnapshotVersion(un.min()):A.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(A.resumeToken,r)),i=i.insert(R,Z),_e=Z,De=A,(0===(ue=H).resumeToken.approximateByteSize()||_e.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(a,Z))});let y=cu(),I=Rn();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(a,A))}),g.push(gL(a,c,e.documentUpdates).next(A=>{y=A.Wi,I=A.zi})),!r.isEqual(un.min())){const A=t.Cs.getLastRemoteSnapshotVersion(a).next(R=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));g.push(A)}return xe.waitFor(g).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,I)).next(()=>y)}).then(a=>(t.Ui=i,a))}function gL(n,e,t){let r=Rn(),i=Rn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=cu();return t.forEach((g,y)=>{const I=a.get(g);y.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(g)),y.isNoDocument()&&y.version.isEqual(un.min())?(e.removeEntry(g,y.readTime),c=c.insert(g,y)):!I.isValidDocument()||y.version.compareTo(I.version)>0||0===y.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(y),c=c.insert(g,y)):lt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",I.version," Watch version:",y.version)}),{Wi:c,zi:i}})}function I$(n,e){const t=xt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u0(n,e){const t=xt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,xe.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Ag(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function c0(n,e,t){return PN.apply(this,arguments)}function PN(){return PN=(0,Be.Z)(function*(n,e,t){const r=xt(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Dg(c))throw c;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),PN.apply(this,arguments)}function GT(n,e,t){const r=xt(n);let i=un.min(),a=Rn();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,y,I){const A=xt(g),R=A.qi.get(I);return void 0!==R?xe.resolve(A.Ui.get(R)):A.Cs.getTargetData(y,I)}(r,c,uu(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,g.targetId).next(y=>{a=y})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:un.min(),t?a:Rn())).next(g=>(vL(r,Jk(e),g),{documents:g,Hi:a})))}function mL(n,e){const t=xt(n),r=xt(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(c=>c?c.target:null))}function _L(n,e){const t=xt(n),r=t.Ki.get(e)||un.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Ek(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(vL(t,e,i),i))}function vL(n,e,t){let r=un.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function kN(){return kN=(0,Be.Z)(function*(n,e,t,r){const i=xt(n);let a=Rn(),c=cu();for(const I of t){const A=e.Ji(I.metadata.name);I.document&&(a=a.add(A));const R=e.Yi(I);R.setReadTime(e.Xi(I.metadata.readTime)),c=c.insert(A,R)}const g=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield u0(i,(I=r,uu(Jy(mr.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>gL(I,g,c).next(A=>(g.apply(I),A)).next(A=>i.Cs.removeMatchingKeysForTargetId(I,y.targetId).next(()=>i.Cs.addMatchingKeys(I,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,A.Wi,A.zi)).next(()=>A.Wi)))}),kN.apply(this,arguments)}function E$(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,Be.Z)(function*(n,e,t=Rn()){const r=yield u0(n,uu(TN(e.bundledQuery))),i=xt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Qo(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(a,e);const g=r.withResumeToken(To.EMPTY_BYTE_STRING,c);return i.Ui=i.Ui.insert(g.targetId,g),i.Cs.updateTargetData(a,g).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),FN.apply(this,arguments)}function yL(n,e){return`firestore_clients_${n}_${e}`}function bL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function LN(n,e){return`firestore_targets_${n}_${e}`}class HT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new et(i.error.code,i.error.message))),c?new HT(e,t,i.state,a):($s("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Q1{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new et(r.error.code,r.error.message))),a?new Q1(e,r.state,i):($s("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=NT();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=kk(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new jT(e,a):($s("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class BN{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new BN(t.clientId,t.onlineState):($s("SharedClientState",`Failed to parse online state: ${e}`),null)}}class VN{constructor(){this.activeTargetIds=NT()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ws(bn),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=yL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new VN),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Be.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(yL(e.persistenceKey,i));if(a){const c=jT.Zi(i,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(LN(this.persistenceKey,e));if(r){const i=Q1.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(LN(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return lt("SharedClientState","READ",e,t),t}setItem(e,t){lt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(lt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void $s("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Be.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let c=lu.at;if(null!=a)try{const g=JSON.parse(a);fn("number"==typeof g),c=g}catch(g){$s("SharedClientState","Failed to read sequence number from WebStorage",g)}return c}(r.newValue);i!==lu.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new HT(this.currentUser,e,t,r),a=bL(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=bL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=LN(this.persistenceKey,e),a=new Q1(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return jT.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return HT.Zi(new Yo(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Q1.Zi(i,t)}yr(e){return BN.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),c=[],g=[];return a.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{a.has(y)||g.push(y)}),this.syncEngine.Br(c,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=NT();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class wL{constructor(){this.Lr=new VN,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new VN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class S${qr(e){}shutdown(){}}class DL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const x$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class A${constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class N$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,a){const c=this.ao(e,t);lt("RestConnection","Sending: ",c,r);const g={};return this.ho(g,i,a),this.lo(e,c,g,r).then(y=>(lt("RestConnection","Received: ",y),y),y=>{throw d_("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}fo(e,t,r,i,a,c){return this.co(e,t,r,i,a)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,t){return`${this.oo}/v1/${t}:${x$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((a,c)=>{const g=new SU;g.listenOnce(IU.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case nN.NO_ERROR:const I=g.getResponseJson();lt("Connection","XHR received:",JSON.stringify(I)),a(I);break;case nN.TIMEOUT:lt("Connection",'RPC "'+e+'" timed out'),c(new et(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case nN.HTTP_ERROR:const A=g.getStatus();if(lt("Connection",'RPC "'+e+'" failed with status:',A,"response text:",g.getResponseText()),A>0){const R=g.getResponseJson().error;if(R&&R.status&&R.message){const H=function(Z){const ue=Z.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(ue)>=0?ue:Pe.UNKNOWN}(R.status);c(new et(H,R.message))}else c(new et(Pe.UNKNOWN,"Server responded with status "+g.getStatus()))}else c(new et(Pe.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{lt("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);g.send(t,"POST",y,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=DU(),c=CU(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new EU({})),this.ho(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=i.join("");lt("Connection","Creating WebChannel: "+y,g);const I=a.createWebChannel(y,g);let A=!1,R=!1;const H=new A$({Hr:ue=>{R?lt("Connection","Not sending because WebChannel is closed:",ue):(A||(lt("Connection","Opening WebChannel transport."),I.open(),A=!0),lt("Connection","WebChannel sending:",ue),I.send(ue))},Jr:()=>I.close()}),Z=(ue,_e,De)=>{ue.listen(_e,ot=>{try{De(ot)}catch(ut){setTimeout(()=>{throw ut},0)}})};return Z(I,_T.EventType.OPEN,()=>{R||lt("Connection","WebChannel transport opened.")}),Z(I,_T.EventType.CLOSE,()=>{R||(R=!0,lt("Connection","WebChannel transport closed"),H.io())}),Z(I,_T.EventType.ERROR,ue=>{R||(R=!0,d_("Connection","WebChannel transport errored:",ue),H.io(new et(Pe.UNAVAILABLE,"The operation could not be completed")))}),Z(I,_T.EventType.MESSAGE,ue=>{var _e;if(!R){const De=ue.data[0];fn(!!De);const ot=De,ut=ot.error||(null===(_e=ot[0])||void 0===_e?void 0:_e.error);if(ut){lt("Connection","WebChannel received error:",ut);const vt=ut.status;let it=function(Dt){const rn=lo[Dt];if(void 0!==rn)return pF(rn)}(vt),gt=ut.message;void 0===it&&(it=Pe.INTERNAL,gt="Unknown error status: "+vt+" with message "+ut.message),R=!0,H.io(new et(it,gt)),I.close()}else lt("Connection","WebChannel received:",De),H.ro(De)}}),Z(c,TU.STAT_EVENT,ue=>{ue.stat===bk.PROXY?lt("Connection","Detected buffering proxy"):ue.stat===bk.NOPROXY&&lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.so()},0),H}}function CL(){return typeof window<"u"?window:null}function WT(){return typeof document<"u"?document:null}function J1(n){return new w3(n,!0)}class $N{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&lt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class IL{constructor(e,t,r,i,a,c,g,y){this.Hs=e,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new $N(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Be.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Be.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Be.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Pe.RESOURCE_EXHAUSTED?($s(t.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===Pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new et(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Be.Z)(function*(){e.state=0,e.start()}))}Qo(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O$ extends IL{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function I3(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Bt(),i=e.targetChange.targetIds||[],a=function(y,I){return y.gt?(fn(void 0===I||"string"==typeof I),To.fromBase64String(I||"")):(fn(void 0===I||I instanceof Uint8Array),To.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(y){const I=void 0===y.code?Pe.UNKNOWN:pF(y.code);return new et(I,y.message||"")}(c);t=new yF(r,i,a,g||null)}else if("documentChange"in e){const r=e.documentChange,i=qh(n,r.document.name),a=Qo(r.document.updateTime),c=new ya({mapValue:{fields:r.document.fields}}),g=Si.newFoundDocument(i,a,c);t=new OT(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=qh(n,r.document),a=r.readTime?Qo(r.readTime):un.min(),c=Si.newNoDocument(i,a);t=new OT([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=qh(n,r.document);t=new OT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Bt();{const r=e.filter,a=new f3(r.count||0);t=new vF(r.targetId,a)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return un.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?un.min():a.readTime?Qo(a.readTime):un.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=G1(this.It),t.addTarget=function(i,a){let c;const g=a.target;return c=IT(g)?{documents:AF(i,g)}:{query:NF(i,g)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=CF(i,a.resumeToken):a.snapshotVersion.compareTo(un.min())>0&&(c.readTime=U1(i,a.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function E3(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=G1(this.It),t.removeTarget=e,this.Bo(t)}}class M$ extends IL{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function T3(n,e){return n&&n.length>0?(fn(void 0!==e),n.map(t=>function(r,i){let a=Qo(r.updateTime?r.updateTime:i);return a.isEqual(un.min())&&(a=Qo(i)),new c3(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qo(e.commitTime);return this.listener.Zo(r,t)}return fn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=G1(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>H1(this.It,r))};this.Bo(t)}}class R$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new et(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new et(Pe.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.Vo.fo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new et(Pe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class P${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?($s(t),this.ou=!1):lt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class k${constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(g=>{r.enqueueAndForget((0,Be.Z)(function*(){var y;Mg(c)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Be.Z)(function*(I){const A=xt(I);A._u.add(4),yield d0(A),A.gu.set("Unknown"),A._u.delete(4),yield X1(A)}),function(I){return y.apply(this,arguments)})(c))}))}),this.gu=new P$(r,i)}}function X1(n){return GN.apply(this,arguments)}function GN(){return GN=(0,Be.Z)(function*(n){if(Mg(n))for(const e of n.wu)yield e(!0)}),GN.apply(this,arguments)}function d0(n){return HN.apply(this,arguments)}function HN(){return HN=(0,Be.Z)(function*(n){for(const e of n.wu)yield e(!1)}),HN.apply(this,arguments)}function zT(n,e){const t=xt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),zN(t)?WN(t):f0(t).ko()&&jN(t,e))}function eD(n,e){const t=xt(n),r=f0(t);t.du.delete(e),r.ko()&&TL(t,e),0===t.du.size&&(r.ko()?r.Fo():Mg(t)&&t.gu.set("Unknown"))}function jN(n,e){n.yu.Ot(e.targetId),f0(n).zo(e)}function TL(n,e){n.yu.Ot(e),f0(n).Ho(e)}function WN(n){n.yu=new v3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),f0(n).start(),n.gu.uu()}function zN(n){return Mg(n)&&!f0(n).No()&&n.du.size>0}function Mg(n){return 0===xt(n)._u.size}function EL(n){n.yu=void 0}function F$(n){return qN.apply(this,arguments)}function qN(){return qN=(0,Be.Z)(function*(n){n.du.forEach((e,t)=>{jN(n,e)})}),qN.apply(this,arguments)}function L$(n,e){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,Be.Z)(function*(n,e){EL(n),zN(n)?(n.gu.hu(e),WN(n)):n.gu.set("Unknown")}),ZN.apply(this,arguments)}function B$(n,e,t){return YN.apply(this,arguments)}function YN(){return YN=(0,Be.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof yF&&2===e.state&&e.cause)try{yield(r=(0,Be.Z)(function*(i,a){const c=a.cause;for(const g of a.targetIds)i.du.has(g)&&(yield i.remoteSyncer.rejectListen(g,c),i.du.delete(g),i.yu.removeTarget(g))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qT(n,r)}else if(e instanceof OT?n.yu.Gt(e):e instanceof vF?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(un.min()))try{const r=yield pL(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.yu.te(a);return c.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const I=i.du.get(y);I&&i.du.set(y,I.withResumeToken(g.resumeToken,a))}}),c.targetMismatches.forEach(g=>{const y=i.du.get(g);if(!y)return;i.du.set(g,y.withResumeToken(To.EMPTY_BYTE_STRING,y.snapshotVersion)),TL(i,g);const I=new Ag(y.target,g,1,y.sequenceNumber);jN(i,I)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){lt("RemoteStore","Failed to raise snapshot:",r),yield qT(n,r)}var r}),YN.apply(this,arguments)}function qT(n,e,t){return KN.apply(this,arguments)}function KN(){return KN=(0,Be.Z)(function*(n,e,t){if(!Dg(e))throw e;n._u.add(1),yield d0(n),n.gu.set("Offline"),t||(t=()=>pL(n.localStore)),n.asyncQueue.enqueueRetryable((0,Be.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield X1(n)}))}),KN.apply(this,arguments)}function SL(n,e){return e().catch(t=>qT(n,t,e))}function h0(n){return QN.apply(this,arguments)}function QN(){return QN=(0,Be.Z)(function*(n){const e=xt(n),t=Rg(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;V$(e);)try{const i=yield I$(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,U$(e,i)}catch(i){yield qT(e,i)}xL(e)&&AL(e)}),QN.apply(this,arguments)}function V$(n){return Mg(n)&&n.fu.length<10}function U$(n,e){n.fu.push(e);const t=Rg(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function xL(n){return Mg(n)&&!Rg(n).No()&&n.fu.length>0}function AL(n){Rg(n).start()}function $$(n){return JN.apply(this,arguments)}function JN(){return JN=(0,Be.Z)(function*(n){Rg(n).eu()}),JN.apply(this,arguments)}function G$(n){return XN.apply(this,arguments)}function XN(){return XN=(0,Be.Z)(function*(n){const e=Rg(n);for(const t of n.fu)e.Xo(t.mutations)}),XN.apply(this,arguments)}function H$(n,e,t){return eO.apply(this,arguments)}function eO(){return eO=(0,Be.Z)(function*(n,e,t){const r=n.fu.shift(),i=CN.from(r,e,t);yield SL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield h0(n)}),eO.apply(this,arguments)}function j$(n,e){return tO.apply(this,arguments)}function tO(){return tO=(0,Be.Z)(function*(n,e){var t;e&&Rg(n).Yo&&(yield(t=(0,Be.Z)(function*(r,i){if(fF(a=i.code)&&a!==Pe.ABORTED){const c=r.fu.shift();Rg(r).Oo(),yield SL(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield h0(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),xL(n)&&AL(n)}),tO.apply(this,arguments)}function NL(n,e){return nO.apply(this,arguments)}function nO(){return nO=(0,Be.Z)(function*(n,e){const t=xt(n);t.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const r=Mg(t);t._u.add(3),yield d0(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield X1(t)}),nO.apply(this,arguments)}function rO(n,e){return iO.apply(this,arguments)}function iO(){return iO=(0,Be.Z)(function*(n,e){const t=xt(n);e?(t._u.delete(2),yield X1(t)):e||(t._u.add(2),yield d0(t),t.gu.set("Unknown"))}),iO.apply(this,arguments)}function f0(n){return n.pu||(n.pu=function(e,t,r){const i=xt(e);return i.su(),new O$(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:F$.bind(null,n),Zr:L$.bind(null,n),Wo:B$.bind(null,n)}),n.wu.push(function(){var e=(0,Be.Z)(function*(t){t?(n.pu.Oo(),zN(n)?WN(n):n.gu.set("Unknown")):(yield n.pu.stop(),EL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Rg(n){return n.Iu||(n.Iu=function(e,t,r){const i=xt(e);return i.su(),new M$(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:$$.bind(null,n),Zr:j$.bind(null,n),tu:G$.bind(null,n),Zo:H$.bind(null,n)}),n.wu.push(function(){var e=(0,Be.Z)(function*(t){t?(n.Iu.Oo(),yield h0(n)):(yield n.Iu.stop(),n.fu.length>0&&(lt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class sO{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,g=new sO(e,t,c,i,a);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(n,e){if($s("AsyncQueue",`${e}: ${n}`),Dg(n))return new et(Pe.UNAVAILABLE,`${e}: ${n}`);throw n}class g0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Tt.comparator(t.key,r.key):(t,r)=>Tt.comparator(t.key,r.key),this.keyedMap=F1(),this.sortedSet=new ws(this.comparator)}static emptySet(e){return new g0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof g0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new g0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class OL{constructor(){this.Tu=new ws(Tt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Bt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class m0{constructor(e,t,r,i,a,c,g,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new m0(e,t,g0.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&R1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class W${constructor(){this.Au=void 0,this.listeners=[]}}class z${constructor(){this.queries=new xg(e=>Qk(e),R1),this.onlineState="Unknown",this.Ru=new Set}}function oO(n,e){return aO.apply(this,arguments)}function aO(){return aO=(0,Be.Z)(function*(n,e){const t=xt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new W$),i)try{a.Au=yield t.onListen(r)}catch(c){const g=p0(c,`Initialization of query '${gN(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&cO(t)}),aO.apply(this,arguments)}function lO(n,e){return uO.apply(this,arguments)}function uO(){return uO=(0,Be.Z)(function*(n,e){const t=xt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),uO.apply(this,arguments)}function q$(n,e){const t=xt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const g of c.listeners)g.Pu(i)&&(r=!0);c.Au=i}}r&&cO(t)}function Z$(n,e,t){const r=xt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function cO(n){n.Ru.forEach(e=>{e.next()})}class dO{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new m0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=m0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Y${constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class ML{constructor(e){this.It=e}Ji(e){return qh(this.It,e)}Yi(e){return e.metadata.exists?xF(this.It,e.document,!1):Si.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Qo(e)}}class K${constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RL(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=mr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new ML(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const g=(t.get(c)||Rn()).add(a);t.set(c,g)}}return t}complete(){var e=this;return(0,Be.Z)(function*(){const t=yield function T$(n,e,t,r){return kN.apply(this,arguments)}(e.localStore,new ML(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield E$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function RL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PL{constructor(e){this.key=e}}class kL{constructor(e){this.key=e}}class FL{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Rn(),this.mutatedKeys=Rn(),this.Ku=Xk(e),this.Gu=new g0(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new OL,i=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,g=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,R)=>{const H=i.get(A),Z=mN(this.query,R)?R:null,ue=!!H&&this.mutatedKeys.has(H.key),_e=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let De=!1;H&&Z?H.data.isEqual(Z.data)?ue!==_e&&(r.track({type:3,doc:Z}),De=!0):this.zu(H,Z)||(r.track({type:2,doc:Z}),De=!0,(y&&this.Ku(Z,y)>0||I&&this.Ku(Z,I)<0)&&(g=!0)):!H&&Z?(r.track({type:0,doc:Z}),De=!0):H&&!Z&&(r.track({type:1,doc:H}),De=!0,(y||I)&&(g=!0)),De&&(Z?(c=c.add(Z),a=_e?a.add(A):a.delete(A)):(c=c.delete(A),a=a.delete(A)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const A="F"===this.query.limitType?c.last():c.first();c=c.delete(A.key),a=a.delete(A.key),r.track({type:1,doc:A})}return{Gu:c,Wu:r,$i:g,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((I,A)=>function(R,H){const Z=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return Z(R)-Z(H)}(I.type,A.type)||this.Ku(I.doc,A.doc)),this.Hu(r);const c=t?this.Ju():[],g=0===this.qu.size&&this.current?1:0,y=g!==this.Uu;return this.Uu=g,0!==a.length||y?{snapshot:new m0(this.query,e.Gu,i,a,e.mutatedKeys,0===g,y,!1),Yu:c}:{Yu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new OL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Rn(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new kL(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new PL(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=Rn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return m0.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Q${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class J${constructor(e){this.key=e,this.ec=!1}}class X${constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new xg(g=>Qk(g),R1),this.ic=new Map,this.rc=new Set,this.oc=new ws(Tt.comparator),this.uc=new Map,this.cc=new xN,this.ac={},this.hc=new Map,this.lc=S_.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function eG(n,e){return hO.apply(this,arguments)}function hO(){return hO=(0,Be.Z)(function*(n,e){const t=kO(n);let r,i;const a=t.sc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const c=yield u0(t.localStore,uu(e));t.isPrimaryClient&&zT(t.remoteStore,c);const g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield fO(t,e,r,"current"===g)}return i}),hO.apply(this,arguments)}function fO(n,e,t,r){return pO.apply(this,arguments)}function pO(){return pO=(0,Be.Z)(function*(n,e,t,r){n.dc=(A,R,H)=>{return(Z=(0,Be.Z)(function*(ue,_e,De,ot){let ut=_e.view.ju(De);ut.$i&&(ut=yield GT(ue.localStore,_e.query,!1).then(({documents:gt})=>_e.view.ju(gt,ut)));const vt=ot&&ot.targetChanges.get(_e.targetId),it=_e.view.applyChanges(ut,ue.isPrimaryClient,vt);return IO(ue,_e.targetId,it.Yu),it.snapshot}),function(ue,_e,De,ot){return Z.apply(this,arguments)})(n,A,R,H);var Z};const i=yield GT(n.localStore,e,!0),a=new FL(e,i.Hi),c=a.ju(i.documents),g=V1.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=a.applyChanges(c,n.isPrimaryClient,g);IO(n,t,y.Yu);const I=new Q$(e,t,a);return n.sc.set(e,I),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),pO.apply(this,arguments)}function tG(n,e){return gO.apply(this,arguments)}function gO(){return gO=(0,Be.Z)(function*(n,e){const t=xt(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(a=>!R1(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield c0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),eD(t.remoteStore,r.targetId),_0(t,r.targetId)}).catch(wg))):(_0(t,r.targetId),yield c0(t.localStore,r.targetId,!0))}),gO.apply(this,arguments)}function mO(){return mO=(0,Be.Z)(function*(n,e,t){const r=FO(n);try{const i=yield function(a,c){const g=xt(a),y=Ji.now(),I=c.reduce((H,Z)=>H.add(Z.key),Rn());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Z=cu(),ue=Rn();return g.Gi.getEntries(H,I).next(_e=>{Z=_e,Z.forEach((De,ot)=>{ot.isValidDocument()||(ue=ue.add(De))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,Z)).next(_e=>{A=_e;const De=[];for(const ot of c){const ut=h3(ot,A.get(ot.key).overlayedDocument);null!=ut&&De.push(new rp(ot.key,ut,Gk(ut.value.mapValue),Xi.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,De,c)}).next(_e=>{R=_e;const De=_e.applyToLocalDocumentSet(A,ue);return g.documentOverlayCache.saveOverlays(H,_e.batchId,De)})}).then(()=>({batchId:R.batchId,changes:mF(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,g){let y=a.ac[a.currentUser.toKey()];y||(y=new ws(bn)),y=y.insert(c,g),a.ac[a.currentUser.toKey()]=y}(r,i.batchId,t),yield ip(r,i.changes),yield h0(r.remoteStore)}catch(i){const a=p0(i,"Failed to persist write");t.reject(a)}}),mO.apply(this,arguments)}function LL(n,e){return _O.apply(this,arguments)}function _O(){return _O=(0,Be.Z)(function*(n,e){const t=xt(n);try{const r=yield C$(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.uc.get(a);c&&(fn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ec=!0:i.modifiedDocuments.size>0?fn(c.ec):i.removedDocuments.size>0&&(fn(c.ec),c.ec=!1))}),yield ip(t,r,e)}catch(r){yield wg(r)}}),_O.apply(this,arguments)}function BL(n,e,t){const r=xt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((a,c)=>{const g=c.view.bu(e);g.snapshot&&i.push(g.snapshot)}),function(a,c){const g=xt(a);g.onlineState=c;let y=!1;g.queries.forEach((I,A)=>{for(const R of A.listeners)R.bu(c)&&(y=!0)}),y&&cO(g)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rG(n,e,t){return vO.apply(this,arguments)}function vO(){return vO=(0,Be.Z)(function*(n,e,t){const r=xt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),a=i&&i.key;if(a){let c=new ws(Tt.comparator);c=c.insert(a,Si.newNoDocument(a,un.min()));const g=Rn().add(a),y=new B1(un.min(),new Map,new fi(bn),c,g);yield LL(r,y),r.oc=r.oc.remove(a),r.uc.delete(e),TO(r)}else yield c0(r.localStore,e,!1).then(()=>_0(r,e,t)).catch(wg)}),vO.apply(this,arguments)}function iG(n,e){return yO.apply(this,arguments)}function yO(){return yO=(0,Be.Z)(function*(n,e){const t=xt(n),r=e.batch.batchId;try{const i=yield D$(t.localStore,e);CO(t,r,null),DO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ip(t,i)}catch(i){yield wg(i)}}),yO.apply(this,arguments)}function sG(n,e,t){return bO.apply(this,arguments)}function bO(){return bO=(0,Be.Z)(function*(n,e,t){const r=xt(n);try{const i=yield function(a,c){const g=xt(a);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let I;return g.mutationQueue.lookupMutationBatch(y,c).next(A=>(fn(null!==A),I=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,I,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,I)).next(()=>g.localDocuments.getDocuments(y,I))})}(r.localStore,e);CO(r,e,t),DO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ip(r,i)}catch(i){yield wg(i)}}),bO.apply(this,arguments)}function wO(){return wO=(0,Be.Z)(function*(n,e){const t=xt(n);Mg(t.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=xt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>c.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=p0(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),wO.apply(this,arguments)}function DO(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function CO(n,e,t){const r=xt(n);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function _0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||VL(n,r)})}function VL(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(eD(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),TO(n))}function IO(n,e,t){for(const r of t)r instanceof PL?(n.cc.addReference(r.key,e),aG(n,r)):r instanceof kL?(lt("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||VL(n,r.key)):Bt()}function aG(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(lt("SyncEngine","New document in limbo: "+t),n.rc.add(r),TO(n))}function TO(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Tt(mr.fromString(e)),r=n.lc.next();n.uc.set(r,new J$(t)),n.oc=n.oc.insert(t,r),zT(n.remoteStore,new Ag(uu(Jy(t.path)),r,2,lu.at))}}function ip(n,e,t){return EO.apply(this,arguments)}function EO(){return EO=(0,Be.Z)(function*(n,e,t){const r=xt(n),i=[],a=[],c=[];var g;r.sc.isEmpty()||(r.sc.forEach((g,y)=>{c.push(r.dc(y,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,I.fromCache?"not-current":"current"),i.push(I);const A=MN.Ci(y.targetId,I);a.push(A)}}))}),yield Promise.all(c),r.nc.Wo(i),yield(g=(0,Be.Z)(function*(y,I){const A=xt(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>xe.forEach(I,H=>xe.forEach(H.Si,Z=>A.persistence.referenceDelegate.addReference(R,H.targetId,Z)).next(()=>xe.forEach(H.Di,Z=>A.persistence.referenceDelegate.removeReference(R,H.targetId,Z)))))}catch(R){if(!Dg(R))throw R;lt("LocalStore","Failed to update sequence numbers: "+R)}for(const R of I){const H=R.targetId;if(!R.fromCache){const Z=A.Ui.get(H),_e=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);A.Ui=A.Ui.insert(H,_e)}}}),function(y,I){return g.apply(this,arguments)})(r.localStore,a))}),EO.apply(this,arguments)}function lG(n,e){return SO.apply(this,arguments)}function SO(){return SO=(0,Be.Z)(function*(n,e){const t=xt(n);if(!t.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const r=yield fL(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(c=>{c.forEach(g=>{g.reject(new et(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ip(t,r.ji)}var i}),SO.apply(this,arguments)}function uG(n,e){const t=xt(n),r=t.uc.get(e);if(r&&r.ec)return Rn().add(r.key);{let i=Rn();const a=t.ic.get(e);if(!a)return i;for(const c of a){const g=t.sc.get(c);i=i.unionWith(g.view.Qu)}return i}}function cG(n,e){return xO.apply(this,arguments)}function xO(){return xO=(0,Be.Z)(function*(n,e){const t=xt(n),r=yield GT(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&IO(t,e.targetId,i.Yu),i}),xO.apply(this,arguments)}function dG(n,e){return AO.apply(this,arguments)}function AO(){return AO=(0,Be.Z)(function*(n,e){const t=xt(n);return _L(t.localStore,e).then(r=>ip(t,r))}),AO.apply(this,arguments)}function hG(n,e,t,r){return NO.apply(this,arguments)}function NO(){return NO=(0,Be.Z)(function*(n,e,t,r){const i=xt(n),a=yield function(c,g){const y=xt(c),I=xt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>I.Tn(A,g).next(R=>R?y.localDocuments.getDocuments(A,R):xe.resolve(null)))}(i.localStore,e);var g;null!==a?("pending"===t?yield h0(i.remoteStore):"acknowledged"===t||"rejected"===t?(CO(i,e,r||null),DO(i,e),g=e,xt(xt(i.localStore).mutationQueue).An(g)):Bt(),yield ip(i,a)):lt("SyncEngine","Cannot apply mutation batch with id: "+e)}),NO.apply(this,arguments)}function OO(){return OO=(0,Be.Z)(function*(n,e){const t=xt(n);if(kO(t),FO(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield UL(t,r.toArray());t.fc=!0,yield rO(t.remoteStore,!0);for(const a of i)zT(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(_0(t,c),c0(t.localStore,c,!0))),eD(t.remoteStore,c)}),yield i,yield UL(t,r),function(a){const c=xt(a);c.uc.forEach((g,y)=>{eD(c.remoteStore,y)}),c.cc.fs(),c.uc=new Map,c.oc=new ws(Tt.comparator)}(t),t.fc=!1,yield rO(t.remoteStore,!1)}}),OO.apply(this,arguments)}function UL(n,e,t){return MO.apply(this,arguments)}function MO(){return MO=(0,Be.Z)(function*(n,e,t){const r=xt(n),i=[],a=[];for(const c of e){let g;const y=r.ic.get(c);if(y&&0!==y.length){g=yield u0(r.localStore,uu(y[0]));for(const I of y){const A=r.sc.get(I),R=yield cG(r,A);R.snapshot&&a.push(R.snapshot)}}else{const I=yield mL(r.localStore,c);g=yield u0(r.localStore,I),yield fO(r,$L(I),c,!1)}i.push(g)}return r.nc.Wo(a),i}),MO.apply(this,arguments)}function $L(n){return Yk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pG(n){const e=xt(n);return xt(xt(e.localStore).persistence).vi()}function gG(n,e,t,r){return RO.apply(this,arguments)}function RO(){return RO=(0,Be.Z)(function*(n,e,t,r){const i=xt(n);if(i.fc)return void lt("SyncEngine","Ignoring unexpected query state notification.");const a=i.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield _L(i.localStore,Jk(a[0])),g=B1.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ip(i,c,g);break}case"rejected":yield c0(i.localStore,e,!0),_0(i,e,r);break;default:Bt()}}),RO.apply(this,arguments)}function mG(n,e,t){return PO.apply(this,arguments)}function PO(){return PO=(0,Be.Z)(function*(n,e,t){const r=kO(n);if(r.fc){for(const i of e){if(r.ic.has(i)){lt("SyncEngine","Adding an already active target "+i);continue}const a=yield mL(r.localStore,i),c=yield u0(r.localStore,a);yield fO(r,$L(a),c.targetId,!1),zT(r.remoteStore,c)}for(const i of t)r.ic.has(i)&&(yield c0(r.localStore,i,!1).then(()=>{eD(r.remoteStore,i),_0(r,i)}).catch(wg))}}),PO.apply(this,arguments)}function kO(n){const e=xt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rG.bind(null,e),e.nc.Wo=q$.bind(null,e.eventManager),e.nc._c=Z$.bind(null,e.eventManager),e}function FO(n){const e=xt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sG.bind(null,e),e}class GL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Be.Z)(function*(){t.It=J1(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return hL(this.persistence,new dL,e.initialUser,this.It)}gc(e){return new uL(UT.Bs,this.It)}mc(e){return new wL}terminate(){var e=this;return(0,Be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class HL extends GL{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Be.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield FO(r.Ec.syncEngine),yield h0(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return hL(this.persistence,new dL,e.initialUser,this.It)}Ic(e,t){return new a$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new HU(t,this.persistence);return new GU(e.asyncQueue,r)}gc(e){const t=ON(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?du.withCacheSize(this.cacheSizeBytes):du.DEFAULT;return new NN(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,CL(),WT(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new wL}}class vG extends HL{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Be.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof UN&&(r.sharedClientState.syncEngine={Fr:hG.bind(null,i),$r:gG.bind(null,i),Br:mG.bind(null,i),vi:pG.bind(null,i),Or:dG.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,Be.Z)(function*(c){yield function fG(n,e){return OO.apply(this,arguments)}(r.Ec.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}mc(e){const t=CL();if(!UN.C(t))throw new et(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ON(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class LO{initialize(e,t){var r=this;return(0,Be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>BL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=lG.bind(null,r.syncEngine),yield rO(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new z$}createDatastore(e){const t=J1(e.databaseInfo.databaseId),r=new N$(e.databaseInfo);return new R$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=g=>BL(this.syncEngine,g,0),c=DL.C()?new DL:new S$,new k$(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,g,y,I){const A=new X$(r,i,a,c,g,y);return I&&(A.fc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Be.Z)(function*(t){const r=xt(t);lt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield d0(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jL(n,e=10240){let t=0;return{read:()=>(0,Be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ZT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yG{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Ko,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Be.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Be.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const a=yield e.Dc(i);return new Y$(JSON.parse(a),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Be.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,Be.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class bG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new et(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Be.Z)(function*(a,c){const g=xt(a),y=G1(g.It)+"/documents",I={documents:c.map(Z=>$1(g.It,Z))},A=yield g.fo("BatchGetDocuments",y,I,c.length),R=new Map;A.forEach(Z=>{const ue=function C3(n,e){return"found"in e?function(t,r){fn(!!r.found);const i=qh(t,r.found.name),a=Qo(r.found.updateTime),c=new ya({mapValue:{fields:r.found.fields}});return Si.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){fn(!!r.missing),fn(!!r.readTime);const i=qh(t,r.missing),a=Qo(r.readTime);return Si.newNoDocument(i,a)}(n,e):Bt()}(g.It,Z);R.set(ue.key.toString(),ue)});const H=[];return c.forEach(Z=>{const ue=R.get(Z.toString());fn(!!ue),H.push(ue)}),H}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new r0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Tt.fromPath(i);e.mutations.push(new _N(a,e.precondition(a)))}),yield(r=(0,Be.Z)(function*(i,a){const c=xt(i),g=G1(c.It)+"/documents",y={writes:a.map(I=>H1(c.It,I))};yield c.co("Commit",g,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bt();t=un.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new et(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(un.min())?Xi.exists(!1):Xi.updateTime(t):Xi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(un.min()))throw new et(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xi.updateTime(t)}return Xi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wG{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new $N(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Be.Z)(function*(){const t=new bG(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Oc(a)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!S1(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fF(t)}return!1}}class DG{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Yo.UNAUTHENTICATED,this.clientId=Ik.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Be.Z)(function*(g){lt("FirestoreClient","Received user=",g.uid),yield a.authCredentialListener(g),a.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(lt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=p0(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function WL(n,e){return BO.apply(this,arguments)}function BO(){return BO=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Be.Z)(function*(a){r.isEqual(a)||(yield fL(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),BO.apply(this,arguments)}function zL(n,e){return VO.apply(this,arguments)}function VO(){return VO=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield UO(n);lt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>NL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>NL(e.remoteStore,a)),n.onlineComponents=e}),VO.apply(this,arguments)}function UO(n){return $O.apply(this,arguments)}function $O(){return $O=(0,Be.Z)(function*(n){return n.offlineComponents||(lt("FirestoreClient","Using default OfflineComponentProvider"),yield WL(n,new GL)),n.offlineComponents}),$O.apply(this,arguments)}function YT(n){return GO.apply(this,arguments)}function GO(){return GO=(0,Be.Z)(function*(n){return n.onlineComponents||(lt("FirestoreClient","Using default OnlineComponentProvider"),yield zL(n,new LO)),n.onlineComponents}),GO.apply(this,arguments)}function qL(n){return UO(n).then(e=>e.persistence)}function KT(n){return UO(n).then(e=>e.localStore)}function ZL(n){return YT(n).then(e=>e.remoteStore)}function HO(n){return YT(n).then(e=>e.syncEngine)}function v0(n){return jO.apply(this,arguments)}function jO(){return jO=(0,Be.Z)(function*(n){const e=yield YT(n),t=e.eventManager;return t.onListen=eG.bind(null,e.syncEngine),t.onUnlisten=tG.bind(null,e.syncEngine),t}),jO.apply(this,arguments)}function YL(n,e,t={}){const r=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(i,a,c,g,y){const I=new ZT({next:R=>{a.enqueueAndForget(()=>lO(i,A));const H=R.docs.has(c);!H&&R.fromCache?y.reject(new et(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&g&&"server"===g.source?y.reject(new et(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new dO(Jy(c.path),I,{includeMetadataChanges:!0,Nu:!0});return oO(i,A)}(yield v0(n),n.asyncQueue,e,t,r)})),r.promise}function KL(n,e,t={}){const r=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(i,a,c,g,y){const I=new ZT({next:R=>{a.enqueueAndForget(()=>lO(i,A)),R.fromCache&&"server"===g.source?y.reject(new et(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new dO(c,I,{includeMetadataChanges:!0,Nu:!0});return oO(i,A)}(yield v0(n),n.asyncQueue,e,t,r)})),r.promise}const QL=new Map;function WO(n,e,t){if(!t)throw new et(Pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JL(n,e,t,r){if(!0===e&&!0===r)throw new et(Pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XL(n){if(!Tt.isDocumentKey(n))throw new et(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function e2(n){if(Tt.isDocumentKey(n))throw new et(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Bt()}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new et(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=QT(n);throw new et(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function t2(n,e){if(e<=0)throw new et(Pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class n2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new et(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new et(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tD{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new et(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new et(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new NU;switch(t.type){case"gapi":return new PU(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new et(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QL.get(e);t&&(lt("ComponentProvider","Removing Datastore"),QL.delete(e),t.terminate())}(this),Promise.resolve()}}class Ui{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ui(this.firestore,e,this._key)}}class Wa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class Yh extends Wa{constructor(e,t,r){super(e,t,Jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ui(this.firestore,null,new Tt(e))}withConverter(e){return new Yh(this.firestore,e,this._path)}}function r2(n,e,...t){if(n=(0,Mn.m9)(n),WO("collection","path",e),n instanceof tD){const r=mr.fromString(e,...t);return e2(r),new Yh(n,null,r)}{if(!(n instanceof Ui||n instanceof Yh))throw new et(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mr.fromString(e,...t));return e2(r),new Yh(n.firestore,null,r)}}function JT(n,e,...t){if(n=(0,Mn.m9)(n),1===arguments.length&&(e=Ik.R()),WO("doc","path",e),n instanceof tD){const r=mr.fromString(e,...t);return XL(r),new Ui(n,null,new Tt(r))}{if(!(n instanceof Ui||n instanceof Yh))throw new et(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mr.fromString(e,...t));return XL(r),new Ui(n.firestore,n instanceof Yh?n.converter:null,new Tt(r))}}function s2(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),(n instanceof Ui||n instanceof Yh)&&(e instanceof Ui||e instanceof Yh)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function o2(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),n instanceof Wa&&e instanceof Wa&&n.firestore===e.firestore&&R1(n._query,e._query)&&n.converter===e.converter}class RG{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new $N(this,"async_queue_retry"),this.jc=()=>{const t=WT();t&&lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=WT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=WT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ko;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Be.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Dg(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,$s("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=sO.createAndSchedule(this,e,t,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Bt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Be.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function zO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class PG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ko,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class es extends tD{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new RG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||a2(this),this._firestoreClient.terminate()}}function uo(n){return n._firestoreClient||a2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a2(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zU(n._databaseId,a,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var a,g;n._firestoreClient=new DG(n._authCredentials,n._appCheckCredentials,n._queue,r)}function l2(n,e,t){const r=new Ko;return n.asyncQueue.enqueue((0,Be.Z)(function*(){try{yield WL(n,t),yield zL(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===Pe.FAILED_PRECONDITION||c.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;d_("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function u2(n){if(n._initialized||n._terminated)throw new et(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new et(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kh(To.fromBase64String(e))}catch(t){throw new et(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kh(To.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class A_{constructor(e){this._methodName=e}}class XT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}const jG=/^__.*__$/;class WG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new rp(e,this.data,this.fieldMask,t,this.fieldTransforms):new n0(e,this.data,t,this.fieldTransforms)}}class c2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new rp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class eE{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new eE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return rE(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(d2(this.na)&&jG.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class zG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||J1(e)}fa(e,t,r,i=!1){return new eE({na:e,methodName:t,la:r,path:bs.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function N_(n){const e=n._freezeSettings(),t=J1(n._databaseId);return new zG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tE(n,e,t,r,i,a={}){const c=n.fa(a.merge||a.mergeFields?2:0,e,t,i);KO("Data must be an object, but it was:",c,r);const g=p2(r,c);let y,I;if(a.merge)y=new ac(c.fieldMask),I=c.fieldTransforms;else if(a.mergeFields){const A=[];for(const R of a.mergeFields){const H=QO(e,R,t);if(!c.contains(H))throw new et(Pe.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);m2(A,H)||A.push(H)}y=new ac(A),I=c.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,I=c.fieldTransforms;return new WG(new ya(g),y,I)}class nD extends A_{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nD}}function h2(n,e,t){return new eE({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class qO extends A_{_toFieldTransform(e){return new P1(e.path,new e0)}isEqual(e){return e instanceof qO}}class qG extends A_{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=h2(this,e,!0),r=this.da.map(a=>O_(a,t)),i=new y_(r);return new P1(e.path,i)}isEqual(e){return this===e}}class ZG extends A_{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=h2(this,e,!0),r=this.da.map(a=>O_(a,t)),i=new b_(r);return new P1(e.path,i)}isEqual(e){return this===e}}class YG extends A_{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new t0(e.It,nF(e.It,this._a));return new P1(e.path,t)}isEqual(e){return this===e}}function ZO(n,e,t,r){const i=n.fa(1,e,t);KO("Data must be an object, but it was:",i,r);const a=[],c=ya.empty();p_(r,(y,I)=>{const A=nE(e,y,t);I=(0,Mn.m9)(I);const R=i.ua(A);if(I instanceof nD)a.push(A);else{const H=O_(I,R);null!=H&&(a.push(A),c.set(A,H))}});const g=new ac(a);return new c2(c,g,i.fieldTransforms)}function YO(n,e,t,r,i,a){const c=n.fa(1,e,t),g=[QO(e,r,t)],y=[i];if(a.length%2!=0)throw new et(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<a.length;H+=2)g.push(QO(e,a[H])),y.push(a[H+1]);const I=[],A=ya.empty();for(let H=g.length-1;H>=0;--H)if(!m2(I,g[H])){const Z=g[H];let ue=y[H];ue=(0,Mn.m9)(ue);const _e=c.ua(Z);if(ue instanceof nD)I.push(Z);else{const De=O_(ue,_e);null!=De&&(I.push(Z),A.set(Z,De))}}const R=new ac(I);return new c2(A,R,c.fieldTransforms)}function f2(n,e,t,r=!1){return O_(t,n.fa(r?4:3,e))}function O_(n,e){if(g2(n=(0,Mn.m9)(n)))return KO("Unsupported field value:",e,n),p2(n,e);if(n instanceof A_)return function(t,r){if(!d2(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let g=O_(c,r.ca(a));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nF(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ji.fromDate(t);return{timestampValue:U1(r.It,i)}}if(t instanceof Ji){const i=new Ji(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:U1(r.It,i)}}if(t instanceof XT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kh)return{bytesValue:CF(r.It,t._byteString)};if(t instanceof Ui){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vN(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${QT(t)}`)}(n,e)}function p2(n,e){const t={};return Mk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):p_(n,(r,i)=>{const a=O_(i,e.ia(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function g2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ji||n instanceof XT||n instanceof Kh||n instanceof Ui||n instanceof A_)}function KO(n,e,t){if(!g2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=QT(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function QO(n,e,t){if((e=(0,Mn.m9)(e))instanceof sp)return e._internalPath;if("string"==typeof e)return nE(n,e);throw rE("Field path arguments must be of type string or ",n,!1,void 0,t)}const KG=new RegExp("[~\\*/\\[\\]]");function nE(n,e,t){if(e.search(KG)>=0)throw rE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sp(...e.split("."))._internalPath}catch{throw rE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rE(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(a||c)&&(y+=" (found",a&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new et(Pe.INVALID_ARGUMENT,g+n+y)}function m2(n,e){return n.some(t=>t.isEqual(e))}class rD{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(iE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QG extends rD{data(){return super.data()}}function iE(n,e){return"string"==typeof e?nE(n,e):e instanceof sp?e._internalPath:e._delegate._internalPath}class M_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class op extends rD{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(iE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class iD extends op{data(e={}){return super.data(e)}}class Pg{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new M_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new iD(this._firestore,this._userDataWriter,r.key,r,new M_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new iD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new M_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const g=new iD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new M_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,I=-1;return 0!==c.type&&(y=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),I=a.indexOf(c.doc.key)),{type:JG(c.type),doc:g,oldIndex:y,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function _2(n,e){return n instanceof op&&e instanceof op?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Pg&&e instanceof Pg&&n._firestore===e._firestore&&o2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function v2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new et(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sD{}function kg(n,...e){for(const t of e)n=t._apply(n);return n}class XG extends sD{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=N_(e.firestore),r=function(i,a,c,g,y,I,A){let R;if(y.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new et(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){I2(A,I);const Z=[];for(const ue of A)Z.push(C2(g,i,ue));R={arrayValue:{values:Z}}}else R=C2(g,i,A)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||I2(A,I),R=f2(c,"where",A,"in"===I||"not-in"===I);const H=ba.create(y,I,R);return function(Z,ue){if(ue.dt()){const De=fN(Z);if(null!==De&&!De.isEqual(ue.field))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${ue.field.toString()}'`);const ot=hN(Z);null!==ot&&T2(0,ue.field,ot)}const _e=function(De,ot){for(const ut of De.filters)if(ot.indexOf(ut.op)>=0)return ut.op;return null}(Z,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ue.op));if(null!==_e)throw new et(Pe.INVALID_ARGUMENT,_e===ue.op?`Invalid query. You cannot use more than one '${ue.op.toString()}' filter.`:`Invalid query. You cannot use '${ue.op.toString()}' filters with '${_e.toString()}' filters.`)}(i,H),H}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Wa(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new np(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class tH extends sD{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new et(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new et(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Qy(i,a);return function(g,y){if(null===hN(g)){const I=fN(g);null!==I&&T2(0,I,y.field)}}(r,c),c}(e._query,this.wa,this.ya);return new Wa(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new np(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class y2 extends sD{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new Wa(e.firestore,e.converter,ET(e._query,this.pa,this.Ia))}}class b2 extends sD{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=D2(e,this.type,this.Ta,this.Ea);return new Wa(e.firestore,e.converter,(i=t,new np((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class w2 extends sD{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=D2(e,this.type,this.Ta,this.Ea);return new Wa(e.firestore,e.converter,(i=t,new np((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function D2(n,e,t,r){if(t[0]=(0,Mn.m9)(t[0]),t[0]instanceof rD)return function(i,a,c,g,y){if(!g)throw new et(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const I=[];for(const A of Xy(i))if(A.field.isKeyField())I.push(__(a,g.key));else{const R=g.data.field(A.field);if(uN(R))throw new et(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const H=A.field.canonicalString();throw new et(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}I.push(R)}return new Sg(I,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=N_(n.firestore);return function(a,c,g,y,I,A){const R=a.explicitOrderBy;if(I.length>R.length)throw new et(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let Z=0;Z<I.length;Z++){const ue=I[Z];if(R[Z].field.isKeyField()){if("string"!=typeof ue)throw new et(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ue}`);if(!pN(a)&&-1!==ue.indexOf("/"))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ue}' contains a slash.`);const _e=a.path.child(mr.fromString(ue));if(!Tt.isDocumentKey(_e))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${_e}' is not because it contains an odd number of segments.`);const De=new Tt(_e);H.push(__(c,De))}else{const _e=f2(g,y,ue);H.push(_e)}}return new Sg(H,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function C2(n,e,t){if("string"==typeof(t=(0,Mn.m9)(t))){if(""===t)throw new et(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pN(e)&&-1!==t.indexOf("/"))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mr.fromString(t));if(!Tt.isDocumentKey(r))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return __(n,new Tt(r))}if(t instanceof Ui)return __(n,t._key);throw new et(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QT(t)}.`)}function I2(n,e){if(!Array.isArray(n)||0===n.length)throw new et(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new et(Pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function T2(n,e,t){if(!t.isEqual(e))throw new et(Pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const uH={maxAttempts:5};class JO{convertValue(e,t="none"){switch(m_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ds(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(g_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bt()}}convertObject(e,t){const r={};return p_(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new XT(Ds(e.latitude),Ds(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pk(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(E1(e));default:return null}}convertTimestamp(e){const t=Cg(e);return new Ji(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mr.fromString(e);fn(RF(r));const i=new Ig(r.get(1),r.get(3)),a=new Tt(r.popFirst(5));return i.isEqual(t)||$s(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function sE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class cH extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ui(this.firestore,null,t)}}class E2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=N_(e)}set(e,t,r){this._verifyNotCommitted();const i=Fg(e,this._firestore),a=sE(i.converter,t,r),c=tE(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Xi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Fg(e,this._firestore);let c;return c="string"==typeof(t=(0,Mn.m9)(t))||t instanceof sp?YO(this._dataReader,"WriteBatch.update",a._key,t,r,i):ZO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Xi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fg(e,this._firestore);return this._mutations=this._mutations.concat(new r0(t._key,Xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fg(n,e){if((n=(0,Mn.m9)(n)).firestore!==e)throw new et(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class R_ extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ui(this.firestore,null,t)}}function S2(n,e,t){n=cr(n,Ui);const r=cr(n.firestore,es),i=sE(n.converter,e,t);return y0(r,[tE(N_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Xi.none())])}function x2(n,e,t,...r){n=cr(n,Ui);const i=cr(n.firestore,es),a=N_(i);let c;return c="string"==typeof(e=(0,Mn.m9)(e))||e instanceof sp?YO(a,"updateDoc",n._key,e,t,r):ZO(a,"updateDoc",n._key,e),y0(i,[c.toMutation(n._key,Xi.exists(!0))])}function A2(n,...e){var t,r,i;n=(0,Mn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||zO(e[c])||(a=e[c],c++);const g={includeMetadataChanges:a.includeMetadataChanges};if(zO(e[c])){const R=e[c];e[c]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[c+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[c+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let y,I,A;if(n instanceof Ui)I=cr(n.firestore,es),A=Jy(n._key.path),y={next:R=>{e[c]&&e[c](XO(I,n,R))},error:e[c+1],complete:e[c+2]};else{const R=cr(n,Wa);I=cr(R.firestore,es),A=R._query;const H=new R_(I);y={next:Z=>{e[c]&&e[c](new Pg(I,H,R,Z))},error:e[c+1],complete:e[c+2]},v2(n._query)}return function(R,H,Z,ue){const _e=new ZT(ue),De=new dO(H,_e,Z);return R.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return oO(yield v0(R),De)})),()=>{_e.Rc(),R.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return lO(yield v0(R),De)}))}}(uo(I),A,g,y)}function y0(n,e){return function(t,r){const i=new Ko;return t.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function nG(n,e,t){return mO.apply(this,arguments)}(yield HO(t),r,i)})),i.promise}(uo(n),e)}function XO(n,e,t){const r=t.docs.get(e._key),i=new R_(n);return new op(n,i,e._key,r,new M_(t.hasPendingWrites,t.fromCache),e.converter)}class bH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=N_(e)}get(e){const t=Fg(e,this._firestore),r=new cH(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Bt();const a=i[0];if(a.isFoundDocument())return new rD(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new rD(this._firestore,r,t._key,null,t.converter);throw Bt()})}set(e,t,r){const i=Fg(e,this._firestore),a=sE(i.converter,t,r),c=tE(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Fg(e,this._firestore);let c;return c="string"==typeof(t=(0,Mn.m9)(t))||t instanceof sp?YO(this._dataReader,"Transaction.update",a._key,t,r,i):ZO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Fg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fg(e,this._firestore),r=new R_(this._firestore);return super.get(e).then(i=>new op(this._firestore,r,t._key,i._document,new M_(!1,!1),t.converter))}}function eM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new et("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function O2(){if(typeof Uint8Array>"u")throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function M2(){if(!function jU(){return typeof atob<"u"}())throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){qy=$d.SDK_VERSION,(0,$d._registerComponent)(new Gy.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new es(new MU(t.getProvider("auth-internal")),new kU(t.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new et(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ig(g.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,$d.registerVersion)(wk,"3.5.0",n),(0,$d.registerVersion)(wk,"3.5.0","esm2017")}();class oD{constructor(e){this._delegate=e}static fromBase64String(e){return M2(),new oD(Kh.fromBase64String(e))}static fromUint8Array(e){return O2(),new oD(Kh.fromUint8Array(e))}toBase64(){return M2(),this._delegate.toBase64()}toUint8Array(){return O2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tM(n){return function AH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class NH{enableIndexedDbPersistence(e,t){return function FG(n,e){u2(n=cr(n,es));const t=uo(n),r=n._freezeSettings(),i=new LO;return l2(t,i,new HL(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function LG(n){u2(n=cr(n,es));const e=uo(n),t=n._freezeSettings(),r=new LO;return l2(e,r,new vG(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function BG(n){if(n._initialized&&!n._terminated)throw new et(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ko;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{yield(t=(0,Be.Z)(function*(r){if(!Gd.C())return Promise.resolve();const i=r+"main";yield Gd.delete(i)}),function(r){return t.apply(this,arguments)})(ON(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class R2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ig||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&d_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function OG(n,e,t,r={}){var i;const a=(n=cr(n,tD))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&d_("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,g;if("string"==typeof r.mockUserToken)c=r.mockUserToken,g=Yo.MOCK_USER;else{c=(0,Mn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new et(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Yo(y)}n._authCredentials=new OU(new Dk(c,g))}}(this._delegate,e,t,r)}enableNetwork(){return function UG(n){return function CG(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield qL(n),t=yield ZL(n);return e.setNetworkEnabled(!0),function(r){const i=xt(r);return i._u.delete(0),X1(i)}(t)}))}(uo(n=cr(n,es)))}(this._delegate)}disableNetwork(){return function $G(n){return function IG(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield qL(n),t=yield ZL(n);return e.setNetworkEnabled(!1),(r=(0,Be.Z)(function*(i){const a=xt(i);a._u.add(0),yield d0(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(uo(n=cr(n,es)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,JL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function VG(n){return function(e){const t=new Ko;return e.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function oG(n,e){return wO.apply(this,arguments)}(yield HO(e),t)})),t.promise}(uo(n=cr(n,es)))}(this._delegate)}onSnapshotsInSync(e){return function yH(n,e){return function SG(n,e){const t=new ZT(e);return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return r=yield v0(n),i=t,xt(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return r=yield v0(n),i=t,void xt(r).Ru.delete(i);var r,i}))}}(uo(n=cr(n,es)),zO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new b0(this,r2(this._delegate,e))}catch(t){throw Cl(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xc(this,JT(this._delegate,e))}catch(t){throw Cl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Il(this,function MG(n,e){if(n=cr(n,tD),WO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new et(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wa(n,null,(t=e,new np(mr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Cl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wH(n,e,t){n=cr(n,es);const r=Object.assign(Object.assign({},uH),t);return function(i){if(i.maxAttempts<1)throw new et(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function xG(n,e,t){const r=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){const i=yield(a=n,YT(a).then(c=>c.datastore));var a;new wG(n.asyncQueue,i,t,e,r).run()})),r.promise}(uo(n),i=>e(new bH(n,i)),r)}(this._delegate,t=>e(new P2(this,t)))}batch(){return uo(this._delegate),new k2(new E2(this._delegate,e=>y0(this._delegate,e)))}loadBundle(e){return function GG(n,e){const t=uo(n=cr(n,es)),r=new PG;return function AG(n,e,t,r){const i=function(a,c){let g;return g="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,I){if(y instanceof Uint8Array)return jL(y,I);if(y instanceof ArrayBuffer)return jL(new Uint8Array(y),I);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new yG(y,c);var y}(t,J1(e));n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){!function _G(n,e,t){const r=xt(n);var i;(i=(0,Be.Z)(function*(a,c,g){try{const y=yield c.getMetadata();if(yield function(H,Z){const ue=xt(H),_e=Qo(Z.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",De=>ue.Ns.getBundleMetadata(De,Z.id)).then(De=>!!De&&De.createTime.compareTo(_e)>=0)}(a.localStore,y))return yield c.close(),g._completeWith({taskState:"Success",documentsLoaded:(H=y).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);g._updateProgress(RL(y));const I=new K$(y,a.localStore,c.It);let A=yield c.wc();for(;A;){const H=yield I.Ou(A);H&&g._updateProgress(H),A=yield c.wc()}const R=yield I.complete();return yield ip(a,R.Bu,void 0),yield function(H,Z){const ue=xt(H);return ue.persistence.runTransaction("Save bundle","readwrite",_e=>ue.Ns.saveBundleMetadata(_e,Z))}(a.localStore,y),g._completeWith(R.progress),Promise.resolve(R.$u)}catch(y){return d_("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var H}),function(a,c,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield HO(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function HG(n,e){return function NG(n,e){return n.asyncQueue.enqueue((0,Be.Z)(function*(){return function(t,r){const i=xt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield KT(n),e)}))}(uo(n=cr(n,es)),e).then(t=>t?new Wa(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Il(this,t):null)}}class oE extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new oD(new Kh(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xc.forKey(t,this.firestore,null)}}class P2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new oE(e)}get(e){const t=k_(e);return this._delegate.get(t).then(r=>new aD(this._firestore,new op(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=k_(e);return r?(eM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=k_(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=k_(e);return this._delegate.delete(t),this}}class k2{constructor(e){this._delegate=e}set(e,t,r){const i=k_(e);return r?(eM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=k_(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=k_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class P_{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new iD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lD(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=P_.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new P_(e,new oE(e),t),i.set(t,a)),a}}P_.INSTANCES=new WeakMap;class Xc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xc(t,new Ui(t._delegate,r,new Tt(e)))}static forKey(e,t,r){return new Xc(t,new Ui(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new b0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new b0(this.firestore,r2(this._delegate,e))}catch(t){throw Cl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mn.m9)(e))instanceof Ui&&s2(this._delegate,e)}set(e,t){t=eM("DocumentReference.set",t);try{return t?S2(this._delegate,e,t):S2(this._delegate,e)}catch(r){throw Cl(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?x2(this._delegate,e):x2(this._delegate,e,t,...r)}catch(i){throw Cl(i,"updateDoc()","DocumentReference.update()")}}delete(){return function _H(n){return y0(cr(n.firestore,es),[new r0(n._key,Xi.none())])}(this._delegate)}onSnapshot(...e){const t=F2(e),r=L2(e,i=>new aD(this.firestore,new op(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return A2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function hH(n){n=cr(n,Ui);const e=cr(n.firestore,es),t=uo(e),r=new R_(e);return function TG(n,e){const t=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(r=(0,Be.Z)(function*(i,a,c){try{const g=yield function(y,I){const A=xt(y);return A.persistence.runTransaction("read document","readonly",R=>A.localDocuments.getDocument(R,I))}(i,a);g.isFoundDocument()?c.resolve(g):g.isNoDocument()?c.resolve(null):c.reject(new et(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=p0(g,`Failed to get document '${a} from cache`);c.reject(y)}}),function(i,a,c){return r.apply(this,arguments)})(yield KT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new op(e,r,n._key,i,new M_(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function fH(n){n=cr(n,Ui);const e=cr(n.firestore,es);return YL(uo(e),n._key,{source:"server"}).then(t=>XO(e,n,t))}(this._delegate):function dH(n){n=cr(n,Ui);const e=cr(n.firestore,es);return YL(uo(e),n._key).then(t=>XO(e,n,t))}(this._delegate),t.then(r=>new aD(this.firestore,new op(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xc(this.firestore,this._delegate.withConverter(e?P_.getInstance(this.firestore,e):null))}}function Cl(n,e,t){return n.message=n.message.replace(e,t),n}function F2(n){for(const e of n)if("object"==typeof e&&!tM(e))return e;return{}}function L2(n,e){var t,r;let i;return i=tM(n[0])?n[0]:tM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class aD{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _2(this._delegate,e._delegate)}}class lD extends aD{data(e){const t=this._delegate.data(e);return function AU(n,e){n||Bt()}(void 0!==t),t}}class Il{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oE(e)}where(e,t,r){try{return new Il(this.firestore,kg(this._delegate,function eH(n,e,t){const r=e,i=iE("where",n);return new XG(i,r,t)}(e,t,r)))}catch(i){throw Cl(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Il(this.firestore,kg(this._delegate,function nH(n,e="asc"){const t=e,r=iE("orderBy",n);return new tH(r,t)}(e,t)))}catch(r){throw Cl(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Il(this.firestore,kg(this._delegate,function rH(n){return t2("limit",n),new y2("limit",n,"F")}(e)))}catch(t){throw Cl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Il(this.firestore,kg(this._delegate,function iH(n){return t2("limitToLast",n),new y2("limitToLast",n,"L")}(e)))}catch(t){throw Cl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Il(this.firestore,kg(this._delegate,function sH(...n){return new b2("startAt",n,!0)}(...e)))}catch(t){throw Cl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Il(this.firestore,kg(this._delegate,function oH(...n){return new b2("startAfter",n,!1)}(...e)))}catch(t){throw Cl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Il(this.firestore,kg(this._delegate,function aH(...n){return new w2("endBefore",n,!1)}(...e)))}catch(t){throw Cl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Il(this.firestore,kg(this._delegate,function lH(...n){return new w2("endAt",n,!0)}(...e)))}catch(t){throw Cl(t,"endAt()","Query.endAt()")}}isEqual(e){return o2(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function gH(n){n=cr(n,Wa);const e=cr(n.firestore,es),t=uo(e),r=new R_(e);return function EG(n,e){const t=new Ko;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(r=(0,Be.Z)(function*(i,a,c){try{const g=yield GT(i,a,!0),y=new FL(a,g.Hi),I=y.ju(g.documents),A=y.applyChanges(I,!1);c.resolve(A.snapshot)}catch(g){const y=p0(g,`Failed to execute query '${a} against cache`);c.reject(y)}}),function(i,a,c){return r.apply(this,arguments)})(yield KT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Pg(e,r,n,i))}(this._delegate):"server"===e?.source?function mH(n){n=cr(n,Wa);const e=cr(n.firestore,es),t=uo(e),r=new R_(e);return KL(t,n._query,{source:"server"}).then(i=>new Pg(e,r,n,i))}(this._delegate):function pH(n){n=cr(n,Wa);const e=cr(n.firestore,es),t=uo(e),r=new R_(e);return v2(n._query),KL(t,n._query).then(i=>new Pg(e,r,n,i))}(this._delegate),t.then(r=>new nM(this.firestore,new Pg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=F2(e),r=L2(e,i=>new nM(this.firestore,new Pg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return A2(this._delegate,t,r)}withConverter(e){return new Il(this.firestore,this._delegate.withConverter(e?P_.getInstance(this.firestore,e):null))}}class MH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Il(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lD(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new MH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lD(this._firestore,r))})}isEqual(e){return _2(this._delegate,e._delegate)}}class b0 extends Il{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xc(this.firestore,e):null}doc(e){try{return new Xc(this.firestore,void 0===e?JT(this._delegate):JT(this._delegate,e))}catch(t){throw Cl(t,"doc()","CollectionReference.doc()")}}add(e){return function vH(n,e){const t=cr(n.firestore,es),r=JT(n),i=sE(n.converter,e);return y0(t,[tE(N_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Xi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Xc(this.firestore,t))}isEqual(e){return s2(this._delegate,e._delegate)}withConverter(e){return new b0(this.firestore,this._delegate.withConverter(e?P_.getInstance(this.firestore,e):null))}}function k_(n){return cr(n,Ui)}class rM{constructor(...e){this._delegate=new sp(...e)}static documentId(){return new rM(bs.keyField().canonicalString())}isEqual(e){return(e=(0,Mn.m9)(e))instanceof sp&&this._delegate._internalPath.isEqual(e._internalPath)}}class F_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CH(){return new qO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new F_(e)}static delete(){const e=function DH(){return new nD("deleteField")}();return e._methodName="FieldValue.delete",new F_(e)}static arrayUnion(...e){const t=function IH(...n){return new qG("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new F_(t)}static arrayRemove(...e){const t=function TH(...n){return new ZG("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new F_(t)}static increment(e){const t=function EH(n){return new YG("increment",n)}(e);return t._methodName="FieldValue.increment",new F_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RH={Firestore:R2,GeoPoint:XT,Timestamp:Ji,Blob:oD,Transaction:P2,WriteBatch:k2,DocumentReference:Xc,DocumentSnapshot:aD,Query:Il,QueryDocumentSnapshot:lD,QuerySnapshot:nM,CollectionReference:b0,FieldPath:rM,FieldValue:F_,setLogLevel:function OH(n){!function xU(n){bg.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function kH(n){(function PH(n,e){n.INTERNAL.registerComponent(new Gy.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},RH)))})(n,(e,t)=>new R2(e,t,new NH)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(sP.Z);var aE=j(5363);function B2(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Bo.B)({connector:()=>new Ms(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function V2(n,e){return(0,Ps.m)(e)?qn(()=>n,e):qn(()=>n)}var iM=j(9468);j(5867);const $2=new Map,UH={activated:!1,tokenObservers:[]},$H={initialized:!1,enabled:!1};function ea(n){return $2.get(n)||UH}function Hd(n,e){$2.set(n,e)}function uE(){return $H}class zH{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Be.Z)(function*(){t.stop();try{t.pending=new Mn.BH,yield function qH(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Tl=new Mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function H2(n){if(!ea(n).activated)throw Tl.create("use-before-activation",{appName:n.name})}function lM(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,Be.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const Z=yield c.getHeartbeatsHeader();Z&&(a["X-Firebase-Client"]=Z)}const g={method:"POST",body:JSON.stringify(e),headers:a};let y,I;try{y=yield fetch(n,g)}catch(Z){throw Tl.create("fetch-network-error",{originalErrorMessage:null===(r=Z)||void 0===r?void 0:r.message})}if(200!==y.status)throw Tl.create("fetch-status-error",{httpStatus:y.status});try{I=yield y.json()}catch(Z){throw Tl.create("fetch-parse-error",{originalErrorMessage:null===(i=Z)||void 0===i?void 0:i.message})}const A=I.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw Tl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const R=1e3*Number(A[1]),H=Date.now();return{token:I.token,expireTimeMillis:H+R,issuedAtTimeMillis:H}}),uM.apply(this,arguments)}function QH(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const uD="firebase-app-check-store";let hE=null;function W2(){return hE||(hE=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Tl.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(uD,{keyPath:"compositeKey"})}}catch(r){e(Tl.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),hE)}function cM(){return cM=(0,Be.Z)(function*(n,e){const r=(yield W2()).transaction(uD,"readwrite"),a=r.objectStore(uD).put({compositeKey:n,value:e});return new Promise((c,g)=>{a.onsuccess=y=>{c()},r.onerror=y=>{var I;g(Tl.create("storage-set",{originalErrorMessage:null===(I=y.target.error)||void 0===I?void 0:I.message}))}})}),cM.apply(this,arguments)}const cD=new _g.Yd("@firebase/app-check");function Y2(n,e){return(0,Mn.hl)()?function tj(n,e){return function z2(n,e){return cM.apply(this,arguments)}(function Z2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{cD.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function K2(){return uE().enabled}function Q2(){return pM.apply(this,arguments)}function pM(){return pM=(0,Be.Z)(function*(){const n=uE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pM.apply(this,arguments)}const aj={error:"UNKNOWN_ERROR"};function lj(n){return Mn.US.encodeString(JSON.stringify(n),!1)}function fE(n){return gM.apply(this,arguments)}function gM(){return gM=(0,Be.Z)(function*(n,e=!1){const t=n.app;H2(t);const r=ea(t);let a,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&pE(y)&&(i=y)}if(!e&&i&&pE(i))return{token:i.token};let g,c=!1;if(K2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=lM(QH(t,yield Q2()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),c=!0);const y=yield r.exchangeTokenPromise;return yield Y2(t,y),Hd(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?cD.warn(y.message):cD.error(y),a=y}return i?(g={token:i.token},Hd(t,Object.assign(Object.assign({},r),{token:i})),yield Y2(t,i)):g=cj(a),c&&X2(t,g),g}),gM.apply(this,arguments)}function _M(n,e){const t=ea(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Hd(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function J2(n){const{app:e}=n,t=ea(e);let r=t.tokenRefresher;r||(r=function uj(n){const{app:e}=n;return new zH((0,Be.Z)(function*(){let r;if(r=ea(e).token?yield fE(n,!0):yield fE(n),r.error)throw r.error}),()=>!0,()=>{const t=ea(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Hd(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function X2(n,e){const t=ea(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function pE(n){return n.expireTimeMillis-Date.now()>0}function cj(n){return{token:lj(aj),error:n}}class dj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ea(this.app);for(const t of e)_M(this.app,t.next);return Promise.resolve()}}const aB="app-check-internal";!function Tj(){(0,$d._registerComponent)(new Gy.wA("app-check",n=>function hj(n,e){return new dj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aB).initialize()})),(0,$d._registerComponent)(new Gy.wA(aB,n=>function fj(n){return{getToken:e=>fE(n,e),addTokenListener:e=>function mM(n,e,t,r){const{app:i}=n,a=ea(i),c={next:t,error:r,type:e};if(Hd(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&pE(a.token)){const g=a.token;Promise.resolve().then(()=>{t({token:g.token}),J2(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>J2(n))}(n,"INTERNAL",e),removeTokenListener:e=>_M(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$d.registerVersion)("@firebase/app-check","0.5.12")}();class mE{constructor(){return(0,Ki.vb)("app-check")}}typeof window<"u"&&window;var DM=j(127);const uB=new u.OlP("angularfire2.auth.use-emulator"),cB=new u.OlP("angularfire2.auth.settings"),dB=new u.OlP("angularfire2.auth.tenant-id"),hB=new u.OlP("angularfire2.auth.langugage-code"),fB=new u.OlP("angularfire2.auth.use-device-language"),pB=new u.OlP("angularfire.auth.persistence"),gB=(n,e,t,r,i,a,c,g)=>(0,bl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),c)for(const[I,A]of Object.entries(c))y.settings[I]=A;return g&&y.setPersistence(g),y},[t,r,i,a,c,g]);let CM=(()=>{class n{constructor(t,r,i,a,c,g,y,I,A,R,H,Z){const ue=new zn.x,_e=bt(void 0).pipe((0,aE.Q)(c.outsideAngular),qn(()=>a.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,2476)))),(0,It.U)(()=>(0,bl.on)(t,a,r)),(0,It.U)(De=>gB(De,a,g,I,A,R,y,H)),B2({bufferSize:1,refCount:!1}));if(Hn(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{_e.pipe(Bd()).subscribe();const ot=_e.pipe(qn(it=>it.getRedirectResult().then(gt=>gt,()=>null)),Ki.iC,B2({bufferSize:1,refCount:!1})),ut=_e.pipe(qn(it=>new Ar.y(gt=>({unsubscribe:a.runOutsideAngular(()=>it.onAuthStateChanged(Dt=>gt.next(Dt),Dt=>gt.error(Dt),()=>gt.complete()))})))),vt=_e.pipe(qn(it=>new Ar.y(gt=>({unsubscribe:a.runOutsideAngular(()=>it.onIdTokenChanged(Dt=>gt.next(Dt),Dt=>gt.error(Dt),()=>gt.complete()))}))));this.authState=ot.pipe(V2(ut),(0,iM.R)(c.outsideAngular),(0,aE.Q)(c.insideAngular)),this.user=ot.pipe(V2(vt),(0,iM.R)(c.outsideAngular),(0,aE.Q)(c.insideAngular)),this.idToken=this.user.pipe(qn(it=>it?(0,Wn.D)(it.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(qn(it=>it?(0,Wn.D)(it.getIdTokenResult()):bt(null))),this.credential=(0,qi.T)(ot,ue,this.authState.pipe(ri(it=>!it))).pipe((0,It.U)(it=>it?.user?it:null),(0,iM.R)(c.outsideAngular),(0,aE.Q)(c.insideAngular))}return(0,bl.pX)(this,_e,a,{spy:{apply:(De,ot,ut)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&ut.then(vt=>ue.next(vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bl.Dh),u.LFG(bl.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ki.HU),u.LFG(uB,8),u.LFG(cB,8),u.LFG(dB,8),u.LFG(hB,8),u.LFG(fB,8),u.LFG(pB,8),u.LFG(mE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Oj=(()=>{class n{constructor(){DM.Z.registerVersion("angularfire",Ki.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[CM]}),n})();function mB(n,e){return function Mj(n,e=We.z){return new Ar.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function IM(n,e){return mB(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}function _E(n,e){return IM(n,e).pipe(ca(void 0),mA(),(0,It.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,g)=>{const y=i.find(A=>A.doc.ref.isEqual(c.ref)),I=t?.payload.docs.find(A=>A.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&I&&JSON.stringify(I.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:c}})}),a}))}function _B(n,e,t){return _E(n,t).pipe(Ym((r,i)=>function Pj(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function kj(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),da(),(0,It.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function TM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function vB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class yB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=_E(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ca(void 0),mA(),ri(([r,i])=>i.length>0||!r),(0,It.U)(([r,i])=>i),Ki.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ym((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vB(e);return _B(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ki.iC)}valueChanges(e={}){return IM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ki.iC)}get(e){return(0,Wn.D)(this.query.get(e)).pipe(Ki.iC)}add(e){return this.ref.add(e)}doc(e){return new bB(this.ref.doc(e),this.afs)}}class bB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=CB(r,t);return new yB(i,a,this.afs)}snapshotChanges(){return function Rj(n,e){return mB(n,e).pipe(ca(void 0),mA(),(0,It.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ki.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Wn.D)(this.ref.get(e)).pipe(Ki.iC)}}class Fj{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_E(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ri(t=>t.length>0),Ki.iC):_E(this.query,this.afs.schedulers.outsideAngular).pipe(Ki.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ym((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vB(e);return _B(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ki.iC)}valueChanges(e={}){return IM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ki.iC)}get(e){return(0,Wn.D)(this.query.get(e)).pipe(Ki.iC)}}const wB=new u.OlP("angularfire2.enableFirestorePersistence"),DB=new u.OlP("angularfire2.firestore.persistenceSettings"),Lj=new u.OlP("angularfire2.firestore.settings"),Bj=new u.OlP("angularfire2.firestore.use-emulator");function CB(n,e=(t=>t)){return{query:e(n),ref:n}}let vE=(()=>{class n{constructor(t,r,i,a,c,g,y,I,A,R,H,Z,ue,_e,De,ot,ut){this.schedulers=y;const vt=(0,bl.on)(t,g,r),it=A;R&&gB(vt,g,H,ue,_e,De,Z,ot),[this.firestore,this.persistenceEnabled$]=(0,bl.cc)(`${vt.name}.firestore`,"AngularFirestore",vt.name,()=>{const gt=g.runOutsideAngular(()=>vt.firestore());if(a&&gt.settings(a),it&&gt.useEmulator(...it),i&&!Hn(c)){const Dt=()=>{try{return(0,Wn.D)(gt.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(rn){return typeof console<"u"&&console.warn(rn),bt(!1)}};return[gt,g.runOutsideAngular(Dt)]}return[gt,bt(!1)]},[a,it,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=CB(i,r),g=this.schedulers.ngZone.run(()=>a);return new yB(g,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new Fj(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new bB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bl.Dh),u.LFG(bl.xv,8),u.LFG(wB,8),u.LFG(Lj,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ki.HU),u.LFG(DB,8),u.LFG(Bj,8),u.LFG(CM,8),u.LFG(uB,8),u.LFG(cB,8),u.LFG(dB,8),u.LFG(hB,8),u.LFG(fB,8),u.LFG(pB,8),u.LFG(mE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Vj=(()=>{class n{constructor(){DM.Z.registerVersion("angularfire",Ki.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:wB,useValue:!0},{provide:DB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[vE]}),n})(),EM=(()=>{class n{constructor(t){this.afs=t}getColors(){return this.afs.collection("gloveColors").valueChanges()}getSteps(){return this.afs.collection("gloveSteps",t=>t.orderBy("seqNo","asc")).valueChanges()}getGloveSize(){return this.afs.collection("gloveSize",t=>t.orderBy("seqNo","asc")).valueChanges()}getGloveWebs(){return this.afs.collection("gloveWebs").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w0=(()=>{class n{constructor(t){this.wizardData=t,this.errorLog=[],this.snapLoaded=!1,this.product=new Zn({}),this.product$=this.product.asObservable(),this.storage=new Zn(null),this.storage$=this.storage.asObservable(),this.gloveType=new Zn({name:null,glove:null}),this.gloveType$=this.gloveType.asObservable(),this.fillChange=new zn.x,this.fillChange$=this.fillChange.asObservable(),this.gloveDesign=new Zn(void 0),this.gloveDesign$=this.gloveDesign.asObservable(),this.leatherSelected=new zn.x,this.leatherSelected$=this.leatherSelected.asObservable(),this.gloveColors=new Zn([]),this.gloveColors$=this.gloveColors.asObservable(),this.gloveWebs=new Zn([]),this.gloveWebs$=this.gloveWebs.asObservable(),this.gloveCustom=new Zn(void 0),this.gloveCustom$=this.gloveCustom.asObservable(),this.clearGloveCanvas=()=>{try{this.oView.clear(),this.iView.clear(),this.sView.clear()}catch{}},this.wizardData.getColors().subscribe(r=>{this.gloveColors.next(r)}),this.wizardData.getGloveWebs().pipe((0,It.U)(r=>r.map(i=>({name:i.valueString,...i})))).subscribe(r=>{this.gloveWebs.next(r)}),this.leatherSelected$.subscribe(r=>console.log(r))}init(t){return this.initCanvas()}initCanvas(){var t=this;return(0,Be.Z)(function*(){try{if(t.snapLoaded||(t.svgMain=Snap("#svg-main"),t.svgInside=Snap("#svg-inside"),t.svgSide=Snap("#svg-side"),t.oView=t.svgMain.group(),t.iView=t.svgInside.group(),t.sView=t.svgSide.group(),t.snapLoaded=!0),t._gloveBase===t.gloveBase)return;return t.clearGloveCanvas(),t.loadFbase(),t._gloveBase=t.gloveBase,{loaded:!0}}catch(r){return console.error(r),{loaded:!1,error:r}}})()}setGloveBase(t){this.gloveBase!==t.gloveBase&&(this.clearGloveCanvas(),this.gloveBase=t.gloveBase,this.gloveType.next({name:t.name,glove:t.gloveType}))}setGloveType(t){this.leatherType=t}addVariation(t){t.name.toLowerCase()}applyFilltoCanvas(t){["svg-main:_x5F_:vw3","svg-side:_x5F_:vw2","svg-inside:_x5F_:vw1"].forEach(r=>{const i=r.split(":"),a=i[0],c=`#${this.gloveBase}${i[1]}${i[2]}${i[1]}${t.section}`;switch(document.querySelector(`${c}`),this.fillChange.next({id:t.section,fill:"stroke",color:t.rgb}),a){case"svg-main":case"svg-inside":case"svg-side":if(0!=c.length){if(c.includes("stch")){document.querySelector(`${c}`)?.setAttribute("stroke",t.rgb);break}document.querySelector(`${c}`)?.setAttribute("fill",t.rgb)}}})}logError(t){this.errorLog.push(`Error adding value ${t.err}`)}_applyFormValue(t){const r=t.name.toLowerCase();try{if("steer"===r||"kip"===t.name)return void document.getElementById(`${t.attribute_pewc}`).click();document.getElementById(`${t.attribute_pewc}`).value=r,document.querySelector(`[data-id="${t.attribute_pewc}"]`).dataset.fieldValue=r}catch{}}applyFormValue(t){this._applyFormValue(t)}colorFilter(){let t=[];this.leatherSelected$.subscribe(r=>{this.gloveColors.value.forEach(i=>{"leather"===r?("steer"===r||"kip"===r)&&i.leather.includes(r)&&t.push(i):i.leather.includes(r)&&t.push(i)})})}separatorCheck(t,r){return t.split(r).length>1}triggerAddToCart(){document.getElementsByName("add-to-cart")[0].click()}valueFormatter(t){return t.split(" ").length>1?t=r(t," "):t.split("-").length>1?t=r(t,"-"):i(t);function r(a,c){let g=a.split(c);return g.forEach((y,I)=>{g[I]=i(y)}),g.join(" ")}function i(a){return a.charAt(0).toUpperCase()+a.slice(1)}}setSeriesOnGlove(t,r){0!==r.length&&r.attr({opacity:1,fill:"#FFFAFA"})}resetStitching(){document.querySelectorAll("").forEach(t=>{t.setAttribute("fill","none")})}loadFbase(){const t=this;Snap.load(`${gA_imgSrc}assets/images/nys_fbase_back_view.svg`,function(r){t.svgMain.attr({viewBox:"0 -10 400 400"}),r.selectAll("#fbase_x5F_vw3_x5F_thb, #fbase_x5F_vw3_x5F_bfg, #fbase_x5F_vw3_x5F_plm, #fbase_x5F_vw3_x5F_utoe, #fbase_x5F_vw3_x5F_wst, #fbase_x5F_vw3_x5F_logo, #fbase_x5F_vw3_x5F_web, #fbase_x5F_vw3_x5F_stch, #fbase_x5F_vw3_x5F_bnd, #fbase_x5F_vw3_x5F_lce, #fbase_x5F_vw3_x5F_rise, #fbase_x5F_vw3_x5F_elite, #fbase_x5F_open_x5F_back, #fbase_x5F_logo_x5F_elite, #fbase_x5F_logo_x5F_rise").forEach(function(a,c){const y=["fbase_x5F_vw3_x5F_thb","fbase_x5F_vw3_x5F_bfg","fbase_x5F_vw3_x5F_plm","fbase_x5F_vw3_x5F_utoe","fbase_x5F_vw3_x5F_wst","fbase_x5F_vw3_x5F_logo","fbase_x5F_vw3_x5F_web","fbase_x5F_vw3_x5F_stch","fbase_x5F_vw3_x5F_bnd","fbase_x5F_vw3_x5F_lce","fbase_x5F_vw3_x5F_rise","fbase_x5F_vw3_x5F_elite","fbase_x5F_open_x5F_back","fbase_x5F_logo_x5F_elite","fbase_x5F_logo_x5F_rise"][c],I=y.split("_").pop();yl.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),("rise"===I||"elite"===I)&&(a.attr({opacity:0}),t.setSeriesOnGlove(I,a)),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${gA_imgSrc}assets/images/nys_fbase_inside_view.svg`,function(r){t.svgInside.attr({viewBox:"0 -10 400 400"}),r.selectAll("#fbase_x5F_vw2_x5F_plm, #fbase_x5F_vw2_x5F_bnd, #fbase_x5F_vw2_x5F_web, #fbase_x5F_vw2_x5F_stch, #fbase_x5F_vw2_x5F_lce, #fbase_x5F_open_x5F_pocket").forEach(function(a,c){yl.includes(["fbase_x5F_vw2_x5F_plm","fbase_x5F_vw2_x5F_bnd","fbase_x5F_vw2_x5F_web","fbase_x5F_vw2_x5F_stch","fbase_x5F_vw2_x5F_lce","fbase_x5F_open_x5F_pocket"][c],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(t.iView)})}),Snap.load(`${gA_imgSrc}assets/images/nys_fbase_side_view.svg`,function(r){t.svgSide.attr({viewBox:"-10 0 400 400"}),r.selectAll("#fbase_x5F_vw1_x5F_wst, #fbase_x5F_vw1_x5F_logo, #fbase_x5F_vw1_x5F_plm, #fbase_x5F_vw1_x5F_thb, #fbase_x5F_vw1_x5F_bfg, #fbase_x5F_vw1_x5F_utoe, #fbase_x5F_vw1_x5F_web, #fbase_x5F_vw1_x5F_stch, #fbase_x5F_vw1_x5F_bnd, #fbase_x5F_vw1_x5F_lce, #fbase_x5F_side_x5F_view").forEach(function(a,c){yl.includes(["fbase_x5F_vw1_x5F_wst","fbase_x5F_vw1_x5F_logo","fbase_x5F_vw1_x5F_plm","fbase_x5F_vw1_x5F_thb","fbase_x5F_vw1_x5F_bfg","fbase_x5F_vw1_x5F_utoe","fbase_x5F_vw1_x5F_web","fbase_x5F_vw1_x5F_stch","fbase_x5F_vw1_x5F_bnd","fbase_x5F_vw1_x5F_lce","fbase_x5F_side_x5F_view"][c],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IB={grid:{xs:1,sm:2,md:2,lg:3,all:0},slide:2,speed:400,animation:"lazy",loop:!0,point:{visible:!0},load:2,touch:!0,easing:"ease"};function $j(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngu-tile")(1,"section")(2,"div",4)(3,"div",5)(4,"p",6),u._uU(5),u.qZA()(),u.TgZ(6,"div",5),u._UZ(7,"img",7),u.qZA(),u.TgZ(8,"div",8)(9,"button",9),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.addVariation(a))}),u._uU(10,"Select"),u.qZA()()()()()}if(2&n){const t=e.$implicit;u.xp6(5),u.Oqu(null==t?null:t.name),u.xp6(2),u.Q6J("src",(null==t?null:t.img)||(null==t?null:t.imageUrl),u.LSH)}}let Gj=(()=>{class n{constructor(t){this.gloveApi=t,this.carouselTile=IB}ngOnInit(){this.dataSource.forEach(t=>(t.imageUrl&&(t.img=t.imageUrl,delete t.imageUrl),t)),this.custom=this.gloveApi.gloveCustom$.subscribe(t=>{null!=this.custom&&(this.custom=t)})}addVariation(t){try{if(t.attribute_pewc)return void this.gloveApi.applyFormValue({attribute_pewc:t.attribute_pewc,name:t.name});"webs"===this.currentAttribute.title.toLowerCase()&&(this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89358",name:t.name}),this.custom.pewc_group_89335_89358=t.name,this.gloveApi.gloveCustom.next(this.custom))}catch(r){console.log(r)}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(w0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-input-slider"]],inputs:{dataSource:"dataSource",currentAttribute:"currentAttribute"},decls:4,vars:2,consts:[[3,"inputs","dataSource"],["type","button","NguCarouselPrev","",1,"leftRs"],["type","button","NguCarouselNext","",1,"rightRs"],[4,"nguCarouselDef"],[1,"slide-view_column","py-4","slide-margin"],[1,"slide-view__list","pb-2","my-2"],[2,"font-weight","600"],[1,"img-thumbnail","slide-img-size",3,"src"],[1,"slide-view__list","pt-2","my-2"],["type","button",1,"btn","btn-outline-success",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"ngu-carousel",0),u._UZ(1,"button",1)(2,"button",2),u.YNc(3,$j,11,2,"ngu-tile",3),u.qZA()),2&t&&u.Q6J("inputs",r.carouselTile)("dataSource",r.dataSource)},dependencies:[HC,hx,ey,ty,_w],styles:[".slide-img-size[_ngcontent-%COMP%]{height:150px}.slide-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.slide-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.slide-view__list[_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.slide-margin[_ngcontent-%COMP%]{margin:0 30px}"]}),n})(),Hj=(()=>{class n{constructor(){this.currentTab=new zn.x,this.currentTab$=this.currentTab.asObservable(),this.currentTab.next(0)}nextPrev(t){this.currentTab.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jj(n,e){if(1&n&&(u.TgZ(0,"span",13),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.AsE("",t.index+1," / ",t.sectionLength,"")}}let Wj=(()=>{class n{constructor(t){this.nav=t,this.sectionLength=0,this.lastStep=!1,this.currentTab=0}ngOnInit(){this.nav.currentTab$.subscribe(t=>{this.currentTab=t,this.showTab(t)})}nextPrev(t){if(0!==this.currentTab||-1!==t)return document.getElementsByClassName("tab")[this.currentTab].style.display="none",this.nav.nextPrev(this.currentTab+t),this.currentTab=this.currentTab+t,!1}showTab(t){var r=document.getElementsByClassName("tab");let i=document.getElementById("m-prevBtn"),a=document.getElementById("m-nextBtn");const c=document.querySelectorAll("button#m-nextBtn");r[t].style.display="block",i.style.display=0==t?"none":"inline",t==r.length-1?(a.style.display="none",c[c.length-1].style.display="none"):a.style.display="inline"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Hj))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mobile-navigation"]],inputs:{title:"title",index:"index",sectionLength:"sectionLength",lastStep:"lastStep"},decls:15,vars:2,consts:[[1,"row","mb-3","navigation-header"],[1,"col-3",2,"text-align","right"],["id","m-prevBtn",1,"btn",3,"click"],[2,"text-align","end"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"col-6",2,"text-align","center"],[1,"navigation_label"],["style"," color: rgb(0, 180, 0); ",4,"ngIf"],[1,"col-3"],["id","m-nextBtn",1,"btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right"],["fill-rule","evenodd","d","M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"],[2,"color","rgb(0, 180, 0)"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return r.nextPrev(-1)}),u.TgZ(3,"div",3),u.O4$(),u.TgZ(4,"svg",4),u._UZ(5,"path",5),u.qZA()()()(),u.kcU(),u.TgZ(6,"div",6)(7,"p",7),u._uU(8),u.YNc(9,jj,2,2,"span",8),u.qZA()(),u.TgZ(10,"div",9)(11,"button",10),u.NdJ("click",function(){return r.nextPrev(1)}),u.TgZ(12,"div"),u.O4$(),u.TgZ(13,"svg",11),u._UZ(14,"path",12),u.qZA()()()()()),2&t&&(u.xp6(8),u.hij("",r.title," "),u.xp6(1),u.Q6J("ngIf",r.sectionLength>=1))},dependencies:[Gn],styles:[".bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:28px;height:28px}.navigation_label[_ngcontent-%COMP%]{font-size:1.2rem;margin:unset}.navigation-header[_ngcontent-%COMP%]{align-items:center}@media (max-width: 450px){.bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:20px;height:20px}.navigation_label[_ngcontent-%COMP%]{font-size:1rem;margin:unset}}"]}),n})();function zj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",7)(1,"h4",8),u._uU(2,"Shipping and Returns Policy"),u.qZA(),u.TgZ(3,"button",9),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.KtG(a.dismiss("Cross click"))}),u.qZA()(),u.TgZ(4,"div",10)(5,"p",11),u._uU(6,"Shipping"),u.qZA(),u.TgZ(7,"ul",12)(8,"li",13),u._uU(9,"Please allow 4-6 weeks for delivery. During holiday season delivery times may be longer."),u.qZA(),u.TgZ(10,"li",13),u._uU(11,"Local Pickup is available to NYC customers"),u.qZA(),u.TgZ(12,"li",13),u._uU(13,"Glove must be returned in its original condition."),u.qZA()(),u._UZ(14,"hr"),u.TgZ(15,"p",11),u._uU(16," 100% Refund Policy"),u.qZA(),u.TgZ(17,"ul",12)(18,"li",13),u._uU(19,"24 hours to inspect and evaluate all custom gloves"),u.qZA(),u.TgZ(20,"li",13),u._uU(21,"100% refund due to errors on are part"),u.qZA(),u.TgZ(22,"li",13),u._uU(23,"Glove must be returned in its original condition."),u.qZA()(),u._UZ(24,"hr"),u.TgZ(25,"p",11),u._uU(26," 100% Guarantee Policy"),u.qZA(),u.TgZ(27,"ul",12)(28,"li",13),u._uU(29,"1 year non-transferable warranty on custom gloves"),u.qZA(),u.TgZ(30,"li",13),u._uU(31,"Warranty claims must be initiated via email."),u.qZA(),u.TgZ(32,"li",13),u._uU(33,'"Defective" claims will be repaired or replaced at the discretion of NYStixs.'),u.qZA()()()}}let qj=(()=>{class n{constructor(t){this.modalService=t}ngOnInit(){}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{console.log(`Closed with: ${r}`)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kb))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-policy-modal"]],decls:9,vars:0,consts:[[1,"row"],[1,"btn","btn-clear","d-flex","flex-wrap","justify-content-center","align-items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-circle","mx-2"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"fw-light","fst-italic",2,"margin","unset"],["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h6"],[1,"list-group"],[1,"list-group-item"]],template:function(t,r){if(1&t){const i=u.EpF();u.TgZ(0,"div",0)(1,"button",1),u.NdJ("click",function(){u.CHM(i);const c=u.MAs(8);return u.KtG(r.open(c))}),u.O4$(),u.TgZ(2,"svg",2),u._UZ(3,"path",3)(4,"path",4),u.qZA(),u.kcU(),u.TgZ(5,"p",5),u._uU(6,"Shipping & Returns"),u.qZA()()(),u.YNc(7,zj,34,0,"ng-template",null,6,u.W1O)}}}),n})(),Zj=(()=>{class n{transform(t){if(void 0!==t)return t.split(" ").join("-").toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"dashString",type:n,pure:!0}),n})();const Yj=["mpersonalization"],Kj=["mcustomernotes"];function Qj(n,e){if(1&n){const t=u.EpF();u.ynx(0),u._UZ(1,"input",22),u.TgZ(2,"button",23),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(5);return u.KtG(c.addVariation(a))}),u._uU(3),u.qZA(),u.BQk()}if(2&n){const t=e.$implicit,r=e.index;u.xp6(1),u.hYB("id","",t,"-",r,""),u.xp6(2),u.Oqu(t.name)}}function Jj(n,e){if(1&n&&(u.ynx(0),u.YNc(1,Qj,4,3,"ng-container",0),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngForOf",t.variations)}}function Xj(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",3)(2,"div",4)(3,"div",5),u._UZ(4,"app-mobile-navigation",6),u.TgZ(5,"div",7)(6,"dl",8)(7,"dt",9),u._uU(8," Personalize your glove "),u.qZA(),u.TgZ(9,"dd",10)(10,"div",11)(11,"input",12,13),u.NdJ("keyup",function(){u.CHM(t);const i=u.oxw().$implicit,a=u.oxw(2);return u.KtG(a.addPersonalization(i.gloveInputs[0]))}),u.qZA()()()(),u.TgZ(13,"dl",8),u.ynx(14),u.TgZ(15,"dt",9),u._uU(16," Embroidery Font "),u.qZA(),u.TgZ(17,"dd",14)(18,"div",15),u.YNc(19,Jj,2,1,"ng-container",0),u.qZA()(),u.BQk(),u.qZA(),u.TgZ(20,"dl",8)(21,"dt",9),u._uU(22," Order Notes "),u.qZA(),u.TgZ(23,"dd",10)(24,"div",16)(25,"textarea",17,18),u.NdJ("keyup",function(){u.CHM(t);const i=u.oxw().$implicit,a=u.oxw(2);return u.KtG(a.addOrderNote(i.gloveInputs[2]))}),u.qZA(),u.TgZ(27,"label",19),u._uU(28,"Anything we need to know? "),u.qZA()()()()(),u.TgZ(29,"div",20)(30,"button",21),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(3);return u.KtG(i.triggerAddToCart())}),u._uU(31,"Purchase Your Glove"),u.qZA()(),u._UZ(32,"app-policy-modal"),u.qZA()()(),u.BQk()}if(2&n){const t=u.oxw().$implicit;u.xp6(4),u.Q6J("title","Final Step")("lastStep",!0),u.xp6(15),u.Q6J("ngForOf",t.gloveInputs)}}function e8(n,e){1&n&&(u.TgZ(0,"span",31),u._uU(1,"*"),u.qZA())}function t8(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",3)(2,"div",24)(3,"div",5),u._UZ(4,"app-mobile-navigation",25),u.TgZ(5,"div",26)(6,"div",27)(7,"h5",28),u._uU(8,"Do you want to add a finger pad or hood?"),u.YNc(9,e8,2,0,"span",29),u.qZA(),u._UZ(10,"app-input-slider",30),u.qZA()()()()(),u.BQk()),2&n){const t=u.oxw(),r=t.$implicit,i=t.index;u.xp6(4),u.Q6J("title",r.title)("index",i)("sectionLength",r.gloveInputs.length),u.xp6(5),u.Q6J("ngIf",!0===r.required),u.xp6(1),u.Q6J("dataSource",r.variations)}}function n8(n,e){1&n&&(u.TgZ(0,"span",31),u._uU(1,"*"),u.qZA())}function r8(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",3)(2,"div",24),u._UZ(3,"app-mobile-navigation",25),u.TgZ(4,"div",5)(5,"div",32)(6,"div",33)(7,"h5",28),u._uU(8),u.YNc(9,n8,2,0,"span",29),u.qZA()(),u.TgZ(10,"div",33)(11,"p",34),u._uU(12,"Web Selected: "),u.TgZ(13,"span",35),u._uU(14),u.qZA()()()(),u._UZ(15,"app-input-slider",36),u.qZA()()(),u.BQk()),2&n){const t=u.oxw(),r=t.$implicit,i=t.index,a=u.oxw(2);u.xp6(3),u.Q6J("title",r.title)("index",i)("sectionLength",r.gloveInputs.length),u.xp6(5),u.Oqu(r.title),u.xp6(1),u.Q6J("ngIf",!0===r.required),u.xp6(5),u.Oqu(a.custom.pewc_group_89335_89358||"No Selection"),u.xp6(1),u.Q6J("dataSource",a.filterWebs())("currentAttribute",r)}}function i8(n,e){if(1&n&&(u.TgZ(0,"span",49),u.O4$(),u.TgZ(1,"svg",50),u._UZ(2,"path",51)(3,"path",52),u.qZA()()),2&n){u.oxw();const t=u.MAs(12);u.Q6J("ngbTooltip",t)}}function s8(n,e){1&n&&(u.TgZ(0,"span",31),u._uU(1,"* "),u.qZA())}function o8(n,e){if(1&n&&u._UZ(0,"img",53),2&n){const t=u.oxw().$implicit;u.Q6J("src",t.image,u.LSH)}}function a8(n,e){1&n&&(u.ynx(0),u.TgZ(1,"p"),u._uU(2,"Depending on mitt style, Welt may not be available."),u.qZA(),u.BQk())}function l8(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",54)(2,"p",55),u._uU(3),u.qZA()(),u.BQk()),2&n){const t=u.oxw(3).$implicit;u.xp6(3),u.Oqu(t.info.label)}}function u8(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",56)(2,"button",57),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(2),g=c.$implicit,y=c.index,I=u.oxw(4);return u.KtG(I.addColorVariation(g,a,y))}),u.ALo(3,"dashString"),u.qZA()(),u.BQk()}if(2&n){const t=e.$implicit,r=e.index;u.xp6(2),u.Udp("background",t.hex),u.hYB("id","",u.lcZ(3,5,t.label),"-",r,""),u.s9C("ngbTooltip",t.name)}}function c8(n,e){if(1&n&&(u.ynx(0),u.YNc(1,u8,4,7,"ng-container",0),u.BQk()),2&n){const t=u.oxw().$implicit,r=u.oxw(2).$implicit,i=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",i.colorFilter(r.type,t.gloveType))}}function d8(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",3)(2,"div",37)(3,"div",5),u._UZ(4,"app-mobile-navigation",38),u.TgZ(5,"div",39)(6,"div",33)(7,"h5",28),u._uU(8),u.YNc(9,i8,4,1,"span",40),u.YNc(10,s8,2,0,"span",29),u.YNc(11,o8,1,1,"ng-template",null,41,u.W1O),u.qZA(),u.YNc(13,a8,3,0,"ng-container",42),u.qZA(),u.TgZ(14,"div",43)(15,"p",11),u._uU(16,"Color Selected: "),u.TgZ(17,"span",44),u._uU(18),u.qZA()()()(),u.YNc(19,l8,4,1,"ng-container",42),u._UZ(20,"hr"),u.TgZ(21,"div",45)(22,"div",46)(23,"div",47),u.ynx(24,48),u.YNc(25,c8,2,1,"ng-container",42),u.BQk(),u.qZA()()()()()(),u.BQk()),2&n){const t=e.$implicit,r=e.index,i=u.oxw(2).$implicit,a=u.oxw(2);u.xp6(4),u.Q6J("title",i.title)("index",r)("sectionLength",i.gloveInputs.length),u.xp6(4),u.hij("",t.label," "),u.xp6(1),u.Q6J("ngIf",null!=t.image),u.xp6(1),u.Q6J("ngIf",!0===t.required),u.xp6(3),u.Q6J("ngIf","catcher"==a.gloveType.name&&"Welt Color"==t.label),u.xp6(5),u.Oqu(a.custom[t.attribute_pewc]||"No Selection"),u.xp6(1),u.Q6J("ngIf","Finger Pad Color"===i.title),u.xp6(6),u.Q6J("ngIf",void 0!==a.color&&"Finger Cover"!==i.title)}}function h8(n,e){if(1&n&&(u.ynx(0),u.YNc(1,d8,26,10,"ng-container",0),u.BQk()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngForOf",t.gloveInputs)}}function f8(n,e){if(1&n&&(u.ynx(0),u.YNc(1,Xj,33,3,"ng-container",2),u.YNc(2,t8,11,5,"ng-container",2),u.YNc(3,r8,16,8,"ng-container",2),u.YNc(4,h8,2,1,"ng-container",2),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngSwitchCase","Glove Personalization"===t.title),u.xp6(1),u.Q6J("ngSwitchCase","Finger Cover"===t.title),u.xp6(1),u.Q6J("ngSwitchCase","Webs"===t.title),u.xp6(1),u.Q6J("ngSwitchCase","Glove Personalization"!==t.title)}}function p8(n,e){if(1&n&&(u.ynx(0)(1,1),u.YNc(2,f8,5,4,"ng-container",0),u.BQk()()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngSwitch",!0),u.xp6(1),u.Q6J("ngForOf",t.prompt)}}let g8=(()=>{class n{constructor(t,r){this.gloveApi=t,this.data=r,this.leatherSelected="steer",this.custom={},this.carouselTile=IB,this.currentTab=0}ngAfterViewInit(){this.showTab(this.currentTab)}ngOnInit(){this.gloveApi.leatherSelected$.subscribe(t=>{this.leatherSelected=t}),this.gloveApi.gloveType$.subscribe(t=>{this.gloveType=t}),this.data.getColors().subscribe(t=>{this.color=t}),this.data.getGloveWebs().pipe((0,It.U)(t=>t.map(r=>({name:r.valueString,...r})))).subscribe(t=>{this.webs=t}),this.gloveApi.gloveDesign$.subscribe(t=>{yl.forEach(t,(r,i)=>{yl.forEach(r,(a,c)=>{"prompt"===c&&yl.map(a,(g,y)=>{g.gloveInputs=yl.filter(g.gloveInputs,I=>{if(I.gloveType.includes(this.gloveType.glove)&&I.active)return I})})})}),this.options=t,console.log(this.options)}),this.gloveApi.gloveCustom$.subscribe(t=>{console.log(this.custom),null!=t&&(this.custom=t)})}addColorVariation(t,r,i){const a={attribute:t.attribute_pewc,...r};this.custom[t.attribute_pewc]=r.name,console.log(this.custom),this.gloveApi.gloveCustom.next(this.custom),this.gloveApi.applyFormValue({attribute_pewc:a.attribute,name:a.name}),this.gloveApi.applyFilltoCanvas({section:t.glovePart,hex:r.hex,rgb:r.rgb})}addPersonalization(t){this.gloveApi.applyFormValue({attribute:t.attribute_pewc,name:this.personalization.nativeElement.value})}addOrderNote(t){this.gloveApi.applyFormValue({attribute:t.attribute_pewc,name:this.customernotes.nativeElement.value})}addVariation(t){this.gloveApi.applyFormValue(t)}colorFilter(t,r){const i=t;let a=[];return this.color.forEach(c=>{"leather"===i?("steer"===this.leatherSelected||"kip"===this.leatherSelected)&&c.leather.includes(this.leatherSelected)&&a.push(c):c.leather.includes(i)&&a.push(c)}),a}filterWebs(){return((n,e)=>{let t=[];return null!=n&&(t=n.filter(r=>r.gloveType.find(i=>i===e.name.toLowerCase()))),t})(this.webs,this.gloveType)}filterWebInputs(){let t=[];return null!=this.webs&&(t=this.webs.filter(r=>r.gloveType.find(i=>(console.log(i,this.gloveType.name),i===this.gloveType.name.toLowerCase())))),t}nextPrev(t){if(0!==this.currentTab||-1!==t){var r=document.getElementsByClassName("tab");return r[this.currentTab].style.display="none",this.currentTab=this.currentTab+t,this.currentTab>=r.length||this.showTab(this.currentTab),!1}}onSwipeRight(t){this.showTab(-1)}onSwipeLeft(t){this.showTab(1)}selectWeb(t){console.log(t)}showTab(t){var r=document.getElementsByClassName("tab");let i=document.getElementById("m-prevBtn"),a=document.getElementById("m-nextBtn");r[t].style.display="block",i.style.display=0==t?"none":"inline",t==r.length-1&&(a.style.display="none")}triggerAddToCart(){this.gloveApi.triggerAddToCart()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(w0),u.Y36(EM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mobile-ui"]],viewQuery:function(t,r){if(1&t&&(u.Gf(Yj,5),u.Gf(Kj,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.personalization=i.first),u.iGM(i=u.CRH())&&(r.customernotes=i.first)}},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab"],[1,"card","p-4","border","shadow-lg"],[1,"card-body"],[1,"navigation",3,"title","lastStep"],[1,"row","px-2"],[1,"row","w-100","align-items-center"],[1,"col-sm-12","col-md-5","text-center","mb-2"],[1,"col-sm-12","col-md-7","mb-1"],[1,""],["type","text","id","glove-personalization","placeholder","Glove Personalization",1,"form-control",3,"keyup"],["mpersonalization",""],[1,"col-sm-12","col-md-7","mb-1","d-flex"],[1,"col","main-button-group__item"],[1,"form-floating"],["id","customer-notes","placeholder","Glove Personalization",1,"form-control",2,"height","100px",3,"keyup"],["mcustomernotes",""],["for","customer-notes"],[1,"row","px-5"],["type","button",1,"btn","btn-success","px-5",3,"click"],["type","radio","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","flex-fill","m-2",3,"click"],[1,"card","mx-3","border"],[1,"navigation",3,"title","index","sectionLength"],[1,"row","gy-3","mt-2","px-4",2,"touch-action","none"],[1,"col","mt-0"],[1,"card-title","mb-2"],["class","required",4,"ngIf"],[3,"dataSource"],[1,"required"],[1,"row","gy-3","px-4",2,"touch-action","none"],[1,"col"],[1,"h6"],[2,"color","rgb(0, 0, 0)","font-weight","600","font-style","italic","font-size","1.125em","padding-left","10px"],[3,"dataSource","currentAttribute"],[1,"card","p-4","border"],[3,"title","index","sectionLength"],[1,"row","gy-3"],["triggers","click hover",3,"ngbTooltip",4,"ngIf"],["toolTipContent",""],[4,"ngIf"],[1,"col","progress-hint","pl-3"],[2,"color","rgb(0, 0, 0)"],[1,"row","d-flex","buttons-container"],["id","draggable-container",1,"draggable"],["id","draggableheader",1,"d-flex","flex-wrap",2,"padding","10px"],[1,"col-md","radio-input-container"],["triggers","click hover",3,"ngbTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","black","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"img-thumbnail",3,"src"],[1,"row"],[1,"card-subtitle",2,"font-size","0.875em"],[1,"d-flex","align-items-center","justify-content-center","mx-2","mb-3"],["type","button","tooltipClass","qo-tooltip-class",1,"btn","shadow","radio-buttons",2,"display","flex",3,"id","ngbTooltip","click"]],template:function(t,r){1&t&&(u.ynx(0),u.YNc(1,p8,3,2,"ng-container",0),u.BQk()),2&t&&(u.xp6(1),u.Q6J("ngForOf",r.options))},dependencies:[wi,Gn,ho,ps,RC,Gj,Wj,qj,Zj],styles:[".navigation[_ngcontent-%COMP%]{margin-top:40px}.progress-hint[_ngcontent-%COMP%]{font-size:.875em;color:#5b5a5a}.progress-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-style:italic;font-size:1.125em}hr[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.gesture[_ngcontent-%COMP%]{position:relative;animation:animateright right 15s;animation-iteration-count:1;animation-name:hand}.card[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]{border-top-right-radius:8rem;border-top-left-radius:8rem;-webkit-border-top-left-radius:8rem;-webkit-border-top-right-radius:8rem}.tab[_ngcontent-%COMP%]{display:none}@keyframes hand{0%{right:300px;opacity:0}to{vertical-align:middle;opacity:1}}.qo-tooltip-class[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{width:60px;background-color:purple}.qo-tooltip-class[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:before{border-top-color:purple}.web-buttons[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;margin:2px;display:flex;justify-content:center;vertical-align:center}.web-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;padding:2px}@media screen and (max-width: 492px){h5[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})();function m8(n,e){1&n&&(u.TgZ(0,"p"),u._uU(1,"Toggling this switch will change the leather color palette."),u.qZA())}function _8(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",11)(2,"div",12),u._uU(3,"US Steer"),u.qZA(),u.TgZ(4,"div",13),u.YNc(5,m8,2,0,"ng-template",null,14,u.W1O),u.TgZ(7,"input",15),u.NdJ("change",function(i){u.CHM(t);const a=u.oxw();return u.KtG(a.setLeather(i))}),u.qZA(),u.TgZ(8,"label",16),u._uU(9,"Japanese Kip"),u.qZA()(),u.TgZ(10,"div",17)(11,"p",18),u._uU(12),u.qZA()()(),u.BQk()}if(2&n){const t=e.ngIf,r=u.MAs(6);u.xp6(7),u.Q6J("ngbTooltip",r),u.xp6(5),u.Oqu(t.price)}}function v8(n,e){1&n&&(u.TgZ(0,"div",19),u._uU(1,"NYStix Glove Customizer"),u.qZA(),u.TgZ(2,"div",20)(3,"p",21),u._uU(4,"125.00"),u.qZA()())}function y8(n,e){1&n&&(u.TgZ(0,"div"),u.O4$(),u._UZ(1,"svg",22,23),u.qZA())}function b8(n,e){1&n&&(u.TgZ(0,"div"),u.O4$(),u._UZ(1,"svg",24,25),u.qZA())}function w8(n,e){1&n&&(u.TgZ(0,"div"),u.O4$(),u._UZ(1,"svg",26,27),u.qZA())}let D8=(()=>{class n{constructor(t,r,i){this.gloveApi=r,this.toolTip=i,t.showNavigationArrows=!0,t.showNavigationIndicators=!0,t.interval=5e3,i.closeDelay=500}ngOnInit(){this.product$=this.gloveApi.product$,this.gloveApi.product$.subscribe(t=>{console.log(`Receiving product info ${t}`)})}ngAfterViewInit(){}loadSnap(){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js",t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}setLeather(t){!0===t.target.checked?(this.gloveApi.leatherSelected.next("kip"),console.log("Kip selected"),this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89337_kip",name:"kip"})):(this.gloveApi.leatherSelected.next("steer"),console.log("Steer selected"),this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89337_steer",name:"steer"}));const r=document.getElementById("pewc_total_calc_price");this.gloveApi.product$.pipe(da()).subscribe(i=>{console.log(`Old price: ${i.price}`),console.log(`New price is ${r.value}`),r.value!==i.price?(this.gloveApi.product.next({...i,price:r.value}),console.log({...i,price:r.value})):console.log("Price is the same")})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Wc),u.Y36(w0),u.Y36(lw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-glove-view"]],decls:14,vars:4,consts:[["id","glove-designer",1,"container",2,"padding","unset"],["id","priceContainer",1,"row","p-2"],[4,"ngIf","ngIfElse"],["static",""],["id","gloveContainer",1,"row","text-bg-light","p-3"],[1,"glove-carousel"],["gloveSlide","ngbCarousel"],["ngbSlide","","id","slide-0"],["ngbSlide","","id","slide-1"],["ngbSlide","","id","slide-2"],[1,"row"],[1,"d-inline-flex","justify-content-center","align-items-center"],[1,"fs-6","mx-1","col"],[1,"form-check","col","form-switch","d-flex","justify-content-center","align-items-center"],["tipContent",""],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input","leather-input",3,"ngbTooltip","change"],["for","flexSwitchCheckDefault",1,"form-check-label","fs-6"],[1,"col-xs-2","col-sm-3","col-4","text-end",2,"padding","2px"],[1,"h2"],[1,"col-6"],[1,"col-6","text-end"],[1,"h4"],["id","svg-main"],["svgMain",""],["id","svg-inside"],["svgInside",""],["id","svg-side"],["svgSide",""]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,_8,13,2,"ng-container",2),u.ALo(3,"async"),u.YNc(4,v8,5,0,"ng-template",null,3,u.W1O),u.qZA(),u.TgZ(6,"div",4)(7,"ngb-carousel",5,6),u.YNc(9,y8,3,0,"ng-template",7),u.YNc(10,b8,3,0,"ng-template",8),u.YNc(11,w8,3,0,"ng-template",9),u.qZA()(),u.TgZ(12,"div",10),u._UZ(13,"app-mobile-ui"),u.qZA()()),2&t){const i=u.MAs(5);u.xp6(2),u.Q6J("ngIf",u.lcZ(3,2,r.product$))("ngIfElse",i)}},dependencies:[Gn,Mb,Fh,RC,g8,an],styles:[".accordion-body[_ngcontent-%COMP%]{padding:unset!important}#gloveContainer[_ngcontent-%COMP%]{background-color:#7e8287}#gloveContainer.sticky[_ngcontent-%COMP%]{position:fixed;width:35%;top:0;z-index:15}.glove-carousel[_ngcontent-%COMP%]{background:#bfbfbf}.clone-container[_ngcontent-%COMP%]{display:flex;align-content:space-between}.clone-container_items[_ngcontent-%COMP%]{display:flex;width:100%}.clone-image[_ngcontent-%COMP%]{width:200px}.mobile-mode[_ngcontent-%COMP%]{display:none;margin-top:-100px;z-index:100}.h1[_ngcontent-%COMP%]{font-size:calc(.6rem + 1.5vw)}.leather-input[_ngcontent-%COMP%]{width:50px;margin-right:25px}@media (max-width: 991px){.mobile-mode[_ngcontent-%COMP%]{display:block}.fs-6[_ngcontent-%COMP%]{font-size:.8rem!important}}@media (min-width: 768px){.mobile-mode[_ngcontent-%COMP%]{margin-top:-50px}}@media (max-width: 580px){.mobile-mode[_ngcontent-%COMP%]{margin-top:-25px}}@media (max-width: 390px){.h1[_ngcontent-%COMP%]{font-size:calc(.9rem + 1.5vw)}}"]}),n})();const C8=["buttonUi"],I8=["personalization"];function T8(n,e){1&n&&(u.TgZ(0,"div",1)(1,"div",5),u._UZ(2,"app-glove-view"),u.qZA()())}let E8=(()=>{class n{constructor(t,r,i,a){this.gloveApi=t,this.tooltip=r,this.afs=i,this.sanitizer=a,this.custom=[],this.accordionIds=[],this.domResponse={},this.tooltip.placement="right",this.tooltip.triggers="hover"}ngOnInit(){this.gloveApi.leatherSelected$.subscribe(t=>{this.leatherSelected=t}),this.gloveApi.gloveType$.subscribe(t=>{this.gloveType=t}),this.gloveApi.gloveDesign$.subscribe(t=>{console.log(t),yl.forEach(t,(r,i)=>{yl.forEach(r,(a,c)=>{"prompt"===c&&yl.map(a,(g,y)=>{g.active&&(console.log(g.active),g.gloveInputs=yl.filter(g.gloveInputs,I=>{if(I.gloveType.includes(this.gloveType.glove)&&I.active)return I}))})})}),this.options=t})}ngAfterViewInit(){this.gloveApi.init()}addVariation(t){this.gloveApi.applyFormValue(t)}triggerAddToCart(){this.gloveApi.triggerAddToCart()}addPersonalization(t){this.gloveApi.applyFormValue({attribute:t.attribute_pewc,name:this.personalization.nativeElement.value})}urlSanitizer(t){return this.sanitizer.bypassSecurityTrustResourceUrl(`https:${t}`)}panelChange(t){if(this.domResponse[t]){const i=this.domResponse[t];document.querySelectorAll("button.btn").length>0&&document.querySelectorAll("button.btn").forEach(a=>{a.classList.remove("active"),a.innerText.toLowerCase()===i.name.toLowerCase()&&a.classList.add("active"),a.innerText===i&&a.classList.add("active")})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(w0),u.Y36(lw),u.Y36(vE),u.Y36(Pu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-glove-ui"]],viewQuery:function(t,r){if(1&t&&(u.Gf(C8,5),u.Gf(I8,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.buttonUi=i.first),u.iGM(i=u.CRH())&&(r.personalization=i.first)}},features:[u._Bn([P])],decls:5,vars:1,consts:[[1,"container",2,"padding","unset"],[1,"row"],["activeIds","main-0",3,"destroyOnHide"],["id","main-0","title","Glove Designer"],["ngbPanelContent",""],[1,"col-sm-12"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"ngb-accordion",2)(3,"ngb-panel",3),u.YNc(4,T8,3,0,"ng-template",4),u.qZA()()()()),2&t&&(u.xp6(2),u.Q6J("destroyOnHide",!1))},dependencies:[Qe,je,fe,D8],styles:[".ngb-padding[_ngcontent-%COMP%]{padding:0 6px}ngb-accordion[_ngcontent-%COMP%]{padding:0 6px}.info-modal[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:10px}.custom-header-button.accordion-button[_ngcontent-%COMP%]{--bs-accordion-active-color: #fff;--bs-accordion-btn-active-icon: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'><path fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/></svg>\")}.numberCircle[_ngcontent-%COMP%]{border-radius:50%;width:1.8rem;height:1.8rem;padding:8px;background:#fff;border:2px solid #666;color:#666;text-align:center;font:1rem Arial,sans-serif}.web-buttons[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;margin:2px;display:flex;justify-content:center;vertical-align:center}.web-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;padding:2px}.form-group[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin:.25rem}.fpad-img-size[_ngcontent-%COMP%]{width:auto;height:172px}.fpad-web-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.fpad-web-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.fpad-web-view__list[_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.fpad-margin[_ngcontent-%COMP%]{margin:0 30px}.glove-brand-img-size[_ngcontent-%COMP%]{width:206px;height:100px}.glove-brand-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.glove-brand-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.glove-brand-margin[_ngcontent-%COMP%]{margin:0 30px}section[_ngcontent-%COMP%]{display:flex;justify-content:center}.desktop-mode[_ngcontent-%COMP%]{display:block}@media (max-width: 991px){.desktop-mode[_ngcontent-%COMP%]{display:none}}"]}),n})();const S8=[{attribute_pewc:"pewc_group_89335_89339",name:'10.5"',glove:["infielder","pitcher"],seqNo:1},{attribute_pewc:"pewc_group_89335_89339",glove:["infielder","pitcher"],seqNo:2,name:'11"'},{seqNo:3,glove:["infielder","pitcher"],name:'11.5"',attribute_pewc:"pewc_group_89335_89339"},{glove:["infielder","pitcher"],seqNo:4,attribute_pewc:"pewc_group_89335_89339",name:'11.75"'},{attribute_pewc:"pewc_group_89335_89339",seqNo:5,glove:["infielder","pitcher"],name:'12"'},{seqNo:6,glove:["outfielder","pitcher","first base","1st base"],name:'12.5"',attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder"],name:'12.75"',seqNo:7,attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder","first base","1st base"],attribute_pewc:"pewc_group_89335_89339",name:'13"',seqNo:8},{seqNo:9,glove:["outfielder","first base","1st base"],attribute_pewc:"pewc_group_89335_89339",name:'14"'},{name:'32"',attribute_pewc:"pewc_group_89335_89339",seqNo:10,glove:[]},{seqNo:11,attribute_pewc:"pewc_group_89335_89339",name:'32.50"',glove:["catcher"]},{glove:[],attribute_pewc:"pewc_group_89335_89339",seqNo:12,name:'33"'},{seqNo:13,name:'33.50"',glove:["catcher"],attribute_pewc:"pewc_group_89335_89339"},{name:'34"',attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:14},{name:'34.50"',attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:15}],x8=[{seqNo:1,id:"main-",disabled:!1,includeOptions:!1,title:"Glove Type",label:"Glove Type:",variations:[{attribute_pewc:"pewc_group_89335_89336",name:"Baseball",label:"Glove Type"},{label:"Glove Type",name:"Softball",attribute_pewc:"pewc_group_89335_89336"}]},{seqNo:2,id:"main-",disabled:!1,includeOptions:!1,attribute_pewc:"pewc_group_89335_89339",label:"Glove Size",title:"Glove Size",options:[],variations:[]},{seqNo:3,id:"main-",attribute_pewc:"pewc_group_89335_89340",disabled:!1,includeOptions:!1,label:"Throwing Arm",title:"Throwing Arm",options:[],variations:[{name:"Right Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340"},{name:"Left Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340"}]},{seqNo:4,id:"main-",disabled:!1,label:"Glove Brand",title:"Glove Brand",includeOptions:!0,options:[],info:{title:"<h3>What is the difference between NYStix and 9P?</h3>",content:"<p>NYStix was created to fulfill a need for better baseball equipment in the parks of New York City and Long Island. <br> 9P (9Positions) is a brand created for the world.</p>"},variations:[{id:"pa_glove-brand",valueString:"NYStix",attribute_pewc:"pewc_group_89335_89341",img:"https://nystix.com/wp-content/uploads/2021/10/nystix.svg",value:"nystix",name:"NYStix"},{name:"9Positions",value:"9positions",attribute_pewc:"pewc_group_89335_89341",img:"https://nystix.com/wp-content/uploads/2021/10/nine-positions.svg",id:"pa_glove-brand",valueString:"9Positions"},{attribute_pewc:"pewc_group_89335_89341",img:"//nystix.com/wp-content/uploads/2021/10/nystix-alt.svg",value:"nystix-alt",valueString:"NYStix Alt",id:"pa_glove-brand",name:"NYStix Alt"}]},{seqNo:5,id:"main-",disabled:!1,includeOptions:!0,contents:[],title:"Glove Designer",label:"Glove Designer",options:[{id:"",type:"leather",title:"",label:"Surface Leather",header:"glove-design-",info:{description:null,label:null},input:"buttons",prompt:[{active:!0,title:"Glove Shell",elementRef:"radio",type:"leather",gloveInputs:[{glovePart:"thb",fingerId:"1",label:"Thumb Finger",gloveType:["mitt"],attribute_wp:"pa_thumb-finger-color",attribute_pewc:"pewc_group_89335_89342",image:null,required:!0,active:!0},{glovePart:"bfg",attribute_pewc:"pewc_group_89335_89343",label:"Back Finger",gloveType:["mitt"],fingerId:"2",attribute_wp:"pa_back-finger-color",required:!0,active:!0},{glovePart:"thbo",attribute_pewc:"pewc_group_89335_89344",gloveType:["glove"],label:"Thumb Outer",attribute_wp:"pa_thumb-outer-color",image:null,fingerId:"1",required:!0,active:!0},{attribute_wp:"pa_thumb-inner-color",glovePart:"thbi",label:"Thumb Inner",attribute_pewc:"pewc_group_89335_89345",image:null,gloveType:["glove"],fingerId:"2",required:!0,active:!0},{fingerId:"3",gloveType:["glove"],label:"Index Inner",glovePart:"indi",attribute_pewc:"pewc_group_89335_89346",attribute_wp:"pa_index-inside-color",required:!0,image:null,active:!0},{glovePart:"indo",attribute_wp:"pa_index-outer-color",fingerId:"4",gloveType:["glove"],label:"Index Outer",attribute_pewc:"pewc_group_89335_89347",required:!0,image:null,active:!0},{fingerId:"5",label:"Middle Inner",gloveType:["glove"],glovePart:"midi",attribute_pewc:"pewc_group_89335_89348",attribute_wp:"pa_middle-finger-color",required:!0,image:null,active:!0},{attribute_wp:"pa_middle-finger-color",fingerId:"5",glovePart:"mido",gloveType:["glove"],label:"Middle Outer",attribute_pewc:"pewc_group_89335_89349",image:null,required:!0,active:!0},{gloveType:["glove"],fingerId:"6",attribute_pewc:"pewc_group_89335_89350",label:"Ring Inner",attribute_wp:"pa_ring-inner-color",glovePart:"rngi",required:!0,image:null,active:!0},{attribute_wp:"pa_ring-outer-color",attribute_pewc:"pewc_group_89335_89351",fingerId:"7",label:"Ring Outer",glovePart:"rngo",gloveType:["glove"],required:!0,image:null,active:!0},{fingerId:"8",gloveType:["glove"],attribute_pewc:"pewc_group_89335_89352",glovePart:"pnki",label:"Pinky Inner",attribute_wp:"pa_pinky-inside-color",required:!0,image:null,active:!0},{label:"Pinky Outer",gloveType:["glove"],attribute_wp:"pa_pinky-outside-color",fingerId:"9",glovePart:"pnko",attribute_pewc:"pewc_group_89335_89353",required:!0,image:null,active:!0},{fingerId:"10",gloveType:["glove","mitt"],attribute_pewc:"pewc_group_89335_89354",label:"Wrist Color",attribute_wp:"pa_wrist-color",glovePart:"wst",required:!0,image:null,active:!0}],info:{description:null,label:null}},{title:"Glove Pocket",header:"glove-design-",type:"leather",elementRef:"radio",active:!0,info:{label:null,description:null},gloveInputs:[{attribute_pewc:"pewc_group_89335_89355",attribute_wp:"pa_palm-color",glovePart:"plm",gloveType:["glove","mitt"],fingerId:"11",label:"Palm Color",required:!0,active:!0,image:null},{attribute_pewc:"pewc_group_89335_90148",attribute_wp:"pa_lining-color",glovePart:"lin",gloveType:["glove","mitt"],fingerId:"11",label:"Lining",required:!0,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/palm-lining.jpg",info:{label:null,description:"The palm lining is inside of the glove. The color will not be visible."}},{attribute_pewc:"pewc_group_89335_89356",attribute_wp:"pa_palm-color",glovePart:"tgt",gloveType:["mitt"],fingerId:"11",label:"Target Color",required:!1,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/target-samples.jpg"}]},{title:"Finger Loop",header:"glove-design-",active:!1,type:"leather",elementRef:"radio",gloveInputs:[{attribute_wp:"",glovePart:"fstrap",attribute_pewc:"pewc_group_89335_89357",fingerId:"11",gloveType:["mitt","glove"],label:"Thumb/Little Finger Strap",required:!1,active:!1,image:null}],info:{label:null,description:"Finger loops are the laces that secure the thumbs and pinky fingers."}}]},{label:"Glove Web",header:"glove-web-",id:"static-",input:"buttons",type:"leather",info:{label:null,description:"Swipe to view all web options and select the web for your glove. "},prompt:[{active:!0,title:"Webs",attribute_pewc:"pewc_group_89335_89358",header:"",elementRef:"radio",type:"leather",gloveInputs:[{label:"Web Color",glovePart:"web",attribute_pewc:"pewc_group_89335_89359",fingerId:"13",attribute_wp:"pa_web-color",gloveType:["glove","mitt"],required:!0,active:!0,image:null},{attribute_pewc:"pewc_group_89335_89360",glovePart:"utoe",gloveType:["mitt"],attribute_wp:"pa_web-base-color",fingerId:"4",label:"Web Base Color",required:!0,active:!0,image:null}],info:{label:null,description:null}}]},{label:"Glove Binding, Lace & Welt",header:"glove-trim-",type:"leather",info:{label:null,description:"Select colors for binding, lace and welt. Selections are required."},input:"buttons",prompt:[{type:"leather",glovePart:"bnd",title:"Glove Trim",elementRef:"radio",active:!0,gloveInputs:[{attribute_wp:"pa_binding-color",attribute_pewc:"pewc_group_89335_89361",fingerId:"15",gloveType:["glove","mitt"],label:"Binding Color",glovePart:"bnd",required:!0,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/best-binding-on-baseball-glove.jpg"},{attribute_wp:"pa_lace-color",attribute_pewc:"pewc_group_89335_89362",gloveType:["glove","mitt"],fingerId:"14",label:"Lace Color",glovePart:"lce",required:!0,active:!0,image:null},{attribute_wp:"pa_welt-color",attribute_pewc:"pewc_group_89335_89363",gloveType:["glove","mitt"],fingerId:"13",label:"Welt Color",glovePart:"wlt",required:!0,image:"https://nystix.com/wp-content/uploads/2022/10/best-welting-on-a-baseball-glove.jpg",active:!0}],info:{description:null,label:null}}]},{label:"Glove Embroidery and Stitching",title:"",header:"glove-thread-",type:"embroidery",info:{label:null,description:"In the Logo Color section, choose the thread color for the wrist logo and personalization. The stitching tread color will be used to bind the leather parts."},input:"buttons",prompt:[{active:!0,type:"embroidery",header:"",glovePart:"logo",title:"Embroidery",elementRef:"radio",gloveInputs:[{fingerId:"17",attribute_wp:"pa_nystix-logo-color",glovePart:"logo",label:"Brand Logo Color",attribute_pewc:"pewc_group_89335_89364",image:"https://nystix.com/wp-content/uploads/2022/10/brand-logo.jpg",gloveType:["mitt","glove"],required:!0,active:!0},{glovePart:"stch",gloveType:["glove","mitt"],label:"Stitching Color",fingerId:"16",attribute_wp:"pa_stitching-color",attribute_pewc:"pewc_group_89335_89365",image:"https://nystix.com/wp-content/uploads/2022/10/stitching-sample.jpg",required:!0,active:!0},{glovePart:"stch",gloveType:["glove","mitt"],label:"Personalization Embroidery Color",fingerId:"16",attribute_wp:"pa_personalization-color",attribute_pewc:"pewc_group_89335_90601",image:"https://nystix.com/wp-content/uploads/2022/10/personalization-sample.jpg",required:!1,active:!0}],info:{label:null,description:null}}]},{id:"static-",title:"",prompt:[{title:"Finger Cover",active:!0,elementRef:"radio",header:"",info:{label:null,description:"Select the type of finger cover you want to add to your glove. It is not required to have a finger cover."},variations:[{attribute_pewc:"pewc_group_89335_89366",img:"https://nystix.com/wp-content/uploads/2020/11/no-pad-hood.jpg",name:"No Pad"},{name:"Finger Pad",attribute_pewc:"pewc_group_89335_89366",img:"https://nystix.com/wp-content/uploads/2020/11/nystix-finger-pad.jpg"},{img:"https://nystix.com/wp-content/uploads/2020/11/finger-hood.jpg",name:"F. Hood",attribute_pewc:"pewc_group_89335_89366"}],type:"leather",gloveInputs:[]},{title:"Pad/Hood Color",active:!0,type:"leather",elementRef:"radio",info:{label:'Not required if "No Pad" was selected in previous step.',description:"The color of the finger cover might not change in glove view."},gloveInputs:[{glovePart:"fpad",fingerId:"",attribute_pewc:"pewc_group_89335_89367",attribute_wp:"pa_finger-pad-color",label:"Finger Pad Color",gloveType:["mitt","glove"],required:!1,image:null,active:!0}]}],info:{label:null,description:null},input:"buttons",label:"Finger Protection",header:"finger-protector",type:"leather"},{title:"",label:"Glove Personalization",header:"glove-design-",input:"buttons",active:!0,info:{label:null,description:null},type:"leather",id:"static-",prompt:[{title:"Glove Personalization",info:{label:null,description:null},active:!0,gloveInputs:[{label:"Glove Personalization",glovePart:"lin",active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89368",elementRef:"text",attribute_wp:"pa_glove-personalization",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}},{elementRef:"text",attribute_pewc:"pewc_group_89335_89369",label:"Embroidery Font",fingerId:null,attribute_wp:"pa_embroidery-font",active:!0,required:!1,variations:[{name:"Script Font",attribute_pewc:"pewc_group_89335_51",label:"Glove Embroidery"},{name:"Block Font",attribute_pewc:"pewc_group_89335_51",label:"Glove Embroidery"}],glovePart:"",gloveType:["glove","mitt"],info:{label:null,description:null}},{label:"Customer Notes",glovePart:"lin",active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89568",elementRef:"text",attribute_wp:"pa_glove-personalization",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}}]}]}],variations:[]}],A8=["mainStep"];function N8(n,e){if(1&n&&(u.TgZ(0,"h6"),u._uU(1),u.qZA()),2&n){const t=u.oxw(2).$implicit;u.xp6(1),u.Oqu(t.title)}}function O8(n,e){1&n&&(u.ynx(0),u.YNc(1,N8,2,1,"ng-template",7),u.BQk())}function M8(n,e){if(1&n){const t=u.EpF();u.ynx(0),u._UZ(1,"input",13),u.TgZ(2,"button",14),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(6);return u.KtG(c.addVariation(a))}),u._uU(3),u.qZA(),u.BQk()}if(2&n){const t=e.$implicit,r=e.index;u.xp6(1),u.hYB("id","",t,"-",r,""),u.xp6(2),u.Oqu(t.name)}}function R8(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"dd",11)(2,"div",12),u.YNc(3,M8,4,3,"ng-container",4),u.qZA()(),u.BQk()),2&n){const t=u.oxw(5);u.xp6(3),u.Q6J("ngForOf",t.setGloveSize())}}function P8(n,e){if(1&n){const t=u.EpF();u.ynx(0),u._UZ(1,"input",13),u.TgZ(2,"button",14),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(6);return u.KtG(c.addVariation(a))}),u._uU(3),u.qZA(),u.BQk()}if(2&n){const t=e.$implicit,r=e.index;u.xp6(1),u.hYB("id","",t,"-",r,""),u.xp6(2),u.Oqu(t.name)}}function k8(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"dd",11)(2,"div",12),u.YNc(3,P8,4,3,"ng-container",4),u.qZA()(),u.BQk()),2&n){const t=u.oxw(3).$implicit;u.xp6(3),u.Q6J("ngForOf",t.variations)}}function F8(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"dt",9),u._uU(2),u.qZA(),u.YNc(3,R8,4,1,"ng-container",3),u.YNc(4,k8,4,1,"ng-container",3),u._UZ(5,"div",10),u.BQk()),2&n){const t=u.oxw(2).$implicit;u.xp6(2),u.hij(" ",t.label," "),u.xp6(1),u.Q6J("ngIf","glove size"===t.label.toLowerCase()),u.xp6(1),u.Q6J("ngIf","glove size"!==t.title.toLowerCase())}}function L8(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngu-tile")(1,"section")(2,"div",22)(3,"div",23)(4,"h4",24),u._uU(5),u.qZA()(),u.TgZ(6,"div",23),u._UZ(7,"img",25),u.qZA(),u.TgZ(8,"div",26)(9,"button",27),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw(6);return u.KtG(c.addVariation(a))}),u._uU(10,"Select"),u.qZA()()()()()}if(2&n){const t=e.$implicit;u.xp6(5),u.Oqu(null==t?null:t.name),u.xp6(2),u.Q6J("src",null==t?null:t.img,u.LSH)}}function B8(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",15)(2,"div",16),u._UZ(3,"div",17),u.TgZ(4,"ngu-carousel",18),u._UZ(5,"button",19)(6,"button",20),u.YNc(7,L8,11,2,"ngu-tile",21),u.qZA()()(),u.BQk()),2&n){const t=u.oxw(3).$implicit,r=u.oxw(2);u.xp6(3),u.Q6J("innerHtml",t.info.title+t.info.content,u.oJD),u.xp6(1),u.Q6J("inputs",r.carouselTile)("dataSource",t.variations)}}function V8(n,e){if(1&n&&(u.ynx(0),u.YNc(1,B8,8,3,"ng-container",3),u.BQk()),2&n){const t=u.oxw(2).$implicit;u.xp6(1),u.Q6J("ngIf","Glove Brand"===t.title)}}function U8(n,e){if(1&n&&(u.TgZ(0,"dl",8),u.YNc(1,F8,6,3,"ng-container",3),u.YNc(2,V8,2,1,"ng-container",3),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",!t.includeOptions),u.xp6(1),u.Q6J("ngIf",t.includeOptions)}}function $8(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"ngb-panel",5),u.YNc(2,O8,2,0,"ng-container",4),u.YNc(3,U8,3,2,"ng-template",6),u.qZA(),u.BQk()),2&n){const t=e.$implicit,r=e.index,i=u.oxw(2);u.xp6(1),u.hYB("id","",t.id,"",r,""),u.Q6J("disabled",t.disabled),u.xp6(1),u.Q6J("ngForOf",i.steps)}}function G8(n,e){if(1&n&&(u.ynx(0),u.YNc(1,$8,4,4,"ng-container",4),u.BQk()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.steps)}}let H8=(()=>{class n{constructor(t,r,i,a){this.afs=t,this.api=r,this.router=i,this.data=a,this.panelId="main-1",this.domResponse={},this.carouselTile={grid:{xs:1,sm:2,md:3,lg:3,all:0},slide:2,speed:400,animation:"lazy",loop:!0,point:{visible:!0},load:2,touch:!0,easing:"ease"},this.gloveType="",this.data.getSteps().subscribe(c=>{this.steps=x8,this.steps.forEach(g=>{g.includeOptions&&this.api.gloveDesign.next(g.options)})}),this.gloveSize=S8}ngOnInit(){this.api.setGloveBase({name:"first base",gloveBase:"fbase",gloveType:"mitt"}),this.gloveType="1st base"}addVariation(t){const r=t.name.toLowerCase(),i=this.mainStep.activeIds[0];this.lastItemSelected=t,this.domResponse[i]=this.lastItemSelected,this.lastItemSelected="",this.api.applyFormValue(t),this.api.setGloveType(r),console.log(this.panelId),"main-4"!=this.panelId?(console.log(this.panelId),this.mainStep.expand(this.panelId)):this.router.navigate(["./glove-designer"],{skipLocationChange:!0})}setGloveSize(){return null!=this.gloveSize?this.gloveSize.filter(i=>i.glove.includes(this.gloveType)):[]}panelChange(t){const r=t;if(this.panelId=`main-${parseInt(r.split("-")[1])+1}`,this.domResponse[r]){const i=this.domResponse[r];document.querySelectorAll("button.btn").length>0&&document.querySelectorAll("button.btn").forEach(a=>{a.classList.remove("active"),a.innerText.toLowerCase()===i.name.toLowerCase()&&a.classList.add("active"),a.innerText===i&&a.classList.add("active")})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vE),u.Y36(w0),u.Y36(Us),u.Y36(EM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-main"]],viewQuery:function(t,r){if(1&t&&u.Gf(A8,5),2&t){let i;u.iGM(i=u.CRH())&&(r.mainStep=i.first)}},features:[u._Bn([P])],decls:4,vars:3,consts:[[1,"container-fluid",2,"padding","unset"],["activeIds","main-0",3,"closeOthers","destroyOnHide","shown"],["mainStep",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"id","disabled"],["ngbPanelContent",""],["ngbPanelTitle",""],[1,"row","align-items-center"],[1,"col-sm-12","col-md-4","text-center"],[1,"col-12"],[1,"col-sm-12","col-md-8","mb-1","d-flex"],[1,"col","main-button-group__item"],["type","radio","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","flex-fill","m-2",3,"click"],[1,"container"],[1,"row"],[1,"col-12","px-5","brand-info",3,"innerHtml"],[3,"inputs","dataSource"],["type","button","NguCarouselPrev","",1,"leftRs"],["type","button","NguCarouselNext","",1,"rightRs"],[4,"nguCarouselDef"],[1,"d-flex","flex-column","py-4"],[1,"glove-brand-view__list","pb-2","my-2"],[2,"font-weight","600"],["mat-card-image","",1,"glove-brand-img-size",3,"src"],[1,"glove-brand-view__list","pt-2","my-2"],["type","button",1,"btn","btn-lg","w-100","btn-outline-success",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"ngb-accordion",1,2),u.NdJ("shown",function(a){return r.panelChange(a)}),u.YNc(3,G8,2,1,"ng-container",3),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("closeOthers",!0)("destroyOnHide",!1),u.xp6(2),u.Q6J("ngIf",void 0!==r.steps))},dependencies:[wi,Gn,Qe,je,ie,fe,HC,hx,ey,ty,_w],styles:["ngb-accordion[_ngcontent-%COMP%]{padding:0 6px}.main[_ngcontent-%COMP%]{display:flex}.main-button-group[_ngcontent-%COMP%]{display:flex;margin-bottom:2px}.main-button-group__item[_ngcontent-%COMP%]{display:flex;padding:1rem;justify-content:center}label[_ngcontent-%COMP%]{width:100%;height:60px;display:flex;align-items:center;justify-content:center;font-size:1rem;margin-right:5px}.wrap[_ngcontent-%COMP%]{flex-flow:wrap}.glove-brand-img-size[_ngcontent-%COMP%]{width:150px;height:100px}.glove-brand-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.glove-brand-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.glove-brand-margin[_ngcontent-%COMP%]{margin:0 30px}section[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 991px){.main-button-group__item[_ngcontent-%COMP%]{padding:.2rem}}@media (max-width: 580px){.main-button-group__item[_ngcontent-%COMP%]{padding:.4rem}label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;height:50px;padding:0}}@media (max-width: 460px){.card[_ngcontent-%COMP%]{padding:4px 4x}.main-button-group__item[_ngcontent-%COMP%]{padding:.8rem}button[_ngcontent-%COMP%]{font-size:.8rem;padding-right:2px;padding-left:2px}}"]}),n})();function j8(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",15)(2,"video",16),u._UZ(3,"source",17),u.qZA()(),u.BQk())}function W8(n,e){if(1&n&&(u.TgZ(0,"div",15)(1,"video",18),u._UZ(2,"source",19),u.qZA()()),2&n){const t=u.oxw();u.xp6(2),u.Q6J("src",t.src,u.LSH)}}const z8=[{path:"",component:(()=>{class n{constructor(t){this.router=t,this.src="https://cdn.jsdelivr.net/gh/phantomodm/nystixCDN@builder/depository/assets/images/intro.mp4"}ngOnInit(){}start(){console.log("start"),this.router.navigate(["./wizard"],{skipLocationChange:!0})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Us))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-splash-screen"]],decls:16,vars:2,consts:[[1,"mt-2",2,"max-width","1149px"],[1,"row","d-flex","flex-column","justify-content-center","align-items-center"],[4,"ngIf","ngIfElse"],["staticScreen",""],[2,"text-align","center"],["viewBox","-20 0 100 100",1,"start-button",3,"click"],["id","layer1","transform","translate(-48.380947,-83.910709)"],["id","g864"],["r","33.072918","cy","116.98363","cx","81.453865","id","path835",2,"opacity","0.999","fill","#f4f416","fill-opacity","1","stroke-width","0.397726"],["aria-label","START","id","text839",2,"font-style","italic","font-weight","bold","font-size","12.6109px","line-height","1.25","font-family","sans-serif","-inkscape-font-specification","sans-serif Bold Italic","stroke-width","0.315275"],["d","m 61.709237,121.73428 q -1.176114,0 -2.099764,-0.2032 -0.917492,-0.20321 -1.588678,-0.50493 l 0.474141,-2.19829 h 0.258622 q 0.634239,0.57882 1.490155,0.89902 0.855915,0.31404 1.841142,0.31404 1.009857,0 1.483997,-0.27093 0.474141,-0.2771 0.474141,-0.78819 0,-0.19088 -0.08005,-0.32635 -0.07389,-0.14163 -0.295568,-0.2771 -0.221676,-0.13547 -0.609609,-0.26478 -0.381775,-0.13547 -0.991384,-0.30788 -0.671186,-0.18473 -1.206903,-0.40025 -0.529559,-0.21552 -0.905177,-0.51108 -0.375617,-0.30173 -0.572663,-0.69582 -0.190887,-0.39409 -0.190887,-0.94212 0,-1.37932 1.21306,-2.19829 1.219218,-0.82513 3.331297,-0.82513 1.016015,0 1.915034,0.16626 0.905177,0.16626 1.533259,0.44951 l -0.449509,2.11208 h -0.252465 q -0.480298,-0.44335 -1.268479,-0.73892 -0.782023,-0.30173 -1.711831,-0.30173 -0.911335,0 -1.410105,0.26478 -0.498771,0.26478 -0.498771,0.73276 0,0.21552 0.07389,0.35715 0.07389,0.14163 0.301725,0.27709 0.197046,0.12316 0.621924,0.27094 0.424879,0.14163 0.997542,0.29557 1.539417,0.41256 2.198287,0.96675 0.65887,0.55419 0.65887,1.50247 0,0.79434 -0.357144,1.39779 -0.357145,0.60345 -0.985227,0.97907 -0.65887,0.40025 -1.496313,0.58498 -0.837442,0.18473 -1.896561,0.18473 z","id","path846",2,"stroke-width","0.315275"],["d","m 76.204383,114.17267 h -2.857157 l -1.705673,7.39535 h -2.376859 l 1.705673,-7.39535 H 68.11321 l 0.406406,-1.77341 h 8.091173 z","id","path848",2,"stroke-width","0.315275"],["d","m 84.47413,121.56802 h -2.383017 l -0.209361,-1.87193 h -3.374401 l -1.071434,1.87193 h -2.469224 l 5.498796,-9.16876 h 2.734004 z m -2.77095,-3.51602 -0.36946,-3.29435 -1.890404,3.29435 z","id","path850",2,"stroke-width","0.315275"],["d","m 94.91753,114.70838 q 0,1.10223 -0.671185,1.85346 -0.671186,0.75124 -1.82267,1.13301 l 2.118238,3.87317 h -2.641639 l -1.724147,-3.36208 h -1.330056 l -0.775865,3.36208 h -2.364544 l 2.118237,-9.16876 h 3.577604 q 1.681043,0 2.598535,0.57266 0.917492,0.56651 0.917492,1.73646 z m -2.549274,0.39409 q 0,-0.55419 -0.357144,-0.78202 -0.350987,-0.23399 -1.040646,-0.23399 H 89.80051 l -0.572663,2.46922 h 1.163799 q 0.942123,0 1.459366,-0.38177 0.517244,-0.38793 0.517244,-1.07144 z","id","path852",2,"stroke-width","0.315275"],["d","m 104.48038,114.17267 h -2.85715 l -1.705677,7.39535 h -2.376859 l 1.705673,-7.39535 H 96.38921 l 0.406406,-1.77341 h 8.091174 z","id","path854",2,"stroke-width","0.315275"],[1,"p-4"],["id","glove-video","controlslist","nodownload","autoplay","",2,"overflow","hidden","width","100%"],["src","https://cdn.jsdelivr.net/gh/phantomodm/nystixCDN@builders/depository/assets/images/glove-tool-intro.mp4\n          ","type","video/mp4"],["id","glove-video","preload","auto","poster","https://nystix.com/wp-content/uploads/2022/10/splash-mobile_766.jpg","controlslist","nodownload","autoplay","",2,"overflow","hidden","width","100%"],["type","video/mp4",3,"src"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,j8,4,0,"ng-container",2),u.YNc(3,W8,3,1,"ng-template",null,3,u.W1O),u.TgZ(5,"div",4),u.O4$(),u.TgZ(6,"svg",5),u.NdJ("click",function(){return r.start()}),u.TgZ(7,"g",6)(8,"g",7),u._UZ(9,"circle",8),u.TgZ(10,"g",9),u._UZ(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13)(15,"path",14),u.qZA()()()()()()()),2&t){const i=u.MAs(4);u.xp6(2),u.Q6J("ngIf",r.src)("ngIfElse",i)}},dependencies:[Gn],styles:[".splash-container[_ngcontent-%COMP%]{height:400px}#splash-screen[_ngcontent-%COMP%]{object-fit:cover;position:absolute;inset:0;z-index:-1}.glove-video[_ngcontent-%COMP%]{width:100%;position:fixed;object-fit:cover;z-index:-1;top:0;overflow:hidden;transform:translateZ(0);background-size:cover;background-position:50%}.start-button[_ngcontent-%COMP%]{width:200px;height:200px;margin-top:-200px;animation-name:scale-up-center;animation-duration:1s;animation-timing-function:linear;animation-delay:3s;animation-iteration-count:1;animation-direction:normal;animation-fill-mode:forwards;opacity:0}@keyframes scale-up-center{0%{transform:scale(.2)}to{opacity:1;transform:scale(1)}}.mobile-splash[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 596px) and (max-width: 768px){#splash-screen[_ngcontent-%COMP%]{max-width:100%;height:auto;background-image:url(https://nystix.com/wp-content/uploads/2022/10/splash-mobile_766.jpg);background-repeat:no-repeat;background-size:contain}.start-button[_ngcontent-%COMP%]{animation-name:scale-up-center;animation-duration:.1s;animation-timing-function:linear;animation-delay:0s;animation-iteration-count:1;animation-direction:normal;animation-fill-mode:forwards;opacity:0}@keyframes scale-up-center{0%{transform:scale(.2)}to{opacity:1;transform:scale(1)}}}@media (max-width: 595px){#splash-screen[_ngcontent-%COMP%]{max-width:100%;height:auto;background-image:url(https://nystix.com/wp-content/uploads/2022/10/splash-mobile_766.jpg);background-repeat:no-repeat;background-size:contain}.start-button[_ngcontent-%COMP%]{width:150px;height:150px;animation-delay:0s}}@media (max-width: 499px){.start-button[_ngcontent-%COMP%]{width:100px;height:100px;animation-delay:0s}}"]}),n})()},{path:"wizard",component:H8},{path:"glove-designer",component:E8}];let q8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[bi.forRoot(z8),bi]}),n})();const Z8=["cgbloader"];function Y8(n,e){1&n&&(u.ynx(0),u._UZ(1,"router-outlet"),u.BQk())}function K8(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",2),u._UZ(2,"div",3),u.qZA(),u.BQk())}let Q8=(()=>{class n{constructor(t,r){this.api=t,this.router=r,this.title="japaneseGloveUi",this.loading=!0,this.loaderStatus=!1,this.router.navigate([""],{skipLocationChange:!0}),this.loading=!1}ngAfterViewInit(){this.loadSnap()}ngAfterContentChecked(){if(document.getElementsByClassName("cgb-loader").length>0){let t=document.getElementsByClassName("cgb-loader")[0];null!=t&&null!=t.parentNode&&t.parentNode.removeChild(t)}}ngOnInit(){this.api.product.next({name:this.name,price:this.price,sale_price:this.sale}),this.router.events.subscribe(t=>{switch(!0){case t instanceof t_:this.loading=!0;break;case t instanceof Qc:case t instanceof fy:case t instanceof Mw:this.loading=!1}})}loadSnap(){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js",t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}removeLoader(){!this.loaderStatus&&!this.loaderStatus&&document.getElementsByClassName("cgb-loader").length>0&&(document.getElementsByClassName("cgb-loader")[0].style.display="none",this.loaderStatus=!0)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(w0),u.Y36(Us))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&u.Gf(Z8,5),2&t){let i;u.iGM(i=u.CRH())&&(r.loader=i.first)}},inputs:{name:"name",price:"price",sale:["sale-price","sale"]},decls:3,vars:2,consts:[[1,"container-fluid"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-grow","text-dark",2,"width","3rem","height","3rem"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,Y8,2,0,"ng-container",1),u.YNc(2,K8,3,0,"ng-container",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngIf",!r.loading),u.xp6(1),u.Q6J("ngIf",r.loading))},dependencies:[Gn,Bw]}),n})(),J8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mi,vw]}),n})();const TB="firebasestorage.googleapis.com",EB="storageBucket";class Cs extends Mn.ZR{constructor(e,t){super(SM(e),`Firebase Storage: ${t} (${SM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cs.prototype)}_codeEquals(e){return SM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function SM(n){return"storage/"+n}function xM(){return new Cs("unknown","An unknown error occurred, please check the error payload for server response.")}function SB(){return new Cs("canceled","User canceled the upload/download.")}function xB(){return new Cs("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function D0(n){return new Cs("invalid-argument",n)}function AB(){return new Cs("app-deleted","The Firebase app was deleted.")}function NB(n){return new Cs("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dD(n,e){return new Cs("invalid-format","String does not match format '"+n+"': "+e)}function hD(n){throw new Cs("internal-error","Internal error: "+n)}class za{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=za.makeFromUrl(e,t)}catch{return new za(e,"")}if(""===r.path)return r;throw function u6(n){return new Cs("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+i+"(/(.*))?$","i");function I(it){it.path_=decodeURIComponent(it.path)}const R=t.replace(/[.]/g,"\\."),vt=[{regex:g,indices:{bucket:1,path:3},postModify:function a(it){"/"===it.path.charAt(it.path.length-1)&&(it.path_=it.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${t===TB?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let it=0;it<vt.length;it++){const gt=vt[it],Dt=gt.regex.exec(e);if(Dt){let Pn=Dt[gt.indices.path];Pn||(Pn=""),r=new za(Dt[gt.indices.bucket],Pn),gt.postModify(r);break}}if(null==r)throw function l6(n){return new Cs("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class f6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function yE(n){return"string"==typeof n||n instanceof String}function OB(n){return AM()&&n instanceof Blob}function AM(){return typeof Blob<"u"}function NM(n,e,t,r){if(r<e)throw D0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw D0(`Invalid value for '${n}'. Expected ${t} or less.`)}function ap(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function MB(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Lg=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Lg||(Lg={})),Lg))();class y6{constructor(e,t,r,i,a,c,g,y,I,A,R){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=y,this.timeout_=I,this.progressCallback_=A,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,Z)=>{this.resolve_=H,this.reject_=Z,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,c=this.reject_,g=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());!function m6(n){return void 0!==n}(y)?a():a(y)}catch(y){c(y)}else if(null!==g){const y=xM();y.serverResponse=g.getErrorText(),c(this.errorCallback_?this.errorCallback_(g,y):y)}else c(i.canceled?this.appDelete_?AB():SB():function a6(){return new Cs("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new bE(!1,null,!0)):this.backoffId_=function p6(n,e,t){let r=1,i=null,a=null,c=!1,g=0;function y(){return 2===g}let I=!1;function A(...De){I||(I=!0,e.apply(null,De))}function R(De){i=setTimeout(()=>{i=null,n(Z,y())},De)}function H(){a&&clearTimeout(a)}function Z(De,...ot){if(I)return void H();if(De)return H(),void A.call(null,De,...ot);if(y()||c)return H(),void A.call(null,De,...ot);let vt;r<64&&(r*=2),1===g?(g=2,vt=0):vt=1e3*(r+Math.random()),R(vt)}let ue=!1;function _e(De){ue||(ue=!0,H(),!I&&(null!==i?(De||(g=2),clearTimeout(i),R(0)):De||(g=1)))}return R(0),a=setTimeout(()=>{c=!0,_e(!0)},t),_e}((r,i)=>{if(i)return void r(!1,new bE(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const c=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const g=a.getErrorCode()===Lg.NO_ERROR,y=a.getStatus();if(!g||this.isRetryStatusCode_(y)){const A=a.getErrorCode()===Lg.ABORT;return void r(!1,new bE(!1,null,A))}const I=-1!==this.successCodes_.indexOf(y);r(!0,new bE(I,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function g6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||a}}class bE{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function E6(...n){const e=function T6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(AM())return new Blob(n);throw new Cs("unsupported-environment","This browser doesn't seem to support creating Blobs")}const lc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class OM{constructor(e,t){this.data=e,this.contentType=t||null}}function MM(n,e){switch(n){case lc.RAW:return new OM(RB(e));case lc.BASE64:case lc.BASE64URL:return new OM(PB(n,e));case lc.DATA_URL:return new OM(function N6(n){const e=new kB(n);return e.base64?PB(lc.BASE64,e.rest):function A6(n){let e;try{e=decodeURIComponent(n)}catch{throw dD(lc.DATA_URL,"Malformed data URL.")}return RB(e)}(e.rest)}(e),function O6(n){return new kB(n).contentType}(e))}throw xM()}function RB(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function PB(n,e){switch(n){case lc.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw dD(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case lc.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw dD(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function x6(n){return atob(n)}(e)}catch{throw dD(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class kB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw dD(lc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function M6(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Qh{constructor(e,t){let r=0,i="";OB(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(OB(this.data_)){const i=function S6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Qh(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Qh(r,!0)}}static getBlob(...e){if(AM()){const t=e.map(r=>r instanceof Qh?r.data_:r);return new Qh(E6.apply(null,t))}{const t=e.map(c=>yE(c)?MM(lc.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(c=>{for(let g=0;g<c.length;g++)i[a++]=c[g]}),new Qh(i,!0)}}uploadData(){return this.data_}}function RM(n){let e;try{e=JSON.parse(n)}catch{return null}return function v6(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function FB(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function k6(n,e){return e}class El{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||k6}}let wE=null;function fD(){if(wE)return wE;const n=[];n.push(new El("bucket")),n.push(new El("generation")),n.push(new El("metageneration")),n.push(new El("name","fullPath",!0));const t=new El("name");t.xform=function e(a,c){return function F6(n){return!yE(n)||n.length<2?n:FB(n)}(c)},n.push(t);const i=new El("size");return i.xform=function r(a,c){return void 0!==c?Number(c):c},n.push(i),n.push(new El("timeCreated")),n.push(new El("updated")),n.push(new El("md5Hash",null,!0)),n.push(new El("cacheControl",null,!0)),n.push(new El("contentDisposition",null,!0)),n.push(new El("contentEncoding",null,!0)),n.push(new El("contentLanguage",null,!0)),n.push(new El("contentType",null,!0)),n.push(new El("metadata","customMetadata",!0)),wE=n,wE}function LB(n,e,t){const r=RM(e);return null===r?null:function B6(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const c=t[a];r[c.local]=c.xform(r,e[c.server])}return function L6(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new za(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function PM(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const BB="prefixes";class Jh{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xh(n){if(!n)throw xM()}function DE(n,e){return function t(r,i){const a=LB(n,i,e);return Xh(null!==a),a}}function C0(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function s6(){return new Cs("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function i6(){return new Cs("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function r6(n){return new Cs("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function o6(n){return new Cs("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function pD(n){const e=C0(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function n6(n){return new Cs("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function UB(n,e,t){const i=ap(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,g=new Jh(i,"GET",DE(n,t),c);return g.errorHandler=pD(e),g}function j6(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const g=ap(e.bucketOnlyServerUrl(),n.host,n._protocol),I=n.maxOperationRetryTime,A=new Jh(g,"GET",function G6(n,e){return function t(r,i){const a=function $6(n,e,t){const r=RM(t);return null===r?null:function U6(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[BB])for(const i of t[BB]){const a=i.replace(/\/$/,""),c=n._makeStorageReference(new za(e,a));r.prefixes.push(c)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new za(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return Xh(null!==a),a}}(n,e.bucket),I);return A.urlParams=a,A.errorHandler=C0(e),A}function GB(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Z6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class CE{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function kM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xh(!1)}return Xh(!!t&&-1!==(e||["active"]).indexOf(t)),t}const J6={STATE_CHANGED:"state_changed"},Sl={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function FM(n){switch(n){case"running":case"pausing":case"canceling":return Sl.RUNNING;case"paused":return Sl.PAUSED;case"success":return Sl.SUCCESS;case"canceled":return Sl.CANCELED;default:return Sl.ERROR}}class X6{constructor(e,t,r){if(function _6(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function I0(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class t5 extends class e5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw hD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hD("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hD("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hD("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hD("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function jd(){return new t5}class zB{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=fD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Y6(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),c=GB(e,r,i),g={name:c.fullPath},y=ap(a,n.host,n._protocol),A={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},R=PM(c,t),ue=new Jh(y,"POST",function Z(_e){let De;kM(_e);try{De=_e.getResponseHeader("X-Goog-Upload-URL")}catch{Xh(!1)}return Xh(yE(De)),De},n.maxUploadRetryTime);return ue.urlParams=g,ue.headers=A,ue.body=R,ue.errorHandler=C0(e),ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,jd,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function K6(n,e,t,r){const y=new Jh(t,"POST",function a(I){const A=kM(I,["active","final"]);let R=null;try{R=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xh(!1)}R||Xh(!1);const H=Number(R);return Xh(!isNaN(H)),new CE(H,r.size(),"final"===A)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=C0(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,jd,t,r);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new CE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let c;try{c=function Q6(n,e,t,r,i,a,c,g){const y=new CE(0,0);if(c?(y.current=c.current,y.total=c.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function d6(){return new Cs("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const I=y.total-y.current;let A=I;i>0&&(A=Math.min(A,i));const R=y.current,ue={"X-Goog-Upload-Command":A===I?"upload, finalize":"upload","X-Goog-Upload-Offset":`${y.current}`},_e=r.slice(R,R+A);if(null===_e)throw xB();const vt=new Jh(t,"POST",function De(it,gt){const Dt=kM(it,["active","final"]),rn=y.current+A,Pn=r.size();let $i;return $i="final"===Dt?DE(e,a)(it,gt):null,new CE(rn,Pn,"final"===Dt,$i)},e.maxUploadRetryTime);return vt.headers=ue,vt.body=_e.uploadData(),vt.progressCallback=g||null,vt.errorHandler=C0(n),vt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const g=this._ref.storage._makeRequest(c,jd,i,a);this._request=g,g.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=UB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,jd,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function HB(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},y=function g(){let vt="";for(let it=0;it<2;it++)vt+=Math.random().toString().slice(2);return vt}();c["Content-Type"]="multipart/related; boundary="+y;const I=GB(e,r,i),A=PM(I,t),Z=Qh.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+A+"\r\n--"+y+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===Z)throw xB();const ue={name:I.fullPath},_e=ap(a,n.host,n._protocol),ot=n.maxUploadRetryTime,ut=new Jh(_e,"POST",DE(n,t),ot);return ut.urlParams=ue,ut.headers=c,ut.body=Z.uploadData(),ut.errorHandler=C0(e),ut}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,jd,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=SB(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=FM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new X6(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(FM(this._state)){case Sl.SUCCESS:I0(this._resolve.bind(null,this.snapshot))();break;case Sl.CANCELED:case Sl.ERROR:I0(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(FM(this._state)){case Sl.RUNNING:case Sl.PAUSED:e.next&&I0(e.next.bind(e,this.snapshot))();break;case Sl.SUCCESS:e.complete&&I0(e.complete.bind(e))();break;default:e.error&&I0(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class L_{constructor(e,t){this._service=e,this._location=t instanceof za?t:za.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new L_(e,t)}get root(){const e=new za(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FB(this._location.path)}get storage(){return this._service}get parent(){const e=function R6(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new za(this._location.bucket,e);return new L_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw NB(e)}}function ZB(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,Be.Z)(function*(n,e,t){const i=yield YB(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield ZB(n,e,i.nextPageToken))}),LM.apply(this,arguments)}function YB(n,e){null!=e&&"number"==typeof e.maxResults&&NM("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=j6(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,jd)}function f5(n){n._throwIfRoot("getDownloadURL");const e=function W6(n,e,t){const i=ap(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,g=new Jh(i,"GET",function H6(n,e){return function t(r,i){const a=LB(n,i,e);return Xh(null!==a),function V6(n,e,t,r){const i=RM(e);if(null===i||!yE(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const c=encodeURIComponent;return a.split(",").map(I=>{const R=n.fullPath;return ap("/b/"+c(n.bucket)+"/o/"+c(R),t,r)+MB({alt:"media",token:I})})[0]}(a,i,n.host,n._protocol)}}(n,t),c);return g.errorHandler=pD(e),g}(n.storage,n._location,fD());return n.storage.makeRequestWithTokens(e,jd).then(t=>{if(null===t)throw function h6(){return new Cs("no-download-url","The given file does not have any download URLs.")}();return t})}function KB(n,e){const t=function P6(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new za(n._location.bucket,t);return new L_(n.storage,r)}function QB(n,e){if(n instanceof BM){const t=n;if(null==t._bucket)throw function c6(){return new Cs("no-default-bucket","No default bucket found. Did you set the '"+EB+"' property when initializing the app?")}();const r=new L_(t,t._bucket);return null!=e?QB(r,e):r}return void 0!==e?KB(n,e):n}function _5(n,e){if(e&&function g5(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof BM)return function m5(n,e){return new L_(n,e)}(n,e);throw D0("To use ref(service, url), the first argument must be a Storage instance.")}return QB(n,e)}function JB(n,e){const t=e?.[EB];return null==t?null:za.makeFromBucketSpec(t,n)}class BM{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=TB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?za.makeFromBucketSpec(i,this._host):JB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?za.makeFromBucketSpec(this._url,e):JB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new L_(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new f6(AB());{const a=function I6(n,e,t,r,i,a){const c=MB(n.urlParams),g=n.url+c,y=Object.assign({},n.headers);return function D6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function b6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function w6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,a),function C6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,r),new y6(g,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,Be.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const XB="@firebase/storage";function nV(n,e){return _5(n=(0,Mn.m9)(n),e)}function x5(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new BM(t,r,i,e,$d.SDK_VERSION)}!function A5(){(0,$d._registerComponent)(new Gy.wA("storage",x5,"PUBLIC").setMultipleInstances(!0)),(0,$d.registerVersion)(XB,"0.9.9",""),(0,$d.registerVersion)(XB,"0.9.9","esm2017")}();class IE{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class rV{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new IE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new IE(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?c=>t(new IE(c,this,this._ref)):{next:t.next?c=>t.next(new IE(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class iV{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new lp(e,this._service))}get items(){return this._delegate.items.map(e=>new lp(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class lp{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function E5(n,e){return KB(n,e)}(this._delegate,e);return new lp(t,this.storage)}get root(){return new lp(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new lp(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new rV(function y5(n,e,t){return function l5(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new zB(n,new Qh(e),t)}(n=(0,Mn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=lc.RAW,r){this._throwIfRoot("putString");const i=MM(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new rV(new zB(this._delegate,new Qh(i.data,!0),a),this)}listAll(){return function C5(n){return function c5(n){const e={prefixes:[],items:[]};return ZB(n,e).then(()=>e)}(n=(0,Mn.m9)(n))}(this._delegate).then(e=>new iV(e,this.storage))}list(e){return function D5(n,e){return YB(n=(0,Mn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new iV(t,this.storage))}getMetadata(){return function b5(n){return function d5(n){n._throwIfRoot("getMetadata");const e=UB(n.storage,n._location,fD());return n.storage.makeRequestWithTokens(e,jd)}(n=(0,Mn.m9)(n))}(this._delegate)}updateMetadata(e){return function w5(n,e){return function h5(n,e){n._throwIfRoot("updateMetadata");const t=function z6(n,e,t,r){const a=ap(e.fullServerUrl(),n.host,n._protocol),g=PM(t,r),I=n.maxOperationRetryTime,A=new Jh(a,"PATCH",DE(n,r),I);return A.headers={"Content-Type":"application/json; charset=utf-8"},A.body=g,A.errorHandler=pD(e),A}(n.storage,n._location,e,fD());return n.storage.makeRequestWithTokens(t,jd)}(n=(0,Mn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function I5(n){return f5(n=(0,Mn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function T5(n){return function p5(n){n._throwIfRoot("deleteObject");const e=function q6(n,e){const r=ap(e.fullServerUrl(),n.host,n._protocol),g=new Jh(r,"DELETE",function c(y,I){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=pD(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,jd)}(n=(0,Mn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw NB(e)}}class sV{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(oV(e))throw D0("ref() expected a child path but got a URL, use refFromURL instead.");return new lp(nV(this._delegate,e),this)}refFromURL(e){if(!oV(e))throw D0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{za.makeFromUrl(e,this._delegate.host)}catch{throw D0("refFromUrl() expected a valid full URL but got an invalid one.")}return new lp(nV(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function S5(n,e,t,r={}){!function v5(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Mn.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function oV(n){return/^[A-Za-z]+:\/\//.test(n)}function R5(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new sV(t,r)}function aV(n){const e=function k5(n){return new Ar.y(e=>{const t=c=>e.next(c);t(n.snapshot);const a=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){a()}}).pipe(function X8(n,e=We.z){return(0,ai.e)((t,r)=>{let i=null,a=null,c=null;const g=()=>{if(i){i.unsubscribe(),i=null;const I=a;a=null,r.next(I)}};function y(){const I=c+n,A=e.now();if(A<I)return i=this.schedule(void 0,I-A),void r.add(i);g()}t.subscribe((0,ir.x)(r,I=>{a=I,c=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{g(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,It.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function TE(n){return{getDownloadURL:()=>bt(void 0).pipe(Ki.fc,qn(()=>n.getDownloadURL()),Ki.iC),getMetadata:()=>bt(void 0).pipe(Ki.fc,qn(()=>n.getMetadata()),Ki.iC),delete:()=>(0,Wn.D)(n.delete()),child:e=>TE(n.child(e)),updateMetadata:e=>(0,Wn.D)(n.updateMetadata(e)),put:(e,t)=>aV(n.put(e,t)),putString:(e,t,r)=>aV(n.putString(e,t,r)),list:e=>(0,Wn.D)(n.list(e)),listAll:()=>(0,Wn.D)(n.listAll())}}!function P5(n){const e={TaskState:Sl,TaskEvent:J6,StringFormat:lc,Storage:sV,Reference:lp};n.INTERNAL.registerComponent(new Gy.wA("storage-compat",R5,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(sP.Z);const F5=new u.OlP("angularfire2.storageBucket"),L5=new u.OlP("angularfire2.storage.maxUploadRetryTime"),B5=new u.OlP("angularfire2.storage.maxOperationRetryTime"),V5=new u.OlP("angularfire2.storage.use-emulator");let U5=(()=>{class n{constructor(t,r,i,a,c,g,y,I,A,R){const H=(0,bl.on)(t,c,r);this.storage=(0,bl.cc)(`${H.name}.storage.${i}`,"AngularFireStorage",H.name,()=>{const Z=c.runOutsideAngular(()=>H.storage(i||void 0)),ue=A;return ue&&Z.useEmulator(...ue),y&&Z.setMaxUploadRetryTime(y),I&&Z.setMaxOperationRetryTime(I),Z},[y,I])}ref(t){return TE(this.storage.ref(t))}refFromURL(t){return TE(this.storage.refFromURL(t))}upload(t,r,i){return TE(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bl.Dh),u.LFG(bl.xv,8),u.LFG(F5,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ki.HU),u.LFG(L5,8),u.LFG(B5,8),u.LFG(V5,8),u.LFG(mE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),G5=(()=>{class n{constructor(){DM.Z.registerVersion("angularfire",Ki.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[U5],imports:[$5]}),n})();const lV_firebaseConfig={apiKey:"AIzaSyCEmZV_arlakRS_4aEmK7InwXRXAMfIybk",authDomain:"nys-custom-ui.firebaseapp.com",projectId:"nys-custom-ui",storageBucket:"nys-custom-ui.appspot.com",messagingSenderId:"946748632034",appId:"1:946748632034:web:aac02bf3a97c0b971ce7bb",measurementId:"G-ZY74EENWC4"};let uV=(()=>{class n extends wn{constructor(){super(...arguments),this.overrides={swipe:{velocity:.4,direction:dd.DIRECTION_HORIZONTAL}}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H5=(()=>{class n{constructor(t){this.injector=t;const r=function Bu(n,e){const t=function Fu(n,e){return e.get(u._Vd).resolveComponentFactory(n).inputs}(n,e.injector),r=e.strategyFactory||new hp(n,e.injector),i=function _s(n){const e={};return n.forEach(({propName:t,templateName:r})=>{e[function fd(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(r)]=t}),e}(t);class a extends af{constructor(g){super(),this.injector=g}get ngElementStrategy(){if(!this._ngElementStrategy){const g=this._ngElementStrategy=r.create(this.injector||e.injector);t.forEach(({propName:y})=>{if(!this.hasOwnProperty(y))return;const I=this[y];delete this[y],g.setInputValue(y,I)})}return this._ngElementStrategy}attributeChangedCallback(g,y,I,A){this.ngElementStrategy.setInputValue(i[g],I)}connectedCallback(){let g=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),g=!0),this.ngElementStrategy.connect(this),g||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(g=>{const y=new CustomEvent(g.name,{detail:g.value});this.dispatchEvent(y)})}}return a.observedAttributes=Object.keys(i),t.forEach(({propName:c})=>{Object.defineProperty(a.prototype,c,{get(){return this.ngElementStrategy.getInputValue(c)},set(g){this.ngElementStrategy.setInputValue(c,g)},configurable:!0,enumerable:!0})}),a}(Q8,{injector:this.injector});customElements.define("fbase-glove-builder",r)}ngDoBootstrap(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:uV,useClass:uV}],imports:[vc,q8,ix,Vg,Oj,Vj,G5,bl.hO.initializeApp(lV_firebaseConfig),vw,J8]}),n})();(0,u.G48)(),ll().bootstrapModule(H5).catch(n=>console.error(n))},5867:(At,Ge,j)=>{"use strict";j.d(Ge,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=j(9681);(0,u.registerVersion)("firebase","9.10.0","app")},127:(At,Ge,j)=>{"use strict";j.d(Ge,{Z:()=>u.Z});var u=j(3942);u.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(At,Ge,j)=>{"use strict";j.r(Ge);var u=j(5861),k=j(3942),W=j(2090),be=j(9681),ge=j(655),Ce=j(1877),Ie=j(4859);const Le=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new Ce.Yd("@firebase/auth");function St(w,...m){at.logLevel<=Ce.in.ERROR&&at.error(`Auth (${be.SDK_VERSION}): ${w}`,...m)}function He(w,...m){throw ft(w,...m)}function ke(w,...m){return ft(w,...m)}function Fe(w,m,v){const C=Object.assign(Object.assign({},ht()),{[m]:v});return new W.LL("auth","Firebase",C).create(m,{appName:w.name})}function st(w,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&He(w,"argument-error"),Fe(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ft(w,...m){if("string"!=typeof w){const v=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(v,...C)}return Oe.create(w,...m)}function Q(w,m,...v){if(!w)throw ft(m,...v)}function Re(w){const m="INTERNAL ASSERTION FAILED: "+w;throw St(m),new Error(m)}function ae(w,m){w||Re(m)}const pe=new Map;function ye(w){ae(w instanceof Function,"Expected a class definition");let m=pe.get(w);return m?(ae(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,pe.set(w,m),m)}function Je(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Mt(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Yn{constructor(m,v){this.shortDelay=m,this.longDelay=v,ae(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dr(w,m){ae(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Vn{static initialize(m,v,C){this.fetchImpl=m,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pi=new Yn(3e4,6e4);function dn(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function Qt(w,m,v,C){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(w,m,v,C,M={}){return En(w,M,(0,u.Z)(function*(){let V={},le={};C&&("GET"===m?le=C:V={body:JSON.stringify(C)});const Te=(0,W.xO)(Object.assign({key:w.config.apiKey},le)).slice(1),Xe=yield w._getAdditionalHeaders();return Xe["Content-Type"]="application/json",w.languageCode&&(Xe["X-Firebase-Locale"]=w.languageCode),Vn.fetch()(hr(w,w.config.apiHost,v,Te),Object.assign({method:m,headers:Xe,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function En(w,m,v){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(w,m,v){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},pn),m);try{const M=new Or(w),V=yield Promise.race([v(),M.promise]);M.clearNetworkTimeout();const le=yield V.json();if("needConfirmation"in le)throw Ai(w,"account-exists-with-different-credential",le);if(V.ok&&!("errorMessage"in le))return le;{const Te=V.ok?le.errorMessage:le.error.message,[Xe,Nt]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw Ai(w,"credential-already-in-use",le);if("EMAIL_EXISTS"===Xe)throw Ai(w,"email-already-in-use",le);if("USER_DISABLED"===Xe)throw Ai(w,"user-disabled",le);const Kt=C[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw Fe(w,Kt,Nt);He(w,Kt)}}catch(M){if(M instanceof W.ZR)throw M;He(w,"network-request-failed")}})).apply(this,arguments)}function Wr(w,m,v,C){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(w,m,v,C,M={}){const V=yield Qt(w,m,v,C,M);return"mfaPendingCredential"in V&&He(w,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function hr(w,m,v,C){const M=`${m}${v}?${C}`;return w.config.emulator?dr(w.config,M):`${w.config.apiScheme}://${M}`}class Or{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(ke(this.auth,"network-request-failed")),pi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ai(w,m,v){const C={appName:w.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const M=ke(w,m,C);return M.customData._tokenResponse=v,M}function yt(){return(yt=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Gi(w,m){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Cn(w,m){return nr.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ni(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function fr(){return(fr=(0,u.Z)(function*(w,m=!1){const v=(0,W.m9)(w),C=yield v.getIdToken(m),M=Ot(C);Q(M&&M.exp&&M.auth_time&&M.iat,v.auth,"internal-error");const V="object"==typeof M.firebase?M.firebase:void 0,le=V?.sign_in_provider;return{claims:M,token:C,authTime:Ni(Ft(M.auth_time)),issuedAtTime:Ni(Ft(M.iat)),expirationTime:Ni(Ft(M.exp)),signInProvider:le||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function Ft(w){return 1e3*Number(w)}function Ot(w){var m;const[v,C,M]=w.split(".");if(void 0===v||void 0===C||void 0===M)return St("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,W.tV)(C);return V?JSON.parse(V):(St("Failed to decode base64 JWT payload"),null)}catch(V){return St("Caught error parsing JWT payload as JSON",null===(m=V)||void 0===m?void 0:m.toString()),null}}function Lr(w,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(w,m,v=!1){if(v)return m;try{return yield m}catch(C){throw C instanceof W.ZR&&zr(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}function zr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class jt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield v.iteration()}),C)}iteration(){var m=this;return(0,u.Z)(function*(){var v;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(v=C)||void 0===v?void 0:v.code)&&m.schedule(!0))}m.schedule()})()}}class Is{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ni(this.lastLoginAt),this.creationTime=Ni(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(w){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(w){var m;const v=w.auth,C=yield w.getIdToken(),M=yield Lr(w,Cn(v,{idToken:C}));Q(M?.users.length,v,"internal-error");const V=M.users[0];w._notifyReloadListener(V);const le=null!==(m=V.providerUserInfo)&&void 0!==m&&m.length?K(V.providerUserInfo):[],Te=te(w.providerData,le),Kt=!!w.isAnonymous&&!(w.email&&V.passwordHash||Te?.length),$t={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Te,metadata:new Is(V.createdAt,V.lastLoginAt),isAnonymous:Kt};Object.assign(w,$t)})).apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(w){const m=(0,W.m9)(w);yield Sn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function te(w,m){return[...w.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function K(w){return w.map(m=>{var{providerId:v}=m,C=(0,ge._T)(m,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function re(){return(re=(0,u.Z)(function*(w,m){const v=yield En(w,{},(0,u.Z)(function*(){const C=(0,W.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:V}=w.config,le=hr(w,M,"/v1/token",`key=${V}`),Te=yield w._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",Vn.fetch()(le,{method:"POST",headers:Te,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Q(m.idToken,"internal-error"),Q(typeof m.idToken<"u","internal-error"),Q(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Un(w){const m=Ot(w);return Q(m,"internal-error"),Q(typeof m.exp<"u","internal-error"),Q(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var C=this;return(0,u.Z)(function*(){return Q(!C.accessToken||C.refreshToken,m,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var C=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:V,expiresIn:le}=yield function ne(w,m){return re.apply(this,arguments)}(m,v);C.updateTokensAndExpiration(M,V,Number(le))})()}updateTokensAndExpiration(m,v,C){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,v){const{refreshToken:C,accessToken:M,expirationTime:V}=v,le=new ze;return C&&(Q("string"==typeof C,"internal-error",{appName:m}),le.refreshToken=C),M&&(Q("string"==typeof M,"internal-error",{appName:m}),le.accessToken=M),V&&(Q("number"==typeof V,"internal-error",{appName:m}),le.expirationTime=V),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new ze,this.toJSON())}_performRefresh(){return Re("not implemented")}}function ct(w,m){Q("string"==typeof w||typeof w>"u","internal-error",{appName:m})}class kt{constructor(m){var{uid:v,auth:C,stsTokenManager:M}=m,V=(0,ge._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Is(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,u.Z)(function*(){const C=yield Lr(v,v.stsTokenManager.getToken(v.auth,m));return Q(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(m){return function wr(w){return fr.apply(this,arguments)}(this,m)}reload(){return function In(w){return oe.apply(this,arguments)}(this)}_assign(m){this!==m&&(Q(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new kt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var C=this;return(0,u.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),v&&(yield Sn(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,u.Z)(function*(){const v=yield m.getIdToken();return yield Lr(m,function vr(w,m){return yt.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var C,M,V,le,Te,Xe,Nt,Kt;const $t=null!==(C=v.displayName)&&void 0!==C?C:void 0,Bi=null!==(M=v.email)&&void 0!==M?M:void 0,to=null!==(V=v.phoneNumber)&&void 0!==V?V:void 0,Fa=null!==(le=v.photoURL)&&void 0!==le?le:void 0,_h=null!==(Te=v.tenantId)&&void 0!==Te?Te:void 0,Bc=null!==(Xe=v._redirectEventId)&&void 0!==Xe?Xe:void 0,vh=null!==(Nt=v.createdAt)&&void 0!==Nt?Nt:void 0,H_=null!==(Kt=v.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:Ip,emailVerified:Xl,isAnonymous:yh,providerData:bh,stsTokenManager:Tp}=v;Q(Ip&&Tp,m,"internal-error");const vf=ze.fromJSON(this.name,Tp);Q("string"==typeof Ip,m,"internal-error"),ct($t,m.name),ct(Bi,m.name),Q("boolean"==typeof Xl,m,"internal-error"),Q("boolean"==typeof yh,m,"internal-error"),ct(to,m.name),ct(Fa,m.name),ct(_h,m.name),ct(Bc,m.name),ct(vh,m.name),ct(H_,m.name);const Ep=new kt({uid:Ip,auth:m,email:Bi,emailVerified:Xl,displayName:$t,isAnonymous:yh,photoURL:Fa,phoneNumber:to,tenantId:_h,stsTokenManager:vf,createdAt:vh,lastLoginAt:H_});return bh&&Array.isArray(bh)&&(Ep.providerData=bh.map(Ad=>Object.assign({},Ad))),Bc&&(Ep._redirectEventId=Bc),Ep}static _fromIdTokenResponse(m,v,C=!1){return(0,u.Z)(function*(){const M=new ze;M.updateFromServerResponse(v);const V=new kt({uid:v.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Sn(V),V})()}}const Fn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(v,C){var M=this;return(0,u.Z)(function*(){M.storage[v]=C})()}_get(v){var C=this;return(0,u.Z)(function*(){const M=C.storage[v];return void 0===M?null:M})()}_remove(v){var C=this;return(0,u.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return w.type="NONE",w})();function qr(w,m,v){return`firebase:${w}:${m}:${v}`}class mn{constructor(m,v,C){this.persistence=m,this.auth=v,this.userKey=C;const{config:M,name:V}=this.auth;this.fullUserKey=qr(this.userKey,M.apiKey,V),this.fullPersistenceKey=qr("persistence",M.apiKey,V),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?kt._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,u.Z)(function*(){if(v.persistence===m)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,C="authUser"){return(0,u.Z)(function*(){if(!v.length)return new mn(ye(Fn),m,C);const M=(yield Promise.all(v.map(function(){var Nt=(0,u.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let V=M[0]||ye(Fn);const le=qr(C,m.config.apiKey,m.name);let Te=null;for(const Nt of v)try{const Kt=yield Nt._get(le);if(Kt){const $t=kt._fromJSON(m,Kt);Nt!==V&&(Te=$t),V=Nt;break}}catch{}const Xe=M.filter(Nt=>Nt._shouldAllowMigration);return V._shouldAllowMigration&&Xe.length?(V=Xe[0],Te&&(yield V._set(le,Te.toJSON())),yield Promise.all(v.map(function(){var Nt=(0,u.Z)(function*(Kt){if(Kt!==V)try{yield Kt._remove(le)}catch{}});return function(Kt){return Nt.apply(this,arguments)}}())),new mn(V,m,C)):new mn(V,m,C)})()}}function on(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ji(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ar(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(mt(m))return"Blackberry";if(Wt(m))return"Webos";if(Dr(m))return"Safari";if((m.includes("chrome/")||us(m))&&!m.includes("edge/"))return"Chrome";if(Vr(m))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function ar(w=(0,W.z$)()){return/firefox\//i.test(w)}function Dr(w=(0,W.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function us(w=(0,W.z$)()){return/crios\//i.test(w)}function ji(w=(0,W.z$)()){return/iemobile/i.test(w)}function Vr(w=(0,W.z$)()){return/android/i.test(w)}function mt(w=(0,W.z$)()){return/blackberry/i.test(w)}function Wt(w=(0,W.z$)()){return/webos/i.test(w)}function $n(w=(0,W.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function co(w=(0,W.z$)()){return $n(w)||Vr(w)||Wt(w)||mt(w)||/windows phone/i.test(w)||ji(w)}function Hs(w,m=[]){let v;switch(w){case"Browser":v=on((0,W.z$)());break;case"Worker":v=`${on((0,W.z$)())}-${w}`;break;default:v=w}const C=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${be.SDK_VERSION}/${C}`}class hs{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const C=V=>new Promise((le,Te)=>{try{le(m(V))}catch(Xe){Te(Xe)}});C.onAbort=v,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,u.Z)(function*(){var C;if(v.auth.currentUser===m)return;const M=[];try{for(const V of v.queue)yield V(m),V.onAbort&&M.push(V.onAbort)}catch(V){M.reverse();for(const le of M)try{le()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=V)||void 0===C?void 0:C.message})}})()}}class tn{constructor(m,v,C){this.app=m,this.heartbeatServiceProvider=v,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new hs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,v){var C=this;return v&&(this._popupRedirectResolver=ye(v)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,V;if(!C._deleted&&(C.persistenceManager=yield mn.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(V=C.currentUser)||void 0===V?void 0:V.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUser(m){var v=this;return(0,u.Z)(function*(){var C;const M=yield v.assertedPersistence.getCurrentUser();let V=M,le=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Te=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,Xe=V?._redirectEventId,Nt=yield v.tryRedirectSignIn(m);(!Te||Te===Xe)&&Nt?.user&&(V=Nt.user,le=!0)}if(!V)return v.directlySetCurrentUser(null);if(!V._redirectEventId){if(le)try{yield v.beforeStateQueue.runMiddleware(V)}catch(Te){V=M,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Te))}return V?v.reloadAndSetCurrentUserOrClear(V):v.directlySetCurrentUser(null)}return Q(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===V._redirectEventId?v.directlySetCurrentUser(V):v.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(m){var v=this;return(0,u.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,u.Z)(function*(){var C;try{yield Sn(m)}catch(M){if("auth/network-request-failed"!==(null===(C=M)||void 0===C?void 0:C.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,u.Z)(function*(){const C=m?(0,W.m9)(m):null;return C&&Q(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(m,v=!1){var C=this;return(0,u.Z)(function*(){if(!C._deleted)return m&&Q(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,u.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var v=this;return this.queue((0,u.Z)(function*(){yield v.assertedPersistence.setPersistence(ye(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new W.LL("auth","Firebase",m())}onAuthStateChanged(m,v,C){return this.registerStateListener(this.authStateSubscription,m,v,C)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,C){return this.registerStateListener(this.idTokenSubscription,m,v,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var C=this;return(0,u.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(v);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,u.Z)(function*(){if(!v.redirectPersistenceManager){const C=m&&ye(m)||v._popupRedirectResolver;Q(C,v,"argument-error"),v.redirectPersistenceManager=yield mn.create(v,[ye(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,u.Z)(function*(){var C,M;return v._isInitialized&&(yield v.queue((0,u.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===m?v._currentUser:(null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,u.Z)(function*(){if(m===v.currentUser)return v.queue((0,u.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,C,M){if(this._deleted)return()=>{};const V="function"==typeof v?v:v.next.bind(v),le=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(le,this,"internal-error"),le.then(()=>V(this.currentUser)),"function"==typeof v?m.addObserver(v,C,M):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,u.Z)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Hs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){var v;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function Kn(w){return(0,W.m9)(w)}class js{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,W.ne)(v=>this.observer=v)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ws(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function Ts(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class Mr{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Re("not implemented")}_getIdTokenResponse(m){return Re("not implemented")}_linkToIdToken(m,v){return Re("not implemented")}_getReauthenticationResolver(m){return Re("not implemented")}}function Qn(w,m){return rs.apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:resetPassword",dn(w,m))})).apply(this,arguments)}function xn(w,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Es(w,m){return So.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:update",dn(w,m))})).apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(w,m){return Wr(w,"POST","/v1/accounts:signInWithPassword",dn(w,m))})).apply(this,arguments)}function Kr(w,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:sendOobCode",dn(w,m))})).apply(this,arguments)}function Gn(w,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(w,m){return Kr(w,m)})).apply(this,arguments)}function Ur(w,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(w,m){return Kr(w,m)})).apply(this,arguments)}function ho(w,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(w,m){return Kr(w,m)})).apply(this,arguments)}function xl(w,m){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(w,m){return Kr(w,m)})).apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(w,m){return Wr(w,"POST","/v1/accounts:signInWithEmailLink",dn(w,m))})).apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(w,m){return Wr(w,"POST","/v1/accounts:signInWithEmailLink",dn(w,m))})).apply(this,arguments)}class B extends Mr{constructor(m,v,C,M=null){super("password",C),this._email=m,this._password=v,this._tenantId=M}static _fromEmailAndPassword(m,v){return new B(m,v,"password")}static _fromEmailAndCode(m,v,C=null){return new B(m,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return function Da(w,m){return wi.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Za(w,m){return hu.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:He(m,"internal-error")}})()}_linkToIdToken(m,v){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return xn(m,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function dc(w,m){return fo.apply(this,arguments)}(m,{idToken:v,email:C._email,oobCode:C._password});default:He(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function $(w,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,u.Z)(function*(w,m){return Wr(w,"POST","/v1/accounts:signInWithIdp",dn(w,m))})).apply(this,arguments)}class Ye extends Mr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ye(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):He("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=v,V=(0,ge._T)(v,["providerId","signInMethod"]);if(!C||!M)return null;const le=new Ye(C,M);return le.idToken=V.idToken||void 0,le.accessToken=V.accessToken||void 0,le.secret=V.secret,le.nonce=V.nonce,le.pendingToken=V.pendingToken||null,le}_getIdTokenResponse(m){return $(m,this.buildRequest())}_linkToIdToken(m,v){const C=this.buildRequest();return C.idToken=v,$(m,C)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,$(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,W.xO)(v)}return m}}function Et(w,m){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:sendVerificationCode",dn(w,m))})).apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(w,m){return Wr(w,"POST","/v1/accounts:signInWithPhoneNumber",dn(w,m))})).apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(w,m){const v=yield Wr(w,"POST","/v1/accounts:signInWithPhoneNumber",dn(w,m));if(v.temporaryProof)throw Ai(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const up={USER_NOT_FOUND:"user-not-found"};function zd(){return(zd=(0,u.Z)(function*(w,m){return Wr(w,"POST","/v1/accounts:signInWithPhoneNumber",dn(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),up)})).apply(this,arguments)}class Ca extends Mr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Ca({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Ca({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function Rr(w,m){return ur.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Wi(w,m){return Ss.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ef(w,m){return zd.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:C,verificationCode:M}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:C,phoneNumber:M,temporaryProof:V}=m;return C||v||M||V?new Ca({verificationId:v,verificationCode:C,phoneNumber:M,temporaryProof:V}):null}}class Al{constructor(m){var v,C,M,V,le,Te;const Xe=(0,W.zd)((0,W.pd)(m)),Nt=null!==(v=Xe.apiKey)&&void 0!==v?v:null,Kt=null!==(C=Xe.oobCode)&&void 0!==C?C:null,$t=function qd(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Xe.mode)&&void 0!==M?M:null);Q(Nt&&Kt&&$t,"argument-error"),this.apiKey=Nt,this.operation=$t,this.code=Kt,this.continueUrl=null!==(V=Xe.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(le=Xe.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Te=Xe.tenantId)&&void 0!==Te?Te:null}static parseLink(m){const v=function Zd(w){const m=(0,W.zd)((0,W.pd)(w)).link,v=m?(0,W.zd)((0,W.pd)(m)).deep_link_id:null,C=(0,W.zd)((0,W.pd)(w)).deep_link_id;return(C?(0,W.zd)((0,W.pd)(C)).link:null)||C||v||m||w}(m);try{return new Al(v)}catch{return null}}}let xo=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,C){return B._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const M=Al.parseLink(C);return Q(M,"argument-error"),B._fromEmailAndCode(v,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ao{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ta extends Ao{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ya extends ta{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Q("providerId"in v&&"signInMethod"in v,"argument-error"),Ye._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Q(m.idToken||m.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ya.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ya.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:V,nonce:le,providerId:Te}=m;if(!C&&!M&&!v&&!V||!Te)return null;try{return new Ya(Te)._credential({idToken:v,accessToken:C,nonce:le,pendingToken:V})}catch{return null}}}let Jn=(()=>{class w extends ta{constructor(){super("facebook.com")}static credential(v){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Xn=(()=>{class w extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:M}=v;if(!C&&!M)return null;try{return w.credential(C,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),ed=(()=>{class w extends ta{constructor(){super("github.com")}static credential(v){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class mi extends Mr{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return $(m,this.buildRequest())}_linkToIdToken(m,v){const C=this.buildRequest();return C.idToken=v,$(m,C)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,$(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:V}=v;return C&&M&&V&&C===M?new mi(C,V):null}static _create(m,v){return new mi(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zs extends Ao{constructor(m){Q(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return zs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return zs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=mi.fromJSON(m);return Q(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:C}=m;if(!v||!C)return null;try{return mi._create(C,v)}catch{return null}}}let xs=(()=>{class w extends ta{constructor(){super("twitter.com")}static credential(v,C){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=v;if(!C||!M)return null;try{return w.credential(C,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ka(w,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,u.Z)(function*(w,m){return Wr(w,"POST","/v1/accounts:signUp",dn(w,m))})).apply(this,arguments)}class Hn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,C,M=!1){return(0,u.Z)(function*(){const V=yield kt._fromIdTokenResponse(m,C,M),le=Yd(C);return new Hn({user:V,providerId:le,_tokenResponse:C,operationType:v})})()}static _forOperation(m,v,C){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Yd(C);return new Hn({user:m,providerId:M,_tokenResponse:C,operationType:v})})()}}function Yd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function $r(){return($r=(0,u.Z)(function*(w){var m;const v=Kn(w);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new Hn({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield Ka(v,{returnSecureToken:!0}),M=yield Hn._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Nl extends W.ZR{constructor(m,v,C,M){var V;super(v.code,v.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,Nl.prototype),this.customData={appName:m.name,tenantId:null!==(V=m.tenantId)&&void 0!==V?V:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,v,C,M){return new Nl(m,v,C,M)}}function qs(w,m,v,C){return("reauthenticate"===m?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?Nl._fromErrorAndOperation(w,V,m,C):V})}function As(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function gu(){return(gu=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w);yield An(!0,v,m);const{providerUserInfo:C}=yield Gi(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),M=As(C||[]);return v.providerData=v.providerData.filter(V=>M.has(V.providerId)),M.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Qa(w,m){return No.apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(w,m,v=!1){const C=yield Lr(w,m._linkToIdToken(w.auth,yield w.getIdToken()),v);return Hn._forOperation(w,"link",C)})).apply(this,arguments)}function An(w,m,v){return zi.apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(w,m,v){yield Sn(m);const M=!1===w?"provider-already-linked":"no-such-provider";Q(As(m.providerData).has(v)===w,m.auth,M)})).apply(this,arguments)}function Ja(w,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(w,m,v=!1){var C;const{auth:M}=w,V="reauthenticate";try{const le=yield Lr(w,qs(M,V,m,w),v);Q(le.idToken,M,"internal-error");const Te=Ot(le.idToken);Q(Te,M,"internal-error");const{sub:Xe}=Te;return Q(w.uid===Xe,M,"user-mismatch"),Hn._forOperation(w,V,le)}catch(le){throw"auth/user-not-found"===(null===(C=le)||void 0===C?void 0:C.code)&&He(M,"user-mismatch"),le}})).apply(this,arguments)}function po(w,m){return mu.apply(this,arguments)}function mu(){return(mu=(0,u.Z)(function*(w,m,v=!1){const C="signIn",M=yield qs(w,C,m),V=yield Hn._fromIdTokenResponse(w,C,M);return v||(yield w._updateCurrentUser(V.user)),V})).apply(this,arguments)}function er(w,m){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(w,m){return po(Kn(w),m)})).apply(this,arguments)}function Ol(w,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w);return yield An(!1,v,m.providerId),Qa(v,m)})).apply(this,arguments)}function go(w,m){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,u.Z)(function*(w,m){return Ja((0,W.m9)(w),m)})).apply(this,arguments)}function td(w,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(w,m){return Wr(w,"POST","/v1/accounts:signInWithCustomToken",dn(w,m))})).apply(this,arguments)}function _u(){return(_u=(0,u.Z)(function*(w,m){const v=Kn(w),C=yield td(v,{token:m,returnSecureToken:!0}),M=yield Hn._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ze{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?_n._fromServerResponse(m,v):He(m,"internal-error")}}class _n extends Ze{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new _n(v)}}function Xa(w,m,v){var C;Q((null===(C=v.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),Q(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Q(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(Q(v.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Jr(){return(Jr=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w),M={requestType:"PASSWORD_RESET",email:m};v&&Xa(C,M,v),yield Ur(C,M)})).apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(w,m,v){yield Qn((0,W.m9)(w),{oobCode:m,newPassword:v})})).apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(w,m){yield Es((0,W.m9)(w),{oobCode:m})})).apply(this,arguments)}function Rl(w,m){return rd.apply(this,arguments)}function rd(){return(rd=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w),C=yield Qn(v,{oobCode:m}),M=C.requestType;switch(Q(M,v,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(C.mfaInfo,v,"internal-error");default:Q(C.email,v,"internal-error")}let V=null;return C.mfaInfo&&(V=Ze._fromServerResponse(Kn(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:V},operation:M}})).apply(this,arguments)}function hc(){return(hc=(0,u.Z)(function*(w,m){const{data:v}=yield Rl((0,W.m9)(w),m);return v.email})).apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(w,m,v){const C=Kn(w),M=yield Ka(C,{returnSecureToken:!0,email:m,password:v}),V=yield Hn._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(V.user),V})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w),M={requestType:"EMAIL_SIGNIN",email:m};Q(v.handleCodeInApp,C,"argument-error"),v&&Xa(C,M,v),yield ho(C,M)})).apply(this,arguments)}function Du(){return(Du=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w),M=xo.credentialWithLink(m,v||Je());return Q(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),er(C,M)})).apply(this,arguments)}function cp(w,m){return id.apply(this,arguments)}function id(){return(id=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:createAuthUri",dn(w,m))})).apply(this,arguments)}function Cu(){return(Cu=(0,u.Z)(function*(w,m){const C={identifier:m,continueUri:Mt()?Je():"http://localhost"},{signinMethods:M}=yield cp((0,W.m9)(w),C);return M||[]})).apply(this,arguments)}function Iu(){return(Iu=(0,u.Z)(function*(w,m){const v=(0,W.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&Xa(v.auth,M,m);const{email:V}=yield Gn(v.auth,M);V!==w.email&&(yield w.reload())})).apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};v&&Xa(C.auth,V,v);const{email:le}=yield xl(C.auth,V);le!==w.email&&(yield w.reload())})).apply(this,arguments)}function Tu(w,m){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,u.Z)(function*(w,m){return Qt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function od(){return(od=(0,u.Z)(function*(w,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const C=(0,W.m9)(w),V={idToken:yield C.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},le=yield Lr(C,Tu(C.auth,V));C.displayName=le.displayName||null,C.photoURL=le.photoUrl||null;const Te=C.providerData.find(({providerId:Xe})=>"password"===Xe);Te&&(Te.displayName=C.displayName,Te.photoURL=C.photoURL),yield C._updateTokensIfNecessary(le)})).apply(this,arguments)}function Zs(w,m,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(w,m,v){const{auth:C}=w,V={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(V.email=m),v&&(V.password=v);const le=yield Lr(w,xn(C,V));yield w._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class Ns{constructor(m,v,C={}){this.isNewUser=m,this.providerId=v,this.profile=C}}class Tr extends Ns{constructor(m,v,C,M){super(m,v,C),this.username=M}}class ad extends Ns{constructor(m,v){super(m,"facebook.com",v)}}class ld extends Tr{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Qd extends Ns{constructor(m,v){super(m,"google.com",v)}}class Fl extends Tr{constructor(m,v,C){super(m,"twitter.com",v,C)}}function de(w){const{user:m,_tokenResponse:v}=w;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function _i(w){var m,v;if(!w)return null;const{providerId:C}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},V=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const le=null===(v=null===(m=Ot(w.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(le)return new Ns(V,"anonymous"!==le&&"custom"!==le?le:null)}if(!C)return null;switch(C){case"facebook.com":return new ad(V,M);case"github.com":return new ld(V,M);case"google.com":return new Qd(V,M);case"twitter.com":return new Fl(V,M,w.screenName||null);case"custom":case"anonymous":return new Ns(V,null);default:return new Ns(V,C,M)}}(v)}class Di{constructor(m,v,C){this.type=m,this.credential=v,this.auth=C}static _fromIdtoken(m,v){return new Di("enroll",m,v)}static _fromMfaPendingCredential(m){return new Di("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,C;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Di._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return Di._fromIdtoken(m.multiFactorSession.idToken)}return null}}class rl{constructor(m,v,C){this.session=m,this.hints=v,this.signInResolver=C}static _fromError(m,v){const C=Kn(m),M=v.customData._serverResponse,V=(M.mfaInfo||[]).map(Te=>Ze._fromServerResponse(C,Te));Q(M.mfaPendingCredential,C,"internal-error");const le=Di._fromMfaPendingCredential(M.mfaPendingCredential);return new rl(le,V,function(){var Te=(0,u.Z)(function*(Xe){const Nt=yield Xe._process(C,le);delete M.mfaInfo,delete M.mfaPendingCredential;const Kt=Object.assign(Object.assign({},M),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(v.operationType){case"signIn":const $t=yield Hn._fromIdTokenResponse(C,v.operationType,Kt);return yield C._updateCurrentUser($t.user),$t;case"reauthenticate":return Q(v.user,C,"internal-error"),Hn._forOperation(v.user,v.operationType,Kt);default:He(C,"internal-error")}});return function(Xe){return Te.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,u.Z)(function*(){return v.signInResolver(m)})()}}function ia(w,m){return Qt(w,"POST","/v2/accounts/mfaEnrollment:start",dn(w,m))}class tr{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>Ze._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new tr(m)}getSession(){var m=this;return(0,u.Z)(function*(){return Di._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,v){var C=this;return(0,u.Z)(function*(){const M=m,V=yield C.getSession(),le=yield Lr(C.user,M._process(C.user.auth,V,v));return yield C.user._updateTokensIfNecessary(le),C.user.reload()})()}unenroll(m){var v=this;return(0,u.Z)(function*(){var C;const M="string"==typeof m?m:m.uid,V=yield v.user.getIdToken(),le=yield Lr(v.user,function Eu(w,m){return Qt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(w,m))}(v.user.auth,{idToken:V,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Te})=>Te!==M),yield v.user._updateTokensIfNecessary(le);try{yield v.user.reload()}catch(Te){if("auth/user-token-expired"!==(null===(C=Te)||void 0===C?void 0:C.code))throw Te}})()}}const Ll=new WeakMap,Po="__sak";class pc{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Po,"1"),this.storage.removeItem(Po),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ea=(()=>{class w extends pc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Su(){const w=(0,W.z$)();return Dr(w)||$n(w)}()&&function lr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=co(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),V=this.localCache[C];M!==V&&v(C,V,M)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((Te,Xe,Nt)=>{this.notifyListeners(Te,Nt)});const M=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(M);if(v.newValue!==Te)null!==v.newValue?this.storage.setItem(M,v.newValue):this.storage.removeItem(M);else if(this.localCache[M]===v.newValue&&!C)return}const V=()=>{const Te=this.storage.getItem(M);!C&&this.localCache[M]===Te||this.notifyListeners(M,Te)},le=this.storage.getItem(M);!function Zr(){return(0,W.w1)()&&10===document.documentMode}()||le===v.newValue||v.newValue===v.oldValue?V():setTimeout(V,10)}notifyListeners(v,C){this.localCache[v]=C;const M=this.listeners[v];if(M)for(const V of Array.from(M))V(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var M=()=>super._set,V=this;return(0,u.Z)(function*(){yield M().call(V,v,C),V.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,M=this;return(0,u.Z)(function*(){const V=yield C().call(M,v);return M.localCache[v]=JSON.stringify(V),V})()}_remove(v){var C=()=>super._remove,M=this;return(0,u.Z)(function*(){yield C().call(M,v),delete M.localCache[v]})()}}return w.type="LOCAL",w})(),Os=(()=>{class w extends pc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return w.type="SESSION",w})();let ud=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(V=>V.isListeningto(v));if(C)return C;const M=new w(v);return this.receivers.push(M),M}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,u.Z)(function*(){const M=v,{eventId:V,eventType:le,data:Te}=M.data,Xe=C.handlersMap[le];if(!Xe?.size)return;M.ports[0].postMessage({status:"ack",eventId:V,eventType:le});const Nt=Array.from(Xe).map(function(){var $t=(0,u.Z)(function*(Bi){return Bi(M.origin,Te)});return function(Bi){return $t.apply(this,arguments)}}()),Kt=yield function Vl(w){return Promise.all(w.map(function(){var m=(0,u.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return m.apply(this,arguments)}}()))}(Nt);M.ports[0].postMessage({status:"done",eventId:V,eventType:le,response:Kt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Sa(w="",m=10){let v="";for(let C=0;C<m;C++)v+=Math.floor(10*Math.random());return w+v}class gc{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,C=50){var M=this;return(0,u.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let le,Te;return new Promise((Xe,Nt)=>{const Kt=Sa("",20);V.port1.start();const $t=setTimeout(()=>{Nt(new Error("unsupported_event"))},C);Te={messageChannel:V,onMessage(Bi){const to=Bi;if(to.data.eventId===Kt)switch(to.data.status){case"ack":clearTimeout($t),le=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Xe(to.data.response);break;default:clearTimeout($t),clearTimeout(le),Nt(new Error("invalid_response"))}}},M.handlers.add(Te),V.port1.addEventListener("message",Te.onMessage),M.target.postMessage({eventType:m,eventId:Kt,data:v},[V.port2])}).finally(()=>{Te&&M.removeMessageHandler(Te)})})()}}function xr(){return window}function ol(){return typeof xr().WorkerGlobalScope<"u"&&"function"==typeof xr().importScripts}function Au(){return(Au=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vo="firebaseLocalStorageDb",xa="firebaseLocalStorage",vc="fbase_key";class ul{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Nu(w,m){return w.transaction([xa],m?"readwrite":"readonly").objectStore(xa)}function ei(){const w=indexedDB.open(vo,1);return new Promise((m,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(xa,{keyPath:vc})}catch(M){v(M)}}),w.addEventListener("success",(0,u.Z)(function*(){const C=w.result;C.objectStoreNames.contains(xa)?m(C):(C.close(),yield function si(){const w=indexedDB.deleteDatabase(vo);return new ul(w).toPromise()}(),m(yield ei()))}))})}function sa(w,m,v){return cd.apply(this,arguments)}function cd(){return(cd=(0,u.Z)(function*(w,m,v){const C=Nu(w,!0).put({[vc]:m,value:v});return new ul(C).toPromise()})).apply(this,arguments)}function Mu(){return(Mu=(0,u.Z)(function*(w,m){const v=Nu(w,!1).get(m),C=yield new ul(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function oa(w,m){const v=Nu(w,!0).delete(m);return new ul(v).toPromise()}const ko=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,u.Z)(function*(){return v.db||(v.db=yield ei()),v.db})()}_withRetries(v){var C=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const V=yield C._openDb();return yield v(V)}catch(V){if(M++>3)throw V;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,u.Z)(function*(){return ol()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,u.Z)(function*(){v.receiver=ud._getInstance(function ll(){return ol()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(M,V){return{keyProcessed:(yield v._poll()).includes(V.key)}});return function(M,V){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(M,V){return["keyChanged"]});return function(M,V){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,u.Z)(function*(){var C,M;if(v.activeServiceWorker=yield function al(){return Au.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new gc(v.activeServiceWorker);const V=yield v.sender._send("ping",{},800);!V||(null===(C=V[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=V[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function mc(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const v=yield ei();return yield sa(v,Po,"1"),yield oa(v,Po),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(V=>sa(V,v,C)),M.localCache[v]=C,M.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,u.Z)(function*(){const M=yield C._withRetries(V=>function Ou(w,m){return Mu.apply(this,arguments)}(V,v));return C.localCache[v]=M,M})()}_remove(v){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(M=>oa(M,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,u.Z)(function*(){const C=yield v._withRetries(le=>{const Te=Nu(le,!1).getAll();return new ul(Te).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const M=[],V=new Set;for(const{fbase_key:le,value:Te}of C)V.add(le),JSON.stringify(v.localCache[le])!==JSON.stringify(Te)&&(v.notifyListeners(le,Te),M.push(le));for(const le of Object.keys(v.localCache))v.localCache[le]&&!V.has(le)&&(v.notifyListeners(le,null),M.push(le));return M})()}notifyListeners(v,C){this.localCache[v]=C;const M=this.listeners[v];if(M)for(const V of Array.from(M))V(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Fo(w,m){return Qt(w,"POST","/v2/accounts/mfaSignIn:start",dn(w,m))}function Aa(){return(Aa=(0,u.Z)(function*(w){return(yield Qt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $l(w){return new Promise((m,v)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=m,C.onerror=M=>{const V=ke("internal-error");V.customData=M,v(V)},C.type="text/javascript",C.charset="UTF-8",function Ul(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(C)})}function yc(w){return`__${w}${Math.floor(1e6*Math.random())}`}const la=1e12;class pr{constructor(m){this.auth=m,this.counter=la,this._widgets=new Map}render(m,v){const C=this.counter;return this._widgets.set(C,new U(m,this.auth.name,v||{})),this.counter++,C}reset(m){var v;const C=m||la;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(m){var v;return(null===(v=this._widgets.get(m||la))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,u.Z)(function*(){var C;return null===(C=v._widgets.get(m||la))||void 0===C||C.execute(),""})()}}class U{constructor(m,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;Q(M,"argument-error",{appName:v}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ru(w){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hl=yc("rcb"),Ys=new Yn(3e4,6e4);class Xd{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=xr().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return Q(function Vg(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(xr().grecaptcha):new Promise((C,M)=>{const V=xr().setTimeout(()=>{M(ke(m,"network-request-failed"))},Ys.get());xr()[Hl]=()=>{xr().clearTimeout(V),delete xr()[Hl];const Te=xr().grecaptcha;if(!Te)return void M(ke(m,"internal-error"));const Xe=Te.render;Te.render=(Nt,Kt)=>{const $t=Xe(Nt,Kt);return this.counter++,$t},this.hostLanguage=v,C(Te)},$l(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Hl,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(V),M(ke(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=xr().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pu{load(m){return(0,u.Z)(function*(){return new pr(m)})()}clearedOneInstance(){}}const jl="recaptcha",dp={theme:"light",type:"image"};class Ri{constructor(m,v=Object.assign({},dp),C){this.parameters=v,this.type=jl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(C),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;Q(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pu:new Xd,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(v)||new Promise(V=>{const le=Te=>{!Te||(m.tokenChangeListeners.delete(le),V(Te))};m.tokenChangeListeners.add(le),m.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof m)m(v);else if("string"==typeof m){const C=xr()[m];"function"==typeof C&&C(v)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){Q(Mt()&&!ol(),m.auth,"internal-error"),yield function dd(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function Ci(w){return Aa.apply(this,arguments)}(m.auth);Q(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zn{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Ca._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Ms(){return(Ms=(0,u.Z)(function*(w,m,v){const C=Kn(w),M=yield qn(C,m,(0,W.m9)(v));return new zn(M,V=>er(C,V))})).apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w);yield An(!1,C,"phone");const M=yield qn(C.auth,m,(0,W.m9)(v));return new zn(M,V=>Ol(C,V))})).apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w),M=yield qn(C.auth,m,(0,W.m9)(v));return new zn(M,V=>go(C,V))})).apply(this,arguments)}function qn(w,m,v){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(w,m,v){var C;const M=yield v.verify();try{let V;if(Q("string"==typeof M,w,"argument-error"),Q(v.type===jl,w,"argument-error"),V="string"==typeof m?{phoneNumber:m}:m,"session"in V){const le=V.session;if("phoneNumber"in V)return Q("enroll"===le.type,w,"internal-error"),(yield ia(w,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Q("signin"===le.type,w,"internal-error");const Te=(null===(C=V.multiFactorHint)||void 0===C?void 0:C.uid)||V.multiFactorUid;return Q(Te,w,"missing-multi-factor-info"),(yield Fo(w,{mfaPendingCredential:le.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield Et(w,{phoneNumber:V.phoneNumber,recaptchaToken:M});return le}}finally{v._reset()}})).apply(this,arguments)}function fd(){return(fd=(0,u.Z)(function*(w,m){yield Qa((0,W.m9)(w),m)})).apply(this,arguments)}let bc=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=Kn(v)}verifyPhoneNumber(v,C){return qn(this.auth,v,(0,W.m9)(C))}static credential(v,C){return Ca._fromVerification(v,C)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:M}=v;return C&&M?Ca._fromTokenResponse(C,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function hl(w,m){return m?ye(m):(Q(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class pd extends Mr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return $(m,this._buildIdpRequest())}_linkToIdToken(m,v){return $(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return $(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function ti(w){return po(w.auth,new pd(w),w.bypassAuthState)}function ku(w){const{auth:m,user:v}=w;return Q(v,m,"internal-error"),Ja(v,new pd(w),w.bypassAuthState)}function Na(w){return _s.apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(w){const{auth:m,user:v}=w;return Q(v,m,"internal-error"),Qa(v,new pd(w),w.bypassAuthState)})).apply(this,arguments)}class Fu{constructor(m,v,C,M,V=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,u.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(V){m.reject(V)}});return function(C,M){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:V,tenantId:le,error:Te,type:Xe}=m;if(Te)return void v.reject(Te);const Nt={auth:v.auth,requestUri:C,sessionId:M,tenantId:le||void 0,postBody:V||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Xe)(Nt))}catch(Kt){v.reject(Kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ti;case"linkViaPopup":case"linkViaRedirect":return Na;case"reauthViaPopup":case"reauthViaRedirect":return ku;default:He(this.auth,"internal-error")}}resolve(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gd=new Yn(2e3,1e4);function Lu(){return(Lu=(0,u.Z)(function*(w,m,v){const C=Kn(w);st(w,m,Ao);const M=hl(C,v);return new Vu(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function _d(){return(_d=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w);st(C.auth,m,Ao);const M=hl(C.auth,v);return new Vu(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function Bu(){return(Bu=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w);st(C.auth,m,Ao);const M=hl(C.auth,v);return new Vu(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let Vu=(()=>{class w extends Fu{constructor(v,C,M,V,le){super(v,C,V,le),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,u.Z)(function*(){const C=yield v.execute();return Q(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,u.Z)(function*(){ae(1===v.filter.length,"Popup operations only handle one event");const C=Sa();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(M=>{v.reject(M)}),v.resolver._isIframeWebStorageSupported(v.auth,M=>{M||v.reject(ke(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,gd.get())};v()}}return w.currentPopupAction=null,w})();const Pr=new Map;class Rs extends Fu{constructor(m,v,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,u.Z)(function*(){let C=Pr.get(v.auth._key());if(!C){try{const V=(yield function Wn(w,m){return bt.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;C=()=>Promise.resolve(V)}catch(M){C=()=>Promise.reject(M)}Pr.set(v.auth._key(),C)}return v.bypassAuthState||Pr.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,v().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function bt(){return(bt=(0,u.Z)(function*(w,m){const v=wc(m),C=vi(w);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(v));return yield C._remove(v),M})).apply(this,arguments)}function li(w,m){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(w,m){return vi(w)._set(wc(m),"true")})).apply(this,arguments)}function Ks(w,m){Pr.set(w._key(),m)}function vi(w){return ye(w._redirectPersistence)}function wc(w){return qr("pendingRedirect",w.config.apiKey,w.name)}function S(){return(S=(0,u.Z)(function*(w,m,v){const C=Kn(w);st(w,m,Ao);const M=hl(C,v);return yield li(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w);st(C.auth,m,Ao);const M=hl(C.auth,v);yield li(M,C.auth);const V=yield Ut(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",V)})).apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(w,m,v){const C=(0,W.m9)(w);st(C.auth,m,Ao);const M=hl(C.auth,v);yield An(!1,C,m.providerId),yield li(M,C.auth);const V=yield Ut(C);return M._openRedirect(C.auth,m,"linkViaRedirect",V)})).apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(w,m){return yield Kn(w)._initializationPromise,Ht(w,m,!1)})).apply(this,arguments)}function Ht(w,m){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(w,m,v=!1){const C=Kn(w),M=hl(C,m),le=yield new Rs(C,M,v).execute();return le&&!v&&(delete le.user._redirectEventId,yield C._persistUserIfCurrent(le.user),yield C._setRedirectUser(null,m)),le})).apply(this,arguments)}function Ut(w){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(w){const m=Sa(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class Zn{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(v=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Wl(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ua(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var C;if(m.error&&!ua(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(ke(this.auth,M))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const C=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ui(m))}saveEventToCache(m){this.cachedEventUids.add(ui(m)),this.lastProcessedEventTime=Date.now()}}function ui(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function ua({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===m?.code}function Oa(w){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(w,m={}){return Qt(w,"GET","/v1/projects",m)})).apply(this,arguments)}const Ra=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qs=/^https?/;function lf(){return(lf=(0,u.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield Oa(w);for(const v of m)try{if(th(v))return}catch{}He(w,"unauthorized-domain")})).apply(this,arguments)}function th(w){const m=Je(),{protocol:v,hostname:C}=new URL(m);if(w.startsWith("chrome-extension://")){const le=new URL(w);return""===le.hostname&&""===C?"chrome-extension:"===v&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&le.hostname===C}if(!Qs.test(v))return!1;if(Ra.test(w))return C===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const Ug=new Yn(3e4,6e4);function Uu(){const w=xr().___jsl;if(w?.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Dc=null;function fp(w){return Dc=Dc||function $u(w){return new Promise((m,v)=>{var C,M,V;function le(){Uu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Uu(),v(ke(w,"network-request-failed"))},timeout:Ug.get()})}if(null!==(M=null===(C=xr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(V=xr().gapi)||void 0===V||!V.load){const Te=yc("iframefcb");return xr()[Te]=()=>{gapi.load?le():v(ke(w,"network-request-failed"))},$l(`https://apis.google.com/js/api.js?onload=${Te}`).catch(Xe=>v(Xe))}le()}}).catch(m=>{throw Dc=null,m})}(w),Dc}const Cc=new Yn(5e3,15e3),rh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ih=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ci(w){const m=w.config;Q(m.authDomain,w,"auth-domain-config-required");const v=m.emulator?dr(m,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:w.name,v:be.SDK_VERSION},M=ih.get(w.config.apiHost);M&&(C.eid=M);const V=w._getFrameworks();return V.length&&(C.fw=V.join(",")),`${v}?${(0,W.xO)(C).slice(1)}`}function kr(){return kr=(0,u.Z)(function*(w){const m=yield fp(w),v=xr().gapi;return Q(v,w,"internal-error"),m.open({where:document.body,url:ci(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rh,dontclear:!0},C=>new Promise(function(){var M=(0,u.Z)(function*(V,le){yield C.restyle({setHideOnLeave:!1});const Te=ke(w,"network-request-failed"),Xe=xr().setTimeout(()=>{le(Te)},Cc.get());function Nt(){xr().clearTimeout(Xe),V(C)}C.ping(Nt).then(Nt,()=>{le(Te)})});return function(V,le){return M.apply(this,arguments)}}()))}),kr.apply(this,arguments)}const ca={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ic{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bo(w,m,v,C,M,V){Q(w.config.authDomain,w,"auth-domain-config-required"),Q(w.config.apiKey,w,"invalid-api-key");const le={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:C,v:be.SDK_VERSION,eventId:M};if(m instanceof Ao){m.setDefaultLanguage(w.languageCode),le.providerId=m.providerId||"",(0,W.xb)(m.getCustomParameters())||(le.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Xe,Nt]of Object.entries(V||{}))le[Xe]=Nt}if(m instanceof ta){const Xe=m.getScopes().filter(Nt=>""!==Nt);Xe.length>0&&(le.scopes=Xe.join(","))}w.tenantId&&(le.tid=w.tenantId);const Te=le;for(const Xe of Object.keys(Te))void 0===Te[Xe]&&delete Te[Xe];return`${function vp({config:w}){return w.emulator?dr(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,W.xO)(Te).slice(1)}`}const Tc="webStorageSupport";class Vo extends class vn{constructor(m){this.factorId=m}_process(m,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,C);case"signin":return this._finalizeSignIn(m,v.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Vo(m)}_finalizeEnroll(m,v,C){return function il(w,m){return Qt(w,"POST","/v2/accounts/mfaEnrollment:finalize",dn(w,m))}(m,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function dl(w,m){return Qt(w,"POST","/v2/accounts/mfaSignIn:finalize",dn(w,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ec=(()=>{class w{constructor(){}static assertion(v){return Vo._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var Sc="@firebase/auth";class df{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,u.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Nr(){return window}function hf(){return(hf=(0,u.Z)(function*(w,m,v){var C;const{BuildInfo:M}=Nr();ae(m.sessionId,"AuthEvent did not contain a session ID");const V=yield vd(m.sessionId),le={};return $n()?le.ibi=M.packageName:Vr()?le.apn=M.packageName:He(w,"operation-not-supported-in-this-environment"),M.displayName&&(le.appDisplayName=M.displayName),le.sessionId=V,Bo(w,v,m.type,void 0,null!==(C=m.eventId)&&void 0!==C?C:void 0,le)})).apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(w){const{BuildInfo:m}=Nr(),v={};$n()?v.iosBundleId=m.packageName:Vr()?v.androidPackageName=m.packageName:He(w,"operation-not-supported-in-this-environment"),yield Oa(w,v)})).apply(this,arguments)}function zl(){return(zl=(0,u.Z)(function*(w,m,v){const{cordova:C}=Nr();let M=()=>{};try{yield new Promise((V,le)=>{let Te=null;function Xe(){var $t;V();const Bi=null===($t=C.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Bi&&Bi(),"function"==typeof v?.close&&v.close()}function Nt(){Te||(Te=window.setTimeout(()=>{le(ke(w,"redirect-cancelled-by-user"))},2e3))}function Kt(){"visible"===document?.visibilityState&&Nt()}m.addPassiveListener(Xe),document.addEventListener("resume",Nt,!1),Vr()&&document.addEventListener("visibilitychange",Kt,!1),M=()=>{m.removePassiveListener(Xe),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",Kt,!1),Te&&window.clearTimeout(Te)}})}finally{M()}})).apply(this,arguments)}function vd(w){return ah.apply(this,arguments)}function ah(){return(ah=(0,u.Z)(function*(w){const m=yd(w),v=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(v)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yd(w){if(ae(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const m=new ArrayBuffer(w.length),v=new Uint8Array(m);for(let C=0;C<w.length;C++)v[C]=w.charCodeAt(C);return v}!function ki(w){(0,be._registerComponent)(new Ie.wA("auth",(m,{options:v})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:V,authDomain:le}=C.options;return((Te,Xe)=>{Q(V&&!V.includes(":"),"invalid-api-key",{appName:Te.name}),Q(!le?.includes(":"),"argument-error",{appName:Te.name});const Nt={apiKey:V,authDomain:le,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hs(w)},Kt=new tn(Te,Xe,Nt);return function rt(w,m){const v=m?.persistence||[],C=(Array.isArray(v)?v:[v]).map(ye);m?.errorMap&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(C,m?.popupRedirectResolver)}(Kt,v),Kt})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,C)=>{m.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new Ie.wA("auth-internal",m=>{const v=Kn(m.getProvider("auth").getImmediate());return new df(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(Sc,"0.20.7",function $g(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,be.registerVersion)(Sc,"0.20.7","esm2017")}("Browser");class ha extends Zn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(m)),super.onEvent(m)}initialized(){var m=this;return(0,u.Z)(function*(){yield m.initPromise})()}}function bp(w){return xc.apply(this,arguments)}function xc(){return(xc=(0,u.Z)(function*(w){const m=yield ch()._get(bd(w));return m&&(yield ch()._remove(bd(w))),m})).apply(this,arguments)}function pf(){const w=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const C=Math.floor(Math.random()*m.length);w.push(m.charAt(C))}return w.join("")}function ch(){return ye(Ea)}function bd(w){return qr("authEvent",w.config.apiKey,w.name)}function Nc(w){if(!w?.includes("?"))return{};const[m,...v]=w.split("?");return(0,W.zd)(v.join("?"))}function wo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ke("no-auth-event")}}function Dd(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function Dp(w=(0,W.z$)()){return!("file:"!==Dd()&&"ionic:"!==Dd()&&"capacitor:"!==Dd()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function qu(){try{const w=self.localStorage,m=Sa();if(w)return w.setItem(m,"1"),w.removeItem(m),!function Cd(w=(0,W.z$)()){return function Wu(){return(0,W.w1)()&&11===document?.documentMode}()||function zu(w=(0,W.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,W.hl)()}catch{return Id()&&(0,W.hl)()}return!1}function Id(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mc(){return(function Hg(){return"http:"===Dd()||"https:"===Dd()}()||(0,W.ru)()||Dp())&&!function Cp(){return(0,W.b$)()||(0,W.UG)()}()&&qu()&&!Id()}function gf(){return Dp()&&typeof document<"u"}function Td(){return(Td=(0,u.Z)(function*(){return!!gf()&&new Promise(w=>{const m=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),w(!0)})})})).apply(this,arguments)}const eo={LOCAL:"local",NONE:"none",SESSION:"session"},fh=Q,Ed="persistence";function Rc(w){return ph.apply(this,arguments)}function ph(){return(ph=(0,u.Z)(function*(w){yield w._initializationPromise;const m=Go(),v=qr(Ed,w.config.apiKey,w.name);m&&m.setItem(v,w._getPersistence())})).apply(this,arguments)}function Go(){var w;try{return(null===(w=function hh(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const Yl=Q;class ks{constructor(){this.browserResolver=ye(class Gu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=Ht,this._overrideRedirectResult=Ks}_openPopup(m,v,C,M){var V=this;return(0,u.Z)(function*(){var le;ae(null===(le=V.eventManagers[m._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Te=Bo(m,v,C,Je(),M);return function Pa(w,m,v,C=500,M=600){const V=Math.max((window.screen.availHeight-M)/2,0).toString(),le=Math.max((window.screen.availWidth-C)/2,0).toString();let Te="";const Xe=Object.assign(Object.assign({},ca),{width:C.toString(),height:M.toString(),top:V,left:le}),Nt=(0,W.z$)().toLowerCase();v&&(Te=us(Nt)?"_blank":v),ar(Nt)&&(m=m||"http://localhost",Xe.scrollbars="yes");const Kt=Object.entries(Xe).reduce((Bi,[to,Fa])=>`${Bi}${to}=${Fa},`,"");if(function ds(w=(0,W.z$)()){var m;return $n(w)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Nt)&&"_self"!==Te)return function uf(w,m){const v=document.createElement("a");v.href=w,v.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(m||"",Te),new Ic(null);const $t=window.open(m||"",Te,Kt);Q($t,w,"popup-blocked");try{$t.focus()}catch{}return new Ic($t)}(m,Te,Sa())})()}_openRedirect(m,v,C,M){var V=this;return(0,u.Z)(function*(){return yield V._originValidation(m),function Mi(w){xr().location.href=w}(Bo(m,v,C,Je(),M)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:M,promise:V}=this.eventManagers[v];return M?Promise.resolve(M):(ae(V,"If manager is not set, promise should be"),V)}const C=this.initAndGetManager(m);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(m){var v=this;return(0,u.Z)(function*(){const C=yield function ri(w){return kr.apply(this,arguments)}(m),M=new Zn(m);return C.register("authEvent",V=>(Q(V?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:M},v.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Tc,{type:Tc},M=>{var V;const le=null===(V=M?.[0])||void 0===V?void 0:V[Tc];void 0!==le&&v(!!le),He(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function fl(w){return lf.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return co()||Dr()||$n()}}),this.cordovaResolver=ye(class wd{constructor(){this._redirectPersistence=Os,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ht,this._overrideRedirectResult=Ks}_initialize(m){var v=this;return(0,u.Z)(function*(){const C=m._key();let M=v.eventManagers.get(C);return M||(M=new ha(m),v.eventManagers.set(C,M),v.attachCallbackListeners(m,M)),M})()}_openPopup(m){He(m,"operation-not-supported-in-this-environment")}_openRedirect(m,v,C,M){var V=this;return(0,u.Z)(function*(){!function oh(w){var m,v,C,M,V,le,Te,Xe,Nt,Kt;const $t=Nr();Q("function"==typeof(null===(m=$t?.universalLinks)||void 0===m?void 0:m.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(v=$t?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(V=null===(M=null===(C=$t?.cordova)||void 0===C?void 0:C.plugins)||void 0===M?void 0:M.browsertab)||void 0===V?void 0:V.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Xe=null===(Te=null===(le=$t?.cordova)||void 0===le?void 0:le.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===Xe?void 0:Xe.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Kt=null===(Nt=$t?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===Kt?void 0:Kt.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const le=yield V._initialize(m);yield le.initialized(),le.resetRedirect(),function Ps(){Pr.clear()}(),yield V._originValidation(m);const Te=function lh(w,m,v=null){return{type:m,eventId:v,urlResponse:null,sessionId:pf(),postBody:null,tenantId:w.tenantId,error:ke(w,"no-auth-event")}}(m,C,M);yield function ql(w,m){return ch()._set(bd(w),m)}(m,Te);const Xe=yield function yp(w,m,v){return hf.apply(this,arguments)}(m,Te,v),Nt=yield function Uo(w){const{cordova:m}=Nr();return new Promise(v=>{m.plugins.browsertab.isAvailable(C=>{let M=null;C?m.plugins.browsertab.openUrl(w):M=m.InAppBrowser.open(w,function cs(w=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),v(M)})})}(Xe);return function Hu(w,m,v){return zl.apply(this,arguments)}(m,le,Nt)})()}_isIframeWebStorageSupported(m,v){throw new Error("Method not implemented.")}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Js(w){return Xs.apply(this,arguments)}(m)),this.originValidationPromises[v]}attachCallbackListeners(m,v){const{universalLinks:C,handleOpenURL:M,BuildInfo:V}=Nr(),le=setTimeout((0,u.Z)(function*(){yield bp(m),v.onEvent(wo())}),500),Te=function(){var Kt=(0,u.Z)(function*($t){clearTimeout(le);const Bi=yield bp(m);let to=null;Bi&&$t?.url&&(to=function uh(w,m){var v,C;const M=function Ac(w){const m=Nc(w),v=m.link?decodeURIComponent(m.link):void 0,C=Nc(v).link,M=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Nc(M).link||M||C||v||w}(m);if(M.includes("/__/auth/callback")){const V=Nc(M),le=V.firebaseError?function dh(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(V.firebaseError)):null,Te=null===(C=null===(v=le?.code)||void 0===v?void 0:v.split("auth/"))||void 0===C?void 0:C[1],Xe=Te?ke(Te):null;return Xe?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:M,postBody:null}}return null}(Bi,$t.url)),v.onEvent(to||wo())});return function(Bi){return Kt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,Te);const Xe=M,Nt=`${V.packageName.toLowerCase()}://`;Nr().handleOpenURL=function(){var Kt=(0,u.Z)(function*($t){if($t.toLowerCase().startsWith(Nt)&&Te({url:$t}),"function"==typeof Xe)try{Xe($t)}catch(Bi){console.error(Bi)}});return function($t){return Kt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Os,this._completeRedirectFn=Ht,this._overrideRedirectResult=Ks}_initialize(m){var v=this;return(0,u.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,v,C,M){var V=this;return(0,u.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openPopup(m,v,C,M)})()}_openRedirect(m,v,C,M){var V=this;return(0,u.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openRedirect(m,v,C,M)})()}_isIframeWebStorageSupported(m,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,v)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return gf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,u.Z)(function*(){if(m.underlyingResolver)return;const v=yield function mf(){return Td.apply(this,arguments)}();m.underlyingResolver=v?m.cordovaResolver:m.browserResolver})()}}function Zu(w){return w.unwrap()}function Pc(w){return Do(w)}function Do(w){const{_tokenResponse:m}=w instanceof W.ZR?w.customData:w;if(!m)return null;if(!(w instanceof W.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return bc.credentialFromResult(w);const v=m.providerId;if(!v||"password"===v)return null;let C;switch(v){case"google.com":C=Xn;break;case"facebook.com":C=Jn;break;case"github.com":C=ed;break;case"twitter.com":C=xs;break;default:const{oauthIdToken:M,oauthAccessToken:V,oauthTokenSecret:le,pendingToken:Te,nonce:Xe}=m;return V||le||M||Te?Te?v.startsWith("saml.")?mi._create(v,Te):Ye._fromParams({providerId:v,signInMethod:v,pendingToken:Te,idToken:M,accessToken:V}):new Ya(v).credential({idToken:M,accessToken:V,rawNonce:Xe}):null}return w instanceof W.ZR?C.credentialFromError(w):C.credentialFromResult(w)}function Fi(w,m){return m.catch(v=>{throw v instanceof W.ZR&&function Ql(w,m){var v,C;const M=null===(v=m.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=m)||void 0===C?void 0:C.code))m.resolver=new Fc(w,function Xr(w,m){var v;const C=(0,W.m9)(w),M=m;return Q(m.customData.operationType,C,"argument-error"),Q(null===(v=M.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),rl._fromError(C,M)}(w,m));else if(M){const V=Do(m),le=m;V&&(le.credential=V,le.tenantId=M.tenantId||void 0,le.email=M.email||void 0,le.phoneNumber=M.phoneNumber||void 0)}}(w,v),v}).then(v=>{const M=v.user;return{operationType:v.operationType,credential:Pc(v),additionalUserInfo:de(v),user:Ii.getOrCreate(M)}})}function Jl(w,m){return kc.apply(this,arguments)}function kc(){return(kc=(0,u.Z)(function*(w,m){const v=yield m;return{verificationId:v.verificationId,confirm:C=>Fi(w,v.confirm(C))}})).apply(this,arguments)}class Fc{constructor(m,v){this.resolver=v,this.auth=function Kl(w){return w.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Fi(Zu(this.auth),this.resolver.resolveSignIn(m))}}class Ii{constructor(m){this._delegate=m,this.multiFactor=function sl(w){const m=(0,W.m9)(w);return Ll.has(m)||Ll.set(m,tr._fromUser(m)),Ll.get(m)}(m)}static getOrCreate(m){return Ii.USER_MAP.has(m)||Ii.USER_MAP.set(m,new Ii(m)),Ii.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var v=this;return(0,u.Z)(function*(){return Fi(v.auth,Ol(v._delegate,m))})()}linkWithPhoneNumber(m,v){var C=this;return(0,u.Z)(function*(){return Jl(C.auth,function qi(w,m,v){return oi.apply(this,arguments)}(C._delegate,m,v))})()}linkWithPopup(m){var v=this;return(0,u.Z)(function*(){return Fi(v.auth,function af(w,m,v){return Bu.apply(this,arguments)}(v._delegate,m,ks))})()}linkWithRedirect(m){var v=this;return(0,u.Z)(function*(){return yield Rc(Kn(v.auth)),function he(w,m,v){return function Ee(w,m,v){return We.apply(this,arguments)}(w,m,v)}(v._delegate,m,ks)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var v=this;return(0,u.Z)(function*(){return Fi(v.auth,go(v._delegate,m))})()}reauthenticateWithPhoneNumber(m,v){return Jl(this.auth,function ai(w,m,v){return ir.apply(this,arguments)}(this._delegate,m,v))}reauthenticateWithPopup(m){return Fi(this.auth,function hp(w,m,v){return _d.apply(this,arguments)}(this._delegate,m,ks))}reauthenticateWithRedirect(m){var v=this;return(0,u.Z)(function*(){return yield Rc(Kn(v.auth)),function N(w,m,v){return function F(w,m,v){return q.apply(this,arguments)}(w,m,v)}(v._delegate,m,ks)})()}sendEmailVerification(m){return function Ia(w,m){return Iu.apply(this,arguments)}(this._delegate,m)}unlink(m){var v=this;return(0,u.Z)(function*(){return yield function is(w,m){return gu.apply(this,arguments)}(v._delegate,m),v})()}updateEmail(m){return function Kd(w,m){return Zs((0,W.m9)(w),m,null)}(this._delegate,m)}updatePassword(m){return function nl(w,m){return Zs((0,W.m9)(w),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function hd(w,m){return fd.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function kl(w,m){return od.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,v){return function sd(w,m,v){return Pl.apply(this,arguments)}(this._delegate,m,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ii.USER_MAP=new WeakMap;const Gt=Q;let gh=(()=>{class w{constructor(v,C){if(this.app=v,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=v.options;Gt(M,"invalid-api-key",{appName:v.name}),Gt(M,"invalid-api-key",{appName:v.name});const V=typeof window<"u"?ks:void 0;this._delegate=C.initialize({options:{persistence:Yu(M,v.name),popupRedirectResolver:V}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ii.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,C){!function Eo(w,m,v){const C=Kn(w);Q(C._canInitEmulator,C,"emulator-config-failed"),Q(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!v?.disableWarnings,V=Ws(m),{host:le,port:Te}=function Cr(w){const m=Ws(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const V=M[1];return{host:V,port:Ts(C.substr(V.length+1))}}{const[V,le]=C.split(":");return{host:V,port:Ts(le)}}}(m);C.config.emulator={url:`${V}//${le}${null===Te?"":`:${Te}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:le,port:Te,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Yr(){function w(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,v,C)}applyActionCode(v){return function gs(w,m){return tl.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Rl(this._delegate,v)}confirmPasswordReset(v,C){return function vu(w,m,v){return el.apply(this,arguments)}(this._delegate,v,C)}createUserWithEmailAndPassword(v,C){var M=this;return(0,u.Z)(function*(){return Fi(M._delegate,function bu(w,m,v){return Gr.apply(this,arguments)}(M._delegate,v,C))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function fc(w,m){return Cu.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Oo(w,m){return"EMAIL_SIGNIN"===Al.parseLink(m)?.operation}(0,v)}getRedirectResult(){var v=this;return(0,u.Z)(function*(){Gt(Mc(),v._delegate,"operation-not-supported-in-this-environment");const C=yield function nt(w,m){return Vt.apply(this,arguments)}(v._delegate,ks);return C?Fi(v._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function wp(w,m){Kn(w)._logFramework(m)}(this._delegate,v)}onAuthStateChanged(v,C,M){const{next:V,error:le,complete:Te}=_f(v,C,M);return this._delegate.onAuthStateChanged(V,le,Te)}onIdTokenChanged(v,C,M){const{next:V,error:le,complete:Te}=_f(v,C,M);return this._delegate.onIdTokenChanged(V,le,Te)}sendSignInLinkToEmail(v,C){return function wu(w,m,v){return _o.apply(this,arguments)}(this._delegate,v,C)}sendPasswordResetEmail(v,C){return function ra(w,m,v){return Jr.apply(this,arguments)}(this._delegate,v,C||void 0)}setPersistence(v){var C=this;return(0,u.Z)(function*(){let M;switch(function Sd(w,m){fh(Object.values(eo).includes(m),w,"invalid-persistence-type"),(0,W.b$)()?fh(m!==eo.SESSION,w,"unsupported-persistence-type"):(0,W.UG)()?fh(m===eo.NONE,w,"unsupported-persistence-type"):Id()?fh(m===eo.NONE||m===eo.LOCAL&&(0,W.hl)(),w,"unsupported-persistence-type"):fh(m===eo.NONE||qu(),w,"unsupported-persistence-type")}(C._delegate,v),v){case eo.SESSION:M=Os;break;case eo.LOCAL:M=(yield ye(ko)._isAvailable())?ko:Ea;break;case eo.NONE:M=Fn;break;default:return He("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Fi(this._delegate,function pu(w){return $r.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Fi(this._delegate,er(this._delegate,v))}signInWithCustomToken(v){return Fi(this._delegate,function nd(w,m){return _u.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,C){return Fi(this._delegate,function Hr(w,m,v){return er((0,W.m9)(w),xo.credential(m,v))}(this._delegate,v,C))}signInWithEmailLink(v,C){return Fi(this._delegate,function rf(w,m,v){return Du.apply(this,arguments)}(this._delegate,v,C))}signInWithPhoneNumber(v,C){return Jl(this._delegate,function sf(w,m,v){return Ms.apply(this,arguments)}(this._delegate,v,C))}signInWithPopup(v){var C=this;return(0,u.Z)(function*(){return Gt(Mc(),C._delegate,"operation-not-supported-in-this-environment"),Fi(C._delegate,function md(w,m,v){return Lu.apply(this,arguments)}(C._delegate,v,ks))})()}signInWithRedirect(v){var C=this;return(0,u.Z)(function*(){return Gt(Mc(),C._delegate,"operation-not-supported-in-this-environment"),yield Rc(C._delegate),function ni(w,m,v){return function eh(w,m,v){return S.apply(this,arguments)}(w,m,v)}(C._delegate,v,ks)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function yu(w,m){return hc.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=eo,w})();function _f(w,m,v){let C=w;"function"!=typeof w&&({next:C,error:m,complete:v}=w);const M=C;return{next:le=>M(le&&Ii.getOrCreate(le)),error:m,complete:v}}function Yu(w,m){const v=function Zl(w,m){const v=Go();if(!v)return[];const C=qr(Ed,w,m);switch(v.getItem(C)){case eo.NONE:return[Fn];case eo.LOCAL:return[ko,Os];case eo.SESSION:return[Os];default:return[]}}(w,m);if(typeof self<"u"&&!v.includes(ko)&&v.push(ko),typeof window<"u")for(const C of[Ea,Os])v.includes(C)||v.push(C);return v.includes(Fn)||v.push(Fn),v}class mh{constructor(){this.providerId="phone",this._delegate=new bc(Zu(k.Z.auth()))}static credential(m,v){return bc.credential(m,v)}verifyPhoneNumber(m,v){return this._delegate.verifyPhoneNumber(m,v)}unwrap(){return this._delegate}}mh.PHONE_SIGN_IN_METHOD=bc.PHONE_SIGN_IN_METHOD,mh.PROVIDER_ID=bc.PROVIDER_ID;const Lc=Q;class Ku{constructor(m,v,C=k.Z.app()){var M;Lc(null===(M=C.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Ri(m,v,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xd(w){w.INTERNAL.registerComponent(new Ie.wA("auth-compat",m=>{const v=m.getProvider("app-compat").getImmediate(),C=m.getProvider("auth");return new gh(v,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:xo,FacebookAuthProvider:Jn,GithubAuthProvider:ed,GoogleAuthProvider:Xn,OAuthProvider:Ya,SAMLAuthProvider:zs,PhoneAuthProvider:mh,PhoneMultiFactorGenerator:Ec,RecaptchaVerifier:Ku,TwitterAuthProvider:xs,Auth:gh,AuthCredential:Mr,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.20")}(k.Z)},5386:(At,Ge,j)=>{var u;!function(k,W,be,ge){"use strict";var ht,Ce=["","webkit","Moz","MS","ms","o"],Ie=W.createElement("div"),Ae=Math.round,J=Math.abs,X=Date.now;function ce(B,$,ee){return setTimeout(St(B,ee),$)}function tt(B,$,ee){return!!Array.isArray(B)&&(Ue(B,ee[$],ee),!0)}function Ue(B,$,ee){var we;if(B)if(B.forEach)B.forEach($,ee);else if(B.length!==ge)for(we=0;we<B.length;)$.call(ee,B[we],we,B),we++;else for(we in B)B.hasOwnProperty(we)&&$.call(ee,B[we],we,B)}function Le(B,$,ee){var we="DEPRECATED METHOD: "+$+"\n"+ee+" AT \n";return function(){var Ye=new Error("get-stack-trace"),Et=Ye&&Ye.stack?Ye.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",an=k.console&&(k.console.warn||k.console.log);return an&&an.call(k.console,we,Et),B.apply(this,arguments)}}ht="function"!=typeof Object.assign?function($){if($===ge||null===$)throw new TypeError("Cannot convert undefined or null to object");for(var ee=Object($),we=1;we<arguments.length;we++){var Ye=arguments[we];if(Ye!==ge&&null!==Ye)for(var Et in Ye)Ye.hasOwnProperty(Et)&&(ee[Et]=Ye[Et])}return ee}:Object.assign;var Oe=Le(function($,ee,we){for(var Ye=Object.keys(ee),Et=0;Et<Ye.length;)(!we||we&&$[Ye[Et]]===ge)&&($[Ye[Et]]=ee[Ye[Et]]),Et++;return $},"extend","Use `assign`."),Me=Le(function($,ee){return Oe($,ee,!0)},"merge","Use `assign`.");function at(B,$,ee){var Ye,we=$.prototype;(Ye=B.prototype=Object.create(we)).constructor=B,Ye._super=we,ee&&ht(Ye,ee)}function St(B,$){return function(){return B.apply($,arguments)}}function He(B,$){return"function"==typeof B?B.apply($&&$[0]||ge,$):B}function ke(B,$){return B===ge?$:B}function Fe(B,$,ee){Ue(Re($),function(we){B.addEventListener(we,ee,!1)})}function st(B,$,ee){Ue(Re($),function(we){B.removeEventListener(we,ee,!1)})}function ft(B,$){for(;B;){if(B==$)return!0;B=B.parentNode}return!1}function Q(B,$){return B.indexOf($)>-1}function Re(B){return B.trim().split(/\s+/g)}function ae(B,$,ee){if(B.indexOf&&!ee)return B.indexOf($);for(var we=0;we<B.length;){if(ee&&B[we][ee]==$||!ee&&B[we]===$)return we;we++}return-1}function pe(B){return Array.prototype.slice.call(B,0)}function ye(B,$,ee){for(var we=[],Ye=[],Et=0;Et<B.length;){var an=$?B[Et][$]:B[Et];ae(Ye,an)<0&&we.push(B[Et]),Ye[Et]=an,Et++}return ee&&(we=$?we.sort(function(ur,Wi){return ur[$]>Wi[$]}):we.sort()),we}function ve(B,$){for(var ee,we,Ye=$[0].toUpperCase()+$.slice(1),Et=0;Et<Ce.length;){if((we=(ee=Ce[Et])?ee+Ye:$)in B)return we;Et++}return ge}var rt=1;function Mt(B){var $=B.ownerDocument||B;return $.defaultView||$.parentWindow||k}var cn="ontouchstart"in k,pt=ve(k,"PointerEvent")!==ge,Yn=cn&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),dr="touch",pn="mouse",Hi=["x","y"],Cn=["clientX","clientY"];function nr(B,$){var ee=this;this.manager=B,this.callback=$,this.element=B.element,this.target=B.options.inputTarget,this.domHandler=function(we){He(B.options.enable,[B])&&ee.handler(we)},this.init()}function Fr(B,$,ee){var we=ee.pointers.length,Ye=ee.changedPointers.length,Et=1&$&&we-Ye==0,an=12&$&&we-Ye==0;ee.isFirst=!!Et,ee.isFinal=!!an,Et&&(B.session={}),ee.eventType=$,function wr(B,$){var ee=B.session,we=$.pointers,Ye=we.length;ee.firstInput||(ee.firstInput=Ot($)),Ye>1&&!ee.firstMultiple?ee.firstMultiple=Ot($):1===Ye&&(ee.firstMultiple=!1);var Et=ee.firstInput,an=ee.firstMultiple,Rr=an?an.center:Et.center,ur=$.center=Un(we);$.timeStamp=X(),$.deltaTime=$.timeStamp-Et.timeStamp,$.angle=jt(Rr,ur),$.distance=zr(Rr,ur),function fr(B,$){var ee=$.center,we=B.offsetDelta||{},Ye=B.prevDelta||{},Et=B.prevInput||{};(1===$.eventType||4===Et.eventType)&&(Ye=B.prevDelta={x:Et.deltaX||0,y:Et.deltaY||0},we=B.offsetDelta={x:ee.x,y:ee.y}),$.deltaX=Ye.x+(ee.x-we.x),$.deltaY=Ye.y+(ee.y-we.y)}(ee,$),$.offsetDirection=Br($.deltaX,$.deltaY);var Wi=Lr($.deltaTime,$.deltaX,$.deltaY);$.overallVelocityX=Wi.x,$.overallVelocityY=Wi.y,$.overallVelocity=J(Wi.x)>J(Wi.y)?Wi.x:Wi.y,$.scale=an?function Sn(B,$){return zr($[0],$[1],Cn)/zr(B[0],B[1],Cn)}(an.pointers,we):1,$.rotation=an?function Is(B,$){return jt($[1],$[0],Cn)+jt(B[1],B[0],Cn)}(an.pointers,we):0,$.maxPointers=ee.prevInput?$.pointers.length>ee.prevInput.maxPointers?$.pointers.length:ee.prevInput.maxPointers:$.pointers.length,function Ft(B,$){var Ye,Et,an,Rr,ee=B.lastInterval||$,we=$.timeStamp-ee.timeStamp;if(8!=$.eventType&&(we>25||ee.velocity===ge)){var ur=$.deltaX-ee.deltaX,Wi=$.deltaY-ee.deltaY,Ss=Lr(we,ur,Wi);Et=Ss.x,an=Ss.y,Ye=J(Ss.x)>J(Ss.y)?Ss.x:Ss.y,Rr=Br(ur,Wi),B.lastInterval=$}else Ye=ee.velocity,Et=ee.velocityX,an=ee.velocityY,Rr=ee.direction;$.velocity=Ye,$.velocityX=Et,$.velocityY=an,$.direction=Rr}(ee,$);var Ss=B.element;ft($.srcEvent.target,Ss)&&(Ss=$.srcEvent.target),$.target=Ss}(B,ee),B.emit("hammer.input",ee),B.recognize(ee),B.session.prevInput=ee}function Ot(B){for(var $=[],ee=0;ee<B.pointers.length;)$[ee]={clientX:Ae(B.pointers[ee].clientX),clientY:Ae(B.pointers[ee].clientY)},ee++;return{timeStamp:X(),pointers:$,center:Un($),deltaX:B.deltaX,deltaY:B.deltaY}}function Un(B){var $=B.length;if(1===$)return{x:Ae(B[0].clientX),y:Ae(B[0].clientY)};for(var ee=0,we=0,Ye=0;Ye<$;)ee+=B[Ye].clientX,we+=B[Ye].clientY,Ye++;return{x:Ae(ee/$),y:Ae(we/$)}}function Lr(B,$,ee){return{x:$/B||0,y:ee/B||0}}function Br(B,$){return B===$?1:J(B)>=J($)?B<0?2:4:$<0?8:16}function zr(B,$,ee){ee||(ee=Hi);var we=$[ee[0]]-B[ee[0]],Ye=$[ee[1]]-B[ee[1]];return Math.sqrt(we*we+Ye*Ye)}function jt(B,$,ee){return ee||(ee=Hi),180*Math.atan2($[ee[1]]-B[ee[1]],$[ee[0]]-B[ee[0]])/Math.PI}nr.prototype={handler:function(){},init:function(){this.evEl&&Fe(this.element,this.evEl,this.domHandler),this.evTarget&&Fe(this.target,this.evTarget,this.domHandler),this.evWin&&Fe(Mt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&st(this.element,this.evEl,this.domHandler),this.evTarget&&st(this.target,this.evTarget,this.domHandler),this.evWin&&st(Mt(this.element),this.evWin,this.domHandler)}};var ns={mousedown:1,mousemove:2,mouseup:4},In="mousedown",oe="mousemove mouseup";function te(){this.evEl=In,this.evWin=oe,this.pressed=!1,nr.apply(this,arguments)}at(te,nr,{handler:function($){var ee=ns[$.type];1&ee&&0===$.button&&(this.pressed=!0),2&ee&&1!==$.which&&(ee=4),this.pressed&&(4&ee&&(this.pressed=!1),this.callback(this.manager,ee,{pointers:[$],changedPointers:[$],pointerType:pn,srcEvent:$}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:dr,3:"pen",4:pn,5:"kinect"},re="pointerdown",ze="pointermove pointerup pointercancel";function ct(){this.evEl=re,this.evWin=ze,nr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}k.MSPointerEvent&&!k.PointerEvent&&(re="MSPointerDown",ze="MSPointerMove MSPointerUp MSPointerCancel"),at(ct,nr,{handler:function($){var ee=this.store,we=!1,Ye=$.type.toLowerCase().replace("ms",""),Et=K[Ye],an=ne[$.pointerType]||$.pointerType,Rr=an==dr,ur=ae(ee,$.pointerId,"pointerId");1&Et&&(0===$.button||Rr)?ur<0&&(ee.push($),ur=ee.length-1):12&Et&&(we=!0),!(ur<0)&&(ee[ur]=$,this.callback(this.manager,Et,{pointers:ee,changedPointers:[$],pointerType:an,srcEvent:$}),we&&ee.splice(ur,1))}});var kt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},or="touchstart",Fn="touchstart touchmove touchend touchcancel";function qr(){this.evTarget=or,this.evWin=Fn,this.started=!1,nr.apply(this,arguments)}function mn(B,$){var ee=pe(B.touches),we=pe(B.changedTouches);return 12&$&&(ee=ye(ee.concat(we),"identifier",!0)),[ee,we]}at(qr,nr,{handler:function($){var ee=kt[$.type];if(1===ee&&(this.started=!0),this.started){var we=mn.call(this,$,ee);12&ee&&we[0].length-we[1].length==0&&(this.started=!1),this.callback(this.manager,ee,{pointers:we[0],changedPointers:we[1],pointerType:dr,srcEvent:$})}}});var on={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ar="touchstart touchmove touchend touchcancel";function Dr(){this.evTarget=ar,this.targetIds={},nr.apply(this,arguments)}function us(B,$){var ee=pe(B.touches),we=this.targetIds;if(3&$&&1===ee.length)return we[ee[0].identifier]=!0,[ee,ee];var Ye,Et,an=pe(B.changedTouches),Rr=[],ur=this.target;if(Et=ee.filter(function(Wi){return ft(Wi.target,ur)}),1===$)for(Ye=0;Ye<Et.length;)we[Et[Ye].identifier]=!0,Ye++;for(Ye=0;Ye<an.length;)we[an[Ye].identifier]&&Rr.push(an[Ye]),12&$&&delete we[an[Ye].identifier],Ye++;return Rr.length?[ye(Et.concat(Rr),"identifier",!0),Rr]:void 0}function mt(){nr.apply(this,arguments);var B=St(this.handler,this);this.touch=new Dr(this.manager,B),this.mouse=new te(this.manager,B),this.primaryTouch=null,this.lastTouches=[]}function Wt(B,$){1&B?(this.primaryTouch=$.changedPointers[0].identifier,$n.call(this,$)):12&B&&$n.call(this,$)}function $n(B){var $=B.changedPointers[0];if($.identifier===this.primaryTouch){var ee={x:$.clientX,y:$.clientY};this.lastTouches.push(ee);var we=this.lastTouches;setTimeout(function(){var Et=we.indexOf(ee);Et>-1&&we.splice(Et,1)},2500)}}function cs(B){for(var $=B.srcEvent.clientX,ee=B.srcEvent.clientY,we=0;we<this.lastTouches.length;we++){var Ye=this.lastTouches[we],Et=Math.abs($-Ye.x),an=Math.abs(ee-Ye.y);if(Et<=25&&an<=25)return!0}return!1}at(Dr,nr,{handler:function($){var ee=on[$.type],we=us.call(this,$,ee);!we||this.callback(this.manager,ee,{pointers:we[0],changedPointers:we[1],pointerType:dr,srcEvent:$})}}),at(mt,nr,{handler:function($,ee,we){var Et=we.pointerType==pn;if(!(Et&&we.sourceCapabilities&&we.sourceCapabilities.firesTouchEvents)){if(we.pointerType==dr)Wt.call(this,ee,we);else if(Et&&cs.call(this,we))return;this.callback($,ee,we)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ds=ve(Ie.style,"touchAction"),Zr=ds!==ge,co="compute",Hs="manipulation",hs="none",tn="pan-x",Kn="pan-y",js=function Cr(){if(!Zr)return!1;var B={},$=k.CSS&&k.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ee){B[ee]=!$||k.CSS.supports("touch-action",ee)}),B}();function Eo(B,$){this.manager=B,this.set($)}function Es(B){this.options=ht({},this.defaults,B||{}),this.id=function Je(){return rt++}(),this.manager=null,this.options.enable=ke(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function So(B){return 16&B?"cancel":8&B?"end":4&B?"move":2&B?"start":""}function Da(B){return 16==B?"down":8==B?"up":2==B?"left":4==B?"right":""}function wi(B,$){var ee=$.manager;return ee?ee.get(B):B}function Kr(){Es.apply(this,arguments)}function Oi(){Kr.apply(this,arguments),this.pX=null,this.pY=null}function Gn(){Kr.apply(this,arguments)}function qa(){Es.apply(this,arguments),this._timer=null,this._input=null}function Ur(){Kr.apply(this,arguments)}function Qr(){Kr.apply(this,arguments)}function ho(){Es.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ps(B,$){return($=$||{}).recognizers=ke($.recognizers,ps.defaults.preset),new Za(B,$)}function Za(B,$){this.options=ht({},ps.defaults,$||{}),this.options.inputTarget=this.options.inputTarget||B,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=B,this.input=function Ni(B){return new(B.options.inputClass||(pt?ct:Yn?Dr:cn?mt:te))(B,Fr)}(this),this.touchAction=new Eo(this,this.options.touchAction),hu(this,!0),Ue(this.options.recognizers,function(ee){var we=this.add(new ee[0](ee[1]));ee[2]&&we.recognizeWith(ee[2]),ee[3]&&we.requireFailure(ee[3])},this)}function hu(B,$){var we,ee=B.element;ee.style&&(Ue(B.options.cssProps,function(Ye,Et){we=ve(ee.style,Et),$?(B.oldCssProps[we]=ee.style[we],ee.style[we]=Ye):ee.style[we]=B.oldCssProps[we]||""}),$||(B.oldCssProps={}))}Eo.prototype={set:function(B){B==co&&(B=this.compute()),Zr&&this.manager.element.style&&js[B]&&(this.manager.element.style[ds]=B),this.actions=B.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var B=[];return Ue(this.manager.recognizers,function($){He($.options.enable,[$])&&(B=B.concat($.getTouchAction()))}),function Ws(B){if(Q(B,hs))return hs;var $=Q(B,tn),ee=Q(B,Kn);return $&&ee?hs:$||ee?$?tn:Kn:Q(B,Hs)?Hs:"auto"}(B.join(" "))},preventDefaults:function(B){var $=B.srcEvent,ee=B.offsetDirection;if(!this.manager.session.prevented){var we=this.actions,Ye=Q(we,hs)&&!js[hs],Et=Q(we,Kn)&&!js[Kn],an=Q(we,tn)&&!js[tn];if(Ye&&1===B.pointers.length&&B.distance<2&&B.deltaTime<250)return;return an&&Et||!(Ye||Et&&6&ee||an&&24&ee)?void 0:this.preventSrc($)}$.preventDefault()},preventSrc:function(B){this.manager.session.prevented=!0,B.preventDefault()}},Es.prototype={defaults:{},set:function(B){return ht(this.options,B),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(B){if(tt(B,"recognizeWith",this))return this;var $=this.simultaneous;return $[(B=wi(B,this)).id]||($[B.id]=B,B.recognizeWith(this)),this},dropRecognizeWith:function(B){return tt(B,"dropRecognizeWith",this)||(B=wi(B,this),delete this.simultaneous[B.id]),this},requireFailure:function(B){if(tt(B,"requireFailure",this))return this;var $=this.requireFail;return-1===ae($,B=wi(B,this))&&($.push(B),B.requireFailure(this)),this},dropRequireFailure:function(B){if(tt(B,"dropRequireFailure",this))return this;B=wi(B,this);var $=ae(this.requireFail,B);return $>-1&&this.requireFail.splice($,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(B){return!!this.simultaneous[B.id]},emit:function(B){var $=this,ee=this.state;function we(Ye){$.manager.emit(Ye,B)}ee<8&&we($.options.event+So(ee)),we($.options.event),B.additionalEvent&&we(B.additionalEvent),ee>=8&&we($.options.event+So(ee))},tryEmit:function(B){if(this.canEmit())return this.emit(B);this.state=32},canEmit:function(){for(var B=0;B<this.requireFail.length;){if(!(33&this.requireFail[B].state))return!1;B++}return!0},recognize:function(B){var $=ht({},B);if(!He(this.options.enable,[this,$]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process($),30&this.state&&this.tryEmit($)},process:function(B){},getTouchAction:function(){},reset:function(){}},at(Kr,Es,{defaults:{pointers:1},attrTest:function(B){var $=this.options.pointers;return 0===$||B.pointers.length===$},process:function(B){var $=this.state,ee=B.eventType,we=6&$,Ye=this.attrTest(B);return we&&(8&ee||!Ye)?16|$:we||Ye?4&ee?8|$:2&$?4|$:2:32}}),at(Oi,Kr,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var B=this.options.direction,$=[];return 6&B&&$.push(Kn),24&B&&$.push(tn),$},directionTest:function(B){var $=this.options,ee=!0,we=B.distance,Ye=B.direction,Et=B.deltaX,an=B.deltaY;return Ye&$.direction||(6&$.direction?(Ye=0===Et?1:Et<0?2:4,ee=Et!=this.pX,we=Math.abs(B.deltaX)):(Ye=0===an?1:an<0?8:16,ee=an!=this.pY,we=Math.abs(B.deltaY))),B.direction=Ye,ee&&we>$.threshold&&Ye&$.direction},attrTest:function(B){return Kr.prototype.attrTest.call(this,B)&&(2&this.state||!(2&this.state)&&this.directionTest(B))},emit:function(B){this.pX=B.deltaX,this.pY=B.deltaY;var $=Da(B.direction);$&&(B.additionalEvent=this.options.event+$),this._super.emit.call(this,B)}}),at(Gn,Kr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[hs]},attrTest:function(B){return this._super.attrTest.call(this,B)&&(Math.abs(B.scale-1)>this.options.threshold||2&this.state)},emit:function(B){1!==B.scale&&(B.additionalEvent=this.options.event+(B.scale<1?"in":"out")),this._super.emit.call(this,B)}}),at(qa,Es,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(B){var $=this.options,ee=B.pointers.length===$.pointers,we=B.distance<$.threshold,Ye=B.deltaTime>$.time;if(this._input=B,!we||!ee||12&B.eventType&&!Ye)this.reset();else if(1&B.eventType)this.reset(),this._timer=ce(function(){this.state=8,this.tryEmit()},$.time,this);else if(4&B.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(B){8===this.state&&(B&&4&B.eventType?this.manager.emit(this.options.event+"up",B):(this._input.timeStamp=X(),this.manager.emit(this.options.event,this._input)))}}),at(Ur,Kr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[hs]},attrTest:function(B){return this._super.attrTest.call(this,B)&&(Math.abs(B.rotation)>this.options.threshold||2&this.state)}}),at(Qr,Kr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Oi.prototype.getTouchAction.call(this)},attrTest:function(B){var ee,$=this.options.direction;return 30&$?ee=B.overallVelocity:6&$?ee=B.overallVelocityX:24&$&&(ee=B.overallVelocityY),this._super.attrTest.call(this,B)&&$&B.offsetDirection&&B.distance>this.options.threshold&&B.maxPointers==this.options.pointers&&J(ee)>this.options.velocity&&4&B.eventType},emit:function(B){var $=Da(B.offsetDirection);$&&this.manager.emit(this.options.event+$,B),this.manager.emit(this.options.event,B)}}),at(ho,Es,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Hs]},process:function(B){var $=this.options,ee=B.pointers.length===$.pointers,we=B.distance<$.threshold,Ye=B.deltaTime<$.time;if(this.reset(),1&B.eventType&&0===this.count)return this.failTimeout();if(we&&Ye&&ee){if(4!=B.eventType)return this.failTimeout();var Et=!this.pTime||B.timeStamp-this.pTime<$.interval,an=!this.pCenter||zr(this.pCenter,B.center)<$.posThreshold;if(this.pTime=B.timeStamp,this.pCenter=B.center,an&&Et?this.count+=1:this.count=1,this._input=B,0==this.count%$.taps)return this.hasRequireFailures()?(this._timer=ce(function(){this.state=8,this.tryEmit()},$.interval,this),2):8}return 32},failTimeout:function(){return this._timer=ce(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ps.VERSION="2.0.7",ps.defaults={domEvents:!1,touchAction:co,enable:!0,inputTarget:null,inputClass:null,preset:[[Ur,{enable:!1}],[Gn,{enable:!1},["rotate"]],[Qr,{direction:6}],[Oi,{direction:6},["swipe"]],[ho],[ho,{event:"doubletap",taps:2},["tap"]],[qa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Za.prototype={set:function(B){return ht(this.options,B),B.touchAction&&this.touchAction.update(),B.inputTarget&&(this.input.destroy(),this.input.target=B.inputTarget,this.input.init()),this},stop:function(B){this.session.stopped=B?2:1},recognize:function(B){var $=this.session;if(!$.stopped){this.touchAction.preventDefaults(B);var ee,we=this.recognizers,Ye=$.curRecognizer;(!Ye||Ye&&8&Ye.state)&&(Ye=$.curRecognizer=null);for(var Et=0;Et<we.length;)ee=we[Et],2===$.stopped||Ye&&ee!=Ye&&!ee.canRecognizeWith(Ye)?ee.reset():ee.recognize(B),!Ye&&14&ee.state&&(Ye=$.curRecognizer=ee),Et++}},get:function(B){if(B instanceof Es)return B;for(var $=this.recognizers,ee=0;ee<$.length;ee++)if($[ee].options.event==B)return $[ee];return null},add:function(B){if(tt(B,"add",this))return this;var $=this.get(B.options.event);return $&&this.remove($),this.recognizers.push(B),B.manager=this,this.touchAction.update(),B},remove:function(B){if(tt(B,"remove",this))return this;if(B=this.get(B)){var $=this.recognizers,ee=ae($,B);-1!==ee&&($.splice(ee,1),this.touchAction.update())}return this},on:function(B,$){if(B!==ge&&$!==ge){var ee=this.handlers;return Ue(Re(B),function(we){ee[we]=ee[we]||[],ee[we].push($)}),this}},off:function(B,$){if(B!==ge){var ee=this.handlers;return Ue(Re(B),function(we){$?ee[we]&&ee[we].splice(ae(ee[we],$),1):delete ee[we]}),this}},emit:function(B,$){this.options.domEvents&&function dc(B,$){var ee=W.createEvent("Event");ee.initEvent(B,!0,!0),ee.gesture=$,$.target.dispatchEvent(ee)}(B,$);var ee=this.handlers[B]&&this.handlers[B].slice();if(ee&&ee.length){$.type=B,$.preventDefault=function(){$.srcEvent.preventDefault()};for(var we=0;we<ee.length;)ee[we]($),we++}},destroy:function(){this.element&&hu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ht(ps,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Za,Input:nr,TouchAction:Eo,TouchInput:Dr,MouseInput:te,PointerEventInput:ct,TouchMouseInput:mt,SingleTouchInput:qr,Recognizer:Es,AttrRecognizer:Kr,Tap:ho,Pan:Oi,Swipe:Qr,Pinch:Gn,Rotate:Ur,Press:qa,on:Fe,off:st,each:Ue,merge:Me,extend:Oe,assign:ht,inherit:at,bindFn:St,prefixed:ve}),(typeof k<"u"?k:typeof self<"u"?self:{}).Hammer=ps,(u=function(){return ps}.call(Ge,j,Ge,At))!==ge&&(At.exports=u)}(window,document)},7489:function(At,Ge,j){var u;At=j.nmd(At),function(){var k,Ce="Expected a function",Ne="__lodash_hash_undefined__",J="__lodash_placeholder__",Je=1/0,Mt=9007199254740991,pt=4294967295,Vn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],pn="[object Arguments]",pi="[object Array]",Qt="[object Boolean]",xi="[object Date]",kn="[object Error]",Wr="[object Function]",ts="[object GeneratorFunction]",hr="[object Map]",Or="[object Number]",vr="[object Object]",yt="[object Promise]",Hi="[object RegExp]",Cn="[object Set]",nr="[object String]",Ni="[object Symbol]",wr="[object WeakMap]",Ft="[object ArrayBuffer]",Ot="[object DataView]",Un="[object Float32Array]",Lr="[object Float64Array]",Br="[object Int8Array]",zr="[object Int16Array]",jt="[object Int32Array]",Is="[object Uint8Array]",Sn="[object Uint8ClampedArray]",ns="[object Uint16Array]",In="[object Uint32Array]",oe=/\b__p \+= '';/g,te=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ne=/&(?:amp|lt|gt|quot|#39);/g,re=/[&<>"']/g,ze=RegExp(ne.source),ct=RegExp(re.source),kt=/<%-([\s\S]+?)%>/g,or=/<%([\s\S]+?)%>/g,Fn=/<%=([\s\S]+?)%>/g,qr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mn=/^\w*$/,on=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ar=/[\\^$.*+?()[\]{}|]/g,Dr=RegExp(ar.source),us=/^\s+/,ji=/\s/,Vr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mt=/\{\n\/\* \[wrapped with (.+)\] \*/,Wt=/,? & /,$n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cs=/[()=,{}\[\]\/\s]/,ds=/\\(\\)?/g,Zr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,co=/\w*$/,lr=/^[-+]0x[0-9a-f]+$/i,Hs=/^0b[01]+$/i,hs=/^\[object .+?Constructor\]$/,tn=/^0o[0-7]+$/i,Kn=/^(?:0|[1-9]\d*)$/,js=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Eo=/($^)/,Ws=/['\n\r\u2028\u2029\\]/g,Cr="\\ud800-\\udfff",Qn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rs="\\u2700-\\u27bf",xn="a-z\\xdf-\\xf6\\xf8-\\xff",wi="A-Z\\xc0-\\xd6\\xd8-\\xde",Kr="\\ufe0e\\ufe0f",Oi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qa="["+Cr+"]",Ur="["+Oi+"]",Qr="["+Qn+"]",ho="\\d+",ps="["+rs+"]",xl="["+xn+"]",gi="[^"+Cr+Oi+ho+rs+xn+wi+"]",Za="\\ud83c[\\udffb-\\udfff]",dc="[^"+Cr+"]",fo="(?:\\ud83c[\\udde6-\\uddff]){2}",B="[\\ud800-\\udbff][\\udc00-\\udfff]",$="["+wi+"]",we="(?:"+xl+"|"+gi+")",Ye="(?:"+$+"|"+gi+")",Et="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",an="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Rr="(?:"+Qr+"|"+Za+")?",ur="["+Kr+"]?",ef=ur+Rr+"(?:\\u200d(?:"+[dc,fo,B].join("|")+")"+ur+Rr+")*",zd="(?:"+[ps,fo,B].join("|")+")"+ef,Ca="(?:"+[dc+Qr+"?",Qr,fo,B,qa].join("|")+")",qd=RegExp("['\u2019]","g"),Zd=RegExp(Qr,"g"),Al=RegExp(Za+"(?="+Za+")|"+Ca+ef,"g"),tf=RegExp([$+"?"+xl+"+"+Et+"(?="+[Ur,$,"$"].join("|")+")",Ye+"+"+an+"(?="+[Ur,$+we,"$"].join("|")+")",$+"?"+we+"+"+Et,$+"+"+an,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ho,zd].join("|"),"g"),xo=RegExp("[\\u200d"+Cr+Qn+Kr+"]"),Ao=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ta=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ya=-1,Jn={};Jn[Un]=Jn[Lr]=Jn[Br]=Jn[zr]=Jn[jt]=Jn[Is]=Jn[Sn]=Jn[ns]=Jn[In]=!0,Jn[pn]=Jn[pi]=Jn[Ft]=Jn[Qt]=Jn[Ot]=Jn[xi]=Jn[kn]=Jn[Wr]=Jn[hr]=Jn[Or]=Jn[vr]=Jn[Hi]=Jn[Cn]=Jn[nr]=Jn[wr]=!1;var Xn={};Xn[pn]=Xn[pi]=Xn[Ft]=Xn[Ot]=Xn[Qt]=Xn[xi]=Xn[Un]=Xn[Lr]=Xn[Br]=Xn[zr]=Xn[jt]=Xn[hr]=Xn[Or]=Xn[vr]=Xn[Hi]=Xn[Cn]=Xn[nr]=Xn[Ni]=Xn[Is]=Xn[Sn]=Xn[ns]=Xn[In]=!0,Xn[kn]=Xn[Wr]=Xn[wr]=!1;var na={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zs=parseFloat,xs=parseInt,Ka="object"==typeof global&&global&&global.Object===Object&&global,fu="object"==typeof self&&self&&self.Object===Object&&self,Hn=Ka||fu||Function("return this")(),Yd=Ge&&!Ge.nodeType&&Ge,pu=Yd&&At&&!At.nodeType&&At,$r=pu&&pu.exports===Yd,Nl=$r&&Ka.process,qs=function(){try{return pu&&pu.require&&pu.require("util").types||Nl&&Nl.binding&&Nl.binding("util")}catch{}}(),As=qs&&qs.isArrayBuffer,is=qs&&qs.isDate,gu=qs&&qs.isMap,Qa=qs&&qs.isRegExp,No=qs&&qs.isSet,An=qs&&qs.isTypedArray;function zi(de,Ve,Se){switch(Se.length){case 0:return de.call(Ve);case 1:return de.call(Ve,Se[0]);case 2:return de.call(Ve,Se[0],Se[1]);case 3:return de.call(Ve,Se[0],Se[1],Se[2])}return de.apply(Ve,Se)}function Ja(de,Ve,Se,Ct){for(var Yt=-1,jn=null==de?0:de.length;++Yt<jn;){var Er=de[Yt];Ve(Ct,Er,Se(Er),de)}return Ct}function ss(de,Ve){for(var Se=-1,Ct=null==de?0:de.length;++Se<Ct&&!1!==Ve(de[Se],Se,de););return de}function po(de,Ve){for(var Se=null==de?0:de.length;Se--&&!1!==Ve(de[Se],Se,de););return de}function mu(de,Ve){for(var Se=-1,Ct=null==de?0:de.length;++Se<Ct;)if(!Ve(de[Se],Se,de))return!1;return!0}function er(de,Ve){for(var Se=-1,Ct=null==de?0:de.length,Yt=0,jn=[];++Se<Ct;){var Er=de[Se];Ve(Er,Se,de)&&(jn[Yt++]=Er)}return jn}function Zt(de,Ve){return!(null==de||!de.length)&&ra(de,Ve,0)>-1}function Ol(de,Ve,Se){for(var Ct=-1,Yt=null==de?0:de.length;++Ct<Yt;)if(Se(Ve,de[Ct]))return!0;return!1}function Ir(de,Ve){for(var Se=-1,Ct=null==de?0:de.length,Yt=Array(Ct);++Se<Ct;)Yt[Se]=Ve(de[Se],Se,de);return Yt}function go(de,Ve){for(var Se=-1,Ct=Ve.length,Yt=de.length;++Se<Ct;)de[Yt+Se]=Ve[Se];return de}function Ml(de,Ve,Se,Ct){var Yt=-1,jn=null==de?0:de.length;for(Ct&&jn&&(Se=de[++Yt]);++Yt<jn;)Se=Ve(Se,de[Yt],Yt,de);return Se}function td(de,Ve,Se,Ct){var Yt=null==de?0:de.length;for(Ct&&Yt&&(Se=de[--Yt]);Yt--;)Se=Ve(Se,de[Yt],Yt,de);return Se}function mo(de,Ve){for(var Se=-1,Ct=null==de?0:de.length;++Se<Ct;)if(Ve(de[Se],Se,de))return!0;return!1}var nd=gs("length");function _n(de,Ve,Se){var Ct;return Se(de,function(Yt,jn,Er){if(Ve(Yt,jn,Er))return Ct=jn,!1}),Ct}function Xa(de,Ve,Se,Ct){for(var Yt=de.length,jn=Se+(Ct?1:-1);Ct?jn--:++jn<Yt;)if(Ve(de[jn],jn,de))return jn;return-1}function ra(de,Ve,Se){return Ve==Ve?function Kd(de,Ve,Se){for(var Ct=Se-1,Yt=de.length;++Ct<Yt;)if(de[Ct]===Ve)return Ct;return-1}(de,Ve,Se):Xa(de,vu,Se)}function Jr(de,Ve,Se,Ct){for(var Yt=Se-1,jn=de.length;++Yt<jn;)if(Ct(de[Yt],Ve))return Yt;return-1}function vu(de){return de!=de}function el(de,Ve){var Se=null==de?0:de.length;return Se?yu(de,Ve)/Se:NaN}function gs(de){return function(Ve){return null==Ve?k:Ve[de]}}function tl(de){return function(Ve){return null==de?k:de[Ve]}}function Rl(de,Ve,Se,Ct,Yt){return Yt(de,function(jn,Er,rr){Se=Ct?(Ct=!1,jn):Ve(Se,jn,Er,rr)}),Se}function yu(de,Ve){for(var Se,Ct=-1,Yt=de.length;++Ct<Yt;){var jn=Ve(de[Ct]);jn!==k&&(Se=Se===k?jn:Se+jn)}return Se}function hc(de,Ve){for(var Se=-1,Ct=Array(de);++Se<de;)Ct[Se]=Ve(Se);return Ct}function Gr(de){return de&&de.slice(0,_i(de)+1).replace(us,"")}function Hr(de){return function(Ve){return de(Ve)}}function wu(de,Ve){return Ir(Ve,function(Se){return de[Se]})}function _o(de,Ve){return de.has(Ve)}function Oo(de,Ve){for(var Se=-1,Ct=de.length;++Se<Ct&&ra(Ve,de[Se],0)>-1;);return Se}function rf(de,Ve){for(var Se=de.length;Se--&&ra(Ve,de[Se],0)>-1;);return Se}function Du(de,Ve){for(var Se=de.length,Ct=0;Se--;)de[Se]===Ve&&++Ct;return Ct}var cp=tl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),id=tl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function fc(de){return"\\"+na[de]}function Ia(de){return xo.test(de)}function Pl(de){var Ve=-1,Se=Array(de.size);return de.forEach(function(Ct,Yt){Se[++Ve]=[Yt,Ct]}),Se}function Tu(de,Ve){return function(Se){return de(Ve(Se))}}function Mo(de,Ve){for(var Se=-1,Ct=de.length,Yt=0,jn=[];++Se<Ct;){var Er=de[Se];(Er===Ve||Er===J)&&(de[Se]=J,jn[Yt++]=Se)}return jn}function kl(de){var Ve=-1,Se=Array(de.size);return de.forEach(function(Ct){Se[++Ve]=Ct}),Se}function Zs(de){return Ia(de)?function Tr(de){for(var Ve=Al.lastIndex=0;Al.test(de);)++Ve;return Ve}(de):nd(de)}function ms(de){return Ia(de)?function ad(de){return de.match(Al)||[]}(de):function _u(de){return de.split("")}(de)}function _i(de){for(var Ve=de.length;Ve--&&ji.test(de.charAt(Ve)););return Ve}var Ns=tl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Fl=function de(Ve){var d,Se=(Ve=null==Ve?Hn:Fl.defaults(Hn.Object(),Ve,Fl.pick(Hn,ta))).Array,Ct=Ve.Date,Yt=Ve.Error,jn=Ve.Function,Er=Ve.Math,rr=Ve.Object,Ro=Ve.RegExp,Ta=Ve.String,Di=Ve.TypeError,rl=Se.prototype,ia=rr.prototype,il=Ve["__core-js_shared__"],Eu=jn.prototype.toString,tr=ia.hasOwnProperty,Ll=0,sl=(d=/[^.]+$/.exec(il&&il.keys&&il.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",Po=ia.toString,pc=Eu.call(rr),Su=Hn._,Jd=Ro("^"+Eu.call(tr).replace(ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xu=$r?Ve.Buffer:k,Sr=Ve.Symbol,Ea=Ve.Uint8Array,Bl=xu?xu.allocUnsafe:k,Os=Tu(rr.getPrototypeOf,rr),Vl=rr.create,ud=ia.propertyIsEnumerable,Sa=rl.splice,gc=Sr?Sr.isConcatSpreadable:k,xr=Sr?Sr.iterator:k,Mi=Sr?Sr.toStringTag:k,ol=function(){try{var d=Yu(rr,"defineProperty");return d({},"",{}),d}catch{}}(),al=Ve.clearTimeout!==Hn.clearTimeout&&Ve.clearTimeout,Au=Ct&&Ct.now!==Hn.Date.now&&Ct.now,mc=Ve.setTimeout!==Hn.setTimeout&&Ve.setTimeout,ll=Er.ceil,vo=Er.floor,_c=rr.getOwnPropertySymbols,xa=xu?xu.isBuffer:k,vc=Ve.isFinite,ul=rl.join,Nu=Tu(rr.keys,rr),si=Er.max,ei=Er.min,sa=Ct.now,cd=Ve.parseInt,Ou=Er.random,Mu=rl.reverse,oa=Yu(Ve,"DataView"),cl=Yu(Ve,"Map"),yo=Yu(Ve,"Promise"),aa=Yu(Ve,"Set"),ko=Yu(Ve,"WeakMap"),Fo=Yu(rr,"create"),dl=ko&&new ko,Ci={},Aa=Vc(oa),Ul=Vc(cl),$l=Vc(yo),yc=Vc(aa),Gl=Vc(ko),Lo=Sr?Sr.prototype:k,la=Lo?Lo.valueOf:k,pr=Lo?Lo.toString:k;function U(d){if(Ti(d)&&!gn(d)&&!(d instanceof wn)){if(d instanceof Ys)return d;if(tr.call(d,"__wrapped__"))return Nd(d)}return new Ys(d)}var Ru=function(){function d(){}return function(p){if(!yi(p))return{};if(Vl)return Vl(p);d.prototype=p;var b=new d;return d.prototype=k,b}}();function Hl(){}function Ys(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=k}function wn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pt,this.__views__=[]}function jl(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var x=d[p];this.set(x[0],x[1])}}function Ms(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var x=d[p];this.set(x[0],x[1])}}function It(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var x=d[p];this.set(x[0],x[1])}}function ti(d){var p=-1,b=null==d?0:d.length;for(this.__data__=new It;++p<b;)this.add(d[p])}function _s(d){var p=this.__data__=new Ms(d);this.size=p.size}function _d(d,p){var b=gn(d),x=!b&&Ju(d),P=!b&&!x&&Xu(d),G=!b&&!x&&!P&&ro(d),Y=b||x||P||G,ie=Y?hc(d.length,Ta):[],fe=ie.length;for(var je in d)(p||tr.call(d,je))&&(!Y||!("length"==je||P&&("offset"==je||"parent"==je)||G&&("buffer"==je||"byteLength"==je||"byteOffset"==je)||Te(je,fe)))&&ie.push(je);return ie}function af(d){var p=d.length;return p?d[Tc(0,p-1)]:k}function Bu(d,p){return Sp(Ln(d),Ks(p,0,d.length))}function Vu(d){return Sp(Ln(d))}function Ar(d,p,b){(b!==k&&!ys(d[p],b)||b===k&&!(p in d))&&Pi(d,p,b)}function Pr(d,p,b){var x=d[p];(!tr.call(d,p)||!ys(x,b)||b===k&&!(p in d))&&Pi(d,p,b)}function Rs(d,p){for(var b=d.length;b--;)if(ys(d[b][0],p))return b;return-1}function Wn(d,p,b,x){return N(d,function(P,G,Y){p(x,P,b(P),Y)}),x}function bt(d,p){return d&&wo(p,io(p),d)}function Pi(d,p,b){"__proto__"==p&&ol?ol(d,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):d[p]=b}function Ps(d,p){for(var b=-1,x=p.length,P=Se(x),G=null==d;++b<x;)P[b]=G?k:ab(d,p[b]);return P}function Ks(d,p,b){return d==d&&(b!==k&&(d=d<=b?d:b),p!==k&&(d=d>=p?d:p)),d}function vi(d,p,b,x,P,G){var Y,ie=1&p,fe=2&p,je=4&p;if(b&&(Y=P?b(d,x,P,G):b(d)),Y!==k)return Y;if(!yi(d))return d;var qe=gn(d);if(qe){if(Y=function v(d){var p=d.length,b=new d.constructor(p);return p&&"string"==typeof d[0]&&tr.call(d,"index")&&(b.index=d.index,b.input=d.input),b}(d),!ie)return Ln(d,Y)}else{var Qe=Li(d),_t=Qe==Wr||Qe==ts;if(Xu(d))return xc(d,ie);if(Qe==vr||Qe==pn||_t&&!P){if(Y=fe||_t?{}:C(d),!ie)return fe?function os(d,p){return wo(d,Ku(d),p)}(d,function li(d,p){return d&&wo(p,$a(p),d)}(Y,d)):function wp(d,p){return wo(d,Lc(d),p)}(d,bt(Y,d))}else{if(!Xn[Qe])return P?d:{};Y=function M(d,p,b){var x=d.constructor;switch(p){case Ft:return uh(d);case Qt:case xi:return new x(+d);case Ot:return function pf(d,p){var b=p?uh(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.byteLength)}(d,b);case Un:case Lr:case Br:case zr:case jt:case Is:case Sn:case ns:case In:return dh(d,b);case hr:return new x;case Or:case nr:return new x(d);case Hi:return function ch(d){var p=new d.constructor(d.source,co.exec(d));return p.lastIndex=d.lastIndex,p}(d);case Cn:return new x;case Ni:return function bd(d){return la?rr(la.call(d)):{}}(d)}}(d,Qe,ie)}}G||(G=new _s);var Lt=G.get(d);if(Lt)return Lt;G.set(d,Y),pm(d)?d.forEach(function(Jt){Y.add(vi(Jt,p,b,Jt,d,G))}):mv(d)&&d.forEach(function(Jt,sn){Y.set(sn,vi(Jt,p,b,sn,d,G))});var hn=qe?k:(je?fe?Jl:Fi:fe?$a:io)(d);return ss(hn||d,function(Jt,sn){hn&&(Jt=d[sn=Jt]),Pr(Y,sn,vi(Jt,p,b,sn,d,G))}),Y}function ni(d,p,b){var x=b.length;if(null==d)return!x;for(d=rr(d);x--;){var P=b[x],Y=d[P];if(Y===k&&!(P in d)||!(0,p[P])(Y))return!1}return!0}function eh(d,p,b){if("function"!=typeof d)throw new Di(Ce);return Ad(function(){d.apply(k,b)},p)}function S(d,p,b,x){var P=-1,G=Zt,Y=!0,ie=d.length,fe=[],je=p.length;if(!ie)return fe;b&&(p=Ir(p,Hr(b))),x?(G=Ol,Y=!1):p.length>=200&&(G=_o,Y=!1,p=new ti(p));e:for(;++P<ie;){var qe=d[P],Qe=null==b?qe:b(qe);if(qe=x||0!==qe?qe:0,Y&&Qe==Qe){for(var _t=je;_t--;)if(p[_t]===Qe)continue e;fe.push(qe)}else G(p,Qe,x)||fe.push(qe)}return fe}U.templateSettings={escape:kt,evaluate:or,interpolate:Fn,variable:"",imports:{_:U}},(U.prototype=Hl.prototype).constructor=U,(Ys.prototype=Ru(Hl.prototype)).constructor=Ys,(wn.prototype=Ru(Hl.prototype)).constructor=wn,jl.prototype.clear=function dp(){this.__data__=Fo?Fo(null):{},this.size=0},jl.prototype.delete=function Ri(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p},jl.prototype.get=function dd(d){var p=this.__data__;if(Fo){var b=p[d];return b===Ne?k:b}return tr.call(p,d)?p[d]:k},jl.prototype.has=function zn(d){var p=this.__data__;return Fo?p[d]!==k:tr.call(p,d)},jl.prototype.set=function sf(d,p){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=Fo&&p===k?Ne:p,this},Ms.prototype.clear=function qi(){this.__data__=[],this.size=0},Ms.prototype.delete=function oi(d){var p=this.__data__,b=Rs(p,d);return!(b<0||(b==p.length-1?p.pop():Sa.call(p,b,1),--this.size,0))},Ms.prototype.get=function ai(d){var p=this.__data__,b=Rs(p,d);return b<0?k:p[b][1]},Ms.prototype.has=function ir(d){return Rs(this.__data__,d)>-1},Ms.prototype.set=function qn(d,p){var b=this.__data__,x=Rs(b,d);return x<0?(++this.size,b.push([d,p])):b[x][1]=p,this},It.prototype.clear=function hd(){this.size=0,this.__data__={hash:new jl,map:new(cl||Ms),string:new jl}},It.prototype.delete=function fd(d){var p=gh(this,d).delete(d);return this.size-=p?1:0,p},It.prototype.get=function bc(d){return gh(this,d).get(d)},It.prototype.has=function hl(d){return gh(this,d).has(d)},It.prototype.set=function pd(d,p){var b=gh(this,d),x=b.size;return b.set(d,p),this.size+=b.size==x?0:1,this},ti.prototype.add=ti.prototype.push=function ku(d){return this.__data__.set(d,Ne),this},ti.prototype.has=function Na(d){return this.__data__.has(d)},_s.prototype.clear=function Fu(){this.__data__=new Ms,this.size=0},_s.prototype.delete=function gd(d){var p=this.__data__,b=p.delete(d);return this.size=p.size,b},_s.prototype.get=function md(d){return this.__data__.get(d)},_s.prototype.has=function Lu(d){return this.__data__.has(d)},_s.prototype.set=function hp(d,p){var b=this.__data__;if(b instanceof Ms){var x=b.__data__;if(!cl||x.length<199)return x.push([d,p]),this.size=++b.size,this;b=this.__data__=new It(x)}return b.set(d,p),this.size=b.size,this};var N=Dd(qt),F=Dd(Ut,!0);function q(d,p){var b=!0;return N(d,function(x,P,G){return b=!!p(x,P,G)}),b}function he(d,p,b){for(var x=-1,P=d.length;++x<P;){var G=d[x],Y=p(G);if(null!=Y&&(ie===k?Y==Y&&!no(Y):b(Y,ie)))var ie=Y,fe=G}return fe}function We(d,p){var b=[];return N(d,function(x,P,G){p(x,P,G)&&b.push(x)}),b}function nt(d,p,b,x,P){var G=-1,Y=d.length;for(b||(b=le),P||(P=[]);++G<Y;){var ie=d[G];p>0&&b(ie)?p>1?nt(ie,p-1,b,x,P):go(P,ie):x||(P[P.length]=ie)}return P}var Vt=Hg(),Ht=Hg(!0);function qt(d,p){return d&&Vt(d,p,io)}function Ut(d,p){return d&&Ht(d,p,io)}function gr(d,p){return er(p,function(b){return ru(d[b])})}function jr(d,p){for(var b=0,x=(p=ha(p,d)).length;null!=d&&b<x;)d=d[La(p[b++])];return b&&b==x?d:k}function Zn(d,p,b){var x=p(d);return gn(d)?x:go(x,b(d))}function ui(d){return null==d?d===k?"[object Undefined]":"[object Null]":Mi&&Mi in rr(d)?function mh(d){var p=tr.call(d,Mi),b=d[Mi];try{d[Mi]=k;var x=!0}catch{}var P=Po.call(d);return x&&(p?d[Mi]=b:delete d[Mi]),P}(d):function Xl(d){return Po.call(d)}(d)}function ua(d,p){return d>p}function Wl(d,p){return null!=d&&tr.call(d,p)}function Oa(d,p){return null!=d&&p in rr(d)}function Ra(d,p,b){for(var x=b?Ol:Zt,P=d[0].length,G=d.length,Y=G,ie=Se(G),fe=1/0,je=[];Y--;){var qe=d[Y];Y&&p&&(qe=Ir(qe,Hr(p))),fe=ei(qe.length,fe),ie[Y]=!b&&(p||P>=120&&qe.length>=120)?new ti(Y&&qe):k}qe=d[0];var Qe=-1,_t=ie[0];e:for(;++Qe<P&&je.length<fe;){var Lt=qe[Qe],Rt=p?p(Lt):Lt;if(Lt=b||0!==Lt?Lt:0,!(_t?_o(_t,Rt):x(je,Rt,b))){for(Y=G;--Y;){var hn=ie[Y];if(!(hn?_o(hn,Rt):x(d[Y],Rt,b)))continue e}_t&&_t.push(Rt),je.push(Lt)}}return je}function fl(d,p,b){var x=null==(d=bh(d,p=ha(p,d)))?d:d[La(Ho(p))];return null==x?k:zi(x,d,b)}function lf(d){return Ti(d)&&ui(d)==pn}function Uu(d,p,b,x,P){return d===p||(null==d||null==p||!Ti(d)&&!Ti(p)?d!=d&&p!=p:function $u(d,p,b,x,P,G){var Y=gn(d),ie=gn(p),fe=Y?pi:Li(d),je=ie?pi:Li(p),qe=(fe=fe==pn?vr:fe)==vr,Qe=(je=je==pn?vr:je)==vr,_t=fe==je;if(_t&&Xu(d)){if(!Xu(p))return!1;Y=!0,qe=!1}if(_t&&!qe)return G||(G=new _s),Y||ro(d)?Kl(d,p,b,x,P,G):function Pc(d,p,b,x,P,G,Y){switch(b){case Ot:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case Ft:return!(d.byteLength!=p.byteLength||!G(new Ea(d),new Ea(p)));case Qt:case xi:case Or:return ys(+d,+p);case kn:return d.name==p.name&&d.message==p.message;case Hi:case nr:return d==p+"";case hr:var ie=Pl;case Cn:if(ie||(ie=kl),d.size!=p.size&&!(1&x))return!1;var je=Y.get(d);if(je)return je==p;x|=2,Y.set(d,p);var qe=Kl(ie(d),ie(p),x,P,G,Y);return Y.delete(d),qe;case Ni:if(la)return la.call(d)==la.call(p)}return!1}(d,p,fe,b,x,P,G);if(!(1&b)){var Lt=qe&&tr.call(d,"__wrapped__"),Rt=Qe&&tr.call(p,"__wrapped__");if(Lt||Rt){var hn=Lt?d.value():d,Jt=Rt?p.value():p;return G||(G=new _s),P(hn,Jt,b,x,G)}}return!!_t&&(G||(G=new _s),function Ql(d,p,b,x,P,G){var Y=1&b,ie=Fi(d),fe=ie.length;if(fe!=Fi(p).length&&!Y)return!1;for(var Qe=fe;Qe--;){var _t=ie[Qe];if(!(Y?_t in p:tr.call(p,_t)))return!1}var Lt=G.get(d),Rt=G.get(p);if(Lt&&Rt)return Lt==p&&Rt==d;var hn=!0;G.set(d,p),G.set(p,d);for(var Jt=Y;++Qe<fe;){var sn=d[_t=ie[Qe]],Nn=p[_t];if(x)var ii=Y?x(Nn,sn,_t,p,d,G):x(sn,Nn,_t,d,p,G);if(!(ii===k?sn===Nn||P(sn,Nn,b,x,G):ii)){hn=!1;break}Jt||(Jt="constructor"==_t)}if(hn&&!Jt){var Vi=d.constructor,Ei=p.constructor;Vi!=Ei&&"constructor"in d&&"constructor"in p&&!("function"==typeof Vi&&Vi instanceof Vi&&"function"==typeof Ei&&Ei instanceof Ei)&&(hn=!1)}return G.delete(d),G.delete(p),hn}(d,p,b,x,P,G))}(d,p,b,x,Uu,P))}function fp(d,p,b,x){var P=b.length,G=P,Y=!x;if(null==d)return!G;for(d=rr(d);P--;){var ie=b[P];if(Y&&ie[2]?ie[1]!==d[ie[0]]:!(ie[0]in d))return!1}for(;++P<G;){var fe=(ie=b[P])[0],je=d[fe],qe=ie[1];if(Y&&ie[2]){if(je===k&&!(fe in d))return!1}else{var Qe=new _s;if(x)var _t=x(je,qe,fe,d,p,Qe);if(!(_t===k?Uu(qe,je,3,x,Qe):_t))return!1}}return!0}function Cc(d){return!(!yi(d)||function Bi(d){return!!sl&&sl in d}(d))&&(ru(d)?Jd:hs).test(Vc(d))}function ih(d){return"function"==typeof d?d:null==d?ga:"object"==typeof d?gn(d)?gp(d[0],d[1]):da(d):Lm(d)}function ci(d){if(!Fa(d))return Nu(d);var p=[];for(var b in rr(d))tr.call(d,b)&&"constructor"!=b&&p.push(b);return p}function kr(d,p){return d<p}function ca(d,p){var b=-1,x=fa(d)?Se(d.length):[];return N(d,function(P,G,Y){x[++b]=p(P,G,Y)}),x}function da(d){var p=_f(d);return 1==p.length&&p[0][2]?Bc(p[0][0],p[0][1]):function(b){return b===d||fp(b,d,p)}}function gp(d,p){return Nt(d)&&_h(p)?Bc(La(d),p):function(b){var x=ab(b,d);return x===k&&x===p?Cv(b,d):Uu(p,x,3)}}function di(d,p,b,x,P){d!==p&&Vt(p,function(G,Y){if(P||(P=new _s),yi(G))!function mp(d,p,b,x,P,G,Y){var ie=vf(d,b),fe=vf(p,b),je=Y.get(fe);if(je)Ar(d,b,je);else{var qe=G?G(ie,fe,b+"",d,p,Y):k,Qe=qe===k;if(Qe){var _t=gn(fe),Lt=!_t&&Xu(fe),Rt=!_t&&!Lt&&ro(fe);qe=fe,_t||Lt||Rt?gn(ie)?qe=ie:Zi(ie)?qe=Ln(ie):Lt?(Qe=!1,qe=xc(fe,!0)):Rt?(Qe=!1,qe=dh(fe,!0)):qe=[]:Wp(fe)||Ju(fe)?(qe=ie,Ju(ie)?qe=Rf(ie):(!yi(ie)||ru(ie))&&(qe=C(fe))):Qe=!1}Qe&&(Y.set(fe,qe),P(qe,fe,x,G,Y),Y.delete(fe)),Ar(d,b,qe)}}(d,p,Y,b,di,x,P);else{var ie=x?x(vf(d,Y),G,Y+"",d,p,P):k;ie===k&&(ie=G),Ar(d,Y,ie)}},$a)}function Ic(d,p){var b=d.length;if(b)return Te(p+=p<0?b:0,b)?d[p]:k}function Pa(d,p,b){p=p.length?Ir(p,function(G){return gn(G)?function(Y){return jr(Y,1===G.length?G[0]:G)}:G}):[ga];var x=-1;return p=Ir(p,Hr(Gt())),function rd(de,Ve){var Se=de.length;for(de.sort(Ve);Se--;)de[Se]=de[Se].value;return de}(ca(d,function(G,Y,ie){return{criteria:Ir(p,function(je){return je(G)}),index:++x,value:G}}),function(G,Y){return function Nc(d,p,b){for(var x=-1,P=d.criteria,G=p.criteria,Y=P.length,ie=b.length;++x<Y;){var fe=Ac(P[x],G[x]);if(fe)return x>=ie?fe:fe*("desc"==b[x]?-1:1)}return d.index-p.index}(G,Y,b)})}function sh(d,p,b){for(var x=-1,P=p.length,G={};++x<P;){var Y=p[x],ie=jr(d,Y);b(ie,Y)&&Sc(G,ha(Y,d),ie)}return G}function Bo(d,p,b,x){var P=x?Jr:ra,G=-1,Y=p.length,ie=d;for(d===p&&(p=Ln(p)),b&&(ie=Ir(d,Hr(b)));++G<Y;)for(var fe=0,je=p[G],qe=b?b(je):je;(fe=P(ie,qe,fe,x))>-1;)ie!==d&&Sa.call(ie,fe,1),Sa.call(d,fe,1);return d}function vp(d,p){for(var b=d?p.length:0,x=b-1;b--;){var P=p[b];if(b==x||P!==G){var G=P;Te(P)?Sa.call(d,P,1):Uo(d,P)}}return d}function Tc(d,p){return d+vo(Ou()*(p-d+1))}function bo(d,p){var b="";if(!d||p<1||p>Mt)return b;do{p%2&&(b+=d),(p=vo(p/2))&&(d+=d)}while(p);return b}function vn(d,p){return yf(yh(d,p,ga),d+"")}function Vo(d){return af(ml(d))}function Ec(d,p){var b=ml(d);return Sp(b,Ks(p,0,b.length))}function Sc(d,p,b,x){if(!yi(d))return d;for(var P=-1,G=(p=ha(p,d)).length,Y=G-1,ie=d;null!=ie&&++P<G;){var fe=La(p[P]),je=b;if("__proto__"===fe||"constructor"===fe||"prototype"===fe)return d;if(P!=Y){var qe=ie[fe];(je=x?x(qe,fe,ie):k)===k&&(je=yi(qe)?qe:Te(p[P+1])?[]:{})}Pr(ie,fe,je),ie=ie[fe]}return d}var cf=dl?function(d,p){return dl.set(d,p),d}:ga,df=ol?function(d,p){return ol(d,"toString",{configurable:!0,enumerable:!1,value:Uv(p),writable:!0})}:ga;function $g(d){return Sp(ml(d))}function ki(d,p,b){var x=-1,P=d.length;p<0&&(p=-p>P?0:P+p),(b=b>P?P:b)<0&&(b+=P),P=p>b?0:b-p>>>0,p>>>=0;for(var G=Se(P);++x<P;)G[x]=d[x+p];return G}function Gg(d,p){var b;return N(d,function(x,P,G){return!(b=p(x,P,G))}),!!b}function Nr(d,p,b){var x=0,P=null==d?x:d.length;if("number"==typeof p&&p==p&&P<=2147483647){for(;x<P;){var G=x+P>>>1,Y=d[G];null!==Y&&!no(Y)&&(b?Y<=p:Y<p)?x=G+1:P=G}return P}return ka(d,p,ga,b)}function ka(d,p,b,x){var P=0,G=null==d?0:d.length;if(0===G)return 0;for(var Y=(p=b(p))!=p,ie=null===p,fe=no(p),je=p===k;P<G;){var qe=vo((P+G)/2),Qe=b(d[qe]),_t=Qe!==k,Lt=null===Qe,Rt=Qe==Qe,hn=no(Qe);if(Y)var Jt=x||Rt;else Jt=je?Rt&&(x||_t):ie?Rt&&_t&&(x||!Lt):fe?Rt&&_t&&!Lt&&(x||!hn):!Lt&&!hn&&(x?Qe<=p:Qe<p);Jt?P=qe+1:G=qe}return ei(G,4294967294)}function yp(d,p){for(var b=-1,x=d.length,P=0,G=[];++b<x;){var Y=d[b],ie=p?p(Y):Y;if(!b||!ys(ie,fe)){var fe=ie;G[P++]=0===Y?0:Y}}return G}function hf(d){return"number"==typeof d?d:no(d)?NaN:+d}function Js(d){if("string"==typeof d)return d;if(gn(d))return Ir(d,Js)+"";if(no(d))return pr?pr.call(d):"";var p=d+"";return"0"==p&&1/d==-Je?"-0":p}function Xs(d,p,b){var x=-1,P=Zt,G=d.length,Y=!0,ie=[],fe=ie;if(b)Y=!1,P=Ol;else if(G>=200){var je=p?null:ph(d);if(je)return kl(je);Y=!1,P=_o,fe=new ti}else fe=p?[]:ie;e:for(;++x<G;){var qe=d[x],Qe=p?p(qe):qe;if(qe=b||0!==qe?qe:0,Y&&Qe==Qe){for(var _t=fe.length;_t--;)if(fe[_t]===Qe)continue e;p&&fe.push(Qe),ie.push(qe)}else P(fe,Qe,b)||(fe!==ie&&fe.push(Qe),ie.push(qe))}return ie}function Uo(d,p){return null==(d=bh(d,p=ha(p,d)))||delete d[La(Ho(p))]}function Hu(d,p,b,x){return Sc(d,p,b(jr(d,p)),x)}function zl(d,p,b,x){for(var P=d.length,G=x?P:-1;(x?G--:++G<P)&&p(d[G],G,d););return b?ki(d,x?0:G,x?G+1:P):ki(d,x?G+1:0,x?P:G)}function oh(d,p){var b=d;return b instanceof wn&&(b=b.value()),Ml(p,function(x,P){return P.func.apply(P.thisArg,go([x],P.args))},b)}function vd(d,p,b){var x=d.length;if(x<2)return x?Xs(d[0]):[];for(var P=-1,G=Se(x);++P<x;)for(var Y=d[P],ie=-1;++ie<x;)ie!=P&&(G[P]=S(G[P]||Y,d[ie],p,b));return Xs(nt(G,1),p,b)}function ah(d,p,b){for(var x=-1,P=d.length,G=p.length,Y={};++x<P;)b(Y,d[x],x<G?p[x]:k);return Y}function yd(d){return Zi(d)?d:[]}function ff(d){return"function"==typeof d?d:ga}function ha(d,p){return gn(d)?d:Nt(d,p)?[d]:W_(sr(d))}var lh=vn;function ql(d,p,b){var x=d.length;return b=b===k?x:b,!p&&b>=x?d:ki(d,p,b)}var bp=al||function(d){return Hn.clearTimeout(d)};function xc(d,p){if(p)return d.slice();var b=d.length,x=Bl?Bl(b):new d.constructor(b);return d.copy(x),x}function uh(d){var p=new d.constructor(d.byteLength);return new Ea(p).set(new Ea(d)),p}function dh(d,p){var b=p?uh(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.length)}function Ac(d,p){if(d!==p){var b=d!==k,x=null===d,P=d==d,G=no(d),Y=p!==k,ie=null===p,fe=p==p,je=no(p);if(!ie&&!je&&!G&&d>p||G&&Y&&fe&&!ie&&!je||x&&Y&&fe||!b&&fe||!P)return 1;if(!x&&!G&&!je&&d<p||je&&b&&P&&!x&&!G||ie&&b&&P||!Y&&P||!fe)return-1}return 0}function Oc(d,p,b,x){for(var P=-1,G=d.length,Y=b.length,ie=-1,fe=p.length,je=si(G-Y,0),qe=Se(fe+je),Qe=!x;++ie<fe;)qe[ie]=p[ie];for(;++P<Y;)(Qe||P<G)&&(qe[b[P]]=d[P]);for(;je--;)qe[ie++]=d[P++];return qe}function wd(d,p,b,x){for(var P=-1,G=d.length,Y=-1,ie=b.length,fe=-1,je=p.length,qe=si(G-ie,0),Qe=Se(qe+je),_t=!x;++P<qe;)Qe[P]=d[P];for(var Lt=P;++fe<je;)Qe[Lt+fe]=p[fe];for(;++Y<ie;)(_t||P<G)&&(Qe[Lt+b[Y]]=d[P++]);return Qe}function Ln(d,p){var b=-1,x=d.length;for(p||(p=Se(x));++b<x;)p[b]=d[b];return p}function wo(d,p,b,x){var P=!b;b||(b={});for(var G=-1,Y=p.length;++G<Y;){var ie=p[G],fe=x?x(b[ie],d[ie],ie,b,d):k;fe===k&&(fe=d[ie]),P?Pi(b,ie,fe):Pr(b,ie,fe)}return b}function $o(d,p){return function(b,x){var P=gn(b)?Ja:Wn,G=p?p():{};return P(b,d,Gt(x,2),G)}}function ju(d){return vn(function(p,b){var x=-1,P=b.length,G=P>1?b[P-1]:k,Y=P>2?b[2]:k;for(G=d.length>3&&"function"==typeof G?(P--,G):k,Y&&Xe(b[0],b[1],Y)&&(G=P<3?k:G,P=1),p=rr(p);++x<P;){var ie=b[x];ie&&d(p,ie,x,G)}return p})}function Dd(d,p){return function(b,x){if(null==b)return b;if(!fa(b))return d(b,x);for(var P=b.length,G=p?P:-1,Y=rr(b);(p?G--:++G<P)&&!1!==x(Y[G],G,Y););return b}}function Hg(d){return function(p,b,x){for(var P=-1,G=rr(p),Y=x(p),ie=Y.length;ie--;){var fe=Y[d?ie:++P];if(!1===b(G[fe],fe,G))break}return p}}function Cp(d){return function(p){var b=Ia(p=sr(p))?ms(p):k,x=b?b[0]:p.charAt(0),P=b?ql(b,1).join(""):p.slice(1);return x[d]()+P}}function Wu(d){return function(p){return Ml(Mm(Yp(p).replace(qd,"")),d,"")}}function zu(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Ru(d.prototype),x=d.apply(b,p);return yi(x)?x:b}}function qu(d){return function(p,b,x){var P=rr(p);if(!fa(p)){var G=Gt(b,3);p=io(p),b=function(ie){return G(P[ie],ie,P)}}var Y=d(p,b,x);return Y>-1?P[G?p[Y]:Y]:k}}function Id(d){return Do(function(p){var b=p.length,x=b,P=Ys.prototype.thru;for(d&&p.reverse();x--;){var G=p[x];if("function"!=typeof G)throw new Di(Ce);if(P&&!Y&&"wrapper"==Fc(G))var Y=new Ys([],!0)}for(x=Y?x:b;++x<b;){var ie=Fc(G=p[x]),fe="wrapper"==ie?kc(G):k;Y=fe&&$t(fe[0])&&424==fe[1]&&!fe[4].length&&1==fe[9]?Y[Fc(fe[0])].apply(Y,fe[3]):1==G.length&&$t(G)?Y[ie]():Y.thru(G)}return function(){var je=arguments,qe=je[0];if(Y&&1==je.length&&gn(qe))return Y.plant(qe).value();for(var Qe=0,_t=b?p[Qe].apply(this,je):qe;++Qe<b;)_t=p[Qe].call(this,_t);return _t}})}function Mc(d,p,b,x,P,G,Y,ie,fe,je){var qe=128&p,Qe=1&p,_t=2&p,Lt=24&p,Rt=512&p,hn=_t?k:zu(d);return function Jt(){for(var sn=arguments.length,Nn=Se(sn),ii=sn;ii--;)Nn[ii]=arguments[ii];if(Lt)var Vi=Ii(Jt),Ei=Du(Nn,Vi);if(x&&(Nn=Oc(Nn,x,P,Lt)),G&&(Nn=wd(Nn,G,Y,Lt)),sn-=Ei,Lt&&sn<je){var yr=Mo(Nn,Vi);return Sd(d,p,Mc,Jt.placeholder,b,Nn,yr,ie,fe,je-sn)}var so=Qe?b:this,qo=_t?so[d]:d;return sn=Nn.length,ie?Nn=Tp(Nn,ie):Rt&&sn>1&&Nn.reverse(),qe&&fe<sn&&(Nn.length=fe),this&&this!==Hn&&this instanceof Jt&&(qo=hn||zu(qo)),qo.apply(so,Nn)}}function gf(d,p){return function(b,x){return function Qs(d,p,b,x){return qt(d,function(P,G,Y){p(x,b(P),G,Y)}),x}(b,d,p(x),{})}}function mf(d,p){return function(b,x){var P;if(b===k&&x===k)return p;if(b!==k&&(P=b),x!==k){if(P===k)return x;"string"==typeof b||"string"==typeof x?(b=Js(b),x=Js(x)):(b=hf(b),x=hf(x)),P=d(b,x)}return P}}function Td(d){return Do(function(p){return p=Ir(p,Hr(Gt())),vn(function(b){var x=this;return d(p,function(P){return zi(P,x,b)})})})}function hh(d,p){var b=(p=p===k?" ":Js(p)).length;if(b<2)return b?bo(p,d):p;var x=bo(p,ll(d/Zs(p)));return Ia(p)?ql(ms(x),0,d).join(""):x.slice(0,d)}function fh(d){return function(p,b,x){return x&&"number"!=typeof x&&Xe(p,b,x)&&(b=x=k),p=iu(p),b===k?(b=p,p=0):b=iu(b),function Gu(d,p,b,x){for(var P=-1,G=si(ll((p-d)/(b||1)),0),Y=Se(G);G--;)Y[x?G:++P]=d,d+=b;return Y}(p,b,x=x===k?p<b?1:-1:iu(x),d)}}function Ed(d){return function(p,b){return"string"==typeof p&&"string"==typeof b||(p=gl(p),b=gl(b)),d(p,b)}}function Sd(d,p,b,x,P,G,Y,ie,fe,je){var qe=8&p;p|=qe?32:64,4&(p&=~(qe?64:32))||(p&=-4);var hn=[d,p,P,qe?G:k,qe?Y:k,qe?k:G,qe?k:Y,ie,fe,je],Jt=b.apply(k,hn);return $t(d)&&Ep(Jt,hn),Jt.placeholder=x,jg(Jt,d,p)}function Rc(d){var p=Er[d];return function(b,x){if(b=gl(b),(x=null==x?0:ei(Dn(x),292))&&vc(b)){var P=(sr(b)+"e").split("e");return+((P=(sr(p(P[0]+"e"+(+P[1]+x)))+"e").split("e"))[0]+"e"+(+P[1]-x))}return p(b)}}var ph=aa&&1/kl(new aa([,-0]))[1]==Je?function(d){return new aa(d)}:Pf;function Zl(d){return function(p){var b=Li(p);return b==hr?Pl(p):b==Cn?function od(de){var Ve=-1,Se=Array(de.size);return de.forEach(function(Ct){Se[++Ve]=[Ct,Ct]}),Se}(p):function bu(de,Ve){return Ir(Ve,function(Se){return[Se,de[Se]]})}(p,d(p))}}function Go(d,p,b,x,P,G,Y,ie){var fe=2&p;if(!fe&&"function"!=typeof d)throw new Di(Ce);var je=x?x.length:0;if(je||(p&=-97,x=P=k),Y=Y===k?Y:si(Dn(Y),0),ie=ie===k?ie:Dn(ie),je-=P?P.length:0,64&p){var qe=x,Qe=P;x=P=k}var _t=fe?k:kc(d),Lt=[d,p,b,x,P,qe,Qe,G,Y,ie];if(_t&&function H_(d,p){var b=d[1],x=p[1],P=b|x;if(!(P<131||(128==x&&8==b||128==x&&256==b&&d[7].length<=p[8]||384==x&&p[7].length<=p[8]&&8==b)))return d;1&x&&(d[2]=p[2],P|=1&b?0:4);var ie=p[3];if(ie){var fe=d[3];d[3]=fe?Oc(fe,ie,p[4]):ie,d[4]=fe?Mo(d[3],J):p[4]}(ie=p[5])&&(d[5]=(fe=d[5])?wd(fe,ie,p[6]):ie,d[6]=fe?Mo(d[5],J):p[6]),(ie=p[7])&&(d[7]=ie),128&x&&(d[8]=null==d[8]?p[8]:ei(d[8],p[8])),null==d[9]&&(d[9]=p[9]),d[0]=p[0],d[1]=P}(Lt,_t),d=Lt[0],p=Lt[1],b=Lt[2],x=Lt[3],P=Lt[4],!(ie=Lt[9]=Lt[9]===k?fe?0:d.length:si(Lt[9]-je,0))&&24&p&&(p&=-25),p&&1!=p)Rt=8==p||16==p?function Cd(d,p,b){var x=zu(d);return function P(){for(var G=arguments.length,Y=Se(G),ie=G,fe=Ii(P);ie--;)Y[ie]=arguments[ie];var je=G<3&&Y[0]!==fe&&Y[G-1]!==fe?[]:Mo(Y,fe);return(G-=je.length)<b?Sd(d,p,Mc,P.placeholder,k,Y,je,k,k,b-G):zi(this&&this!==Hn&&this instanceof P?x:d,this,Y)}}(d,p,ie):32!=p&&33!=p||P.length?Mc.apply(k,Lt):function eo(d,p,b,x){var P=1&p,G=zu(d);return function Y(){for(var ie=-1,fe=arguments.length,je=-1,qe=x.length,Qe=Se(qe+fe),_t=this&&this!==Hn&&this instanceof Y?G:d;++je<qe;)Qe[je]=x[je];for(;fe--;)Qe[je++]=arguments[++ie];return zi(_t,P?b:this,Qe)}}(d,p,b,x);else var Rt=function Dp(d,p,b){var x=1&p,P=zu(d);return function G(){return(this&&this!==Hn&&this instanceof G?P:d).apply(x?b:this,arguments)}}(d,p,b);return jg((_t?cf:Ep)(Rt,Lt),d,p)}function Yl(d,p,b,x){return d===k||ys(d,ia[b])&&!tr.call(x,b)?p:d}function ks(d,p,b,x,P,G){return yi(d)&&yi(p)&&(G.set(p,d),di(d,p,k,ks,G),G.delete(p)),d}function Zu(d){return Wp(d)?k:d}function Kl(d,p,b,x,P,G){var Y=1&b,ie=d.length,fe=p.length;if(ie!=fe&&!(Y&&fe>ie))return!1;var je=G.get(d),qe=G.get(p);if(je&&qe)return je==p&&qe==d;var Qe=-1,_t=!0,Lt=2&b?new ti:k;for(G.set(d,p),G.set(p,d);++Qe<ie;){var Rt=d[Qe],hn=p[Qe];if(x)var Jt=Y?x(hn,Rt,Qe,p,d,G):x(Rt,hn,Qe,d,p,G);if(Jt!==k){if(Jt)continue;_t=!1;break}if(Lt){if(!mo(p,function(sn,Nn){if(!_o(Lt,Nn)&&(Rt===sn||P(Rt,sn,b,x,G)))return Lt.push(Nn)})){_t=!1;break}}else if(Rt!==hn&&!P(Rt,hn,b,x,G)){_t=!1;break}}return G.delete(d),G.delete(p),_t}function Do(d){return yf(yh(d,k,Yg),d+"")}function Fi(d){return Zn(d,io,Lc)}function Jl(d){return Zn(d,$a,Ku)}var kc=dl?function(d){return dl.get(d)}:Pf;function Fc(d){for(var p=d.name+"",b=Ci[p],x=tr.call(Ci,p)?b.length:0;x--;){var P=b[x],G=P.func;if(null==G||G==d)return P.name}return p}function Ii(d){return(tr.call(U,"placeholder")?U:d).placeholder}function Gt(){var d=U.iteratee||$v;return d=d===$v?ih:d,arguments.length?d(arguments[0],arguments[1]):d}function gh(d,p){var b=d.__data__;return function Kt(d){var p=typeof d;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==d:null===d}(p)?b["string"==typeof p?"string":"hash"]:b.map}function _f(d){for(var p=io(d),b=p.length;b--;){var x=p[b],P=d[x];p[b]=[x,P,_h(P)]}return p}function Yu(d,p){var b=function Cu(de,Ve){return null==de?k:de[Ve]}(d,p);return Cc(b)?b:k}var Lc=_c?function(d){return null==d?[]:(d=rr(d),er(_c(d),function(p){return ud.call(d,p)}))}:_l,Ku=_c?function(d){for(var p=[];d;)go(p,Lc(d)),d=Os(d);return p}:_l,Li=ui;function m(d,p,b){for(var x=-1,P=(p=ha(p,d)).length,G=!1;++x<P;){var Y=La(p[x]);if(!(G=null!=d&&b(d,Y)))break;d=d[Y]}return G||++x!=P?G:!!(P=null==d?0:d.length)&&Gp(P)&&Te(Y,P)&&(gn(d)||Ju(d))}function C(d){return"function"!=typeof d.constructor||Fa(d)?{}:Ru(Os(d))}function le(d){return gn(d)||Ju(d)||!!(gc&&d&&d[gc])}function Te(d,p){var b=typeof d;return!!(p=p??Mt)&&("number"==b||"symbol"!=b&&Kn.test(d))&&d>-1&&d%1==0&&d<p}function Xe(d,p,b){if(!yi(b))return!1;var x=typeof p;return!!("number"==x?fa(b)&&Te(p,b.length):"string"==x&&p in b)&&ys(b[p],d)}function Nt(d,p){if(gn(d))return!1;var b=typeof d;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=d&&!no(d))||mn.test(d)||!qr.test(d)||null!=p&&d in rr(p)}function $t(d){var p=Fc(d),b=U[p];if("function"!=typeof b||!(p in wn.prototype))return!1;if(d===b)return!0;var x=kc(b);return!!x&&d===x[0]}(oa&&Li(new oa(new ArrayBuffer(1)))!=Ot||cl&&Li(new cl)!=hr||yo&&Li(yo.resolve())!=yt||aa&&Li(new aa)!=Cn||ko&&Li(new ko)!=wr)&&(Li=function(d){var p=ui(d),b=p==vr?d.constructor:k,x=b?Vc(b):"";if(x)switch(x){case Aa:return Ot;case Ul:return hr;case $l:return yt;case yc:return Cn;case Gl:return wr}return p});var to=il?ru:kf;function Fa(d){var p=d&&d.constructor;return d===("function"==typeof p&&p.prototype||ia)}function _h(d){return d==d&&!yi(d)}function Bc(d,p){return function(b){return null!=b&&b[d]===p&&(p!==k||d in rr(b))}}function yh(d,p,b){return p=si(p===k?d.length-1:p,0),function(){for(var x=arguments,P=-1,G=si(x.length-p,0),Y=Se(G);++P<G;)Y[P]=x[p+P];P=-1;for(var ie=Se(p+1);++P<p;)ie[P]=x[P];return ie[p]=b(Y),zi(d,this,ie)}}function bh(d,p){return p.length<2?d:jr(d,ki(p,0,-1))}function Tp(d,p){for(var b=d.length,x=ei(p.length,b),P=Ln(d);x--;){var G=p[x];d[x]=Te(G,b)?P[G]:k}return d}function vf(d,p){if(("constructor"!==p||"function"!=typeof d[p])&&"__proto__"!=p)return d[p]}var Ep=j_(cf),Ad=mc||function(d,p){return Hn.setTimeout(d,p)},yf=j_(df);function jg(d,p,b){var x=p+"";return yf(d,function V(d,p){var b=p.length;if(!b)return d;var x=b-1;return p[x]=(b>1?"& ":"")+p[x],p=p.join(b>2?", ":" "),d.replace(Vr,"{\n/* [wrapped with "+p+"] */\n")}(x,function Wg(d,p){return ss(Vn,function(b){var x="_."+b[0];p&b[1]&&!Zt(d,x)&&d.push(x)}),d.sort()}(function w(d){var p=d.match(mt);return p?p[1].split(Wt):[]}(x),b)))}function j_(d){var p=0,b=0;return function(){var x=sa(),P=16-(x-b);if(b=x,P>0){if(++p>=800)return arguments[0]}else p=0;return d.apply(k,arguments)}}function Sp(d,p){var b=-1,x=d.length,P=x-1;for(p=p===k?x:p;++b<p;){var G=Tc(b,P),Y=d[G];d[G]=d[b],d[b]=Y}return d.length=p,d}var W_=function vh(d){var p=Hc(d,function(x){return 500===b.size&&b.clear(),x}),b=p.cache;return p}(function(d){var p=[];return 46===d.charCodeAt(0)&&p.push(""),d.replace(on,function(b,x,P,G){p.push(P?G.replace(ds,"$1"):x||b)}),p});function La(d){if("string"==typeof d||no(d))return d;var p=d+"";return"0"==p&&1/d==-Je?"-0":p}function Vc(d){if(null!=d){try{return Eu.call(d)}catch{}try{return d+""}catch{}}return""}function Nd(d){if(d instanceof wn)return d.clone();var p=new Ys(d.__wrapped__,d.__chain__);return p.__actions__=Ln(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}var zg=vn(function(d,p){return Zi(d)?S(d,nt(p,1,Zi,!0)):[]}),x0=vn(function(d,p){var b=Ho(p);return Zi(b)&&(b=k),Zi(d)?S(d,nt(p,1,Zi,!0),Gt(b,2)):[]}),_D=vn(function(d,p){var b=Ho(p);return Zi(b)&&(b=k),Zi(d)?S(d,nt(p,1,Zi,!0),k,b):[]});function qg(d,p,b){var x=null==d?0:d.length;if(!x)return-1;var P=null==b?0:Dn(b);return P<0&&(P=si(x+P,0)),Xa(d,Gt(p,3),P)}function Zg(d,p,b){var x=null==d?0:d.length;if(!x)return-1;var P=x-1;return b!==k&&(P=Dn(b),P=b<0?si(x+P,0):ei(P,x-1)),Xa(d,Gt(p,3),P,!0)}function Yg(d){return null!=d&&d.length?nt(d,1):[]}function bf(d){return d&&d.length?d[0]:k}var wh=vn(function(d){var p=Ir(d,yd);return p.length&&p[0]===d[0]?Ra(p):[]}),Y_=vn(function(d){var p=Ho(d),b=Ir(d,yd);return p===Ho(b)?p=k:b.pop(),b.length&&b[0]===d[0]?Ra(b,Gt(p,2)):[]}),K_=vn(function(d){var p=Ho(d),b=Ir(d,yd);return(p="function"==typeof p?p:k)&&b.pop(),b.length&&b[0]===d[0]?Ra(b,k,p):[]});function Ho(d){var p=null==d?0:d.length;return p?d[p-1]:k}var P0=vn(Jg);function Jg(d,p){return d&&d.length&&p&&p.length?Bo(d,p):d}var vD=Do(function(d,p){var b=null==d?0:d.length,x=Ps(d,p);return vp(d,Ir(p,function(P){return Te(P,b)?+P:P}).sort(Ac)),x});function em(d){return null==d?d:Mu.call(d)}var Dh=vn(function(d){return Xs(nt(d,1,Zi,!0))}),U0=vn(function(d){var p=Ho(d);return Zi(p)&&(p=k),Xs(nt(d,1,Zi,!0),Gt(p,2))}),J_=vn(function(d){var p=Ho(d);return p="function"==typeof p?p:k,Xs(nt(d,1,Zi,!0),k,p)});function G0(d){if(!d||!d.length)return[];var p=0;return d=er(d,function(b){if(Zi(b))return p=si(b.length,p),!0}),hc(p,function(b){return Ir(d,gs(b))})}function Ch(d,p){if(!d||!d.length)return[];var b=G0(d);return null==p?b:Ir(b,function(x){return zi(p,k,x)})}var im=vn(function(d,p){return Zi(d)?S(d,p):[]}),X_=vn(function(d){return vd(er(d,Zi))}),wD=vn(function(d){var p=Ho(d);return Zi(p)&&(p=k),vd(er(d,Zi),Gt(p,2))}),sm=vn(function(d){var p=Ho(d);return p="function"==typeof p?p:k,vd(er(d,Zi),k,p)}),DD=vn(G0),TD=vn(function(d){var p=d.length,b=p>1?d[p-1]:k;return b="function"==typeof b?(d.pop(),b):k,Ch(d,b)});function H0(d){var p=U(d);return p.__chain__=!0,p}function Mp(d,p){return p(d)}var om=Do(function(d){var p=d.length,b=p?d[0]:0,x=this.__wrapped__,P=function(G){return Ps(G,d)};return!(p>1||this.__actions__.length)&&x instanceof wn&&Te(b)?((x=x.slice(b,+b+(p?1:0))).__actions__.push({func:Mp,args:[P],thisArg:k}),new Ys(x,this.__chain__).thru(function(G){return p&&!G.length&&G.push(k),G})):this.thru(P)}),Wo=$o(function(d,p,b){tr.call(d,b)?++d[b]:Pi(d,b,1)}),If=qu(qg),Uc=qu(Zg);function lm(d,p){return(gn(d)?ss:N)(d,Gt(p,3))}function Tf(d,p){return(gn(d)?po:F)(d,Gt(p,3))}var um=$o(function(d,p,b){tr.call(d,b)?d[b].push(p):Pi(d,b,[p])}),kp=vn(function(d,p,b){var x=-1,P="function"==typeof p,G=fa(d)?Se(d.length):[];return N(d,function(Y){G[++x]=P?zi(p,Y,b):fl(Y,p,b)}),G}),tv=$o(function(d,p,b){Pi(d,b,p)});function Th(d,p){return(gn(d)?Ir:ca)(d,Gt(p,3))}var cm=$o(function(d,p,b){d[b?0:1].push(p)},function(){return[[],[]]}),Rd=vn(function(d,p){if(null==d)return[];var b=p.length;return b>1&&Xe(d,p[0],p[1])?p=[]:b>2&&Xe(p[0],p[1],p[2])&&(p=[p[0]]),Pa(d,nt(p,1),[])}),pl=Au||function(){return Hn.Date.now()};function Gc(d,p,b){return p=b?k:p,Go(d,128,k,k,k,k,p=d&&null==p?d.length:p)}function Bp(d,p){var b;if("function"!=typeof p)throw new Di(Ce);return d=Dn(d),function(){return--d>0&&(b=p.apply(this,arguments)),d<=1&&(p=k),b}}var Vp=vn(function(d,p,b){var x=1;if(b.length){var P=Mo(b,Ii(Vp));x|=32}return Go(d,x,p,b,P)}),Bs=vn(function(d,p,b){var x=3;if(b.length){var P=Mo(b,Ii(Bs));x|=32}return Go(p,x,d,b,P)});function iv(d,p,b){var x,P,G,Y,ie,fe,je=0,qe=!1,Qe=!1,_t=!0;if("function"!=typeof d)throw new Di(Ce);function Lt(yr){var so=x,qo=P;return x=P=k,je=yr,Y=d.apply(qo,so)}function Rt(yr){return je=yr,ie=Ad(sn,p),qe?Lt(yr):Y}function Jt(yr){var so=yr-fe;return fe===k||so>=p||so<0||Qe&&yr-je>=G}function sn(){var yr=pl();if(Jt(yr))return Nn(yr);ie=Ad(sn,function hn(yr){var Wc=p-(yr-fe);return Qe?ei(Wc,G-(yr-je)):Wc}(yr))}function Nn(yr){return ie=k,_t&&x?Lt(yr):(x=P=k,Y)}function Ei(){var yr=pl(),so=Jt(yr);if(x=arguments,P=this,fe=yr,so){if(ie===k)return Rt(fe);if(Qe)return bp(ie),ie=Ad(sn,p),Lt(fe)}return ie===k&&(ie=Ad(sn,p)),Y}return p=gl(p)||0,yi(b)&&(qe=!!b.leading,G=(Qe="maxWait"in b)?si(gl(b.maxWait)||0,p):G,_t="trailing"in b?!!b.trailing:_t),Ei.cancel=function ii(){ie!==k&&bp(ie),je=0,x=fe=P=ie=k},Ei.flush=function Vi(){return ie===k?Y:Nn(pl())},Ei}var Qu=vn(function(d,p){return eh(d,1,p)}),Z0=vn(function(d,p,b){return eh(d,gl(p)||0,b)});function Hc(d,p){if("function"!=typeof d||null!=p&&"function"!=typeof p)throw new Di(Ce);var b=function(){var x=arguments,P=p?p.apply(this,x):x[0],G=b.cache;if(G.has(P))return G.get(P);var Y=d.apply(this,x);return b.cache=G.set(P,Y)||G,Y};return b.cache=new(Hc.Cache||It),b}function Eh(d){if("function"!=typeof d)throw new Di(Ce);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}Hc.Cache=It;var xf=lh(function(d,p){var b=(p=1==p.length&&gn(p[0])?Ir(p[0],Hr(Gt())):Ir(nt(p,1),Hr(Gt()))).length;return vn(function(x){for(var P=-1,G=ei(x.length,b);++P<G;)x[P]=p[P].call(this,x[P]);return zi(d,this,x)})}),ln=vn(function(d,p){var b=Mo(p,Ii(ln));return Go(d,32,k,p,b)}),$p=vn(function(d,p){var b=Mo(p,Ii($p));return Go(d,64,k,p,b)}),ov=Do(function(d,p){return Go(d,256,k,k,k,p)});function ys(d,p){return d===p||d!=d&&p!=p}var hv=Ed(ua),Af=Ed(function(d,p){return d>=p}),Ju=lf(function(){return arguments}())?lf:function(d){return Ti(d)&&tr.call(d,"callee")&&!ud.call(d,"callee")},gn=Se.isArray,SD=As?Hr(As):function th(d){return Ti(d)&&ui(d)==Ft};function fa(d){return null!=d&&Gp(d.length)&&!ru(d)}function Zi(d){return Ti(d)&&fa(d)}var Xu=xa||kf,fv=is?Hr(is):function Ug(d){return Ti(d)&&ui(d)==xi};function Nh(d){if(!Ti(d))return!1;var p=ui(d);return p==kn||"[object DOMException]"==p||"string"==typeof d.message&&"string"==typeof d.name&&!Wp(d)}function ru(d){if(!yi(d))return!1;var p=ui(d);return p==Wr||p==ts||"[object AsyncFunction]"==p||"[object Proxy]"==p}function gv(d){return"number"==typeof d&&d==Dn(d)}function Gp(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=Mt}function yi(d){var p=typeof d;return null!=d&&("object"==p||"function"==p)}function Ti(d){return null!=d&&"object"==typeof d}var mv=gu?Hr(gu):function Dc(d){return Ti(d)&&Li(d)==hr};function jp(d){return"number"==typeof d||Ti(d)&&ui(d)==Or}function Wp(d){if(!Ti(d)||ui(d)!=vr)return!1;var p=Os(d);if(null===p)return!0;var b=tr.call(p,"constructor")&&p.constructor;return"function"==typeof b&&b instanceof b&&Eu.call(b)==pc}var Of=Qa?Hr(Qa):function nh(d){return Ti(d)&&ui(d)==Hi},pm=No?Hr(No):function pp(d){return Ti(d)&&Li(d)==Cn};function Mf(d){return"string"==typeof d||!gn(d)&&Ti(d)&&ui(d)==nr}function no(d){return"symbol"==typeof d||Ti(d)&&ui(d)==Ni}var ro=An?Hr(An):function rh(d){return Ti(d)&&Gp(d.length)&&!!Jn[ui(d)]},ec=Ed(kr),mm=Ed(function(d,p){return d<=p});function _m(d){if(!d)return[];if(fa(d))return Mf(d)?ms(d):Ln(d);if(xr&&d[xr])return function sd(de){for(var Ve,Se=[];!(Ve=de.next()).done;)Se.push(Ve.value);return Se}(d[xr]());var p=Li(d);return(p==hr?Pl:p==Cn?kl:ml)(d)}function iu(d){return d?(d=gl(d))===Je||d===-Je?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function Dn(d){var p=iu(d),b=p%1;return p==p?b?p-b:p:0}function vm(d){return d?Ks(Dn(d),0,pt):0}function gl(d){if("number"==typeof d)return d;if(no(d))return NaN;if(yi(d)){var p="function"==typeof d.valueOf?d.valueOf():d;d=yi(p)?p+"":p}if("string"!=typeof d)return 0===d?d:+d;d=Gr(d);var b=Hs.test(d);return b||tn.test(d)?xs(d.slice(2),b?2:8):lr.test(d)?NaN:+d}function Rf(d){return wo(d,$a(d))}function sr(d){return null==d?"":Js(d)}var ym=ju(function(d,p){if(Fa(p)||fa(p))wo(p,io(p),d);else for(var b in p)tr.call(p,b)&&Pr(d,b,p[b])}),qp=ju(function(d,p){wo(p,$a(p),d)}),bm=ju(function(d,p,b,x){wo(p,$a(p),d,x)}),rb=ju(function(d,p,b,x){wo(p,io(p),d,x)}),ib=Do(Ps),xD=vn(function(d,p){d=rr(d);var b=-1,x=p.length,P=x>2?p[2]:k;for(P&&Xe(p[0],p[1],P)&&(x=1);++b<x;)for(var G=p[b],Y=$a(G),ie=-1,fe=Y.length;++ie<fe;){var je=Y[ie],qe=d[je];(qe===k||ys(qe,ia[je])&&!tr.call(d,je))&&(d[je]=G[je])}return d}),wm=vn(function(d){return d.push(k,ks),zi(Iv,k,d)});function ab(d,p,b){var x=null==d?k:jr(d,p);return x===k?b:x}function Cv(d,p){return null!=d&&m(d,p,Oa)}var MD=gf(function(d,p,b){null!=p&&"function"!=typeof p.toString&&(p=Po.call(p)),d[p]=b},Uv(ga)),RD=gf(function(d,p,b){null!=p&&"function"!=typeof p.toString&&(p=Po.call(p)),tr.call(d,p)?d[p].push(b):d[p]=[b]},Gt),RE=vn(fl);function io(d){return fa(d)?_d(d):ci(d)}function $a(d){return fa(d)?_d(d,!0):function ri(d){if(!yi(d))return function Ip(d){var p=[];if(null!=d)for(var b in rr(d))p.push(b);return p}(d);var p=Fa(d),b=[];for(var x in d)"constructor"==x&&(p||!tr.call(d,x))||b.push(x);return b}(d)}var Dm=ju(function(d,p,b){di(d,p,b)}),Iv=ju(function(d,p,b,x){di(d,p,b,x)}),lb=Do(function(d,p){var b={};if(null==d)return b;var x=!1;p=Ir(p,function(G){return G=ha(G,d),x||(x=G.length>1),G}),wo(d,Jl(d),b),x&&(b=vi(b,7,Zu));for(var P=p.length;P--;)Uo(b,p[P]);return b}),ub=Do(function(d,p){return null==d?{}:function uf(d,p){return sh(d,p,function(b,x){return Cv(d,x)})}(d,p)});function Cm(d,p){if(null==d)return{};var b=Ir(Jl(d),function(x){return[x]});return p=Gt(p),sh(d,b,function(x,P){return p(x,P[0])})}var Ev=Zl(io),Sv=Zl($a);function ml(d){return null==d?[]:wu(d,io(d))}var Av=Wu(function(d,p,b){return p=p.toLowerCase(),d+(b?Sm(p):p)});function Sm(d){return Om(sr(d).toLowerCase())}function Yp(d){return(d=sr(d))&&d.replace(js,cp).replace(Zd,"")}var pb=Wu(function(d,p,b){return d+(b?"-":"")+p.toLowerCase()}),PD=Wu(function(d,p,b){return d+(b?" ":"")+p.toLowerCase()}),gb=Cp("toLowerCase"),Pv=Wu(function(d,p,b){return d+(b?"_":"")+p.toLowerCase()}),kv=Wu(function(d,p,b){return d+(b?" ":"")+Om(p)}),Ib=Wu(function(d,p,b){return d+(b?" ":"")+p.toUpperCase()}),Om=Cp("toUpperCase");function Mm(d,p,b){return d=sr(d),(p=b?k:p)===k?function Iu(de){return Ao.test(de)}(d)?function ld(de){return de.match(tf)||[]}(d):function Ze(de){return de.match($n)||[]}(d):d.match(p)||[]}var Vv=vn(function(d,p){try{return zi(d,k,p)}catch(b){return Nh(b)?b:new Yt(b)}}),kD=Do(function(d,p){return ss(p,function(b){b=La(b),Pi(d,b,Vp(d[b],d))}),d});function Uv(d){return function(){return d}}var kE=Id(),Tb=Id(!0);function ga(d){return d}function $v(d){return ih("function"==typeof d?d:vi(d,1))}var LD=vn(function(d,p){return function(b){return fl(b,d,p)}}),BD=vn(function(d,p){return function(b){return fl(d,b,p)}});function Rh(d,p,b){var x=io(p),P=gr(p,x);null==b&&(!yi(p)||!P.length&&x.length)&&(b=p,p=d,d=this,P=gr(p,io(p)));var G=!(yi(b)&&"chain"in b&&!b.chain),Y=ru(d);return ss(P,function(ie){var fe=p[ie];d[ie]=fe,Y&&(d.prototype[ie]=function(){var je=this.__chain__;if(G||je){var qe=d(this.__wrapped__),Qe=qe.__actions__=Ln(this.__actions__);return Qe.push({func:fe,args:arguments,thisArg:d}),qe.__chain__=je,qe}return fe.apply(d,go([this.value()],arguments))})}),d}function Pf(){}var Fm=Td(Ir),LE=Td(mu),Gv=Td(mo);function Lm(d){return Nt(d)?gs(La(d)):function _p(d){return function(p){return jr(p,d)}}(d)}var xb=fh(),Bm=fh(!0);function _l(){return[]}function kf(){return!1}var Fd=mf(function(d,p){return d+p},0),Ph=Rc("ceil"),VD=mf(function(d,p){return d/p},1),BE=Rc("floor"),Qp=mf(function(d,p){return d*p},1),Ob=Rc("round"),Um=mf(function(d,p){return d-p},0);return U.after=function Lp(d,p){if("function"!=typeof p)throw new Di(Ce);return d=Dn(d),function(){if(--d<1)return p.apply(this,arguments)}},U.ary=Gc,U.assign=ym,U.assignIn=qp,U.assignInWith=bm,U.assignWith=rb,U.at=ib,U.before=Bp,U.bind=Vp,U.bindAll=kD,U.bindKey=Bs,U.castArray=function cv(){if(!arguments.length)return[];var d=arguments[0];return gn(d)?d:[d]},U.chain=H0,U.chunk=function z_(d,p,b){p=(b?Xe(d,p,b):p===k)?1:si(Dn(p),0);var x=null==d?0:d.length;if(!x||p<1)return[];for(var P=0,G=0,Y=Se(ll(x/p));P<x;)Y[G++]=ki(d,P,P+=p);return Y},U.compact=function E0(d){for(var p=-1,b=null==d?0:d.length,x=0,P=[];++p<b;){var G=d[p];G&&(P[x++]=G)}return P},U.concat=function S0(){var d=arguments.length;if(!d)return[];for(var p=Se(d-1),b=arguments[0],x=d;x--;)p[x-1]=arguments[x];return go(gn(b)?Ln(b):[b],nt(p,1))},U.cond=function tc(d){var p=null==d?0:d.length,b=Gt();return d=p?Ir(d,function(x){if("function"!=typeof x[1])throw new Di(Ce);return[b(x[0]),x[1]]}):[],vn(function(x){for(var P=-1;++P<p;){var G=d[P];if(zi(G[0],this,x))return zi(G[1],this,x)}})},U.conforms=function Rm(d){return function wc(d){var p=io(d);return function(b){return ni(b,d,p)}}(vi(d,1))},U.constant=Uv,U.countBy=Wo,U.create=function sb(d,p){var b=Ru(d);return null==p?b:bt(b,p)},U.curry=function Up(d,p,b){var x=Go(d,8,k,k,k,k,k,p=b?k:p);return x.placeholder=Up.placeholder,x},U.curryRight=function Sf(d,p,b){var x=Go(d,16,k,k,k,k,k,p=b?k:p);return x.placeholder=Sf.placeholder,x},U.debounce=iv,U.defaults=xD,U.defaultsDeep=wm,U.defer=Qu,U.delay=Z0,U.difference=zg,U.differenceBy=x0,U.differenceWith=_D,U.drop=function q_(d,p,b){var x=null==d?0:d.length;return x?ki(d,(p=b||p===k?1:Dn(p))<0?0:p,x):[]},U.dropRight=function A0(d,p,b){var x=null==d?0:d.length;return x?ki(d,0,(p=x-(p=b||p===k?1:Dn(p)))<0?0:p):[]},U.dropRightWhile=function xp(d,p){return d&&d.length?zl(d,Gt(p,3),!0,!0):[]},U.dropWhile=function N0(d,p){return d&&d.length?zl(d,Gt(p,3),!0):[]},U.fill=function Z_(d,p,b,x){var P=null==d?0:d.length;return P?(b&&"number"!=typeof b&&Xe(d,p,b)&&(b=0,x=P),function Ee(d,p,b,x){var P=d.length;for((b=Dn(b))<0&&(b=-b>P?0:P+b),(x=x===k||x>P?P:Dn(x))<0&&(x+=P),x=b>x?0:vm(x);b<x;)d[b++]=p;return d}(d,p,b,x)):[]},U.filter=function Cf(d,p){return(gn(d)?er:We)(d,Gt(p,3))},U.flatMap=function W0(d,p){return nt(Th(d,p),1)},U.flatMapDeep=function am(d,p){return nt(Th(d,p),Je)},U.flatMapDepth=function Ih(d,p,b){return b=b===k?1:Dn(b),nt(Th(d,p),b)},U.flatten=Yg,U.flattenDeep=function O0(d){return null!=d&&d.length?nt(d,Je):[]},U.flattenDepth=function Fs(d,p){return null!=d&&d.length?nt(d,p=p===k?1:Dn(p)):[]},U.flip=function nu(d){return Go(d,512)},U.flow=kE,U.flowRight=Tb,U.fromPairs=function Kg(d){for(var p=-1,b=null==d?0:d.length,x={};++p<b;){var P=d[p];x[P[0]]=P[1]}return x},U.functions=function Dv(d){return null==d?[]:gr(d,io(d))},U.functionsIn=function OE(d){return null==d?[]:gr(d,$a(d))},U.groupBy=um,U.initial=function vs(d){return null!=d&&d.length?ki(d,0,-1):[]},U.intersection=wh,U.intersectionBy=Y_,U.intersectionWith=K_,U.invert=MD,U.invertBy=RD,U.invokeMap=kp,U.iteratee=$v,U.keyBy=tv,U.keys=io,U.keysIn=$a,U.map=Th,U.mapKeys=function PE(d,p){var b={};return p=Gt(p,3),qt(d,function(x,P,G){Pi(b,p(x,P,G),x)}),b},U.mapValues=function Pd(d,p){var b={};return p=Gt(p,3),qt(d,function(x,P,G){Pi(b,P,p(x,P,G))}),b},U.matches=function Eb(d){return da(vi(d,1))},U.matchesProperty=function Pm(d,p){return gp(d,vi(p,1))},U.memoize=Hc,U.merge=Dm,U.mergeWith=Iv,U.method=LD,U.methodOf=BD,U.mixin=Rh,U.negate=Eh,U.nthArg=function FE(d){return d=Dn(d),vn(function(p){return Ic(p,d)})},U.omit=lb,U.omitBy=function Tv(d,p){return Cm(d,Eh(Gt(p)))},U.once=function sv(d){return Bp(2,d)},U.orderBy=function nv(d,p,b,x){return null==d?[]:(gn(p)||(p=null==p?[]:[p]),gn(b=x?k:b)||(b=null==b?[]:[b]),Pa(d,p,b))},U.over=Fm,U.overArgs=xf,U.overEvery=LE,U.overSome=Gv,U.partial=ln,U.partialRight=$p,U.partition=cm,U.pick=ub,U.pickBy=Cm,U.property=Lm,U.propertyOf=function Sb(d){return function(p){return null==d?k:jr(d,p)}},U.pull=P0,U.pullAll=Jg,U.pullAllBy=function Q_(d,p,b){return d&&d.length&&p&&p.length?Bo(d,p,Gt(b,2)):d},U.pullAllWith=function k0(d,p,b){return d&&d.length&&p&&p.length?Bo(d,p,k,b):d},U.pullAt=vD,U.range=xb,U.rangeRight=Bm,U.rearg=ov,U.reject=function rv(d,p){return(gn(d)?er:We)(d,Eh(Gt(p,3)))},U.remove=function Xg(d,p){var b=[];if(!d||!d.length)return b;var x=-1,P=[],G=d.length;for(p=Gt(p,3);++x<G;){var Y=d[x];p(Y,x,d)&&(b.push(Y),P.push(x))}return vp(d,P),b},U.rest=function Sh(d,p){if("function"!=typeof d)throw new Di(Ce);return vn(d,p=p===k?p:Dn(p))},U.reverse=em,U.sampleSize=function Ua(d,p,b){return p=(b?Xe(d,p,b):p===k)?1:Dn(p),(gn(d)?Bu:Ec)(d,p)},U.set=function jc(d,p,b){return null==d?d:Sc(d,p,b)},U.setWith=function db(d,p,b,x){return x="function"==typeof x?x:k,null==d?d:Sc(d,p,b,x)},U.shuffle=function $c(d){return(gn(d)?Vu:$g)(d)},U.slice=function Od(d,p,b){var x=null==d?0:d.length;return x?(b&&"number"!=typeof b&&Xe(d,p,b)?(p=0,b=x):(p=null==p?0:Dn(p),b=b===k?x:Dn(b)),ki(d,p,b)):[]},U.sortBy=Rd,U.sortedUniq=function bD(d){return d&&d.length?yp(d):[]},U.sortedUniqBy=function tu(d,p){return d&&d.length?yp(d,Gt(p,2)):[]},U.split=function vb(d,p,b){return b&&"number"!=typeof b&&Xe(d,p,b)&&(p=b=k),(b=b===k?pt:b>>>0)?(d=sr(d))&&("string"==typeof p||null!=p&&!Of(p))&&!(p=Js(p))&&Ia(d)?ql(ms(d),0,b):d.split(p,b):[]},U.spread=function av(d,p){if("function"!=typeof d)throw new Di(Ce);return p=null==p?0:si(Dn(p),0),vn(function(b){var x=b[p],P=ql(b,0,p);return x&&go(P,x),zi(d,this,P)})},U.tail=function wf(d){var p=null==d?0:d.length;return p?ki(d,1,p):[]},U.take=function Np(d,p,b){return d&&d.length?ki(d,0,(p=b||p===k?1:Dn(p))<0?0:p):[]},U.takeRight=function B0(d,p,b){var x=null==d?0:d.length;return x?ki(d,(p=x-(p=b||p===k?1:Dn(p)))<0?0:p,x):[]},U.takeRightWhile=function nm(d,p){return d&&d.length?zl(d,Gt(p,3),!1,!0):[]},U.takeWhile=function V0(d,p){return d&&d.length?zl(d,Gt(p,3)):[]},U.tap=function ED(d,p){return p(d),d},U.throttle=function dm(d,p,b){var x=!0,P=!0;if("function"!=typeof d)throw new Di(Ce);return yi(b)&&(x="leading"in b?!!b.leading:x,P="trailing"in b?!!b.trailing:P),iv(d,p,{leading:x,maxWait:p,trailing:P})},U.thru=Mp,U.toArray=_m,U.toPairs=Ev,U.toPairsIn=Sv,U.toPath=function su(d){return gn(d)?Ir(d,La):no(d)?[d]:Ln(W_(sr(d)))},U.toPlainObject=Rf,U.transform=function xv(d,p,b){var x=gn(d),P=x||Xu(d)||ro(d);if(p=Gt(p,4),null==b){var G=d&&d.constructor;b=P?x?new G:[]:yi(d)&&ru(G)?Ru(Os(d)):{}}return(P?ss:qt)(d,function(Y,ie,fe){return p(b,Y,ie,fe)}),b},U.unary=function lv(d){return Gc(d,1)},U.union=Dh,U.unionBy=U0,U.unionWith=J_,U.uniq=function rm(d){return d&&d.length?Xs(d):[]},U.uniqBy=function Op(d,p){return d&&d.length?Xs(d,Gt(p,2)):[]},U.uniqWith=function $0(d,p){return p="function"==typeof p?p:k,d&&d.length?Xs(d,k,p):[]},U.unset=function hb(d,p){return null==d||Uo(d,p)},U.unzip=G0,U.unzipWith=Ch,U.update=function fb(d,p,b){return null==d?d:Hu(d,p,ff(b))},U.updateWith=function Im(d,p,b,x){return x="function"==typeof x?x:k,null==d?d:Hu(d,p,ff(b),x)},U.values=ml,U.valuesIn=function Tm(d){return null==d?[]:wu(d,$a(d))},U.without=im,U.words=Mm,U.wrap=function uv(d,p){return ln(ff(p),d)},U.xor=X_,U.xorBy=wD,U.xorWith=sm,U.zip=DD,U.zipObject=function CD(d,p){return ah(d||[],p||[],Pr)},U.zipObjectDeep=function ID(d,p){return ah(d||[],p||[],Sc)},U.zipWith=TD,U.entries=Ev,U.entriesIn=Sv,U.extend=qp,U.extendWith=bm,Rh(U,U),U.add=Fd,U.attempt=Vv,U.camelCase=Av,U.capitalize=Sm,U.ceil=Ph,U.clamp=function Mh(d,p,b){return b===k&&(b=p,p=k),b!==k&&(b=(b=gl(b))==b?b:0),p!==k&&(p=(p=gl(p))==p?p:0),Ks(gl(d),p,b)},U.clone=function Y0(d){return vi(d,4)},U.cloneDeep=function dv(d){return vi(d,5)},U.cloneDeepWith=function hm(d,p){return vi(d,5,p="function"==typeof p?p:k)},U.cloneWith=function xh(d,p){return vi(d,4,p="function"==typeof p?p:k)},U.conformsTo=function fm(d,p){return null==p||ni(d,p,io(p))},U.deburr=Yp,U.defaultTo=function FD(d,p){return null==d||d!=d?p:d},U.divide=VD,U.endsWith=function xm(d,p,b){d=sr(d),p=Js(p);var x=d.length,P=b=b===k?x:Ks(Dn(b),0,x);return(b-=p.length)>=0&&d.slice(b,P)==p},U.eq=ys,U.escape=function Nv(d){return(d=sr(d))&&ct.test(d)?d.replace(re,id):d},U.escapeRegExp=function Am(d){return(d=sr(d))&&Dr.test(d)?d.replace(ar,"\\$&"):d},U.every=function Rp(d,p,b){var x=gn(d)?mu:q;return b&&Xe(d,p,b)&&(p=k),x(d,Gt(p,3))},U.find=If,U.findIndex=qg,U.findKey=function AD(d,p){return _n(d,Gt(p,3),qt)},U.findLast=Uc,U.findLastIndex=Zg,U.findLastKey=function ob(d,p){return _n(d,Gt(p,3),Ut)},U.floor=BE,U.forEach=lm,U.forEachRight=Tf,U.forIn=function ND(d,p){return null==d?d:Vt(d,Gt(p,3),$a)},U.forInRight=function bv(d,p){return null==d?d:Ht(d,Gt(p,3),$a)},U.forOwn=function wv(d,p){return d&&qt(d,Gt(p,3))},U.forOwnRight=function OD(d,p){return d&&Ut(d,Gt(p,3))},U.get=ab,U.gt=hv,U.gte=Af,U.has=function ME(d,p){return null!=d&&m(d,p,Wl)},U.hasIn=Cv,U.head=bf,U.identity=ga,U.includes=function Pp(d,p,b,x){d=fa(d)?d:ml(d),b=b&&!x?Dn(b):0;var P=d.length;return b<0&&(b=si(P+b,0)),Mf(d)?b<=P&&d.indexOf(p,b)>-1:!!P&&ra(d,p,b)>-1},U.indexOf=function Qg(d,p,b){var x=null==d?0:d.length;if(!x)return-1;var P=null==b?0:Dn(b);return P<0&&(P=si(x+P,0)),ra(d,p,P)},U.inRange=function Em(d,p,b){return p=iu(p),b===k?(b=p,p=0):b=iu(b),function Ma(d,p,b){return d>=ei(p,b)&&d<si(p,b)}(d=gl(d),p,b)},U.invoke=RE,U.isArguments=Ju,U.isArray=gn,U.isArrayBuffer=SD,U.isArrayLike=fa,U.isArrayLikeObject=Zi,U.isBoolean=function Nf(d){return!0===d||!1===d||Ti(d)&&ui(d)==Qt},U.isBuffer=Xu,U.isDate=fv,U.isElement=function K0(d){return Ti(d)&&1===d.nodeType&&!Wp(d)},U.isEmpty=function Ah(d){if(null==d)return!0;if(fa(d)&&(gn(d)||"string"==typeof d||"function"==typeof d.splice||Xu(d)||ro(d)||Ju(d)))return!d.length;var p=Li(d);if(p==hr||p==Cn)return!d.size;if(Fa(d))return!ci(d).length;for(var b in d)if(tr.call(d,b))return!1;return!0},U.isEqual=function Q0(d,p){return Uu(d,p)},U.isEqualWith=function pv(d,p,b){var x=(b="function"==typeof b?b:k)?b(d,p):k;return x===k?Uu(d,p,k,b):!!x},U.isError=Nh,U.isFinite=function J0(d){return"number"==typeof d&&vc(d)},U.isFunction=ru,U.isInteger=gv,U.isLength=Gp,U.isMap=mv,U.isMatch=function _v(d,p){return d===p||fp(d,p,_f(p))},U.isMatchWith=function X0(d,p,b){return b="function"==typeof b?b:k,fp(d,p,_f(p),b)},U.isNaN=function eb(d){return jp(d)&&d!=+d},U.isNative=function tb(d){if(to(d))throw new Yt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cc(d)},U.isNil=function nb(d){return null==d},U.isNull=function Hp(d){return null===d},U.isNumber=jp,U.isObject=yi,U.isObjectLike=Ti,U.isPlainObject=Wp,U.isRegExp=Of,U.isSafeInteger=function Oh(d){return gv(d)&&d>=-Mt&&d<=Mt},U.isSet=pm,U.isString=Mf,U.isSymbol=no,U.isTypedArray=ro,U.isUndefined=function vv(d){return d===k},U.isWeakMap=function yv(d){return Ti(d)&&Li(d)==wr},U.isWeakSet=function gm(d){return Ti(d)&&"[object WeakSet]"==ui(d)},U.join=function M0(d,p){return null==d?"":ul.call(d,p)},U.kebabCase=pb,U.last=Ho,U.lastIndexOf=function R0(d,p,b){var x=null==d?0:d.length;if(!x)return-1;var P=x;return b!==k&&(P=(P=Dn(b))<0?si(x+P,0):ei(P,x-1)),p==p?function nl(de,Ve,Se){for(var Ct=Se+1;Ct--;)if(de[Ct]===Ve)return Ct;return Ct}(d,p,P):Xa(d,vu,P,!0)},U.lowerCase=PD,U.lowerFirst=gb,U.lt=ec,U.lte=mm,U.max=function UD(d){return d&&d.length?he(d,ga,ua):k},U.maxBy=function $D(d,p){return d&&d.length?he(d,Gt(p,2),ua):k},U.mean=function kh(d){return el(d,ga)},U.meanBy=function Nb(d,p){return el(d,Gt(p,2))},U.min=function GD(d){return d&&d.length?he(d,ga,kr):k},U.minBy=function Hv(d,p){return d&&d.length?he(d,Gt(p,2),kr):k},U.stubArray=_l,U.stubFalse=kf,U.stubObject=function kd(){return{}},U.stubString=function Kp(){return""},U.stubTrue=function Ab(){return!0},U.multiply=Qp,U.nth=function Ap(d,p){return d&&d.length?Ic(d,Dn(p)):k},U.noConflict=function km(){return Hn._===this&&(Hn._=Su),this},U.noop=Pf,U.now=pl,U.pad=function Ov(d,p,b){d=sr(d);var x=(p=Dn(p))?Zs(d):0;if(!p||x>=p)return d;var P=(p-x)/2;return hh(vo(P),b)+d+hh(ll(P),b)},U.padEnd=function mb(d,p,b){d=sr(d);var x=(p=Dn(p))?Zs(d):0;return p&&x<p?d+hh(p-x,b):d},U.padStart=function Mv(d,p,b){d=sr(d);var x=(p=Dn(p))?Zs(d):0;return p&&x<p?hh(p-x,b)+d:d},U.parseInt=function Rv(d,p,b){return b||null==p?p=0:p&&(p=+p),cd(sr(d).replace(us,""),p||0)},U.random=function Zp(d,p,b){if(b&&"boolean"!=typeof b&&Xe(d,p,b)&&(p=b=k),b===k&&("boolean"==typeof p?(b=p,p=k):"boolean"==typeof d&&(b=d,d=k)),d===k&&p===k?(d=0,p=1):(d=iu(d),p===k?(p=d,d=0):p=iu(p)),d>p){var x=d;d=p,p=x}if(b||d%1||p%1){var P=Ou();return ei(d+P*(p-d+zs("1e-"+((P+"").length-1))),p)}return Tc(d,p)},U.reduce=function Ef(d,p,b){var x=gn(d)?Ml:Rl,P=arguments.length<3;return x(d,Gt(p,4),b,P,N)},U.reduceRight=function z0(d,p,b){var x=gn(d)?td:Rl,P=arguments.length<3;return x(d,Gt(p,4),b,P,F)},U.repeat=function _b(d,p,b){return p=(b?Xe(d,p,b):p===k)?1:Dn(p),bo(sr(d),p)},U.replace=function pa(){var d=arguments,p=sr(d[0]);return d.length<3?p:p.replace(d[1],d[2])},U.result=function cb(d,p,b){var x=-1,P=(p=ha(p,d)).length;for(P||(P=1,d=k);++x<P;){var G=null==d?k:d[La(p[x])];G===k&&(x=P,G=b),d=ru(G)?G.call(d):G}return d},U.round=Ob,U.runInContext=de,U.sample=function q0(d){return(gn(d)?af:Vo)(d)},U.size=function zo(d){if(null==d)return 0;if(fa(d))return Mf(d)?Zs(d):d.length;var p=Li(d);return p==hr||p==Cn?d.size:ci(d).length},U.snakeCase=Pv,U.some=function Fp(d,p,b){var x=gn(d)?mo:Gg;return b&&Xe(d,p,b)&&(p=k),x(d,Gt(p,3))},U.sortedIndex=function eu(d,p){return Nr(d,p)},U.sortedIndexBy=function Md(d,p,b){return ka(d,p,Gt(b,2))},U.sortedIndexOf=function F0(d,p){var b=null==d?0:d.length;if(b){var x=Nr(d,p);if(x<b&&ys(d[x],p))return x}return-1},U.sortedLastIndex=function L0(d,p){return Nr(d,p,!0)},U.sortedLastIndexBy=function yD(d,p,b){return ka(d,p,Gt(b,2),!0)},U.sortedLastIndexOf=function tm(d,p){if(null!=d&&d.length){var x=Nr(d,p,!0)-1;if(ys(d[x],p))return x}return-1},U.startCase=kv,U.startsWith=function yb(d,p,b){return d=sr(d),b=null==b?0:Ks(Dn(b),0,d.length),p=Js(p),d.slice(b,b+p.length)==p},U.subtract=Um,U.sum=function Lf(d){return d&&d.length?yu(d,ga):0},U.sumBy=function Co(d,p){return d&&d.length?yu(d,Gt(p,2)):0},U.template=function Nm(d,p,b){var x=U.templateSettings;b&&Xe(d,p,b)&&(p=k),d=sr(d),p=bm({},p,x,Yl);var ie,fe,P=bm({},p.imports,x.imports,Yl),G=io(P),Y=wu(P,G),je=0,qe=p.interpolate||Eo,Qe="__p += '",_t=Ro((p.escape||Eo).source+"|"+qe.source+"|"+(qe===Fn?Zr:Eo).source+"|"+(p.evaluate||Eo).source+"|$","g"),Lt="//# sourceURL="+(tr.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ya+"]")+"\n";d.replace(_t,function(Jt,sn,Nn,ii,Vi,Ei){return Nn||(Nn=ii),Qe+=d.slice(je,Ei).replace(Ws,fc),sn&&(ie=!0,Qe+="' +\n__e("+sn+") +\n'"),Vi&&(fe=!0,Qe+="';\n"+Vi+";\n__p += '"),Nn&&(Qe+="' +\n((__t = ("+Nn+")) == null ? '' : __t) +\n'"),je=Ei+Jt.length,Jt}),Qe+="';\n";var Rt=tr.call(p,"variable")&&p.variable;if(Rt){if(cs.test(Rt))throw new Yt("Invalid `variable` option passed into `_.template`")}else Qe="with (obj) {\n"+Qe+"\n}\n";Qe=(fe?Qe.replace(oe,""):Qe).replace(te,"$1").replace(K,"$1;"),Qe="function("+(Rt||"obj")+") {\n"+(Rt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(fe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Qe+"return __p\n}";var hn=Vv(function(){return jn(G,Lt+"return "+Qe).apply(k,Y)});if(hn.source=Qe,Nh(hn))throw hn;return hn},U.times=function Ff(d,p){if((d=Dn(d))<1||d>Mt)return[];var b=pt,x=ei(d,pt);p=Gt(p),d-=pt;for(var P=hc(x,p);++b<d;)p(b);return P},U.toFinite=iu,U.toInteger=Dn,U.toLength=vm,U.toLower=function Fv(d){return sr(d).toLowerCase()},U.toNumber=gl,U.toSafeInteger=function zp(d){return d?Ks(Dn(d),-Mt,Mt):0===d?d:0},U.toString=sr,U.toUpper=function bb(d){return sr(d).toUpperCase()},U.trim=function wb(d,p,b){if((d=sr(d))&&(b||p===k))return Gr(d);if(!d||!(p=Js(p)))return d;var x=ms(d),P=ms(p);return ql(x,Oo(x,P),rf(x,P)+1).join("")},U.trimEnd=function Db(d,p,b){if((d=sr(d))&&(b||p===k))return d.slice(0,_i(d)+1);if(!d||!(p=Js(p)))return d;var x=ms(d);return ql(x,0,rf(x,ms(p))+1).join("")},U.trimStart=function Lv(d,p,b){if((d=sr(d))&&(b||p===k))return d.replace(us,"");if(!d||!(p=Js(p)))return d;var x=ms(d);return ql(x,Oo(x,ms(p))).join("")},U.truncate=function Cb(d,p){var b=30,x="...";if(yi(p)){var P="separator"in p?p.separator:P;b="length"in p?Dn(p.length):b,x="omission"in p?Js(p.omission):x}var G=(d=sr(d)).length;if(Ia(d)){var Y=ms(d);G=Y.length}if(b>=G)return d;var ie=b-Zs(x);if(ie<1)return x;var fe=Y?ql(Y,0,ie).join(""):d.slice(0,ie);if(P===k)return fe+x;if(Y&&(ie+=fe.length-ie),Of(P)){if(d.slice(ie).search(P)){var je,qe=fe;for(P.global||(P=Ro(P.source,sr(co.exec(P))+"g")),P.lastIndex=0;je=P.exec(qe);)var Qe=je.index;fe=fe.slice(0,Qe===k?ie:Qe)}}else if(d.indexOf(Js(P),ie)!=ie){var _t=fe.lastIndexOf(P);_t>-1&&(fe=fe.slice(0,_t))}return fe+x},U.unescape=function Bv(d){return(d=sr(d))&&ze.test(d)?d.replace(ne,Ns):d},U.uniqueId=function Vm(d){var p=++Ll;return sr(d)+p},U.upperCase=Ib,U.upperFirst=Om,U.each=lm,U.eachRight=Tf,U.first=bf,Rh(U,function(){var d={};return qt(U,function(p,b){tr.call(U.prototype,b)||(d[b]=p)}),d}(),{chain:!1}),U.VERSION="4.17.21",ss(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){U[d].placeholder=U}),ss(["drop","take"],function(d,p){wn.prototype[d]=function(b){b=b===k?1:si(Dn(b),0);var x=this.__filtered__&&!p?new wn(this):this.clone();return x.__filtered__?x.__takeCount__=ei(b,x.__takeCount__):x.__views__.push({size:ei(b,pt),type:d+(x.__dir__<0?"Right":"")}),x},wn.prototype[d+"Right"]=function(b){return this.reverse()[d](b).reverse()}}),ss(["filter","map","takeWhile"],function(d,p){var b=p+1,x=1==b||3==b;wn.prototype[d]=function(P){var G=this.clone();return G.__iteratees__.push({iteratee:Gt(P,3),type:b}),G.__filtered__=G.__filtered__||x,G}}),ss(["head","last"],function(d,p){var b="take"+(p?"Right":"");wn.prototype[d]=function(){return this[b](1).value()[0]}}),ss(["initial","tail"],function(d,p){var b="drop"+(p?"":"Right");wn.prototype[d]=function(){return this.__filtered__?new wn(this):this[b](1)}}),wn.prototype.compact=function(){return this.filter(ga)},wn.prototype.find=function(d){return this.filter(d).head()},wn.prototype.findLast=function(d){return this.reverse().find(d)},wn.prototype.invokeMap=vn(function(d,p){return"function"==typeof d?new wn(this):this.map(function(b){return fl(b,d,p)})}),wn.prototype.reject=function(d){return this.filter(Eh(Gt(d)))},wn.prototype.slice=function(d,p){d=Dn(d);var b=this;return b.__filtered__&&(d>0||p<0)?new wn(b):(d<0?b=b.takeRight(-d):d&&(b=b.drop(d)),p!==k&&(b=(p=Dn(p))<0?b.dropRight(-p):b.take(p-d)),b)},wn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},wn.prototype.toArray=function(){return this.take(pt)},qt(wn.prototype,function(d,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),x=/^(?:head|last)$/.test(p),P=U[x?"take"+("last"==p?"Right":""):p],G=x||/^find/.test(p);!P||(U.prototype[p]=function(){var Y=this.__wrapped__,ie=x?[1]:arguments,fe=Y instanceof wn,je=ie[0],qe=fe||gn(Y),Qe=function(sn){var Nn=P.apply(U,go([sn],ie));return x&&_t?Nn[0]:Nn};qe&&b&&"function"==typeof je&&1!=je.length&&(fe=qe=!1);var _t=this.__chain__,Lt=!!this.__actions__.length,Rt=G&&!_t,hn=fe&&!Lt;if(!G&&qe){Y=hn?Y:new wn(this);var Jt=d.apply(Y,ie);return Jt.__actions__.push({func:Mp,args:[Qe],thisArg:k}),new Ys(Jt,_t)}return Rt&&hn?d.apply(this,ie):(Jt=this.thru(Qe),Rt?x?Jt.value()[0]:Jt.value():Jt)})}),ss(["pop","push","shift","sort","splice","unshift"],function(d){var p=rl[d],b=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",x=/^(?:pop|shift)$/.test(d);U.prototype[d]=function(){var P=arguments;if(x&&!this.__chain__){var G=this.value();return p.apply(gn(G)?G:[],P)}return this[b](function(Y){return p.apply(gn(Y)?Y:[],P)})}}),qt(wn.prototype,function(d,p){var b=U[p];if(b){var x=b.name+"";tr.call(Ci,x)||(Ci[x]=[]),Ci[x].push({name:p,func:b})}}),Ci[Mc(k,2).name]=[{name:"wrapper",func:k}],wn.prototype.clone=function Xd(){var d=new wn(this.__wrapped__);return d.__actions__=Ln(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Ln(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Ln(this.__views__),d},wn.prototype.reverse=function Vg(){if(this.__filtered__){var d=new wn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},wn.prototype.value=function Pu(){var d=this.__wrapped__.value(),p=this.__dir__,b=gn(d),x=p<0,P=b?d.length:0,G=function xd(d,p,b){for(var x=-1,P=b.length;++x<P;){var G=b[x],Y=G.size;switch(G.type){case"drop":d+=Y;break;case"dropRight":p-=Y;break;case"take":p=ei(p,d+Y);break;case"takeRight":d=si(d,p-Y)}}return{start:d,end:p}}(0,P,this.__views__),Y=G.start,ie=G.end,fe=ie-Y,je=x?ie:Y-1,qe=this.__iteratees__,Qe=qe.length,_t=0,Lt=ei(fe,this.__takeCount__);if(!b||!x&&P==fe&&Lt==fe)return oh(d,this.__actions__);var Rt=[];e:for(;fe--&&_t<Lt;){for(var hn=-1,Jt=d[je+=p];++hn<Qe;){var sn=qe[hn],ii=sn.type,Vi=(0,sn.iteratee)(Jt);if(2==ii)Jt=Vi;else if(!Vi){if(1==ii)continue e;break e}}Rt[_t++]=Jt}return Rt},U.prototype.at=om,U.prototype.chain=function Df(){return H0(this)},U.prototype.commit=function Ba(){return new Ys(this.value(),this.__chain__)},U.prototype.next=function j0(){this.__values__===k&&(this.__values__=_m(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?k:this.__values__[this.__index__++]}},U.prototype.plant=function jo(d){for(var p,b=this;b instanceof Hl;){var x=Nd(b);x.__index__=0,x.__values__=k,p?P.__wrapped__=x:p=x;var P=x;b=b.__wrapped__}return P.__wrapped__=d,p},U.prototype.reverse=function Va(){var d=this.__wrapped__;if(d instanceof wn){var p=d;return this.__actions__.length&&(p=new wn(this)),(p=p.reverse()).__actions__.push({func:Mp,args:[em],thisArg:k}),new Ys(p,this.__chain__)}return this.thru(em)},U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=function Ls(){return oh(this.__wrapped__,this.__actions__)},U.prototype.first=U.prototype.head,xr&&(U.prototype[xr]=function ev(){return this}),U}();Hn._=Fl,(u=function(){return Fl}.call(Ge,j,Ge,At))!==k&&(At.exports=u)}.call(this)},9751:(At,Ge,j)=>{"use strict";j.d(Ge,{y:()=>Ne});var u=j(930),k=j(727),W=j(8822),be=j(9635),ge=j(2416),Ce=j(576),Ie=j(2806);let Ne=(()=>{class ce{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Le=new ce;return Le.source=this,Le.operator=Ue,Le}subscribe(Ue,Le,ht){const Oe=function X(ce){return ce&&ce instanceof u.Lv||function J(ce){return ce&&(0,Ce.m)(ce.next)&&(0,Ce.m)(ce.error)&&(0,Ce.m)(ce.complete)}(ce)&&(0,k.Nn)(ce)}(Ue)?Ue:new u.Hp(Ue,Le,ht);return(0,Ie.x)(()=>{const{operator:Me,source:at}=this;Oe.add(Me?Me.call(Oe,at):at?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Le){Ue.error(Le)}}forEach(Ue,Le){return new(Le=Ae(Le))((ht,Oe)=>{const Me=new u.Hp({next:at=>{try{Ue(at)}catch(St){Oe(St),Me.unsubscribe()}},error:Oe,complete:ht});this.subscribe(Me)})}_subscribe(Ue){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ue)}[W.L](){return this}pipe(...Ue){return(0,be.U)(Ue)(this)}toPromise(Ue){return new(Ue=Ae(Ue))((Le,ht)=>{let Oe;this.subscribe(Me=>Oe=Me,Me=>ht(Me),()=>Le(Oe))})}}return ce.create=tt=>new ce(tt),ce})();function Ae(ce){var tt;return null!==(tt=ce??ge.v.Promise)&&void 0!==tt?tt:Promise}},7579:(At,Ge,j)=>{"use strict";j.d(Ge,{x:()=>Ie});var u=j(9751),k=j(727);const be=(0,j(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=j(8737),Ce=j(2806);let Ie=(()=>{class Ae extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const ce=new Ne(this,this);return ce.operator=X,ce}_throwIfClosed(){if(this.closed)throw new be}next(X){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(X)}})}error(X){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:ce}=this;for(;ce.length;)ce.shift().error(X)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:ce,isStopped:tt,observers:Ue}=this;return ce||tt?k.Lc:(this.currentObservers=null,Ue.push(X),new k.w0(()=>{this.currentObservers=null,(0,ge.P)(Ue,X)}))}_checkFinalizedStatuses(X){const{hasError:ce,thrownError:tt,isStopped:Ue}=this;ce?X.error(tt):Ue&&X.complete()}asObservable(){const X=new u.y;return X.source=this,X}}return Ae.create=(J,X)=>new Ne(J,X),Ae})();class Ne extends Ie{constructor(J,X){super(),this.destination=J,this.source=X}next(J){var X,ce;null===(ce=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===ce||ce.call(X,J)}error(J){var X,ce;null===(ce=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===ce||ce.call(X,J)}complete(){var J,X;null===(X=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===X||X.call(J)}_subscribe(J){var X,ce;return null!==(ce=null===(X=this.source)||void 0===X?void 0:X.subscribe(J))&&void 0!==ce?ce:k.Lc}}},930:(At,Ge,j)=>{"use strict";j.d(Ge,{Hp:()=>ht,Lv:()=>ce});var u=j(576),k=j(727),W=j(2416),be=j(7849),ge=j(5032);const Ce=Ae("C",void 0,void 0);function Ae(He,ke,Fe){return{kind:He,value:ke,error:Fe}}var J=j(3410),X=j(2806);class ce extends k.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,k.Nn)(ke)&&ke.add(this)):this.destination=St}static create(ke,Fe,st){return new ht(ke,Fe,st)}next(ke){this.isStopped?at(function Ne(He){return Ae("N",He,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?at(function Ie(He){return Ae("E",void 0,He)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?at(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Ue(He,ke){return tt.call(He,ke)}class Le{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(ke)}catch(st){Oe(st)}}error(ke){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(ke)}catch(st){Oe(st)}else Oe(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Fe){Oe(Fe)}}}class ht extends ce{constructor(ke,Fe,st){let ft;if(super(),(0,u.m)(ke)||!ke)ft={next:ke??void 0,error:Fe??void 0,complete:st??void 0};else{let Q;this&&W.v.useDeprecatedNextContext?(Q=Object.create(ke),Q.unsubscribe=()=>this.unsubscribe(),ft={next:ke.next&&Ue(ke.next,Q),error:ke.error&&Ue(ke.error,Q),complete:ke.complete&&Ue(ke.complete,Q)}):ft=ke}this.destination=new Le(ft)}}function Oe(He){W.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(He):(0,be.h)(He)}function at(He,ke){const{onStoppedNotification:Fe}=W.v;Fe&&J.z.setTimeout(()=>Fe(He,ke))}const St={closed:!0,next:ge.Z,error:function Me(He){throw He},complete:ge.Z}},727:(At,Ge,j)=>{"use strict";j.d(Ge,{Lc:()=>Ce,w0:()=>ge,Nn:()=>Ie});var u=j(576);const W=(0,j(3888).d)(Ae=>function(X){Ae(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((ce,tt)=>`${tt+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var be=j(8737);class ge{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Ue of X)Ue.remove(this);else X.remove(this);const{initialTeardown:ce}=this;if((0,u.m)(ce))try{ce()}catch(Ue){J=Ue instanceof W?Ue.errors:[Ue]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Ue of tt)try{Ne(Ue)}catch(Le){J=J??[],Le instanceof W?J=[...J,...Le.errors]:J.push(Le)}}if(J)throw new W(J)}}add(J){var X;if(J&&J!==this)if(this.closed)Ne(J);else{if(J instanceof ge){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(J)}}_hasParent(J){const{_parentage:X}=this;return X===J||Array.isArray(X)&&X.includes(J)}_addParent(J){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(J),X):X?[X,J]:J}_removeParent(J){const{_parentage:X}=this;X===J?this._parentage=null:Array.isArray(X)&&(0,be.P)(X,J)}remove(J){const{_finalizers:X}=this;X&&(0,be.P)(X,J),J instanceof ge&&J._removeParent(this)}}ge.EMPTY=(()=>{const Ae=new ge;return Ae.closed=!0,Ae})();const Ce=ge.EMPTY;function Ie(Ae){return Ae instanceof ge||Ae&&"closed"in Ae&&(0,u.m)(Ae.remove)&&(0,u.m)(Ae.add)&&(0,u.m)(Ae.unsubscribe)}function Ne(Ae){(0,u.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(At,Ge,j)=>{"use strict";j.d(Ge,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(At,Ge,j)=>{"use strict";j.d(Ge,{E:()=>k});const k=new(j(9751).y)(ge=>ge.complete())},8996:(At,Ge,j)=>{"use strict";j.d(Ge,{D:()=>ke});var u=j(8421),k=j(5363),W=j(9468),Ce=j(9751),Ne=j(2202),Ae=j(576),J=j(9672);function ce(Fe,st){if(!Fe)throw new Error("Iterable cannot be null");return new Ce.y(ft=>{(0,J.f)(ft,st,()=>{const Q=Fe[Symbol.asyncIterator]();(0,J.f)(ft,st,()=>{Q.next().then(Re=>{Re.done?ft.complete():ft.next(Re.value)})},0,!0)})})}var tt=j(3670),Ue=j(8239),Le=j(1144),ht=j(6495),Oe=j(2206),Me=j(4532),at=j(3260);function ke(Fe,st){return st?function He(Fe,st){if(null!=Fe){if((0,tt.c)(Fe))return function be(Fe,st){return(0,u.Xf)(Fe).pipe((0,W.R)(st),(0,k.Q)(st))}(Fe,st);if((0,Le.z)(Fe))return function Ie(Fe,st){return new Ce.y(ft=>{let Q=0;return st.schedule(function(){Q===Fe.length?ft.complete():(ft.next(Fe[Q++]),ft.closed||this.schedule())})})}(Fe,st);if((0,Ue.t)(Fe))return function ge(Fe,st){return(0,u.Xf)(Fe).pipe((0,W.R)(st),(0,k.Q)(st))}(Fe,st);if((0,Oe.D)(Fe))return ce(Fe,st);if((0,ht.T)(Fe))return function X(Fe,st){return new Ce.y(ft=>{let Q;return(0,J.f)(ft,st,()=>{Q=Fe[Ne.h](),(0,J.f)(ft,st,()=>{let Re,ae;try{({value:Re,done:ae}=Q.next())}catch(pe){return void ft.error(pe)}ae?ft.complete():ft.next(Re)},0,!0)}),()=>(0,Ae.m)(Q?.return)&&Q.return()})}(Fe,st);if((0,at.L)(Fe))return function St(Fe,st){return ce((0,at.Q)(Fe),st)}(Fe,st)}throw(0,Me.z)(Fe)}(Fe,st):(0,u.Xf)(Fe)}},8421:(At,Ge,j)=>{"use strict";j.d(Ge,{Xf:()=>tt});var u=j(655),k=j(1144),W=j(8239),be=j(9751),ge=j(3670),Ce=j(2206),Ie=j(4532),Ne=j(6495),Ae=j(3260),J=j(576),X=j(7849),ce=j(8822);function tt(He){if(He instanceof be.y)return He;if(null!=He){if((0,ge.c)(He))return function Ue(He){return new be.y(ke=>{const Fe=He[ce.L]();if((0,J.m)(Fe.subscribe))return Fe.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,k.z)(He))return function Le(He){return new be.y(ke=>{for(let Fe=0;Fe<He.length&&!ke.closed;Fe++)ke.next(He[Fe]);ke.complete()})}(He);if((0,W.t)(He))return function ht(He){return new be.y(ke=>{He.then(Fe=>{ke.closed||(ke.next(Fe),ke.complete())},Fe=>ke.error(Fe)).then(null,X.h)})}(He);if((0,Ce.D)(He))return Me(He);if((0,Ne.T)(He))return function Oe(He){return new be.y(ke=>{for(const Fe of He)if(ke.next(Fe),ke.closed)return;ke.complete()})}(He);if((0,Ae.L)(He))return function at(He){return Me((0,Ae.Q)(He))}(He)}throw(0,Ie.z)(He)}function Me(He){return new be.y(ke=>{(function St(He,ke){var Fe,st,ft,Q;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,u.KL)(He);!(st=yield Fe.next()).done;)if(ke.next(st.value),ke.closed)return}catch(Re){ft={error:Re}}finally{try{st&&!st.done&&(Q=Fe.return)&&(yield Q.call(Fe))}finally{if(ft)throw ft.error}}ke.complete()})})(He,ke).catch(Fe=>ke.error(Fe))})}},6451:(At,Ge,j)=>{"use strict";j.d(Ge,{T:()=>Ce});var u=j(8189),k=j(8421),W=j(515),be=j(3269),ge=j(8996);function Ce(...Ie){const Ne=(0,be.yG)(Ie),Ae=(0,be._6)(Ie,1/0),J=Ie;return J.length?1===J.length?(0,k.Xf)(J[0]):(0,u.J)(Ae)((0,ge.D)(J,Ne)):W.E}},5403:(At,Ge,j)=>{"use strict";j.d(Ge,{x:()=>k});var u=j(930);function k(be,ge,Ce,Ie,Ne){return new W(be,ge,Ce,Ie,Ne)}class W extends u.Lv{constructor(ge,Ce,Ie,Ne,Ae,J){super(ge),this.onFinalize=Ae,this.shouldUnsubscribe=J,this._next=Ce?function(X){try{Ce(X)}catch(ce){ge.error(ce)}}:super._next,this._error=Ne?function(X){try{Ne(X)}catch(ce){ge.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(X){ge.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(At,Ge,j)=>{"use strict";j.d(Ge,{U:()=>W});var u=j(4482),k=j(5403);function W(be,ge){return(0,u.e)((Ce,Ie)=>{let Ne=0;Ce.subscribe((0,k.x)(Ie,Ae=>{Ie.next(be.call(ge,Ae,Ne++))}))})}},8189:(At,Ge,j)=>{"use strict";j.d(Ge,{J:()=>W});var u=j(5577),k=j(4671);function W(be=1/0){return(0,u.z)(k.y,be)}},5577:(At,Ge,j)=>{"use strict";j.d(Ge,{z:()=>Ne});var u=j(4004),k=j(8421),W=j(4482),be=j(9672),ge=j(5403),Ie=j(576);function Ne(Ae,J,X=1/0){return(0,Ie.m)(J)?Ne((ce,tt)=>(0,u.U)((Ue,Le)=>J(ce,Ue,tt,Le))((0,k.Xf)(Ae(ce,tt))),X):("number"==typeof J&&(X=J),(0,W.e)((ce,tt)=>function Ce(Ae,J,X,ce,tt,Ue,Le,ht){const Oe=[];let Me=0,at=0,St=!1;const He=()=>{St&&!Oe.length&&!Me&&J.complete()},ke=st=>Me<ce?Fe(st):Oe.push(st),Fe=st=>{Ue&&J.next(st),Me++;let ft=!1;(0,k.Xf)(X(st,at++)).subscribe((0,ge.x)(J,Q=>{tt?.(Q),Ue?ke(Q):J.next(Q)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Me--;Oe.length&&Me<ce;){const Q=Oe.shift();Le?(0,be.f)(J,Le,()=>Fe(Q)):Fe(Q)}He()}catch(Q){J.error(Q)}}))};return Ae.subscribe((0,ge.x)(J,ke,()=>{St=!0,He()})),()=>{ht?.()}}(ce,tt,Ae,X)))}},5363:(At,Ge,j)=>{"use strict";j.d(Ge,{Q:()=>be});var u=j(9672),k=j(4482),W=j(5403);function be(ge,Ce=0){return(0,k.e)((Ie,Ne)=>{Ie.subscribe((0,W.x)(Ne,Ae=>(0,u.f)(Ne,ge,()=>Ne.next(Ae),Ce),()=>(0,u.f)(Ne,ge,()=>Ne.complete(),Ce),Ae=>(0,u.f)(Ne,ge,()=>Ne.error(Ae),Ce)))})}},3099:(At,Ge,j)=>{"use strict";j.d(Ge,{B:()=>ge});var u=j(8421),k=j(7579),W=j(930),be=j(4482);function ge(Ie={}){const{connector:Ne=(()=>new k.x),resetOnError:Ae=!0,resetOnComplete:J=!0,resetOnRefCountZero:X=!0}=Ie;return ce=>{let tt,Ue,Le,ht=0,Oe=!1,Me=!1;const at=()=>{Ue?.unsubscribe(),Ue=void 0},St=()=>{at(),tt=Le=void 0,Oe=Me=!1},He=()=>{const ke=tt;St(),ke?.unsubscribe()};return(0,be.e)((ke,Fe)=>{ht++,!Me&&!Oe&&at();const st=Le=Le??Ne();Fe.add(()=>{ht--,0===ht&&!Me&&!Oe&&(Ue=Ce(He,X))}),st.subscribe(Fe),!tt&&ht>0&&(tt=new W.Hp({next:ft=>st.next(ft),error:ft=>{Me=!0,at(),Ue=Ce(St,Ae,ft),st.error(ft)},complete:()=>{Oe=!0,at(),Ue=Ce(St,J),st.complete()}}),(0,u.Xf)(ke).subscribe(tt))})(ce)}}function Ce(Ie,Ne,...Ae){if(!0===Ne)return void Ie();if(!1===Ne)return;const J=new W.Hp({next:()=>{J.unsubscribe(),Ie()}});return Ne(...Ae).subscribe(J)}},9468:(At,Ge,j)=>{"use strict";j.d(Ge,{R:()=>k});var u=j(4482);function k(W,be=0){return(0,u.e)((ge,Ce)=>{Ce.add(W.schedule(()=>ge.subscribe(Ce),be))})}},8505:(At,Ge,j)=>{"use strict";j.d(Ge,{b:()=>ge});var u=j(576),k=j(4482),W=j(5403),be=j(4671);function ge(Ce,Ie,Ne){const Ae=(0,u.m)(Ce)||Ie||Ne?{next:Ce,error:Ie,complete:Ne}:Ce;return Ae?(0,k.e)((J,X)=>{var ce;null===(ce=Ae.subscribe)||void 0===ce||ce.call(Ae);let tt=!0;J.subscribe((0,W.x)(X,Ue=>{var Le;null===(Le=Ae.next)||void 0===Le||Le.call(Ae,Ue),X.next(Ue)},()=>{var Ue;tt=!1,null===(Ue=Ae.complete)||void 0===Ue||Ue.call(Ae),X.complete()},Ue=>{var Le;tt=!1,null===(Le=Ae.error)||void 0===Le||Le.call(Ae,Ue),X.error(Ue)},()=>{var Ue,Le;tt&&(null===(Ue=Ae.unsubscribe)||void 0===Ue||Ue.call(Ae)),null===(Le=Ae.finalize)||void 0===Le||Le.call(Ae)}))}):be.y}},4408:(At,Ge,j)=>{"use strict";j.d(Ge,{o:()=>ge});var u=j(727);class k extends u.w0{constructor(Ie,Ne){super()}schedule(Ie,Ne=0){return this}}const W={setInterval(Ce,Ie,...Ne){const{delegate:Ae}=W;return Ae?.setInterval?Ae.setInterval(Ce,Ie,...Ne):setInterval(Ce,Ie,...Ne)},clearInterval(Ce){const{delegate:Ie}=W;return(Ie?.clearInterval||clearInterval)(Ce)},delegate:void 0};var be=j(8737);class ge extends k{constructor(Ie,Ne){super(Ie,Ne),this.scheduler=Ie,this.work=Ne,this.pending=!1}schedule(Ie,Ne=0){if(this.closed)return this;this.state=Ie;const Ae=this.id,J=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(J,Ae,Ne)),this.pending=!0,this.delay=Ne,this.id=this.id||this.requestAsyncId(J,this.id,Ne),this}requestAsyncId(Ie,Ne,Ae=0){return W.setInterval(Ie.flush.bind(Ie,this),Ae)}recycleAsyncId(Ie,Ne,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ne;W.clearInterval(Ne)}execute(Ie,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Ie,Ne);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,Ne){let J,Ae=!1;try{this.work(Ie)}catch(X){Ae=!0,J=X||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:Ne}=this,{actions:Ae}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Ae,this),null!=Ie&&(this.id=this.recycleAsyncId(Ne,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(At,Ge,j)=>{"use strict";j.d(Ge,{v:()=>W});var u=j(6063);class k{constructor(ge,Ce=k.now){this.schedulerActionCtor=ge,this.now=Ce}schedule(ge,Ce=0,Ie){return new this.schedulerActionCtor(this,ge).schedule(Ie,Ce)}}k.now=u.l.now;class W extends k{constructor(ge,Ce=k.now){super(ge,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:Ce}=this;if(this._active)return void Ce.push(ge);let Ie;this._active=!0;do{if(Ie=ge.execute(ge.state,ge.delay))break}while(ge=Ce.shift());if(this._active=!1,Ie){for(;ge=Ce.shift();)ge.unsubscribe();throw Ie}}}},4986:(At,Ge,j)=>{"use strict";j.d(Ge,{P:()=>be,z:()=>W});var u=j(4408);const W=new(j(7565).v)(u.o),be=W},6063:(At,Ge,j)=>{"use strict";j.d(Ge,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(At,Ge,j)=>{"use strict";j.d(Ge,{z:()=>u});const u={setTimeout(k,W,...be){const{delegate:ge}=u;return ge?.setTimeout?ge.setTimeout(k,W,...be):setTimeout(k,W,...be)},clearTimeout(k){const{delegate:W}=u;return(W?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(At,Ge,j)=>{"use strict";j.d(Ge,{h:()=>k});const k=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(At,Ge,j)=>{"use strict";j.d(Ge,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(At,Ge,j)=>{"use strict";j.d(Ge,{_6:()=>Ce,jO:()=>be,yG:()=>ge});var u=j(576),k=j(3532);function W(Ie){return Ie[Ie.length-1]}function be(Ie){return(0,u.m)(W(Ie))?Ie.pop():void 0}function ge(Ie){return(0,k.K)(W(Ie))?Ie.pop():void 0}function Ce(Ie,Ne){return"number"==typeof W(Ie)?Ie.pop():Ne}},8737:(At,Ge,j)=>{"use strict";function u(k,W){if(k){const be=k.indexOf(W);0<=be&&k.splice(be,1)}}j.d(Ge,{P:()=>u})},3888:(At,Ge,j)=>{"use strict";function u(k){const be=k(ge=>{Error.call(ge),ge.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}j.d(Ge,{d:()=>u})},2806:(At,Ge,j)=>{"use strict";j.d(Ge,{O:()=>be,x:()=>W});var u=j(2416);let k=null;function W(ge){if(u.v.useDeprecatedSynchronousErrorHandling){const Ce=!k;if(Ce&&(k={errorThrown:!1,error:null}),ge(),Ce){const{errorThrown:Ie,error:Ne}=k;if(k=null,Ie)throw Ne}}else ge()}function be(ge){u.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=ge)}},9672:(At,Ge,j)=>{"use strict";function u(k,W,be,ge=0,Ce=!1){const Ie=W.schedule(function(){be(),Ce?k.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(k.add(Ie),!Ce)return Ie}j.d(Ge,{f:()=>u})},4671:(At,Ge,j)=>{"use strict";function u(k){return k}j.d(Ge,{y:()=>u})},1144:(At,Ge,j)=>{"use strict";j.d(Ge,{z:()=>u});const u=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(At,Ge,j)=>{"use strict";j.d(Ge,{D:()=>k});var u=j(576);function k(W){return Symbol.asyncIterator&&(0,u.m)(W?.[Symbol.asyncIterator])}},576:(At,Ge,j)=>{"use strict";function u(k){return"function"==typeof k}j.d(Ge,{m:()=>u})},3670:(At,Ge,j)=>{"use strict";j.d(Ge,{c:()=>W});var u=j(8822),k=j(576);function W(be){return(0,k.m)(be[u.L])}},6495:(At,Ge,j)=>{"use strict";j.d(Ge,{T:()=>W});var u=j(2202),k=j(576);function W(be){return(0,k.m)(be?.[u.h])}},8239:(At,Ge,j)=>{"use strict";j.d(Ge,{t:()=>k});var u=j(576);function k(W){return(0,u.m)(W?.then)}},3260:(At,Ge,j)=>{"use strict";j.d(Ge,{L:()=>be,Q:()=>W});var u=j(655),k=j(576);function W(ge){return(0,u.FC)(this,arguments,function*(){const Ie=ge.getReader();try{for(;;){const{value:Ne,done:Ae}=yield(0,u.qq)(Ie.read());if(Ae)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ne)}}finally{Ie.releaseLock()}})}function be(ge){return(0,k.m)(ge?.getReader)}},3532:(At,Ge,j)=>{"use strict";j.d(Ge,{K:()=>k});var u=j(576);function k(W){return W&&(0,u.m)(W.schedule)}},4482:(At,Ge,j)=>{"use strict";j.d(Ge,{A:()=>k,e:()=>W});var u=j(576);function k(be){return(0,u.m)(be?.lift)}function W(be){return ge=>{if(k(ge))return ge.lift(function(Ce){try{return be(Ce,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(At,Ge,j)=>{"use strict";function u(){}j.d(Ge,{Z:()=>u})},9635:(At,Ge,j)=>{"use strict";j.d(Ge,{U:()=>W,z:()=>k});var u=j(4671);function k(...be){return W(be)}function W(be){return 0===be.length?u.y:1===be.length?be[0]:function(Ce){return be.reduce((Ie,Ne)=>Ne(Ie),Ce)}}},7849:(At,Ge,j)=>{"use strict";j.d(Ge,{h:()=>W});var u=j(2416),k=j(3410);function W(be){k.z.setTimeout(()=>{const{onUnhandledError:ge}=u.v;if(!ge)throw be;ge(be)})}},4532:(At,Ge,j)=>{"use strict";function u(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ge,{z:()=>u})},655:(At,Ge,j)=>{"use strict";function be(ae,pe){var ye={};for(var ve in ae)Object.prototype.hasOwnProperty.call(ae,ve)&&pe.indexOf(ve)<0&&(ye[ve]=ae[ve]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(ve=Object.getOwnPropertySymbols(ae);rt<ve.length;rt++)pe.indexOf(ve[rt])<0&&Object.prototype.propertyIsEnumerable.call(ae,ve[rt])&&(ye[ve[rt]]=ae[ve[rt]])}return ye}function Ne(ae,pe,ye,ve){return new(ye||(ye=Promise))(function(Je,Mt){function Tn(Yn){try{pt(ve.next(Yn))}catch(dr){Mt(dr)}}function cn(Yn){try{pt(ve.throw(Yn))}catch(dr){Mt(dr)}}function pt(Yn){Yn.done?Je(Yn.value):function rt(Je){return Je instanceof ye?Je:new ye(function(Mt){Mt(Je)})}(Yn.value).then(Tn,cn)}pt((ve=ve.apply(ae,pe||[])).next())})}function Oe(ae){return this instanceof Oe?(this.v=ae,this):new Oe(ae)}function Me(ae,pe,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,ve=ye.apply(ae,pe||[]),Je=[];return rt={},Mt("next"),Mt("throw"),Mt("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function Mt(Vn){ve[Vn]&&(rt[Vn]=function(pn){return new Promise(function(pi,dn){Je.push([Vn,pn,pi,dn])>1||Tn(Vn,pn)})})}function Tn(Vn,pn){try{!function cn(Vn){Vn.value instanceof Oe?Promise.resolve(Vn.value.v).then(pt,Yn):dr(Je[0][2],Vn)}(ve[Vn](pn))}catch(pi){dr(Je[0][3],pi)}}function pt(Vn){Tn("next",Vn)}function Yn(Vn){Tn("throw",Vn)}function dr(Vn,pn){Vn(pn),Je.shift(),Je.length&&Tn(Je[0][0],Je[0][1])}}function St(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,pe=ae[Symbol.asyncIterator];return pe?pe.call(ae):(ae=function ce(ae){var pe="function"==typeof Symbol&&Symbol.iterator,ye=pe&&ae[pe],ve=0;if(ye)return ye.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ve>=ae.length&&(ae=void 0),{value:ae&&ae[ve++],done:!ae}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ye={},ve("next"),ve("throw"),ve("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ve(Je){ye[Je]=ae[Je]&&function(Mt){return new Promise(function(Tn,cn){!function rt(Je,Mt,Tn,cn){Promise.resolve(cn).then(function(pt){Je({value:pt,done:Tn})},Mt)}(Tn,cn,(Mt=ae[Je](Mt)).done,Mt.value)})}}}j.d(Ge,{FC:()=>Me,KL:()=>St,_T:()=>be,mG:()=>Ne,qq:()=>Oe})},4650:(At,Ge,j)=>{"use strict";j.d(Ge,{$8M:()=>dl,$Z:()=>pm,AFp:()=>bI,ALo:()=>zC,AaK:()=>Ne,AsE:()=>hi,BQk:()=>Vb,CHM:()=>Xa,CRH:()=>Xm,CZH:()=>my,CqO:()=>YE,D6c:()=>dA,EJc:()=>Vw,EiD:()=>Nc,EpF:()=>qE,F$t:()=>eS,F4k:()=>ZE,FYo:()=>Xe,FiY:()=>nt,G48:()=>Ny,Gf:()=>nI,GfV:()=>Bi,GkF:()=>WD,Gpc:()=>X,Hsn:()=>tS,Ikx:()=>pC,JOm:()=>tu,JVY:()=>cf,KtG:()=>ra,L6k:()=>df,LAX:()=>ki,LFG:()=>ni,LMc:()=>rP,LSH:()=>os,Lbi:()=>wI,Lck:()=>ax,MAs:()=>WE,MGl:()=>Gb,MMx:()=>mw,NdJ:()=>$b,O4$:()=>ad,OlP:()=>pr,Oqu:()=>lC,PXZ:()=>qx,Q6J:()=>HD,QGY:()=>Ub,QP$:()=>us,Qsj:()=>Nt,QtT:()=>rx,R0b:()=>vl,RDi:()=>ci,Rgc:()=>ag,SBq:()=>V,SDv:()=>nx,Sil:()=>$R,Suo:()=>rI,TTD:()=>ta,TgZ:()=>kb,Tol:()=>hS,Udp:()=>iC,VKq:()=>bw,W1O:()=>dy,WD2:()=>Ao,WLB:()=>Zm,X6Q:()=>Ay,XFs:()=>yt,Xpm:()=>ne,Xts:()=>qu,Y36:()=>Oh,YKP:()=>BC,YNc:()=>jE,Yjl:()=>mn,Yz7:()=>pn,Z0I:()=>xi,ZZ4:()=>By,_Bn:()=>LC,_UZ:()=>Lb,_Vd:()=>v,_c5:()=>uA,_uU:()=>qb,aQg:()=>Jw,c2e:()=>Bw,cJS:()=>dn,cg1:()=>Qv,dDg:()=>Hx,dqk:()=>Un,eBb:()=>$g,eFA:()=>AI,ekj:()=>sC,eoX:()=>SI,f3M:()=>S,g9A:()=>Fw,h0i:()=>ig,hGG:()=>cA,hYB:()=>qD,hij:()=>Ga,iGM:()=>tI,ifc:()=>Ot,ip1:()=>pg,jDz:()=>VC,kEZ:()=>ww,kL8:()=>mC,kcU:()=>Qd,lG2:()=>qr,lcZ:()=>qC,lqb:()=>Ql,lri:()=>mg,mCW:()=>Xs,n5z:()=>yo,oAB:()=>kt,oJD:()=>wo,oxw:()=>zD,pB0:()=>Gg,pQV:()=>PC,q3G:()=>Ln,q4F:()=>to,qLn:()=>Nd,qOj:()=>Qp,qZA:()=>Fb,qzn:()=>Ec,rWj:()=>EI,s9C:()=>as,sBO:()=>Xx,sIi:()=>ie,s_b:()=>Km,soG:()=>by,tb:()=>DI,tp0:()=>Ht,uIk:()=>Nn,vHH:()=>Le,vpe:()=>ou,wAp:()=>Xt,xp6:()=>$p,ynx:()=>Bb,z2F:()=>Ey,z3N:()=>Vo,zSh:()=>Yl,zs3:()=>ys});var u=j(7579),k=j(727),W=j(9751),be=j(6451),ge=j(3099);function Ce(s){for(let o in s)if(s[o]===Ce)return o;throw Error("Could not find renamed property on target object.")}function Ie(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ae(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const J=Ce({__forward_ref__:Ce});function X(s){return s.__forward_ref__=X,s.toString=function(){return Ne(this())},s}function ce(s){return tt(s)?s():s}function tt(s){return"function"==typeof s&&s.hasOwnProperty(J)&&s.__forward_ref__===X}class Le extends Error{constructor(o,l){super(function ht(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Oe(s){return"string"==typeof s?s:null==s?"":String(s)}function ke(s,o){throw new Le(-201,!1)}function pt(s,o,l,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${l} ${h} ${o} <=Actual]`))}function pn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function dn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Qt(s){return En(s,hr)||En(s,Ai)}function xi(s){return null!==Qt(s)}function En(s,o){return s.hasOwnProperty(o)?s[o]:null}function ts(s){return s&&(s.hasOwnProperty(Or)||s.hasOwnProperty(vr))?s[Or]:null}const hr=Ce({\u0275prov:Ce}),Or=Ce({\u0275inj:Ce}),Ai=Ce({ngInjectableDef:Ce}),vr=Ce({ngInjectorDef:Ce});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Gi;function Cn(s){const o=Gi;return Gi=s,o}function nr(s,o,l){const h=Qt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&yt.Optional?null:void 0!==o?o:void ke(Ne(s))}function Fr(s){return{toString:s}.toString()}var wr=(()=>((wr=wr||{})[wr.OnPush=0]="OnPush",wr[wr.Default=1]="Default",wr))(),Ot=(()=>{return(s=Ot||(Ot={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ot;var s})();const Un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zr={},jt=[],Is=Ce({\u0275cmp:Ce}),Sn=Ce({\u0275dir:Ce}),ns=Ce({\u0275pipe:Ce}),In=Ce({\u0275mod:Ce}),oe=Ce({\u0275fac:Ce}),te=Ce({__NG_ELEMENT_ID__:Ce});let K=0;function ne(s){return Fr(()=>{const l=!0===s.standalone,h={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===wr.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ot.Emulated,id:"c"+K++,styles:s.styles||jt,_:null,setInput:null,schemas:s.schemas||null,tView:null},_=s.dependencies,D=s.features;return f.inputs=Fn(s.inputs,h),f.outputs=Fn(s.outputs),D&&D.forEach(T=>T(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(ze).filter(ct):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(Dr).filter(ct):null,f})}function ze(s){return on(s)||ar(s)}function ct(s){return null!==s}function kt(s){return Fr(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Fn(s,o){if(null==s)return zr;const l={};for(const h in s)if(s.hasOwnProperty(h)){let f=s[h],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),l[f]=h,o&&(o[f]=_)}return l}const qr=ne;function mn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function on(s){return s[Is]||null}function ar(s){return s[Sn]||null}function Dr(s){return s[ns]||null}function us(s){const o=on(s)||ar(s)||Dr(s);return null!==o&&o.standalone}function ji(s,o){const l=s[In]||null;if(!l&&!0===o)throw new Error(`Type ${Ne(s)} does not have '\u0275mod' property.`);return l}function Ur(s){return Array.isArray(s)&&"object"==typeof s[1]}function Qr(s){return Array.isArray(s)&&!0===s[1]}function ho(s){return 0!=(8&s.flags)}function ps(s){return 2==(2&s.flags)}function xl(s){return 1==(1&s.flags)}function gi(s){return null!==s.template}function Za(s){return 0!=(256&s[2])}function xo(s,o){return s.hasOwnProperty(oe)?s[oe]:null}class Ao{constructor(o,l,h){this.previousValue=o,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function ta(){return Ya}function Ya(s){return s.type.prototype.ngOnChanges&&(s.setInput=Xn),Jn}function Jn(){const s=nf(this),o=s?.current;if(o){const l=s.previous;if(l===zr)s.previous=o;else for(let h in o)l[h]=o[h];s.current=null,this.ngOnChanges(o)}}function Xn(s,o,l,h){const f=nf(s)||function mi(s,o){return s[ed]=o}(s,{previous:zr,current:null}),_=f.current||(f.current={}),D=f.previous,T=this.declaredInputs[l],E=D[T];_[T]=new Ao(E&&E.currentValue,o,D===zr),s[h]=o}ta.ngInherit=!0;const ed="__ngSimpleChanges__";function nf(s){return s[ed]||null}function $r(s){for(;Array.isArray(s);)s=s[0];return s}function As(s,o){return $r(o[s])}function is(s,o){return $r(o[s.index])}function Qa(s,o){return s.data[o]}function No(s,o){return s[o]}function An(s,o){const l=o[s];return Ur(l)?l:l[0]}function Ja(s){return 64==(64&s[2])}function po(s,o){return null==o?null:s[o]}function mu(s){s[18]=0}function er(s,o){s[5]+=o;let l=s,h=s[3];for(;null!==h&&(1===o&&1===l[5]||-1===o&&0===l[5]);)h[5]+=o,l=h,h=h[3]}const Zt={lFrame:kl(null),bindingsEnabled:!0};function mo(){return Zt.bindingsEnabled}function Ze(){return Zt.lFrame.lView}function _n(){return Zt.lFrame.tView}function Xa(s){return Zt.lFrame.contextLView=s,s[8]}function ra(s){return Zt.lFrame.contextLView=null,s}function Jr(){let s=vu();for(;null!==s&&64===s.type;)s=s.parent;return s}function vu(){return Zt.lFrame.currentTNode}function el(){const s=Zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function gs(s,o){const l=Zt.lFrame;l.currentTNode=s,l.isParent=o}function tl(){return Zt.lFrame.isParent}function Rl(){Zt.lFrame.isParent=!1}function Gr(){const s=Zt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Hr(){return Zt.lFrame.bindingIndex}function _o(){return Zt.lFrame.bindingIndex++}function Oo(s){const o=Zt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Du(s){Zt.lFrame.inI18n=s}function cp(s,o){const l=Zt.lFrame;l.bindingIndex=l.bindingRootIndex=s,fc(o)}function fc(s){Zt.lFrame.currentDirectiveIndex=s}function Ia(){return Zt.lFrame.currentQueryIndex}function Iu(s){Zt.lFrame.currentQueryIndex=s}function sd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Pl(s,o,l){if(l&yt.SkipSelf){let f=o,_=s;for(;!(f=f.parent,null!==f||l&yt.Host||(f=sd(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;o=f,s=_}const h=Zt.lFrame=Mo();return h.currentTNode=o,h.lView=s,!0}function Tu(s){const o=Mo(),l=s[1];Zt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Mo(){const s=Zt.lFrame,o=null===s?null:s.child;return null===o?kl(s):o}function kl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function od(){const s=Zt.lFrame;return Zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Kd=od;function nl(){const s=od();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function _i(){return Zt.lFrame.selectedIndex}function Ns(s){Zt.lFrame.selectedIndex=s}function Tr(){const s=Zt.lFrame;return Qa(s.tView,s.selectedIndex)}function ad(){Zt.lFrame.currentNamespace="svg"}function Qd(){!function Fl(){Zt.lFrame.currentNamespace=null}()}function Se(s,o){for(let l=o.directiveStart,h=o.directiveEnd;l<h;l++){const _=s.data[l].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:T,ngAfterViewInit:E,ngAfterViewChecked:O,ngOnDestroy:L}=_;D&&(s.contentHooks||(s.contentHooks=[])).push(-l,D),T&&((s.contentHooks||(s.contentHooks=[])).push(l,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,T)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),O&&((s.viewHooks||(s.viewHooks=[])).push(l,O),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,O)),null!=L&&(s.destroyHooks||(s.destroyHooks=[])).push(l,L)}}function Ct(s,o,l){Er(s,o,3,l)}function Yt(s,o,l,h){(3&s[2])===l&&Er(s,o,l,h)}function jn(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Er(s,o,l,h){const _=h??-1,D=o.length-1;let T=0;for(let E=void 0!==h?65535&s[18]:0;E<D;E++)if("number"==typeof o[E+1]){if(T=o[E],null!=h&&T>=h)break}else o[E]<0&&(s[18]+=65536),(T<_||-1==_)&&(rr(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function rr(s,o,l,h){const f=l[h]<0,_=l[h+1],T=s[f?-l[h]:l[h]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{_.call(T)}finally{}}}else try{_.call(T)}finally{}}class Ta{constructor(o,l,h){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function sl(s,o,l){let h=0;for(;h<l.length;){const f=l[h];if("number"==typeof f){if(0!==f)break;h++;const _=l[h++],D=l[h++],T=l[h++];s.setAttribute(o,D,T,_)}else{const _=f,D=l[++h];pc(_)?s.setProperty(o,_,D):s.setAttribute(o,_,D),h++}}return h}function Po(s){return 3===s||4===s||6===s}function pc(s){return 64===s.charCodeAt(0)}function Su(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let h=0;h<o.length;h++){const f=o[h];"number"==typeof f?l=f:0===l||Jd(s,l,f,null,-1===l||2===l?o[++h]:null)}}return s}function Jd(s,o,l,h,f){let _=0,D=s.length;if(-1===o)D=-1;else for(;_<s.length;){const T=s[_++];if("number"==typeof T){if(T===o){D=-1;break}if(T>o){D=_-1;break}}}for(;_<s.length;){const T=s[_];if("number"==typeof T)break;if(T===l){if(null===h)return void(null!==f&&(s[_+1]=f));if(h===s[_+1])return void(s[_+2]=f)}_++,null!==h&&_++,null!==f&&_++}-1!==D&&(s.splice(D,0,o),_=D+1),s.splice(_++,0,l),null!==h&&s.splice(_++,0,h),null!==f&&s.splice(_++,0,f)}function xu(s){return-1!==s}function Sr(s){return 32767&s}function Bl(s,o){let l=function Ea(s){return s>>16}(s),h=o;for(;l>0;)h=h[15],l--;return h}let Os=!0;function Vl(s){const o=Os;return Os=s,o}let xr=0;const Mi={};function al(s,o){const l=mc(s,o);if(-1!==l)return l;const h=o[1];h.firstCreatePass&&(s.injectorIndex=o.length,Au(h.data,s),Au(o,null),Au(h.blueprint,null));const f=ll(s,o),_=s.injectorIndex;if(xu(f)){const D=Sr(f),T=Bl(f,o),E=T[1].data;for(let O=0;O<8;O++)o[_+O]=T[D+O]|E[D+O]}return o[_+8]=f,_}function Au(s,o){s.push(0,0,0,0,0,0,0,0,o)}function mc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ll(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,h=null,f=o;for(;null!==f;){if(h=Fo(f),null===h)return-1;if(l++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function vo(s,o,l){!function ol(s,o,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(te)&&(h=l[te]),null==h&&(h=l[te]=xr++);const f=255&h;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function xa(s,o,l){if(l&yt.Optional||void 0!==s)return s;ke()}function vc(s,o,l,h){if(l&yt.Optional&&void 0===h&&(h=null),0==(l&(yt.Self|yt.Host))){const f=s[9],_=Cn(void 0);try{return f?f.get(o,h,l&yt.Optional):nr(o,h,l&yt.Optional)}finally{Cn(_)}}return xa(h,0,l)}function ul(s,o,l,h=yt.Default,f){if(null!==s){if(1024&o[2]){const D=function ko(s,o,l,h,f){let _=s,D=o;for(;null!==_&&null!==D&&1024&D[2]&&!(256&D[2]);){const T=Nu(_,D,l,h|yt.Self,Mi);if(T!==Mi)return T;let E=_.parent;if(!E){const O=D[21];if(O){const L=O.get(l,Mi,h);if(L!==Mi)return L}E=Fo(D),D=D[15]}_=E}return f}(s,o,l,h,Mi);if(D!==Mi)return D}const _=Nu(s,o,l,h,Mi);if(_!==Mi)return _}return vc(o,l,h,f)}function Nu(s,o,l,h,f){const _=function cd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(te)?s[te]:void 0;return"number"==typeof o?o>=0?255&o:cl:o}(l);if("function"==typeof _){if(!Pl(o,s,h))return h&yt.Host?xa(f,0,h):vc(o,l,h,f);try{const D=_(h);if(null!=D||h&yt.Optional)return D;ke()}finally{Kd()}}else if("number"==typeof _){let D=null,T=mc(s,o),E=-1,O=h&yt.Host?o[16][6]:null;for((-1===T||h&yt.SkipSelf)&&(E=-1===T?ll(s,o):o[T+8],-1!==E&&Mu(h,!1)?(D=o[1],T=Sr(E),o=Bl(E,o)):T=-1);-1!==T;){const L=o[1];if(Ou(_,T,L.data)){const z=si(T,o,l,D,h,O);if(z!==Mi)return z}E=o[T+8],-1!==E&&Mu(h,o[1].data[T+8]===O)&&Ou(_,T,o)?(D=L,T=Sr(E),o=Bl(E,o)):T=-1}}return f}function si(s,o,l,h,f,_){const D=o[1],T=D.data[s+8],L=ei(T,D,l,null==h?ps(T)&&Os:h!=D&&0!=(3&T.type),f&yt.Host&&_===T);return null!==L?sa(o,D,L,T):Mi}function ei(s,o,l,h,f){const _=s.providerIndexes,D=o.data,T=1048575&_,E=s.directiveStart,L=_>>20,se=f?T+L:s.directiveEnd;for(let me=h?T:T+L;me<se;me++){const $e=D[me];if(me<E&&l===$e||me>=E&&$e.type===l)return me}if(f){const me=D[E];if(me&&gi(me)&&me.type===l)return E}return null}function sa(s,o,l,h){let f=s[l];const _=o.data;if(function Di(s){return s instanceof Ta}(f)){const D=f;D.resolving&&function at(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Oe(s)}(_[l]));const T=Vl(D.canSeeViewProviders);D.resolving=!0;const E=D.injectImpl?Cn(D.injectImpl):null;Pl(s,h,yt.Default);try{f=s[l]=D.factory(void 0,_,s,h),o.firstCreatePass&&l>=h.directiveStart&&function Ve(s,o,l){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:_}=o.type.prototype;if(h){const D=Ya(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,D),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,D)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),_&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_))}(l,_[l],o)}finally{null!==E&&Cn(E),Vl(T),D.resolving=!1,Kd()}}return f}function Ou(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Mu(s,o){return!(s&yt.Self||s&yt.Host&&o)}class oa{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,h){return ul(this._tNode,this._lView,o,h,l)}}function cl(){return new oa(Jr(),Ze())}function yo(s){return Fr(()=>{const o=s.prototype.constructor,l=o[oe]||aa(o),h=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==h;){const _=f[oe]||aa(f);if(_&&_!==l)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function aa(s){return tt(s)?()=>{const o=aa(ce(s));return o&&o()}:xo(s)}function Fo(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function dl(s){return function _c(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const h=l.length;let f=0;for(;f<h;){const _=l[f];if(Po(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<h&&"string"==typeof l[f];)f++;else{if(_===o)return l[f+1];f+=2}}}return null}(Jr(),s)}const Aa="__parameters__";function Gl(s,o,l){return Fr(()=>{const h=function yc(s){return function(...l){if(s){const h=s(...l);for(const f in h)this[f]=h[f]}}}(o);function f(..._){if(this instanceof f)return h.apply(this,_),this;const D=new f(..._);return T.annotation=D,T;function T(E,O,L){const z=E.hasOwnProperty(Aa)?E[Aa]:Object.defineProperty(E,Aa,{value:[]})[Aa];for(;z.length<=L;)z.push(null);return(z[L]=z[L]||[]).push(D),E}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class pr{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=pn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let h=s[l];Array.isArray(h)?(o===s&&(o=s.slice(0,l)),qi(h,o)):o!==s&&o.push(h)}return o}function oi(s,o){s.forEach(l=>Array.isArray(l)?oi(l,o):o(l))}function ai(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ir(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qn(s,o){const l=[];for(let h=0;h<s;h++)l.push(o);return l}function ti(s,o,l){let h=Na(s,o);return h>=0?s[1|h]=l:(h=~h,function fd(s,o,l,h){let f=s.length;if(f==o)s.push(l,h);else if(1===f)s.push(h,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=h}}(s,h,o,l)),h}function ku(s,o){const l=Na(s,o);if(l>=0)return s[1|l]}function Na(s,o){return function Fu(s,o,l){let h=0,f=s.length>>l;for(;f!==h;){const _=h+(f-h>>1),D=s[_<<l];if(o===D)return _<<l;D>o?f=_:h=_+1}return~(f<<l)}(s,o,1)}const Pr={},Rs="__NG_DI_FLAG__",Wn="ngTempTokenPath",li=/\n/gm,Ps="__source";let Ks;function vi(s){const o=Ks;return Ks=s,o}function wc(s,o=yt.Default){if(void 0===Ks)throw new Le(-203,!1);return null===Ks?nr(s,void 0,o):Ks.get(s,o&yt.Optional?null:void 0,o)}function ni(s,o=yt.Default){return(function Hi(){return Gi}()||wc)(ce(s),o)}function S(s,o=yt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),ni(s,o)}function N(s){const o=[];for(let l=0;l<s.length;l++){const h=ce(s[l]);if(Array.isArray(h)){if(0===h.length)throw new Le(900,!1);let f,_=yt.Default;for(let D=0;D<h.length;D++){const T=h[D],E=q(T);"number"==typeof E?-1===E?f=T.token:_|=E:f=T}o.push(ni(f,_))}else o.push(ni(h))}return o}function F(s,o){return s[Rs]=o,s.prototype[Rs]=o,s}function q(s){return s[Rs]}const nt=F(Gl("Optional"),8),Ht=F(Gl("SkipSelf"),4);let ih,kr,Ic;function ci(s){ih=s}function ri(){return void 0!==ih?ih:typeof document<"u"?document:void 0}function da(s){return function ca(){if(void 0===kr&&(kr=null,Un.trustedTypes))try{kr=Un.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return kr}()?.createHTML(s)||s}function uf(s){return function Pa(){if(void 0===Ic&&(Ic=null,Un.trustedTypes))try{Ic=Un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ic}()?.createHTML(s)||s}class Bo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vp extends Bo{getTypeName(){return"HTML"}}class Tc extends Bo{getTypeName(){return"Style"}}class Gu extends Bo{getTypeName(){return"Script"}}class bo extends Bo{getTypeName(){return"URL"}}class vn extends Bo{getTypeName(){return"ResourceURL"}}function Vo(s){return s instanceof Bo?s.changingThisBreaksApplicationSecurity:s}function Ec(s,o){const l=function Sc(s){return s instanceof Bo&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function cf(s){return new vp(s)}function df(s){return new Tc(s)}function $g(s){return new Gu(s)}function ki(s){return new bo(s)}function Gg(s){return new vn(s)}function Nr(s){const o=new yp(s);return function hf(){try{return!!(new window.DOMParser).parseFromString(da(""),"text/html")}catch{return!1}}()?new ka(o):o}class ka{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(da(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class yp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=da(o),l;const h=this.inertDocument.createElement("body");return h.innerHTML=da(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const D=l.item(f).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&o.removeAttribute(D)}let h=o.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Js=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xs(s){return(s=String(s)).match(Js)?s:"unsafe:"+s}function Uo(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Hu(...s){const o={};for(const l of s)for(const h in l)l.hasOwnProperty(h)&&(o[h]=!0);return o}const zl=Uo("area,br,col,hr,img,wbr"),oh=Uo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vd=Uo("rp,rt"),ha=Hu(zl,Hu(oh,Uo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hu(vd,Uo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hu(vd,oh)),lh=Uo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xc=Hu(lh,Uo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Uo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uh=Uo("script,style,template");class pf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!ha.hasOwnProperty(l))return this.sanitizedSomething=!0,!uh.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=o.attributes;for(let f=0;f<h.length;f++){const _=h.item(f),D=_.name,T=D.toLowerCase();if(!xc.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let E=_.value;lh[T]&&(E=Xs(E)),this.buf.push(" ",D,'="',dh(E),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();ha.hasOwnProperty(l)&&!zl.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(dh(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const ch=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bd=/([^\#-~ |!])/g;function dh(s){return s.replace(/&/g,"&amp;").replace(ch,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(bd,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ac;function Nc(s,o){let l=null;try{Ac=Ac||Nr(s);let h=o?String(o):"";l=Ac.getInertBodyElement(h);let f=5,_=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=_,_=l.innerHTML,l=Ac.getInertBodyElement(h)}while(h!==_);return da((new pf).sanitizeChildren(Oc(l)||l))}finally{if(l){const h=Oc(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Oc(s){return"content"in s&&function wd(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function wo(s){const o=Cd();return o?uf(o.sanitize(Ln.HTML,s)||""):Ec(s,"HTML")?uf(Vo(s)):Nc(ri(),Oe(s))}function os(s){const o=Cd();return o?o.sanitize(Ln.URL,s)||"":Ec(s,"URL")?Vo(s):Xs(Oe(s))}function Cd(){const s=Ze();return s&&s[12]}const qu=new pr("ENVIRONMENT_INITIALIZER"),Id=new pr("INJECTOR",-1),Mc=new pr("INJECTOR_DEF_TYPES");class gf{get(o,l=Pr){if(l===Pr){const h=new Error(`NullInjectorError: No provider for ${Ne(o)}!`);throw h.name="NullInjectorError",h}return l}}function mf(...s){return{\u0275providers:Td(0,s)}}function Td(s,...o){const l=[],h=new Set;let f;return oi(o,_=>{const D=_;eo(D,l,[],h)&&(f||(f=[]),f.push(D))}),void 0!==f&&hh(f,l),l}function hh(s,o){for(let l=0;l<s.length;l++){const{providers:f}=s[l];oi(f,_=>{o.push(_)})}}function eo(s,o,l,h){if(!(s=ce(s)))return!1;let f=null,_=ts(s);const D=!_&&on(s);if(_||D){if(D&&!D.standalone)return!1;f=s}else{const E=s.ngModule;if(_=ts(E),!_)return!1;f=E}const T=h.has(f);if(D){if(T)return!1;if(h.add(f),D.dependencies){const E="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const O of E)eo(O,o,l,h)}}else{if(!_)return!1;{if(null!=_.imports&&!T){let O;h.add(f);try{oi(_.imports,L=>{eo(L,o,l,h)&&(O||(O=[]),O.push(L))})}finally{}void 0!==O&&hh(O,o)}if(!T){const O=xo(f)||(()=>new f);o.push({provide:f,useFactory:O,deps:jt},{provide:Mc,useValue:f,multi:!0},{provide:qu,useValue:()=>ni(f),multi:!0})}const E=_.providers;null==E||T||oi(E,L=>{o.push(L)})}}return f!==s&&void 0!==s.providers}const Ed=Ce({provide:String,useValue:Ce});function Sd(s){return null!==s&&"object"==typeof s&&Ed in s}function Zl(s){return"function"==typeof s}const Yl=new pr("Set Injector scope."),ks={},Zu={};let Kl;function Pc(){return void 0===Kl&&(Kl=new gf),Kl}class Ql{}class Do extends Ql{constructor(o,l,h,f){super(),this.parent=l,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mh(o,D=>this.processProvider(D)),this.records.set(Id,Ii(void 0,this)),f.has("environment")&&this.records.set(Ql,Ii(void 0,this));const _=this.records.get(Yl);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Mc.multi,jt,yt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=vi(this),h=Cn(void 0);try{return o()}finally{vi(l),Cn(h)}}get(o,l=Pr,h=yt.Default){this.assertNotDestroyed();const f=vi(this),_=Cn(void 0);try{if(!(h&yt.SkipSelf)){let T=this.records.get(o);if(void 0===T){const E=function _f(s){return"function"==typeof s||"object"==typeof s&&s instanceof pr}(o)&&Qt(o);T=E&&this.injectableDefInScope(E)?Ii(Fi(o),ks):null,this.records.set(o,T)}if(null!=T)return this.hydrate(o,T)}return(h&yt.Self?Pc():this.parent).get(o,l=h&yt.Optional&&l===Pr?null:l)}catch(D){if("NullInjectorError"===D.name){if((D[Wn]=D[Wn]||[]).unshift(Ne(o)),f)throw D;return function he(s,o,l,h){const f=s[Wn];throw o[Ps]&&f.unshift(o[Ps]),s.message=function Ee(s,o,l,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=Ne(o);if(Array.isArray(o))f=o.map(Ne).join(" -> ");else if("object"==typeof o){let _=[];for(let D in o)if(o.hasOwnProperty(D)){let T=o[D];_.push(D+":"+("string"==typeof T?JSON.stringify(T):Ne(T)))}f=`{${_.join(", ")}}`}return`${l}${h?"("+h+")":""}[${f}]: ${s.replace(li,"\n  ")}`}("\n"+s.message,f,l,h),s.ngTokenPath=f,s[Wn]=null,s}(D,o,"R3InjectorError",this.source)}throw D}finally{Cn(_),vi(f)}}resolveInjectorInitializers(){const o=vi(this),l=Cn(void 0);try{const h=this.get(qu.multi,jt,yt.Self);for(const f of h)f()}finally{vi(o),Cn(l)}}toString(){const o=[],l=this.records;for(const h of l.keys())o.push(Ne(h));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(o){let l=Zl(o=ce(o))?o:ce(o&&o.provide);const h=function kc(s){return Sd(s)?Ii(void 0,s.useValue):Ii(Fc(s),ks)}(o);if(Zl(o)||!0!==o.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Ii(void 0,ks,!0),f.factory=()=>N(f.multi),this.records.set(l,f)),l=o,f.multi.push(o)}this.records.set(l,h)}hydrate(o,l){return l.value===ks&&(l.value=Zu,l.value=l.factory()),"object"==typeof l.value&&l.value&&function gh(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ce(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Fi(s){const o=Qt(s),l=null!==o?o.factory:xo(s);if(null!==l)return l;if(s instanceof pr)throw new Le(204,!1);if(s instanceof Function)return function Jl(s){const o=s.length;if(o>0)throw qn(o,"?"),new Le(204,!1);const l=function kn(s){const o=s&&(s[hr]||s[Ai]);if(o){const l=function Wr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Le(204,!1)}function Fc(s,o,l){let h;if(Zl(s)){const f=ce(s);return xo(f)||Fi(f)}if(Sd(s))h=()=>ce(s.useValue);else if(function ph(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...N(s.deps||[]));else if(function Rc(s){return!(!s||!s.useExisting)}(s))h=()=>ni(ce(s.useExisting));else{const f=ce(s&&(s.useClass||s.provide));if(!function Gt(s){return!!s.deps}(s))return xo(f)||Fi(f);h=()=>new f(...N(s.deps))}return h}function Ii(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Yu(s){return!!s.\u0275providers}function mh(s,o){for(const l of s)Array.isArray(l)?mh(l,o):Yu(l)?mh(l.\u0275providers,o):o(l)}class Ku{}class m{resolveComponentFactory(o){throw function Li(s){const o=Error(`No component factory found for ${Ne(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let v=(()=>{class s{}return s.NULL=new m,s})();function C(){return M(Jr(),Ze())}function M(s,o){return new V(is(s,o))}let V=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=C,s})();function le(s){return s instanceof V?s.nativeElement:s}class Xe{}let Nt=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Kt(){const s=Ze(),l=An(Jr().index,s);return(Ur(l)?l:s)[11]}(),s})(),$t=(()=>{class s{}return s.\u0275prov=pn({token:s,providedIn:"root",factory:()=>null}),s})();class Bi{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const to=new Bi("14.2.2"),Fa={};function Wg(s){return s.ngOriginalError}class Nd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Wg(o);for(;l&&Wg(l);)l=Wg(l);return l||null}}const z_=/^>|^->|<!--|-->|--!>|<!-$/g,E0=/(<|>)/;const xp=new Map;let N0=0;const Qg="__ngContext__";function vs(s,o){Ur(o)?(s[Qg]=o[20],function qg(s){xp.set(s[20],s)}(o)):s[Qg]=o}function eu(s){return s instanceof Function?s():s}var tu=(()=>((tu=tu||{})[tu.Important=1]="Important",tu[tu.DashCase=2]="DashCase",tu))();let wf;function Np(s,o){return wf(s,o)}function Dh(s){const o=s[3];return Qr(o)?o[3]:o}function rm(s){return $0(s[13])}function Op(s){return $0(s[4])}function $0(s){for(;null!==s&&!Qr(s);)s=s[4];return s}function Ch(s,o,l,h,f){if(null!=h){let _,D=!1;Qr(h)?_=h:Ur(h)&&(D=!0,h=h[0]);const T=$r(h);0===s&&null!==l?null==f?Wo(o,l,T):Ls(o,l,T,f||null,!0):1===s&&null!==l?Ls(o,l,T,f||null,!0):2===s?nv(o,T,D):3===s&&o.destroyNode(T),null!=_&&function q0(s,o,l,h,f){const _=l[7];_!==$r(l)&&Ch(o,s,h,_,f);for(let T=10;T<l.length;T++){const E=l[T];Ef(E[1],E,s,o,h,_)}}(o,s,_,l,f)}}function im(s,o){return s.createText(o)}function X_(s,o,l){s.setValue(o,l)}function wD(s,o){return s.createComment(function zg(s){return s.replace(z_,o=>o.replace(E0,"\u200b$1\u200b"))}(o))}function sm(s,o,l){return s.createElement(o,l)}function Mp(s,o){const l=s[9],h=l.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,er(f,-1)),l.splice(h,1)}function om(s,o){if(s.length<=10)return;const l=10+o,h=s[l];if(h){const f=h[17];null!==f&&f!==s&&Mp(f,h),o>0&&(s[l-1][4]=h[4]);const _=ir(s,10+o);!function DD(s,o){Ef(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(h[1],h);const D=_[19];null!==D&&D.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Df(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Ef(s,o,l,3,null,null),function TD(s){let o=s[13];if(!o)return Ba(s[1],s);for(;o;){let l=null;if(Ur(o))l=o[13];else{const h=o[10];h&&(l=h)}if(!l){for(;o&&!o[4]&&o!==s;)Ur(o)&&Ba(o[1],o),o=o[3];null===o&&(o=s),Ur(o)&&Ba(o[1],o),l=o&&o[4]}o=l}}(o)}}function Ba(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function ev(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let h=0;h<l.length;h+=2){const f=o[l[h]];if(!(f instanceof Ta)){const _=l[h+1];if(Array.isArray(_))for(let D=0;D<_.length;D+=2){const T=f[_[D]],E=_[D+1];try{E.call(T)}finally{}}else try{_.call(f)}finally{}}}}(s,o),function j0(s,o){const l=s.cleanup,h=o[7];let f=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const D=l[_+1],T="function"==typeof D?D(o):$r(o[D]),E=h[f=l[_+2]],O=l[_+3];"boolean"==typeof O?T.removeEventListener(l[_],E,O):O>=0?h[f=O]():h[f=-O].unsubscribe(),_+=2}else{const D=h[f=l[_+1]];l[_].call(D)}if(null!==h){for(let _=f+1;_<h.length;_++)(0,h[_])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Qr(o[3])){l!==o[3]&&Mp(l,o);const h=o[19];null!==h&&h.detachView(s)}!function Yg(s){xp.delete(s[20])}(o)}}function jo(s,o,l){return Va(s,o.parent,l)}function Va(s,o,l){let h=o;for(;null!==h&&40&h.type;)h=(o=h).parent;if(null===h)return l[0];if(2&h.flags){const f=s.data[h.directiveStart].encapsulation;if(f===Ot.None||f===Ot.Emulated)return null}return is(h,l)}function Ls(s,o,l,h,f){s.insertBefore(o,l,h,f)}function Wo(s,o,l){s.appendChild(o,l)}function Rp(s,o,l,h,f){null!==h?Ls(s,o,l,h,f):Wo(s,o,l)}function Uc(s,o){return s.parentNode(o)}function am(s,o,l){return lm(s,o,l)}function Ih(s,o,l){return 40&s.type?is(s,l):null}let Tf,lm=Ih;function um(s,o){lm=s,Tf=o}function Pp(s,o,l,h){const f=jo(s,h,o),_=o[11],T=am(h.parent||o[6],h,o);if(null!=f)if(Array.isArray(l))for(let E=0;E<l.length;E++)Rp(_,f,l[E],T,!1);else Rp(_,f,l,T,!1);void 0!==Tf&&Tf(_,h,o,l,f)}function kp(s,o){if(null!==o){const l=o.type;if(3&l)return is(o,s);if(4&l)return Th(-1,s[o.index]);if(8&l){const h=o.child;if(null!==h)return kp(s,h);{const f=s[o.index];return Qr(f)?Th(-1,f):$r(f)}}if(32&l)return Np(o,s)()||$r(s[o.index]);{const h=tv(s,o);return null!==h?Array.isArray(h)?h[0]:kp(Dh(s[16]),h):kp(s,o.next)}}return null}function tv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Th(s,o){const l=10+s+1;if(l<o.length){const h=o[l],f=h[1].firstChild;if(null!==f)return kp(h,f)}return o[7]}function nv(s,o,l){const h=Uc(s,o);h&&function Cf(s,o,l,h){s.removeChild(o,l,h)}(s,h,o,l)}function cm(s,o,l,h,f,_,D){for(;null!=l;){const T=h[l.index],E=l.type;if(D&&0===o&&(T&&vs($r(T),h),l.flags|=4),64!=(64&l.flags))if(8&E)cm(s,o,l.child,h,f,_,!1),Ch(o,s,f,T,_);else if(32&E){const O=Np(l,h);let L;for(;L=O();)Ch(o,s,f,L,_);Ch(o,s,f,T,_)}else 16&E?rv(s,o,h,l,f,_):Ch(o,s,f,T,_);l=D?l.projectionNext:l.next}}function Ef(s,o,l,h,f,_){cm(l,h,s.firstChild,o,f,_,!1)}function rv(s,o,l,h,f,_){const D=l[16],E=D[6].projection[h.projection];if(Array.isArray(E))for(let O=0;O<E.length;O++)Ch(o,s,f,E[O],_);else cm(s,o,E,D[3],f,_,!0)}function $c(s,o,l){s.setAttribute(o,"style",l)}function zo(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Fp(s,o,l){let h=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const _=o.length;if(f+_===h||s.charCodeAt(f+_)<=32)return f}l=f+1}}const pl="ng-template";function Lp(s,o,l){let h=0;for(;h<s.length;){let f=s[h++];if(l&&"class"===f){if(f=s[h],-1!==Fp(f.toLowerCase(),o,0))return!0}else if(1===f){for(;h<s.length&&"string"==typeof(f=s[h++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function Gc(s){return 4===s.type&&s.value!==pl}function Bp(s,o,l){return o===(4!==s.type||l?s.value:pl)}function Vp(s,o,l){let h=4;const f=s.attrs||[],_=function Qu(s){for(let o=0;o<s.length;o++)if(Po(s[o]))return o;return s.length}(f);let D=!1;for(let T=0;T<o.length;T++){const E=o[T];if("number"!=typeof E){if(!D)if(4&h){if(h=2|1&h,""!==E&&!Bp(s,E,l)||""===E&&1===o.length){if(Bs(h))return!1;D=!0}}else{const O=8&h?E:o[++T];if(8&h&&null!==s.attrs){if(!Lp(s.attrs,O,l)){if(Bs(h))return!1;D=!0}continue}const z=Up(8&h?"class":E,f,Gc(s),l);if(-1===z){if(Bs(h))return!1;D=!0;continue}if(""!==O){let se;se=z>_?"":f[z+1].toLowerCase();const me=8&h?se:null;if(me&&-1!==Fp(me,O,0)||2&h&&O!==se){if(Bs(h))return!1;D=!0}}}}else{if(!D&&!Bs(h)&&!Bs(E))return!1;if(D&&Bs(E))continue;D=!1,h=E|1&h}}return Bs(h)||D}function Bs(s){return 0==(1&s)}function Up(s,o,l,h){if(null===o)return-1;let f=0;if(h||!l){let _=!1;for(;f<o.length;){const D=o[f];if(D===s)return f;if(3===D||6===D)_=!0;else{if(1===D||2===D){let T=o[++f];for(;"string"==typeof T;)T=o[++f];continue}if(4===D)break;if(0===D){f+=4;continue}}f+=_?1:2}return-1}return function Z0(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const h=s[l];if("number"==typeof h)return-1;if(h===o)return l;l++}return-1}(o,s)}function Sf(s,o,l=!1){for(let h=0;h<o.length;h++)if(Vp(s,o[h],l))return!0;return!1}function nu(s,o){e:for(let l=0;l<o.length;l++){const h=o[l];if(s.length===h.length){for(let f=0;f<s.length;f++)if(s[f]!==h[f])continue e;return!0}}return!1}function Hc(s,o){return s?":not("+o.trim()+")":o}function Eh(s){let o=s[0],l=1,h=2,f="",_=!1;for(;l<s.length;){let D=s[l];if("string"==typeof D)if(2&h){const T=s[++l];f+="["+D+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?f+="."+D:4&h&&(f+=" "+D);else""!==f&&!Bs(D)&&(o+=Hc(_,f),f=""),h=D,_=_||!Bs(h);l++}return""!==f&&(o+=Hc(_,f)),o}const ln={};function $p(s){ov(_n(),Ze(),_i()+s,!1)}function ov(s,o,l,h){if(!h)if(3==(3&o[2])){const _=s.preOrderCheckHooks;null!==_&&Ct(o,_,l)}else{const _=s.preOrderHooks;null!==_&&Yt(o,_,0,l)}Ns(l)}function hm(s,o=null,l=null,h){const f=fm(s,o,l,h);return f.resolveInjectorInitializers(),f}function fm(s,o=null,l=null,h,f=new Set){const _=[l||jt,mf(s)];return h=h||("object"==typeof s?void 0:Ne(s)),new Do(_,o||Pc(),h||null,f)}let ys=(()=>{class s{static create(l,h){if(Array.isArray(l))return hm({name:""},h,l,"");{const f=l.name??"";return hm({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=Pr,s.NULL=new gf,s.\u0275prov=pn({token:s,providedIn:"any",factory:()=>ni(Id)}),s.__NG_ELEMENT_ID__=-1,s})();function Oh(s,o=yt.Default){const l=Ze();return null===l?ni(s,o):ul(Jr(),l,ce(s),o)}function pm(){throw new Error("invalid")}function no(s,o){return s<<17|o<<2}function ro(s){return s>>17&32767}function gm(s){return 2|s}function ec(s){return(131068&s)>>2}function mm(s,o){return-131069&s|o<<2}function iu(s){return 1|s}function xv(s,o){const l=s.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const f=l[h],_=l[h+1];if(-1!==_){const D=s.data[_];Iu(f),D.contentQueries(2,o[_],_)}}}function Im(s,o,l,h,f,_,D,T,E,O,L){const z=o.blueprint.slice();return z[0]=f,z[2]=76|h,(null!==L||s&&1024&s[2])&&(z[2]|=1024),mu(z),z[3]=z[15]=s,z[8]=l,z[10]=D||s&&s[10],z[11]=T||s&&s[11],z[12]=E||s&&s[12]||null,z[9]=O||s&&s[9]||null,z[6]=_,z[20]=function Z_(){return N0++}(),z[21]=L,z[16]=2==o.type?s[16]:z,z}function ml(s,o,l,h,f){let _=s.data[o];if(null===_)_=Tm(s,o,l,h,f),function rf(){return Zt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=l,_.value=h,_.attrs=f;const D=el();_.injectorIndex=null===D?-1:D.injectorIndex}return gs(_,!0),_}function Tm(s,o,l,h,f){const _=vu(),D=tl(),E=s.data[o]=function mb(s,o,l,h,f,_){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?_:_&&_.parent,l,o,h,f);return null===s.firstChild&&(s.firstChild=E),null!==_&&(D?null==_.child&&null!==E.parent&&(_.child=E):null===_.next&&(_.next=E)),E}function Mh(s,o,l,h){if(0===l)return-1;const f=o.length;for(let _=0;_<l;_++)o.push(h),s.blueprint.push(h),s.data.push(null);return f}function Em(s,o,l){Tu(o);try{const h=s.viewQuery;null!==h&&Fm(1,h,l);const f=s.template;null!==f&&Av(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&xv(s,o),s.staticViewQueries&&Fm(2,s.viewQuery,l);const _=s.components;null!==_&&function fb(s,o){for(let l=0;l<o.length;l++)LD(s,o[l])}(o,_)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{o[2]&=-5,nl()}}function Zp(s,o,l,h){const f=o[2];if(128!=(128&f)){Tu(o);try{mu(o),function wu(s){return Zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Av(s,o,l,2,h);const D=3==(3&f);if(D){const O=s.preOrderCheckHooks;null!==O&&Ct(o,O,null)}else{const O=s.preOrderHooks;null!==O&&Yt(o,O,0,null),jn(o,0)}if(function $v(s){for(let o=rm(s);null!==o;o=Op(o)){if(!o[2])continue;const l=o[9];for(let h=0;h<l.length;h++){const f=l[h],_=f[3];0==(512&f[2])&&er(_,1),f[2]|=512}}}(o),function ga(s){for(let o=rm(s);null!==o;o=Op(o))for(let l=10;l<o.length;l++){const h=o[l],f=h[1];Ja(h)&&Zp(f,h,f.template,h[8])}}(o),null!==s.contentQueries&&xv(s,o),D){const O=s.contentCheckHooks;null!==O&&Ct(o,O)}else{const O=s.contentHooks;null!==O&&Yt(o,O,1),jn(o,1)}!function Sv(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const f=l[h];if(f<0)Ns(~f);else{const _=f,D=l[++h],T=l[++h];cp(D,_),T(2,o[_])}}}finally{Ns(-1)}}(s,o);const T=s.components;null!==T&&function hb(s,o){for(let l=0;l<o.length;l++)Eb(s,o[l])}(o,T);const E=s.viewQuery;if(null!==E&&Fm(2,E,h),D){const O=s.viewCheckHooks;null!==O&&Ct(o,O)}else{const O=s.viewHooks;null!==O&&Yt(o,O,2),jn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,er(o[3],-1))}finally{nl()}}}function Av(s,o,l,h,f){const _=_i(),D=2&h;try{Ns(-1),D&&o.length>22&&ov(s,o,22,!1),l(h,f)}finally{Ns(_)}}function Sm(s,o,l){if(ho(o)){const f=o.directiveEnd;for(let _=o.directiveStart;_<f;_++){const D=s.data[_];D.contentQueries&&D.contentQueries(1,l[_],_)}}}function Yp(s,o,l){!mo()||(function wb(s,o,l,h){const f=l.directiveStart,_=l.directiveEnd;s.firstCreatePass||al(l,o),vs(h,o);const D=l.initialInputs;for(let T=f;T<_;T++){const E=s.data[T],O=gi(E);O&&kD(o,l,E);const L=sa(o,s,T,l);vs(L,o),null!==D&&Uv(0,T-f,L,E,0,D),O&&(An(l.index,o)[8]=L)}}(s,o,l,is(l,o)),128==(128&l.flags)&&function Db(s,o,l){const h=l.directiveStart,f=l.directiveEnd,_=l.index,D=function id(){return Zt.lFrame.currentDirectiveIndex}();try{Ns(_);for(let T=h;T<f;T++){const E=s.data[T],O=o[T];fc(T),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Lv(E,O)}}finally{Ns(-1),fc(D)}}(s,o,l))}function xm(s,o,l=is){const h=o.localNames;if(null!==h){let f=o.index+1;for(let _=0;_<h.length;_+=2){const D=h[_+1],T=-1===D?l(o,s):s[D];s[f++]=T}}}function Nv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Am(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Am(s,o,l,h,f,_,D,T,E,O){const L=22+h,z=L+f,se=function pb(s,o){const l=[];for(let h=0;h<o;h++)l.push(h<s?null:ln);return l}(L,z),me="function"==typeof O?O():O;return se[1]={type:s,blueprint:se,template:l,queries:null,viewQuery:T,declTNode:o,data:se.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:E,consts:me,incompleteFirstPass:!1}}function Ov(s,o,l,h){const f=Gv(o);null===l?f.push(h):(f.push(l),s.firstCreatePass&&Lm(s).push(h,f.length-1))}function Mv(s,o,l){for(let h in s)if(s.hasOwnProperty(h)){const f=s[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(o,f):l[h]=[o,f]}return l}function Rv(s,o){const h=o.directiveEnd,f=s.data,_=o.attrs,D=[];let T=null,E=null;for(let O=o.directiveStart;O<h;O++){const L=f[O],z=L.inputs,se=null===_||Gc(o)?null:FD(z,_);D.push(se),T=Mv(z,O,T),E=Mv(L.outputs,O,E)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=16),T.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=D,o.inputs=T,o.outputs=E}function pa(s,o,l,h,f,_,D,T){const E=is(o,l);let L,O=o.inputs;!T&&null!=O&&(L=O[h])?(Bm(s,l,L,h,f),ps(o)&&Pv(l,o.index)):3&o.type&&(h=function _b(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),f=null!=D?D(f,o.value||"",h):f,_.setProperty(E,h,f))}function Pv(s,o){const l=An(o,s);16&l[2]||(l[2]|=32)}function Nm(s,o,l,h){let f=!1;if(mo()){const _=function Cb(s,o,l){const h=s.directiveRegistry;let f=null;if(h)for(let _=0;_<h.length;_++){const D=h[_];Sf(l,D.selectors,!1)&&(f||(f=[]),vo(al(l,o),s,D.type),gi(D)?(Bv(s,l),f.unshift(D)):f.push(D))}return f}(s,o,l),D=null===h?null:{"":-1};if(null!==_){f=!0,Mm(l,s.data.length,_.length);for(let L=0;L<_.length;L++){const z=_[L];z.providersResolver&&z.providersResolver(z)}let T=!1,E=!1,O=Mh(s,o,_.length,null);for(let L=0;L<_.length;L++){const z=_[L];l.mergedAttrs=Su(l.mergedAttrs,z.hostAttrs),Vv(s,l,o,O,z),Om(O,z,D),null!==z.contentQueries&&(l.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(l.flags|=128);const se=z.type.prototype;!T&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),T=!0),!E&&(se.ngOnChanges||se.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),O++}Rv(s,l)}D&&function Ib(s,o,l){if(o){const h=s.localNames=[];for(let f=0;f<o.length;f+=2){const _=l[o[f+1]];if(null==_)throw new Le(-301,!1);h.push(o[f],_)}}}(l,h,D)}return l.mergedAttrs=Su(l.mergedAttrs,l.attrs),f}function Fv(s,o,l,h,f,_){const D=_.hostBindings;if(D){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const E=~o.index;(function bb(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(T)!=E&&T.push(E),T.push(h,f,D)}}function Lv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Bv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Om(s,o,l){if(l){if(o.exportAs)for(let h=0;h<o.exportAs.length;h++)l[o.exportAs[h]]=s;gi(o)&&(l[""]=s)}}function Mm(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Vv(s,o,l,h,f){s.data[h]=f;const _=f.factory||(f.factory=xo(f.type)),D=new Ta(_,gi(f),Oh);s.blueprint[h]=D,l[h]=D,Fv(s,o,0,h,Mh(s,l,f.hostVars,ln),f)}function kD(s,o,l){const h=is(o,s),f=Nv(l),_=s[10],D=Rh(s,Im(s,f,null,l.onPush?32:16,h,o,_,_.createRenderer(h,l),null,null,null));s[o.index]=D}function Rm(s,o,l,h,f,_,D){if(null==_)s.removeAttribute(o,f,l);else{const T=null==D?Oe(_):D(_,h||"",f);s.setAttribute(o,f,T,l)}}function Uv(s,o,l,h,f,_){const D=_[o];if(null!==D){const T=h.setInput;for(let E=0;E<D.length;){const O=D[E++],L=D[E++],z=D[E++];null!==T?h.setInput(l,z,O,L):l[L]=z}}}function FD(s,o){let l=null,h=0;for(;h<o.length;){const f=o[h];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[h+1])),h+=2}else h+=2;else h+=4}return l}function Tb(s,o,l,h){return new Array(s,!0,!1,o,null,0,h,l,null,null)}function Eb(s,o){const l=An(o,s);if(Ja(l)){const h=l[1];48&l[2]?Zp(h,l,h.template,l[8]):l[5]>0&&Pm(l)}}function Pm(s){for(let h=rm(s);null!==h;h=Op(h))for(let f=10;f<h.length;f++){const _=h[f];if(Ja(_))if(512&_[2]){const D=_[1];Zp(D,_,D.template,_[8])}else _[5]>0&&Pm(_)}const l=s[1].components;if(null!==l)for(let h=0;h<l.length;h++){const f=An(l[h],s);Ja(f)&&f[5]>0&&Pm(f)}}function LD(s,o){const l=An(o,s),h=l[1];(function BD(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(h,l),Em(h,l,l[8])}function Rh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function km(s){for(;s;){s[2]|=32;const o=Dh(s);if(Za(s)&&!o)return s;s=o}return null}function Pf(s,o,l,h=!0){const f=o[10];f.begin&&f.begin();try{Zp(s,o,s.template,l)}catch(D){throw h&&xb(o,D),D}finally{f.end&&f.end()}}function Fm(s,o,l){Iu(0),o(s,l)}function Gv(s){return s[7]||(s[7]=[])}function Lm(s){return s.cleanup||(s.cleanup=[])}function xb(s,o){const l=s[9],h=l?l.get(Nd,null):null;h&&h.handleError(o)}function Bm(s,o,l,h,f){for(let _=0;_<l.length;){const D=l[_++],T=l[_++],E=o[D],O=s.data[D];null!==O.setInput?O.setInput(E,f,h,T):E[T]=f}}function _l(s,o,l){const h=As(o,s);X_(s[11],h,l)}function kf(s,o,l){let h=l?s.styles:null,f=l?s.classes:null,_=0;if(null!==o)for(let D=0;D<o.length;D++){const T=o[D];"number"==typeof T?_=T:1==_?f=Ae(f,T):2==_&&(h=Ae(h,T+": "+o[++D]+";"))}l?s.styles=h:s.stylesWithoutHost=h,l?s.classes=f:s.classesWithoutHost=f}function kd(s,o,l,h,f=!1){for(;null!==l;){const _=o[l.index];if(null!==_&&h.push($r(_)),Qr(_))for(let T=10;T<_.length;T++){const E=_[T],O=E[1].firstChild;null!==O&&kd(E[1],E,O,h)}const D=l.type;if(8&D)kd(s,o,l.child,h);else if(32&D){const T=Np(l,o);let E;for(;E=T();)h.push(E)}else if(16&D){const T=tv(o,l);if(Array.isArray(T))h.push(...T);else{const E=Dh(o[16]);kd(E[1],E,T,h,!0)}}l=f?l.projectionNext:l.next}return h}class Kp{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return kd(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Qr(o)){const l=o[8],h=l?l.indexOf(this):-1;h>-1&&(om(o,h),ir(l,h))}this._attachedToViewContainer=!1}Df(this._lView[1],this._lView)}onDestroy(o){Ov(this._lView[1],this._lView,null,o)}markForCheck(){km(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Pf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ID(s,o){Ef(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=o}}class Ab extends Kp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Pf(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Ff extends v{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=on(o);return new Ph(l,this.ngModule)}}function su(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Fd{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,h){const f=this.injector.get(o,Fa,h);return f!==Fa||l===Fa?f:this.parentInjector.get(o,l,h)}}class Ph extends Ku{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function sv(s){return s.map(Eh).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return su(this.componentDef.inputs)}get outputs(){return su(this.componentDef.outputs)}create(o,l,h,f){let _=(f=f||this.ngModule)instanceof Ql?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const D=_?new Fd(o,_):o,T=D.get(Xe,null);if(null===T)throw new Le(407,!1);const E=D.get($t,null),O=T.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",z=h?function gb(s,o,l){return s.selectRootElement(o,l===Ot.ShadowDom)}(O,h,this.componentDef.encapsulation):sm(T.createRenderer(null,this.componentDef),L,function Vm(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),se=this.componentDef.onPush?288:272,me=Am(0,null,null,1,0,null,null,null,null,null),$e=Im(null,me,null,se,null,null,T,O,E,D,null);let dt,wt;Tu($e);try{const Pt=function kh(s,o,l,h,f,_){const D=l[1];l[22]=s;const E=ml(D,22,2,"#host",null),O=E.mergedAttrs=o.hostAttrs;null!==O&&(kf(E,O,!0),null!==s&&(sl(f,s,O),null!==E.classes&&zo(f,s,E.classes),null!==E.styles&&$c(f,s,E.styles)));const L=h.createRenderer(s,o),z=Im(l,Nv(o),null,o.onPush?32:16,l[22],E,h,L,_||null,null,null);return D.firstCreatePass&&(vo(al(E,l),D,o.type),Bv(D,E),Mm(E,l.length,1)),Rh(l,z),l[22]=z}(z,this.componentDef,$e,T,O);if(z)if(h)sl(O,z,["ng-version",to.full]);else{const{attrs:en,classes:Ke}=function xf(s){const o=[],l=[];let h=1,f=2;for(;h<s.length;){let _=s[h];if("string"==typeof _)2===f?""!==_&&o.push(_,s[++h]):8===f&&l.push(_);else{if(!Bs(f))break;f=_}h++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);en&&sl(O,z,en),Ke&&Ke.length>0&&zo(O,z,Ke.join(" "))}if(wt=Qa(me,22),void 0!==l){const en=wt.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const nn=l[Ke];en.push(null!=nn?Array.from(nn):null)}}dt=function Nb(s,o,l,h){const f=l[1],_=function yb(s,o,l){const h=Jr();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Vv(s,h,o,Mh(s,o,1,null),l),Rv(s,h));const f=sa(o,s,h.directiveStart,h);vs(f,o);const _=is(h,o);return _&&vs(_,o),f}(f,l,o);if(s[8]=l[8]=_,null!==h)for(const T of h)T(_,o);if(o.contentQueries){const T=Jr();o.contentQueries(1,_,T.directiveStart)}const D=Jr();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ns(D.index),Fv(l[1],D,0,D.directiveStart,D.directiveEnd,o),Lv(o,_)),_}(Pt,this.componentDef,$e,[GD]),Em(me,$e,null)}finally{nl()}return new UD(this.componentType,dt,M(wt,$e),$e,wt)}}class UD extends class Lc{}{constructor(o,l,h,f,_){super(),this.location=h,this._rootLView=f,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new Ab(f),this.componentType=o}setInput(o,l){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[o])){const _=this._rootLView;Bm(_[1],_,f,o,l),Pv(_,this._tNode.index)}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function GD(){const s=Jr();Se(Ze()[1],s)}function Qp(s){let o=function Hv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const h=[s];for(;o;){let f;if(gi(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,!1);f=o.\u0275dir}if(f){if(l){h.push(f);const D=s;D.inputs=Um(s.inputs),D.declaredInputs=Um(s.declaredInputs),D.outputs=Um(s.outputs);const T=f.hostBindings;T&&d(s,T);const E=f.viewQuery,O=f.contentQueries;if(E&&Lf(s,E),O&&Co(s,O),Ie(s.inputs,f.inputs),Ie(s.declaredInputs,f.declaredInputs),Ie(s.outputs,f.outputs),gi(f)&&f.data.animation){const L=s.data;L.animation=(L.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let D=0;D<_.length;D++){const T=_[D];T&&T.ngInherit&&T(s),T===Qp&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Ob(s){let o=0,l=null;for(let h=s.length-1;h>=0;h--){const f=s[h];f.hostVars=o+=f.hostVars,f.hostAttrs=Su(f.hostAttrs,l=Su(l,f.hostAttrs))}}(h)}function Um(s){return s===zr?{}:s===jt?[]:s}function Lf(s,o){const l=s.viewQuery;s.viewQuery=l?(h,f)=>{o(h,f),l(h,f)}:o}function Co(s,o){const l=s.contentQueries;s.contentQueries=l?(h,f,_)=>{o(h,f,_),l(h,f,_)}:o}function d(s,o){const l=s.hostBindings;s.hostBindings=l?(h,f)=>{o(h,f),l(h,f)}:o}let P=null;function G(){if(!P){const s=Un.Symbol;if(s&&s.iterator)P=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const h=o[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(P=h)}}}return P}function ie(s){return!!qe(s)&&(Array.isArray(s)||!(s instanceof Map)&&G()in s)}function qe(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _t(s,o,l){return s[o]=l}function Rt(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function hn(s,o,l,h){const f=Rt(s,o,l);return Rt(s,o+1,h)||f}function Nn(s,o,l,h){const f=Ze();return Rt(f,_o(),o)&&(_n(),function tc(s,o,l,h,f,_){const D=is(s,o);Rm(o[11],D,_,s.value,l,h,f)}(Tr(),f,s,o,l,h)),Nn}function Vi(s,o,l,h){return Rt(s,_o(),l)?o+Oe(l)+h:ln}function Ei(s,o,l,h,f,_){const T=hn(s,Hr(),l,f);return Oo(2),T?o+Oe(l)+h+Oe(f)+_:ln}function jE(s,o,l,h,f,_,D,T){const E=Ze(),O=_n(),L=s+22,z=O.firstCreatePass?function HE(s,o,l,h,f,_,D,T,E){const O=o.consts,L=ml(o,s,4,D||null,po(O,T));Nm(o,l,L,po(O,E)),Se(o,L);const z=L.tViews=Am(2,L,h,f,_,o.directiveRegistry,o.pipeRegistry,null,o.schemas,O);return null!==o.queries&&(o.queries.template(o,L),z.queries=o.queries.embeddedTView(L)),L}(L,O,E,o,l,h,f,_,D):O.data[L];gs(z,!1);const se=E[11].createComment("");Pp(O,E,se,z),vs(se,E),Rh(E,E[L]=Tb(se,E,se,z)),xl(z)&&Yp(O,E,z),null!=D&&xm(E,z,T)}function WE(s){return No(function yu(){return Zt.lFrame.contextLView}(),22+s)}function HD(s,o,l){const h=Ze();return Rt(h,_o(),o)&&pa(_n(),Tr(),h,s,o,h[11],l,!1),HD}function jD(s,o,l,h,f){const D=f?"class":"style";Bm(s,l,o.inputs[D],D,h)}function kb(s,o,l,h){const f=Ze(),_=_n(),D=22+s,T=f[11],E=f[D]=sm(T,o,function de(){return Zt.lFrame.currentNamespace}()),O=_.firstCreatePass?function WM(s,o,l,h,f,_,D){const T=o.consts,O=ml(o,s,2,f,po(T,_));return Nm(o,l,O,po(T,D)),null!==O.attrs&&kf(O,O.attrs,!1),null!==O.mergedAttrs&&kf(O,O.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,O),O}(D,_,f,0,o,l,h):_.data[D];gs(O,!0);const L=O.mergedAttrs;null!==L&&sl(T,E,L);const z=O.classes;null!==z&&zo(T,E,z);const se=O.styles;return null!==se&&$c(T,E,se),64!=(64&O.flags)&&Pp(_,f,E,O),0===function go(){return Zt.lFrame.elementDepthCount}()&&vs(E,f),function Ml(){Zt.lFrame.elementDepthCount++}(),xl(O)&&(Yp(_,f,O),Sm(_,O,f)),null!==h&&xm(f,O),kb}function Fb(){let s=Jr();tl()?Rl():(s=s.parent,gs(s,!1));const o=s;!function td(){Zt.lFrame.elementDepthCount--}();const l=_n();return l.firstCreatePass&&(Se(l,s),ho(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function il(s){return 0!=(16&s.flags)}(o)&&jD(l,o,Ze(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Eu(s){return 0!=(32&s.flags)}(o)&&jD(l,o,Ze(),o.stylesWithoutHost,!1),Fb}function Lb(s,o,l,h){return kb(s,o,l,h),Fb(),Lb}function Bb(s,o,l){const h=Ze(),f=_n(),_=s+22,D=f.firstCreatePass?function zE(s,o,l,h,f){const _=o.consts,D=po(_,h),T=ml(o,s,8,"ng-container",D);return null!==D&&kf(T,D,!0),Nm(o,l,T,po(_,f)),null!==o.queries&&o.queries.elementStart(o,T),T}(_,f,h,o,l):f.data[_];gs(D,!0);const T=h[_]=h[11].createComment("");return Pp(f,h,T,D),vs(T,h),xl(D)&&(Yp(f,h,D),Sm(f,D,h)),null!=l&&xm(h,D),Bb}function Vb(){let s=Jr();const o=_n();return tl()?Rl():(s=s.parent,gs(s,!1)),o.firstCreatePass&&(Se(o,s),ho(s)&&o.queries.elementEnd(s)),Vb}function WD(s,o,l){return Bb(s,o,l),Vb(),WD}function qE(){return Ze()}function Ub(s){return!!s&&"function"==typeof s.then}function ZE(s){return!!s&&"function"==typeof s.subscribe}const YE=ZE;function $b(s,o,l,h){const f=Ze(),_=_n(),D=Jr();return function QE(s,o,l,h,f,_,D,T){const E=xl(h),L=s.firstCreatePass&&Lm(s),z=o[8],se=Gv(o);let me=!0;if(3&h.type||T){const wt=is(h,o),Pt=T?T(wt):wt,en=se.length,Ke=T?br=>T($r(br[h.index])):h.index;let nn=null;if(!T&&E&&(nn=function zM(s,o,l,h){const f=s.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const D=f[_];if(D===l&&f[_+1]===h){const T=o[7],E=f[_+2];return T.length>E?T[E]:null}"string"==typeof D&&(_+=2)}return null}(s,o,f,h.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=_,nn.__ngLastListenerFn__=_,me=!1;else{_=XE(h,o,z,_,!1);const br=l.listen(Pt,f,_);se.push(_,br),L&&L.push(f,Ke,en,en+1)}}else _=XE(h,o,z,_,!1);const $e=h.outputs;let dt;if(me&&null!==$e&&(dt=$e[f])){const wt=dt.length;if(wt)for(let Pt=0;Pt<wt;Pt+=2){const bi=o[dt[Pt]][dt[Pt+1]].subscribe(_),Jf=se.length;se.push(_,bi),L&&L.push(f,h.index,Jf,-(Jf+1))}}}(_,f,f[11],D,s,o,0,h),$b}function JE(s,o,l,h){try{return!1!==l(h)}catch(f){return xb(s,f),!1}}function XE(s,o,l,h,f){return function _(D){if(D===Function)return h;km(2&s.flags?An(s.index,o):o);let E=JE(o,0,h,D),O=_.__ngNextListenerFn__;for(;O;)E=JE(o,0,O,D)&&E,O=O.__ngNextListenerFn__;return f&&!1===E&&(D.preventDefault(),D.returnValue=!1),E}}function zD(s=1){return function Zs(s){return(Zt.lFrame.contextLView=function ms(s,o){for(;s>0;)o=o[15],s--;return o}(s,Zt.lFrame.contextLView))[8]}(s)}function qM(s,o){let l=null;const h=function iv(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const _=o[f];if("*"!==_){if(null===h?Sf(s,_,!0):nu(h,_))return f}else l=f}return l}function eS(s){const o=Ze()[16][6];if(!o.projection){const h=o.projection=qn(s?s.length:1,null),f=h.slice();let _=o.child;for(;null!==_;){const D=s?qM(_,s):0;null!==D&&(f[D]?f[D].projectionNext=_:h[D]=_,f[D]=_),_=_.next}}}function tS(s,o=0,l){const h=Ze(),f=_n(),_=ml(f,22+s,16,null,l||null);null===_.projection&&(_.projection=o),Rl(),64!=(64&_.flags)&&function z0(s,o,l){rv(o[11],0,o,l,jo(s,l,o),am(l.parent||o[6],l,o))}(f,h,_)}function as(s,o,l){return Gb(s,"",o,"",l),as}function Gb(s,o,l,h,f){const _=Ze(),D=Vi(_,o,l,h);return D!==ln&&pa(_n(),Tr(),_,s,D,_[11],f,!1),Gb}function qD(s,o,l,h,f,_,D){const T=Ze(),E=Ei(T,o,l,h,f,_);return E!==ln&&pa(_n(),Tr(),T,s,E,T[11],D,!1),qD}function QD(s,o,l,h,f){const _=s[l+1],D=null===o;let T=h?ro(_):ec(_),E=!1;for(;0!==T&&(!1===E||D);){const L=s[T+1];oS(s[T],o)&&(E=!0,s[T+1]=h?iu(L):gm(L)),T=h?ro(L):ec(L)}E&&(s[l+1]=h?gm(_):iu(_))}function oS(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Na(s,o)>=0}const Vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function JD(s){return s.substring(Vs.key,Vs.keyEnd)}function XD(s,o){const l=Vs.textEnd;return l===o?-1:(o=Vs.keyEnd=function cS(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Vs.key=o,l),Xp(s,o,l))}function Xp(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function iC(s,o,l){return qc(s,o,l,!1),iC}function sC(s,o){return qc(s,o,null,!0),sC}function hS(s){!function Zc(s,o,l,h){const f=_n(),_=Oo(2);f.firstUpdatePass&&pS(f,null,_,h);const D=Ze();if(l!==ln&&Rt(D,_,l)){const T=f.data[_i()];if(_S(T,h)&&!fS(f,_)){let E=h?T.classesWithoutHost:T.stylesWithoutHost;null!==E&&(l=Ae(E,l||"")),jD(f,T,D,l,h)}else!function tR(s,o,l,h,f,_,D,T){f===ln&&(f=jt);let E=0,O=0,L=0<f.length?f[0]:null,z=0<_.length?_[0]:null;for(;null!==L||null!==z;){const se=E<f.length?f[E+1]:void 0,me=O<_.length?_[O+1]:void 0;let dt,$e=null;L===z?(E+=2,O+=2,se!==me&&($e=z,dt=me)):null===z||null!==L&&L<z?(E+=2,$e=L):(O+=2,$e=z,dt=me),null!==$e&&gS(s,o,l,h,$e,dt,D,T),L=E<f.length?f[E]:null,z=O<_.length?_[O]:null}}(f,T,D,D[11],D[_+1],D[_+1]=function eR(s,o,l){if(null==l||""===l)return jt;const h=[],f=Vo(l);if(Array.isArray(f))for(let _=0;_<f.length;_++)s(h,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&s(h,_,f[_]);else"string"==typeof f&&o(h,f);return h}(s,o,l),h,_)}}(ti,Ld,s,!0)}function Ld(s,o){for(let l=function lS(s){return function tC(s){Vs.key=0,Vs.keyEnd=0,Vs.value=0,Vs.valueEnd=0,Vs.textEnd=s.length}(s),XD(s,Xp(s,0,Vs.textEnd))}(o);l>=0;l=XD(o,l))ti(s,JD(o),!0)}function qc(s,o,l,h){const f=Ze(),_=_n(),D=Oo(2);_.firstUpdatePass&&pS(_,s,D,h),o!==ln&&Rt(f,D,o)&&gS(_,_.data[_i()],f,f[11],s,f[D+1]=function nR(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ne(Vo(s)))),s}(o,l),h,D)}function fS(s,o){return o>=s.expandoStartIndex}function pS(s,o,l,h){const f=s.data;if(null===f[l+1]){const _=f[_i()],D=fS(s,l);_S(_,h)&&null===o&&!D&&(o=!1),o=function KM(s,o,l,h){const f=function Cu(s){const o=Zt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let _=h?o.residualClasses:o.residualStyles;if(null===f)0===(h?o.classBindings:o.styleBindings)&&(l=jv(l=oC(null,s,o,l,h),o.attrs,h),_=null);else{const D=o.directiveStylingLast;if(-1===D||s[D]!==f)if(l=oC(f,s,o,l,h),null===_){let E=function QM(s,o,l){const h=l?o.classBindings:o.styleBindings;if(0!==ec(h))return s[ro(h)]}(s,o,h);void 0!==E&&Array.isArray(E)&&(E=oC(null,s,o,E[1],h),E=jv(E,o.attrs,h),function JM(s,o,l,h){s[ro(l?o.classBindings:o.styleBindings)]=h}(s,o,h,E))}else _=function XM(s,o,l){let h;const f=o.directiveEnd;for(let _=1+o.directiveStylingLast;_<f;_++)h=jv(h,s[_].hostAttrs,l);return jv(h,o.attrs,l)}(s,o,h)}return void 0!==_&&(h?o.residualClasses=_:o.residualStyles=_),l}(f,_,o,h),function KD(s,o,l,h,f,_){let D=_?o.classBindings:o.styleBindings,T=ro(D),E=ec(D);s[h]=l;let L,O=!1;if(Array.isArray(l)){const z=l;L=z[1],(null===L||Na(z,L)>0)&&(O=!0)}else L=l;if(f)if(0!==E){const se=ro(s[T+1]);s[h+1]=no(se,T),0!==se&&(s[se+1]=mm(s[se+1],h)),s[T+1]=function yv(s,o){return 131071&s|o<<17}(s[T+1],h)}else s[h+1]=no(T,0),0!==T&&(s[T+1]=mm(s[T+1],h)),T=h;else s[h+1]=no(E,0),0===T?T=h:s[E+1]=mm(s[E+1],h),E=h;O&&(s[h+1]=gm(s[h+1])),QD(s,L,h,!0),QD(s,L,h,!1),function sS(s,o,l,h,f){const _=f?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof o&&Na(_,o)>=0&&(l[h+1]=iu(l[h+1]))}(o,L,s,h,_),D=no(T,E),_?o.classBindings=D:o.styleBindings=D}(f,_,o,l,D,h)}}function oC(s,o,l,h,f){let _=null;const D=l.directiveEnd;let T=l.directiveStylingLast;for(-1===T?T=l.directiveStart:T++;T<D&&(_=o[T],h=jv(h,_.hostAttrs,f),_!==s);)T++;return null!==s&&(l.directiveStylingLast=T),h}function jv(s,o,l){const h=l?1:2;let f=-1;if(null!==o)for(let _=0;_<o.length;_++){const D=o[_];"number"==typeof D?f=D:f===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ti(s,D,!!l||o[++_]))}return void 0===s?null:s}function gS(s,o,l,h,f,_,D,T){if(!(3&o.type))return;const E=s.data,O=E[T+1];zb(function _m(s){return 1==(1&s)}(O)?mS(E,o,l,f,ec(O),D):void 0)||(zb(_)||function vv(s){return 2==(2&s)}(O)&&(_=mS(E,null,l,f,T,D)),function Ua(s,o,l,h,f){if(o)f?s.addClass(l,h):s.removeClass(l,h);else{let _=-1===h.indexOf("-")?void 0:tu.DashCase;null==f?s.removeStyle(l,h,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=tu.Important),s.setStyle(l,h,f,_))}}(h,D,As(_i(),l),f,_))}function mS(s,o,l,h,f,_){const D=null===o;let T;for(;f>0;){const E=s[f],O=Array.isArray(E),L=O?E[1]:E,z=null===L;let se=l[f+1];se===ln&&(se=z?jt:void 0);let me=z?ku(se,h):L===h?se:void 0;if(O&&!zb(me)&&(me=ku(E,h)),zb(me)&&(T=me,D))return T;const $e=s[f+1];f=D?ro($e):ec($e)}if(null!==o){let E=_?o.residualClasses:o.residualStyles;null!=E&&(T=ku(E,h))}return T}function zb(s){return void 0!==s}function _S(s,o){return 0!=(s.flags&(o?16:32))}function qb(s,o=""){const l=Ze(),h=_n(),f=s+22,_=h.firstCreatePass?ml(h,f,1,o,null):h.data[f],D=l[f]=im(l[11],o);Pp(h,l,D,_),gs(_,!1)}function lC(s){return Ga("",s,""),lC}function Ga(s,o,l){const h=Ze(),f=Vi(h,s,o,l);return f!==ln&&_l(h,_i(),f),Ga}function hi(s,o,l,h,f){const _=Ze(),D=Ei(_,s,o,l,h,f);return D!==ln&&_l(_,_i(),D),hi}function pC(s,o,l){const h=Ze();return Rt(h,_o(),o)&&pa(_n(),Tr(),h,s,o,h[11],l,!0),pC}const tg=void 0;var RS=["en",[["a","p"],["AM","PM"],tg],[["AM","PM"],tg,tg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tg,"{1} 'at' {0}",tg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gC(s){const l=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let Uf={};function Qv(s){const o=function $f(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=jm(o);if(l)return l;const h=o.split("-")[0];if(l=jm(h),l)return l;if("en"===h)return RS;throw new Le(701,!1)}function mC(s){return Qv(s)[Xt.PluralCase]}function jm(s){return s in Uf||(Uf[s]=Un.ng&&Un.ng.common&&Un.ng.common.locales&&Un.ng.common.locales[s]),Uf[s]}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const kS=["zero","one","two","few","many"],Gf="en-US",Bh={marker:"element"},Jv={marker:"ICU"};var Yi=(()=>((Yi=Yi||{})[Yi.SHIFT=2]="SHIFT",Yi[Yi.APPEND_EAGERLY=1]="APPEND_EAGERLY",Yi[Yi.COMMENT=2]="COMMENT",Yi))();let _C=Gf;function Kb(s){(function cn(s,o){null==s&&pt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(_C=s.toLowerCase().replace(/_/g,"-"))}function yC(s,o,l){const h=o.insertBeforeIndex,f=Array.isArray(h)?h[0]:h;return null===f?Ih(s,0,l):$r(l[f])}function Qb(s,o,l,h,f){const _=o.insertBeforeIndex;if(Array.isArray(_)){let D=h,T=null;if(3&o.type||(T=D,D=f),null!==D&&0==(2&o.flags))for(let E=1;E<_.length;E++)Ls(s,D,l[_[E]],T,!1)}}function bC(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const h=s[l];Jb(h)||Xb(h,o)&&null===ew(h)&&wC(h,o.index)}}function Jb(s){return!(64&s.type)}function Xb(s,o){return Jb(o)||s.index>o.index}function ew(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function wC(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(um(yC,Qb),s.insertBeforeIndex=o)}function Wm(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function aR(s,o,l){const h=Tm(s,l,64,null,null);return bC(o,h),h}function nw(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function rw(s){return s>>>17}function DC(s){return(131070&s)>>>1}let ng=0,rg=0;function VS(s,o,l,h){const f=l[11];let D,_=null;for(let T=0;T<o.length;T++){const E=o[T];if("string"==typeof E){const O=o[++T];null===l[O]&&(l[O]=im(f,E))}else if("number"==typeof E)switch(1&E){case 0:const O=rw(E);let L,z;if(null===_&&(_=O,D=Uc(f,h)),O===_?(L=h,z=D):(L=null,z=$r(l[O])),null!==z){const dt=DC(E);Ls(f,z,l[dt],L,!1);const Pt=Wm(s,dt);if(null!==Pt&&"object"==typeof Pt){const en=nw(Pt,l);null!==en&&VS(s,Pt.create[en],l,l[Pt.anchorIdx])}}break;case 1:const me=o[++T],$e=o[++T];Rm(f,As(E>>>1,l),null,null,me,$e,null)}else switch(E){case Jv:const O=o[++T],L=o[++T];null===l[L]&&vs(l[L]=wD(f,O),l);break;case Bh:const z=o[++T],se=o[++T];null===l[se]&&vs(l[se]=sm(f,z,null),l)}}}function US(s,o,l,h,f){for(let _=0;_<l.length;_++){const D=l[_],T=l[++_];if(D&f){let E="";for(let O=_+1;O<=_+T;O++){const L=l[O];if("string"==typeof L)E+=L;else if("number"==typeof L)if(L<0)E+=Oe(o[h-L]);else{const z=L>>>2;switch(3&L){case 1:const se=l[++O],me=l[++O],$e=s.data[z];"string"==typeof $e?Rm(o[11],o[z],null,$e,se,E,me):pa(s,$e,o,se,E,o[11],me,!1);break;case 0:const dt=o[z];null!==dt&&X_(o[11],dt,E);break;case 2:$S(s,Wm(s,z),o,E);break;case 3:sw(s,Wm(s,z),h,o)}}}}else{const E=l[_+1];if(E>0&&3==(3&E)){const L=Wm(s,E>>>2);o[L.currentCaseLViewIndex]<0&&sw(s,L,h,o)}}_+=T}}function sw(s,o,l,h){let f=h[o.currentCaseLViewIndex];if(null!==f){let _=ng;f<0&&(f=h[o.currentCaseLViewIndex]=~f,_=-1),US(s,h,o.update[f],l,_)}}function $S(s,o,l,h){const f=function GS(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const h=function FS(s,o){const l=mC(o)(parseInt(s,10)),h=kS[l];return void 0!==h?h:"other"}(o,function vC(){return _C}());l=s.cases.indexOf(h),-1===l&&"other"!==h&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,h);if(nw(o,l)!==f&&(SC(s,o,l),l[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const D=l[o.anchorIdx];D&&VS(s,o.create[f],l,D)}}function SC(s,o,l){let h=nw(o,l);if(null!==h){const f=o.remove[h];for(let _=0;_<f.length;_++){const D=f[_];if(D>0){const T=As(D,l);null!==T&&nv(l[11],T)}else SC(s,Wm(s,~D),l)}}}function HS(){const s=[];let l,h,o=-1;function _(T,E){o=0;const O=nw(T,E);h=null!==O?T.remove[O]:jt}function D(){if(o<h.length){const T=h[o++];return T>0?l[T]:(s.push(o,h),_(l[1].data[~T],l),D())}return 0===s.length?null:(h=s.pop(),o=s.pop(),D())}return function f(T,E){for(l=E;s.length;)s.pop();return _(T.value,E),D}}const ow=/\ufffd(\d+):?\d*\ufffd/gi,xC=/\ufffd(\d+)\ufffd/,zS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,AC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hR=/\uE500/g;function qS(s,o,l,h,f,_,D){const T=Mh(s,h,1,null);let E=T<<Yi.SHIFT,O=el();o===O&&(O=null),null===O&&(E|=Yi.APPEND_EAGERLY),D&&(E|=Yi.COMMENT,function B0(s){void 0===wf&&(wf=s())}(HS)),f.push(E,null===_?"":_);const L=Tm(s,T,D?32:1,null===_?"":_,null);bC(l,L);const z=L.index;return gs(L,!1),null!==O&&o!==O&&function tw(s,o){let l=s.insertBeforeIndex;null===l?(um(yC,Qb),l=s.insertBeforeIndex=[null,o]):(function Re(s,o,l){s!=o&&pt(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(O,z),L}function pR(s,o,l,h,f,_,D){const T=D.match(ow),E=qS(s,o,l,_,h,T?null:D,!1);T&&zm(f,D,E.index,null,0,null)}function zm(s,o,l,h,f,_){const D=s.length,T=D+1;s.push(null,null);const E=D+2,O=o.split(ow);let L=0;for(let z=0;z<O.length;z++){const se=O[z];if(1&z){const me=f+parseInt(se,10);s.push(-1-me),L|=ZS(me)}else""!==se&&s.push(se)}return s.push(l<<2|(h?1:0)),h&&s.push(h,_),s[D]=L,s[T]=s.length-E,L}function ZS(s){return 1<<Math.min(s,31)}function KS(s){let o,_,l="",h=0,f=!1;for(;null!==(o=AC.exec(s));)f?o[0]===`\ufffd/*${_}\ufffd`&&(h=o.index,f=!1):(l+=s.substring(h,o.index+o[0].length),_=o[1],f=!0);return l+=s.slice(h),l}function aw(s,o,l,h,f,_){let D=0;const T={type:f.type,currentCaseLViewIndex:Mh(s,o,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function lw(s,o,l){s.push(ZS(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,f,_),function BS(s,o,l){const h=s.data[o];null===h?s.data[o]=l:h.value=l}(s,_,T);const E=f.values;for(let O=0;O<E.length;O++){const L=E[O],z=[];for(let se=0;se<L.length;se++){const me=L[se];if("string"!=typeof me){const $e=z.push(me)-1;L[se]=`\x3c!--\ufffd${$e}\ufffd--\x3e`}}D=yR(s,T,o,l,h,f.cases[O],L.join(""),z)|D}D&&function XS(s,o,l){s.push(o,1,l<<2|3)}(l,D,_)}function vR(s){const o=[],l=[];let h=1,f=0;const _=OC(s=s.replace(zS,function(D,T,E){return h="select"===E?0:1,f=parseInt(T.slice(1),10),""}));for(let D=0;D<_.length;){let T=_[D++].trim();1===h&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&o.push(T);const E=OC(_[D++]);o.length>l.length&&l.push(E)}return{type:h,mainBinding:f,cases:o,values:l}}function OC(s){if(!s)return[];let o=0;const l=[],h=[],f=/[{}]/g;let _;for(f.lastIndex=0;_=f.exec(s);){const T=_.index;if("}"==_[0]){if(l.pop(),0==l.length){const E=s.substring(o,T);zS.test(E)?h.push(vR(E)):h.push(E),o=T+1}}else{if(0==l.length){const E=s.substring(o,T);h.push(E),o=T+1}l.push("{")}}const D=s.substring(o);return h.push(D),h}function yR(s,o,l,h,f,_,D,T){const E=[],O=[],L=[];o.cases.push(_),o.create.push(E),o.remove.push(O),o.update.push(L);const se=Nr(ri()).getInertBodyElement(D),me=Oc(se)||se;return me?QS(s,o,l,h,E,O,L,me,f,T,0):0}function QS(s,o,l,h,f,_,D,T,E,O,L){let z=0,se=T.firstChild;for(;se;){const me=Mh(s,l,1,null);switch(se.nodeType){case Node.ELEMENT_NODE:const $e=se,dt=$e.tagName.toLowerCase();if(ha.hasOwnProperty(dt)){uw(f,Bh,dt,E,me),s.data[me]=dt;const Ke=$e.attributes;for(let nn=0;nn<Ke.length;nn++){const br=Ke.item(nn),bi=br.name.toLowerCase();br.value.match(ow)?xc.hasOwnProperty(bi)&&zm(D,br.value,me,br.name,0,lh[bi]?Xs:null):RC(f,me,br)}z=QS(s,o,l,h,f,_,D,se,me,O,L+1)|z,JS(_,me,L)}break;case Node.TEXT_NODE:const wt=se.textContent||"",Pt=wt.match(ow);uw(f,null,Pt?"":wt,E,me),JS(_,me,L),Pt&&(z=zm(D,wt,me,null,0,null)|z);break;case Node.COMMENT_NODE:const en=xC.exec(se.textContent||"");if(en){const nn=O[parseInt(en[1],10)];uw(f,Jv,"",E,me),aw(s,l,h,E,nn,me),MC(_,me,L)}}se=se.nextSibling}return z}function JS(s,o,l){0===l&&s.push(o)}function MC(s,o,l){0===l&&(s.push(~o),s.push(o))}function uw(s,o,l,h,f){null!==o&&s.push(o),s.push(l,f,function CC(s,o,l){return s|o<<17|l<<1}(0,h,f))}function RC(s,o,l){s.push(o<<1|1,l.name,l.value)}function tx(s,o,l=-1){const h=_n(),f=Ze(),_=22+s,D=po(h.consts,o),T=el();h.firstCreatePass&&function fR(s,o,l,h,f,_){const D=el(),T=[],E=[],O=[[]];f=function _R(s,o){if(function YS(s){return-1===s}(o))return KS(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,h=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return KS(s.substring(l,h))}}(f,_);const L=function NC(s){return s.replace(hR," ")}(f).split(dR);for(let z=0;z<L.length;z++){let se=L[z];if(0==(1&z)){const me=OC(se);for(let $e=0;$e<me.length;$e++){let dt=me[$e];if(0==(1&$e)){const wt=dt;""!==wt&&pR(s,D,O[0],T,E,l,wt)}else{const wt=dt;if("object"!=typeof wt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);aw(s,l,E,o,wt,qS(s,D,O[0],l,T,"",!0).index)}}}else{const me=47===se.charCodeAt(0),dt=(se.charCodeAt(me?1:0),22+Number.parseInt(se.substring(me?2:1)));if(me)O.shift(),gs(el(),!1);else{const wt=aR(s,O[0],dt);O.unshift([]),gs(wt,!0)}}}s.data[h]={create:T,update:E}}(h,null===T?0:T.index,f,_,D,l);const E=h.data[_],L=Va(h,T===f[6]?null:T,f);(function EC(s,o,l,h){const f=s[11];for(let _=0;_<o.length;_++){const D=o[_++],T=o[_],E=(D&Yi.COMMENT)===Yi.COMMENT,O=(D&Yi.APPEND_EAGERLY)===Yi.APPEND_EAGERLY,L=D>>>Yi.SHIFT;let z=s[L];null===z&&(z=s[L]=E?f.createComment(T):im(f,T)),O&&null!==l&&Ls(f,l,z,h,!1)}})(f,E.create,L,T&&8&T.type?f[T.index]:null),Du(!0)}function nx(s,o,l){tx(s,o,l),function dw(){Du(!1)}()}function PC(s){return function IC(s){s&&(ng|=1<<Math.min(rg,31)),rg++}(Rt(Ze(),_o(),s)),PC}function rx(s){!function TC(s,o,l){if(rg>0){const h=s.data[l];US(s,o,Array.isArray(h)?h:h.update,Hr()-rg-1,ng)}ng=0,rg=0}(_n(),Ze(),s+22)}function kC(s,o,l,h,f){if(s=ce(s),Array.isArray(s))for(let _=0;_<s.length;_++)kC(s[_],o,l,h,f);else{const _=_n(),D=Ze();let T=Zl(s)?s:ce(s.provide),E=Fc(s);const O=Jr(),L=1048575&O.providerIndexes,z=O.directiveStart,se=O.providerIndexes>>20;if(Zl(s)||!s.multi){const me=new Ta(E,f,Oh),$e=fw(T,o,f?L:L+se,z);-1===$e?(vo(al(O,D),_,T),FC(_,s,o.length),o.push(T),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(me),D.push(me)):(l[$e]=me,D[$e]=me)}else{const me=fw(T,o,L+se,z),$e=fw(T,o,L,L+se),dt=me>=0&&l[me],wt=$e>=0&&l[$e];if(f&&!wt||!f&&!dt){vo(al(O,D),_,T);const Pt=function ox(s,o,l,h,f){const _=new Ta(s,l,Oh);return _.multi=[],_.index=o,_.componentProviders=0,hw(_,f,h&&!l),_}(f?sx:ix,l.length,f,h,E);!f&&wt&&(l[$e].providerFactory=Pt),FC(_,s,o.length,0),o.push(T),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(Pt),D.push(Pt)}else FC(_,s,me>-1?me:$e,hw(l[f?$e:me],E,!f&&h));!f&&h&&wt&&l[$e].componentProviders++}}}function FC(s,o,l,h){const f=Zl(o),_=function Go(s){return!!s.useClass}(o);if(f||_){const E=(_?ce(o.useClass):o).prototype.ngOnDestroy;if(E){const O=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const L=O.indexOf(l);-1===L?O.push(l,[h,E]):O[L+1].push(h,E)}else O.push(l,E)}}}function hw(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function fw(s,o,l,h){for(let f=l;f<h;f++)if(o[f]===s)return f;return-1}function ix(s,o,l,h){return pw(this.multi,[])}function sx(s,o,l,h){const f=this.multi;let _;if(this.providerFactory){const D=this.providerFactory.componentProviders,T=sa(l,l[1],this.providerFactory.index,h);_=T.slice(0,D),pw(f,_);for(let E=D;E<T.length;E++)_.push(T[E])}else _=[],pw(f,_);return _}function pw(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function LC(s,o=[]){return l=>{l.providersResolver=(h,f)=>function AR(s,o,l){const h=_n();if(h.firstCreatePass){const f=gi(s);kC(l,h.data,h.blueprint,f,!0),kC(o,h.data,h.blueprint,f,!1)}}(h,f?f(s):s,o)}}class ig{}class BC{}function ax(s,o){return new lx(s,o??null)}class lx extends ig{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ff(this);const h=ji(o);this._bootstrapComponents=eu(h.bootstrap),this._r3Injector=fm(o,l,[{provide:ig,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],Ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class gw extends BC{constructor(o){super(),this.moduleType=o}create(o){return new lx(this.moduleType,o)}}class OR extends ig{constructor(o,l,h){super(),this.componentFactoryResolver=new Ff(this),this.instance=null;const f=new Do([...o,{provide:ig,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],l||Pc(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function mw(s,o,l=null){return new OR(s,o,l).injector}let ux=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=Td(0,l.type),f=h.length>0?mw([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=pn({token:s,providedIn:"environment",factory:()=>new s(ni(Ql))}),s})();function VC(s){s.getStandaloneInjector=o=>o.get(ux).getOrCreateStandaloneInjector(s)}function bw(s,o,l,h){return Dw(Ze(),Gr(),s,o,l,h)}function Zm(s,o,l,h,f){return function WC(s,o,l,h,f,_,D){const T=o+l;return hn(s,T,f,_)?_t(s,T+2,D?h.call(D,f,_):h(f,_)):jf(s,T+2)}(Ze(),Gr(),s,o,l,h,f)}function ww(s,o,l,h,f,_){return function ry(s,o,l,h,f,_,D,T){const E=o+l;return function Jt(s,o,l,h,f){const _=hn(s,o,l,h);return Rt(s,o+2,f)||_}(s,E,f,_,D)?_t(s,E+3,T?h.call(T,f,_,D):h(f,_,D)):jf(s,E+3)}(Ze(),Gr(),s,o,l,h,f,_)}function jf(s,o){const l=s[o];return l===ln?void 0:l}function Dw(s,o,l,h,f,_){const D=o+l;return Rt(s,D,f)?_t(s,D+1,_?h.call(_,f):h(f)):jf(s,D+1)}function zC(s,o){const l=_n();let h;const f=s+22;l.firstCreatePass?(h=function og(s,o){if(o)for(let l=o.length-1;l>=0;l--){const h=o[l];if(s===h.name)return h}}(o,l.pipeRegistry),l.data[f]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,h.onDestroy)):h=l.data[f];const _=h.factory||(h.factory=xo(h.type)),D=Cn(Oh);try{const T=Vl(!1),E=_();return Vl(T),function jM(s,o,l,h){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=h}(l,Ze(),f,E),E}finally{Cn(D)}}function qC(s,o,l){const h=s+22,f=Ze(),_=No(f,h);return function iy(s,o){return s[1].data[o].pure}(f,h)?Dw(f,Gr(),o,_.transform,l,_):_.transform(l)}function Kc(s){return o=>{setTimeout(s,void 0,o)}}const ou=class Io extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,h){let f=o,_=l||(()=>null),D=h;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),_=E.error?.bind(E),D=E.complete?.bind(E)}this.__isAsync&&(_=Kc(_),f&&(f=Kc(f)),D&&(D=Kc(D)));const T=super.subscribe({next:f,error:_,complete:D});return o instanceof k.w0&&o.add(T),T}};function _x(){return this._results[G()]()}class Cw{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=G(),h=Cw.prototype;h[l]||(h[l]=_x)}get changes(){return this._changes||(this._changes=new ou)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const h=this;h.dirty=!1;const f=qi(o);(this._changesDetected=!function Ms(s,o,l){if(s.length!==o.length)return!1;for(let h=0;h<s.length;h++){let f=s[h],_=o[h];if(l&&(f=l(f),_=l(_)),_!==f)return!1}return!0}(h._results,f,l))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ag=(()=>{class s{}return s.__NG_ELEMENT_ID__=JC,s})();const QC=ag,vx=class extends QC{constructor(o,l,h){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(o,l){const h=this._declarationTContainer.tViews,f=Im(this._declarationLView,h,o,16,null,h.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(f[19]=D.createEmbeddedView(h)),Em(h,f,o),new Kp(f)}};function JC(){return sy(Jr(),Ze())}function sy(s,o){return 4&s.type?new vx(o,s,M(s,o)):null}let Km=(()=>{class s{}return s.__NG_ELEMENT_ID__=XC,s})();function XC(){return eI(Jr(),Ze())}const oy=Km,Uh=class extends oy{constructor(o,l,h){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=h}get element(){return M(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const o=ll(this._hostTNode,this._hostLView);if(xu(o)){const l=Bl(o,this._hostLView),h=Sr(o);return new oa(l[1].data[h+8],l)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Bn(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,h){let f,_;"number"==typeof h?f=h:null!=h&&(f=h.index,_=h.injector);const D=o.createEmbeddedView(l||{},_);return this.insert(D,f),D}createComponent(o,l,h,f,_){const D=o&&!function zn(s){return"function"==typeof s}(o);let T;if(D)T=l;else{const z=l||{};T=z.index,h=z.injector,f=z.projectableNodes,_=z.environmentInjector||z.ngModuleRef}const E=D?o:new Ph(on(o)),O=h||this.parentInjector;if(!_&&null==E.ngModule){const se=(D?O:this.parentInjector).get(Ql,null);se&&(_=se)}const L=E.create(O,f,void 0,_);return this.insert(L.hostView,T),L}insert(o,l){const h=o._lView,f=h[1];if(function ss(s){return Qr(s[3])}(h)){const L=this.indexOf(o);if(-1!==L)this.detach(L);else{const z=h[3],se=new Uh(z,z[6],z[3]);se.detach(se.indexOf(o))}}const _=this._adjustIndex(l),D=this._lContainer;!function H0(s,o,l,h){const f=10+h,_=l.length;h>0&&(l[f-1][4]=o),h<_-10?(o[4]=l[f],ai(l,10+h,o)):(l.push(o),o[4]=null),o[3]=l;const D=o[17];null!==D&&l!==D&&function ED(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(D,o);const T=o[19];null!==T&&T.insertView(s),o[2]|=64}(f,h,D,_);const T=Th(_,D),E=h[11],O=Uc(E,D[7]);return null!==O&&function CD(s,o,l,h,f,_){h[0]=f,h[6]=o,Ef(s,h,l,1,f,_)}(f,D[6],E,h,O,T),o.attachToViewContainerRef(),ai(Wf(D),_,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Bn(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),h=om(this._lContainer,l);h&&(ir(Wf(this._lContainer),l),Df(h[1],h))}detach(o){const l=this._adjustIndex(o,-1),h=om(this._lContainer,l);return h&&null!=ir(Wf(this._lContainer),l)?new Kp(h):null}_adjustIndex(o,l=0){return o??this.length+l}};function Bn(s){return s[8]}function Wf(s){return s[8]||(s[8]=[])}function eI(s,o){let l;const h=o[s.index];if(Qr(h))l=h;else{let f;if(8&s.type)f=$r(h);else{const _=o[11];f=_.createComment("");const D=is(s,o);Ls(_,Uc(_,D),f,function W0(s,o){return s.nextSibling(o)}(_,D),!1)}o[s.index]=l=Tb(h,o,f,s),Rh(o,l)}return new Uh(l,s,o)}class Qm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Qm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const h=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let _=0;_<h;_++){const D=l.getByIndex(_);f.push(this.queries[D.indexInDeclarationView].clone())}return new Iw(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==oI(o,l).matches&&this.queries[l].setDirty()}}class Jm{constructor(o,l,h=null){this.predicate=o,this.flags=l,this.read=h}}class qf{constructor(o=[]){this.queries=o}elementStart(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let h=0;h<this.length;h++){const f=null!==l?l.length:0,_=this.getByIndex(h).embeddedTView(o,f);_&&(_.indexInDeclarationView=h,null!==l?l.push(_):l=[_])}return null!==l?new qf(l):null}template(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ay{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ay(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=o.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const _=h[f];this.matchTNodeWithReadOption(o,l,ly(l,_)),this.matchTNodeWithReadOption(o,l,ei(l,o,_,!1,!1))}else h===ag?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ei(l,o,h,!1,!1))}matchTNodeWithReadOption(o,l,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===V||f===Km||f===ag&&4&l.type)this.addMatch(l.index,-2);else{const _=ei(l,o,f,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,h)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function ly(s,o){const l=s.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===o)return l[h+1];return null}function Tw(s,o,l,h){return-1===l?function wx(s,o){return 11&s.type?M(s,o):4&s.type?sy(s,o):null}(o,s):-2===l?function uy(s,o,l){return l===V?M(o,s):l===ag?sy(o,s):l===Km?eI(o,s):void 0}(s,o,h):sa(s,s[1],l,o)}function Ew(s,o,l,h){const f=o[19].queries[h];if(null===f.matches){const _=s.data,D=l.matches,T=[];for(let E=0;E<D.length;E+=2){const O=D[E];T.push(O<0?null:Tw(o,_[O],D[E+1],l.metadata.read))}f.matches=T}return f.matches}function cy(s,o,l,h){const f=s.queries.getByIndex(l),_=f.matches;if(null!==_){const D=Ew(s,o,f,l);for(let T=0;T<_.length;T+=2){const E=_[T];if(E>0)h.push(D[T/2]);else{const O=_[T+1],L=o[-E];for(let z=10;z<L.length;z++){const se=L[z];se[17]===se[3]&&cy(se[1],se,O,h)}if(null!==L[9]){const z=L[9];for(let se=0;se<z.length;se++){const me=z[se];cy(me[1],me,O,h)}}}}}return h}function tI(s){const o=Ze(),l=_n(),h=Ia();Iu(h+1);const f=oI(l,h);if(s.dirty&&function zi(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const _=f.crossesNgTemplate?cy(l,o,h,[]):Ew(l,o,f,h);s.reset(_,le),s.notifyOnChanges()}return!0}return!1}function nI(s,o,l){const h=_n();h.firstCreatePass&&(sI(h,new Jm(s,o,l),-1),2==(2&o)&&(h.staticViewQueries=!0)),iI(h,Ze(),o)}function rI(s,o,l,h){const f=_n();if(f.firstCreatePass){const _=Jr();sI(f,new Jm(o,l,h),_.index),function Cx(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}iI(f,Ze(),l)}function Xm(){return function Dx(s,o){return s[19].queries[o].queryList}(Ze(),Ia())}function iI(s,o,l){const h=new Cw(4==(4&l));Ov(s,o,h,h.destroy),null===o[19]&&(o[19]=new Iw),o[19].queries.push(new Qm(h))}function sI(s,o,l){null===s.queries&&(s.queries=new qf),s.queries.track(new ay(o,l))}function oI(s,o){return s.queries.getByIndex(o)}function dy(s,o){return sy(s,o)}function fg(...s){}const pg=new pr("Application Initializer");let my=(()=>{class s{constructor(l){this.appInits=l,this.resolve=fg,this.reject=fg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(Ub(_))l.push(_);else if(YE(_)){const D=new Promise((T,E)=>{_.subscribe({complete:T,error:E})});l.push(D)}}Promise.all(l).then(()=>{h()}).catch(f=>{this.reject(f)}),0===l.length&&h(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ni(pg,8))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bI=new pr("AppId",{providedIn:"root",factory:function _y(){return`${vy()}${vy()}${vy()}`}});function vy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fw=new pr("Platform Initializer"),wI=new pr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),DI=new pr("appBootstrapListener");let Bw=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const by=new pr("LocaleId",{providedIn:"root",factory:()=>S(by,yt.Optional|yt.SkipSelf)||function Bx(){return typeof $localize<"u"&&$localize.locale||Gf}()}),Vw=new pr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class UR{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let $R=(()=>{class s{compileModuleSync(l){return new gw(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),_=eu(ji(l).declarations).reduce((D,T)=>{const E=on(T);return E&&D.push(new Ph(E)),D},[]);return new UR(h,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const n_=(()=>Promise.resolve(0))();function $w(s){typeof Zone>"u"?n_.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class vl{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ou(!1),this.onMicrotaskEmpty=new ou(!1),this.onStable=new ou(!1),this.onError=new ou(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&l,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function $x(){let s=Un.requestAnimationFrame,o=Un.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const h=o[Zone.__symbol__("OriginalDelegate")];h&&(o=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function gg(s){const o=()=>{!function Gx(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Un,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Qf(s),s.isCheckStableRunning=!0,Gw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Qf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,f,_,D,T)=>{try{return II(s),l.invokeTask(f,_,D,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&o(),TI(s)}},onInvoke:(l,h,f,_,D,T,E)=>{try{return II(s),l.invoke(f,_,D,T,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),TI(s)}},onHasTask:(l,h,f,_)=>{l.hasTask(f,_),h===f&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,Qf(s),Gw(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,h,f,_)=>(l.handleError(f,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vl.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(vl.isInAngularZone())throw new Le(909,!1)}run(o,l,h){return this._inner.run(o,l,h)}runTask(o,l,h,f){const _=this._inner,D=_.scheduleEventTask("NgZoneEvent: "+f,o,Dy,fg,fg);try{return _.runTask(D,l,h)}finally{_.cancelTask(D)}}runGuarded(o,l,h){return this._inner.runGuarded(o,l,h)}runOutsideAngular(o){return this._outer.run(o)}}const Dy={};function Gw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Qf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function II(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function TI(s){s._nesting--,Gw(s)}class r_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ou,this.onMicrotaskEmpty=new ou,this.onStable=new ou,this.onError=new ou}run(o,l,h){return o.apply(l,h)}runGuarded(o,l,h){return o.apply(l,h)}runOutsideAngular(o){return o()}runTask(o,l,h,f){return o.apply(l,h)}}const mg=new pr(""),EI=new pr("");let Hw,Hx=(()=>{class s{constructor(l,h,f){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hw||(function jx(s){Hw=s}(f),f.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vl.assertNotInAngularZone(),$w(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$w(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,f){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==_),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:f})}whenStable(l,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(ni(vl),ni(SI),ni(EI))},s.\u0275prov=pn({token:s,factory:s.\u0275fac}),s})(),SI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return Hw?.findTestabilityInTree(this,l,h)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Gh=null;const Wx=new pr("AllowMultipleToken"),jw=new pr("PlatformDestroyListeners");class qx{constructor(o,l){this.name=o,this.token=l}}function AI(s,o,l=[]){const h=`Platform: ${o}`,f=new pr(h);return(_=[])=>{let D=Ww();if(!D||D.injector.get(Wx,!1)){const T=[...l,..._,{provide:f,useValue:!0}];s?s(T):function Zx(s){if(Gh&&!Gh.get(Wx,!1))throw new Le(400,!1);Gh=s;const o=s.get(Iy);(function xI(s){const o=s.get(Fw,null);o&&o.forEach(l=>l())})(s)}(function NI(s=[],o){return ys.create({name:o,providers:[{provide:Yl,useValue:"platform"},{provide:jw,useValue:new Set([()=>Gh=null])},...s]})}(T,h))}return function Kx(s){const o=Ww();if(!o)throw new Le(401,!1);return o}()}}function Ww(){return Gh?.get(Iy)??null}let Iy=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const f=function Ty(s,o){let l;return l="noop"===s?new r_:("zone.js"===s?void 0:s)||new vl(o),l}(h?.ngZone,function zw(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:vl,useValue:f}];return f.run(()=>{const D=ys.create({providers:_,parent:this.injector,name:l.moduleType.name}),T=l.create(D),E=T.injector.get(Nd,null);if(!E)throw new Le(402,!1);return f.runOutsideAngular(()=>{const O=f.onError.subscribe({next:L=>{E.handleError(L)}});T.onDestroy(()=>{Sy(this._modules,T),O.unsubscribe()})}),function s_(s,o,l){try{const h=l();return Ub(h)?h.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):h}catch(h){throw o.runOutsideAngular(()=>s.handleError(h)),h}}(E,f,()=>{const O=T.injector.get(my);return O.runInitializers(),O.donePromise.then(()=>(Kb(T.injector.get(by,Gf)||Gf),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,h=[]){const f=OI({},h);return function Cy(s,o,l){const h=new gw(l);return Promise.resolve(h)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(l){const h=l.injector.get(Ey);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Le(403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(jw,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ni(ys))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function OI(s,o){return Array.isArray(o)?o.reduce(OI,s):{...s,...o}}let Ey=(()=>{class s{constructor(l,h,f){this._zone=l,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new W.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new W.y(T=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{vl.assertNotInAngularZone(),$w(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{vl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{E.unsubscribe(),O.unsubscribe()}});this.isStable=(0,be.T)(_,D.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const f=l instanceof Ku;if(!this._injector.get(my).done)throw!f&&us(l),new Le(405,false);let D;D=f?l:this._injector.get(v).resolveComponentFactory(l),this.componentTypes.push(D.componentType);const T=function zx(s){return s.isBoundToModule}(D)?void 0:this._injector.get(ig),O=D.create(ys.NULL,[],h||D.selector,T),L=O.location.nativeElement,z=O.injector.get(mg,null);return z?.registerApplication(L),O.onDestroy(()=>{this.detachView(O.hostView),Sy(this.components,O),z?.unregisterApplication(L)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Sy(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(DI,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Sy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Le(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(ni(vl),ni(Ql),ni(Nd))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Sy(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let qw=!0,Zw=!1;function Ay(){return Zw=!0,qw}function Ny(){if(Zw)throw new Error("Cannot enable prod mode after platform setup.");qw=!1}let Xx=(()=>{class s{}return s.__NG_ELEMENT_ID__=eA,s})();function eA(s){return function tA(s,o,l){if(ps(s)&&!l){const h=An(s.index,o);return new Kp(h,h)}return 47&s.type?new Kp(o[16],o):null}(Jr(),Ze(),16==(16&s))}class FI{constructor(){}supports(o){return ie(o)}create(o){return new Qw(o)}}const LI=(s,o)=>o;class Qw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||LI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,h=this._removalsHead,f=0,_=null;for(;l||h;){const D=!h||l&&l.currentIndex<UI(h,f,_)?l:h,T=UI(D,f,_),E=D.currentIndex;if(D===h)f--,h=h._nextRemoved;else if(l=l._next,null==D.previousIndex)f++;else{_||(_=[]);const O=T-f,L=E-f;if(O!=L){for(let se=0;se<O;se++){const me=se<_.length?_[se]:_[se]=0,$e=me+se;L<=$e&&$e<O&&(_[se]=me+1)}_[D.previousIndex]=L-O}}T!==E&&o(D,T,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!ie(o))throw new Le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,_,D,l=this._itHead,h=!1;if(Array.isArray(o)){this.length=o.length;for(let T=0;T<this.length;T++)_=o[T],D=this._trackByFn(T,_),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,_,D,T)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,D,T),h=!0),l=l._next}else f=0,function je(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[G()]();let h;for(;!(h=l.next()).done;)o(h.value)}}(o,T=>{D=this._trackByFn(f,T),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,T,D,f)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,D,f),h=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,h,f){let _;return null===o?_=this._itTail:(_=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,_,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,_,f)):o=this._addAfter(new BI(l,h),_,f),o}_verifyReinsertion(o,l,h,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?o=this._reinsertAfter(_,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,_=o._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(o,l,h),this._addToMoves(o,h),o}_moveAfter(o,l,h){return this._unlink(o),this._insertAfter(o,l,h),this._addToMoves(o,h),o}_addAfter(o,l,h){return this._insertAfter(o,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,h){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new sA),this._linkedRecords.put(o),o.currentIndex=h,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,h=o._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sA),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class BI{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,o))return h;return null}remove(o){const l=o._prevDup,h=o._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class sA{constructor(){this.map=new Map}put(o){const l=o.trackById;let h=this.map.get(l);h||(h=new VI,this.map.set(l,h)),h.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UI(s,o,l){const h=s.previousIndex;if(null===h)return h;let f=0;return l&&h<l.length&&(f=l[h]),h+o+f}class $I{constructor(){}supports(o){return o instanceof Map||qe(o)}create(){return new oA}}class oA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||qe(o)))throw new Le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(h,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(f,h);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const h=o._prev;return l._next=o,l._prev=h,o._prev=l,h&&(h._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const _=f._prev,D=f._next;return _&&(_._next=D),D&&(D._prev=_),f._next=null,f._prev=null,f}const h=new aA(o);return this._records.set(o,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(h=>l(o[h],h))}}class aA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function o_(){return new By([new FI])}let By=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(null!=h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||o_()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(null!=h)return h;throw new Le(901,!1)}}return s.\u0275prov=pn({token:s,providedIn:"root",factory:o_}),s})();function Vy(){return new Jw([new $I])}let Jw=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||Vy()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(h)return h;throw new Le(901,!1)}}return s.\u0275prov=pn({token:s,providedIn:"root",factory:Vy}),s})();const uA=AI(null,"core",[]);let cA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ni(Ey))},s.\u0275mod=kt({type:s}),s.\u0275inj=dn({}),s})();function dA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function rP(s,o){const l=on(s),h=o.elementInjector||Pc();return new Ph(l).create(h,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(At,Ge,j)=>{"use strict";j.d(Ge,{Z:()=>Le});var u=j(2090),k=j(4859),W=j(9681),be=j(1877);class ge{constructor(Oe,Me){this._delegate=Oe,this.firebase=Me,(0,W._addComponent)(Oe,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Oe,Me=W._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const St=this._delegate.container.getProvider(Oe);return!St.isInitialized()&&"EXPLICIT"===(null===(at=St.getComponent())||void 0===at?void 0:at.instantiationMode)&&St.initialize(),St.getImmediate({identifier:Me})}_removeServiceInstance(Oe,Me=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Me)}_addComponent(Oe){(0,W._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,W._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Ae(){const ht=function Ne(ht){const Oe={},Me={__esModule:!0,initializeApp:function He(ft,Q={}){const Re=W.initializeApp(ft,Q);if((0,u.r3)(Oe,Re.name))return Oe[Re.name];const ae=new ht(Re,Me);return Oe[Re.name]=ae,ae},app:St,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Fe(ft){const Q=ft.name,Re=Q.replace("-compat","");if(W._registerComponent(ft)&&"PUBLIC"===ft.type){const ae=(pe=St())=>{if("function"!=typeof pe[Re])throw Ie.create("invalid-app-argument",{appName:Q});return pe[Re]()};void 0!==ft.serviceProps&&(0,u.ZB)(ae,ft.serviceProps),Me[Re]=ae,ht.prototype[Re]=function(...pe){return this._getService.bind(this,Q).apply(this,ft.multipleInstances?pe:[])}}return"PUBLIC"===ft.type?Me[Re]:null},removeApp:function at(ft){delete Oe[ft]},useAsService:function st(ft,Q){return"serverAuth"===Q?null:Q},modularAPIs:W}};function St(ft){if(!(0,u.r3)(Oe,ft=ft||W._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:ft});return Oe[ft]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function ke(){return Object.keys(Oe).map(ft=>Oe[ft])}}),St.App=ht,Me}(ge);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Oe(Me){(0,u.ZB)(ht,Me)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ht}(),X=new be.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=J;!function Ue(ht){(0,W.registerVersion)("@firebase/app-compat","0.1.34",ht)}()},9681:(At,Ge,j)=>{"use strict";j.r(Ge),j.d(Ge,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>ts,_DEFAULT_ENTRY_NAME:()=>cn,_addComponent:()=>Vn,_addOrOverwriteComponent:()=>pn,_apps:()=>Yn,_clearComponents:()=>xi,_components:()=>dr,_getProvider:()=>dn,_registerComponent:()=>pi,_removeServiceInstance:()=>Qt,deleteApp:()=>vr,getApp:()=>Or,getApps:()=>Ai,initializeApp:()=>hr,onLog:()=>Hi,registerVersion:()=>Gi,setLogLevel:()=>Cn});var u=j(5861),k=j(4859),W=j(1877),be=j(2090),ge=j(8766);class Ce{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function Ie(K){return"VERSION"===K.getComponent()?.type}(re)){const ze=re.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(re=>re).join(" ")}}const Ne="@firebase/app",J=new W.Yd("@firebase/app"),cn="[DEFAULT]",pt={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yn=new Map,dr=new Map;function Vn(K,ne){try{K.container.addComponent(ne)}catch(re){J.debug(`Component ${ne.name} failed to register with FirebaseApp ${K.name}`,re)}}function pn(K,ne){K.container.addOrOverwriteComponent(ne)}function pi(K){const ne=K.name;if(dr.has(ne))return J.debug(`There were multiple attempts to register component ${ne}.`),!1;dr.set(ne,K);for(const re of Yn.values())Vn(re,K);return!0}function dn(K,ne){const re=K.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),K.container.getProvider(ne)}function Qt(K,ne,re=cn){dn(K,ne).clearInstance(re)}function xi(){dr.clear()}const kn=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wr{constructor(ne,re,ze){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=ze,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const ts="9.10.0";function hr(K,ne={}){"object"!=typeof ne&&(ne={name:ne});const re=Object.assign({name:cn,automaticDataCollectionEnabled:!1},ne),ze=re.name;if("string"!=typeof ze||!ze)throw kn.create("bad-app-name",{appName:String(ze)});const ct=Yn.get(ze);if(ct){if((0,be.vZ)(K,ct.options)&&(0,be.vZ)(re,ct.config))return ct;throw kn.create("duplicate-app",{appName:ze})}const kt=new k.H0(ze);for(const Fn of dr.values())kt.addComponent(Fn);const or=new Wr(K,re,kt);return Yn.set(ze,or),or}function Or(K=cn){const ne=Yn.get(K);if(!ne)throw kn.create("no-app",{appName:K});return ne}function Ai(){return Array.from(Yn.values())}function vr(K){return yt.apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(K){const ne=K.name;Yn.has(ne)&&(Yn.delete(ne),yield Promise.all(K.container.getProviders().map(re=>re.delete())),K.isDeleted=!0)})).apply(this,arguments)}function Gi(K,ne,re){var ze;let ct=null!==(ze=pt[K])&&void 0!==ze?ze:K;re&&(ct+=`-${re}`);const kt=ct.match(/\s|\//),or=ne.match(/\s|\//);if(kt||or){const Fn=[`Unable to register library "${ct}" with version "${ne}":`];return kt&&Fn.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),kt&&or&&Fn.push("and"),or&&Fn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void J.warn(Fn.join(" "))}pi(new k.wA(`${ct}-version`,()=>({library:ct,version:ne}),"VERSION"))}function Hi(K,ne){if(null!==K&&"function"!=typeof K)throw kn.create("invalid-log-argument");(0,W.Am)(K,ne)}function Cn(K){(0,W.Ub)(K)}const Fr="firebase-heartbeat-store";let wr=null;function fr(){return wr||(wr=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(K,ne)=>{0===ne&&K.createObjectStore(Fr)}}).catch(K=>{throw kn.create("idb-open",{originalErrorMessage:K.message})})),wr}function Ot(){return(Ot=(0,u.Z)(function*(K){var ne;try{return(yield fr()).transaction(Fr).objectStore(Fr).get(Br(K))}catch(re){if(re instanceof be.ZR)J.warn(re.message);else{const ze=kn.create("idb-get",{originalErrorMessage:null===(ne=re)||void 0===ne?void 0:ne.message});J.warn(ze.message)}}})).apply(this,arguments)}function Un(K,ne){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(K,ne){var re;try{const ct=(yield fr()).transaction(Fr,"readwrite");return yield ct.objectStore(Fr).put(ne,Br(K)),ct.done}catch(ze){if(ze instanceof be.ZR)J.warn(ze.message);else{const ct=kn.create("idb-set",{originalErrorMessage:null===(re=ze)||void 0===re?void 0:re.message});J.warn(ct.message)}}})).apply(this,arguments)}function Br(K){return`${K.name}!${K.options.appId}`}class Is{constructor(ne){this.container=ne,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new In(re),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var ne=this;return(0,u.Z)(function*(){const ze=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=Sn();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==ct&&!ne._heartbeatsCache.heartbeats.some(kt=>kt.date===ct))return ne._heartbeatsCache.heartbeats.push({date:ct,agent:ze}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(kt=>{const or=new Date(kt.date).valueOf();return Date.now()-or<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,u.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const re=Sn(),{heartbeatsToSend:ze,unsentEntries:ct}=function ns(K,ne=1024){const re=[];let ze=K.slice();for(const ct of K){const kt=re.find(or=>or.agent===ct.agent);if(kt){if(kt.dates.push(ct.date),oe(re)>ne){kt.dates.pop();break}}else if(re.push({agent:ct.agent,dates:[ct.date]}),oe(re)>ne){re.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:re,unsentEntries:ze}}(ne._heartbeatsCache.heartbeats),kt=(0,be.L)(JSON.stringify({version:2,heartbeats:ze}));return ne._heartbeatsCache.lastSentHeartbeatDate=re,ct.length>0?(ne._heartbeatsCache.heartbeats=ct,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),kt})()}}function Sn(){return(new Date).toISOString().substring(0,10)}class In{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,u.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function Ft(K){return Ot.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var re=this;return(0,u.Z)(function*(){var ze;if(yield re._canUseIndexedDBPromise){const kt=yield re.read();return Un(re.app,{lastSentHeartbeatDate:null!==(ze=ne.lastSentHeartbeatDate)&&void 0!==ze?ze:kt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var re=this;return(0,u.Z)(function*(){var ze;if(yield re._canUseIndexedDBPromise){const kt=yield re.read();return Un(re.app,{lastSentHeartbeatDate:null!==(ze=ne.lastSentHeartbeatDate)&&void 0!==ze?ze:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...ne.heartbeats]})}})()}}function oe(K){return(0,be.L)(JSON.stringify({version:2,heartbeats:K})).length}!function te(K){pi(new k.wA("platform-logger",ne=>new Ce(ne),"PRIVATE")),pi(new k.wA("heartbeat",ne=>new Is(ne),"PRIVATE")),Gi(Ne,"0.7.33",K),Gi(Ne,"0.7.33","esm2017"),Gi("fire-js","")}("")},4859:(At,Ge,j)=>{"use strict";j.d(Ge,{H0:()=>Ne,wA:()=>W});var u=j(5861),k=j(2090);class W{constructor(J,X,ce){this.name=J,this.instanceFactory=X,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const be="[DEFAULT]";class ge{constructor(J,X){this.name=J,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const X=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(X)){const ce=new k.BH;if(this.instancesDeferred.set(X,ce),this.isInitialized(X)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:X});tt&&ce.resolve(tt)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(J){var X;const ce=this.normalizeInstanceIdentifier(J?.identifier),tt=null!==(X=J?.optional)&&void 0!==X&&X;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(Ue){if(tt)return null;throw Ue}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Ie(Ae){return"EAGER"===Ae.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[X,ce]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(X);try{const Ue=this.getOrInitializeService({instanceIdentifier:tt});ce.resolve(Ue)}catch{}}}}clearInstance(J=be){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,u.Z)(function*(){const X=Array.from(J.instances.values());yield Promise.all([...X.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...X.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=be){return this.instances.has(J)}getOptions(J=be){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:X={}}=J,ce=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:ce,options:X});for(const[Ue,Le]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(Ue)&&Le.resolve(tt);return tt}onInit(J,X){var ce;const tt=this.normalizeInstanceIdentifier(X),Ue=null!==(ce=this.onInitCallbacks.get(tt))&&void 0!==ce?ce:new Set;Ue.add(J),this.onInitCallbacks.set(tt,Ue);const Le=this.instances.get(tt);return Le&&J(Le,tt),()=>{Ue.delete(J)}}invokeOnInitCallbacks(J,X){const ce=this.onInitCallbacks.get(X);if(ce)for(const tt of ce)try{tt(J,X)}catch{}}getOrInitializeService({instanceIdentifier:J,options:X={}}){let ce=this.instances.get(J);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=J,Ae===be?void 0:Ae),options:X}),this.instances.set(J,ce),this.instancesOptions.set(J,X),this.invokeOnInitCallbacks(ce,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ce)}catch{}var Ae;return ce||null}normalizeInstanceIdentifier(J=be){return this.component?this.component.multipleInstances?J:be:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const X=this.getProvider(J.name);if(X.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);X.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const X=new ge(J,this);return this.providers.set(J,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(At,Ge,j)=>{"use strict";j.d(Ge,{Am:()=>Ae,Ub:()=>Ne,Yd:()=>Ie,in:()=>k});const u=[];var k=(()=>{return(J=k||(k={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",k;var J})();const W={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},be=k.INFO,ge={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},Ce=(J,X,...ce)=>{if(X<J.logLevel)return;const tt=(new Date).toISOString(),Ue=ge[X];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Ue](`[${tt}]  ${J.name}:`,...ce)};class Ie{constructor(X){this.name=X,this._logLevel=be,this._logHandler=Ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in k))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?W[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...X),this._logHandler(this,k.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...X),this._logHandler(this,k.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,k.INFO,...X),this._logHandler(this,k.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,k.WARN,...X),this._logHandler(this,k.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...X),this._logHandler(this,k.ERROR,...X)}}function Ne(J){u.forEach(X=>{X.setLogLevel(J)})}function Ae(J,X){for(const ce of u){let tt=null;X&&X.level&&(tt=W[X.level]),ce.userLogHandler=null===J?null:(Ue,Le,...ht)=>{const Oe=ht.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Le>=(tt??Ue.logLevel)&&J({level:k[Le].toLowerCase(),message:Oe,args:ht,type:Ue.name})}}}},8766:(At,Ge,j)=>{"use strict";j.d(Ge,{Lj:()=>He,X3:()=>St});var u=j(5861);let W,be;const Ie=new WeakMap,Ne=new WeakMap,Ae=new WeakMap,J=new WeakMap,X=new WeakMap;let Ue={get(Q,Re,ae){if(Q instanceof IDBTransaction){if("done"===Re)return Ne.get(Q);if("objectStoreNames"===Re)return Q.objectStoreNames||Ae.get(Q);if("store"===Re)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Me(Q[Re])},set:(Q,Re,ae)=>(Q[Re]=ae,!0),has:(Q,Re)=>Q instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in Q};function Oe(Q){return"function"==typeof Q?function ht(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...Re){return Q.apply(at(this),Re),Me(Ie.get(this))}:function(...Re){return Me(Q.apply(at(this),Re))}:function(Re,...ae){const pe=Q.call(at(this),Re,...ae);return Ae.set(pe,Re.sort?Re.sort():[Re]),Me(pe)}}(Q):(Q instanceof IDBTransaction&&function tt(Q){if(Ne.has(Q))return;const Re=new Promise((ae,pe)=>{const ye=()=>{Q.removeEventListener("complete",ve),Q.removeEventListener("error",rt),Q.removeEventListener("abort",rt)},ve=()=>{ae(),ye()},rt=()=>{pe(Q.error||new DOMException("AbortError","AbortError")),ye()};Q.addEventListener("complete",ve),Q.addEventListener("error",rt),Q.addEventListener("abort",rt)});Ne.set(Q,Re)}(Q),((Q,Re)=>Re.some(ae=>Q instanceof ae))(Q,function ge(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Ue):Q)}function Me(Q){if(Q instanceof IDBRequest)return function ce(Q){const Re=new Promise((ae,pe)=>{const ye=()=>{Q.removeEventListener("success",ve),Q.removeEventListener("error",rt)},ve=()=>{ae(Me(Q.result)),ye()},rt=()=>{pe(Q.error),ye()};Q.addEventListener("success",ve),Q.addEventListener("error",rt)});return Re.then(ae=>{ae instanceof IDBCursor&&Ie.set(ae,Q)}).catch(()=>{}),X.set(Re,Q),Re}(Q);if(J.has(Q))return J.get(Q);const Re=Oe(Q);return Re!==Q&&(J.set(Q,Re),X.set(Re,Q)),Re}const at=Q=>X.get(Q);function St(Q,Re,{blocked:ae,upgrade:pe,blocking:ye,terminated:ve}={}){const rt=indexedDB.open(Q,Re),Je=Me(rt);return pe&&rt.addEventListener("upgradeneeded",Mt=>{pe(Me(rt.result),Mt.oldVersion,Mt.newVersion,Me(rt.transaction))}),ae&&rt.addEventListener("blocked",()=>ae()),Je.then(Mt=>{ve&&Mt.addEventListener("close",()=>ve()),ye&&Mt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),Je}function He(Q,{blocked:Re}={}){const ae=indexedDB.deleteDatabase(Q);return Re&&ae.addEventListener("blocked",()=>Re()),Me(ae).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],st=new Map;function ft(Q,Re){if(!(Q instanceof IDBDatabase)||Re in Q||"string"!=typeof Re)return;if(st.get(Re))return st.get(Re);const ae=Re.replace(/FromIndex$/,""),pe=Re!==ae,ye=Fe.includes(ae);if(!(ae in(pe?IDBIndex:IDBObjectStore).prototype)||!ye&&!ke.includes(ae))return;const ve=function(){var rt=(0,u.Z)(function*(Je,...Mt){const Tn=this.transaction(Je,ye?"readwrite":"readonly");let cn=Tn.store;return pe&&(cn=cn.index(Mt.shift())),(yield Promise.all([cn[ae](...Mt),ye&&Tn.done]))[0]});return function(Mt){return rt.apply(this,arguments)}}();return st.set(Re,ve),ve}!function Le(Q){Ue=Q(Ue)}(Q=>({...Q,get:(Re,ae,pe)=>ft(Re,ae)||Q.get(Re,ae,pe),has:(Re,ae)=>!!ft(Re,ae)||Q.has(Re,ae)}))},5861:(At,Ge,j)=>{"use strict";function u(W,be,ge,Ce,Ie,Ne,Ae){try{var J=W[Ne](Ae),X=J.value}catch(ce){return void ge(ce)}J.done?be(X):Promise.resolve(X).then(Ce,Ie)}function k(W){return function(){var be=this,ge=arguments;return new Promise(function(Ce,Ie){var Ne=W.apply(be,ge);function Ae(X){u(Ne,Ce,Ie,Ae,J,"next",X)}function J(X){u(Ne,Ce,Ie,Ae,J,"throw",X)}Ae(void 0)})}}j.d(Ge,{Z:()=>k})}},At=>{At(At.s=7021)}]);