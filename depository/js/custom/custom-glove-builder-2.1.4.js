(()=>{"use strict";var e,b={},d={};function t(e){var o=d[e];if(void 0!==o)return o.exports;var r=d[e]={id:e,loaded:!1,exports:{}};return b[e].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.m=b,e=[],t.O=(o,r,a,f)=>{if(!r){var i=1/0;for(n=0;n<e.length;n++){for(var[r,a,f]=e[n],c=!0,s=0;s<r.length;s++)(!1&f||i>=f)&&Object.keys(t.O).every(u=>t.O[u](r[s]))?r.splice(s--,1):(c=!1,f<i&&(i=f));if(c){e.splice(n--,1);var l=a();void 0!==l&&(o=l)}}return o}f=f||0;for(var n=e.length;n>0&&e[n-1][2]>f;n--)e[n]=e[n-1];e[n]=[r,a,f]},(()=>{var o,e=Object.getPrototypeOf?r=>Object.getPrototypeOf(r):r=>r.__proto__;t.t=function(r,a){if(1&a&&(r=this(r)),8&a||"object"==typeof r&&r&&(4&a&&r.__esModule||16&a&&"function"==typeof r.then))return r;var f=Object.create(null);t.r(f);var n={};o=o||[null,e({}),e([]),e(e)];for(var i=2&a&&r;"object"==typeof i&&!~o.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach(c=>n[c]=()=>r[c]);return n.default=()=>r,t.d(f,n),f}})(),t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={666:0};t.O.j=a=>0===e[a];var o=(a,f)=>{var s,l,[n,i,c]=f,p=0;if(n.some(_=>0!==e[_])){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(c)var h=c(t)}for(a&&a(f);p<n.length;p++)t.o(e,l=n[p])&&e[l]&&e[l][0](),e[l]=0;return t.O(h)},r=self.webpackChunknystixTools=self.webpackChunknystixTools||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})()})();
"use strict";(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[429],{5565:(jt,zn,Kn)=>{Error;const $o=function(s,...e){if($o.translate){const n=$o.translate(s,e);s=n[0],e=n[1]}let t=Wl(s[0],s.raw[0]);for(let n=1;n<s.length;n++)t+=e[n-1]+Wl(s[n],s.raw[n]);return t};function Wl(s,e){return":"===e.charAt(0)?s.substring(function Hl(s,e){for(let t=1,n=1;t<s.length;t++,n++)if("\\"===e[n])n++;else if(":"===s[t])return t;throw new Error(`Unterminated $localize metadata block in "${e}".`)}(s,e)+1):s}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=$o,Kn(8583)},8583:()=>{!function(d){const v=d.performance;function T(de){v&&v.mark&&v.mark(de)}function _(de,q){v&&v.measure&&v.measure(de,q)}T("Zone");const S=d.__Zone_symbol_prefix||"__zone_symbol__";function A(de){return S+de}const H=!0===d[A("forceDuplicateZoneCheck")];if(d.Zone){if(H||"function"!=typeof d.Zone.__symbol__)throw new Error("Zone already loaded.");return d.Zone}let U=(()=>{class de{constructor(h,m){this._parent=h,this._name=m?m.name||"unnamed":"<root>",this._properties=m&&m.properties||{},this._zoneDelegate=new Q(this,this._parent&&this._parent._zoneDelegate,m)}static assertZonePatched(){if(d.Promise!==Qe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let h=de.current;for(;h.parent;)h=h.parent;return h}static get current(){return Me.zone}static get currentTask(){return $e}static __load_patch(h,m,X=!1){if(Qe.hasOwnProperty(h)){if(!X&&H)throw Error("Already loaded patch: "+h)}else if(!d["__Zone_disable_"+h]){const ne="Zone:"+h;T(ne),Qe[h]=m(d,de,Le),_(ne,ne)}}get parent(){return this._parent}get name(){return this._name}get(h){const m=this.getZoneWith(h);if(m)return m._properties[h]}getZoneWith(h){let m=this;for(;m;){if(m._properties.hasOwnProperty(h))return m;m=m._parent}return null}fork(h){if(!h)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,h)}wrap(h,m){if("function"!=typeof h)throw new Error("Expecting function got: "+h);const X=this._zoneDelegate.intercept(this,h,m),ne=this;return function(){return ne.runGuarded(X,this,arguments,m)}}run(h,m,X,ne){Me={parent:Me,zone:this};try{return this._zoneDelegate.invoke(this,h,m,X,ne)}finally{Me=Me.parent}}runGuarded(h,m=null,X,ne){Me={parent:Me,zone:this};try{try{return this._zoneDelegate.invoke(this,h,m,X,ne)}catch(B){if(this._zoneDelegate.handleError(this,B))throw B}}finally{Me=Me.parent}}runTask(h,m,X){if(h.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");if(h.state===K&&(h.type===Ye||h.type===te))return;const ne=h.state!=W;ne&&h._transitionTo(W,le),h.runCount++;const B=$e;$e=h,Me={parent:Me,zone:this};try{h.type==te&&h.data&&!h.data.isPeriodic&&(h.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,h,m,X)}catch(b){if(this._zoneDelegate.handleError(this,b))throw b}}finally{h.state!==K&&h.state!==L&&(h.type==Ye||h.data&&h.data.isPeriodic?ne&&h._transitionTo(le,W):(h.runCount=0,this._updateTaskCount(h,-1),ne&&h._transitionTo(K,W,K))),Me=Me.parent,$e=B}}scheduleTask(h){if(h.zone&&h.zone!==this){let X=this;for(;X;){if(X===h.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${h.zone.name}`);X=X.parent}}h._transitionTo(Te,K);const m=[];h._zoneDelegates=m,h._zone=this;try{h=this._zoneDelegate.scheduleTask(this,h)}catch(X){throw h._transitionTo(L,Te,K),this._zoneDelegate.handleError(this,X),X}return h._zoneDelegates===m&&this._updateTaskCount(h,1),h.state==Te&&h._transitionTo(le,Te),h}scheduleMicroTask(h,m,X,ne){return this.scheduleTask(new z(J,h,m,X,ne,void 0))}scheduleMacroTask(h,m,X,ne,B){return this.scheduleTask(new z(te,h,m,X,ne,B))}scheduleEventTask(h,m,X,ne,B){return this.scheduleTask(new z(Ye,h,m,X,ne,B))}cancelTask(h){if(h.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(h.zone||Be).name+"; Execution: "+this.name+")");h._transitionTo(Ce,le,W);try{this._zoneDelegate.cancelTask(this,h)}catch(m){throw h._transitionTo(L,Ce),this._zoneDelegate.handleError(this,m),m}return this._updateTaskCount(h,-1),h._transitionTo(K,Ce),h.runCount=0,h}_updateTaskCount(h,m){const X=h._zoneDelegates;-1==m&&(h._zoneDelegates=null);for(let ne=0;ne<X.length;ne++)X[ne]._updateTaskCount(h.type,m)}}return de.__symbol__=A,de})();const $={name:"",onHasTask:(de,q,h,m)=>de.hasTask(h,m),onScheduleTask:(de,q,h,m)=>de.scheduleTask(h,m),onInvokeTask:(de,q,h,m,X,ne)=>de.invokeTask(h,m,X,ne),onCancelTask:(de,q,h,m)=>de.cancelTask(h,m)};class Q{constructor(q,h,m){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=q,this._parentDelegate=h,this._forkZS=m&&(m&&m.onFork?m:h._forkZS),this._forkDlgt=m&&(m.onFork?h:h._forkDlgt),this._forkCurrZone=m&&(m.onFork?this.zone:h._forkCurrZone),this._interceptZS=m&&(m.onIntercept?m:h._interceptZS),this._interceptDlgt=m&&(m.onIntercept?h:h._interceptDlgt),this._interceptCurrZone=m&&(m.onIntercept?this.zone:h._interceptCurrZone),this._invokeZS=m&&(m.onInvoke?m:h._invokeZS),this._invokeDlgt=m&&(m.onInvoke?h:h._invokeDlgt),this._invokeCurrZone=m&&(m.onInvoke?this.zone:h._invokeCurrZone),this._handleErrorZS=m&&(m.onHandleError?m:h._handleErrorZS),this._handleErrorDlgt=m&&(m.onHandleError?h:h._handleErrorDlgt),this._handleErrorCurrZone=m&&(m.onHandleError?this.zone:h._handleErrorCurrZone),this._scheduleTaskZS=m&&(m.onScheduleTask?m:h._scheduleTaskZS),this._scheduleTaskDlgt=m&&(m.onScheduleTask?h:h._scheduleTaskDlgt),this._scheduleTaskCurrZone=m&&(m.onScheduleTask?this.zone:h._scheduleTaskCurrZone),this._invokeTaskZS=m&&(m.onInvokeTask?m:h._invokeTaskZS),this._invokeTaskDlgt=m&&(m.onInvokeTask?h:h._invokeTaskDlgt),this._invokeTaskCurrZone=m&&(m.onInvokeTask?this.zone:h._invokeTaskCurrZone),this._cancelTaskZS=m&&(m.onCancelTask?m:h._cancelTaskZS),this._cancelTaskDlgt=m&&(m.onCancelTask?h:h._cancelTaskDlgt),this._cancelTaskCurrZone=m&&(m.onCancelTask?this.zone:h._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const X=m&&m.onHasTask;(X||h&&h._hasTaskZS)&&(this._hasTaskZS=X?m:$,this._hasTaskDlgt=h,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=q,m.onScheduleTask||(this._scheduleTaskZS=$,this._scheduleTaskDlgt=h,this._scheduleTaskCurrZone=this.zone),m.onInvokeTask||(this._invokeTaskZS=$,this._invokeTaskDlgt=h,this._invokeTaskCurrZone=this.zone),m.onCancelTask||(this._cancelTaskZS=$,this._cancelTaskDlgt=h,this._cancelTaskCurrZone=this.zone))}fork(q,h){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,q,h):new U(q,h)}intercept(q,h,m){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,q,h,m):h}invoke(q,h,m,X,ne){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,q,h,m,X,ne):h.apply(m,X)}handleError(q,h){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,q,h)}scheduleTask(q,h){let m=h;if(this._scheduleTaskZS)this._hasTaskZS&&m._zoneDelegates.push(this._hasTaskDlgtOwner),m=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,q,h),m||(m=h);else if(h.scheduleFn)h.scheduleFn(h);else{if(h.type!=J)throw new Error("Task is missing scheduleFn.");ie(h)}return m}invokeTask(q,h,m,X){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,q,h,m,X):h.callback.apply(m,X)}cancelTask(q,h){let m;if(this._cancelTaskZS)m=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,q,h);else{if(!h.cancelFn)throw Error("Task is not cancelable");m=h.cancelFn(h)}return m}hasTask(q,h){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,q,h)}catch(m){this.handleError(q,m)}}_updateTaskCount(q,h){const m=this._taskCounts,X=m[q],ne=m[q]=X+h;if(ne<0)throw new Error("More tasks executed then were scheduled.");0!=X&&0!=ne||this.hasTask(this.zone,{microTask:m.microTask>0,macroTask:m.macroTask>0,eventTask:m.eventTask>0,change:q})}}class z{constructor(q,h,m,X,ne,B){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=q,this.source=h,this.data=X,this.scheduleFn=ne,this.cancelFn=B,!m)throw new Error("callback is not defined");this.callback=m;const b=this;this.invoke=q===Ye&&X&&X.useG?z.invokeTask:function(){return z.invokeTask.call(d,b,this,arguments)}}static invokeTask(q,h,m){q||(q=this),Ie++;try{return q.runCount++,q.zone.runTask(q,h,m)}finally{1==Ie&&R(),Ie--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(K,Te)}_transitionTo(q,h,m){if(this._state!==h&&this._state!==m)throw new Error(`${this.type} '${this.source}': can not transition to '${q}', expecting state '${h}'${m?" or '"+m+"'":""}, was '${this._state}'.`);this._state=q,q==K&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Ee=A("setTimeout"),ue=A("Promise"),re=A("then");let Ke,De=[],we=!1;function ke(de){if(Ke||d[ue]&&(Ke=d[ue].resolve(0)),Ke){let q=Ke[re];q||(q=Ke.then),q.call(Ke,de)}else d[Ee](de,0)}function ie(de){0===Ie&&0===De.length&&ke(R),de&&De.push(de)}function R(){if(!we){for(we=!0;De.length;){const de=De;De=[];for(let q=0;q<de.length;q++){const h=de[q];try{h.zone.runTask(h,null,null)}catch(m){Le.onUnhandledError(m)}}}Le.microtaskDrainDone(),we=!1}}const Be={name:"NO ZONE"},K="notScheduled",Te="scheduling",le="scheduled",W="running",Ce="canceling",L="unknown",J="microTask",te="macroTask",Ye="eventTask",Qe={},Le={symbol:A,currentZoneFrame:()=>Me,onUnhandledError:x,microtaskDrainDone:x,scheduleMicroTask:ie,showUncaughtError:()=>!U[A("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:x,patchMethod:()=>x,bindArguments:()=>[],patchThen:()=>x,patchMacroTask:()=>x,patchEventPrototype:()=>x,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>x,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>x,wrapWithCurrentZone:()=>x,filterProperties:()=>[],attachOriginToPatched:()=>x,_redefineProperty:()=>x,patchCallbacks:()=>x,nativeScheduleMicroTask:ke};let Me={parent:null,zone:new U(null,null)},$e=null,Ie=0;function x(){}_("Zone","Zone"),d.Zone=U}(typeof window<"u"&&window||typeof self<"u"&&self||global);const jt=Object.getOwnPropertyDescriptor,zn=Object.defineProperty,Kn=Object.getPrototypeOf,Oe=Object.create,mt=Array.prototype.slice,In="addEventListener",bn="removeEventListener",Ts=Zone.__symbol__(In),Zn=Zone.__symbol__(bn),gt="true",ee="false",ln=Zone.__symbol__("");function cn(d,v){return Zone.current.wrap(d,v)}function Dn(d,v,T,_,S){return Zone.current.scheduleMacroTask(d,v,T,_,S)}const ye=Zone.__symbol__,vt=typeof window<"u",Nt=vt?window:void 0,He=vt&&Nt||"object"==typeof self&&self||global;function xs(d,v){for(let T=d.length-1;T>=0;T--)"function"==typeof d[T]&&(d[T]=cn(d[T],v+"_"+T));return d}function lt(d){return!d||!1!==d.writable&&!("function"==typeof d.get&&typeof d.set>"u")}const Xn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,pn=!("nw"in He)&&typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process),Cs=!pn&&!Xn&&!(!vt||!Nt.HTMLElement),pe=typeof He.process<"u"&&"[object process]"==={}.toString.call(He.process)&&!Xn&&!(!vt||!Nt.HTMLElement),je={},ur=function(d){if(!(d=d||He.event))return;let v=je[d.type];v||(v=je[d.type]=ye("ON_PROPERTY"+d.type));const T=this||d.target||He,_=T[v];let S;if(Cs&&T===Nt&&"error"===d.type){const A=d;S=_&&_.call(this,A.message,A.filename,A.lineno,A.colno,A.error),!0===S&&d.preventDefault()}else S=_&&_.apply(this,arguments),null!=S&&!S&&d.preventDefault();return S};function lr(d,v,T){let _=jt(d,v);if(!_&&T&&jt(T,v)&&(_={enumerable:!0,configurable:!0}),!_||!_.configurable)return;const S=ye("on"+v+"patched");if(d.hasOwnProperty(S)&&d[S])return;delete _.writable,delete _.value;const A=_.get,H=_.set,U=v.slice(2);let $=je[U];$||($=je[U]=ye("ON_PROPERTY"+U)),_.set=function(Q){let z=this;!z&&d===He&&(z=He),z&&("function"==typeof z[$]&&z.removeEventListener(U,ur),H&&H.call(z,null),z[$]=Q,"function"==typeof Q&&z.addEventListener(U,ur,!1))},_.get=function(){let Q=this;if(!Q&&d===He&&(Q=He),!Q)return null;const z=Q[$];if(z)return z;if(A){let Ee=A.call(this);if(Ee)return _.set.call(this,Ee),"function"==typeof Q.removeAttribute&&Q.removeAttribute(v),Ee}return null},zn(d,v,_),d[S]=!0}function cr(d,v,T){if(v)for(let _=0;_<v.length;_++)lr(d,"on"+v[_],T);else{const _=[];for(const S in d)"on"==S.slice(0,2)&&_.push(S);for(let S=0;S<_.length;S++)lr(d,_[S],T)}}const et=ye("originalInstance");function Yn(d){const v=He[d];if(!v)return;He[ye(d)]=v,He[d]=function(){const S=xs(arguments,d);switch(S.length){case 0:this[et]=new v;break;case 1:this[et]=new v(S[0]);break;case 2:this[et]=new v(S[0],S[1]);break;case 3:this[et]=new v(S[0],S[1],S[2]);break;case 4:this[et]=new v(S[0],S[1],S[2],S[3]);break;default:throw new Error("Arg list too long.")}},kt(He[d],v);const T=new v(function(){});let _;for(_ in T)"XMLHttpRequest"===d&&"responseBlob"===_||function(S){"function"==typeof T[S]?He[d].prototype[S]=function(){return this[et][S].apply(this[et],arguments)}:zn(He[d].prototype,S,{set:function(A){"function"==typeof A?(this[et][S]=cn(A,d+"."+S),kt(this[et][S],A)):this[et][S]=A},get:function(){return this[et][S]}})}(_);for(_ in v)"prototype"!==_&&v.hasOwnProperty(_)&&(He[d][_]=v[_])}function Pt(d,v,T){let _=d;for(;_&&!_.hasOwnProperty(v);)_=Kn(_);!_&&d[v]&&(_=d);const S=ye(v);let A=null;if(_&&(!(A=_[S])||!_.hasOwnProperty(S))&&(A=_[S]=_[v],lt(_&&jt(_,v)))){const U=T(A,S,v);_[v]=function(){return U(this,arguments)},kt(_[v],A)}return A}function ai(d,v,T){let _=null;function S(A){const H=A.data;return H.args[H.cbIdx]=function(){A.invoke.apply(this,arguments)},_.apply(H.target,H.args),A}_=Pt(d,v,A=>function(H,U){const $=T(H,U);return $.cbIdx>=0&&"function"==typeof U[$.cbIdx]?Dn($.name,U[$.cbIdx],$,S):A.apply(H,U)})}function kt(d,v){d[ye("OriginalDelegate")]=v}let pr=!1,Qn=!1;function Jn(){if(pr)return Qn;pr=!0;try{const d=Nt.navigator.userAgent;(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/")||-1!==d.indexOf("Edge/"))&&(Qn=!0)}catch{}return Qn}Zone.__load_patch("ZoneAwarePromise",(d,v,T)=>{const _=Object.getOwnPropertyDescriptor,S=Object.defineProperty,H=T.symbol,U=[],$=!0===d[H("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Q=H("Promise"),z=H("then");T.onUnhandledError=b=>{if(T.showUncaughtError()){const N=b&&b.rejection;N?console.error("Unhandled Promise rejection:",N instanceof Error?N.message:N,"; Zone:",b.zone.name,"; Task:",b.task&&b.task.source,"; Value:",N,N instanceof Error?N.stack:void 0):console.error(b)}},T.microtaskDrainDone=()=>{for(;U.length;){const b=U.shift();try{b.zone.runGuarded(()=>{throw b.throwOriginal?b.rejection:b})}catch(N){re(N)}}};const ue=H("unhandledPromiseRejectionHandler");function re(b){T.onUnhandledError(b);try{const N=v[ue];"function"==typeof N&&N.call(this,b)}catch{}}function De(b){return b&&b.then}function we(b){return b}function Ke(b){return h.reject(b)}const ke=H("state"),ie=H("value"),R=H("finally"),Be=H("parentPromiseValue"),K=H("parentPromiseState"),le=null,W=!0,Ce=!1;function J(b,N){return w=>{try{Le(b,N,w)}catch(D){Le(b,!1,D)}}}const te=function(){let b=!1;return function(w){return function(){b||(b=!0,w.apply(null,arguments))}}},Qe=H("currentTaskTrace");function Le(b,N,w){const D=te();if(b===w)throw new TypeError("Promise resolved with itself");if(b[ke]===le){let j=null;try{("object"==typeof w||"function"==typeof w)&&(j=w&&w.then)}catch(Y){return D(()=>{Le(b,!1,Y)})(),b}if(N!==Ce&&w instanceof h&&w.hasOwnProperty(ke)&&w.hasOwnProperty(ie)&&w[ke]!==le)$e(w),Le(b,w[ke],w[ie]);else if(N!==Ce&&"function"==typeof j)try{j.call(w,D(J(b,N)),D(J(b,!1)))}catch(Y){D(()=>{Le(b,!1,Y)})()}else{b[ke]=N;const Y=b[ie];if(b[ie]=w,b[R]===R&&N===W&&(b[ke]=b[K],b[ie]=b[Be]),N===Ce&&w instanceof Error){const M=v.currentTask&&v.currentTask.data&&v.currentTask.data.__creationTrace__;M&&S(w,Qe,{configurable:!0,enumerable:!1,writable:!0,value:M})}for(let M=0;M<Y.length;)Ie(b,Y[M++],Y[M++],Y[M++],Y[M++]);if(0==Y.length&&N==Ce){b[ke]=0;let M=w;try{throw new Error("Uncaught (in promise): "+function A(b){return b&&b.toString===Object.prototype.toString?(b.constructor&&b.constructor.name||"")+": "+JSON.stringify(b):b?b.toString():Object.prototype.toString.call(b)}(w)+(w&&w.stack?"\n"+w.stack:""))}catch(oe){M=oe}$&&(M.throwOriginal=!0),M.rejection=w,M.promise=b,M.zone=v.current,M.task=v.currentTask,U.push(M),T.scheduleMicroTask()}}}return b}const Me=H("rejectionHandledHandler");function $e(b){if(0===b[ke]){try{const N=v[Me];N&&"function"==typeof N&&N.call(this,{rejection:b[ie],promise:b})}catch{}b[ke]=Ce;for(let N=0;N<U.length;N++)b===U[N].promise&&U.splice(N,1)}}function Ie(b,N,w,D,j){$e(b);const Y=b[ke],M=Y?"function"==typeof D?D:we:"function"==typeof j?j:Ke;N.scheduleMicroTask("Promise.then",()=>{try{const oe=b[ie],ae=!!w&&R===w[R];ae&&(w[Be]=oe,w[K]=Y);const se=N.run(M,void 0,ae&&M!==Ke&&M!==we?[]:[oe]);Le(w,!0,se)}catch(oe){Le(w,!1,oe)}},w)}const de=function(){},q=d.AggregateError;class h{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(N){return Le(new this(null),W,N)}static reject(N){return Le(new this(null),Ce,N)}static any(N){if(!N||"function"!=typeof N[Symbol.iterator])return Promise.reject(new q([],"All promises were rejected"));const w=[];let D=0;try{for(let M of N)D++,w.push(h.resolve(M))}catch{return Promise.reject(new q([],"All promises were rejected"))}if(0===D)return Promise.reject(new q([],"All promises were rejected"));let j=!1;const Y=[];return new h((M,oe)=>{for(let ae=0;ae<w.length;ae++)w[ae].then(se=>{j||(j=!0,M(se))},se=>{Y.push(se),D--,0===D&&(j=!0,oe(new q(Y,"All promises were rejected")))})})}static race(N){let w,D,j=new this((oe,ae)=>{w=oe,D=ae});function Y(oe){w(oe)}function M(oe){D(oe)}for(let oe of N)De(oe)||(oe=this.resolve(oe)),oe.then(Y,M);return j}static all(N){return h.allWithCallback(N)}static allSettled(N){return(this&&this.prototype instanceof h?this:h).allWithCallback(N,{thenCallback:D=>({status:"fulfilled",value:D}),errorCallback:D=>({status:"rejected",reason:D})})}static allWithCallback(N,w){let D,j,Y=new this((se,Se)=>{D=se,j=Se}),M=2,oe=0;const ae=[];for(let se of N){De(se)||(se=this.resolve(se));const Se=oe;try{se.then(Ae=>{ae[Se]=w?w.thenCallback(Ae):Ae,M--,0===M&&D(ae)},Ae=>{w?(ae[Se]=w.errorCallback(Ae),M--,0===M&&D(ae)):j(Ae)})}catch(Ae){j(Ae)}M++,oe++}return M-=2,0===M&&D(ae),Y}constructor(N){const w=this;if(!(w instanceof h))throw new Error("Must be an instanceof Promise.");w[ke]=le,w[ie]=[];try{const D=te();N&&N(D(J(w,W)),D(J(w,Ce)))}catch(D){Le(w,!1,D)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return h}then(N,w){var D;let j=null===(D=this.constructor)||void 0===D?void 0:D[Symbol.species];(!j||"function"!=typeof j)&&(j=this.constructor||h);const Y=new j(de),M=v.current;return this[ke]==le?this[ie].push(M,Y,N,w):Ie(this,M,Y,N,w),Y}catch(N){return this.then(null,N)}finally(N){var w;let D=null===(w=this.constructor)||void 0===w?void 0:w[Symbol.species];(!D||"function"!=typeof D)&&(D=h);const j=new D(de);j[R]=R;const Y=v.current;return this[ke]==le?this[ie].push(Y,j,N,N):Ie(this,Y,j,N,N),j}}h.resolve=h.resolve,h.reject=h.reject,h.race=h.race,h.all=h.all;const m=d[Q]=d.Promise;d.Promise=h;const X=H("thenPatched");function ne(b){const N=b.prototype,w=_(N,"then");if(w&&(!1===w.writable||!w.configurable))return;const D=N.then;N[z]=D,b.prototype.then=function(j,Y){return new h((oe,ae)=>{D.call(this,oe,ae)}).then(j,Y)},b[X]=!0}return T.patchThen=ne,m&&(ne(m),Pt(d,"fetch",b=>function B(b){return function(N,w){let D=b.apply(N,w);if(D instanceof h)return D;let j=D.constructor;return j[X]||ne(j),D}}(b))),Promise[v.__symbol__("uncaughtPromiseErrors")]=U,h}),Zone.__load_patch("toString",d=>{const v=Function.prototype.toString,T=ye("OriginalDelegate"),_=ye("Promise"),S=ye("Error"),A=function(){if("function"==typeof this){const Q=this[T];if(Q)return"function"==typeof Q?v.call(Q):Object.prototype.toString.call(Q);if(this===Promise){const z=d[_];if(z)return v.call(z)}if(this===Error){const z=d[S];if(z)return v.call(z)}}return v.call(this)};A[T]=v,Function.prototype.toString=A;const H=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":H.call(this)}});let Nn=!1;if(typeof window<"u")try{const d=Object.defineProperty({},"passive",{get:function(){Nn=!0}});window.addEventListener("test",d,d),window.removeEventListener("test",d,d)}catch{Nn=!1}const As={useG:!0},nt={},hr={},Wt=new RegExp("^"+ln+"(\\w+)(true|false)$"),dr=ye("propagationStopped");function fr(d,v){const T=(v?v(d):d)+ee,_=(v?v(d):d)+gt,S=ln+T,A=ln+_;nt[d]={},nt[d][ee]=S,nt[d][gt]=A}function hn(d,v,T,_){const S=_&&_.add||In,A=_&&_.rm||bn,H=_&&_.listeners||"eventListeners",U=_&&_.rmAll||"removeAllListeners",$=ye(S),Q="."+S+":",ue=function(ie,R,Be){if(ie.isRemoved)return;const K=ie.callback;let Te;"object"==typeof K&&K.handleEvent&&(ie.callback=W=>K.handleEvent(W),ie.originalDelegate=K);try{ie.invoke(ie,R,[Be])}catch(W){Te=W}const le=ie.options;return le&&"object"==typeof le&&le.once&&R[A].call(R,Be.type,ie.originalDelegate?ie.originalDelegate:ie.callback,le),Te};function re(ie,R,Be){if(!(R=R||d.event))return;const K=ie||R.target||d,Te=K[nt[R.type][Be?gt:ee]];if(Te){const le=[];if(1===Te.length){const W=ue(Te[0],K,R);W&&le.push(W)}else{const W=Te.slice();for(let Ce=0;Ce<W.length&&(!R||!0!==R[dr]);Ce++){const L=ue(W[Ce],K,R);L&&le.push(L)}}if(1===le.length)throw le[0];for(let W=0;W<le.length;W++){const Ce=le[W];v.nativeScheduleMicroTask(()=>{throw Ce})}}}const De=function(ie){return re(this,ie,!1)},we=function(ie){return re(this,ie,!0)};function Ke(ie,R){if(!ie)return!1;let Be=!0;R&&void 0!==R.useG&&(Be=R.useG);const K=R&&R.vh;let Te=!0;R&&void 0!==R.chkDup&&(Te=R.chkDup);let le=!1;R&&void 0!==R.rt&&(le=R.rt);let W=ie;for(;W&&!W.hasOwnProperty(S);)W=Kn(W);if(!W&&ie[S]&&(W=ie),!W||W[$])return!1;const Ce=R&&R.eventNameToString,L={},J=W[$]=W[S],te=W[ye(A)]=W[A],Ye=W[ye(H)]=W[H],Qe=W[ye(U)]=W[U];let Le;function Me(w,D){return!Nn&&"object"==typeof w&&w?!!w.capture:Nn&&D?"boolean"==typeof w?{capture:w,passive:!0}:w?"object"==typeof w&&!1!==w.passive?Object.assign(Object.assign({},w),{passive:!0}):w:{passive:!0}:w}R&&R.prepend&&(Le=W[ye(R.prepend)]=W[R.prepend]);const h=Be?function(w){if(!L.isExisting)return J.call(L.target,L.eventName,L.capture?we:De,L.options)}:function(w){return J.call(L.target,L.eventName,w.invoke,L.options)},m=Be?function(w){if(!w.isRemoved){const D=nt[w.eventName];let j;D&&(j=D[w.capture?gt:ee]);const Y=j&&w.target[j];if(Y)for(let M=0;M<Y.length;M++)if(Y[M]===w){Y.splice(M,1),w.isRemoved=!0,0===Y.length&&(w.allRemoved=!0,w.target[j]=null);break}}if(w.allRemoved)return te.call(w.target,w.eventName,w.capture?we:De,w.options)}:function(w){return te.call(w.target,w.eventName,w.invoke,w.options)},ne=R&&R.diff?R.diff:function(w,D){const j=typeof D;return"function"===j&&w.callback===D||"object"===j&&w.originalDelegate===D},B=Zone[ye("UNPATCHED_EVENTS")],b=d[ye("PASSIVE_EVENTS")],N=function(w,D,j,Y,M=!1,oe=!1){return function(){const ae=this||d;let se=arguments[0];R&&R.transferEventName&&(se=R.transferEventName(se));let Se=arguments[1];if(!Se)return w.apply(this,arguments);if(pn&&"uncaughtException"===se)return w.apply(this,arguments);let Ae=!1;if("function"!=typeof Se){if(!Se.handleEvent)return w.apply(this,arguments);Ae=!0}if(K&&!K(w,Se,ae,arguments))return;const Lt=Nn&&!!b&&-1!==b.indexOf(se),Tt=Me(arguments[2],Lt);if(B)for(let Et=0;Et<B.length;Et++)if(se===B[Et])return Lt?w.call(ae,se,Se,Tt):w.apply(this,arguments);const ss=!!Tt&&("boolean"==typeof Tt||Tt.capture),Pn=!(!Tt||"object"!=typeof Tt)&&Tt.once,di=Zone.current;let Ds=nt[se];Ds||(fr(se,Ce),Ds=nt[se]);const rs=Ds[ss?gt:ee];let is,Gt=ae[rs],fn=!1;if(Gt){if(fn=!0,Te)for(let Et=0;Et<Gt.length;Et++)if(ne(Gt[Et],Se))return}else Gt=ae[rs]=[];const kn=ae.constructor.name,Ln=hr[kn];Ln&&(is=Ln[se]),is||(is=kn+D+(Ce?Ce(se):se)),L.options=Tt,Pn&&(L.options.once=!1),L.target=ae,L.capture=ss,L.eventName=se,L.isExisting=fn;const Ue=Be?As:void 0;Ue&&(Ue.taskData=L);const st=di.scheduleEventTask(is,Se,Ue,j,Y);return L.target=null,Ue&&(Ue.taskData=null),Pn&&(Tt.once=!0),!Nn&&"boolean"==typeof st.options||(st.options=Tt),st.target=ae,st.capture=ss,st.eventName=se,Ae&&(st.originalDelegate=Se),oe?Gt.unshift(st):Gt.push(st),M?ae:void 0}};return W[S]=N(J,Q,h,m,le),Le&&(W.prependListener=N(Le,".prependListener:",function(w){return Le.call(L.target,L.eventName,w.invoke,L.options)},m,le,!0)),W[A]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=arguments[2],Y=!!j&&("boolean"==typeof j||j.capture),M=arguments[1];if(!M)return te.apply(this,arguments);if(K&&!K(te,M,w,arguments))return;const oe=nt[D];let ae;oe&&(ae=oe[Y?gt:ee]);const se=ae&&w[ae];if(se)for(let Se=0;Se<se.length;Se++){const Ae=se[Se];if(ne(Ae,M))return se.splice(Se,1),Ae.isRemoved=!0,0===se.length&&(Ae.allRemoved=!0,w[ae]=null,"string"==typeof D)&&(w[ln+"ON_PROPERTY"+D]=null),Ae.zone.cancelTask(Ae),le?w:void 0}return te.apply(this,arguments)},W[H]=function(){const w=this||d;let D=arguments[0];R&&R.transferEventName&&(D=R.transferEventName(D));const j=[],Y=Is(w,Ce?Ce(D):D);for(let M=0;M<Y.length;M++){const oe=Y[M];j.push(oe.originalDelegate?oe.originalDelegate:oe.callback)}return j},W[U]=function(){const w=this||d;let D=arguments[0];if(D){R&&R.transferEventName&&(D=R.transferEventName(D));const j=nt[D];if(j){const oe=w[j[ee]],ae=w[j[gt]];if(oe){const se=oe.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}if(ae){const se=ae.slice();for(let Se=0;Se<se.length;Se++){const Ae=se[Se];this[A].call(this,D,Ae.originalDelegate?Ae.originalDelegate:Ae.callback,Ae.options)}}}}else{const j=Object.keys(w);for(let Y=0;Y<j.length;Y++){const oe=Wt.exec(j[Y]);let ae=oe&&oe[1];ae&&"removeListener"!==ae&&this[U].call(this,ae)}this[U].call(this,"removeListener")}if(le)return this},kt(W[S],J),kt(W[A],te),Qe&&kt(W[U],Qe),Ye&&kt(W[H],Ye),!0}let ke=[];for(let ie=0;ie<T.length;ie++)ke[ie]=Ke(T[ie],_);return ke}function Is(d,v){if(!v){const A=[];for(let H in d){const U=Wt.exec(H);let $=U&&U[1];if($&&(!v||$===v)){const Q=d[H];if(Q)for(let z=0;z<Q.length;z++)A.push(Q[z])}}return A}let T=nt[v];T||(fr(v),T=nt[v]);const _=d[T[ee]],S=d[T[gt]];return _?S?_.concat(S):_.slice():S?S.slice():[]}function li(d,v){const T=d.Event;T&&T.prototype&&v.patchMethod(T.prototype,"stopImmediatePropagation",_=>function(S,A){S[dr]=!0,_&&_.apply(S,A)})}function mr(d,v,T,_,S){const A=Zone.__symbol__(_);if(v[A])return;const H=v[A]=v[_];v[_]=function(U,$,Q){return $&&$.prototype&&S.forEach(function(z){const Ee=`${T}.${_}::`+z,ue=$.prototype;try{if(ue.hasOwnProperty(z)){const re=d.ObjectGetOwnPropertyDescriptor(ue,z);re&&re.value?(re.value=d.wrapWithCurrentZone(re.value,Ee),d._redefineProperty($.prototype,z,re)):ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}else ue[z]&&(ue[z]=d.wrapWithCurrentZone(ue[z],Ee))}catch{}}),H.call(v,U,$,Q)},d.attachOriginToPatched(v[_],H)}function bs(d,v,T){if(!T||0===T.length)return v;const _=T.filter(A=>A.target===d);if(!_||0===_.length)return v;const S=_[0].ignoreProperties;return v.filter(A=>-1===S.indexOf(A))}function es(d,v,T,_){d&&cr(d,bs(d,v,T),_)}function ts(d){return Object.getOwnPropertyNames(d).filter(v=>v.startsWith("on")&&v.length>2).map(v=>v.substring(2))}Zone.__load_patch("util",(d,v,T)=>{const _=ts(d);T.patchOnProperties=cr,T.patchMethod=Pt,T.bindArguments=xs,T.patchMacroTask=ai;const S=v.__symbol__("BLACK_LISTED_EVENTS"),A=v.__symbol__("UNPATCHED_EVENTS");d[A]&&(d[S]=d[A]),d[S]&&(v[S]=v[A]=d[S]),T.patchEventPrototype=li,T.patchEventTarget=hn,T.isIEOrEdge=Jn,T.ObjectDefineProperty=zn,T.ObjectGetOwnPropertyDescriptor=jt,T.ObjectCreate=Oe,T.ArraySlice=mt,T.patchClass=Yn,T.wrapWithCurrentZone=cn,T.filterProperties=bs,T.attachOriginToPatched=kt,T._redefineProperty=Object.defineProperty,T.patchCallbacks=mr,T.getGlobalObjects=()=>({globalSources:hr,zoneSymbolEventNames:nt,eventNames:_,isBrowser:Cs,isMix:pe,isNode:pn,TRUE_STR:gt,FALSE_STR:ee,ZONE_SYMBOL_PREFIX:ln,ADD_EVENT_LISTENER_STR:In,REMOVE_EVENT_LISTENER_STR:bn})});const ns=ye("zoneTask");function dn(d,v,T,_){let S=null,A=null;T+=_;const H={};function U(Q){const z=Q.data;return z.args[0]=function(){return Q.invoke.apply(this,arguments)},z.handleId=S.apply(d,z.args),Q}function $(Q){return A.call(d,Q.data.handleId)}S=Pt(d,v+=_,Q=>function(z,Ee){if("function"==typeof Ee[0]){const ue={isPeriodic:"Interval"===_,delay:"Timeout"===_||"Interval"===_?Ee[1]||0:void 0,args:Ee},re=Ee[0];Ee[0]=function(){try{return re.apply(this,arguments)}finally{ue.isPeriodic||("number"==typeof ue.handleId?delete H[ue.handleId]:ue.handleId&&(ue.handleId[ns]=null))}};const De=Dn(v,Ee[0],ue,U,$);if(!De)return De;const we=De.data.handleId;return"number"==typeof we?H[we]=De:we&&(we[ns]=De),we&&we.ref&&we.unref&&"function"==typeof we.ref&&"function"==typeof we.unref&&(De.ref=we.ref.bind(we),De.unref=we.unref.bind(we)),"number"==typeof we||we?we:De}return Q.apply(d,Ee)}),A=Pt(d,T,Q=>function(z,Ee){const ue=Ee[0];let re;"number"==typeof ue?re=H[ue]:(re=ue&&ue[ns],re||(re=ue)),re&&"string"==typeof re.type?"notScheduled"!==re.state&&(re.cancelFn&&re.data.isPeriodic||0===re.runCount)&&("number"==typeof ue?delete H[ue]:ue&&(ue[ns]=null),re.zone.cancelTask(re)):Q.apply(d,Ee)})}Zone.__load_patch("legacy",d=>{const v=d[Zone.__symbol__("legacyPatch")];v&&v()}),Zone.__load_patch("queueMicrotask",(d,v,T)=>{T.patchMethod(d,"queueMicrotask",_=>function(S,A){v.current.scheduleMicroTask("queueMicrotask",A[0])})}),Zone.__load_patch("timers",d=>{const v="set",T="clear";dn(d,v,T,"Timeout"),dn(d,v,T,"Interval"),dn(d,v,T,"Immediate")}),Zone.__load_patch("requestAnimationFrame",d=>{dn(d,"request","cancel","AnimationFrame"),dn(d,"mozRequest","mozCancel","AnimationFrame"),dn(d,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(d,v)=>{const T=["alert","prompt","confirm"];for(let _=0;_<T.length;_++)Pt(d,T[_],(A,H,U)=>function($,Q){return v.current.run(A,d,Q,U)})}),Zone.__load_patch("EventTarget",(d,v,T)=>{(function hi(d,v){v.patchEventPrototype(d,v)})(d,T),function pi(d,v){if(Zone[v.symbol("patchEventTarget")])return;const{eventNames:T,zoneSymbolEventNames:_,TRUE_STR:S,FALSE_STR:A,ZONE_SYMBOL_PREFIX:H}=v.getGlobalObjects();for(let $=0;$<T.length;$++){const Q=T[$],ue=H+(Q+A),re=H+(Q+S);_[Q]={},_[Q][A]=ue,_[Q][S]=re}const U=d.EventTarget;U&&U.prototype&&v.patchEventTarget(d,v,[U&&U.prototype])}(d,T);const _=d.XMLHttpRequestEventTarget;_&&_.prototype&&T.patchEventTarget(d,T,[_.prototype])}),Zone.__load_patch("MutationObserver",(d,v,T)=>{Yn("MutationObserver"),Yn("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(d,v,T)=>{Yn("IntersectionObserver")}),Zone.__load_patch("FileReader",(d,v,T)=>{Yn("FileReader")}),Zone.__load_patch("on_property",(d,v,T)=>{!function gr(d,v){if(pn&&!pe||Zone[d.symbol("patchEvents")])return;const T=v.__Zone_ignore_on_properties;let _=[];if(Cs){const S=window;_=_.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const A=function ui(){try{const d=Nt.navigator.userAgent;if(-1!==d.indexOf("MSIE ")||-1!==d.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:S,ignoreProperties:["error"]}]:[];es(S,ts(S),T&&T.concat(A),Kn(S))}_=_.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let S=0;S<_.length;S++){const A=v[_[S]];A&&A.prototype&&es(A.prototype,ts(A.prototype),T)}}(T,d)}),Zone.__load_patch("customElements",(d,v,T)=>{!function ci(d,v){const{isBrowser:T,isMix:_}=v.getGlobalObjects();(T||_)&&d.customElements&&"customElements"in d&&v.patchCallbacks(v,d.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(d,T)}),Zone.__load_patch("XHR",(d,v)=>{!function $(Q){const z=Q.XMLHttpRequest;if(!z)return;const Ee=z.prototype;let re=Ee[Ts],De=Ee[Zn];if(!re){const L=Q.XMLHttpRequestEventTarget;if(L){const J=L.prototype;re=J[Ts],De=J[Zn]}}const we="readystatechange",Ke="scheduled";function ke(L){const J=L.data,te=J.target;te[A]=!1,te[U]=!1;const Ye=te[S];re||(re=te[Ts],De=te[Zn]),Ye&&De.call(te,we,Ye);const Qe=te[S]=()=>{if(te.readyState===te.DONE)if(!J.aborted&&te[A]&&L.state===Ke){const Me=te[v.__symbol__("loadfalse")];if(0!==te.status&&Me&&Me.length>0){const $e=L.invoke;L.invoke=function(){const Ie=te[v.__symbol__("loadfalse")];for(let x=0;x<Ie.length;x++)Ie[x]===L&&Ie.splice(x,1);!J.aborted&&L.state===Ke&&$e.call(L)},Me.push(L)}else L.invoke()}else!J.aborted&&!1===te[A]&&(te[U]=!0)};return re.call(te,we,Qe),te[T]||(te[T]=L),W.apply(te,J.args),te[A]=!0,L}function ie(){}function R(L){const J=L.data;return J.aborted=!0,Ce.apply(J.target,J.args)}const Be=Pt(Ee,"open",()=>function(L,J){return L[_]=0==J[2],L[H]=J[1],Be.apply(L,J)}),Te=ye("fetchTaskAborting"),le=ye("fetchTaskScheduling"),W=Pt(Ee,"send",()=>function(L,J){if(!0===v.current[le]||L[_])return W.apply(L,J);{const te={target:L,url:L[H],isPeriodic:!1,args:J,aborted:!1},Ye=Dn("XMLHttpRequest.send",ie,te,ke,R);L&&!0===L[U]&&!te.aborted&&Ye.state===Ke&&Ye.invoke()}}),Ce=Pt(Ee,"abort",()=>function(L,J){const te=function ue(L){return L[T]}(L);if(te&&"string"==typeof te.type){if(null==te.cancelFn||te.data&&te.data.aborted)return;te.zone.cancelTask(te)}else if(!0===v.current[Te])return Ce.apply(L,J)})}(d);const T=ye("xhrTask"),_=ye("xhrSync"),S=ye("xhrListener"),A=ye("xhrScheduled"),H=ye("xhrURL"),U=ye("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",d=>{d.navigator&&d.navigator.geolocation&&function qe(d,v){const T=d.constructor.name;for(let _=0;_<v.length;_++){const S=v[_],A=d[S];if(A){if(!lt(jt(d,S)))continue;d[S]=(U=>{const $=function(){return U.apply(this,xs(arguments,T+"."+S))};return kt($,U),$})(A)}}}(d.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(d,v)=>{function T(_){return function(S){Is(d,_).forEach(H=>{const U=d.PromiseRejectionEvent;if(U){const $=new U(_,{promise:S.promise,reason:S.rejection});H.invoke($)}})}}d.PromiseRejectionEvent&&(v[ye("unhandledPromiseRejectionHandler")]=T("unhandledrejection"),v[ye("rejectionHandledHandler")]=T("rejectionhandled"))})}},jt=>{jt(jt.s=5565)}]);
(self.webpackChunknystixTools=self.webpackChunknystixTools||[]).push([[179],{2011:(At,Ge,j)=>{"use strict";j.d(Ge,{Dh:()=>Ne,GT:()=>Ce,cc:()=>Ue,hO:()=>tt,on:()=>J,pX:()=>ge,xv:()=>Ae});var c=j(4650),P=j(127),W=j(5813);At=j.hmd(At);const be=["ngOnDestroy"],ge=(Me,at,xt,He={})=>new Proxy(Me,{get:(Pe,ke)=>xt.runOutsideAngular(()=>{var st;if(Me[ke])return!(null===(st=He?.spy)||void 0===st)&&st.get&&He.spy.get(ke,Me[ke]),Me[ke];if(be.indexOf(ke)>-1)return()=>{};const ft=at.toPromise().then(Q=>{const Re=Q&&Q[ke];return"function"==typeof Re?Re.bind(Q):Re&&Re.then?Re.then(ae=>xt.run(()=>ae)):xt.run(()=>Re)});return new Proxy(()=>{},{get:(Q,Re)=>ft[Re],apply:(Q,Re,ae)=>ft.then(pe=>{var ye;const ve=pe&&pe(...ae);return!(null===(ye=He?.spy)||void 0===ye)&&ye.apply&&He.spy.apply(ke,ae,ve),ve})})})}),Ce=(Me,at)=>{at.forEach(xt=>{Object.getOwnPropertyNames(xt.prototype||xt).forEach(He=>{Object.defineProperty(Me.prototype,He,Object.getOwnPropertyDescriptor(xt.prototype||xt,He))})})};class Ie{constructor(at){return at}}const Ne=new c.OlP("angularfire2.app.options"),Ae=new c.OlP("angularfire2.app.name");function J(Me,at,xt){const Pe="object"==typeof xt&&xt||{};Pe.name=Pe.name||"string"==typeof xt&&xt||"[DEFAULT]";const st=P.Z.apps.filter(ft=>ft&&ft.name===Pe.name)[0]||at.runOutsideAngular(()=>P.Z.initializeApp(Me,Pe));try{JSON.stringify(Me)!==JSON.stringify(st.options)&&X("error",`${st.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(st)}const X=(Me,...at)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Me](...at)},ue={provide:Ie,useFactory:J,deps:[Ne,c.R0b,[new c.FiY,Ae]]};let tt=(()=>{class Me{constructor(xt){P.Z.registerVersion("angularfire",W.q4.full,"core"),P.Z.registerVersion("angularfire",W.q4.full,"app-compat"),P.Z.registerVersion("angular",c.q4F.full,xt.toString())}static initializeApp(xt,He){return{ngModule:Me,providers:[{provide:Ne,useValue:xt},{provide:Ae,useValue:He}]}}}return Me.\u0275fac=function(xt){return new(xt||Me)(c.LFG(c.Lbi))},Me.\u0275mod=c.oAB({type:Me}),Me.\u0275inj=c.cJS({providers:[ue]}),Me})();function Ue(Me,at,xt,He,Pe){const[,ke,st]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===Me)||[];if(ke)return function Le(Me,at){try{return Me.toString()===at.toString()}catch{return Me===at}}(Pe,st)||(Oe("error",`${at} was already initialized on the ${xt} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:Pe,was:st})),ke;{const ft=He();return globalThis.\u0275AngularfireInstanceCache.push([Me,ft,Pe]),ft}}const ht=!!At.hot,Oe=(Me,...at)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Me](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(At,Ge,j)=>{"use strict";j.d(Ge,{q4:()=>nr,iC:()=>yr,fc:()=>Ps,HU:()=>jn,vb:()=>$c,JM:()=>Uc});var c=j(4650),P=j(5867),W=j(5861),be=j(9681),ge=j(2090),Ce=j(4859),Ie=j(1877),Ne=j(8766);const Ae="@firebase/installations",J="0.5.12",ue=`w:${J}`,tt="FIS_v2",at=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(x){return x instanceof ge.ZR&&x.code.includes("request-failed")}function He({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Pe(x){return{token:x.token,requestStatus:2,expiresIn:pe(x.expiresIn),creationTime:Date.now()}}function ke(x,N){return st.apply(this,arguments)}function st(){return(st=(0,W.Z)(function*(x,N){const q=(yield N.json()).error;return at.create("request-failed",{requestName:x,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function ft({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Q(x,{refreshToken:N}){const k=ft(x);return k.append("Authorization",function ye(x){return`${tt} ${x}`}(N)),k}function Re(x){return ae.apply(this,arguments)}function ae(){return(ae=(0,W.Z)(function*(x){const N=yield x();return N.status>=500&&N.status<600?x():N})).apply(this,arguments)}function pe(x){return Number(x.replace("s","000"))}function ve(x,N){return it.apply(this,arguments)}function it(){return(it=(0,W.Z)(function*({appConfig:x,heartbeatServiceProvider:N},{fid:k}){const q=He(x),he=ft(x),Ee=N.getImmediate({optional:!0});if(Ee){const Ht=yield Ee.getHeartbeatsHeader();Ht&&he.append("x-firebase-client",Ht)}const nt={method:"POST",headers:he,body:JSON.stringify({fid:k,authVersion:tt,appId:x.appId,sdkVersion:ue})},Vt=yield Re(()=>fetch(q,nt));if(Vt.ok){const Ht=yield Vt.json();return{fid:Ht.fid||k,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:Pe(Ht.authToken)}}throw yield ke("Create Installation",Vt)})).apply(this,arguments)}function Je(x){return new Promise(N=>{setTimeout(N,x)})}const Tn=/^[cdef][\w-]{21}$/;function pt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const k=function Yn(x){return function Mt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Tn.test(k)?k:""}catch{return""}}function di(x){return`${x.appName}!${x.appId}`}const Vn=new Map;function pn(x,N){const k=di(x);Qt(k,N),function Ar(x,N){const k=function Pn(){return!En&&"BroadcastChannel"in self&&(En=new BroadcastChannel("[Firebase] FID Change"),En.onmessage=x=>{Qt(x.data.key,x.data.fid)}),En}();k&&k.postMessage({key:x,fid:N}),function zi(){0===Vn.size&&En&&(En.close(),En=null)}()}(k,N)}function Qt(x,N){const k=Vn.get(x);if(k)for(const q of k)q(N)}let En=null;const Oi="firebase-installations-store";let Nr=null;function vi(){return Nr||(Nr=(0,Ne.X3)("firebase-installations-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(Oi)}})),Nr}function yt(x,N){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,W.Z)(function*(x,N){const k=di(x),he=(yield vi()).transaction(Oi,"readwrite"),Ee=he.objectStore(Oi),We=yield Ee.get(k);return yield Ee.put(N,k),yield he.done,(!We||We.fid!==N.fid)&&pn(x,N.fid),N})).apply(this,arguments)}function jr(x){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,W.Z)(function*(x){const N=di(x),q=(yield vi()).transaction(Oi,"readwrite");yield q.objectStore(Oi).delete(N),yield q.done})).apply(this,arguments)}function ni(x,N){return Or.apply(this,arguments)}function Or(){return(Or=(0,W.Z)(function*(x,N){const k=di(x),he=(yield vi()).transaction(Oi,"readwrite"),Ee=he.objectStore(Oi),We=yield Ee.get(k),nt=N(We);return void 0===nt?yield Ee.delete(k):yield Ee.put(nt,k),yield he.done,nt&&(!We||We.fid!==nt.fid)&&pn(x,nt.fid),nt})).apply(this,arguments)}function Li(x){return wi.apply(this,arguments)}function wi(){return(wi=(0,W.Z)(function*(x){let N;const k=yield ni(x.appConfig,q=>{const he=fi(q),Ee=kt(x,he);return N=Ee.registrationPromise,Ee.installationEntry});return""===k.fid?{installationEntry:yield N}:{installationEntry:k,registrationPromise:N}})).apply(this,arguments)}function fi(x){return jt(x||{fid:pt(),registrationStatus:0})}function kt(x,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(at.create("app-offline"))};const k={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},q=function Ot(x,N){return Un.apply(this,arguments)}(x,k);return{installationEntry:k,registrationPromise:q}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Bi(x)}:{installationEntry:N}}function Un(){return(Un=(0,W.Z)(function*(x,N){try{const k=yield ve(x,N);return yt(x.appConfig,k)}catch(k){throw xt(k)&&409===k.customData.serverCode?yield jr(x.appConfig):yield yt(x.appConfig,{fid:N.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Bi(x){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,W.Z)(function*(x){let N=yield qi(x.appConfig);for(;1===N.registrationStatus;)yield Je(100),N=yield qi(x.appConfig);if(0===N.registrationStatus){const{installationEntry:k,registrationPromise:q}=yield Li(x);return q||k}return N})).apply(this,arguments)}function qi(x){return ni(x,N=>{if(!N)throw at.create("installation-not-found");return jt(N)})}function jt(x){return function Ts(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function xn(x,N){return is.apply(this,arguments)}function is(){return(is=(0,W.Z)(function*({appConfig:x,heartbeatServiceProvider:N},k){const q=In(x,k),he=Q(x,k),Ee=N.getImmediate({optional:!0});if(Ee){const Ht=yield Ee.getHeartbeatsHeader();Ht&&he.append("x-firebase-client",Ht)}const nt={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:ue,appId:x.appId}})},Vt=yield Re(()=>fetch(q,nt));if(Vt.ok)return Pe(yield Vt.json());throw yield ke("Generate Auth Token",Vt)})).apply(this,arguments)}function In(x,{fid:N}){return`${He(x)}/${N}/authTokens:generate`}function oe(x){return te.apply(this,arguments)}function te(){return(te=(0,W.Z)(function*(x,N=!1){let k;const q=yield ni(x.appConfig,Ee=>{if(!Pt(Ee))throw at.create("not-registered");const We=Ee.authToken;if(!N&&oi(We))return Ee;if(1===We.requestStatus)return k=K(x,N),Ee;{if(!navigator.onLine)throw at.create("app-offline");const nt=Zi(Ee);return k=ze(x,nt),nt}});return k?yield k:q.authToken})).apply(this,arguments)}function K(x,N){return ne.apply(this,arguments)}function ne(){return(ne=(0,W.Z)(function*(x,N){let k=yield ie(x.appConfig);for(;1===k.authToken.requestStatus;)yield Je(100),k=yield ie(x.appConfig);const q=k.authToken;return 0===q.requestStatus?oe(x,N):q})).apply(this,arguments)}function ie(x){return ni(x,N=>{if(!Pt(N))throw at.create("not-registered");return function _n(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function ze(x,N){return ut.apply(this,arguments)}function ut(){return(ut=(0,W.Z)(function*(x,N){try{const k=yield xn(x,N),q=Object.assign(Object.assign({},N),{authToken:k});return yield yt(x.appConfig,q),k}catch(k){if(!xt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const q=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield yt(x.appConfig,q)}else yield jr(x.appConfig);throw k}})).apply(this,arguments)}function Pt(x){return void 0!==x&&2===x.registrationStatus}function oi(x){return 2===x.requestStatus&&!function kn(x){const N=Date.now();return N<x.creationTime||x.creationTime+x.expiresIn<N+36e5}(x)}function Zi(x){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:N})}function ai(){return(ai=(0,W.Z)(function*(x){const N=x,{installationEntry:k,registrationPromise:q}=yield Li(N);return q?q.catch(console.error):oe(N).catch(console.error),k.fid})).apply(this,arguments)}function us(){return(us=(0,W.Z)(function*(x,N=!1){const k=x;return yield Wr(k),(yield oe(k,N)).token})).apply(this,arguments)}function Wr(x){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,W.Z)(function*(x){const{registrationPromise:N}=yield Li(x);N&&(yield N)})).apply(this,arguments)}function Hs(x){return at.create("missing-app-config-values",{valueName:x})}const fs="installations",Kn=x=>{const N=x.getProvider("app").getImmediate(),k=function li(x){if(!x||!x.options)throw Hs("App Configuration");if(!x.name)throw Hs("App Name");const N=["projectId","apiKey","appId"];for(const k of N)if(!x.options[k])throw Hs(k);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(N);return{app:N,appConfig:k,heartbeatServiceProvider:(0,be._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},js=x=>{const N=x.getProvider("app").getImmediate(),k=(0,be._getProvider)(N,fs).getImmediate();return{getId:()=>function on(x){return ai.apply(this,arguments)}(k),getToken:he=>function Di(x){return us.apply(this,arguments)}(k,he)}};(function So(){(0,be._registerComponent)(new Ce.wA(fs,Kn,"PUBLIC")),(0,be._registerComponent)(new Ce.wA("installations-internal",js,"PRIVATE"))})(),(0,be.registerVersion)(Ae,J),(0,be.registerVersion)(Ae,J,"esm2017");const Ws="@firebase/remote-config",Qn=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fu{constructor(N,k,q,he){this.client=N,this.storage=k,this.storageCache=q,this.logger=he}isCachedDataFresh(N,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-k,he=q<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${he}.`),he}fetch(N){var k=this;return(0,W.Z)(function*(){const[q,he]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(he&&k.isCachedDataFresh(N.cacheMaxAgeMillis,q))return he;N.eTag=he&&he.eTag;const Ee=yield k.client.fetch(N),We=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ee.status&&We.push(k.storage.setLastSuccessfulFetchResponse(Ee)),yield Promise.all(We),Ee})()}}function go(x=navigator){return x.languages&&x.languages[0]||x.language}class B{constructor(N,k,q,he,Ee,We){this.firebaseInstallations=N,this.sdkVersion=k,this.namespace=q,this.projectId=he,this.apiKey=Ee,this.appId=We}fetch(N){var k=this;return(0,W.Z)(function*(){var q,he,Ee;const[We,nt]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Ut={sdk_version:k.sdkVersion,app_instance_id:We,app_instance_id_token:nt,app_id:k.appId,language_code:go()},gi={method:"POST",headers:qt,body:JSON.stringify(Ut)},Wi=fetch(Ht,gi),qn=new Promise((Pa,Qs)=>{N.signal.addEventListener(()=>{const gl=new Error("The operation was aborted.");gl.name="AbortError",Qs(gl)})});let ur;try{yield Promise.race([Wi,qn]),ur=yield Wi}catch(Pa){let Qs="fetch-client-network";throw"AbortError"===(null===(q=Pa)||void 0===q?void 0:q.name)&&(Qs="fetch-timeout"),Qn.create(Qs,{originalErrorMessage:null===(he=Pa)||void 0===he?void 0:he.message})}let da=ur.status;const zl=ur.headers.get("ETag")||void 0;let Ra,Fa;if(200===ur.status){let Pa;try{Pa=yield ur.json()}catch(Qs){throw Qn.create("fetch-client-parse",{originalErrorMessage:null===(Ee=Qs)||void 0===Ee?void 0:Ee.message})}Ra=Pa.entries,Fa=Pa.state}if("INSTANCE_STATE_UNSPECIFIED"===Fa?da=500:"NO_CHANGE"===Fa?da=304:("NO_TEMPLATE"===Fa||"EMPTY_CONFIG"===Fa)&&(Ra={}),304!==da&&200!==da)throw Qn.create("fetch-status",{httpStatus:da});return{status:da,eTag:zl,config:Ra}})()}}class we{constructor(N,k){this.client=N,this.storage=k}fetch(N){var k=this;return(0,W.Z)(function*(){const q=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(N,q)})()}attemptFetch(N,{throttleEndTimeMillis:k,backoffCount:q}){var he=this;return(0,W.Z)(function*(){yield function $(x,N){return new Promise((k,q)=>{const he=Math.max(N-Date.now(),0),Ee=setTimeout(k,he);x.addEventListener(()=>{clearTimeout(Ee),q(Qn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,k);try{const Ee=yield he.client.fetch(N);return yield he.storage.deleteThrottleMetadata(),Ee}catch(Ee){if(!function ee(x){if(!(x instanceof ge.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ee))throw Ee;const We={throttleEndTimeMillis:Date.now()+(0,ge.$s)(q),backoffCount:q+1};return yield he.storage.setThrottleMetadata(We),he.attemptFetch(N,We)}})()}}class dn{constructor(N,k,q,he,Ee){this.app=N,this._client=k,this._storageCache=q,this._storage=he,this._logger=Ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ri(x,N){var k;const q=x.target.error||void 0;return Qn.create(N,{originalErrorMessage:q&&(null===(k=q)||void 0===k?void 0:k.message)})}const ci="app_namespace_store";class tf{constructor(N,k,q,he=function up(){return new Promise((x,N)=>{var k;try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=he=>{N(Ri(he,"storage-open"))},q.onsuccess=he=>{x(he.target.result)},q.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(ci,{keyPath:"compositeKey"})}}catch(q){N(Qn.create("storage-open",{originalErrorMessage:null===(k=q)||void 0===k?void 0:k.message}))}})}()){this.appId=N,this.appName=k,this.namespace=q,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var k=this;return(0,W.Z)(function*(){const q=yield k.openDbPromise;return new Promise((he,Ee)=>{var We;const Vt=q.transaction([ci],"readonly").objectStore(ci),Ht=k.createCompositeKey(N);try{const qt=Vt.get(Ht);qt.onerror=Ut=>{Ee(Ri(Ut,"storage-get"))},qt.onsuccess=Ut=>{const gi=Ut.target.result;he(gi?gi.value:void 0)}}catch(qt){Ee(Qn.create("storage-get",{originalErrorMessage:null===(We=qt)||void 0===We?void 0:We.message}))}})})()}set(N,k){var q=this;return(0,W.Z)(function*(){const he=yield q.openDbPromise;return new Promise((Ee,We)=>{var nt;const Ht=he.transaction([ci],"readwrite").objectStore(ci),qt=q.createCompositeKey(N);try{const Ut=Ht.put({compositeKey:qt,value:k});Ut.onerror=gi=>{We(Ri(gi,"storage-set"))},Ut.onsuccess=()=>{Ee()}}catch(Ut){We(Qn.create("storage-set",{originalErrorMessage:null===(nt=Ut)||void 0===nt?void 0:nt.message}))}})})()}delete(N){var k=this;return(0,W.Z)(function*(){const q=yield k.openDbPromise;return new Promise((he,Ee)=>{var We;const Vt=q.transaction([ci],"readwrite").objectStore(ci),Ht=k.createCompositeKey(N);try{const qt=Vt.delete(Ht);qt.onerror=Ut=>{Ee(Ri(Ut,"storage-delete"))},qt.onsuccess=()=>{he()}}catch(qt){Ee(Qn.create("storage-delete",{originalErrorMessage:null===(We=qt)||void 0===We?void 0:We.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class qd{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,W.Z)(function*(){const k=N.storage.getLastFetchStatus(),q=N.storage.getLastSuccessfulFetchTimestampMillis(),he=N.storage.getActiveConfig(),Ee=yield k;Ee&&(N.lastFetchStatus=Ee);const We=yield q;We&&(N.lastSuccessfulFetchTimestampMillis=We);const nt=yield he;nt&&(N.activeConfig=nt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Nl(){return nf.apply(this,arguments)}function nf(){return(nf=(0,W.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Ta(){(0,be._registerComponent)(new Ce.wA("remote-config",function x(N,{instanceIdentifier:k}){const q=N.getProvider("app").getImmediate(),he=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qn.create("registration-window");if(!(0,ge.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:Ee,apiKey:We,appId:nt}=q.options;if(!Ee)throw Qn.create("registration-project-id");if(!We)throw Qn.create("registration-api-key");if(!nt)throw Qn.create("registration-app-id");const Vt=new tf(nt,q.name,k=k||"firebase"),Ht=new qd(Vt),qt=new Ie.Yd(Ws);qt.logLevel=Ie.in.ERROR;const Ut=new B(he,be.SDK_VERSION,k,Ee,We,nt),gi=new we(Ut,Vt),Wi=new fu(gi,Vt,Ht,qt),qn=new dn(q,Wi,Ht,Vt,qt);return function Zn(x){const N=(0,ge.m9)(x);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(qn),qn},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(Ws,"0.3.11"),(0,be.registerVersion)(Ws,"0.3.11","esm2017")}();const No="/firebase-messaging-sw.js",Oo="/firebase-cloud-messaging-push-scope",ia="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jn="google.c.a.c_id",Xn="google.c.a.c_l",nd="google.c.a.ts",rf="google.c.a.e";var ra=(()=>{return(x=ra||(ra={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",ra;var x})();function zs(x){const N=new Uint8Array(x);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function As(x){const k=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(k),he=new Uint8Array(q.length);for(let Ee=0;Ee<q.length;++Ee)he[Ee]=q.charCodeAt(Ee);return he}const Ja="fcm_token_details_db",Gn="fcm_token_object_Store";function Kd(x){return gc.apply(this,arguments)}function gc(){return gc=(0,W.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ee=>Ee.name).includes(Ja))return null;let N=null;return(yield(0,Ne.X3)(Ja,5,{upgrade:(q=(0,W.Z)(function*(he,Ee,We,nt){var Vt;if(Ee<2||!he.objectStoreNames.contains(Gn))return;const Ht=nt.objectStore(Gn),qt=yield Ht.index("fcmSenderId").get(x);if(yield Ht.clear(),qt)if(2===Ee){const Ut=qt;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;N={token:Ut.fcmToken,createTime:null!==(Vt=Ut.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:zs(Ut.vapidKey)}}}else if(3===Ee){const Ut=qt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:zs(Ut.auth),p256dh:zs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:zs(Ut.vapidKey)}}}else if(4===Ee){const Ut=qt;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:zs(Ut.auth),p256dh:zs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:zs(Ut.vapidKey)}}}}),function(Ee,We,nt,Vt){return q.apply(this,arguments)})})).close(),yield(0,Ne.Lj)(Ja),yield(0,Ne.Lj)("fcm_vapid_details_db"),yield(0,Ne.Lj)("undefined"),Gi(N)?N:null;var q}),gc.apply(this,arguments)}function Gi(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:N}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Ns="firebase-messaging-store";let ss=null;function _c(){return ss||(ss=(0,Ne.X3)("firebase-messaging-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(Ns)}})),ss}function Xa(x){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,W.Z)(function*(x){const N=_o(x),q=yield(yield _c()).transaction(Ns).objectStore(Ns).get(N);if(q)return q;{const he=yield Kd(x.appConfig.senderId);if(he)return yield An(x,he),he}})).apply(this,arguments)}function An(x,N){return qr.apply(this,arguments)}function qr(){return(qr=(0,W.Z)(function*(x,N){const k=_o(x),he=(yield _c()).transaction(Ns,"readwrite");return yield he.objectStore(Ns).put(N,k),yield he.done,N})).apply(this,arguments)}function el(x){return os.apply(this,arguments)}function os(){return(os=(0,W.Z)(function*(x){const N=_o(x),q=(yield _c()).transaction(Ns,"readwrite");yield q.objectStore(Ns).delete(N),yield q.done})).apply(this,arguments)}function _o({appConfig:x}){return x.appId}const ei=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zt(x,N){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,W.Z)(function*(x,N){var k;const q=yield rd(x),he=Ze(N),Ee={method:"POST",headers:q,body:JSON.stringify(he)};let We;try{We=yield(yield fetch(vo(x.appConfig),Ee)).json()}catch(nt){throw ei.create("token-subscribe-failed",{errorInfo:null===(k=nt)||void 0===k?void 0:k.toString()})}if(We.error)throw ei.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw ei.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function Ii(x,N){return mo.apply(this,arguments)}function mo(){return(mo=(0,W.Z)(function*(x,N){var k;const q=yield rd(x),he=Ze(N.subscriptionOptions),Ee={method:"PATCH",headers:q,body:JSON.stringify(he)};let We;try{We=yield(yield fetch(`${vo(x.appConfig)}/${N.token}`,Ee)).json()}catch(nt){throw ei.create("token-update-failed",{errorInfo:null===(k=nt)||void 0===k?void 0:k.toString()})}if(We.error)throw ei.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw ei.create("token-update-no-token");return We.token})).apply(this,arguments)}function Rl(x,N){return id.apply(this,arguments)}function id(){return(id=(0,W.Z)(function*(x,N){var k;const he={method:"DELETE",headers:yield rd(x)};try{const We=yield(yield fetch(`${vo(x.appConfig)}/${N}`,he)).json();if(We.error)throw ei.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(Ee){throw ei.create("token-unsubscribe-failed",{errorInfo:null===(k=Ee)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function vo({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function rd(x){return vc.apply(this,arguments)}function vc(){return(vc=(0,W.Z)(function*({appConfig:x,installations:N}){const k=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Ze({p256dh:x,auth:N,endpoint:k,vapidKey:q}){const he={web:{endpoint:k,auth:N,p256dh:x}};return q!==ia&&(he.web.applicationPubKey=q),he}const mn=6048e5;function tl(x){return sa.apply(this,arguments)}function sa(){return(sa=(0,W.Z)(function*(x){const N=yield sd(x.swRegistration,x.vapidKey),k={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:N.endpoint,auth:zs(N.getKey("auth")),p256dh:zs(N.getKey("p256dh"))},q=yield Xa(x.firebaseDependencies);if(q){if(pu(q.subscriptionOptions,k))return Date.now()>=q.createTime+mn?nl(x,{token:q.token,createTime:Date.now(),subscriptionOptions:k}):q.token;try{yield Rl(x.firebaseDependencies,q.token)}catch(he){console.warn(he)}return il(x.firebaseDependencies,k)}return il(x.firebaseDependencies,k)})).apply(this,arguments)}function Xi(x){return yc.apply(this,arguments)}function yc(){return(yc=(0,W.Z)(function*(x){const N=yield Xa(x.firebaseDependencies);N&&(yield Rl(x.firebaseDependencies,N.token),yield el(x.firebaseDependencies));const k=yield x.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function nl(x,N){return _s.apply(this,arguments)}function _s(){return(_s=(0,W.Z)(function*(x,N){try{const k=yield Ii(x.firebaseDependencies,N),q=Object.assign(Object.assign({},N),{token:k,createTime:Date.now()});return yield An(x.firebaseDependencies,q),k}catch(k){throw yield Xi(x),k}})).apply(this,arguments)}function il(x,N){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,W.Z)(function*(x,N){const q={token:yield Zt(x,N),createTime:Date.now(),subscriptionOptions:N};return yield An(x,q),q.token})).apply(this,arguments)}function sd(x,N){return bc.apply(this,arguments)}function bc(){return(bc=(0,W.Z)(function*(x,N){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:As(N)})})).apply(this,arguments)}function pu(x,N){return N.vapidKey===x.vapidKey&&N.endpoint===x.endpoint&&N.auth===x.auth&&N.p256dh===x.p256dh}function wc(x){const N={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Hi(x,N){if(!N.notification)return;x.notification={};const k=N.notification.title;k&&(x.notification.title=k);const q=N.notification.body;q&&(x.notification.body=q);const he=N.notification.image;he&&(x.notification.image=he)}(N,x),function ji(x,N){!N.data||(x.data=N.data)}(N,x),function Dc(x,N){var k,q,he,Ee,We;if(!(N.fcmOptions||null!==(k=N.notification)&&void 0!==k&&k.click_action))return;x.fcmOptions={};const nt=null!==(he=null===(q=N.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==he?he:null===(Ee=N.notification)||void 0===Ee?void 0:Ee.click_action;nt&&(x.fcmOptions.link=nt);const Vt=null===(We=N.fcmOptions)||void 0===We?void 0:We.analytics_label;Vt&&(x.fcmOptions.analyticsLabel=Vt)}(N,x),N}function yo(x){return"object"==typeof x&&!!x&&Jn in x}function Ro(x,N){const k=[];for(let q=0;q<x.length;q++)k.push(x.charAt(q)),q<N.length&&k.push(N.charAt(q));return k.join("")}function Cc(x){return ei.create("missing-app-config-values",{valueName:x})}Ro("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ro("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dp{constructor(N,k,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function sf(x){if(!x||!x.options)throw Cc("App Configuration Object");if(!x.name)throw Cc("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:k}=x;for(const q of N)if(!k[q])throw Cc(q);return{appName:x.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:he,installations:k,analyticsProvider:q}}_delete(){return Promise.resolve()}}function od(x){return gu.apply(this,arguments)}function gu(){return(gu=(0,W.Z)(function*(x){var N;try{x.swRegistration=yield navigator.serviceWorker.register(No,{scope:Oo}),x.swRegistration.update().catch(()=>{})}catch(k){throw ei.create("failed-service-worker-registration",{browserErrorMessage:null===(N=k)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function Ic(x,N){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,W.Z)(function*(x,N){if(!N&&!x.swRegistration&&(yield od(x)),N||!x.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw ei.create("invalid-sw-registration");x.swRegistration=N}})).apply(this,arguments)}function Tc(x,N){return ad.apply(this,arguments)}function ad(){return(ad=(0,W.Z)(function*(x,N){N?x.vapidKey=N:x.vapidKey||(x.vapidKey=ia)})).apply(this,arguments)}function Ec(){return(Ec=(0,W.Z)(function*(x,N){if(!navigator)throw ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ei.create("permission-blocked");return yield Tc(x,N?.vapidKey),yield Ic(x,N?.serviceWorkerRegistration),tl(x)})).apply(this,arguments)}function Fo(x,N,k){return kl.apply(this,arguments)}function kl(){return(kl=(0,W.Z)(function*(x,N,k){const q=ld(N);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:k[Jn],message_name:k[Xn],message_time:k[nd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ld(x){switch(x){case ra.NOTIFICATION_CLICKED:return"notification_open";case ra.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rl(){return(rl=(0,W.Z)(function*(x,N){const k=N.data;if(!k.isFirebaseMessaging)return;x.onMessageHandler&&k.messageType===ra.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(wc(k)):x.onMessageHandler.next(wc(k)));const q=k.data;yo(q)&&"1"===q[rf]&&(yield Fo(x,k.messageType,q))})).apply(this,arguments)}const Zs="@firebase/messaging",vr=x=>{const N=new dp(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Qd(x,N){return rl.apply(this,arguments)}(N,k)),N},Os=x=>{const N=x.getProvider("messaging").getImmediate();return{getToken:q=>function Pl(x,N){return Ec.apply(this,arguments)}(N,q)}};function cd(){return ud.apply(this,arguments)}function ud(){return(ud=(0,W.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ti(){(0,be._registerComponent)(new Ce.wA("messaging",vr,"PUBLIC")),(0,be._registerComponent)(new Ce.wA("messaging-internal",Os,"PRIVATE")),(0,be.registerVersion)(Zs,"0.9.16"),(0,be.registerVersion)(Zs,"0.9.16","esm2017")}();const Ei="analytics",ii="firebase_id",Cr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sl="https://www.googletagmanager.com/gtag/js",er=new Ie.Yd("@firebase/analytics");function oa(x){return Promise.all(x.map(N=>N.catch(k=>k)))}function ol(x,N){const k=document.createElement("script");k.src=`${sl}?l=${x}&id=${N}`,k.async=!0,document.head.appendChild(k)}function ti(x,N,k,q,he,Ee){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,W.Z)(function*(x,N,k,q,he,Ee){const We=q[he];try{if(We)yield N[We];else{const Vt=(yield oa(k)).find(Ht=>Ht.measurementId===he);Vt&&(yield N[Vt.appId])}}catch(nt){er.error(nt)}x("config",he,Ee)})).apply(this,arguments)}function al(x,N,k,q,he){return ko.apply(this,arguments)}function ko(){return(ko=(0,W.Z)(function*(x,N,k,q,he){try{let Ee=[];if(he&&he.send_to){let We=he.send_to;Array.isArray(We)||(We=[We]);const nt=yield oa(k);for(const Vt of We){const Ht=nt.find(Ut=>Ut.measurementId===Vt),qt=Ht&&N[Ht.appId];if(!qt){Ee=[];break}Ee.push(qt)}}0===Ee.length&&(Ee=Object.values(N)),yield Promise.all(Ee),x("event",q,he||{})}catch(Ee){er.error(Ee)}})).apply(this,arguments)}function Xd(){const x=window.document.getElementsByTagName("script");for(const N of Object.values(x))if(N.src&&N.src.includes(sl))return N;return null}const xi=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ul=new class Ms{constructor(N={},k=1e3){this.throttleMetadata=N,this.intervalMillis=k}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,k){this.throttleMetadata[N]=k}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function dd(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Aa(x){return mu.apply(this,arguments)}function mu(){return(mu=(0,W.Z)(function*(x){var N;const{appId:k,apiKey:q}=x,he={method:"GET",headers:dd(q)},Ee=Cr.replace("{app-id}",k),We=yield fetch(Ee,he);if(200!==We.status&&304!==We.status){let nt="";try{const Vt=yield We.json();null!==(N=Vt.error)&&void 0!==N&&N.message&&(nt=Vt.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:We.status,responseMessage:nt})}return We.json()})).apply(this,arguments)}function Si(x){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,W.Z)(function*(x,N=Ul,k){const{appId:q,apiKey:he,measurementId:Ee}=x.options;if(!q)throw xi.create("no-app-id");if(!he){if(Ee)return{measurementId:Ee,appId:q};throw xi.create("no-api-key")}const We=N.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new ul;return setTimeout((0,W.Z)(function*(){nt.abort()}),void 0!==k?k:6e4),ll({appId:q,apiKey:he,measurementId:Ee},We,nt,N)})).apply(this,arguments)}function ll(x,N,k){return cl.apply(this,arguments)}function cl(){return(cl=(0,W.Z)(function*(x,{throttleEndTimeMillis:N,backoffCount:k},q,he=Ul){var Ee,We;const{appId:nt,measurementId:Vt}=x;try{yield Nc(q,N)}catch(Ht){if(Vt)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${null===(Ee=Ht)||void 0===Ee?void 0:Ee.message}]`),{appId:nt,measurementId:Vt};throw Ht}try{const Ht=yield Aa(x);return he.deleteThrottleMetadata(nt),Ht}catch(Ht){const qt=Ht;if(!vu(qt)){if(he.deleteThrottleMetadata(nt),Vt)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${qt?.message}]`),{appId:nt,measurementId:Vt};throw Ht}const Ut=503===Number(null===(We=qt?.customData)||void 0===We?void 0:We.httpStatus)?(0,ge.$s)(k,he.intervalMillis,30):(0,ge.$s)(k,he.intervalMillis),gi={throttleEndTimeMillis:Date.now()+Ut,backoffCount:k+1};return he.setThrottleMetadata(nt,gi),er.debug(`Calling attemptFetch again in ${Ut} millis`),ll(x,gi,q,he)}})).apply(this,arguments)}function Nc(x,N){return new Promise((k,q)=>{const he=Math.max(N-Date.now(),0),Ee=setTimeout(k,he);x.addEventListener(()=>{clearTimeout(Ee),q(xi.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function vu(x){if(!(x instanceof ge.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}class ul{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let bo,Rc;function Na(){return(Na=(0,W.Z)(function*(x,N,k,q,he){if(he&&he.global)x("event",k,q);else{const Ee=yield N;x("event",k,Object.assign(Object.assign({},q),{send_to:Ee}))}})).apply(this,arguments)}function la(x){Rc=x}function hl(x){bo=x}function wo(){return ca.apply(this,arguments)}function ca(){return(ca=(0,W.Z)(function*(){var x;if(!(0,ge.hl)())return er.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(N){return er.warn(xi.create("indexeddb-unavailable",{errorInfo:null===(x=N)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function Bo(){return(Bo=(0,W.Z)(function*(x,N,k,q,he,Ee,We){var nt;const Vt=Si(x);Vt.then(Wi=>{k[Wi.measurementId]=Wi.appId,x.options.measurementId&&Wi.measurementId!==x.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Wi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wi=>er.error(Wi)),N.push(Vt);const Ht=wo().then(Wi=>{if(Wi)return q.getId()}),[qt,Ut]=yield Promise.all([Vt,Ht]);Xd()||ol(Ee,qt.measurementId),Rc&&(he("consent","default",Rc),la(void 0)),he("js",new Date);const gi=null!==(nt=We?.config)&&void 0!==nt?nt:{};return gi.origin="firebase",gi.update=!0,null!=Ut&&(gi[ii]=Ut),he("config",qt.measurementId,gi),bo&&(he("set",bo),hl(void 0)),qt.measurementId})).apply(this,arguments)}class fl{constructor(N){this.app=N}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},Oa=[];const $l={};let Hl,Vo,Gl="dataLayer",ua=!1;function Fc(x,N,k){!function U(){const x=[];if((0,ge.ru)()&&x.push("This is a browser extension environment."),(0,ge.zI)()||x.push("Cookies are not available."),x.length>0){const N=x.map((q,he)=>`(${he+1}) ${q}`).join(" "),k=xi.create("invalid-analytics-context",{errorInfo:N});er.warn(k.message)}}();const q=x.options.appId;if(!q)throw xi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw xi.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[q])throw xi.create("already-exists",{id:q});if(!ua){!function xc(x){let N=[];Array.isArray(window[x])?N=window[x]:window[x]=N}(Gl);const{wrappedGtag:Ee,gtagCore:We}=function Sc(x,N,k,q,he){let Ee=function(...We){window[q].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Ee=window[he]),window[he]=function _u(x,N,k,q){function Ee(){return(Ee=(0,W.Z)(function*(We,nt,Vt){try{"event"===We?yield al(x,N,k,nt,Vt):"config"===We?yield ti(x,N,k,q,nt,Vt):"consent"===We?x("consent","update",Vt):x("set",nt)}catch(Ht){er.error(Ht)}})).apply(this,arguments)}return function he(We,nt,Vt){return Ee.apply(this,arguments)}}(Ee,x,N,k),{gtagCore:Ee,wrappedGtag:window[he]}}(Ir,Oa,$l,Gl,"gtag");Vo=Ee,Hl=We,ua=!0}return Ir[q]=function Lo(x,N,k,q,he,Ee,We){return Bo.apply(this,arguments)}(x,Oa,$l,N,Hl,Gl,k),new fl(x)}function wn(){return eh.apply(this,arguments)}function eh(){return(eh=(0,W.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}const af="@firebase/analytics";!function Zr(){(0,be._registerComponent)(new Ce.wA(Ei,(N,{options:k})=>Fc(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,be._registerComponent)(new Ce.wA("analytics-internal",function x(N){try{const k=N.getProvider(Ei).getImmediate();return{logEvent:(q,he,Ee)=>function kc(x,N,k,q){x=(0,ge.m9)(x),function yu(x,N,k,q,he){return Na.apply(this,arguments)}(Vo,Ir[x.app.options.appId],N,k,q).catch(he=>er.error(he))}(k,q,he,Ee)}}catch(k){throw xi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,be.registerVersion)(af,"0.8.0"),(0,be.registerVersion)(af,"0.8.0","esm2017")}();var ar=j(4408),ri=j(7565);const It=new class zn extends ri.v{}(class lr extends ar.o{constructor(N,k){super(N,k),this.scheduler=N,this.work=k}schedule(N,k=0){return k>0?super.schedule(N,k):(this.delay=k,this.state=N,this.scheduler.flush(this),this)}execute(N,k){return k>0||this.closed?super.execute(N,k):this._execute(N,k)}requestAsyncId(N,k,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(N,k,q):N.flush(this)}});var pd=j(4986),Du=j(8505),pl=j(5363),gd=j(9468);const nr=new c.GfV("7.4.1"),Lc="__angularfire_symbol__analyticsIsSupportedValue",Ma="__angularfire_symbol__analyticsIsSupported",vs="__angularfire_symbol__remoteConfigIsSupportedValue",Bc="__angularfire_symbol__remoteConfigIsSupported",_d="__angularfire_symbol__messagingIsSupportedValue",md="__angularfire_symbol__messagingIsSupported";function Uc(x,N,k){if(N){if(1===N.length)return N[0];const Ee=N.filter(We=>We.app===k);if(1===Ee.length)return Ee[0]}return k.container.getProvider(x).getImmediate({optional:!0})}globalThis[Ma]||(globalThis[Ma]=wn().then(x=>globalThis[Lc]=x).catch(()=>globalThis[Lc]=!1)),globalThis[md]||(globalThis[md]=cd().then(x=>globalThis[_d]=x).catch(()=>globalThis[_d]=!1)),globalThis[Bc]||(globalThis[Bc]=Nl().then(x=>globalThis[vs]=x).catch(()=>globalThis[vs]=!1));const $c=(x,N)=>{const k=N?[N]:(0,P.C6)(),q=[];return k.forEach(he=>{he.container.getProvider(x).instances.forEach(We=>{q.includes(We)||q.push(We)})}),q};function Ai(){}class Fi{constructor(N,k=It){this.zone=N,this.delegate=k}now(){return this.delegate.now()}schedule(N,k,q){const he=this.zone;return this.delegate.schedule(function(We){he.runGuarded(()=>{N.apply(this,[We])})},k,q)}}class Fs{constructor(N){this.zone=N,this.task=null}call(N,k){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ai,{},Ai,Ai)),k.pipe((0,Du.b)({next:q,complete:q,error:q})).subscribe(N).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jn=(()=>{class x{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Fi(Zone.current)),this.insideAngular=k.run(()=>new Fi(Zone.current,pd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(k){return new(k||x)(c.LFG(c.R0b))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function bt(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Ps(x){return x.pipe((0,pl.Q)(bt().outsideAngular))}function yr(x){return bt(),function Cu(x){return function(k){return(k=k.lift(new Fs(x.ngZone))).pipe((0,gd.R)(x.outsideAngular),(0,pl.Q)(x.insideAngular))}}(bt())(x)}},2090:(At,Ge,j)=>{"use strict";j.d(Ge,{$s:()=>Ts,BH:()=>tt,G6:()=>ft,L:()=>Ne,LL:()=>it,Sg:()=>Ue,UG:()=>Oe,US:()=>Ce,ZB:()=>X,ZR:()=>ve,b$:()=>xt,eu:()=>Re,hl:()=>Q,jU:()=>Me,m9:()=>In,ne:()=>vi,pd:()=>Oi,r3:()=>gr,ru:()=>at,tV:()=>Ae,uI:()=>ht,vZ:()=>En,w1:()=>Pe,xO:()=>ns,xb:()=>Qt,z$:()=>Le,zI:()=>ae,zd:()=>hi});const be=function(oe){const te=[];let K=0;for(let ne=0;ne<oe.length;ne++){let ie=oe.charCodeAt(ne);ie<128?te[K++]=ie:ie<2048?(te[K++]=ie>>6|192,te[K++]=63&ie|128):55296==(64512&ie)&&ne+1<oe.length&&56320==(64512&oe.charCodeAt(ne+1))?(ie=65536+((1023&ie)<<10)+(1023&oe.charCodeAt(++ne)),te[K++]=ie>>18|240,te[K++]=ie>>12&63|128,te[K++]=ie>>6&63|128,te[K++]=63&ie|128):(te[K++]=ie>>12|224,te[K++]=ie>>6&63|128,te[K++]=63&ie|128)}return te},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,te){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let ie=0;ie<oe.length;ie+=3){const ze=oe[ie],ut=ie+1<oe.length,Pt=ut?oe[ie+1]:0,oi=ie+2<oe.length,kn=oi?oe[ie+2]:0;let on=(15&Pt)<<2|kn>>6,ai=63&kn;oi||(ai=64,ut||(on=64)),ne.push(K[ze>>2],K[(3&ze)<<4|Pt>>4],K[on],K[ai])}return ne.join("")},encodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(oe):this.encodeByteArray(be(oe),te)},decodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(oe):function(oe){const te=[];let K=0,ne=0;for(;K<oe.length;){const ie=oe[K++];if(ie<128)te[ne++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const ze=oe[K++];te[ne++]=String.fromCharCode((31&ie)<<6|63&ze)}else if(ie>239&&ie<365){const oi=((7&ie)<<18|(63&oe[K++])<<12|(63&oe[K++])<<6|63&oe[K++])-65536;te[ne++]=String.fromCharCode(55296+(oi>>10)),te[ne++]=String.fromCharCode(56320+(1023&oi))}else{const ze=oe[K++],ut=oe[K++];te[ne++]=String.fromCharCode((15&ie)<<12|(63&ze)<<6|63&ut)}}return te.join("")}(this.decodeStringToByteArray(oe,te))},decodeStringToByteArray(oe,te){this.init_();const K=te?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let ie=0;ie<oe.length;){const ze=K[oe.charAt(ie++)],Pt=ie<oe.length?K[oe.charAt(ie)]:0;++ie;const kn=ie<oe.length?K[oe.charAt(ie)]:64;++ie;const _n=ie<oe.length?K[oe.charAt(ie)]:64;if(++ie,null==ze||null==Pt||null==kn||null==_n)throw Error();ne.push(ze<<2|Pt>>4),64!==kn&&(ne.push(Pt<<4&240|kn>>2),64!==_n&&ne.push(kn<<6&192|_n))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},Ne=function(oe){return function(oe){const te=be(oe);return Ce.encodeByteArray(te,!0)}(oe).replace(/\./g,"")},Ae=function(oe){try{return Ce.decodeString(oe,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function X(oe,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return te}for(const K in te)!te.hasOwnProperty(K)||!ue(K)||(oe[K]=X(oe[K],te[K]));return oe}function ue(oe){return"__proto__"!==oe}class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,K)=>{this.resolve=te,this.reject=K})}wrapCallback(te){return(K,ne)=>{K?this.reject(K):this.resolve(ne),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(K):te(K,ne))}}}function Ue(oe,te){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=te||"demo-project",ie=oe.iat||0,ze=oe.sub||oe.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:ie,exp:ie+3600,auth_time:ie,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(ut)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ht(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return"object"==typeof self&&self.self===self}function at(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){const oe=Le();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function ft(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"object"==typeof indexedDB}function Re(){return new Promise((oe,te)=>{try{let K=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(ne);ie.onsuccess=()=>{ie.result.close(),K||self.indexedDB.deleteDatabase(ne),oe(!0)},ie.onupgradeneeded=()=>{K=!1},ie.onerror=()=>{var ze;te((null===(ze=ie.error)||void 0===ze?void 0:ze.message)||"")}}catch(K){te(K)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(te,K,ne){super(K),this.code=te,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(te,K,ne){this.service=te,this.serviceName=K,this.errors=ne}create(te,...K){const ne=K[0]||{},ie=`${this.service}/${te}`,ze=this.errors[te],ut=ze?function Je(oe,te){return oe.replace(Mt,(K,ne)=>{const ie=te[ne];return null!=ie?String(ie):`<${ne}?>`})}(ze,ne):"Error";return new ve(ie,`${this.serviceName}: ${ut} (${ie}).`,ne)}}const Mt=/\{\$([^}]+)}/g;function gr(oe,te){return Object.prototype.hasOwnProperty.call(oe,te)}function Qt(oe){for(const te in oe)if(Object.prototype.hasOwnProperty.call(oe,te))return!1;return!0}function En(oe,te){if(oe===te)return!0;const K=Object.keys(oe),ne=Object.keys(te);for(const ie of K){if(!ne.includes(ie))return!1;const ze=oe[ie],ut=te[ie];if(Pn(ze)&&Pn(ut)){if(!En(ze,ut))return!1}else if(ze!==ut)return!1}for(const ie of ne)if(!K.includes(ie))return!1;return!0}function Pn(oe){return null!==oe&&"object"==typeof oe}function ns(oe){const te=[];for(const[K,ne]of Object.entries(oe))Array.isArray(ne)?ne.forEach(ie=>{te.push(encodeURIComponent(K)+"="+encodeURIComponent(ie))}):te.push(encodeURIComponent(K)+"="+encodeURIComponent(ne));return te.length?"&"+te.join("&"):""}function hi(oe){const te={};return oe.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[ie,ze]=ne.split("=");te[decodeURIComponent(ie)]=decodeURIComponent(ze)}}),te}function Oi(oe){const te=oe.indexOf("?");if(!te)return"";const K=oe.indexOf("#",te);return oe.substring(te,K>0?K:void 0)}function vi(oe,te){const K=new yt(oe,te);return K.subscribe.bind(K)}class yt{constructor(te,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{te(this)}).catch(ne=>{this.error(ne)})}next(te){this.forEachObserver(K=>{K.next(te)})}error(te){this.forEachObserver(K=>{K.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,K,ne){let ie;if(void 0===te&&void 0===K&&void 0===ne)throw new Error("Missing Observer.");ie=function jr(oe,te){if("object"!=typeof oe||null===oe)return!1;for(const K of te)if(K in oe&&"function"==typeof oe[K])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:K,complete:ne},void 0===ie.next&&(ie.next=Cn),void 0===ie.error&&(ie.error=Cn),void 0===ie.complete&&(ie.complete=Cn);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),ze}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,te)}sendOne(te,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{K(this.observers[te])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function Ts(oe,te=1e3,K=2){const ne=te*Math.pow(K,oe),ie=Math.round(.5*ne*(Math.random()-.5)*2);return Math.min(144e5,ne+ie)}function In(oe){return oe&&oe._delegate?oe._delegate:oe}},6788:(At,Ge,j)=>{"use strict";var c=j(4650);let P=null;function W(){return P}const Ie=new c.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ae(){return(0,c.LFG)(X)}()},providedIn:"platform"}),n})();const J=new c.OlP("Location Initialized");let X=(()=>{class n extends Ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(t){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ue()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ue()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function tt(){return new X((0,c.LFG)(Ie))}()},providedIn:"platform"}),n})();function ue(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ht(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(at)},providedIn:"root"}),n})();const Me=new c.OlP("appBaseHref");let at=(()=>{class n extends Oe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ht(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+ht(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+ht(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ne),c.LFG(Me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xt=(()=>{class n extends Oe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ue(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+ht(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+ht(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ne),c.LFG(Me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Le(st(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ht(i))}normalize(t){return n.stripTrailingSlash(function ke(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,st(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ht,n.joinWithSlash=Ue,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(c.LFG(Oe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return new He((0,c.LFG)(Oe))}()},providedIn:"root"}),n})();function st(n){return n.replace(/\/index.html$/,"")}class Ia{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dr=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ia(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const g=i.get(a);i.move(g,u),Qi(g,r)}});for(let r=0,a=i.length;r<a;r++){const g=i.get(r).context;g.index=r,g.count=a,g.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Qi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Qi(n,e){n.context.$implicit=e.item}let Zn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ya,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$i("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$i("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ya{constructor(){this.$implicit=null,this.ngIf=null}}function $i(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Ji{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let po=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),gs=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ji(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(po,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),go=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})(),mr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const ra="browser";function pc(n){return n===ra}function Gn(n){return"server"===n}let Ol=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new qs((0,c.LFG)(Ie),window)}),n})();class qs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ss(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ns(this.window.history)||Ns(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ns(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class rl extends class Qd extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){P||(P=n)}(new rl)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ms(){return Zs=Zs||document.querySelector("base"),Zs?Zs.getAttribute("href"):null}();return null==t?null:function Os(n){vr=vr||document.createElement("a"),vr.setAttribute("href",n);const e=vr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function rs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let vr,Zs=null;const Ti=new c.OlP("TRANSITION_ID"),ud=[{provide:c.ip1,useFactory:function cd(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=W(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Ti,Ie,c.zs3],multi:!0}];let Ll=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const de=new c.OlP("EventManagerPlugins");let Ve=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class xe{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=W().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ct=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Yt=(()=>{class n extends Ct{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Hn),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Hn))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Hn(n){W().remove(n)}const Ei={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ii=/%COMP%/g;function ol(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ol(n,r,t):(r=r.replace(ii,n),t.push(r))}return t}function xc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Bl=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new al(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Xd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new Ac(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=ol(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ve),c.LFG(Yt),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class al{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ei[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Sc(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Sc(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Ei[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ei[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xc(i)):this.eventManager.addEventListener(e,t,xc(i))}}function Sc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xd extends al{constructor(e,t,i,r){super(e),this.component=i;const a=ol(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function er(n){return"_ngcontent-%COMP%".replace(ii,n)}(r+"-"+i.id),this.hostAttr=function oa(n){return"_nghost-%COMP%".replace(ii,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Ac extends al{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ol(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const g=document.createElement("style");g.textContent=a[u],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let xi=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Sa=["alt","control","meta","shift"],Vl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ms={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ul=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",g=i.indexOf("code");if(g>-1&&(i.splice(g,1),u="code."),Sa.forEach(C=>{const S=i.indexOf(C);S>-1&&(i.splice(S,1),u+=C+".")}),u+=a,0!=i.length||0===a.length)return null;const y={};return y.domEventName=r,y.fullKey=u,y}static matchEventFullKeyCode(t,i){let r=Vl[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Sa.forEach(u=>{u!==r&&(0,Ms[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ul=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:ra},{provide:c.g9A,useValue:function ll(){rl.makeCurrent()},multi:!0},{provide:Ie,useFactory:function Nc(){return(0,c.RDi)(document),document},deps:[]}]),bo=new c.OlP(""),yu=[{provide:c.rWj,useClass:class Jd{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const g=function(y){u=u||y,a--,0==a&&i(u)};r.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?W().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Na=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function cl(){return new c.qLn},deps:[]},{provide:de,useClass:xi,multi:!0,deps:[Ie,c.R0b,c.Lbi]},{provide:de,useClass:Ul,multi:!0,deps:[Ie]},{provide:Bl,useClass:Bl,deps:[Ve,Yt,c.AFp]},{provide:c.FYo,useExisting:Bl},{provide:Ct,useExisting:Yt},{provide:Yt,useClass:Yt,deps:[Ie]},{provide:Ve,useClass:Ve,deps:[de,c.R0b]},{provide:class Xa{},useClass:Ll,deps:[]},[]];let bu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Ti,useExisting:c.AFp},ud]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bo,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Na,...yu],imports:[mr,c.hGG]}),n})(),aa=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function tr(){return new aa((0,c.LFG)(Ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;const Fc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},jl=new c.OlP("HammerGestureConfig"),Ys=new c.OlP("HammerLoader");let wn=(()=>{class n{constructor(){this.events=[],this.overrides={}}buildHammer(t){const i=new Hammer(t,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(const r in this.overrides)i.get(r).set(this.overrides[r]);return i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),eh=(()=>{class n extends xe{constructor(t,i,r,a){super(t),this._config=i,this.console=r,this.loader=a,this._loaderPromise=null}supports(t){return!(!Fc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader)}addEventListener(t,i,r){const a=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||a.runOutsideAngular(()=>this.loader());let u=!1,g=()=>{u=!0};return a.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?u||(g=this.addEventListener(t,i,r)):g=()=>{}}).catch(()=>{g=()=>{}})),()=>{g()}}return a.runOutsideAngular(()=>{const u=this._config.buildHammer(t),g=function(y){a.runGuarded(function(){r(y)})};return u.on(i,g),()=>{u.off(i,g),"function"==typeof u.destroy&&u.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie),c.LFG(jl),c.LFG(c.c2e),c.LFG(Ys,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ug=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:de,useClass:eh,multi:!0,deps:[Ie,jl,c.c2e,[new c.FiY,Ys]]},{provide:jl,useClass:wn,deps:[]}]}),n})(),Pc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(hp),i},providedIn:"root"}),n})(),hp=(()=>{class n extends Pc{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Wl(n){return new hp(n.get(Ie))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var kc=j(5386),Wn=j(7579),af=j(6063);class Rs extends Wn.x{constructor(e=1/0,t=1/0,i=af.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let g=0;for(let y=1;y<i.length&&i[y]<=u;y+=2)g=y;g&&i.splice(0,g+1)}}}var Zr=j(6451),ar=j(8421),lr=j(4482),ri=j(5403);function zn(n,e){return(0,lr.e)((t,i)=>{let r=null,a=0,u=!1;const g=()=>u&&!r&&i.complete();t.subscribe((0,ri.x)(i,y=>{r?.unsubscribe();let C=0;const S=a++;(0,ar.Xf)(n(y,S)).subscribe(r=(0,ri.x)(i,R=>i.next(e?e(y,R,S,C++):R),()=>{r=null,g()}))},()=>{u=!0,g()}))})}var It=j(4004);const fd={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return fd.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return fd.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let nr;function md(n,e,t){let i=t;return function Du(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,a)=>!("*"===r||!function Lc(n,e){if(!nr){const t=Element.prototype;nr=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&nr.call(n,e)}(n,r)||(i=a,0))),i}class fp{constructor(e,t){this.componentFactory=t.get(c._Vd).resolveComponentFactory(e)}create(e){return new vd(this.componentFactory,e)}}class vd{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new Rs(1),this.events=this.eventEmitters.pipe(zn(i=>(0,Zr.T)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(c.R0b),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=fd.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function Ma(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=c.zs3.create({providers:[],parent:this.injector}),i=function _d(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((a,u)=>"*"===a&&(r=u,!0));for(let a=0,u=t.length;a<u;++a){const g=t[a],y=md(g,e,r);-1!==y&&i[y].push(g)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(c.sBO),this.implementsOnChanges=function pl(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(c.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe((0,It.U)(u=>({name:r,value:u}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=fd.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),a=r?void 0:this.getInputValue(e);this.inputChanges[e]=new c.WD2(a,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class lf extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}var Ai=j(9751),Fi=j(515),Fs=j(3269),jn=j(8996);function bt(...n){const e=(0,Fs.yG)(n);return(0,jn.D)(n,e)}var cr=j(5577),Pr=j(1144),Ps=j(576);const{isArray:Ks}=Array;function Cu(n){return(0,It.U)(e=>function yr(n,e){return Ks(e)?n(...e):n(e)}(n,e))}const ir=["addListener","removeListener"],th=["addEventListener","removeEventListener"],x=["on","off"];function N(n,e,t,i){if((0,Ps.m)(t)&&(i=t,t=void 0),i)return N(n,e,t).pipe(Cu(i));const[r,a]=function Ee(n){return(0,Ps.m)(n.addEventListener)&&(0,Ps.m)(n.removeEventListener)}(n)?th.map(u=>g=>n[u](e,g,t)):function q(n){return(0,Ps.m)(n.addListener)&&(0,Ps.m)(n.removeListener)}(n)?ir.map(k(n,e)):function he(n){return(0,Ps.m)(n.on)&&(0,Ps.m)(n.off)}(n)?x.map(k(n,e)):[];if(!r&&(0,Pr.z)(n))return(0,cr.z)(u=>N(u,e,t))((0,ar.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ai.y(u=>{const g=(...y)=>u.next(1<y.length?y:y[0]);return r(g),()=>a(g)})}function k(n,e){return t=>i=>n[t](e,i)}var We=j(4986),nt=j(3532);function Ht(n=0,e,t=We.P){let i=-1;return null!=e&&((0,nt.K)(e)?t=e:i=e),new Ai.y(r=>{let a=function Vt(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}const{isArray:qt}=Array;function Ut(n){return 1===n.length&&qt(n[0])?n[0]:n}function gi(...n){return 1===(n=Ut(n)).length?(0,ar.Xf)(n[0]):new Ai.y(function Wi(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,ar.Xf)(n[i]).subscribe((0,ri.x)(e,r=>{if(t){for(let a=0;a<t.length;a++)a!==i&&t[a].unsubscribe();t=null}e.next(r)})))}}(n))}class qn extends Wn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:ur}=Array,{getPrototypeOf:da,prototype:zl,keys:Ra}=Object;var Qs=j(4671);var cf=j(9672);function nh(...n){const e=(0,Fs.yG)(n),t=(0,Fs.jO)(n),{args:i,keys:r}=function Fa(n){if(1===n.length){const e=n[0];if(ur(e))return{args:e,keys:null};if(function Pa(n){return n&&"object"==typeof n&&da(n)===zl}(e)){const t=Ra(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return(0,jn.D)([],e);const a=new Ai.y(function $g(n,e,t=Qs.y){return i=>{Gc(e,()=>{const{length:r}=n,a=new Array(r);let u=r,g=r;for(let y=0;y<r;y++)Gc(e,()=>{const C=(0,jn.D)(n[y],e);let S=!1;C.subscribe((0,ri.x)(i,R=>{a[y]=R,S||(S=!0,g--),g||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>function gl(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,u):Qs.y));return t?a.pipe(Cu(t)):a}function Gc(n,e,t){n?(0,cf.f)(t,n,e):e()}var Hc=j(5032);const Iu=new Ai.y(Hc.Z);function Tu(...n){const e=(0,Fs.jO)(n),t=Ut(n);return t.length?new Ai.y(i=>{let r=t.map(()=>[]),a=t.map(()=>!1);i.add(()=>{r=a=null});for(let u=0;!i.closed&&u<t.length;u++)(0,ar.Xf)(t[u]).subscribe((0,ri.x)(i,g=>{if(r[u].push(g),r.every(y=>y.length)){const y=r.map(C=>C.shift());i.next(e?e(...y):y),r.some((C,S)=>!C.length&&a[S])&&i.complete()}},()=>{a[u]=!0,!r[u].length&&i.complete()}));return()=>{r=a=null}}):Fi.E}var ih=j(8189);function rh(...n){return function gp(){return(0,ih.J)(1)}()((0,jn.D)(n,(0,Fs.yG)(n)))}function dr(n){return(0,lr.e)((e,t)=>{(0,ar.Xf)(n).subscribe((0,ri.x)(t,()=>t.complete(),Hc.Z)),!t.closed&&e.subscribe(t)})}function rr(n,e){return(0,lr.e)((t,i)=>{let r=0;t.subscribe((0,ri.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}function Pi(n){return n<=0?()=>Fi.E:(0,lr.e)((e,t)=>{let i=0;e.subscribe((0,ri.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ha(...n){const e=(0,Fs.yG)(n);return(0,lr.e)((t,i)=>{(e?rh(n,t,e):rh(n,t)).subscribe(i)})}function fa(n,e=Qs.y){return n=n??_p,(0,lr.e)((t,i)=>{let r,a=!0;t.subscribe((0,ri.x)(i,u=>{const g=e(u);(a||!n(r,g))&&(a=!1,r=g,i.next(u))}))})}function _p(n,e){return n===e}var hr=j(8505);function mp(...n){const e=(0,Fs.jO)(n);return(0,lr.e)((t,i)=>{const r=n.length,a=new Array(r);let u=n.map(()=>!1),g=!1;for(let y=0;y<r;y++)(0,ar.Xf)(n[y]).subscribe((0,ri.x)(i,C=>{a[y]=C,!g&&!u[y]&&(u[y]=!0,(g=u.every(Qs.y))&&(u=null))},Hc.Z));t.subscribe((0,ri.x)(i,y=>{if(g){const C=[y,...a];i.next(e?e(...C):C)}}))})}function ka(n){return(0,It.U)(()=>n)}function uf(n,e){return e?t=>rh(e.pipe(Pi(1),function Eu(){return(0,lr.e)((n,e)=>{n.subscribe((0,ri.x)(e,Hc.Z))})}()),t.pipe(uf(n))):(0,cr.z)((t,i)=>n(t,i).pipe(Pi(1),ka(t)))}function oh(n,e=We.z){const t=Ht(n,e);return uf(()=>t)}var Uo=j(3099);let Zm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),s_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Zm]}),n})(),ev=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[s_]}),n})();var a_={left:"right",right:"left",bottom:"top",top:"bottom"};function Cf(n){return n.replace(/left|right|bottom|top/g,function(e){return a_[e]})}function Ua(n){return n.split("-")[0]}var W0={start:"end",end:"start"};function tv(n){return n.replace(/start|end/g,function(e){return W0[e]})}var zo="top",$a="bottom",Bs="right",qo="left",Fp="auto",If=[zo,$a,Bs,qo],Tf="start",Gu="end",l_="viewport",Th="popper",Ef=If.reduce(function(n,e){return n.concat([e+"-"+Tf,e+"-"+Gu])},[]),u_=[].concat(If,[Fp]).reduce(function(n,e){return n.concat([e,e+"-"+Tf,e+"-"+Gu])},[]),Z0=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ga(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Hu(n){return n instanceof Ga(n).Element||n instanceof Element}function Zo(n){return n instanceof Ga(n).HTMLElement||n instanceof HTMLElement}function Lp(n){return!(typeof ShadowRoot>"u")&&(n instanceof Ga(n).ShadowRoot||n instanceof ShadowRoot)}function Fd(n){return((Hu(n)?n.ownerDocument:n.document)||window.document).documentElement}var _l=Math.max,Bp=Math.min,ju=Math.round;function Vp(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Up(){return!/^((?!chrome|android).)*safari/i.test(Vp())}function Vs(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=n.getBoundingClientRect(),r=1,a=1;e&&Zo(n)&&(r=n.offsetWidth>0&&ju(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&ju(i.height)/n.offsetHeight||1);var g=(Hu(n)?Ga(n):window).visualViewport,y=!Up()&&t,C=(i.left+(y&&g?g.offsetLeft:0))/r,S=(i.top+(y&&g?g.offsetTop:0))/a,R=i.width/r,H=i.height/a;return{width:R,height:H,top:S,right:C+R,bottom:S+H,left:C,x:C,y:S}}function $p(n){var e=Ga(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Sf(n){return Vs(Fd(n)).left+$p(n).scrollLeft}function Xc(n){return Ga(n).getComputedStyle(n)}function ic(n){return n?(n.nodeName||"").toLowerCase():null}function Wu(n){return"html"===ic(n)?n:n.assignedSlot||n.parentNode||(Lp(n)?n.host:null)||Fd(n)}function xh(n){var e=Xc(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function ov(n){return["html","body","#document"].indexOf(ic(n))>=0?n.ownerDocument.body:Zo(n)&&xh(n)?n:ov(Wu(n))}function Af(n,e){var t;void 0===e&&(e=[]);var i=ov(n),r=i===(null==(t=n.ownerDocument)?void 0:t.body),a=Ga(i),u=r?[a].concat(a.visualViewport||[],xh(i)?i:[]):i,g=e.concat(u);return r?g:g.concat(Af(Wu(u)))}function an(n){return["table","td","th"].indexOf(ic(n))>=0}function Gp(n){return Zo(n)&&"fixed"!==Xc(n).position?n.offsetParent:null}function Sh(n){for(var e=Ga(n),t=Gp(n);t&&an(t)&&"static"===Xc(t).position;)t=Gp(t);return t&&("html"===ic(t)||"body"===ic(t)&&"static"===Xc(t).position)?e:t||function av(n){var e=/firefox/i.test(Vp());if(/Trident/i.test(Vp())&&Zo(n)&&"fixed"===Xc(n).position)return null;var r=Wu(n);for(Lp(r)&&(r=r.host);Zo(r)&&["html","body"].indexOf(ic(r))<0;){var a=Xc(r);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||e&&"filter"===a.willChange||e&&a.filter&&"none"!==a.filter)return r;r=r.parentNode}return null}(n)||e}function lv(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Lp(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function h_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function uv(n,e,t){return e===l_?h_(function sv(n,e){var t=Ga(n),i=Fd(n),r=t.visualViewport,a=i.clientWidth,u=i.clientHeight,g=0,y=0;if(r){a=r.width,u=r.height;var C=Up();(C||!C&&"fixed"===e)&&(g=r.offsetLeft,y=r.offsetTop)}return{width:a,height:u,x:g+Sf(n),y}}(n,t)):Hu(e)?function cv(n,e){var t=Vs(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):h_(function Y0(n){var e,t=Fd(n),i=$p(n),r=null==(e=n.ownerDocument)?void 0:e.body,a=_l(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=_l(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),g=-i.scrollLeft+Sf(n),y=-i.scrollTop;return"rtl"===Xc(r||t).direction&&(g+=_l(t.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:g,y}}(Fd(n)))}function Ah(n){return n.split("-")[1]}function hv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function f_(n){var y,e=n.reference,t=n.element,i=n.placement,r=i?Ua(i):null,a=i?Ah(i):null,u=e.x+e.width/2-t.width/2,g=e.y+e.height/2-t.height/2;switch(r){case zo:y={x:u,y:e.y-t.height};break;case $a:y={x:u,y:e.y+e.height};break;case Bs:y={x:e.x+e.width,y:g};break;case qo:y={x:e.x-t.width,y:g};break;default:y={x:e.x,y:e.y}}var C=r?hv(r):null;if(null!=C){var S="y"===C?"height":"width";switch(a){case Tf:y[C]=y[C]-(e[S]/2-t[S]/2);break;case Gu:y[C]=y[C]+(e[S]/2-t[S]/2)}}return y}function bs(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function fv(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}function Nf(n,e){void 0===e&&(e={});var i=e.placement,r=void 0===i?n.placement:i,a=e.strategy,u=void 0===a?n.strategy:a,g=e.boundary,y=void 0===g?"clippingParents":g,C=e.rootBoundary,S=void 0===C?l_:C,R=e.elementContext,H=void 0===R?Th:R,Z=e.altBoundary,ce=void 0!==Z&&Z,me=e.padding,De=void 0===me?0:me,ot=bs("number"!=typeof De?De:fv(De,If)),vt=n.rects.popper,rt=n.elements[ce?H===Th?"reference":Th:H],gt=function K0(n,e,t,i){var r="clippingParents"===e?function dv(n){var e=Af(Wu(n)),i=["absolute","fixed"].indexOf(Xc(n).position)>=0&&Zo(n)?Sh(n):n;return Hu(i)?e.filter(function(r){return Hu(r)&&lv(r,i)&&"body"!==ic(r)}):[]}(n):[].concat(e),a=[].concat(r,[t]),g=a.reduce(function(y,C){var S=uv(n,C,i);return y.top=_l(S.top,y.top),y.right=Bp(S.right,y.right),y.bottom=Bp(S.bottom,y.bottom),y.left=_l(S.left,y.left),y},uv(n,a[0],i));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}(Hu(rt)?rt:rt.contextElement||Fd(n.elements.popper),y,S,u),Dt=Vs(n.elements.reference),rn=f_({reference:Dt,element:vt,strategy:"absolute",placement:r}),Fn=h_(Object.assign({},vt,rn)),Gr=H===Th?Fn:Dt,Gs={top:gt.top-Gr.top+ot.top,bottom:Gr.bottom-gt.bottom+ot.bottom,left:gt.left-Gr.left+ot.left,right:Gr.right-gt.right+ot.right},cs=n.modifiersData.offset;if(H===Th&&cs){var du=cs[r];Object.keys(Gs).forEach(function(Ca){var Vm=[Bs,$a].indexOf(Ca)>=0?1:-1,Um=[zo,$a].indexOf(Ca)>=0?"y":"x";Gs[Ca]+=du[Um]*Vm})}return Gs}const ga={name:"flip",enabled:!0,phase:"main",fn:function SD(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,a=void 0===r||r,u=t.altAxis,g=void 0===u||u,y=t.fallbackPlacements,C=t.padding,S=t.boundary,R=t.rootBoundary,H=t.altBoundary,Z=t.flipVariations,ce=void 0===Z||Z,me=t.allowedAutoPlacements,De=e.options.placement,ot=Ua(De),vt=y||(ot!==De&&ce?function gn(n){if(Ua(n)===Fp)return[];var e=Cf(n);return[tv(n),e,tv(e)]}(De):[Cf(De)]),rt=[De].concat(vt).reduce(function(E0,Vg){return E0.concat(Ua(Vg)===Fp?function eu(n,e){void 0===e&&(e={});var r=e.boundary,a=e.rootBoundary,u=e.padding,g=e.flipVariations,y=e.allowedAutoPlacements,C=void 0===y?u_:y,S=Ah(e.placement),R=S?g?Ef:Ef.filter(function(ce){return Ah(ce)===S}):If,H=R.filter(function(ce){return C.indexOf(ce)>=0});0===H.length&&(H=R);var Z=H.reduce(function(ce,me){return ce[me]=Nf(n,{placement:me,boundary:r,rootBoundary:a,padding:u})[Ua(me)],ce},{});return Object.keys(Z).sort(function(ce,me){return Z[ce]-Z[me]})}(e,{placement:Vg,boundary:S,rootBoundary:R,padding:C,flipVariations:ce,allowedAutoPlacements:me}):Vg)},[]),gt=e.rects.reference,Dt=e.rects.popper,rn=new Map,Fn=!0,Gr=rt[0],Gs=0;Gs<rt.length;Gs++){var cs=rt[Gs],du=Ua(cs),Ca=Ah(cs)===Tf,Vm=[zo,$a].indexOf(du)>=0,Um=Vm?"width":"height",hu=Nf(e,{placement:cs,boundary:S,rootBoundary:R,altBoundary:H,padding:C}),zd=Vm?Ca?Bs:qo:Ca?$a:zo;gt[Um]>Dt[Um]&&(zd=Cf(zd));var xE=Cf(zd),$m=[];if(a&&$m.push(hu[du]<=0),g&&$m.push(hu[zd]<=0,hu[xE]<=0),$m.every(function(E0){return E0})){Gr=cs,Fn=!1;break}rn.set(cs,$m)}if(Fn)for(var VM=function(Vg){var mD=rt.find(function(NE){var Gm=rn.get(NE);if(Gm)return Gm.slice(0,Vg).every(function(UM){return UM})});if(mD)return Gr=mD,"break"},_D=ce?3:1;_D>0&&"break"!==VM(_D);_D--);e.placement!==Gr&&(e.modifiersData[i]._skip=!0,e.placement=Gr,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Of(n,e,t){return _l(n,Bp(e,t))}function pv(n){var e=Vs(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}const Nh={name:"preventOverflow",enabled:!0,phase:"main",fn:function Q0(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,a=void 0===r||r,u=t.altAxis,g=void 0!==u&&u,H=t.tether,Z=void 0===H||H,ce=t.tetherOffset,me=void 0===ce?0:ce,De=Nf(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),ot=Ua(e.placement),ct=Ah(e.placement),vt=!ct,rt=hv(ot),gt=function Yr(n){return"x"===n?"y":"x"}(rt),Dt=e.modifiersData.popperOffsets,rn=e.rects.reference,Fn=e.rects.popper,Gr="function"==typeof me?me(Object.assign({},e.rects,{placement:e.placement})):me,Gs="number"==typeof Gr?{mainAxis:Gr,altAxis:Gr}:Object.assign({mainAxis:0,altAxis:0},Gr),cs=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,du={x:0,y:0};if(Dt){if(a){var Ca,Vm="y"===rt?zo:qo,Um="y"===rt?$a:Bs,hu="y"===rt?"height":"width",zd=Dt[rt],xE=zd+De[Vm],$m=zd-De[Um],SE=Z?-Fn[hu]/2:0,VM=ct===Tf?rn[hu]:Fn[hu],_D=ct===Tf?-Fn[hu]:-rn[hu],AE=e.elements.arrow,E0=Z&&AE?pv(AE):{width:0,height:0},Vg=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},mD=Vg[Vm],NE=Vg[Um],Gm=Of(0,rn[hu],E0[hu]),UM=vt?rn[hu]/2-SE-Gm-mD-Gs.mainAxis:VM-Gm-mD-Gs.mainAxis,Q8=vt?-rn[hu]/2+SE+Gm+NE+Gs.mainAxis:_D+Gm+NE+Gs.mainAxis,$M=e.elements.arrow&&Sh(e.elements.arrow),hV=null!=(Ca=cs?.[rt])?Ca:0,e4=zd+Q8-hV,fV=Of(Z?Bp(xE,zd+UM-hV-($M?"y"===rt?$M.clientTop||0:$M.clientLeft||0:0)):xE,zd,Z?_l($m,e4):$m);Dt[rt]=fV,du[rt]=fV-zd}if(g){var pV,Hm=Dt[gt],OE="y"===gt?"height":"width",gV=Hm+De["x"===rt?zo:qo],_V=Hm-De["x"===rt?$a:Bs],GM=-1!==[zo,qo].indexOf(ot),mV=null!=(pV=cs?.[gt])?pV:0,vV=GM?gV:Hm-rn[OE]-Fn[OE]-mV+Gs.altAxis,yV=GM?Hm+rn[OE]+Fn[OE]-mV-Gs.altAxis:_V,bV=Z&&GM?function tu(n,e,t){var i=Of(n,e,t);return i>t?t:i}(vV,Hm,yV):Of(Z?vV:gV,Hm,Z?yV:_V);Dt[gt]=bV,du[gt]=bV-Hm}e.modifiersData[i]=du}},requiresIfExists:["offset"]},X0={name:"arrow",enabled:!0,phase:"main",fn:function gv(n){var e,t=n.state,i=n.name,r=n.options,a=t.elements.arrow,u=t.modifiersData.popperOffsets,g=Ua(t.placement),y=hv(g),S=[qo,Bs].indexOf(g)>=0?"height":"width";if(a&&u){var R=function(e,t){return bs("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fv(e,If))}(r.padding,t),H=pv(a),Z="y"===y?zo:qo,ce="y"===y?$a:Bs,me=t.rects.reference[S]+t.rects.reference[y]-u[y]-t.rects.popper[S],De=u[y]-t.rects.reference[y],ot=Sh(a),ct=ot?"y"===y?ot.clientHeight||0:ot.clientWidth||0:0,Dt=ct/2-H[S]/2+(me/2-De/2),rn=Of(R[Z],Dt,ct-H[S]-R[ce]);t.modifiersData[i]=((e={})[y]=rn,e.centerOffset=rn-Dt,e)}},effect:function Oh(n){var e=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=e.elements.popper.querySelector(r))||!lv(e.elements.popper,r)||(e.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function br(n,e,t){void 0===t&&(t=!1);var i=Zo(e),r=Zo(e)&&function Hp(n){var e=n.getBoundingClientRect(),t=ju(e.width)/n.offsetWidth||1,i=ju(e.height)/n.offsetHeight||1;return 1!==t||1!==i}(e),a=Fd(e),u=Vs(n,r,t),g={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(i||!i&&!t)&&(("body"!==ic(e)||xh(a))&&(g=function _v(n){return n!==Ga(n)&&Zo(n)?function rc(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):$p(n)}(e)),Zo(e)?((y=Vs(e,!0)).x+=e.clientLeft,y.y+=e.clientTop):a&&(y.x=Sf(a))),{x:u.left+g.scrollLeft-y.x,y:u.top+g.scrollTop-y.y,width:u.width,height:u.height}}function Er(n){var e=new Map,t=new Set,i=[];function r(a){t.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(g){if(!t.has(g)){var y=e.get(g);y&&r(y)}}),i.push(a)}return n.forEach(function(a){e.set(a.name,a)}),n.forEach(function(a){t.has(a.name)||r(a)}),i}function vv(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var jp={placement:"bottom",modifiers:[],strategy:"absolute"};function ib(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Wp(n){void 0===n&&(n={});var t=n.defaultModifiers,i=void 0===t?[]:t,r=n.defaultOptions,a=void 0===r?jp:r;return function(g,y,C){void 0===C&&(C=a);var S={placement:"bottom",orderedModifiers:[],options:Object.assign({},jp,a),modifiersData:{},elements:{reference:g,popper:y},attributes:{},styles:{}},R=[],H=!1,Z={state:S,setOptions:function(ot){var ct="function"==typeof ot?ot(S.options):ot;me(),S.options=Object.assign({},a,S.options,ct),S.scrollParents={reference:Hu(g)?Af(g):g.contextElement?Af(g.contextElement):[],popper:Af(y)};var vt=function mv(n){var e=Er(n);return Z0.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}(function eb(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,S.options.modifiers)));return S.orderedModifiers=vt.filter(function(cs){return cs.enabled}),function ce(){S.orderedModifiers.forEach(function(De){var ct=De.options,rt=De.effect;if("function"==typeof rt){var gt=rt({state:S,name:De.name,instance:Z,options:void 0===ct?{}:ct});R.push(gt||function(){})}})}(),Z.update()},forceUpdate:function(){if(!H){var ot=S.elements,ct=ot.reference,vt=ot.popper;if(ib(ct,vt)){S.rects={reference:br(ct,Sh(vt),"fixed"===S.options.strategy),popper:pv(vt)},S.reset=!1,S.placement=S.options.placement,S.orderedModifiers.forEach(function(cs){return S.modifiersData[cs.name]=Object.assign({},cs.data)});for(var gt=0;gt<S.orderedModifiers.length;gt++)if(!0!==S.reset){var Dt=S.orderedModifiers[gt],rn=Dt.fn,Fn=Dt.options;"function"==typeof rn&&(S=rn({state:S,options:void 0===Fn?{}:Fn,name:Dt.name,instance:Z})||S)}else S.reset=!1,gt=-1}}},update:vv(function(){return new Promise(function(De){Z.forceUpdate(),De(S)})}),destroy:function(){me(),H=!0}};if(!ib(g,y))return Z;function me(){R.forEach(function(De){return De()}),R=[]}return Z.setOptions(C).then(function(De){!H&&C.onFirstUpdate&&C.onFirstUpdate(De)}),Z}}var Mf={passive:!0};const g_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Mh(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,a=void 0===r||r,u=i.resize,g=void 0===u||u,y=Ga(e.elements.popper),C=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&C.forEach(function(S){S.addEventListener("scroll",t.update,Mf)}),g&&y.addEventListener("resize",t.update,Mf),function(){a&&C.forEach(function(S){S.removeEventListener("scroll",t.update,Mf)}),g&&y.removeEventListener("resize",t.update,Mf)}},data:{}},no={name:"popperOffsets",enabled:!0,phase:"read",fn:function Rf(n){var e=n.state;e.modifiersData[n.name]=f_({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var io={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bv(n){var e,t=n.popper,i=n.popperRect,r=n.placement,a=n.variation,u=n.offsets,g=n.position,y=n.gpuAcceleration,C=n.adaptive,S=n.roundOffsets,R=n.isFixed,H=u.x,Z=void 0===H?0:H,ce=u.y,me=void 0===ce?0:ce,De="function"==typeof S?S({x:Z,y:me}):{x:Z,y:me};Z=De.x,me=De.y;var ot=u.hasOwnProperty("x"),ct=u.hasOwnProperty("y"),vt=qo,rt=zo,gt=window;if(C){var Dt=Sh(t),rn="clientHeight",Fn="clientWidth";Dt===Ga(t)&&"static"!==Xc(Dt=Fd(t)).position&&"absolute"===g&&(rn="scrollHeight",Fn="scrollWidth"),(r===zo||(r===qo||r===Bs)&&a===Gu)&&(rt=$a,me-=(R&&Dt===gt&&gt.visualViewport?gt.visualViewport.height:Dt[rn])-i.height,me*=y?1:-1),r!==qo&&(r!==zo&&r!==$a||a!==Gu)||(vt=Bs,Z-=(R&&Dt===gt&&gt.visualViewport?gt.visualViewport.width:Dt[Fn])-i.width,Z*=y?1:-1)}var Ca,cs=Object.assign({position:g},C&&io),du=!0===S?function yv(n){var t=n.y,r=window.devicePixelRatio||1;return{x:ju(n.x*r)/r||0,y:ju(t*r)/r||0}}({x:Z,y:me}):{x:Z,y:me};return Z=du.x,me=du.y,Object.assign({},cs,y?((Ca={})[rt]=ct?"0":"",Ca[vt]=ot?"0":"",Ca.transform=(gt.devicePixelRatio||1)<=1?"translate("+Z+"px, "+me+"px)":"translate3d("+Z+"px, "+me+"px, 0)",Ca):((e={})[rt]=ct?me+"px":"",e[vt]=ot?Z+"px":"",e.transform="",e))}const nu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function __(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=void 0===i||i,a=t.adaptive,u=void 0===a||a,g=t.roundOffsets,y=void 0===g||g,S={placement:Ua(e.placement),variation:Ah(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,bv(Object.assign({},S,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:y})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,bv(Object.assign({},S,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Dn=[g_,no,nu,{name:"applyStyles",enabled:!0,phase:"write",fn:function m_(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},a=e.elements[t];!Zo(a)||!ic(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(u){var g=r[u];!1===g?a.removeAttribute(u):a.setAttribute(u,!0===g?"":g)}))})},effect:function v_(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],a=e.attributes[i]||{},g=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(y,C){return y[C]="",y},{});!Zo(r)||!ic(r)||(Object.assign(r.style,g),Object.keys(a).forEach(function(y){r.removeAttribute(y)}))})}},requires:["computeStyles"]}],y_=Wp({defaultModifiers:Dn});function si(n,e){}function b_(n,e){if(1&n&&(c.TgZ(0,"button",3),c._uU(1),c.YNc(2,si,0,0,"ng-template",4),c.qZA()),2&n){const t=e.$implicit;c.Q6J("ngbPanelToggle",t),c.xp6(1),c.hij(" ",t.title,""),c.xp6(1),c.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function Zp(n,e){}function w_(n,e){}function rb(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",8),c.NdJ("ngbRef",function(r){c.CHM(t);const a=c.oxw().$implicit;return c.KtG(a.panelDiv=r)}),c.TgZ(1,"div",9),c.YNc(2,w_,0,0,"ng-template",4),c.qZA()()}if(2&n){const t=c.oxw().$implicit;c.s9C("id",t.id),c.uIk("aria-labelledby",t.id+"-header"),c.xp6(2),c.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}const sb=function(n,e){return{$implicit:n,opened:e}};function ob(n,e){if(1&n&&(c.TgZ(0,"div")(1,"div",5),c.YNc(2,Zp,0,0,"ng-template",6),c.qZA(),c.YNc(3,rb,3,3,"div",7),c.qZA()),2&n){const t=e.$implicit,i=c.oxw(),r=c.MAs(1);c.Tol("accordion-item "+(t.cardClass||"")),c.xp6(1),c.Tol("accordion-header "+(t.type?"bg-"+t.type:i.type?"bg-"+i.type:"")),c.MGl("id","",t.id,"-header"),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||r)("ngTemplateOutletContext",c.WLB(8,sb,t,t.isOpen)),c.xp6(1),c.Q6J("ngIf",!i.destroyOnHide||t.isOpen||t.transitionRunning)}}const D_=["*"];function ND(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",6),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return u.focus(),c.KtG(u.select(a.id,u.NgbSlideEventSource.INDICATOR))}),c.qZA()}if(2&n){const t=e.$implicit,i=c.oxw();c.ekj("active",t.id===i.activeId),c.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===i.activeId)}}function ab(n,e){}function OD(n,e){if(1&n&&(c.TgZ(0,"div",7)(1,"span",8),c.SDv(2,9),c.qZA(),c.YNc(3,ab,0,0,"ng-template",10),c.qZA()),2&n){const t=e.$implicit,i=e.index,r=e.count;c.Q6J("id","slide-"+t.id),c.xp6(2),c.pQV(i+1)(r),c.QtT(2),c.xp6(1),c.Q6J("ngTemplateOutlet",t.tplRef)}}function wv(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.arrowLeft())}),c._UZ(1,"span",12),c.TgZ(2,"span",8),c.SDv(3,13),c.qZA()()}}function Dv(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",14),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.arrowRight())}),c._UZ(1,"span",15),c.TgZ(2,"span",8),c.SDv(3,16),c.qZA()()}}const vl=["dialog"];function Lf(n){return"string"==typeof n}function Ld(n){return null!=n}function kh(n){return(n||document.body).getBoundingClientRect()}const Jp={animation:!0,transitionTimerDelayMs:5},Mb=()=>{},{transitionTimerDelayMs:$_}=Jp,Bf=new Map,To=(n,e,t,i)=>{let r=i.context||{};const a=Bf.get(e);if(a)switch(i.runningTransition){case"continue":return Fi.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),Bf.delete(e)}const u=t(e,i.animation,r)||Mb;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),bt(void 0).pipe(function Ob(n){return e=>new Ai.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new Wn.x,y=new Wn.x,C=g.pipe(function sh(...n){return e=>rh(e,bt(...n))}(!0));Bf.set(e,{transition$:g,complete:()=>{y.next(),y.complete()},context:r});const S=function jv(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const R=N(e,"transitionend").pipe(dr(C),rr(({target:Z})=>Z===e));gi(Ht(S+$_).pipe(dr(C)),R,y).pipe(dr(C)).subscribe(()=>{Bf.delete(e),n.run(()=>{u(),g.next(),g.complete()})})}),g.asObservable()},b=(n,e,t)=>{let{direction:i,maxHeight:r}=t;const{classList:a}=n;function u(){a.add("collapse"),"show"===i?a.add("show"):a.remove("show")}if(e)return r||(r=function p(n){if(typeof navigator>"u")return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const i=n.getBoundingClientRect().height+"px";return t||e.remove("show"),i}(n),t.maxHeight=r,n.style.height="show"!==i?r:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),kh(n),a.add("collapsing")),n.style.height="show"===i?r:"0px",()=>{u(),a.remove("collapsing"),n.style.height=""};u()};let A=(()=>{class n{constructor(){this.animation=Jp.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(A))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G=0,Y=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]]}),n})(),re=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]]}),n})(),fe=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]]}),n})(),je=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+G++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new c.vpe,this.hidden=new c.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,re,4),c.Suo(r,Y,4),c.Suo(r,fe,4)),2&t){let a;c.iGM(a=c.CRH())&&(i.titleTpls=a),c.iGM(a=c.CRH())&&(i.headerTpls=a),c.iGM(a=c.CRH())&&(i.contentTpls=a)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),n})(),qe=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new c.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),n})(),Qe=(()=>{class n{constructor(t,i,r){this._ngZone=i,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new c.vpe,this.shown=new c.vpe,this.hidden=new c.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const i=this._findPanelById(t);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){Lf(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(Pi(1)).subscribe(()=>{this.panels.forEach(t=>{const i=t.panelDiv;i?t.initClassDone||(t.initClassDone=!0,To(this._ngZone,i,b,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide"}})):t.initClassDone=!1})})}_changeOpenState(t,i){if(null!=t&&!t.disabled&&t.isOpen!==i){let r=!1;this.panelChange.emit({panelId:t.id,nextState:i,preventDefault:()=>{r=!0}}),r||(t.isOpen=i,t.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,i=!0){this.panels.forEach(r=>{r.id!==t&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=i)})}_findPanelById(t){return this.panels.find(i=>i.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&To(this._ngZone,i.panelDiv,b,{animation:t,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide"}}).subscribe(()=>{i.transitionRunning=!1;const{id:a}=i;i.isOpen?(i.shown.emit(),this.shown.emit(a)):(i.hidden.emit(),this.hidden.emit(a))})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(F),c.Y36(c.R0b),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,je,4),2&t){let a;c.iGM(a=c.CRH())&&(i.panels=a)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,i){1&t&&(c.YNc(0,b_,3,3,"ng-template",0,1,c.W1O),c.YNc(2,ob,4,11,"ng-template",2)),2&t&&(c.xp6(2),c.Q6J("ngForOf",i.panels))},dependencies:function(){return[Dr,Zn,go,qe,Y,mt]},encapsulation:2}),n})(),mt=(()=>{class n{constructor(t,i){this.accordion=t,this.panel=i}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qe),c.Y36(je,9))},n.\u0275dir=c.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&t&&(c.Ikx("disabled",i.panel.disabled),c.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),c.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),n})(),Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),Nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})();var sr=(()=>{return(n=sr||(sr={})).START="start",n.END="end",sr;var n})();const Ur=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),xr=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},yi=n=>{xr(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},so=(n,e,{direction:t})=>{const{classList:i}=n;return e?(Ur(n)?xr(i):(i.add("carousel-item-"+(t===sr.START?"next":"prev")),kh(n),i.add("carousel-item-"+t)),()=>{yi(i),i.add("active")}):(xr(i),yi(i),void i.add("active"))},Yo=(n,e,{direction:t})=>{const{classList:i}=n;return e?(Ur(n)?xr(i):i.add("carousel-item-"+t),()=>{yi(i),i.remove("active")}):(xr(i),yi(i),void i.remove("active"))};let qu=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(A))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xp=0,Lh=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+Xp++,this.slid=new c.vpe}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),Rb=(()=>{class n{constructor(t,i,r,a,u){this._platformId=i,this._ngZone=r,this._cd=a,this._container=u,this.NgbSlideEventSource=Bh,this._destroy$=new Wn.x,this._interval$=new qn(0),this._mouseHover$=new qn(!1),this._focused$=new qn(!1),this._pauseOnHover$=new qn(!1),this._pauseOnFocus$=new qn(!1),this._pause$=new qn(!1),this._wrap$=new qn(!1),this.slide=new c.vpe,this.slid=new c.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Bh.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Bh.ARROW_RIGHT)}ngAfterContentInit(){pc(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=nh([this.slide.pipe((0,It.U)(i=>i.current),ha(this.activeId)),this._wrap$,this.slides.changes.pipe(ha(null))]).pipe((0,It.U)(([i,r])=>{const a=this.slides.toArray(),u=this._getSlideIdxById(i);return r?a.length>1:u<a.length-1}),fa());nh([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,It.U)(([i,r,a,u,g,y,C])=>i||r&&a||u&&g||!C?0:y),fa(),zn(i=>i>0?Ht(i,i):Iu),dr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Bh.TIMER)))}),this.slides.changes.pipe(dr(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Bf.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Pi(1)).subscribe(()=>{for(const{id:t}of this.slides){const i=this._getSlideElement(t);t===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,i){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),i)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),sr.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),sr.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,i,r){const a=this._transitionIds;if(a&&(a[0]!==t||a[1]!==this.activeId))return;let u=this._getSlideById(t);if(u&&u.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:u.id,direction:i,paused:this._pause$.value,source:r});const g={animation:this.animation,runningTransition:"stop",context:{direction:i}},y=[],C=this._getSlideById(this.activeId);if(C){const Z=To(this._ngZone,this._getSlideElement(C.id),Yo,g);Z.subscribe(()=>{C.slid.emit({isShown:!1,direction:i,source:r})}),y.push(Z)}const S=this.activeId;this.activeId=u.id;const R=this._getSlideById(this.activeId),H=To(this._ngZone,this._getSlideElement(u.id),so,g);H.subscribe(()=>{R?.slid.emit({isShown:!0,direction:i,source:r})}),y.push(H),Tu(...y).pipe(Pi(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:S,current:u.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(t,i){return this._getSlideIdxById(t)>this._getSlideIdxById(i)?sr.END:sr.START}_getSlideById(t){return this.slides.find(i=>i.id===t)||null}_getSlideIdxById(t){const i=this._getSlideById(t);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qu),c.Y36(c.Lbi),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,Lh,4),2&t){let a;c.iGM(a=c.CRH())&&(i.slides=a)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,i){1&t&&c.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&t&&(c.uIk("aria-activedescendant","slide-"+i.activeId),c.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,i;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.YNc(1,ND,1,5,"button",1),c.qZA(),c.TgZ(2,"div",2),c.YNc(3,OD,4,4,"div",3),c.qZA(),c.YNc(4,wv,4,0,"button",4),c.YNc(5,Dv,4,0,"button",5)),2&t&&(c.ekj("visually-hidden",!i.showNavigationIndicators),c.xp6(1),c.Q6J("ngForOf",i.slides),c.xp6(2),c.Q6J("ngForOf",i.slides),c.xp6(1),c.Q6J("ngIf",i.showNavigationArrows),c.xp6(1),c.Q6J("ngIf",i.showNavigationArrows))},dependencies:[Dr,Zn,go],encapsulation:2,changeDetection:0}),n})();var Bh=(()=>{return(n=Bh||(Bh={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Bh;var n})();let Fb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),Pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var ls=(()=>{return(n=ls||(ls={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",ls;var n})();const G_=(n,e)=>!!e&&e.some(t=>t.contains(n)),jb=(n,e)=>!e||null!=function GD(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),YD=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const sx=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function QD(n){const e=Array.from(n.querySelectorAll(sx)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const JD=/\s+/,ax=/  +/gi,Us=/^start/,XD=/^end/,lx=/-(top|left)$/,cx=/-(bottom|right)$/,ux=/^left/,tC=/^right/,nC=/^start/,eg=/^end/;function iC({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(JD),r=t.findIndex(y=>"auto"===y);r>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(y){null==t.find(C=>-1!==C.search("^"+y))&&t.splice(r++,1,y)});const a=t.map(y=>function eC(n){return n.replace(Us,"left").replace(XD,"right").replace(lx,"-start").replace(cx,"-end")}(y));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:y}){const C=new RegExp(e+"(-[a-z]+)*","gi"),S=y.elements.popper,R=y.placement;let H=S.className;H=H.replace(C,""),H+=` ${function dx(n,e){let[t,i]=e.split("-");const r=t.replace(ux,"start").replace(tC,"end");let a=[r];if(i){let u=i;("left"===t||"right"===t)&&(u=u.replace(nC,"top").replace(eg,"bottom")),a.push(`${r}-${u}`)}return n&&(a=a.map(u=>`${n}-${u}`)),a.join(" ")}(e,R)}`,H=H.trim().replace(ax," "),S.className=H}},ga,Nh,X0,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function zb(n){return n}new Date(1882,10,12),new Date(2174,10,25);let _C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr,ev]}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class Gf{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}class kx{constructor(e,t,i,r,a,u){this._componentType=e,this._injector=t,this._viewContainerRef=i,this._renderer=r,this._ngZone=a,this._applicationRef=u,this._windowRef=null,this._contentRef=null}open(e,t,i=!1){this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,a=this._ngZone.onStable.pipe(Pi(1),(0,cr.z)(()=>To(this._ngZone,r,({classList:u})=>u.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:a}}close(e=!1){return this._windowRef?To(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:e,runningTransition:"stop"}).pipe((0,hr.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):bt(void 0)}_getContentRef(e,t){if(e){if(e instanceof c.Rgc){const i=e.createEmbeddedView(t);return this._applicationRef.attachView(i),new Gf([i.rootNodes],i)}return new Gf([[this._renderer.createText(`${e}`)]])}return new Gf([])}}let Lx=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Pi(1)).subscribe(()=>{To(this._zone,this._el.nativeElement,(t,i)=>{i&&kh(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return To(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(c.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),c.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class Hf{close(e){}dismiss(e){}}class Bx{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Wn.x,this._dismissed=new Wn.x,this._hidden=new Wn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(dr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(dr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Ph(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():bt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Tu(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Vh=(()=>{return(n=Vh||(Vh={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Vh;var n})();let Xv=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Wn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new Wn.x,this.hidden=new Wn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Lf(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Pi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=Tu(To(this._zone,t,()=>t.classList.remove("show"),i),To(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};Tu(To(this._zone,this._elRef.nativeElement,(a,u)=>{u&&kh(a),a.classList.add("show")},t),To(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{N(t,"keydown").pipe(dr(this._closed$),rr(r=>r.which===ls.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Vh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;N(this._dialogEl.nativeElement,"mousedown").pipe(dr(this._closed$),(0,hr.b)(()=>i=!1),zn(()=>N(t,"mouseup").pipe(dr(this._closed$),Pi(1))),rr(({target:r})=>t===r)).subscribe(()=>{i=!0}),N(t,"click").pipe(dr(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Vh.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=QD(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&To(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ie),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&c.Gf(vl,7),2&t){let r;c.iGM(r=c.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),c.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),c.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:D_,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&t&&c.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Kr=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:a,paddingRight:u}=r;if(t>0){const g=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${g+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=u),r.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oR=(()=>{class n{constructor(t,i,r,a,u,g){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=u,this._ngZone=g,this._activeWindowCmptHasChanged=new Wn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=N(e,"focusin").pipe(dr(t),(0,It.U)(a=>a.target));N(e,"keydown").pipe(dr(t),rr(a=>a.which===ls.Tab),mp(r)).subscribe(([a,u])=>{const[g,y]=QD(e);(u===g||u===e)&&a.shiftKey&&(y.focus(),a.preventDefault()),u===y&&!a.shiftKey&&(g.focus(),a.preventDefault())}),i&&N(e,"click").pipe(dr(t),mp(r),(0,It.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const a=r.container instanceof HTMLElement?r.container:Ld(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new Hf,y=this._getContentRef(r.injector||t,i,g,r);let C=!1!==r.backdrop?this._attachBackdrop(a):void 0,S=this._attachWindowComponent(a,y.nodes),R=new Bx(S,y,C,r.beforeDismiss);return this._registerModalRef(R),this._registerWindowCmpt(S),R.hidden.pipe(Pi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=H=>{R.close(H)},g.dismiss=H=>{R.dismiss(H)},this._applyWindowOptions(S.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,r),C.changeDetectorRef.detectChanges()),S.changeDetectorRef.detectChanges(),R}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,c.LMc)(Lx,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,c.LMc)(Xv,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Ld(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Ld(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,a){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,r):Lf(i)?this._createFromString(i):this._createFromComponent(t,i,r,a):new Gf([])}_createFromTemplateRef(t,i){const a=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(a),new Gf([a.rootNodes],a)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Gf([[i]])}_createFromComponent(t,i,r,a){const u=c.zs3.create({providers:[{provide:Hf,useValue:r}],parent:t}),g=(0,c.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:u}),y=g.location.nativeElement;return a.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new Gf([[y]],g.hostView,g)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(Ie),c.LFG(Kr),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vC=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(A))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yC=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(oR),c.LFG(vC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[yC]}),n})(),iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})();class Gx{constructor(e,t){this.open=e,this.close=t,t||(this.close=e)}isManual(){return"manual"===this.open||"manual"===this.close}}const AC={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Wx=n=>n>0?oh(n):e=>e;let NC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),OC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),MC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),FC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),lw=(()=>{class n{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(A))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eS=0,cw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,i){2&t&&(c.Ikx("id",i.id),c.Tol("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),c.ekj("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:D_,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA())},encapsulation:2,changeDetection:0}),n})(),tS=(()=>{class n{constructor(t,i,r,a,u,g,y,C,S){this._elementRef=t,this._renderer=i,this._ngZone=g,this._document=y,this._changeDetector=C,this.shown=new c.vpe,this.hidden=new c.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+eS++,this._windowRef=null,this._positioning=function rC(){let n=null;return{createPopper(e){if(!n){let i=(e.updatePopperOptions||zb)(iC(e));n=y_(e.hostElement,e.targetElement,i)}},update(){n&&n.update()},setOptions(e){if(n){let i=(e.updatePopperOptions||zb)(iC(e));n.setOptions(i)}},destroy(){n&&(n.destroy(),n=null)}}}(),this.animation=u.animation,this.autoClose=u.autoClose,this.placement=u.placement,this.triggers=u.triggers,this.container=u.container,this.disableTooltip=u.disableTooltip,this.tooltipClass=u.tooltipClass,this.openDelay=u.openDelay,this.closeDelay=u.closeDelay,this._popupService=new kx(cw,r,a,i,this._ngZone,S)}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function Wb(n,e,t,i,r,a,u,g){t&&n.runOutsideAngular((n=>YD?()=>setTimeout(()=>n(),100):n)(()=>{const C=N(e,"keydown").pipe(dr(r),rr(H=>H.which===ls.Escape),(0,hr.b)(H=>H.preventDefault())),S=N(e,"mousedown").pipe((0,It.U)(H=>{const Z=H.target;return 2!==H.button&&!G_(Z,u)&&("inside"===t?G_(Z,a)&&jb(Z,g):"outside"===t?!G_(Z,a):jb(Z,g)||!G_(Z,a))}),dr(r)),R=N(e,"mouseup").pipe(mp(S),rr(([H,Z])=>Z),oh(0),dr(r));gi([C.pipe((0,It.U)(H=>0)),R.pipe((0,It.U)(H=>1))]).subscribe(H=>n.run(()=>i(H)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(t=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function cR(n,e,t,i,r,a,u=0,g=0){const y=function Hx(n,e=AC){const t=(n||"").trim();if(0===t.length)return[];const i=t.split(/\s+/).map(a=>a.split(":")).map(a=>{let u=e[a[0]]||a;return new Gx(u[0],u[1])}),r=i.filter(a=>a.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(t);if(1===y.length&&y[0].isManual())return()=>{};const C=function jx(n,e,t,i){return new Ai.y(r=>{const a=[],u=()=>r.next(!0),g=()=>r.next(!1),y=()=>r.next(!i());return t.forEach(C=>{C.open===C.close?a.push(n.listen(e,C.open,y)):a.push(n.listen(e,C.open,u),n.listen(e,C.close,g))}),()=>{a.forEach(C=>C())}})}(n,e,y,i).pipe(function lR(n,e,t){return i=>{let r=null;const a=i.pipe((0,It.U)(y=>({open:y})),rr(y=>{const C=t();return C===y.open||r&&r.open!==C?(r&&r.open!==y.open&&(r=null),!1):(r=y,!0)}),(0,Uo.B)()),u=a.pipe(rr(y=>y.open),Wx(n)),g=a.pipe(rr(y=>!y.open),Wx(e));return(0,Zr.T)(u,g).pipe(rr(y=>y===r&&(r=null,y.open!==t())),(0,It.U)(y=>y.open))}}(u,g,i)).subscribe(S=>S?r():a());return()=>C.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.zs3),c.Y36(c.s_b),c.Y36(lw),c.Y36(c.R0b),c.Y36(Ie),c.Y36(c.sBO),c.Y36(c.z2F))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[c.TTD]}),n})(),uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function nS(){return 100}});let dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})(),hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const fw=[Rt,Nn,Fb,Pb,_C,Xt,bC,iw,hw,sw,NC,OC,MC,aw,FC,uw,dw];let oS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[fw,Rt,Nn,Fb,Pb,_C,Xt,bC,iw,hw,sw,NC,OC,MC,aw,FC,uw,dw]}),n})();const pw=["ngucarousel"],lS=["nguItemsContainer"],BC=["touchContainer"],sg=[[["","NguCarouselPrev",""]],[["","NguCarouselNext",""]],[["","NguCarouselPoint",""]]],VC=["[NguCarouselPrev]","[NguCarouselNext]","[NguCarouselPoint]"],cS=["*"];class gw{}class _w{}class dS{constructor(e=0,t=0,i=0,r=0,a=0){this.xs=e,this.sm=t,this.md=i,this.lg=r,this.all=a,this.xl=0}}class UC{constructor(e=768,t=992,i=1200,r=1200){this.sm=e,this.md=t,this.lg=i,this.xl=r}}class GC{constructor(e){this.$implicit=e}}let ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","NguCarouselNext",""]]}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","NguCarouselPrev",""]]}),n})(),mw=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","nguCarouselDef",""]]}),n})(),HC=(()=>{class n{constructor(t){this.viewContainer=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","nguCarouselOutlet",""]]}),n})(),jC=(()=>{class n extends class NR{constructor(e=new _w,t=new gw,i,r=new dS,a,u,g,y="fixed",C="",S=0,R=0,H=0,Z=0,ce=0,me=0,De=0,ot=0,ct=0,vt="cubic-bezier(0, 0, 0.2, 1)",rt=200,gt=!1,Dt=0,rn=0,Fn=!1,Gr=!0,Gs=!1,cs=!1,du=!0,Ca=1){this.touch=e,this.vertical=t,this.interval=i,this.transform=r,this.button=a,this.visibleItems=u,this.deviceType=g,this.type=y,this.token=C,this.items=S,this.load=R,this.deviceWidth=H,this.carouselWidth=Z,this.itemWidth=ce,this.slideItems=me,this.itemWidthPer=De,this.itemLength=ot,this.currentSlide=ct,this.easing=vt,this.speed=rt,this.loop=gt,this.dexVal=Dt,this.touchTransform=rn,this.isEnd=Fn,this.isFirst=Gr,this.isLast=Gs,this.RTL=cs,this.point=du,this.velocity=Ca}}{constructor(t,i,r,a,u){super(),this._el=t,this._renderer=i,this._differs=r,this.platformId=a,this.cdr=u,this.withAnim=!0,this.isHovered=!1,this.carouselLoad=new c.vpe,this.onMove=new c.vpe,this._intervalController$=new Wn.x,this.pointNumbers=[]}get dataSource(){return this._dataSource}set dataSource(t){t&&this._switchDataSource(t)}set nextBtn(t){this.listener2?.(),t&&(this.listener2=this._renderer.listen(t.nativeElement,"click",()=>this._carouselScrollOne(1)))}set prevBtn(t){this.listener1?.(),t&&(this.listener1=this._renderer.listen(t.nativeElement,"click",()=>this._carouselScrollOne(0)))}get trackBy(){return this._trackByFn}set trackBy(t){(0,c.X6Q)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}ngOnInit(){this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(t,i):i)}ngDoCheck(){this.arrayChanges=this._dataDiffer.diff(this.dataSource),this.arrayChanges&&this._defDirec&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource=t,this._defDirec&&this._observeRenderChanges()}_observeRenderChanges(){let t;this._dataSource instanceof Ai.y?t=this._dataSource:Array.isArray(this._dataSource)&&(t=bt(this._dataSource)),t&&(this._dataSubscription=t.pipe(dr(this._intervalController$)).subscribe(i=>{this.renderNodeChanges(i),this.isLast=this.pointIndex===this.currentSlide}))}renderNodeChanges(t,i=this._nodeOutlet.viewContainer){!this.arrayChanges||(this.arrayChanges.forEachOperation((r,a,u)=>{const g=this._getNodeDef(t[u],u);if(null==r.previousIndex){const y=new GC(t[u]);y.index=u,i.createEmbeddedView(g.template,y,u)}else if(null==u)i.remove(a);else{const y=i.get(a);i.move(y,u)}}),this._updateItemIndexContext(),this.carousel&&this._storeCarouselData())}_updateItemIndexContext(){const t=this._nodeOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const u=t.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,u.index=i}}_getNodeDef(t,i){return 1===this._defDirec.length?this._defDirec.first:this._defDirec.find(a=>a.when&&a.when(i,t))||this._defaultNodeDef}ngAfterViewInit(){this.carousel=this._el.nativeElement,this._inputValidation(),this.carouselCssNode=this._createStyleElem(),pc(this.platformId)&&(this._carouselInterval(),this.vertical.enabled||this._touch(),this.listener3=this._renderer.listen("window","resize",t=>{this._onResizing(t)}),this._onWindowScrolling())}ngAfterContentInit(){this._observeRenderChanges(),this.cdr.markForCheck()}_inputValidation(){this.inputs.gridBreakpoints=this.inputs.gridBreakpoints?this.inputs.gridBreakpoints:new UC,void 0===this.inputs.grid.xl&&(this.inputs.grid.xl=this.inputs.grid.lg),this.type=0!==this.inputs.grid.all?"fixed":"responsive",this.loop=this.inputs.loop||!1,this.inputs.easing=this.inputs.easing||"cubic-bezier(0, 0, 0.2, 1)",this.touch.active=this.inputs.touch||!1,this.RTL=!!this.inputs.RTL,this.interval=this.inputs.interval||null,this.velocity="number"==typeof this.inputs.velocity?this.inputs.velocity:this.velocity,this.inputs.vertical&&this.inputs.vertical.enabled&&(this.vertical.enabled=this.inputs.vertical.enabled,this.vertical.height=this.inputs.vertical.height),this.directionSym=this.RTL?"":"-",this.point=!(this.inputs.point&&typeof this.inputs.point.visible<"u")||this.inputs.point.visible,this._carouselSize()}ngOnDestroy(){this.carouselInt&&this.carouselInt.unsubscribe(),this._intervalController$.unsubscribe(),this.carouselLoad.complete(),this.onMove.complete(),clearTimeout(this.onScrolling);for(let t=1;t<=4;t++){const i=`listener${t}`;this[i]&&this[i]()}}_onResizing(t){clearTimeout(this.onResize),this.onResize=setTimeout(()=>{this.deviceWidth!==t.target.outerWidth&&(this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this._storeCarouselData())},500)}_touch(){this.inputs.touch&&Promise.resolve().then(j.t.bind(j,5386,19)).then(()=>{const t=new Hammer(this.touchContainer.nativeElement);t.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),t.on("panstart",i=>{this.carouselWidth=this.nguItemsContainer.nativeElement.offsetWidth,this.touchTransform=this.transform[this.deviceType],this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","")}),this.vertical.enabled?(t.on("panup",i=>{this._touchHandling("panleft",i)}),t.on("pandown",i=>{this._touchHandling("panright",i)})):(t.on("panleft",i=>{this._touchHandling("panleft",i)}),t.on("panright",i=>{this._touchHandling("panright",i)})),t.on("panend pancancel",i=>{if(Math.abs(i.velocity)>=this.velocity){this.touch.velocity=i.velocity;let r=0;r=this.RTL?"panright"===this.touch.swipe?1:0:"panright"===this.touch.swipe?0:1,this._carouselScrollOne(r)}else this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","transform 324ms cubic-bezier(0, 0, 0.2, 1)"),this._setStyle(this.nguItemsContainer.nativeElement,"transform","")}),t.on("hammer.input",i=>{i.srcEvent.stopPropagation()})})}_touchHandling(t,i){if(0===i.center.x)return;let r=(i=Math.abs(this.vertical.enabled?i.deltaY:i.deltaX))-this.dexVal;r="responsive"===this.type?Math.abs(i-this.dexVal)/(this.vertical.enabled?this.vertical.height:this.carouselWidth)*100:r,this.dexVal=i,this.touch.swipe=t,this._setTouchTransfrom(t,r),this._setTransformFromTouch()}_setTouchTransfrom(t,i){this.touchTransform=t===(this.RTL?"panright":"panleft")?i+this.touchTransform:this.touchTransform-i}_setTransformFromTouch(){this.touchTransform<0&&(this.touchTransform=0);const t="responsive"===this.type?"%":"px";this._setStyle(this.nguItemsContainer.nativeElement,"transform",this.vertical.enabled?`translate3d(0, ${this.directionSym}${this.touchTransform}${t}, 0)`:`translate3d(${this.directionSym}${this.touchTransform}${t}, 0, 0)`)}_onWindowScrolling(){const t=this.carousel.offsetTop,i=window.scrollY,r=window.innerHeight,a=this.carousel.offsetHeight;this._intervalController$.next(t<=i+r-a/4&&t+a/2>=i?1:0)}_storeCarouselData(){const t=this.inputs.gridBreakpoints;this.deviceWidth=pc(this.platformId)?window.innerWidth:t.xl,this.carouselWidth=this.carouselMain1.nativeElement.offsetWidth,"responsive"===this.type?(this.deviceType=this.deviceWidth>=t.xl?"xl":this.deviceWidth>=t.lg?"lg":this.deviceWidth>=t.md?"md":this.deviceWidth>=t.sm?"sm":"xs",this.items=this.inputs.grid[this.deviceType],this.itemWidth=this.carouselWidth/this.items):(this.items=Math.trunc(this.carouselWidth/this.inputs.grid.all),this.itemWidth=this.inputs.grid.all,this.deviceType="all"),this.slideItems=+(this.inputs.slide<this.items?this.inputs.slide:this.items),this.load=this.inputs.load>=this.slideItems?this.inputs.load:this.slideItems,this.speed=this.inputs.speed&&this.inputs.speed>-1?this.inputs.speed:400,this._carouselPoint()}reset(t){t&&(this.withAnim=!1),this.carouselCssNode.textContent="",this.moveTo(0),this._carouselPoint()}_carouselPoint(){this.pointIndex=Math.ceil((this.dataSource.length-(this.items-this.slideItems))/this.slideItems);const i=[];if(this.pointIndex>1||!this.inputs.point.hideOnSingleSlide)for(let r=0;r<this.pointIndex;r++)i.push(r);this.pointNumbers=i,this._carouselPointActiver(),this.pointIndex<=1?this._btnBoolean(1,1):this._btnBoolean(0!==this.currentSlide||this.loop?0:1,0)}_carouselPointActiver(){const t=Math.ceil(this.currentSlide/this.slideItems);this.activePoint=t,this.cdr.markForCheck()}moveTo(t,i){if(i&&(this.withAnim=!1),this.activePoint!==t&&t<this.pointIndex){let r;const a=this.currentSlide<t?1:0;switch(t){case 0:this._btnBoolean(1,0),r=t*this.slideItems;break;case this.pointIndex-1:this._btnBoolean(0,1),r=this.dataSource.length-this.items;break;default:this._btnBoolean(0,0),r=t*this.slideItems}this._carouselScrollTwo(a,r,this.speed)}}_carouselSize(){this.token=this._generateID();let t="";this.styleid=`.${this.token} > .ngucarousel > .ngu-touch-container > .ngucarousel-items`,"banner"===this.inputs.custom&&this._renderer.addClass(this.carousel,"banner"),"lazy"===this.inputs.animation&&(t+=`${this.styleid} > .item {transition: transform .6s ease;}`);const i=this.inputs.gridBreakpoints;let r="";r=this.vertical.enabled?`@media (max-width:${i.sm-1}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xs}px}}\n                    @media (max-width:${i.sm}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.sm}px}}\n                    @media (min-width:${i.md}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.md}px}}\n                    @media (min-width:${i.lg}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.lg}px}}\n                    @media (min-width:${i.xl}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xl}px}}`:"responsive"===this.type?`@media (max-width:${i.sm-1}px){${"mobile"===this.inputs.type?`${this.styleid} .item {flex: 0 0 ${95/+this.inputs.grid.xs}%; width: ${95/+this.inputs.grid.xs}%;}`:`${this.styleid} .item {flex: 0 0 ${100/+this.inputs.grid.xs}%; width: ${100/+this.inputs.grid.xs}%;}`}}\n                    @media (min-width:${i.sm}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.sm}%; width: ${100/+this.inputs.grid.sm}%}}\n                    @media (min-width:${i.md}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.md}%; width: ${100/+this.inputs.grid.md}%}}\n                    @media (min-width:${i.lg}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.lg}%; width: ${100/+this.inputs.grid.lg}%}}\n                    @media (min-width:${i.xl}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.xl}%; width: ${100/+this.inputs.grid.xl}%}}`:`${this.styleid} .item {flex: 0 0 ${this.inputs.grid.all}px; width: ${this.inputs.grid.all}px;}`,this._renderer.addClass(this.carousel,this.token),this.vertical.enabled&&(this._renderer.addClass(this.nguItemsContainer.nativeElement,"nguvertical"),this._renderer.setStyle(this.carouselMain1.nativeElement,"height",`${this.vertical.height}px`)),this.RTL&&!this.vertical.enabled&&this._renderer.addClass(this.carousel,"ngurtl"),this._createStyleElem(`${t} ${r}`),this._storeCarouselData()}_carouselScrollOne(t){let i=this.speed,r=0,a=0,u=Math.ceil(this.dexVal/this.itemWidth);if(u=isFinite(u)?u:0,this._setStyle(this.nguItemsContainer.nativeElement,"transform",""),1!==this.pointIndex)if(0!==t||(this.loop||this.isFirst)&&!this.loop)1===t&&(!this.loop&&!this.isLast||this.loop)&&(this.dataSource.length<=this.currentSlide+this.items+this.slideItems&&!this.isLast?(a=this.dataSource.length-this.items,this._btnBoolean(0,1)):this.isLast?(a=r=0,i=400,this._btnBoolean(1,0)):(this._btnBoolean(0,0),u>this.slideItems?(a=this.currentSlide+this.slideItems+(u-this.slideItems),i=200):a=this.currentSlide+this.slideItems),this._carouselScrollTwo(t,a,i));else{const y=this.currentSlide-this.slideItems+this.slideItems;this._btnBoolean(0,1),0===this.currentSlide?(a=this.dataSource.length-this.items,i=400,this._btnBoolean(0,1)):this.slideItems>=y?(a=r=0,this._btnBoolean(1,0)):(this._btnBoolean(0,0),u>this.slideItems?(a=this.currentSlide-u,i=200):a=this.currentSlide-this.slideItems),this._carouselScrollTwo(t,a,i)}}_carouselScrollTwo(t,i,r){if(0!==this.dexVal){const a=Math.abs(this.touch.velocity);let u=Math.floor(this.dexVal/a/this.dexVal*(this.deviceWidth-this.dexVal));u=u>r?r:u,r=u<200?200:u,this.dexVal=0}this.withAnim?(this._setStyle(this.nguItemsContainer.nativeElement,"transition",`transform ${r}ms ${this.inputs.easing}`),this.inputs.animation&&this._carouselAnimator(t,i+1,i+this.items,r,Math.abs(this.currentSlide-i))):this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this.itemLength=this.dataSource.length,this._transformStyle(i),this.currentSlide=i,this.onMove.emit(this),this._carouselPointActiver(),this._carouselLoadTrigger(),this.withAnim=!0}_btnBoolean(t,i){this.isFirst=!!t,this.isLast=!!i}_transformString(t,i){let r="";return r+=`${this.styleid} { transform: translate3d(`,this.vertical.enabled?(this.transform[t]=this.vertical.height/this.inputs.grid[t]*i,r+=`0, -${this.transform[t]}px, 0`):(this.transform[t]=100/this.inputs.grid[t]*i,r+=`${this.directionSym}${this.transform[t]}%, 0, 0`),r+="); }",r}_transformStyle(t){let i="";if("responsive"===this.type){const r=this.inputs.gridBreakpoints;i=`@media (max-width: ${r.sm-1}px) {${this._transformString("xs",t)}}\n      @media (min-width: ${r.sm}px) {${this._transformString("sm",t)} }\n      @media (min-width: ${r.md}px) {${this._transformString("md",t)} }\n      @media (min-width: ${r.lg}px) {${this._transformString("lg",t)} }\n      @media (min-width: ${r.xl}px) {${this._transformString("xl",t)} }`}else this.transform.all=this.inputs.grid.all*t,i=`${this.styleid} { transform: translate3d(${this.directionSym}${this.transform.all}px, 0, 0);`;this.carouselCssNode.textContent=i}_carouselLoadTrigger(){"number"==typeof this.inputs.load&&this.dataSource.length-this.load<=this.currentSlide+this.items&&this.carouselLoad.emit(this.currentSlide)}_generateID(){let t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<6;r++)t+=i.charAt(Math.floor(Math.random()*i.length));return`ngucarousel${t}`}_carouselInterval(){const t=this.carouselMain1.nativeElement;if(this.interval&&this.loop){this.listener4=this._renderer.listen("window","scroll",()=>{clearTimeout(this.onScrolling),this.onScrolling=setTimeout(()=>{this._onWindowScrolling()},600)});const i=N(t,"mouseleave").pipe(ka(1)),r=N(t,"mouseenter").pipe(ka(0)),a=N(t,"touchstart").pipe(ka(1)),u=N(t,"touchend").pipe(ka(0)),g=function aS(n=0,e=We.z){return n<0&&(n=0),Ht(n,n,e)}(this.inputs.interval.timing).pipe(ka(1));setTimeout(()=>{this.carouselInt=(0,Zr.T)(i,a,r,u,this._intervalController$).pipe(ha(1),zn(y=>(this.isHovered=!y,this.cdr.markForCheck(),y?g:Fi.E))).subscribe(y=>{this._carouselScrollOne(1)})},this.interval.initialDelay)}}_updateItemIndexContextAni(){const t=this._nodeOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const u=t.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,u.index=i}}_carouselAnimator(t,i,r,a,u,g=this._nodeOutlet.viewContainer){let y=u<5?u:5;y=1===y?3:y;const C=[];if(1===t)for(let S=i-1;S<r;S++)C.push(S),y*=2,g.get(S).context.animate={value:!0,params:{distance:y}};else for(let S=r-1;S>=i-1;S--)C.push(S),y*=2,g.get(S).context.animate={value:!0,params:{distance:-y}};this.cdr.markForCheck(),setTimeout(()=>{this._removeAnimations(C)},.7*a)}_removeAnimations(t){const i=this._nodeOutlet.viewContainer;t.forEach(r=>{i.get(r).context.animate={value:!1,params:{distance:0}}}),this.cdr.markForCheck()}_setStyle(t,i,r){this._renderer.setStyle(t,i,r)}_createStyleElem(t){const i=this._renderer.createElement("style");if(t){const r=this._renderer.createText(t);this._renderer.appendChild(i,r)}return this._renderer.appendChild(this.carousel,i),i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.ZZ4),c.Y36(c.Lbi),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngu-carousel"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,ty,5,c.SBq),c.Suo(r,ny,5,c.SBq),c.Suo(r,mw,4)),2&t){let a;c.iGM(a=c.CRH())&&(i.nextBtn=a.first),c.iGM(a=c.CRH())&&(i.prevBtn=a.first),c.iGM(a=c.CRH())&&(i._defDirec=a)}},viewQuery:function(t,i){if(1&t&&(c.Gf(HC,7),c.Gf(pw,7,c.SBq),c.Gf(lS,7,c.SBq),c.Gf(BC,7,c.SBq)),2&t){let r;c.iGM(r=c.CRH())&&(i._nodeOutlet=r.first),c.iGM(r=c.CRH())&&(i.carouselMain1=r.first),c.iGM(r=c.CRH())&&(i.nguItemsContainer=r.first),c.iGM(r=c.CRH())&&(i.touchContainer=r.first)}},inputs:{inputs:"inputs",dataSource:"dataSource",trackBy:"trackBy"},outputs:{carouselLoad:"carouselLoad",onMove:"onMove"},features:[c.qOj],ngContentSelectors:VC,decls:11,vars:0,consts:[[1,"ngucarousel"],["ngucarousel",""],[1,"ngu-touch-container"],["touchContainer",""],[1,"ngucarousel-items"],["nguItemsContainer",""],["nguCarouselOutlet",""],[1,"nguclearFix"]],template:function(t,i){1&t&&(c.F$t(sg),c.TgZ(0,"div",0,1),c.Hsn(2),c.TgZ(3,"div",2,3)(5,"div",4,5),c.GkF(7,6),c.qZA()(),c._UZ(8,"div",7),c.Hsn(9,1),c.qZA(),c.Hsn(10,2))},dependencies:[HC],styles:["[_nghost-%COMP%]{display:block;position:relative}.ngurtl[_nghost-%COMP%]{direction:rtl}.ngucarousel[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%}.ngucarousel[_ngcontent-%COMP%]   .ngucarousel-items[_ngcontent-%COMP%]{position:relative;display:flex;height:100%}.nguvertical[_ngcontent-%COMP%]{flex-direction:column}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:20px}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:rgba(255,255,255,.55)}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:white}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{list-style-type:none;text-align:center;padding:12px;margin:0;white-space:nowrap;overflow:auto;box-sizing:border-box}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border-radius:50%;background:rgba(0,0,0,.55);padding:4px;margin:0 4px;transition-timing-function:cubic-bezier(.17,.67,.83,.67);transition:.4s}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#6b6b6b;transform:scale(1.8)}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.nguclearFix[_ngcontent-%COMP%]{clear:both}"],changeDetection:0}),n})(),pS=(()=>{class n{constructor(){this.classes=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngu-tile"]],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("item",i.classes)},ngContentSelectors:cS,decls:2,vars:0,consts:[[1,"tile"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:["[_nghost-%COMP%]{padding:10px;box-sizing:border-box}.tile[_ngcontent-%COMP%]{box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f}"]}),n})(),vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr]}),n})();const iy=(0,j(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function _S(n){return new Ai.y(e=>{(0,ar.Xf)(n()).subscribe(e)})}var RR=j(9635);function Z_(n,e){const t=(0,Ps.m)(n)?n:()=>n,i=r=>r.error(t());return new Ai.y(e?r=>e.schedule(i,0,r):i)}var WC=j(727);function yw(){return(0,lr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ri.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class bw extends Ai.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new WC.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ri.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=WC.w0.EMPTY)}return e}refCount(){return yw()(this)}}function Y_(n){return(0,lr.e)((e,t)=>{let i=!1;e.subscribe((0,ri.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ww(n=mS){return(0,lr.e)((e,t)=>{let i=!1;e.subscribe((0,ri.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function mS(){return new iy}function Vd(n,e){const t=arguments.length>=2;return i=>i.pipe(n?rr((r,a)=>n(r,a,i)):Qs.y,Pi(1),t?Y_(e):ww(()=>new iy))}function jf(n,e){return(0,Ps.m)(e)?(0,cr.z)(n,e,1):(0,cr.z)(n,1)}function Uh(n){return(0,lr.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,ri.x)(t,void 0,void 0,u=>{a=(0,ar.Xf)(n(u,Uh(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function vS(n,e,t,i,r){return(a,u)=>{let g=t,y=e,C=0;a.subscribe((0,ri.x)(u,S=>{const R=C++;y=g?n(y,S,R):(g=!0,S),i&&u.next(y)},r&&(()=>{g&&u.next(y),u.complete()})))}}function K_(n,e){return(0,lr.e)(vS(n,e,arguments.length>=2,!0))}function Wf(n){return n<=0?()=>Fi.E:(0,lr.e)((e,t)=>{let i=[];e.subscribe((0,ri.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Dw(n,e){const t=arguments.length>=2;return i=>i.pipe(n?rr((r,a)=>n(r,a,i)):Qs.y,Wf(1),t?Y_(e):ww(()=>new iy))}function ry(n){return(0,lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const On="primary",og=Symbol("RouteTitle");class qC{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ag(n){return new qC(n)}function FR(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],g=n[a];if(u.startsWith(":"))r[u.substring(1)]=g;else if(u!==g.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Qu(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!YC(n[r],e[r]))return!1;return!0}function YC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function KC(n){return Array.prototype.concat.apply([],n)}function QC(n){return n.length>0?n[n.length-1]:null}function Eo(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ju(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,jn.D)(Promise.resolve(n)):bt(n)}const Cw={exact:function XC(n,e,t){if(!qf(n.segments,e.segments)||!ay(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!XC(n.children[i],e.children[i],t))return!1;return!0},subset:Q_},lg={exact:function bS(n,e){return Qu(n,e)},subset:function oy(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>YC(n[t],e[t]))},ignored:()=>!0};function JC(n,e,t){return Cw[t.paths](n.root,e.root,t.matrixParams)&&lg[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Q_(n,e,t){return eI(n,e,e.segments,t)}function eI(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!qf(r,t)||e.hasChildren()||!ay(r,t,i))}if(n.segments.length===t.length){if(!qf(n.segments,t)||!ay(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Q_(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(qf(n.segments,r)&&ay(n.segments,r,i)&&n.children[On])&&eI(n.children[On],e,a,i)}}function ay(n,e,t){return e.every((i,r)=>lg[t](n[r].parameters,i.parameters))}class $h{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ag(this.queryParams)),this._queryParamMap}toString(){return Iw.serialize(this)}}class Bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Eo(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return X_(this)}}class zf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ag(this.parameters)),this._parameterMap}toString(){return dy(this)}}function qf(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let DS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new J_},providedIn:"root"}),n})();class J_{parse(e){const t=new aI(e);return new $h(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zf(e.root,!0)}`,i=function iI(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${cy(t)}=${cy(r)}`).join("&"):`${cy(t)}=${cy(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function CS(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Iw=new J_;function X_(n){return n.segments.map(e=>dy(e)).join("/")}function Zf(n,e){if(!n.hasChildren())return X_(n);if(e){const t=n.children[On]?Zf(n.children[On],!1):"",i=[];return Eo(n.children,(r,a)=>{a!==On&&i.push(`${a}:${Zf(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function wS(n,e){let t=[];return Eo(n.children,(i,r)=>{r===On&&(t=t.concat(e(i,r)))}),Eo(n.children,(i,r)=>{r!==On&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===On?[Zf(n.children[On],!1)]:[`${r}:${Zf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[On]?`${X_(n)}/${t[0]}`:`${X_(n)}/(${t.join("//")})`}}function ly(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cy(n){return ly(n).replace(/%3B/gi,";")}function Tw(n){return ly(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uy(n){return decodeURIComponent(n)}function Ew(n){return uy(n.replace(/\+/g,"%20"))}function dy(n){return`${Tw(n.path)}${function nI(n){return Object.keys(n).map(e=>`;${Tw(e)}=${Tw(n[e])}`).join("")}(n.parameters)}`}const rI=/^[^\/()?;=#]+/;function em(n){const e=n.match(rI);return e?e[0]:""}const IS=/^[^=?&#]+/,oI=/^[^&#]+/;class aI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[On]=new Bn(e,t)),i}parseSegment(){const e=em(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new zf(uy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=em(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=em(this.remaining);r&&(i=r,this.capture(i))}e[uy(t)]=uy(i)}parseQueryParam(e){const t=function sI(n){const e=n.match(IS);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function TS(n){const e=n.match(oI);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Ew(t),a=Ew(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=em(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=On);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[On]:new Bn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function hy(n){return n.segments.length>0?new Bn([],{[On]:n}):n}function oo(n){const e={};for(const i of Object.keys(n.children)){const a=oo(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function cg(n){if(1===n.numberOfChildren&&n.children[On]){const e=n.children[On];return new Bn(n.segments.concat(e.segments),e.children)}return n}(new Bn(n.segments,e))}function Yf(n){return n instanceof $h}function cI(n,e,t,i,r){if(0===t.length)return Gh(e.root,e.root,e.root,i,r);const a=function dI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sw(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const g={};return Eo(a.outlets,(y,C)=>{g[C]="string"==typeof y?y.split("/"):y}),[...r,{outlets:g}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&r.push(g))}),r):[...r,a]},[]);return new Sw(t,e,i)}(t);return a.toRoot()?Gh(e.root,e.root,new Bn([],{}),i,r):function u(y){const C=function Aw(n,e,t,i){if(n.isAbsolute)return new ug(e.root,!0,0);if(-1===i)return new ug(t,t===e.root,0);return function Nw(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new ug(i,!1,r-a)}(t,i+(Ud(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),S=C.processChildren?Kf(C.segmentGroup,C.index,a.commands):dg(C.segmentGroup,C.index,a.commands);return Gh(e.root,C.segmentGroup,S,i,r)}(n.snapshot?._lastPathIndex)}function Ud(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tm(n){return"object"==typeof n&&null!=n&&n.outlets}function Gh(n,e,t,i,r){let u,a={};i&&Eo(i,(y,C)=>{a[C]=Array.isArray(y)?y.map(S=>`${S}`):`${y}`}),u=n===e?t:uI(n,e,t);const g=hy(oo(u));return new $h(g,a,r)}function uI(n,e,t){const i={};return Eo(n.children,(r,a)=>{i[a]=r===e?t:uI(r,e,t)}),new Bn(n.segments,i)}class Sw{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ud(i[0]))throw new c.vHH(4003,!1);const r=i.find(tm);if(r&&r!==QC(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ug{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function dg(n,e,t){if(n||(n=new Bn([],{})),0===n.segments.length&&n.hasChildren())return Kf(n,e,t);const i=function kR(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],g=t[i];if(tm(g))break;const y=`${g}`,C=i<t.length-1?t[i+1]:null;if(r>0&&void 0===y)break;if(y&&C&&"object"==typeof C&&void 0===C.outlets){if(!Qf(y,C,u))return a;i+=2}else{if(!Qf(y,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Bn(n.segments.slice(0,i.pathIndex),{});return a.children[On]=new Bn(n.segments.slice(i.pathIndex),n.children),Kf(a,0,r)}return i.match&&0===r.length?new Bn(n.segments,{}):i.match&&!n.hasChildren()?fy(n,e,t):i.match?Kf(n,0,r):fy(n,e,t)}function Kf(n,e,t){if(0===t.length)return new Bn(n.segments,{});{const i=function hI(n){return tm(n[0])?n[0].outlets:{[On]:n}}(t),r={};return Eo(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=dg(n.children[u],e,a))}),Eo(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Bn(n.segments,r)}}function fy(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(tm(a)){const y=xS(a.outlets);return new Bn(i,y)}if(0===r&&Ud(t[0])){i.push(new zf(n.segments[e].path,Ow(t[0]))),r++;continue}const u=tm(a)?a.outlets[On]:`${a}`,g=r<t.length-1?t[r+1]:null;u&&g&&Ud(g)?(i.push(new zf(u,Ow(g))),r+=2):(i.push(new zf(u,{})),r++)}return new Bn(i,{})}function xS(n){const e={};return Eo(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=fy(new Bn([],{}),0,t))}),e}function Ow(n){const e={};return Eo(n,(t,i)=>e[i]=`${t}`),e}function Qf(n,e,t){return n==t.path&&Qu(e,t.parameters)}class $d{constructor(e,t){this.id=e,this.url=t}}class nm extends $d{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xu extends $d{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class py extends $d{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mw extends $d{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LR extends $d{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SS extends $d{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AS extends $d{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class NS extends $d{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fI extends $d{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pI{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OS{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gI{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _I{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mI{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MS{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rw{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gy(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=gy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_y(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return _y(e,this._root).map(t=>t.value)}}function gy(n,e){if(n===e.value)return e;for(const t of e.children){const i=gy(n,t);if(i)return i}return null}function _y(n,e){if(n===e.value)return[e];for(const t of e.children){const i=_y(n,t);if(i.length)return i.unshift(e),i}return[]}class ed{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hg(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vI extends Fw{constructor(e,t){super(e),this.snapshot=t,bI(this,e)}toString(){return this.snapshot.toString()}}function FS(n,e){const t=function yI(n,e){const u=new Pw([],{},{},"",{},On,e,null,n.root,-1,{});return new kS("",new ed(u,[]))}(n,e),i=new qn([new zf("",{})]),r=new qn({}),a=new qn({}),u=new qn({}),g=new qn(""),y=new fg(i,r,u,g,a,On,e,t.root);return y.snapshot=t.root,new vI(new ed(y,[]),t)}class fg{constructor(e,t,i,r,a,u,g,y){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=g,this.title=this.data?.pipe((0,It.U)(C=>C[og]))??bt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>ag(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>ag(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PS(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function BR(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Pw{constructor(e,t,i,r,a,u,g,y,C,S,R,H){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=g,this.title=this.data?.[og],this.routeConfig=y,this._urlSegment=C,this._lastPathIndex=S,this._correctedLastPathIndex=H??S,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ag(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ag(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kS extends Fw{constructor(e,t){super(t),this.url=e,bI(this,t)}toString(){return LS(this._root)}}function bI(n,e){e.value._routerState=n,e.children.forEach(t=>bI(n,t))}function LS(n){const e=n.children.length>0?` { ${n.children.map(LS).join(", ")} } `:"";return`${n.value}${e}`}function wI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qu(e.params,t.params)||n.params.next(t.params),function ZC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function pg(n,e){const t=Qu(n.params,e.params)&&function tI(n,e){return qf(n,e)&&n.every((t,i)=>Qu(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||pg(n.parent,e.parent))}function gg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function my(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return gg(n,i,r);return gg(n,i)})}(n,e,t);return new ed(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(g=>gg(n,g)),u}}const i=function DI(n){return new fg(new qn(n.url),new qn(n.params),new qn(n.queryParams),new qn(n.fragment),new qn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>gg(n,a));return new ed(i,r)}}const vy="ngNavigationCancelingError";function BS(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Yf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=yy(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function yy(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[vy]=!0,i.cancellationCode=e,t&&(i.url=t),i}function kw(n){return CI(n)&&Yf(n.url)}function CI(n){return n&&n[vy]}class II{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new by,this.attachRef=null}}let by=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new II,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lw=!1;let Bw=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||On,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Lw);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Lw);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Lw);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,Lw);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new VS(t,g,r.injector);if(i&&function wy(n){return!!n.resolveComponentFactory}(i)){const C=i.resolveComponentFactory(u);this.activated=r.createComponent(C,r.length,y)}else this.activated=r.createComponent(u,{index:r.length,injector:y,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(by),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class VS{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===fg?this.route:e===by?this.childContexts:this.parent.get(e,t)}}let Vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[Bw],encapsulation:2}),n})();function US(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Dy(n){const e=n.children&&n.children.map(Dy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==On&&(t.component=Vw),t}function su(n){return n.outlet||On}function lc(n,e){const t=n.filter(i=>su(i)===e);return t.push(...n.filter(i=>su(i)!==e)),t}function im(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class GS{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),wI(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=hg(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),Eo(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=hg(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),g=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=hg(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=hg(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new MS(a.value.snapshot))}),e.children.length&&this.forwardEvent(new _I(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(wI(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const g=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(g.contexts),u.attachRef=g.componentRef,u.route=g.route.value,u.outlet&&u.outlet.attach(g.componentRef,g.route.value),wI(g.route.value),this.activateChildRoutes(e,null,u.children)}else{const g=im(r.snapshot),y=g?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=y,u.injector=g,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class bl{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Cy{constructor(e,t){this.component=e,this.route=t}}function Gw(n,e,t){const i=n._root;return Jf(i,e?e._root:null,t,[i.value])}function _g(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function Jf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=hg(e);return n.children.forEach(u=>{(function EI(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const y=function xI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qf(n.url,e.url)||!Qu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pg(n,e)||!Qu(n.queryParams,e.queryParams);default:return!pg(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);y?r.canActivateChecks.push(new bl(i)):(a.data=u.data,a._resolvedData=u._resolvedData),Jf(n,e,a.component?g?g.children:null:t,i,r),y&&g&&g.outlet&&g.outlet.isActivated&&r.canDeactivateChecks.push(new Cy(g.outlet.component,u))}else u&&rm(e,g,r),r.canActivateChecks.push(new bl(i)),Jf(n,null,a.component?g?g.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),Eo(a,(u,g)=>rm(u,t.getContext(g),r)),r}function rm(n,e,t){const i=hg(n),r=n.value;Eo(i,(a,u)=>{rm(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Cy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function mg(n){return"function"==typeof n}function ou(n){return n instanceof iy||"EmptyError"===n?.name}const Iy=Symbol("INITIAL_VALUE");function sm(){return zn(n=>nh(n.map(e=>e.pipe(Pi(1),ha(Iy)))).pipe((0,It.U)(e=>{for(const t of e)if(!0!==t){if(t===Iy)return Iy;if(!1===t||t instanceof $h)return t}return!0}),rr(e=>e!==Iy),Pi(1)))}function JS(n){return(0,RR.z)((0,hr.b)(e=>{if(Yf(e))throw BS(0,e)}),(0,It.U)(e=>!0===e))}const Ty={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zw(n,e,t,i,r){const a=Ey(n,e,t);return a.matched?function Ww(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?bt(r.map(u=>{const g=_g(u,n);return Ju(function Hh(n){return n&&mg(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(sm(),JS()):bt(!0)}(i=US(e,i),e,t).pipe((0,It.U)(u=>!0===u?a:{...Ty})):bt(a)}function Ey(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ty}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||FR)(t,n,e);if(!r)return{...Ty};const a={};Eo(r.posParams,(g,y)=>{a[y]=g.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function om(n,e,t,i,r="corrected"){if(t.length>0&&function Sy(n,e,t){return t.some(i=>Ay(n,e,i)&&su(i)!==On)}(n,t,i)){const u=new Bn(e,function xy(n,e,t,i){const r={};r[On]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&su(a)!==On){const u=new Bn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[su(a)]=u}return r}(n,e,i,new Bn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function FI(n,e,t){return t.some(i=>Ay(n,e,i))}(n,t,i)){const u=new Bn(n.segments,function RI(n,e,t,i,r,a){const u={};for(const g of i)if(Ay(n,t,g)&&!r[su(g)]){const y=new Bn([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[su(g)]=y}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new Bn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Ay(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function qw(n,e,t,i){return!!(su(n)===i||i!==On&&Ay(e,t,n))&&("**"===n.path||Ey(e,n,t).matched)}function Zw(n,e,t){return 0===e.length&&!n.children[t]}const Ny=!1;class Oy{constructor(e){this.segmentGroup=e||null}}class XS{constructor(e){this.urlTree=e}}function My(n){return Z_(new Oy(n))}function Yw(n){return Z_(new XS(n))}class jR{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=om(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,On).pipe((0,It.U)(a=>this.createUrlTree(oo(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Uh(a=>{if(a instanceof XS)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Oy?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,On).pipe((0,It.U)(r=>this.createUrlTree(oo(r),e.queryParams,e.fragment))).pipe(Uh(r=>{throw r instanceof Oy?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,Ny)}createUrlTree(e,t,i){const r=hy(e);return new $h(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,It.U)(a=>new Bn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,jn.D)(r).pipe(jf(a=>{const u=i.children[a],g=lc(t,a);return this.expandSegmentGroup(e,g,u,a).pipe((0,It.U)(y=>({segment:y,outlet:a})))}),K_((a,u)=>(a[u.outlet]=u.segment,a),{}),Dw())}expandSegment(e,t,i,r,a,u){return(0,jn.D)(i).pipe(jf(g=>this.expandSegmentAgainstRoute(e,t,i,g,r,a,u).pipe(Uh(C=>{if(C instanceof Oy)return bt(null);throw C}))),Vd(g=>!!g),Uh((g,y)=>{if(ou(g))return Zw(t,r,a)?bt(new Bn([],{})):My(t);throw g}))}expandSegmentAgainstRoute(e,t,i,r,a,u,g){return qw(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):My(t):My(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Yw(a):this.lineralizeSegments(i,a).pipe((0,cr.z)(u=>{const g=new Bn(u,{});return this.expandSegment(e,g,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:g,consumedSegments:y,remainingSegments:C,positionalParamSegments:S}=Ey(t,r,a);if(!g)return My(t);const R=this.applyRedirectCommands(y,r.redirectTo,S);return r.redirectTo.startsWith("/")?Yw(R):this.lineralizeSegments(r,R).pipe((0,cr.z)(H=>this.expandSegment(e,t,i,H.concat(C),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=US(i,e),i.loadChildren?(i._loadedRoutes?bt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,It.U)(g=>(i._loadedRoutes=g.routes,i._loadedInjector=g.injector,new Bn(r,{})))):bt(new Bn(r,{}))):zw(t,i,r,e).pipe(zn(({matched:u,consumedSegments:g,remainingSegments:y})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,cr.z)(S=>{const R=S.injector??e,H=S.routes,{segmentGroup:Z,slicedSegments:ce}=om(t,g,y,H),me=new Bn(Z.segments,Z.children);if(0===ce.length&&me.hasChildren())return this.expandChildren(R,H,me).pipe((0,It.U)(vt=>new Bn(g,vt)));if(0===H.length&&0===ce.length)return bt(new Bn(g,{}));const De=su(i)===a;return this.expandSegment(R,me,H,ce,De?On:a,!0).pipe((0,It.U)(ct=>new Bn(g.concat(ct.segments),ct.children)))})):My(t)))}getChildConfig(e,t,i){return t.children?bt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bt({routes:t._loadedRoutes,injector:t._loadedInjector}):function MI(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?bt(!0):bt(r.map(u=>{const g=_g(u,n);return Ju(function jS(n){return n&&mg(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(sm(),JS())}(e,t,i).pipe((0,cr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,hr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function tA(n){return Z_(yy(Ny,3))}())):bt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[On])return Z_(new c.vHH(4e3,Ny));r=r.children[On]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new $h(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Eo(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const g=r.substring(1);i[a]=t[g]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return Eo(t.children,(g,y)=>{u[y]=this.createSegmentGroup(e,g,i,r)}),new Bn(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,Ny);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class zR{}class Ry{constructor(e,t,i,r,a,u,g,y){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const e=om(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,On).pipe((0,It.U)(t=>{if(null===t)return null;const i=new Pw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ed(i,t),a=new kS(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=PS(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,jn.D)(Object.keys(i.children)).pipe(jf(r=>{const a=i.children[r],u=lc(t,r);return this.processSegmentGroup(e,u,a,r)}),K_((r,a)=>r&&a?(r.push(...a),r):null),function zC(n,e=!1){return(0,lr.e)((t,i)=>{let r=0;t.subscribe((0,ri.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),Y_(null),Dw(),(0,It.U)(r=>{if(null===r)return null;const a=jh(r);return function rA(n){n.sort((e,t)=>e.value.outlet===On?-1:t.value.outlet===On?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,jn.D)(t).pipe(jf(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),Vd(u=>!!u),Uh(u=>{if(ou(u))return Zw(i,r,a)?bt([]):bt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!qw(t,i,r,a))return bt(null);let u;if("**"===t.path){const g=r.length>0?QC(r).parameters:{},y=Py(i)+r.length;u=bt({snapshot:new Pw(r,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ky(t),su(t),t.component??t._loadedComponent??null,t,Fy(i),y,Ly(t),y),consumedSegments:[],remainingSegments:[]})}else u=zw(i,t,r,e).pipe((0,It.U)(({matched:g,consumedSegments:y,remainingSegments:C,parameters:S})=>{if(!g)return null;const R=Py(i)+y.length;return{snapshot:new Pw(y,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ky(t),su(t),t.component??t._loadedComponent??null,t,Fy(i),R,Ly(t),R),consumedSegments:y,remainingSegments:C}}));return u.pipe(zn(g=>{if(null===g)return bt(null);const{snapshot:y,consumedSegments:C,remainingSegments:S}=g;e=t._injector??e;const R=t._loadedInjector??e,H=function sA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:ce}=om(i,C,S,H.filter(De=>void 0===De.redirectTo),this.relativeLinkResolution);if(0===ce.length&&Z.hasChildren())return this.processChildren(R,H,Z).pipe((0,It.U)(De=>null===De?null:[new ed(y,De)]));if(0===H.length&&0===ce.length)return bt([new ed(y,[])]);const me=su(t)===a;return this.processSegment(R,H,Z,ce,me?On:a).pipe((0,It.U)(De=>null===De?null:[new ed(y,De)]))}))}}function PI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jh(n){const e=[],t=new Set;for(const i of n){if(!PI(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=jh(i.children);e.push(new ed(i.value,r))}return e.filter(i=>!t.has(i))}function Fy(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Py(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ky(n){return n.data||{}}function Ly(n){return n.resolve||{}}function VI(n){return"string"==typeof n.title||null===n.title}function Qw(n){return zn(e=>{const t=n(e);return t?(0,jn.D)(t).pipe((0,It.U)(()=>e)):bt(e)})}let UI=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===On);return i}getResolvedTitleForRoute(t){return t.data[og]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)($I)},providedIn:"root"}),n})(),$I=(()=>{class n extends UI{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GI{}class aA extends class HI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const am=new c.OlP("",{providedIn:"root",factory:()=>({})}),jI=new c.OlP("ROUTES");let Uy=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ju(t.loadComponent()).pipe((0,hr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),ry(()=>{this.componentLoaders.delete(t)})),r=new bw(i,()=>new Wn.x).pipe(yw());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return bt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,It.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(i);let y,C,S=!1;Array.isArray(g)?C=g:(y=g.create(t).injector,C=KC(y.get(jI,[],c.XFs.Self|c.XFs.Optional)));return{routes:C.map(Dy),injector:y}}),ry(()=>{this.childrenLoaders.delete(i)})),u=new bw(a,()=>new Wn.x).pipe(yw());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return Ju(t()).pipe((0,cr.z)(i=>i instanceof c.YKP||Array.isArray(i)?bt(i):(0,jn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jw{}class cA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function JR(n){throw n}function XR(n,e,t){return e.parse("/")}const uA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fA(){const n=(0,c.f3M)(DS),e=(0,c.f3M)(by),t=(0,c.f3M)(He),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),a=(0,c.f3M)(jI,{optional:!0})??[],u=(0,c.f3M)(am,{optional:!0})??{},g=(0,c.f3M)($I),y=(0,c.f3M)(UI,{optional:!0}),C=(0,c.f3M)(Jw,{optional:!0}),S=(0,c.f3M)(GI,{optional:!0}),R=new ao(null,n,e,t,i,r,KC(a));return C&&(R.urlHandlingStrategy=C),S&&(R.routeReuseStrategy=S),R.titleStrategy=y??g,function hA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,R),R}let ao=(()=>{class n{constructor(t,i,r,a,u,g,y){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wn.x,this.errorHandler=JR,this.malformedUriErrorHandler=XR,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>bt(void 0),this.urlHandlingStrategy=new cA,this.routeReuseStrategy=new aA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Uy),this.configLoader.onLoadEndListener=H=>this.triggerEvent(new OS(H)),this.configLoader.onLoadStartListener=H=>this.triggerEvent(new pI(H)),this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const R=u.get(c.R0b);this.isNgZoneEnabled=R instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function yS(){return new $h(new Bn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FS(this.currentUrlTree,this.rootComponentType),this.transitions=new qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(rr(r=>0!==r.id),(0,It.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),zn(r=>{let a=!1,u=!1;return bt(r).pipe((0,hr.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zn(g=>{const y=this.browserUrlTree.toString(),C=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return pA(g.source)&&(this.browserUrlTree=g.extractedUrl),bt(g).pipe(zn(R=>{const H=this.transitions.getValue();return i.next(new nm(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),H!==this.transitions.getValue()?Fi.E:Promise.resolve(R)}),function WR(n,e,t,i){return zn(r=>function nA(n,e,t,i,r){return new jR(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,It.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,hr.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},r.urlAfterRedirects=R.urlAfterRedirects}),function By(n,e,t,i,r,a){return(0,cr.z)(u=>function iA(n,e,t,i,r,a,u="emptyOnly",g="legacy"){return new Ry(n,e,t,i,r,u,g,a).recognize().pipe(zn(y=>null===y?function qR(n){return new Ai.y(e=>e.error(n))}(new zR):bt(y)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,It.U)(g=>({...u,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,hr.b)(R=>{if(r.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const Z=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(Z,R)}this.browserUrlTree=R.urlAfterRedirects}const H=new LR(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);i.next(H)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:Z,source:ce,restoredState:me,extras:De}=g,ot=new nm(H,this.serializeUrl(Z),ce,me);i.next(ot);const ct=FS(Z,this.rootComponentType).snapshot;return bt(r={...g,targetSnapshot:ct,urlAfterRedirects:Z,extras:{...De,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),Fi.E}),(0,hr.b)(g=>{const y=new SS(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,It.U)(g=>r={...g,guards:Gw(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function qS(n,e){return(0,cr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?bt({...t,guardsResult:!0}):function ZS(n,e,t,i){return(0,jn.D)(n).pipe((0,cr.z)(r=>function QS(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?bt(a.map(g=>{const y=im(e)??r,C=_g(g,y);return Ju(function Hw(n){return n&&mg(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,i):y.runInContext(()=>C(n,e,t,i))).pipe(Vd())})).pipe(sm()):bt(!0)}(r.component,r.route,t,e,i)),Vd(r=>!0!==r,!0))}(u,i,r,n).pipe((0,cr.z)(g=>g&&function SI(n){return"boolean"==typeof n}(g)?function YS(n,e,t,i){return(0,jn.D)(e).pipe(jf(r=>rh(function NI(n,e){return null!==n&&e&&e(new gI(n)),bt(!0)}(r.route.parent,i),function KS(n,e){return null!==n&&e&&e(new mI(n)),bt(!0)}(r.route,i),function OI(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function HS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>_S(()=>bt(u.guards.map(y=>{const C=im(u.node)??t,S=_g(y,C);return Ju(function WS(n){return n&&mg(n.canActivateChild)}(S)?S.canActivateChild(i,n):C.runInContext(()=>S(i,n))).pipe(Vd())})).pipe(sm())));return bt(a).pipe(sm())}(n,r.path,t),function HR(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(a=>_S(()=>{const u=im(e)??t,g=_g(a,u);return Ju(function AI(n){return n&&mg(n.canActivate)}(g)?g.canActivate(e,n):u.runInContext(()=>g(e,n))).pipe(Vd())}));return bt(r).pipe(sm())}(n,r.route,t))),Vd(r=>!0!==r,!0))}(i,a,n,e):bt(g)),(0,It.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,hr.b)(g=>{if(r.guardsResult=g.guardsResult,Yf(g.guardsResult))throw BS(0,g.guardsResult);const y=new AS(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),rr(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Qw(g=>{if(g.guards.canActivateChecks.length)return bt(g).pipe((0,hr.b)(y=>{const C=new NS(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}),zn(y=>{let C=!1;return bt(y).pipe(function ZR(n,e){return(0,cr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return bt(t);let a=0;return(0,jn.D)(r).pipe(jf(u=>function YR(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!VI(r)&&(a[og]=r.title),function KR(n,e,t,i){const r=function QR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return bt({});const a={};return(0,jn.D)(r).pipe((0,cr.z)(u=>function BI(n,e,t,i){const r=im(e)??i,a=_g(n,r);return Ju(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(Vd(),(0,hr.b)(g=>{a[u]=g}))),Wf(1),ka(a),Uh(u=>ou(u)?Fi.E:Z_(u)))}(a,n,e,i).pipe((0,It.U)(u=>(n._resolvedData=u,n.data=PS(n,t).resolve,r&&VI(r)&&(n.data[og]=r.title),null)))}(u.route,i,n,e)),(0,hr.b)(()=>a++),Wf(1),(0,cr.z)(u=>a===r.length?bt(t):Fi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,hr.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,hr.b)(y=>{const C=new fI(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}))}),Qw(g=>{const y=C=>{const S=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,hr.b)(R=>{C.component=R}),(0,It.U)(()=>{})));for(const R of C.children)S.push(...y(R));return S};return nh(y(g.targetSnapshot.root)).pipe(Y_(),Pi(1))}),Qw(()=>this.afterPreactivation()),(0,It.U)(g=>{const y=function VR(n,e,t){const i=gg(n,e._root,t?t._root:void 0);return new vI(i,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return r={...g,targetRouterState:y}}),(0,hr.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(i=>(new GS(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,hr.b)({next(){a=!0},complete(){a=!0}}),ry(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Uh(g=>{if(u=!0,CI(g)){kw(g)||(this.navigated=!0,this.restoreHistory(r,!0));const y=new py(r.id,this.serializeUrl(r.extractedUrl),g.message,g.cancellationCode);if(i.next(y),kw(g)){const C=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pA(r.source)};this.scheduleNavigation(C,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const y=new Mw(r.id,this.serializeUrl(r.extractedUrl),g,r.targetSnapshot??void 0);i.next(y);try{r.resolve(this.errorHandler(g))}catch(C){r.reject(C)}}return Fi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const g={...a};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(r.state=g)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Dy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:g,preserveFragment:y}=i,C=r||this.routerState.root,S=y?this.currentUrlTree.fragment:u;let R=null;switch(g){case"merge":R={...this.currentUrlTree.queryParams,...a};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=a||null}return null!==R&&(R=this.removeEmptyProps(R)),cI(C,this.currentUrlTree,t,R,S??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Yf(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function eF(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...uA}:!1===i?{...dA}:i,Yf(t))return JC(this.currentUrlTree,t,r);const a=this.parseUrl(t);return JC(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Xu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let g,y,C;u?(g=u.resolve,y=u.reject,C=u.promise):C=new Promise((H,Z)=>{g=H,y=Z});const S=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),R=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:S,targetPageId:R,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:g,reject:y,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(H=>Promise.reject(H))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new py(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return fA()},providedIn:"root"}),n})();function pA(n){return"imperative"!==n}class gA{}let rF=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(rr(t=>t instanceof Xu),jf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,g=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(g,a.children??a._loadedRoutes))}return(0,jn.D)(r).pipe((0,ih.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):bt(null);const a=r.pipe((0,cr.z)(u=>null===u?bt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,jn.D)([a,u]).pipe((0,ih.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ao),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(gA),c.LFG(Uy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s=new c.OlP("");let o=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Rw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function m(n,e){return{\u0275kind:n,\u0275providers:e}}function D(n){return[{provide:jI,multi:!0,useValue:n}]}function E(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(ao),r=n.get(O);1===n.get(L)&&i.initialNavigation(),n.get($e,null,c.XFs.Optional)?.setUpPreloading(),n.get(s,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const O=new c.OlP("",{factory:()=>new Wn.x}),L=new c.OlP("",{providedIn:"root",factory:()=>1});const $e=new c.OlP("");function dt(n){return m(0,[{provide:$e,useExisting:rF},{provide:gA,useExisting:n}])}const Ke=new c.OlP("ROUTER_FORROOT_GUARD"),nn=[He,{provide:DS,useClass:J_},{provide:ao,useFactory:fA},by,{provide:fg,useFactory:function f(n){return n.routerState.root},deps:[ao]},Uy];function bi(){return new c.PXZ("Router",ao)}let wr=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[nn,[],D(t),{provide:Ke,useFactory:n1,deps:[[ao,new c.FiY,new c.tp0]]},{provide:am,useValue:i||{}},i?.useHash?{provide:Oe,useClass:xt}:{provide:Oe,useClass:at},{provide:s,useFactory:()=>{const n=(0,c.f3M)(ao),e=(0,c.f3M)(Ol),t=(0,c.f3M)(am);return t.scrollOffset&&e.setOffset(t.scrollOffset),new o(n,e,t)}},i?.preloadingStrategy?dt(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:bi},i?.initialNavigation?i1(i):[],[{provide:Gy,useFactory:E},{provide:c.tb,multi:!0,useExisting:Gy}]]}}static forChild(t){return{ngModule:n,providers:[D(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ke,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Vw]}),n})();function n1(n){return"guarded"}function i1(n){return["disabled"===n.initialNavigation?m(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(ao);return()=>{e.setUpLocationChangeListener()}}},{provide:L,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?m(2,[{provide:L,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(J,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(ao),g=e.get(O);(function r(a){e.get(ao).events.pipe(rr(g=>g instanceof Xu||g instanceof py||g instanceof Mw),(0,It.U)(g=>g instanceof Xu||g instanceof py&&(0===g.code||1===g.code)&&null),rr(g=>null!==g),Pi(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),u.afterPreactivation=()=>(a(!0),i||g.closed?bt(void 0):g),u.initialNavigation()}))}}]).\u0275providers:[]]}const Gy=new c.OlP("");var ki=j(7489),Be=j(5861);const lo_imgSrc="https://cdn.jsdelivr.net/gh/phantomodm/nystixCDN@9P/depository/assets/images/";var Qr=j(5813);function _A(){return(0,lr.e)((n,e)=>{let t,i=!1;n.subscribe((0,ri.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}var zt,wl=j(2011),sF=(j(2476),j(3942)),Gd=j(9681),Hy=j(4859),vg=j(1877),Mn=j(2090),xV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ep={},mA=mA||{},yn=xV||self;function qI(){}function ZI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function s1(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vA="closure_uid_"+(1e9*Math.random()>>>0),AV=0;function NV(n,e,t){return n.call.apply(n.bind,arguments)}function OV(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Wa(n,e,t){return(Wa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NV:OV).apply(null,arguments)}function YI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function va(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),g=2;g<arguments.length;g++)u[g-2]=arguments[g];return e.prototype[r].apply(i,u)}}function yg(){this.s=this.s,this.o=this.o}var RV={};yg.prototype.s=!1,yg.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function SV(n){return Object.prototype.hasOwnProperty.call(n,vA)&&n[vA]||(n[vA]=++AV)}(this);delete RV[n]}},yg.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function yA(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function aF(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(ZI(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function za(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}za.prototype.h=function(){this.defaultPrevented=!0};var FV=function(){if(!yn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yn.addEventListener("test",qI,e),yn.removeEventListener("test",qI,e)}catch{}return n}();function KI(n){return/^[\s\xa0]*$/.test(n)}var lF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bA(n,e){return n<e?-1:n>e?1:0}function QI(){var n=yn.navigator;return n&&(n=n.userAgent)?n:""}function Wh(n){return-1!=QI().indexOf(n)}function wA(n){return wA[" "](n),n}wA[" "]=qI;var JI,n,kV=Wh("Opera"),jy=Wh("Trident")||Wh("MSIE"),cF=Wh("Edge"),DA=cF||jy,uF=Wh("Gecko")&&!(-1!=QI().toLowerCase().indexOf("webkit")&&!Wh("Edge"))&&!(Wh("Trident")||Wh("MSIE"))&&!Wh("Edge"),LV=-1!=QI().toLowerCase().indexOf("webkit")&&!Wh("Edge");function dF(){var n=yn.document;return n?n.documentMode:void 0}e:{var CA="",IA=(n=QI(),uF?/rv:([^\);]+)(\)|;)/.exec(n):cF?/Edge\/([\d\.]+)/.exec(n):jy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):LV?/WebKit\/(\S+)/.exec(n):kV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(IA&&(CA=IA?IA[1]:""),jy){var TA=dF();if(null!=TA&&TA>parseFloat(CA)){JI=String(TA);break e}}JI=CA}var BV={};var UV=yn.document&&jy&&(dF()||parseInt(JI,10))||void 0;function o1(n,e){if(za.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(uF){e:{try{wA(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:$V[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&o1.X.h.call(this)}}va(o1,za);var $V={2:"touch",3:"pen",4:"mouse"};o1.prototype.h=function(){o1.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var a1="closure_listenable_"+(1e6*Math.random()|0),GV=0;function HV(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++GV,this.ba=this.ea=!1}function XI(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function xA(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function fF(n){const e={};for(const t in n)e[t]=n[t];return e}const pF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gF(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<pF.length;a++)t=pF[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function eT(n){this.src=n,this.g={},this.h=0}function SA(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=oF(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(XI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function AA(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}eT.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=AA(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new HV(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var NA="closure_lm_"+(1e6*Math.random()|0),OA={};function _F(n,e,t,i,r){if(i&&i.once)return vF(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)_F(n,e[a],t,i,r);return null}return t=PA(t),n&&n[a1]?n.N(e,t,s1(i)?!!i.capture:!!i,r):mF(n,e,t,!1,i,r)}function mF(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=s1(r)?!!r.capture:!!r,g=RA(n);if(g||(n[NA]=g=new eT(n)),(t=g.add(e,t,i,u,a)).proxy)return t;if(i=function jV(){const e=WV;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)FV||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(bF(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function vF(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)vF(n,e[a],t,i,r);return null}return t=PA(t),n&&n[a1]?n.O(e,t,s1(i)?!!i.capture:!!i,r):mF(n,e,t,!0,i,r)}function yF(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)yF(n,e[a],t,i,r);else i=s1(i)?!!i.capture:!!i,t=PA(t),n&&n[a1]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=AA(a=n.g[e],t,i,r))&&(XI(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=RA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=AA(e,t,i,r)),(t=-1<n?e[n]:null)&&MA(t))}function MA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[a1])SA(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(bF(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=RA(e))?(SA(t,n),0==t.h&&(t.src=null,e[NA]=null)):XI(n)}}}function bF(n){return n in OA?OA[n]:OA[n]="on"+n}function WV(n,e){if(n.ba)n=!0;else{e=new o1(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&MA(n),n=t.call(i,e)}return n}function RA(n){return(n=n[NA])instanceof eT?n:null}var FA="__closure_events_fn_"+(1e9*Math.random()>>>0);function PA(n){return"function"==typeof n?n:(n[FA]||(n[FA]=function(e){return n.handleEvent(e)}),n[FA])}function Ko(){yg.call(this),this.i=new eT(this),this.P=this,this.I=null}function ya(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new za(e,n);else if(e instanceof za)e.target=e.target||n;else{var r=e;gF(e=new za(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=tT(u,i,!0,e)&&r}if(r=tT(u=e.g=n,i,!0,e)&&r,r=tT(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=tT(u=e.g=t[a],i,!1,e)&&r}function tT(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var g=u.listener,y=u.ha||u.src;u.ea&&SA(n.i,u),r=!1!==g.call(y,i)&&r}}return r&&!i.defaultPrevented}va(Ko,yg),Ko.prototype[a1]=!0,Ko.prototype.removeEventListener=function(n,e,t,i){yF(this,n,e,t,i)},Ko.prototype.M=function(){if(Ko.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)XI(t[i]);delete n.g[e],n.h--}}this.I=null},Ko.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ko.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var kA=yn.JSON.stringify;function zV(){var n=CF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LA,wF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ZV,n=>n.reset());class ZV{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function YV(n){yn.setTimeout(()=>{throw n},0)}function DF(n,e){LA||function KV(){var n=yn.Promise.resolve(void 0);LA=function(){n.then(QV)}}(),BA||(LA(),BA=!0),CF.add(n,e)}var BA=!1,CF=new class qV{constructor(){this.h=this.g=null}add(e,t){const i=wF.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function QV(){for(var n;n=zV();){try{n.h.call(n.g)}catch(t){YV(t)}var e=wF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}BA=!1}function nT(n,e){Ko.call(this),this.h=n||1,this.g=e||yn,this.j=Wa(this.kb,this),this.l=Date.now()}function VA(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function UA(n,e,t){if("function"==typeof n)t&&(n=Wa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wa(n.handleEvent,n)}return 2147483647<Number(e)?-1:yn.setTimeout(n,e||0)}function IF(n){n.g=UA(()=>{n.g=null,n.i&&(n.i=!1,IF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}va(nT,Ko),(zt=nT.prototype).ca=!1,zt.R=null,zt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ya(this,"tick"),this.ca&&(VA(this),this.start()))}},zt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zt.M=function(){nT.X.M.call(this),VA(this),delete this.g};class JV extends yg{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IF(this)}M(){super.M(),this.g&&(yn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function l1(n){yg.call(this),this.h=n,this.g={}}va(l1,yg);var TF=[];function EF(n,e,t,i){Array.isArray(t)||(t&&(TF[0]=t.toString()),t=TF);for(var r=0;r<t.length;r++){var a=_F(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function xF(n){xA(n.g,function(e,t){this.g.hasOwnProperty(t)&&MA(e)},n),n.g={}}function iT(){this.g=!0}function Wy(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function n5(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return kA(t)}catch{return e}}(n,t)+(i?" "+i:"")})}l1.prototype.M=function(){l1.X.M.call(this),xF(this)},l1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iT.prototype.Aa=function(){this.g=!1},iT.prototype.info=function(){};var lm={},SF=null;function rT(){return SF=SF||new Ko}function AF(n){za.call(this,lm.Oa,n)}function c1(n){const e=rT();ya(e,new AF(e,n))}function NF(n,e){za.call(this,lm.STAT_EVENT,n),this.stat=e}function Dl(n){const e=rT();ya(e,new NF(e,n))}function OF(n,e){za.call(this,lm.Pa,n),this.size=e}function u1(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yn.setTimeout(function(){n()},e)}lm.Oa="serverreachability",va(AF,za),lm.STAT_EVENT="statevent",va(NF,za),lm.Pa="timingevent",va(OF,za);var sT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},MF={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $A(){}function FF(){}$A.prototype.h=null;var jA,d1={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function GA(){za.call(this,"d")}function HA(){za.call(this,"c")}function oT(){}function h1(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new l1(this),this.O=i5,this.T=new nT(n=DA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new PF}function PF(){this.i=null,this.g="",this.h=!1}va(GA,za),va(HA,za),va(oT,$A),oT.prototype.g=function(){return new XMLHttpRequest},oT.prototype.i=function(){return{}},jA=new oT;var i5=45e3,WA={},aT={};function zA(n,e,t){n.K=1,n.v=dT(tp(e)),n.s=t,n.P=!0,kF(n,null)}function kF(n,e){n.F=Date.now(),f1(n),n.A=tp(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),zF(t.i,"t",i),n.C=0,t=n.l.H,n.h=new PF,n.g=_P(n.l,t?e:null,!n.s),0<n.N&&(n.L=new JV(Wa(n.Ka,n,n.g),n.N)),EF(n.S,n.g,"readystatechange",n.hb),e=n.H?fF(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),c1(1),function XV(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",g=a.split("&"),y=0;y<g.length;y++){var C=g[y].split("=");if(1<C.length){var S=C[0];C=C[1];var R=S.split("_");u=2<=R.length&&"type"==R[1]?u+(S+"=")+C+"&":u+(S+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function LF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function BF(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=r5(n,t),r==aT){4==e&&(n.o=4,Dl(14),i=!1),Wy(n.j,n.m,null,"[Incomplete Response]");break}if(r==WA){n.o=4,Dl(15),Wy(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Wy(n.j,n.m,r,null),qA(n,r)}LF(n)&&r!=aT&&r!=WA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Dl(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),tN(e),e.K=!0,Dl(11))):(Wy(n.j,n.m,t,"[Invalid Chunked Response]"),cm(n),p1(n))}function r5(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?aT:(t=Number(e.substring(t,i)),isNaN(t)?WA:(i+=1)+t>e.length?aT:(e=e.substr(i,t),n.C=i+t,e))}function f1(n){n.V=Date.now()+n.O,VF(n,n.O)}function VF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=u1(Wa(n.fb,n),e)}function lT(n){n.B&&(yn.clearTimeout(n.B),n.B=null)}function p1(n){0==n.l.G||n.I||hP(n.l,n)}function cm(n){lT(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,VA(n.T),xF(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ZA(t.h,n)))if(!n.J&&ZA(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;mT(t),gT(t)}eN(t),Dl(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=u1(Wa(t.bb,t),6e3));if(1>=YF(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else dm(t,11)}else if((n.J||t.g==n)&&mT(t),!KI(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let C=r[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const S=C[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const R=C[4];null!=R&&(t.Ca=R,t.j.info("SVER="+t.Ca));const H=C[5];null!=H&&"number"==typeof H&&0<H&&(t.J=i=1.5*H,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const Z=n.g;if(Z){const ce=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ce){var a=i.h;a.g||-1==ce.indexOf("spdy")&&-1==ce.indexOf("quic")&&-1==ce.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(YA(a,a.h),a.h=null))}if(i.D){const me=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(i.za=me,Jr(i.F,i.D,me))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=gP(i,i.H?i.ka:null,i.V),u.J){KF(i.h,u);var g=u,y=i.J;y&&g.setTimeout(y),g.B&&(lT(g),f1(g)),i.g=u}else uP(i);0<t.i.length&&_T(t)}else"stop"!=C[0]&&"close"!=C[0]||dm(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?dm(t,7):XA(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}c1(4)}catch{}}function UF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ZI(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function o5(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ZI(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function s5(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ZI(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(zt=h1.prototype).setTimeout=function(n){this.O=n},zt.hb=function(n){n=n.target;const e=this.L;e&&3==np(n)?e.l():this.Ka(n)},zt.Ka=function(n){try{if(n==this.g)e:{const S=np(this.g);var e=this.g.Ea();const R=this.g.aa();if(!(3>S)&&(3!=S||DA||this.g&&(this.h.h||this.g.fa()||rP(this.g)))){this.I||4!=S||7==e||c1(8==e||0>=R?3:2),lT(this);var t=this.g.aa();this.Y=t;t:if(LF(this)){var i=rP(this.g);n="";var r=i.length,a=4==np(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){cm(this),p1(this);var u="";break t}this.h.i=new yn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function e5(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!KI(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Dl(12),cm(this),p1(this);break e}Wy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qA(this,t)}this.P?(BF(this,S,u),DA&&this.i&&3==S&&(EF(this.S,this.T,"tick",this.gb),this.T.start())):(Wy(this.j,this.m,u,null),qA(this,u)),4==S&&cm(this),this.i&&!this.I&&(4==S?hP(this.l,this):(this.i=!1,f1(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Dl(12)):(this.o=0,Dl(13)),cm(this),p1(this)}}}catch{}},zt.gb=function(){if(this.g){var n=np(this.g),e=this.g.fa();this.C<e.length&&(lT(this),BF(this,n,e),this.i&&4!=n&&f1(this))}},zt.cancel=function(){this.I=!0,cm(this)},zt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function t5(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(c1(3),Dl(17)),cm(this),this.o=2,p1(this)):VF(this,this.V-n)};var $F=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function um(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof um){this.h=void 0!==e?e:n.h,cT(this,n.j),this.s=n.s,this.g=n.g,uT(this,n.m),this.l=n.l,e=n.i;var t=new m1;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),GF(this,t),this.o=n.o}else n&&(t=String(n).match($F))?(this.h=!!e,cT(this,t[1]||"",!0),this.s=g1(t[2]||""),this.g=g1(t[3]||"",!0),uT(this,t[4]),this.l=g1(t[5]||"",!0),GF(this,t[6]||"",!0),this.o=g1(t[7]||"")):(this.h=!!e,this.i=new m1(null,this.h))}function tp(n){return new um(n)}function cT(n,e,t){n.j=t?g1(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function uT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function GF(n,e,t){e instanceof m1?(n.i=e,function f5(n,e){e&&!n.j&&(bg(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(jF(this,i),zF(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=_1(e,d5)),n.i=new m1(e,n.h))}function Jr(n,e,t){n.i.set(e,t)}function dT(n){return Jr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function g1(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _1(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,l5),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function l5(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}um.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_1(e,HF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_1(e,HF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(_1(t,"/"==t.charAt(0)?u5:c5,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_1(t,h5)),n.join("")};var HF=/[#\/\?@]/g,c5=/[#\?:]/g,u5=/[#\?]/g,d5=/[#\?@]/g,h5=/#/g;function m1(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function bg(n){n.g||(n.g=new Map,n.h=0,n.i&&function a5(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jF(n,e){bg(n),e=zy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function WF(n,e){return bg(n),e=zy(n,e),n.g.has(e)}function zF(n,e,t){jF(n,e),0<t.length&&(n.i=null,n.g.set(zy(n,e),yA(t)),n.h+=t.length)}function zy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qF(n){this.l=n||g5,n=yn.PerformanceNavigationTiming?0<(n=yn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yn.g&&yn.g.Ga&&yn.g.Ga()&&yn.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(zt=m1.prototype).add=function(n,e){bg(this),this.i=null,n=zy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},zt.forEach=function(n,e){bg(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},zt.oa=function(){bg(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},zt.W=function(n){bg(this);let e=[];if("string"==typeof n)WF(this,n)&&(e=e.concat(this.g.get(zy(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},zt.set=function(n,e){return bg(this),this.i=null,WF(this,n=zy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},zt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var g5=10;function ZF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YF(n){return n.h?1:n.g?n.g.size:0}function ZA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function YA(n,e){n.g?n.g.add(e):n.h=e}function KF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yA(n.i)}function KA(){}function _5(){this.g=new KA}function m5(n,e,t){const i=t||"";try{UF(n,function(r,a){let u=r;s1(r)&&(u=kA(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function hT(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function v1(n){this.l=n.$b||null,this.j=n.ib||!1}function fT(n,e){Ko.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=QA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qF.prototype.cancel=function(){if(this.i=QF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},KA.prototype.stringify=function(n){return yn.JSON.stringify(n,void 0)},KA.prototype.parse=function(n){return yn.JSON.parse(n,void 0)},va(v1,$A),v1.prototype.g=function(){return new fT(this.l,this.j)},v1.prototype.i=function(n){return function(){return n}}({}),va(fT,Ko);var QA=0;function JF(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function y1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,b1(n)}function b1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(zt=fT.prototype).open=function(n,e){if(this.readyState!=QA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,b1(this)},zt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||yn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,y1(this)),this.readyState=QA},zt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,b1(this)),this.g&&(this.readyState=3,b1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof yn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JF(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},zt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?y1(this):b1(this),3==this.readyState&&JF(this)}},zt.Ua=function(n){this.g&&(this.response=this.responseText=n,y1(this))},zt.Ta=function(n){this.g&&(this.response=n,y1(this))},zt.ga=function(){this.g&&y1(this)},zt.setRequestHeader=function(n,e){this.v.append(n,e)},zt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},zt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var y5=yn.JSON.parse;function co(n){Ko.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XF,this.K=this.L=!1}va(co,Ko);var XF="",b5=/^https?$/i,w5=["POST","PUT"];function eP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tP(n),pT(n)}function tP(n){n.D||(n.D=!0,ya(n,"complete"),ya(n,"error"))}function nP(n){if(n.h&&typeof mA<"u"&&(!n.C[1]||4!=np(n)||2!=n.aa()))if(n.v&&4==np(n))UA(n.Ha,0,n);else if(ya(n,"readystatechange"),4==np(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===g){var r=String(n.H).match($F)[1]||null;if(!r&&yn.self&&yn.self.location){var a=yn.self.location.protocol;r=a.substr(0,a.length-1)}i=!b5.test(r?r.toLowerCase():"")}t=i}if(t)ya(n,"complete"),ya(n,"success");else{n.m=6;try{var u=2<np(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",tP(n)}}finally{pT(n)}}}function pT(n,e){if(n.g){iP(n);const t=n.g,i=n.C[0]?qI:null;n.g=null,n.C=null,e||ya(n,"ready");try{t.onreadystatechange=i}catch{}}}function iP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yn.clearTimeout(n.A),n.A=null)}function np(n){return n.g?n.g.readyState:0}function rP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case XF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sP(n){let e="";return xA(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function JA(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=sP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jr(n,e,t))}function w1(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function oP(n){this.Ca=0,this.i=[],this.j=new iT,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=w1("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=w1("baseRetryDelayMs",5e3,n),this.ab=w1("retryDelaySeedMs",1e4,n),this.Za=w1("forwardChannelMaxRetries",2,n),this.ta=w1("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new qF(n&&n.concurrentRequestLimit),this.Fa=new _5,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function XA(n){if(aP(n),3==n.G){var e=n.U++,t=tp(n.F);Jr(t,"SID",n.I),Jr(t,"RID",e),Jr(t,"TYPE","terminate"),D1(n,t),(e=new h1(n,n.j,e,void 0)).K=2,e.v=dT(tp(t)),t=!1,yn.navigator&&yn.navigator.sendBeacon&&(t=yn.navigator.sendBeacon(e.v.toString(),"")),!t&&yn.Image&&((new Image).src=e.v,t=!0),t||(e.g=_P(e.l,null),e.g.da(e.v)),e.F=Date.now(),f1(e)}pP(n)}function gT(n){n.g&&(tN(n),n.g.cancel(),n.g=null)}function aP(n){gT(n),n.u&&(yn.clearTimeout(n.u),n.u=null),mT(n),n.h.cancel(),n.m&&("number"==typeof n.m&&yn.clearTimeout(n.m),n.m=null)}function _T(n){ZF(n.h)||n.m||(n.m=!0,DF(n.Ja,n),n.C=0)}function lP(n,e){var t;t=e?e.m:n.U++;const i=tp(n.F);Jr(i,"SID",n.I),Jr(i,"RID",t),Jr(i,"AID",n.T),D1(n,i),n.o&&n.s&&JA(i,n.o,n.s),t=new h1(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=cP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),YA(n.h,t),zA(t,i,e)}function D1(n,e){n.ia&&xA(n.ia,function(t,i){Jr(e,i,t)}),n.l&&UF({},function(t,i){Jr(e,i,t)})}function cP(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Wa(n.l.Qa,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let g=!0;for(let y=0;y<t;y++){let C=r[y].h;const S=r[y].g;if(C-=a,0>C)a=Math.max(0,r[y].h-100),g=!1;else try{m5(S,u,"req"+C+"_")}catch{i&&i(S)}}if(g){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function uP(n){n.g||n.u||(n.Z=1,DF(n.Ia,n),n.A=0)}function eN(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=u1(Wa(n.Ia,n),fP(n,n.A)),n.A++,0))}function tN(n){null!=n.B&&(yn.clearTimeout(n.B),n.B=null)}function dP(n){n.g=new h1(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=tp(n.sa);Jr(e,"RID","rpc"),Jr(e,"SID",n.I),Jr(e,"CI",n.L?"0":"1"),Jr(e,"AID",n.T),Jr(e,"TYPE","xmlhttp"),D1(n,e),n.o&&n.s&&JA(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=dT(tp(e)),t.s=null,t.P=!0,kF(t,n)}function mT(n){null!=n.v&&(yn.clearTimeout(n.v),n.v=null)}function hP(n,e){var t=null;if(n.g==e){mT(n),tN(n),n.g=null;var i=2}else{if(!ZA(n.h,e))return;t=e.D,KF(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;ya(i=rT(),new OF(i,t,e,r)),_T(n)}else uP(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function C5(n,e){return!(YF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=u1(Wa(n.Ja,n,e),fP(n,n.C)),n.C++,0)))}(n,e)||2==i&&eN(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:dm(n,5);break;case 4:dm(n,10);break;case 3:dm(n,6);break;default:dm(n,2)}}function fP(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function dm(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Wa(n.jb,n);t||(t=new um("//www.google.com/images/cleardot.gif"),yn.location&&"http"==yn.location.protocol||cT(t,"https"),dT(t)),function v5(n,e){const t=new iT;if(yn.Image){const i=new Image;i.onload=YI(hT,t,i,"TestLoadImage: loaded",!0,e),i.onerror=YI(hT,t,i,"TestLoadImage: error",!1,e),i.onabort=YI(hT,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=YI(hT,t,i,"TestLoadImage: timeout",!1,e),yn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Dl(2);n.G=0,n.l&&n.l.va(e),pP(n),aP(n)}function pP(n){if(n.G=0,n.la=[],n.l){const e=QF(n.h);(0!=e.length||0!=n.i.length)&&(aF(n.la,e),aF(n.la,n.i),n.h.i.length=0,yA(n.i),n.i.length=0),n.l.ua()}}function gP(n,e,t){var i=t instanceof um?tp(t):new um(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),uT(i,i.m);else{var r=yn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new um(null,void 0);i&&cT(a,i),e&&(a.g=e),r&&uT(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&Jr(i,t,e),Jr(i,"VER",n.ma),D1(n,i),i}function _P(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new co(t&&n.Da&&!n.ra?new v1({ib:!0}):n.ra)).L=n.H,e}function mP(){}function vT(){if(jy&&!(10<=Number(UV)))throw Error("Environmental error: no available transport.")}function au(n,e){Ko.call(this),this.g=new oP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!KI(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!KI(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qy(this)}function vP(n){GA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yP(){HA.call(this),this.status=1}function qy(n){this.g=n}(zt=co.prototype).da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jA.g(),this.C=function RF(n){return n.h||(n.h=n.i())}(this.u?this.u:jA),this.g.onreadystatechange=Wa(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void eP(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=yn.FormData&&n instanceof yn.FormData,!(0<=oF(w5,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{iP(this),0<this.B&&((this.K=function D5(n){return jy&&function VV(){return function PV(n){var e=BV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=lF(String(JI)).split("."),t=lF("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=bA(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||bA(0==r[2].length,0==a[2].length)||bA(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wa(this.qa,this)):this.A=UA(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){eP(this,a)}},zt.qa=function(){typeof mA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ya(this,"timeout"),this.abort(8))},zt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ya(this,"complete"),ya(this,"abort"),pT(this))},zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pT(this,!0)),co.X.M.call(this)},zt.Ha=function(){this.s||(this.F||this.v||this.l?nP(this):this.eb())},zt.eb=function(){nP(this)},zt.aa=function(){try{return 2<np(this)?this.g.status:-1}catch{return-1}},zt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},zt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),y5(e)}},zt.Ea=function(){return this.m},zt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(zt=oP.prototype).ma=8,zt.G=1,zt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new h1(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=fF(a),gF(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=cP(this,r,e),Jr(t=tp(this.F),"RID",n),Jr(t,"CVER",22),this.D&&Jr(t,"X-HTTP-Session-Id",this.D),D1(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(sP(a)))+"&"+e:this.o&&JA(t,this.o,a)),YA(this.h,r),this.Xa&&Jr(t,"TYPE","init"),this.O?(Jr(t,"$req",e),Jr(t,"SID","null"),r.Z=!0,zA(r,t,null)):zA(r,t,e),this.G=2}}else 3==this.G&&(n?lP(this,n):0==this.i.length||ZF(this.h)||lP(this))},zt.Ia=function(){if(this.u=null,dP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=u1(Wa(this.cb,this),n)}},zt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Dl(10),gT(this),dP(this))},zt.bb=function(){null!=this.v&&(this.v=null,gT(this),eN(this),Dl(19))},zt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Dl(2)):(this.j.info("Failed to ping google.com"),Dl(1))},(zt=mP.prototype).xa=function(){},zt.wa=function(){},zt.va=function(){},zt.ua=function(){},zt.Qa=function(){},vT.prototype.g=function(n,e){return new au(n,e)},va(au,Ko),au.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Dl(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=gP(n,null,n.V),_T(n)},au.prototype.close=function(){XA(this.g)},au.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=kA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&_T(e)},au.prototype.M=function(){this.g.l=null,delete this.j,XA(this.g),delete this.g,au.X.M.call(this)},va(vP,GA),va(yP,HA),va(qy,mP),qy.prototype.xa=function(){ya(this.g,"a")},qy.prototype.wa=function(n){ya(this.g,new vP(n))},qy.prototype.va=function(n){ya(this.g,new yP(n))},qy.prototype.ua=function(){ya(this.g,"b")},vT.prototype.createWebChannel=vT.prototype.g,au.prototype.send=au.prototype.u,au.prototype.open=au.prototype.m,au.prototype.close=au.prototype.close,sT.NO_ERROR=0,sT.TIMEOUT=8,sT.HTTP_ERROR=6,MF.COMPLETE="complete",FF.EventType=d1,d1.OPEN="a",d1.CLOSE="b",d1.ERROR="c",d1.MESSAGE="d",Ko.prototype.listen=Ko.prototype.N,co.prototype.listenOnce=co.prototype.O,co.prototype.getLastError=co.prototype.Na,co.prototype.getLastErrorCode=co.prototype.Ea,co.prototype.getStatus=co.prototype.aa,co.prototype.getResponseJson=co.prototype.Ra,co.prototype.getResponseText=co.prototype.fa,co.prototype.send=co.prototype.da;var I5=ep.createWebChannelTransport=function(){return new vT},T5=ep.getStatEventTarget=function(){return rT()},nN=ep.ErrorCode=sT,E5=ep.EventType=MF,x5=ep.Event=lm,bP=ep.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},S5=ep.FetchXmlHttpFactory=v1,yT=ep.WebChannel=FF,A5=ep.XhrIo=co;const wP="@firebase/firestore";class Qo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qo.UNAUTHENTICATED=new Qo(null),Qo.GOOGLE_CREDENTIALS=new Qo("google-credentials-uid"),Qo.FIRST_PARTY=new Qo("first-party-uid"),Qo.MOCK_USER=new Qo("mock-user");let Zy="9.10.0";const wg=new vg.Yd("@firebase/firestore");function iN(){return wg.logLevel}function lt(n,...e){if(wg.logLevel<=vg.in.DEBUG){const t=e.map(rN);wg.debug(`Firestore (${Zy}): ${n}`,...t)}}function $s(n,...e){if(wg.logLevel<=vg.in.ERROR){const t=e.map(rN);wg.error(`Firestore (${Zy}): ${n}`,...t)}}function hm(n,...e){if(wg.logLevel<=vg.in.WARN){const t=e.map(rN);wg.warn(`Firestore (${Zy}): ${n}`,...t)}}function rN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Bt(n="Unexpected state"){const e=`FIRESTORE (${Zy}) INTERNAL ASSERTION FAILED: `+n;throw $s(e),new Error(e)}function fn(n,e){n||Bt()}function St(n,e){return n}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class DP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qo.UNAUTHENTICATED))}shutdown(){}}class R5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F5{constructor(e){this.t=e,this.currentUser=Qo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=C=>this.i!==r?(r=this.i,t(C)):Promise.resolve();let u=new Jo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jo,e.enqueueRetryable(()=>a(this.currentUser))};const g=()=>{const C=u;e.enqueueRetryable((0,Be.Z)(function*(){yield C.promise,yield a(i.currentUser)}))},y=C=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>y(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?y(C):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jo)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fn("string"==typeof i.accessToken),new DP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fn(null===e||"string"==typeof e),new Qo(e)}}class P5{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Qo.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(fn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class k5{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new P5(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Qo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L5{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,lt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fn("string"==typeof t.token),this.A=t.token,new CP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function B5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class IP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=B5(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function bn(n,e){return n<e?-1:n>e?1:0}function Yy(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function TP(n){return n+"\0"}class Xr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new et(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Xr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ln(e)}static min(){return new ln(new Xr(0,0))}static max(){return new ln(new Xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class C1{constructor(e,t,i){void 0===t?t=0:t>e.length&&Bt(),void 0===i?i=e.length-t:i>e.length-t&&Bt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===C1.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof C1?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _i extends C1{construct(e,t,i){return new _i(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new et(Fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new _i(t)}static emptyPath(){return new _i([])}}const V5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ws extends C1{construct(e,t,i){return new ws(e,t,i)}static isValidIdentifier(e){return V5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ws.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ws(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new et(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const g=e[r];if("\\"===g){if(r+1===e.length)throw new et(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[r+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new et(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,r+=2}else"`"===g?(u=!u,r++):"."!==g||u?(i+=g,r++):(a(),r++)}if(a(),u)throw new et(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ws(t)}static emptyPath(){return new ws([])}}class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(_i.fromString(e))}static fromName(e){return new Tt(_i.fromString(e).popFirst(5))}static empty(){return new Tt(_i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_i.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _i.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new _i(e.slice()))}}class bT{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function sN(n){return n.fields.find(e=>2===e.kind)}function fm(n){return n.fields.filter(e=>2!==e.kind)}bT.UNKNOWN_ID=-1;class wT{constructor(e,t){this.fieldPath=e,this.kind=t}}class I1{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new I1(0,lu.min())}}function EP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ln.fromTimestamp(1e9===i?new Xr(t+1,0):new Xr(t,i));return new lu(r,Tt.empty(),e)}function xP(n){return new lu(n.readTime,n.key,-1)}class lu{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new lu(ln.min(),Tt.empty(),-1)}static max(){return new lu(ln.max(),Tt.empty(),-1)}}function oN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Tt.comparator(n.documentKey,e.documentKey),0!==t?t:bn(n.largestBatchId,e.largestBatchId))}const SP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dg(n){return aN.apply(this,arguments)}function aN(){return aN=(0,Be.Z)(function*(n){if(n.code!==Fe.FAILED_PRECONDITION||n.message!==SP)throw n;lt("LocalStore","Unexpectedly lost primary lease")}),aN.apply(this,arguments)}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,i)=>{t(e)})}static reject(e){return new Se((t,i)=>{i(e)})}static waitFor(e){return new Se((t,i)=>{let r=0,a=0,u=!1;e.forEach(g=>{++r,g.next(()=>{++a,u&&a===r&&t()},y=>i(y))}),u=!0,a===r&&t()})}static or(e){let t=Se.resolve(!1);for(const i of e)t=t.next(r=>r?Se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new Se((i,r)=>{const a=e.length,u=new Array(a);let g=0;for(let y=0;y<a;y++){const C=y;t(e[C]).next(S=>{u[C]=S,++g,g===a&&i(u)},S=>r(S))}})}static doWhile(e,t){return new Se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class DT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Jo,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new T1(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=lN(i.target.error);this.P.reject(new T1(e,r))}}static open(e,t,i,r){try{return new DT(t,e.transaction(r,i))}catch(a){throw new T1(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new H5(t)}}class Hd{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Hd.D((0,Mn.z$)())&&$s("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lt("SimpleDb","Removing database:",e),pm(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Mn.hl)())return!1;if(Hd.N())return!0;const e=(0,Mn.z$)(),t=Hd.D(e),i=0<t&&t<10,r=Hd.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Be.Z)(function*(){return t.db||(lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new T1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const g=u.target.error;r("VersionError"===g.name?new et(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new et(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new T1(e,g))},a.onupgradeneeded=u=>{lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Be.Z)(function*(){const u="readonly"===t;let g=0;for(;;){++g;try{a.db=yield a.F(e);const y=DT.open(a.db,e,u?"readonly":"readwrite",i),C=r(y).next(S=>(y.V(),S)).catch(S=>(y.abort(S),Se.reject(S))).toPromise();return C.catch(()=>{}),yield y.v,C}catch(y){const C=y,S="FirebaseError"!==C.name&&g<3;if(lt("SimpleDb","Transaction failed with error:",C.message,"Retrying:",S),a.close(),!S)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class G5{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return pm(this.U.delete())}}class T1 extends et{constructor(e,t){super(Fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Cg(n){return"IndexedDbTransactionError"===n.name}class H5{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(lt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),pm(i)}add(e){return lt("SimpleDb","ADD",this.store.name,e,e),pm(this.store.add(e))}get(e){return pm(this.store.get(e)).next(t=>(void 0===t&&(t=null),lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return lt("SimpleDb","DELETE",this.store.name,e),pm(this.store.delete(e))}count(){return lt("SimpleDb","COUNT",this.store.name),pm(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(u,g)=>{a.push(g)}).next(()=>a)}{const r=this.store.getAll(i.range);return new Se((a,u)=>{r.onerror=g=>{u(g.target.error)},r.onsuccess=g=>{a(g.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){lt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,u,g)=>g.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new Se((i,r)=>{t.onerror=a=>{const u=lN(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(g=>{g?u.continue():i()}):i()}})}H(e,t){const i=[];return new Se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const g=u.target.result;if(!g)return void r();const y=new G5(g),C=t(g.primaryKey,g.value,y);if(C instanceof Se){const S=C.catch(R=>(y.done(),Se.reject(R)));i.push(S)}y.isDone?r():null===y.G?g.continue():g.continue(y.G)}}).next(()=>Se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pm(n){return new Se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=lN(i.target.error);t(r)}})}let NP=!1;function lN(n){const e=Hd.D((0,Mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NP||(NP=!0,setTimeout(()=>{throw i},0)),i}}return n}class j5{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Be.Z)(function*(){t.task=null;try{lt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Cg(i)?lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Dg(i)}yield t.nt(6e4)}))}}class W5{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return Se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return lt("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(g=>{r-=g,i.add(u)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,a)).next(g=>(lt("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=xP(a);oN(u,i)>0&&(i=u)}),new lu(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class cc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function OP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gm(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}cc.at=-1;class Ds{constructor(e,t){this.comparator=e,this.root=t||ba.EMPTY}insert(e,t){return new Ds(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ba.BLACK,null,null))}remove(e){return new Ds(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ba.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CT(this.root,e,this.comparator,!1)}getReverseIterator(){return new CT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CT(this.root,e,this.comparator,!0)}}class CT{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ba{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??ba.RED,this.left=r??ba.EMPTY,this.right=a??ba.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new ba(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ba.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ba.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ba.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ba.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}ba.EMPTY=null,ba.RED=!0,ba.BLACK=!1,ba.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new ba(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(e){this.comparator=e,this.data=new Ds(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RP(this.data.getIterator())}getIteratorFrom(e){return new RP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pr(this.comparator);return t.data=e,t}}class RP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ky(n){return n.hasNext()?n.getNext():void 0}class cu{constructor(e){this.fields=e,e.sort(ws.comparator)}static empty(){return new cu([])}unionWith(e){let t=new pr(ws.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new cu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yy(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class xo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xo(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new xo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xo.EMPTY_BYTE_STRING=new xo("");const q5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ig(n){if(fn(!!n),"string"==typeof n){let e=0;const t=q5.exec(n);if(fn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Cs(n.seconds),nanos:Cs(n.nanos)}}function Cs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _m(n){return"string"==typeof n?xo.fromBase64String(n):xo.fromUint8Array(n)}function cN(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function FP(n){const e=n.mapValue.fields.__previous_value__;return cN(e)?FP(e):e}function E1(n){const e=Ig(n.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}class Z5{constructor(e,t,i,r,a,u,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class Tg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tg&&e.projectId===this.projectId&&e.database===this.database}}function x1(n){return null==n}function S1(n){return 0===n&&1/n==-1/0}function PP(n){return"number"==typeof n&&Number.isInteger(n)&&!S1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Eg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},IT={nullValue:"NULL_VALUE"};function mm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cN(n)?4:VP(n)?9007199254740991:10:Bt()}function zh(n,e){if(n===e)return!0;const t=mm(n);if(t!==mm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return E1(n).isEqual(E1(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Ig(i.timestampValue),u=Ig(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,_m(n.bytesValue).isEqual(_m(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Cs(i.geoPointValue.latitude)===Cs(r.geoPointValue.latitude)&&Cs(i.geoPointValue.longitude)===Cs(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Cs(i.integerValue)===Cs(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Cs(i.doubleValue),u=Cs(r.doubleValue);return a===u?S1(a)===S1(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Yy(n.arrayValue.values||[],e.arrayValue.values||[],zh);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(OP(a)!==OP(u))return!1;for(const g in a)if(a.hasOwnProperty(g)&&(void 0===u[g]||!zh(a[g],u[g])))return!1;return!0}(n,e);default:return Bt()}var r}function A1(n,e){return void 0!==(n.values||[]).find(t=>zh(t,e))}function xg(n,e){if(n===e)return 0;const t=mm(n),i=mm(e);if(t!==i)return bn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=Cs(r.integerValue||r.doubleValue),g=Cs(a.integerValue||a.doubleValue);return u<g?-1:u>g?1:u===g?0:isNaN(u)?isNaN(g)?0:-1:1}(n,e);case 3:return kP(n.timestampValue,e.timestampValue);case 4:return kP(E1(n),E1(e));case 5:return bn(n.stringValue,e.stringValue);case 6:return function(r,a){const u=_m(r),g=_m(a);return u.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),g=a.split("/");for(let y=0;y<u.length&&y<g.length;y++){const C=bn(u[y],g[y]);if(0!==C)return C}return bn(u.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=bn(Cs(r.latitude),Cs(a.latitude));return 0!==u?u:bn(Cs(r.longitude),Cs(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],g=a.values||[];for(let y=0;y<u.length&&y<g.length;++y){const C=xg(u[y],g[y]);if(C)return C}return bn(u.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Eg.mapValue&&a===Eg.mapValue)return 0;if(r===Eg.mapValue)return 1;if(a===Eg.mapValue)return-1;const u=r.fields||{},g=Object.keys(u),y=a.fields||{},C=Object.keys(y);g.sort(),C.sort();for(let S=0;S<g.length&&S<C.length;++S){const R=bn(g[S],C[S]);if(0!==R)return R;const H=xg(u[g[S]],y[C[S]]);if(0!==H)return H}return bn(g.length,C.length)}(n.mapValue,e.mapValue);default:throw Bt()}}function kP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bn(n,e);const t=Ig(n),i=Ig(e),r=bn(t.seconds,i.seconds);return 0!==r?r:bn(t.nanos,i.nanos)}function Qy(n){return uN(n)}function uN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ig(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_m(n.bytesValue).toBase64():"referenceValue"in n?Tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=uN(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const g of r)u?u=!1:a+=",",a+=`${g}:${uN(i.fields[g])}`;return a+"}"}(n.mapValue):Bt();var e}function vm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dN(n){return!!n&&"integerValue"in n}function N1(n){return!!n&&"arrayValue"in n}function LP(n){return!!n&&"nullValue"in n}function BP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function TT(n){return!!n&&"mapValue"in n}function O1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gm(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=O1(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=O1(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Y5(n){return"nullValue"in n?IT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vm(Tg.empty(),Tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Bt()}function K5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vm(Tg.empty(),Tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Eg:Bt()}function UP(n,e){const t=xg(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $P(n,e){const t=xg(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class wa{constructor(e){this.value=e}static empty(){return new wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!TT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=O1(t)}setAll(e){let t=ws.emptyPath(),i={},r=[];e.forEach((u,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,i,r),i={},r=[],t=g.popLast()}u?i[g.lastSegment()]=O1(u):r.push(g.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());TT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];TT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){gm(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new wa(O1(this.value))}}function GP(n){const e=[];return gm(n.fields,(t,i)=>{const r=new ws([t]);if(TT(i)){const a=GP(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new cu(e)}class Sr{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Sr(e,0,ln.min(),ln.min(),wa.empty(),0)}static newFoundDocument(e,t,i){return new Sr(e,1,t,ln.min(),i,0)}static newNoDocument(e,t){return new Sr(e,2,t,ln.min(),wa.empty(),0)}static newUnknownDocument(e,t){return new Sr(e,3,t,ln.min(),wa.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Q5{constructor(e,t=null,i=[],r=[],a=null,u=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=g,this.ht=null}}function HP(n,e=null,t=[],i=[],r=null,a=null,u=null){return new Q5(n,e,t,i,r,a,u)}function ym(n){const e=St(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Qy(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),x1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Qy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Qy(i)).join(",")),e.ht=t}return e.ht}function M1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!a3(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!zh(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ZP(n.startAt,e.startAt)&&ZP(n.endAt,e.endAt)}function ET(n){return Tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xT(n,e){return n.filters.filter(t=>t instanceof Da&&t.field.isEqual(e))}function jP(n,e,t){let i=IT,r=!0;for(const a of xT(n,e)){let u=IT,g=!0;switch(a.op){case"<":case"<=":u=Y5(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,g=!1;break;case"!=":case"not-in":u=IT}UP({value:i,inclusive:r},{value:u,inclusive:g})<0&&(i=u,r=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];UP({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function WP(n,e,t){let i=Eg,r=!0;for(const a of xT(n,e)){let u=Eg,g=!0;switch(a.op){case">=":case">":u=K5(a.value),g=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,g=!1;break;case"!=":case"not-in":u=Eg}$P({value:i,inclusive:r},{value:u,inclusive:g})>0&&(i=u,r=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];$P({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Da extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new X5(e,t,i):"array-contains"===t?new n3(e,i):"in"===t?new r3(e,i):"not-in"===t?new s3(e,i):"array-contains-any"===t?new o3(e,i):new Da(e,t,i)}static lt(e,t,i){return"in"===t?new e3(e,i):new t3(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(xg(t,this.value)):null!==t&&mm(this.value)===mm(t)&&this.ft(xg(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class X5 extends Da{constructor(e,t,i){super(e,t,i),this.key=Tt.fromName(i.referenceValue)}matches(e){const t=Tt.comparator(e.key,this.key);return this.ft(t)}}class e3 extends Da{constructor(e,t){super(e,"in",t),this.keys=zP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class t3 extends Da{constructor(e,t){super(e,"not-in",t),this.keys=zP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Tt.fromName(i.referenceValue))}class n3 extends Da{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return N1(t)&&A1(t.arrayValue,this.value)}}class r3 extends Da{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&A1(this.value.arrayValue,t)}}class s3 extends Da{constructor(e,t){super(e,"not-in",t)}matches(e){if(A1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!A1(this.value.arrayValue,t)}}class o3 extends Da{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!N1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>A1(this.value.arrayValue,i))}}class Sg{constructor(e,t){this.position=e,this.inclusive=t}}class Jy{constructor(e,t="asc"){this.field=e,this.dir=t}}function a3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qP(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Tt.comparator(Tt.fromName(u.referenceValue),t.key):xg(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function ZP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zh(n.position[t],e.position[t]))return!1;return!0}class ip{constructor(e,t=null,i=[],r=[],a=null,u="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=g,this.endAt=y,this._t=null,this.wt=null}}function YP(n,e,t,i,r,a,u,g){return new ip(n,e,t,i,r,a,u,g)}function Xy(n){return new ip(n)}function KP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fN(n){for(const e of n.filters)if(e.dt())return e.field;return null}function pN(n){return null!==n.collectionGroup}function e0(n){const e=St(n);if(null===e._t){e._t=[];const t=fN(e),i=hN(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new Jy(t)),e._t.push(new Jy(ws.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Jy(ws.keyField(),a))}}}return e._t}function uc(n){const e=St(n);if(!e.wt)if("F"===e.limitType)e.wt=HP(e.path,e.collectionGroup,e0(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of e0(e))t.push(new Jy(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Sg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sg(e.startAt.position,e.startAt.inclusive):null;e.wt=HP(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function ST(n,e,t){return new ip(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function R1(n,e){return M1(uc(n),uc(e))&&n.limitType===e.limitType}function QP(n){return`${ym(uc(n))}|lt:${n.limitType}`}function gN(n){return`Query(target=${function J5(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Qy(i.value)}`;var i}).join(", ")}]`),x1(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Qy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Qy(t)).join(",")),`Target(${e})`}(uc(n))}; limitType=${n.limitType})`}function _N(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Tt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const g=qP(r,a,u);return r.inclusive?g<=0:g<0}(t.startAt,e0(t),i)||t.endAt&&!function(r,a,u){const g=qP(r,a,u);return r.inclusive?g>=0:g>0}(t.endAt,e0(t),i)));var t,i}function JP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XP(n){return(e,t)=>{let i=!1;for(const r of e0(n)){const a=l3(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function l3(n,e,t){const i=n.field.isKeyField()?Tt.comparator(e.key,t.key):function(r,a,u){const g=a.data.field(r),y=u.data.field(r);return null!==g&&null!==y?xg(g,y):Bt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Bt()}}function ek(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S1(e)?"-0":e}}function tk(n){return{integerValue:""+n}}function nk(n,e){return PP(e)?tk(e):ek(n,e)}class AT{constructor(){this._=void 0}}function c3(n,e,t){return n instanceof t0?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof bm?rk(n,e):n instanceof wm?sk(n,e):function(i,r){const a=ik(i,r),u=ok(a)+ok(i.yt);return dN(a)&&dN(i.yt)?tk(u):ek(i.It,u)}(n,e)}function u3(n,e,t){return n instanceof bm?rk(n,e):n instanceof wm?sk(n,e):t}function ik(n,e){return n instanceof n0?dN(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class t0 extends AT{}class bm extends AT{constructor(e){super(),this.elements=e}}function rk(n,e){const t=ak(e);for(const i of n.elements)t.some(r=>zh(r,i))||t.push(i);return{arrayValue:{values:t}}}class wm extends AT{constructor(e){super(),this.elements=e}}function sk(n,e){let t=ak(e);for(const i of n.elements)t=t.filter(r=>!zh(r,i));return{arrayValue:{values:t}}}class n0 extends AT{constructor(e,t){super(),this.It=e,this.yt=t}}function ok(n){return Cs(n.integerValue||n.doubleValue)}function ak(n){return N1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class F1{constructor(e,t){this.field=e,this.transform=t}}class h3{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function NT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class OT{}function lk(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new s0(n.key,es.none()):new r0(n.key,n.data,es.none());{const t=n.data,i=wa.empty();let r=new pr(ws.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new rp(n.key,i,new cu(r.toArray()),es.none())}}function f3(n,e,t){n instanceof r0?function(i,r,a){const u=i.value.clone(),g=dk(i.fieldTransforms,r,a.transformResults);u.setAll(g),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof rp?function(i,r,a){if(!NT(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=dk(i.fieldTransforms,r,a.transformResults),g=r.data;g.setAll(uk(i)),g.setAll(u),r.convertToFoundDocument(a.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function P1(n,e,t,i){return n instanceof r0?function(r,a,u,g){if(!NT(r.precondition,a))return u;const y=r.value.clone(),C=hk(r.fieldTransforms,g,a);return y.setAll(C),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof rp?function(r,a,u,g){if(!NT(r.precondition,a))return u;const y=hk(r.fieldTransforms,g,a),C=a.data;return C.setAll(uk(r)),C.setAll(y),a.convertToFoundDocument(a.version,C).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(S=>S.field))}(n,e,t,i):(u=t,NT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function p3(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=ik(i.transform,r||null);null!=a&&(null===t&&(t=wa.empty()),t.set(i.field,a))}return t||null}function ck(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Yy(t,i,(r,a)=>function d3(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof bm&&i instanceof bm||t instanceof wm&&i instanceof wm?Yy(t.elements,i.elements,zh):t instanceof n0&&i instanceof n0?zh(t.yt,i.yt):t instanceof t0&&i instanceof t0);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class r0 extends OT{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rp extends OT{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function uk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function dk(n,e,t){const i=new Map;fn(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,g=e.data.field(a.field);i.set(a.field,u3(u,g,t[r]))}return i}function hk(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,c3(a,u,e))}return i}class s0 extends OT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mN extends OT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class g3{constructor(e){this.count=e}}var uo,mi;function fk(n){switch(n){default:return Bt();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function pk(n){if(void 0===n)return $s("GRPC error has no .code"),Fe.UNKNOWN;switch(n){case uo.OK:return Fe.OK;case uo.CANCELLED:return Fe.CANCELLED;case uo.UNKNOWN:return Fe.UNKNOWN;case uo.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case uo.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case uo.INTERNAL:return Fe.INTERNAL;case uo.UNAVAILABLE:return Fe.UNAVAILABLE;case uo.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case uo.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case uo.NOT_FOUND:return Fe.NOT_FOUND;case uo.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case uo.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case uo.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case uo.ABORTED:return Fe.ABORTED;case uo.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case uo.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case uo.DATA_LOSS:return Fe.DATA_LOSS;default:return Bt()}}(mi=uo||(uo={}))[mi.OK=0]="OK",mi[mi.CANCELLED=1]="CANCELLED",mi[mi.UNKNOWN=2]="UNKNOWN",mi[mi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mi[mi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mi[mi.NOT_FOUND=5]="NOT_FOUND",mi[mi.ALREADY_EXISTS=6]="ALREADY_EXISTS",mi[mi.PERMISSION_DENIED=7]="PERMISSION_DENIED",mi[mi.UNAUTHENTICATED=16]="UNAUTHENTICATED",mi[mi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mi[mi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mi[mi.ABORTED=10]="ABORTED",mi[mi.OUT_OF_RANGE=11]="OUT_OF_RANGE",mi[mi.UNIMPLEMENTED=12]="UNIMPLEMENTED",mi[mi.INTERNAL=13]="INTERNAL",mi[mi.UNAVAILABLE=14]="UNAVAILABLE",mi[mi.DATA_LOSS=15]="DATA_LOSS";class Ag{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gm(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return MP(this.inner)}size(){return this.innerSize}}const _3=new Ds(Tt.comparator);function dc(){return _3}const gk=new Ds(Tt.comparator);function k1(...n){let e=gk;for(const t of n)e=e.insert(t.key,t);return e}function _k(n){let e=gk;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function qh(){return L1()}function mk(){return L1()}function L1(){return new Ag(n=>n.toString(),(n,e)=>n.isEqual(e))}const m3=new Ds(Tt.comparator),v3=new pr(Tt.comparator);function Rn(...n){let e=v3;for(const t of n)e=e.add(t);return e}const y3=new pr(bn);function MT(){return y3}class B1{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,V1.createSynthesizedTargetChangeForCurrentChange(e,t)),new B1(ln.min(),i,MT(),dc(),Rn())}}class V1{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new V1(xo.EMPTY_BYTE_STRING,t,Rn(),Rn(),Rn())}}class RT{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class vk{constructor(e,t){this.targetId=e,this.At=t}}class yk{constructor(e,t,i=xo.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class bk{constructor(){this.Rt=0,this.bt=Dk(),this.Pt=xo.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rn(),t=Rn(),i=Rn();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Bt()}}),new V1(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=Dk()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class b3{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=dc(),this.qt=wk(),this.Kt=new pr(bn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:Bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(ET(a))if(0===i){const u=new Tt(a.path);this.jt(t,u,Sr.newNoDocument(u,ln.min()))}else fn(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const g=this.Xt(u);if(g){if(a.current&&ET(g.target)){const y=new Tt(g.target.path);null!==this.Ut.get(y)||this.ee(u,y)||this.jt(u,y,Sr.newNoDocument(y,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let i=Rn();this.qt.forEach((a,u)=>{let g=!0;u.forEachWhile(y=>{const C=this.Xt(y);return!C||2===C.purpose||(g=!1,!1)}),g&&(i=i.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const r=new B1(e,t,this.Kt,this.Ut,i);return this.Ut=dc(),this.qt=wk(),this.Kt=new pr(bn),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new bk,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new pr(bn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||lt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new bk),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function wk(){return new Ds(Tt.comparator)}function Dk(){return new Ds(Tt.comparator)}const w3={asc:"ASCENDING",desc:"DESCENDING"},D3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class C3{constructor(e,t){this.databaseId=e,this.gt=t}}function U1(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ck(n,e){return n.gt?e.toBase64():e.toUint8Array()}function I3(n,e){return U1(n,e.toTimestamp())}function Xo(n){return fn(!!n),ln.fromTimestamp(function(e){const t=Ig(e);return new Xr(t.seconds,t.nanos)}(n))}function vN(n,e){return(t=n,new _i(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ik(n){const e=_i.fromString(n);return fn(Rk(e)),e}function $1(n,e){return vN(n.databaseId,e.path)}function Zh(n,e){const t=Ik(e);if(t.get(1)!==n.databaseId.projectId)throw new et(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new et(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Tt(Ek(t))}function yN(n,e){return vN(n.databaseId,e)}function Tk(n){const e=Ik(n);return 4===e.length?_i.emptyPath():Ek(e)}function G1(n){return new _i(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ek(n){return fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xk(n,e,t){return{name:$1(n,e),fields:t.value.mapValue.fields}}function Sk(n,e,t){const i=Zh(n,e.name),r=Xo(e.updateTime),a=new wa({mapValue:{fields:e.fields}}),u=Sr.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function H1(n,e){let t;if(e instanceof r0)t={update:xk(n,e.key,e.value)};else if(e instanceof s0)t={delete:$1(n,e.key)};else if(e instanceof rp)t={update:xk(n,e.key,e.data),updateMask:R3(e.fieldMask)};else{if(!(e instanceof mN))return Bt();t={verify:$1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof t0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof wm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof n0)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw Bt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:I3(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Bt()),t;var r}function bN(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?es.updateTime(Xo(r.updateTime)):void 0!==r.exists?es.exists(r.exists):es.none():es.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let g=null;"setToServerValue"in u?(fn("REQUEST_TIME"===u.setToServerValue),g=new t0):"appendMissingElements"in u?g=new bm(u.appendMissingElements.values||[]):"removeAllFromArray"in u?g=new wm(u.removeAllFromArray.values||[]):"increment"in u?g=new n0(a,u.increment):Bt();const y=ws.fromServerFormat(u.fieldPath);return new F1(y,g)}(n,r)):[];var r;if(e.update){const r=Zh(n,e.update.name),a=new wa({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new cu((e.updateMask.fieldPaths||[]).map(C=>ws.fromServerFormat(C)));return new rp(r,a,u,t,i)}return new r0(r,a,t,i)}if(e.delete){const r=Zh(n,e.delete);return new s0(r,t)}if(e.verify){const r=Zh(n,e.verify);return new mN(r,t)}return Bt()}function Ak(n,e){return{documents:[yN(n,e.path)]}}function Nk(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=yN(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yN(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(y){if(0===y.length)return;const C=y.map(S=>function(R){if("=="===R.op){if(BP(R.value))return{unaryFilter:{field:o0(R.field),op:"IS_NAN"}};if(LP(R.value))return{unaryFilter:{field:o0(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(BP(R.value))return{unaryFilter:{field:o0(R.field),op:"IS_NOT_NAN"}};if(LP(R.value))return{unaryFilter:{field:o0(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:o0(R.field),op:N3(R.op),value:R.value}}}(S));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(y){if(0!==y.length)return y.map(C=>{return{field:o0((S=C).field),direction:A3(S.dir)};var S})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(C=e.limit,n.gt||x1(C)?C:{value:C});var C,g,y;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Ok(n){let e=Tk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){fn(1===i);const S=t.from[0];S.allDescendants?r=S.collectionId:e=e.child(S.collectionId)}let a=[];t.where&&(a=Mk(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(S=>{return new Jy(a0((R=S).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let g=null;t.limit&&(g=function(S){let R;return R="object"==typeof S?S.value:S,x1(R)?null:R}(t.limit));let y=null;var S;t.startAt&&(y=new Sg((S=t.startAt).values||[],!!S.before));let C=null;return t.endAt&&(C=function(S){return new Sg(S.values||[],!S.before)}(t.endAt)),YP(e,r,u,a,g,"F",y,C)}function Mk(n){return n?void 0!==n.unaryFilter?[M3(n)]:void 0!==n.fieldFilter?[O3(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Mk(e)).reduce((e,t)=>e.concat(t)):Bt():[]}function A3(n){return w3[n]}function N3(n){return D3[n]}function o0(n){return{fieldPath:n.canonicalString()}}function a0(n){return ws.fromServerFormat(n.fieldPath)}function O3(n){return Da.create(a0(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function M3(n){switch(n.unaryFilter.op){case"IS_NAN":const e=a0(n.unaryFilter.field);return Da.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=a0(n.unaryFilter.field);return Da.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=a0(n.unaryFilter.field);return Da.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=a0(n.unaryFilter.field);return Da.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}function R3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Cl(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fk(e)),e=F3(n.get(t),e);return Fk(e)}function F3(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Fk(n){return n+"\x01\x01"}function Yh(n){const e=n.length;if(fn(e>=2),2===e)return fn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_i.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&Bt(),n.charAt(u+1)){case"\x01":const g=n.substring(a,u);let y;0===r.length?y=g:(r+=g,y=r,r=""),i.push(y);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:Bt()}a=u+2}return new _i(i)}const Pk=["userId","batchId"];function FT(n,e){return[n,Cl(e)]}function kk(n,e,t){return[n,Cl(e),t]}const P3={},k3=["prefixPath","collectionGroup","readTime","documentId"],L3=["prefixPath","collectionGroup","documentId"],B3=["collectionGroup","readTime","prefixPath","documentId"],V3=["canonicalId","targetId"],U3=["targetId","path"],$3=["path","targetId"],G3=["collectionId","parent"],H3=["indexId","uid"],j3=["uid","sequenceNumber"],W3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],z3=["indexId","uid","orderedDocumentKey"],q3=["userId","collectionPath","documentId"],Z3=["userId","collectionPath","largestBatchId"],Y3=["userId","collectionGroup","largestBatchId"],Lk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],K3=[...Lk,"documentOverlays"],Bk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vk=Bk,Q3=[...Vk,"indexConfiguration","indexState","indexEntries"];class wN extends AP{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ea(n,e){const t=St(n);return Hd.O(t.ie,e)}class DN{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&f3(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=P1(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=P1(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=mk();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let g=this.applyToLocalView(u,a.mutatedFields);g=t.has(r.key)?null:g;const y=lk(u,g);null!==y&&i.set(r.key,y),u.isValidDocument()||u.convertToNoDocument(ln.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rn())}isEqual(e){return this.batchId===e.batchId&&Yy(this.mutations,e.mutations,(t,i)=>ck(t,i))&&Yy(this.baseMutations,e.baseMutations,(t,i)=>ck(t,i))}}class CN{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){fn(e.mutations.length===i.length);let r=m3;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new CN(e,t,i,r)}}class IN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ng{constructor(e,t,i,r,a=ln.min(),u=ln.min(),g=xo.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=g}withSequenceNumber(e){return new Ng(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ng(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ng(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Uk{constructor(e){this.re=e}}function $k(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:PT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:$1(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:U1(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Dm(e.version)};else{if(!e.isUnknownDocument())return Bt();i.unknownDocument={path:t.path.toArray(),version:Dm(e.version)}}var r,a;return i}function PT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Dm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cm(n){const e=new Xr(n.seconds,n.nanoseconds);return ln.fromTimestamp(e)}function Im(n,e){const t=(e.baseMutations||[]).map(a=>bN(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>bN(n.re,a)),r=Xr.fromMillis(e.localWriteTimeMs);return new DN(e.batchId,r,t,i)}function j1(n){const e=Cm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Cm(n.lastLimboFreeSnapshotVersion):ln.min();let i;var r;return void 0!==n.query.documents?(fn(1===(r=n.query).documents.length),i=uc(Xy(Tk(r.documents[0])))):i=uc(Ok(n.query)),new Ng(i,n.targetId,0,n.lastListenSequenceNumber,e,t,xo.fromBase64String(n.resumeToken))}function Gk(n,e){const t=Dm(e.snapshotVersion),i=Dm(e.lastLimboFreeSnapshotVersion);let r;r=ET(e.target)?Ak(n.re,e.target):Nk(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ym(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function TN(n){const e=Ok({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ST(e,e.limit,"L"):e}function EN(n,e){return new IN(e.largestBatchId,bN(n.re,e.overlayMutation))}function Hk(n,e){const t=e.path.lastSegment();return[n,Cl(e.path.popLast()),t]}function jk(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Dm(i.readTime),documentKey:Cl(i.documentKey.path),largestBatchId:i.largestBatchId}}class X3{getBundleMetadata(e,t){return Wk(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Cm(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Wk(e).put({bundleId:(i=t).id,createTime:Dm(Xo(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return zk(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:TN(r.bundledQuery),readTime:Cm(r.readTime)};var r})}saveNamedQuery(e,t){return zk(e).put({name:(i=t).name,readTime:Dm(Xo(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Wk(n){return ea(n,"bundles")}function zk(n){return ea(n,"namedQueries")}class kT{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new kT(e,t.uid||"")}getOverlay(e,t){return W1(e).get(Hk(this.userId,t)).next(i=>i?EN(this.It,i):null)}getOverlays(e,t){const i=qh();return Se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const g=new IN(t,u);r.push(this.ue(e,g))}),Se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Cl(u.getCollectionPath())));const a=[];return r.forEach(u=>{const g=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(W1(e).Y("collectionPathOverlayIndex",g))}),Se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=qh(),a=Cl(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return W1(e).W("collectionPathOverlayIndex",u).next(g=>{for(const y of g){const C=EN(this.It,y);r.set(C.getKey(),C)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=qh();let u;const g=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return W1(e).Z({index:"collectionGroupOverlayIndex",range:g},(y,C,S)=>{const R=EN(this.It,C);a.size()<r||R.largestBatchId===u?(a.set(R.getKey(),R),u=R.largestBatchId):S.done()}).next(()=>a)}ue(e,t){return W1(e).put(function(i,r,a){const[u,g,y]=Hk(r,a.mutation.key);return{userId:r,collectionPath:g,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:H1(i.re,a.mutation)}}(this.It,this.userId,t))}}function W1(n){return ea(n,"documentOverlays")}class Tm{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Cs(e.integerValue));else if("doubleValue"in e){const i=Cs(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),S1(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(_m(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?VP(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Bt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Tt.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function eU(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function qk(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=eU(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Tm.Te=new Tm;class tU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=qk(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=qk(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class nU{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class iU{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class z1{constructor(){this.Be=new tU,this.Le=new nU(this.Be),this.Ue=new iU(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Em{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Em(this.indexId,this.documentKey,this.arrayValue,i)}}function xm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Zk(n.arrayValue,e.arrayValue),0!==t?t:(t=Zk(n.directionalValue,e.directionalValue),0!==t?t:Tt.comparator(n.documentKey,e.documentKey)))}function Zk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class rU{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=sN(e);if(void 0!==t&&!this.ze(t))return!1;const i=fm(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class sU{constructor(){this.Ye=new xN}addToCollectionParentIndex(e,t){return this.Ye.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Se.resolve()}deleteFieldIndex(e,t){return Se.resolve()}getDocumentsMatchingTarget(e,t){return Se.resolve(null)}getIndexType(e,t){return Se.resolve(0)}getFieldIndexes(e,t){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,t){return Se.resolve(lu.min())}getMinOffsetFromCollectionGroup(e,t){return Se.resolve(lu.min())}updateCollectionGroup(e,t,i){return Se.resolve()}updateIndexEntries(e,t){return Se.resolve()}}class xN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new pr(_i.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new pr(_i.comparator)).toArray()}}const LT=new Uint8Array(0);class oU{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new xN,this.Ze=new Ag(i=>ym(i),(i,r)=>M1(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:Cl(r)};return Yk(e).put(a)}return Se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[TP(t),""],!1,!0);return Yk(e).W(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Yh(u.parent))}return i})}addFieldIndex(e,t){const i=BT(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=Z1(e);return a.next(g=>{u.put(jk(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=BT(e),r=Z1(e),a=q1(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=q1(e);let r=!0;const a=new Map;return Se.forEach(this.tn(t),u=>this.en(e,u).next(g=>{r&&(r=!!g),a.set(u,g)})).next(()=>{if(r){let u=Rn();const g=[];return Se.forEach(a,(y,C)=>{var S;lt("IndexedDbIndexManager",`Using index ${S=y,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${ym(t)}`);const R=function(vt,rt){const gt=sN(rt);if(void 0===gt)return null;for(const Dt of xT(vt,gt.fieldPath))switch(Dt.op){case"array-contains-any":return Dt.value.arrayValue.values||[];case"array-contains":return[Dt.value]}return null}(C,y),H=function(vt,rt){const gt=new Map;for(const Dt of fm(rt))for(const rn of xT(vt,Dt.fieldPath))switch(rn.op){case"==":case"in":gt.set(Dt.fieldPath.canonicalString(),rn.value);break;case"not-in":case"!=":return gt.set(Dt.fieldPath.canonicalString(),rn.value),Array.from(gt.values())}return null}(C,y),Z=function(vt,rt){const gt=[];let Dt=!0;for(const rn of fm(rt)){const Fn=0===rn.kind?jP(vt,rn.fieldPath,vt.startAt):WP(vt,rn.fieldPath,vt.startAt);gt.push(Fn.value),Dt&&(Dt=Fn.inclusive)}return new Sg(gt,Dt)}(C,y),ce=function(vt,rt){const gt=[];let Dt=!0;for(const rn of fm(rt)){const Fn=0===rn.kind?WP(vt,rn.fieldPath,vt.endAt):jP(vt,rn.fieldPath,vt.endAt);gt.push(Fn.value),Dt&&(Dt=Fn.inclusive)}return new Sg(gt,Dt)}(C,y),me=this.nn(y,C,Z),De=this.nn(y,C,ce),ot=this.sn(y,C,H),ct=this.rn(y.indexId,R,me,Z.inclusive,De,ce.inclusive,ot);return Se.forEach(ct,vt=>i.J(vt,t.limit).next(rt=>{rt.forEach(gt=>{const Dt=Tt.fromSegments(gt.documentKey);u.has(Dt)||(u=u.add(Dt),g.push(Dt))})}))}).next(()=>g)}return Se.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,u,g){const y=(null!=t?t.length:1)*Math.max(i.length,a.length),C=y/(null!=t?t.length:1),S=[];for(let R=0;R<y;++R){const H=t?this.on(t[R/C]):LT,Z=this.un(e,H,i[R%C],r),ce=this.cn(e,H,a[R%C],u),me=g.map(De=>this.un(e,H,De,!0));S.push(...this.createRange(Z,ce,me))}return S}un(e,t,i,r){const a=new Em(e,Tt.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new Em(e,Tt.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new rU(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const g of a)i.We(g)&&(!u||g.fields.length>u.fields.length)&&(u=g);return u})}getIndexType(e,t){let i=2;return Se.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(u){let g=new pr(ws.comparator),y=!1;for(const C of u.filters){const S=C;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:g=g.add(S.field))}for(const C of u.orderBy)C.field.isKeyField()||(g=g.add(C.field));return g.size+(y?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new z1;for(const r of fm(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.qe(r.kind);Tm.Te.ce(a,u)}return i.$e()}on(e){const t=new z1;return Tm.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new z1;return Tm.Te.ce(vm(this.databaseId,t),i.qe(function(r){const a=fm(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new z1);let a=0;for(const u of fm(e)){const g=i[a++];for(const y of r)if(this.ln(t,u.fieldPath)&&N1(g))r=this.fn(r,u,g);else{const C=y.qe(u.kind);Tm.Te.ce(g,C)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const g of r){const y=new z1;y.seed(g.$e()),Tm.Te.ce(u,y.qe(t.kind)),a.push(y)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof Da&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=BT(e),r=Z1(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const u=[];return Se.forEach(a,g=>r.get([g.indexId,this.uid]).next(y=>{u.push(function(C,S){const R=S?new I1(S.sequenceNumber,new lu(Cm(S.readTime),new Tt(Yh(S.documentKey)),S.largestBatchId)):I1.empty(),H=C.fields.map(([Z,ce])=>new wT(ws.fromServerFormat(Z),ce));return new bT(C.indexId,C.collectionGroup,H,R)}(g,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:bn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=BT(e),a=Z1(e);return this._n(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>Se.forEach(g,y=>a.put(jk(y.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return Se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?Se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(g=>(i.set(r.collectionGroup,g),Se.forEach(g,y=>this.wn(e,r,y).next(C=>{const S=this.mn(a,y);return C.isEqual(S)?Se.resolve():this.gn(e,a,y,C,S)}))))})}yn(e,t,i,r){return q1(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return q1(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=q1(e);let a=new pr(xm);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(u,g)=>{a=a.add(new Em(i.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>a)}mn(e,t){let i=new pr(xm);const r=this.an(t,e);if(null==r)return i;const a=sN(t);if(null!=a){const u=e.data.field(a.fieldPath);if(N1(u))for(const g of u.arrayValue.values||[])i=i.add(new Em(t.indexId,e.key,this.on(g),r))}else i=i.add(new Em(t.indexId,e.key,LT,r));return i}gn(e,t,i,r,a){lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(g,y,C,S,R){const H=g.getIterator(),Z=y.getIterator();let ce=Ky(H),me=Ky(Z);for(;ce||me;){let De=!1,ot=!1;if(ce&&me){const ct=C(ce,me);ct<0?ot=!0:ct>0&&(De=!0)}else null!=ce?ot=!0:De=!0;De?(S(me),me=Ky(Z)):ot?(R(ce),ce=Ky(H)):(ce=Ky(H),me=Ky(Z))}}(r,a,xm,g=>{u.push(this.yn(e,t,i,g))},g=>{u.push(this.pn(e,t,i,g))}),Se.waitFor(u)}_n(e){let t=1;return Z1(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,g)=>xm(u,g)).filter((u,g,y)=>!g||0!==xm(u,y[g-1]));const r=[];r.push(e);for(const u of i){const g=xm(u,e),y=xm(u,t);if(0===g)r[0]=e.Ke();else if(g>0&&y<0)r.push(u),r.push(u.Ke());else if(y>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,LT,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,LT,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Kk)}getMinOffset(e,t){return Se.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||Bt())).next(Kk)}}function Yk(n){return ea(n,"collectionParents")}function q1(n){return ea(n,"indexEntries")}function BT(n){return ea(n,"indexConfiguration")}function Z1(n){return ea(n,"indexState")}function Kk(n){fn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;oN(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new lu(e.readTime,e.documentKey,t)}const Qk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hc{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new hc(e,hc.DEFAULT_COLLECTION_PERCENTILE,hc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jk(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let g=0;const y=i.Z({range:u},(S,R,H)=>(g++,H.delete()));a.push(y.next(()=>{fn(1===g)}));const C=[];for(const S of t.mutations){const R=kk(e,S.key.path,t.batchId);a.push(r.delete(R)),C.push(S.key)}return Se.waitFor(a).next(()=>C)}function VT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Bt();e=n.noDocument}return JSON.stringify(e).length}hc.DEFAULT_COLLECTION_PERCENTILE=10,hc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hc.DEFAULT=new hc(41943040,hc.DEFAULT_COLLECTION_PERCENTILE,hc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hc.DISABLED=new hc(-1,0,0);class UT{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){fn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new UT(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Og(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=l0(e),u=Og(e);return u.add({}).next(g=>{fn("number"==typeof g);const y=new DN(g,t,i,r),C=function(H,Z,ce){const me=ce.baseMutations.map(ot=>H1(H.re,ot)),De=ce.mutations.map(ot=>H1(H.re,ot));return{userId:Z,batchId:ce.batchId,localWriteTimeMs:ce.localWriteTime.toMillis(),baseMutations:me,mutations:De}}(this.It,this.userId,y),S=[];let R=new pr((H,Z)=>bn(H.canonicalString(),Z.canonicalString()));for(const H of r){const Z=kk(this.userId,H.key.path,g);R=R.add(H.key.path.popLast()),S.push(u.put(C)),S.push(a.put(Z,P3))}return R.forEach(H=>{S.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.In[g]=y.keys()}),Se.waitFor(S).next(()=>y)})}lookupMutationBatch(e,t){return Og(e).get(t).next(i=>i?(fn(i.userId===this.userId),Im(this.It,i)):null)}Tn(e,t){return this.In[t]?Se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Og(e).Z({index:"userMutationsIndex",range:r},(u,g,y)=>{g.userId===this.userId&&(fn(g.batchId>=i),a=Im(this.It,g)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Og(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Og(e).W("userMutationsIndex",t).next(i=>i.map(r=>Im(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=FT(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return l0(e).Z({range:r},(u,g,y)=>{const[C,S,R]=u,H=Yh(S);if(C===this.userId&&t.path.isEqual(H))return Og(e).get(R).next(Z=>{if(!Z)throw Bt();fn(Z.userId===this.userId),a.push(Im(this.It,Z))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pr(bn);const r=[];return t.forEach(a=>{const u=FT(this.userId,a.path),g=IDBKeyRange.lowerBound(u),y=l0(e).Z({range:g},(C,S,R)=>{const[H,Z,ce]=C,me=Yh(Z);H===this.userId&&a.path.isEqual(me)?i=i.add(ce):R.done()});r.push(y)}),Se.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=FT(this.userId,i),u=IDBKeyRange.lowerBound(a);let g=new pr(bn);return l0(e).Z({range:u},(y,C,S)=>{const[R,H,Z]=y,ce=Yh(H);R===this.userId&&i.isPrefixOf(ce)?ce.length===r&&(g=g.add(Z)):S.done()}).next(()=>this.En(e,g))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Og(e).get(a).next(u=>{if(null===u)throw Bt();fn(u.userId===this.userId),i.push(Im(this.It,u))}))}),Se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Jk(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return l0(e).Z({range:i},(a,u,g)=>{if(a[0]===this.userId){const y=Yh(a[1]);r.push(y)}else g.done()}).next(()=>{fn(0===r.length)})})}containsKey(e,t){return Xk(e,this.userId,t)}Rn(e){return eL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xk(n,e,t){const i=FT(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return l0(n).Z({range:a,X:!0},(g,y,C)=>{const[S,R,H]=g;S===e&&R===r&&(u=!0),C.done()}).next(()=>u)}function Og(n){return ea(n,"mutations")}function l0(n){return ea(n,"documentMutations")}function eL(n){return ea(n,"mutationQueues")}class Sm{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Sm(0)}static vn(){return new Sm(-1)}}class aU{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Sm(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>ln.fromTimestamp(new Xr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>c0(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(fn(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return c0(e).Z((u,g)=>{const y=j1(g);y.sequenceNumber<=t&&null===i.get(y.targetId)&&(r++,a.push(this.removeTargetData(e,y)))}).next(()=>Se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return c0(e).Z((i,r)=>{const a=j1(r);t(a)})}Vn(e){return tL(e).get("targetGlobalKey").next(t=>(fn(null!==t),t))}Sn(e,t){return tL(e).put("targetGlobalKey",t)}Dn(e,t){return c0(e).put(Gk(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ym(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return c0(e).Z({range:r,index:"queryTargetsIndex"},(u,g,y)=>{const C=j1(g);M1(t,C.target)&&(a=C,y.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Mg(e);return t.forEach(u=>{const g=Cl(u.path);r.push(a.put({targetId:i,path:g})),r.push(this.referenceDelegate.addReference(e,i,u))}),Se.waitFor(r)}removeMatchingKeys(e,t,i){const r=Mg(e);return Se.forEach(t,a=>{const u=Cl(a.path);return Se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Mg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Mg(e);let a=Rn();return r.Z({range:i,X:!0},(u,g,y)=>{const C=Yh(u[1]),S=new Tt(C);a=a.add(S)}).next(()=>a)}containsKey(e,t){const i=Cl(t.path),r=IDBKeyRange.bound([i],[TP(i)],!1,!0);let a=0;return Mg(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,g],y,C)=>{0!==u&&(a++,C.done())}).next(()=>a>0)}se(e,t){return c0(e).get(t).next(i=>i?j1(i):null)}}function c0(n){return ea(n,"targets")}function tL(n){return ea(n,"targetGlobal")}function Mg(n){return ea(n,"targetDocuments")}function nL([n,e],[t,i]){const r=bn(n,t);return 0===r?bn(e,i):r}class lU{constructor(e){this.xn=e,this.buffer=new pr(nL),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();nL(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cU{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Be.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Cg(i)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Dg(i)}yield t.Fn(3e5)}))}}class uU{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Se.resolve(cc.at);const i=new lU(t);return this.$n.forEachTarget(e,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(Qk)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qk):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,u,g,y,C;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),r=this.params.maximumSequenceNumbersToCollect):r=R,u=Date.now(),this.nthSequenceNumber(e,r))).next(R=>(i=R,g=Date.now(),this.removeTargets(e,i,t))).next(R=>(a=R,y=Date.now(),this.removeOrphanedDocuments(e,i))).next(R=>(C=Date.now(),iN()<=vg.in.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-S}ms\n\tDetermined least recently used ${r} in `+(g-u)+`ms\n\tRemoved ${a} targets in `+(y-g)+`ms\n\tRemoved ${R} documents in `+(C-y)+`ms\nTotal Duration: ${C-S}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:R})))}}class dU{constructor(e,t){this.db=e,this.garbageCollector=new uU(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return $T(e,i)}removeReference(e,t,i){return $T(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return $T(e,t)}Gn(e,t){return function(i,r){let a=!1;return eL(i).tt(u=>Xk(i,u,r).next(g=>(g&&(a=!0),Se.resolve(!g)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(u,g)=>{if(g<=t){const y=this.Gn(e,u).next(C=>{if(!C)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,ln.min()),Mg(e).delete([0,Cl(u.path)])))});r.push(y)}}).next(()=>Se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return $T(e,t)}Kn(e,t){const i=Mg(e);let r,a=cc.at;return i.Z({index:"documentTargetsIndex"},([u,g],{path:y,sequenceNumber:C})=>{0===u?(a!==cc.at&&t(new Tt(Yh(r)),a),a=C,r=y):a=cc.at}).next(()=>{a!==cc.at&&t(new Tt(Yh(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $T(n,e){return Mg(n).put((i=n.currentSequenceNumber,{targetId:0,path:Cl(e.path),sequenceNumber:i}));var i}class iL{constructor(){this.changes=new Ag(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hU{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Am(e).put(i)}removeEntry(e,t,i){return Am(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],PT(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Sr.newInvalidDocument(t);return Am(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Y1(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:Sr.newInvalidDocument(t)};return Am(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Y1(t))},(r,a)=>{i={document:this.jn(t,a),size:VT(a)}}).next(()=>i)}getEntries(e,t){let i=dc();return this.zn(e,t,(r,a)=>{const u=this.jn(r,a);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=dc(),r=new Ds(Tt.comparator);return this.zn(e,t,(a,u)=>{const g=this.jn(a,u);i=i.insert(a,g),r=r.insert(a,VT(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return Se.resolve();let r=new pr(aL);t.forEach(y=>r=r.add(y));const a=IDBKeyRange.bound(Y1(r.first()),Y1(r.last())),u=r.getIterator();let g=u.getNext();return Am(e).Z({index:"documentKeyIndex",range:a},(y,C,S)=>{const R=Tt.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;g&&aL(g,R)<0;)i(g,null),g=u.getNext();g&&g.isEqual(R)&&(i(g,C),g=u.hasNext()?u.getNext():null),g?S.j(Y1(g)):S.done()}).next(()=>{for(;g;)i(g,null),g=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),PT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Am(e).W(IDBKeyRange.bound(r,a,!0)).next(u=>{let g=dc();for(const y of u){const C=this.jn(Tt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(C.key,C)}return g})}getAllFromCollectionGroup(e,t,i,r){let a=dc();const u=oL(t,i),g=oL(t,lu.max());return Am(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,g,!0)},(y,C,S)=>{const R=this.jn(Tt.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);a=a.insert(R.key,R),a.size===r&&S.done()}).next(()=>a)}newChangeBuffer(e){return new fU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sL(e).get("remoteDocumentGlobalKey").next(t=>(fn(!!t),t))}Qn(e,t){return sL(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function J3(n,e){let t;if(e.document)t=Sk(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Tt.fromSegments(e.noDocument.path),r=Cm(e.noDocument.readTime);t=Sr.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Bt();{const i=Tt.fromSegments(e.unknownDocument.path),r=Cm(e.unknownDocument.version);t=Sr.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Xr(i[0],i[1]);return ln.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(ln.min()))return i}return Sr.newInvalidDocument(e)}}function rL(n){return new hU(n)}class fU extends iL{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ag(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new pr((a,u)=>bn(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const g=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,g.readTime)),u.isValidDocument()){const y=$k(this.Yn.It,u);r=r.add(a.path.popLast()),i+=VT(y)-g.size,t.push(this.Yn.addEntry(e,a,y))}else if(i-=g.size,this.trackRemovals){const y=$k(this.Yn.It,u.convertToNoDocument(ln.min()));t.push(this.Yn.addEntry(e,a,y))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),Se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function sL(n){return ea(n,"remoteDocumentGlobal")}function Am(n){return ea(n,"remoteDocumentsV14")}function Y1(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oL(n,e){const t=e.documentKey.path.toArray();return[n,PT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aL(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=bn(t[a],i[a]),r)return r;return r=bn(t.length,i.length),r||(r=bn(t[t.length-2],i[i.length-2]),r||bn(t[t.length-1],i[i.length-1]))}class pU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lL{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&P1(i.mutation,r,cu.empty(),Xr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Rn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Rn()){const r=qh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=k1();return a.forEach((g,y)=>{u=u.insert(g,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=qh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Rn()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,g)=>{t.set(u,g)})})}computeViews(e,t,i,r){let a=dc();const u=L1(),g=L1();return t.forEach((y,C)=>{const S=i.get(C.key);r.has(C.key)&&(void 0===S||S.mutation instanceof rp)?a=a.insert(C.key,C):void 0!==S&&(u.set(C.key,S.mutation.getFieldMask()),P1(S.mutation,C,S.mutation.getFieldMask(),Xr.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((C,S)=>u.set(C,S)),t.forEach((C,S)=>{var R;return g.set(C,new pU(S,null!==(R=u.get(C))&&void 0!==R?R:null))}),g))}recalculateAndSaveOverlays(e,t){const i=L1();let r=new Ds((u,g)=>u-g),a=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const g of u)g.keys().forEach(y=>{const C=t.get(y);if(null===C)return;let S=i.get(y)||cu.empty();S=g.applyToLocalView(C,S),i.set(y,S);const R=(r.get(g.batchId)||Rn()).add(y);r=r.insert(g.batchId,R)})}).next(()=>{const u=[],g=r.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),C=y.key,S=y.value,R=mk();S.forEach(H=>{if(!a.has(H)){const Z=lk(t.get(H),i.get(H));null!==Z&&R.set(H,Z),a=a.add(H)}}),u.push(this.documentOverlayCache.saveOverlays(e,C,R))}return Se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Tt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):pN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):Se.resolve(qh());let g=-1,y=a;return u.next(C=>Se.forEach(C,(S,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),a.get(S)?Se.resolve():this.getBaseDocument(e,S,R).next(H=>{y=y.insert(S,H)}))).next(()=>this.populateOverlays(e,C,a)).next(()=>this.computeViews(e,y,C,Rn())).next(S=>({batchId:g,changes:_k(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Tt(t)).next(i=>{let r=k1();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=k1();return this.indexManager.getCollectionParents(e,r).next(u=>Se.forEach(u,g=>{const y=(C=t,S=g.child(r),new ip(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.getDocumentsMatchingCollectionQuery(e,y,i).next(C=>{C.forEach((S,R)=>{a=a.insert(S,R)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((g,y)=>{const C=y.getKey();null===r.get(C)&&(r=r.insert(C,Sr.newInvalidDocument(C)))});let u=k1();return r.forEach((g,y)=>{const C=a.get(g);void 0!==C&&P1(C.mutation,y,cu.empty(),Xr.now()),_N(t,y)&&(u=u.insert(g,y))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):Se.resolve(Sr.newInvalidDocument(t))}}class gU{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Xo(i.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:TN(i.bundledQuery),readTime:Xo(i.readTime)}),Se.resolve();var i}}class _U{constructor(){this.overlays=new Ds(Tt.comparator),this.es=new Map}getOverlay(e,t){return Se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=qh();return Se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),Se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),Se.resolve()}getOverlaysForCollection(e,t,i){const r=qh(),a=t.length+1,u=new Tt(t.child("")),g=this.overlays.getIteratorFrom(u);for(;g.hasNext();){const y=g.getNext().value,C=y.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===a&&y.largestBatchId>i&&r.set(y.getKey(),y)}return Se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Ds((C,S)=>C-S);const u=this.overlays.getIterator();for(;u.hasNext();){const C=u.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>i){let S=a.get(C.largestBatchId);null===S&&(S=qh(),a=a.insert(C.largestBatchId,S)),S.set(C.getKey(),C)}}const g=qh(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((C,S)=>g.set(C,S)),!(g.size()>=r)););return Se.resolve(g)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new IN(t,i));let a=this.es.get(t);void 0===a&&(a=Rn(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class SN{constructor(){this.ns=new pr(ta.ss),this.rs=new pr(ta.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new ta(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new ta(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Tt(new _i([])),i=new ta(t,e),r=new ta(t,e+1),a=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Tt(new _i([])),i=new ta(t,e),r=new ta(t,e+1);let a=Rn();return this.rs.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new ta(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ta{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Tt.comparator(e.key,t.key)||bn(e._s,t._s)}static os(e,t){return bn(e._s,t._s)||Tt.comparator(e.key,t.key)}}class mU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new pr(ta.ss)}checkEmpty(e){return Se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new DN(a,t,i,r);this.mutationQueue.push(u);for(const g of r)this.gs=this.gs.add(new ta(g.key,a)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Se.resolve(u)}lookupMutationBatch(e,t){return Se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return Se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ta(t,0),r=new ta(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],u=>{const g=this.ys(u._s);a.push(g)}),Se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pr(bn);return t.forEach(r=>{const a=new ta(r,0),u=new ta(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],g=>{i=i.add(g._s)})}),Se.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Tt.isDocumentKey(a)||(a=a.child(""));const u=new ta(new Tt(a),0);let g=new pr(bn);return this.gs.forEachWhile(y=>{const C=y.key.path;return!!i.isPrefixOf(C)&&(C.length===r&&(g=g.add(y._s)),!0)},u),Se.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){fn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Se.forEach(t.mutations,r=>{const a=new ta(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new ta(t,0),r=this.gs.firstAfterOrEqual(i);return Se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vU{constructor(e){this.Es=e,this.docs=new Ds(Tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Se.resolve(i?i.document.mutableCopy():Sr.newInvalidDocument(t))}getEntries(e,t){let i=dc();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Sr.newInvalidDocument(r))}),Se.resolve(i)}getAllFromCollection(e,t,i){let r=dc();const a=new Tt(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:g,value:{document:y}}=u.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||oN(xP(y),i)<=0||(r=r.insert(y.key,y.mutableCopy()))}return Se.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Bt()}As(e,t){return Se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new yU(this)}getSize(e){return Se.resolve(this.size)}}class yU extends iL{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),Se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class bU{constructor(e){this.persistence=e,this.Rs=new Ag(t=>ym(t),M1),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.bs=0,this.Ps=new SN,this.targetCount=0,this.vs=Sm.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),Se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Sm(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.Dn(t),Se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((u,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,g.targetId)),r++)}),Se.waitFor(a).next(()=>r)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return Se.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),Se.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),Se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return Se.resolve(i)}containsKey(e,t){return Se.resolve(this.Ps.containsKey(t))}}class cL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new cc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new bU(this),this.indexManager=new sU,this.remoteDocumentCache=new vU(i=>this.referenceDelegate.xs(i)),this.It=new Uk(t),this.Ns=new gU(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _U,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new mU(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){lt("MemoryPersistence","Starting transaction:",e);const r=new wU(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return Se.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class wU extends AP{constructor(e){super(),this.currentSequenceNumber=e}}class GT{constructor(e){this.persistence=e,this.Fs=new SN,this.$s=null}static Bs(e){return new GT(e)}get Ls(){if(this.$s)return this.$s;throw Bt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),Se.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ls,i=>{const r=Tt.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,ln.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Se.or([()=>Se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class DU{constructor(e){this.It=e}$(e,t,i,r){const a=new DT("createOrUpgrade",t);var g;i<1&&r>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pk,{unique:!0}),g.createObjectStore("documentMutations"),uL(e),function(g){g.createObjectStore("remoteDocuments")}(e));let u=Se.resolve();return i<3&&r>=3&&(0!==i&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),uL(e)),u=u.next(()=>function(g){const y=g.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ln.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",C)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(g,y){return y.store("mutations").W().next(C=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pk,{unique:!0});const S=y.store("mutations"),R=C.map(H=>S.put(H));return Se.waitFor(R)})}(e,a))),u=u.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(a))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(a))),i<11&&r>=11&&(u=u.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:q3});y.createIndex("collectionPathOverlayIndex",Z3,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Y3,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:k3});y.createIndex("documentKeyIndex",L3),y.createIndex("collectionGroupIndex",B3)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:H3}).createIndex("sequenceNumberIndex",j3,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:W3}).createIndex("documentKeyIndex",z3,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=VT(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>Se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(g=>Se.forEach(g,y=>{fn(y.userId===a.userId);const C=Im(this.It,y);return Jk(e,a.userId,C).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,g)=>{const y=new _i(u),C=[0,Cl(y)];a.push(t.get(C).next(S=>S?Se.resolve():t.put({targetId:0,path:Cl(y),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Se.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:G3});const i=t.store("collectionParents"),r=new xN,a=u=>{if(r.add(u)){const g=u.lastSegment(),y=u.popLast();return i.put({collectionId:g,parent:Cl(y)})}};return t.store("remoteDocuments").Z({X:!0},(u,g)=>{const y=new _i(u);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,g,y],C)=>{const S=Yh(g);return a(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=j1(r),u=Gk(this.It,a);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const g=t.store("remoteDocumentsV14"),y=(C=u,C.document?new Tt(_i.fromString(C.document.name).popFirst(5)):C.noDocument?Tt.fromSegments(C.noDocument.path):C.unknownDocument?Tt.fromSegments(C.unknownDocument.path):Bt()).path.toArray();var C;const S={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(g.put(S))}).next(()=>Se.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=rL(this.It),a=new cL(GT.Bs,this.It.re);return i.W().next(u=>{const g=new Map;return u.forEach(y=>{var C;let S=null!==(C=g.get(y.userId))&&void 0!==C?C:Rn();Im(this.It,y).keys().forEach(R=>S=S.add(R)),g.set(y.userId,S)}),Se.forEach(g,(y,C)=>{const S=new Qo(C),R=kT.oe(this.It,S),H=a.getIndexManager(S),Z=UT.oe(S,this.It,H,a.referenceDelegate);return new lL(r,Z,R,H).recalculateAndSaveOverlaysForDocumentKeys(new wN(t,cc.at),y).next()})})}}function uL(n){n.createObjectStore("targetDocuments",{keyPath:U3}).createIndex("documentTargetsIndex",$3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",V3,{unique:!0}),n.createObjectStore("targetGlobal")}const AN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NN{constructor(e,t,i,r,a,u,g,y,C,S,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=u,this.document=g,this.Js=C,this.Ys=S,this.Xs=R,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=H=>Promise.resolve(),!NN.C())throw new et(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dU(this,r),this.ii=t+"main",this.It=new Uk(y),this.ri=new Hd(this.ii,this.Xs,new DU(this.It)),this.Cs=new aU(this.referenceDelegate,this.It),this.remoteDocumentCache=rL(this.It),this.Ns=new X3,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&$s("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Fe.FAILED_PRECONDITION,AN);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new cc(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Be.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Be.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>HT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Cg(e))return lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return K1(e).get("owner").next(t=>Se.resolve(this.mi(t)))}gi(e){return HT(e).delete(this.clientId)}yi(){var e=this;return(0,Be.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ea(i,"clientMetadata");return r.W().next(a=>{const u=e.Ii(a,18e5),g=a.filter(y=>-1===u.indexOf(y));return Se.forEach(g,y=>r.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Se.resolve(!0):K1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new et(Fe.FAILED_PRECONDITION,AN);return!1}}return!(!this.networkEnabled||!this.inForeground)||HT(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,g=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Be.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new wN(t,cc.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>HT(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return UT.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oU(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return kT.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){lt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?Q3:14===u?Vk:13===u?Bk:12===u?K3:11===u?Lk:void Bt();var u;let g;return this.ri.runTransaction(e,r,a,y=>(g=new wN(y,this.Ss?this.Ss.next():cc.at),"readwrite-primary"===t?this.fi(g).next(C=>!!C||this.di(g)).next(C=>{if(!C)throw $s(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new et(Fe.FAILED_PRECONDITION,SP);return i(g)}).next(C=>this.wi(g).next(()=>C)):this.Vi(g).next(()=>i(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}Vi(e){return K1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new et(Fe.FAILED_PRECONDITION,AN)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return K1(e).put("owner",t)}static C(){return Hd.C()}_i(e){const t=K1(e);return t.get("owner").next(i=>this.mi(i)?(lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Se.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&($s(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return lt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return $s("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){$s("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function K1(n){return ea(n,"owner")}function HT(n){return ea(n,"clientMetadata")}function ON(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class MN{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Rn(),r=Rn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new MN(e,t.fromCache,i,r)}}class dL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Mi(e,t,r,i)).next(a=>a||this.Oi(e,t))}ki(e,t){if(KP(t))return Se.resolve(null);let i=uc(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ST(t,null,"F"),i=uc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Rn(...a);return this.Ni.getDocuments(e,u).next(g=>this.indexManager.getMinOffset(e,i).next(y=>{const C=this.Fi(t,g);return this.$i(t,C,u,y.readTime)?this.ki(e,ST(t,null,"F")):this.Bi(e,C,t,y)}))})))}Mi(e,t,i,r){return KP(t)||r.isEqual(ln.min())?this.Oi(e,t):this.Ni.getDocuments(e,i).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,i,r)?this.Oi(e,t):(iN()<=vg.in.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gN(t)),this.Bi(e,u,t,EP(r,-1)))})}Fi(e,t){let i=new pr(XP(e));return t.forEach((r,a)=>{_N(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return iN()<=vg.in.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",gN(t)),this.Ni.getDocumentsMatchingQuery(e,t,lu.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class CU{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Ds(bn),this.qi=new Ag(a=>ym(a),M1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function hL(n,e,t,i){return new CU(n,e,t,i)}function fL(n,e){return RN.apply(this,arguments)}function RN(){return RN=(0,Be.Z)(function*(n,e){const t=St(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],g=[];let y=Rn();for(const C of r){u.push(C.batchId);for(const S of C.mutations)y=y.add(S.key)}for(const C of a){g.push(C.batchId);for(const S of C.mutations)y=y.add(S.key)}return t.localDocuments.getDocuments(i,y).next(C=>({ji:C,removedBatchIds:u,addedBatchIds:g}))})})}),RN.apply(this,arguments)}function IU(n,e){const t=St(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,g,y,C){const S=y.batch,R=S.keys();let H=Se.resolve();return R.forEach(Z=>{H=H.next(()=>C.getEntry(g,Z)).next(ce=>{const me=y.docVersions.get(Z);fn(null!==me),ce.version.compareTo(me)<0&&(S.applyToRemoteDocument(ce,y),ce.isValidDocument()&&(ce.setReadTime(y.commitVersion),C.addEntry(ce)))})}),H.next(()=>u.mutationQueue.removeMutationBatch(g,S))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let g=Rn();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(g=g.add(u.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function pL(n){const e=St(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function TU(n,e){const t=St(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const g=[];e.targetChanges.forEach((S,R)=>{const H=r.get(R);if(!H)return;g.push(t.Cs.removeMatchingKeys(a,S.removedDocuments,R).next(()=>t.Cs.addMatchingKeys(a,S.addedDocuments,R)));let Z=H.withSequenceNumber(a.currentSequenceNumber);var ce,me,De;e.targetMismatches.has(R)?Z=Z.withResumeToken(xo.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):S.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(S.resumeToken,i)),r=r.insert(R,Z),me=Z,De=S,(0===(ce=H).resumeToken.approximateByteSize()||me.snapshotVersion.toMicroseconds()-ce.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(a,Z))});let y=dc(),C=Rn();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(a,S))}),g.push(gL(a,u,e.documentUpdates).next(S=>{y=S.Wi,C=S.zi})),!i.isEqual(ln.min())){const S=t.Cs.getLastRemoteSnapshotVersion(a).next(R=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));g.push(S)}return Se.waitFor(g).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,C)).next(()=>y)}).then(a=>(t.Ui=r,a))}function gL(n,e,t){let i=Rn(),r=Rn();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=dc();return t.forEach((g,y)=>{const C=a.get(g);y.isFoundDocument()!==C.isFoundDocument()&&(r=r.add(g)),y.isNoDocument()&&y.version.isEqual(ln.min())?(e.removeEntry(g,y.readTime),u=u.insert(g,y)):!C.isValidDocument()||y.version.compareTo(C.version)>0||0===y.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(y),u=u.insert(g,y)):lt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",y.version)}),{Wi:u,zi:r}})}function EU(n,e){const t=St(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function u0(n,e){const t=St(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,Se.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new Ng(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function d0(n,e,t){return FN.apply(this,arguments)}function FN(){return FN=(0,Be.Z)(function*(n,e,t){const i=St(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Cg(u))throw u;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),FN.apply(this,arguments)}function jT(n,e,t){const i=St(n);let r=ln.min(),a=Rn();return i.persistence.runTransaction("Execute query","readonly",u=>function(g,y,C){const S=St(g),R=S.qi.get(C);return void 0!==R?Se.resolve(S.Ui.get(R)):S.Cs.getTargetData(y,C)}(i,u,uc(e)).next(g=>{if(g)return r=g.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,g.targetId).next(y=>{a=y})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:ln.min(),t?a:Rn())).next(g=>(vL(i,JP(e),g),{documents:g,Hi:a})))}function _L(n,e){const t=St(n),i=St(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(u=>u?u.target:null))}function mL(n,e){const t=St(n),i=t.Ki.get(e)||ln.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,EP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(vL(t,e,r),r))}function vL(n,e,t){let i=ln.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function PN(){return PN=(0,Be.Z)(function*(n,e,t,i){const r=St(n);let a=Rn(),u=dc();for(const C of t){const S=e.Ji(C.metadata.name);C.document&&(a=a.add(S));const R=e.Yi(C);R.setReadTime(e.Xi(C.metadata.readTime)),u=u.insert(S,R)}const g=r.Gi.newChangeBuffer({trackRemovals:!0}),y=yield u0(r,(C=i,uc(Xy(_i.fromString(`__bundle__/docs/${C}`)))));var C;return r.persistence.runTransaction("Apply bundle documents","readwrite",C=>gL(C,g,u).next(S=>(g.apply(C),S)).next(S=>r.Cs.removeMatchingKeysForTargetId(C,y.targetId).next(()=>r.Cs.addMatchingKeys(C,a,y.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(C,S.Wi,S.zi)).next(()=>S.Wi)))}),PN.apply(this,arguments)}function SU(n,e){return kN.apply(this,arguments)}function kN(){return kN=(0,Be.Z)(function*(n,e,t=Rn()){const i=yield u0(n,uc(TN(e.bundledQuery))),r=St(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Xo(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(a,e);const g=i.withResumeToken(xo.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(g.targetId,g),r.Cs.updateTargetData(a,g).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),kN.apply(this,arguments)}function yL(n,e){return`firestore_clients_${n}_${e}`}function bL(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function LN(n,e){return`firestore_targets_${n}_${e}`}class WT{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new et(r.error.code,r.error.message))),u?new WT(e,t,r.state,a):($s("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Q1{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new et(i.error.code,i.error.message))),a?new Q1(e,i.state,r):($s("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=MT();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=PP(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new zT(e,a):($s("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class BN{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new BN(t.clientId,t.onlineState):($s("SharedClientState",`Failed to parse online state: ${e}`),null)}}class VN{constructor(){this.activeTargetIds=MT()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ds(bn),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=yL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new VN),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Be.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(yL(e.persistenceKey,r));if(a){const u=zT.Zi(r,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(LN(this.persistenceKey,e));if(i){const r=Q1.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(LN(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return lt("SharedClientState","READ",e,t),t}setItem(e,t){lt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(lt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void $s("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Be.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let u=cc.at;if(null!=a)try{const g=JSON.parse(a);fn("number"==typeof g),u=g}catch(g){$s("SharedClientState","Failed to read sequence number from WebStorage",g)}return u}(i.newValue);r!==cc.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Mr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new WT(this.currentUser,e,t,i),a=bL(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=bL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=LN(this.persistenceKey,e),a=new Q1(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return zT.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return WT.Zi(new Qo(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Q1.Zi(r,t)}yr(e){return BN.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),u=[],g=[];return a.forEach(y=>{r.has(y)||u.push(y)}),r.forEach(y=>{a.has(y)||g.push(y)}),this.syncEngine.Br(u,g).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=MT();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class wL{constructor(){this.Lr=new VN,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new VN,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AU{qr(e){}shutdown(){}}class DL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const NU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class OU{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class MU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,a){const u=this.ao(e,t);lt("RestConnection","Sending: ",u,i);const g={};return this.ho(g,r,a),this.lo(e,u,g,i).then(y=>(lt("RestConnection","Received: ",y),y),y=>{throw hm("RestConnection",`${e} failed with error: `,y,"url: ",u,"request:",i),y})}fo(e,t,i,r,a,u){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.oo}/v1/${t}:${NU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){return new Promise((a,u)=>{const g=new A5;g.listenOnce(E5.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case nN.NO_ERROR:const C=g.getResponseJson();lt("Connection","XHR received:",JSON.stringify(C)),a(C);break;case nN.TIMEOUT:lt("Connection",'RPC "'+e+'" timed out'),u(new et(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case nN.HTTP_ERROR:const S=g.getStatus();if(lt("Connection",'RPC "'+e+'" failed with status:',S,"response text:",g.getResponseText()),S>0){const R=g.getResponseJson().error;if(R&&R.status&&R.message){const H=function(Z){const ce=Z.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(ce)>=0?ce:Fe.UNKNOWN}(R.status);u(new et(H,R.message))}else u(new et(Fe.UNKNOWN,"Server responded with status "+g.getStatus()))}else u(new et(Fe.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{lt("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(r);g.send(t,"POST",y,i,15)})}_o(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=I5(),u=T5(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new S5({})),this.ho(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const y=r.join("");lt("Connection","Creating WebChannel: "+y,g);const C=a.createWebChannel(y,g);let S=!1,R=!1;const H=new OU({Hr:ce=>{R?lt("Connection","Not sending because WebChannel is closed:",ce):(S||(lt("Connection","Opening WebChannel transport."),C.open(),S=!0),lt("Connection","WebChannel sending:",ce),C.send(ce))},Jr:()=>C.close()}),Z=(ce,me,De)=>{ce.listen(me,ot=>{try{De(ot)}catch(ct){setTimeout(()=>{throw ct},0)}})};return Z(C,yT.EventType.OPEN,()=>{R||lt("Connection","WebChannel transport opened.")}),Z(C,yT.EventType.CLOSE,()=>{R||(R=!0,lt("Connection","WebChannel transport closed"),H.io())}),Z(C,yT.EventType.ERROR,ce=>{R||(R=!0,hm("Connection","WebChannel transport errored:",ce),H.io(new et(Fe.UNAVAILABLE,"The operation could not be completed")))}),Z(C,yT.EventType.MESSAGE,ce=>{var me;if(!R){const De=ce.data[0];fn(!!De);const ot=De,ct=ot.error||(null===(me=ot[0])||void 0===me?void 0:me.error);if(ct){lt("Connection","WebChannel received error:",ct);const vt=ct.status;let rt=function(Dt){const rn=uo[Dt];if(void 0!==rn)return pk(rn)}(vt),gt=ct.message;void 0===rt&&(rt=Fe.INTERNAL,gt="Unknown error status: "+vt+" with message "+ct.message),R=!0,H.io(new et(rt,gt)),C.close()}else lt("Connection","WebChannel received:",De),H.ro(De)}}),Z(u,x5.STAT_EVENT,ce=>{ce.stat===bP.PROXY?lt("Connection","Detected buffering proxy"):ce.stat===bP.NOPROXY&&lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.so()},0),H}}function CL(){return typeof window<"u"?window:null}function qT(){return typeof document<"u"?document:null}function J1(n){return new C3(n,!0)}class $N{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&lt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class IL{constructor(e,t,i,r,a,u,g,y){this.Hs=e,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new $N(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Be.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Be.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Be.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Fe.RESOURCE_EXHAUSTED?($s(t.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):t&&t.code===Fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new et(Fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Be.Z)(function*(){e.state=0,e.start()}))}Qo(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RU extends IL{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function E3(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Bt(),r=e.targetChange.targetIds||[],a=function(y,C){return y.gt?(fn(void 0===C||"string"==typeof C),xo.fromBase64String(C||"")):(fn(void 0===C||C instanceof Uint8Array),xo.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,g=u&&function(y){const C=void 0===y.code?Fe.UNKNOWN:pk(y.code);return new et(C,y.message||"")}(u);t=new yk(i,r,a,g||null)}else if("documentChange"in e){const i=e.documentChange,r=Zh(n,i.document.name),a=Xo(i.document.updateTime),u=new wa({mapValue:{fields:i.document.fields}}),g=Sr.newFoundDocument(r,a,u);t=new RT(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=Zh(n,i.document),a=i.readTime?Xo(i.readTime):ln.min(),u=Sr.newNoDocument(r,a);t=new RT([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Zh(n,i.document);t=new RT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Bt();{const i=e.filter,a=new g3(i.count||0);t=new vk(i.targetId,a)}}var y;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return ln.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?ln.min():a.readTime?Xo(a.readTime):ln.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=G1(this.It),t.addTarget=function(r,a){let u;const g=a.target;return u=ET(g)?{documents:Ak(r,g)}:{query:Nk(r,g)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=Ck(r,a.resumeToken):a.snapshotVersion.compareTo(ln.min())>0&&(u.readTime=U1(r,a.snapshotVersion.toTimestamp())),u}(this.It,e);const i=function S3(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=G1(this.It),t.removeTarget=e,this.Bo(t)}}class FU extends IL{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function x3(n,e){return n&&n.length>0?(fn(void 0!==e),n.map(t=>function(i,r){let a=Xo(i.updateTime?i.updateTime:r);return a.isEqual(ln.min())&&(a=Xo(r)),new h3(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Xo(e.commitTime);return this.listener.Zo(i,t)}return fn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=G1(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>H1(this.It,i))};this.Bo(t)}}class PU extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new et(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new et(Fe.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.fo(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new et(Fe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class kU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?($s(t),this.ou=!1):lt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class LU{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(g=>{i.enqueueAndForget((0,Be.Z)(function*(){var y;Rg(u)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Be.Z)(function*(C){const S=St(C);S._u.add(4),yield h0(S),S.gu.set("Unknown"),S._u.delete(4),yield X1(S)}),function(C){return y.apply(this,arguments)})(u))}))}),this.gu=new kU(i,r)}}function X1(n){return GN.apply(this,arguments)}function GN(){return GN=(0,Be.Z)(function*(n){if(Rg(n))for(const e of n.wu)yield e(!0)}),GN.apply(this,arguments)}function h0(n){return HN.apply(this,arguments)}function HN(){return HN=(0,Be.Z)(function*(n){for(const e of n.wu)yield e(!1)}),HN.apply(this,arguments)}function ZT(n,e){const t=St(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),zN(t)?WN(t):p0(t).ko()&&jN(t,e))}function eD(n,e){const t=St(n),i=p0(t);t.du.delete(e),i.ko()&&TL(t,e),0===t.du.size&&(i.ko()?i.Fo():Rg(t)&&t.gu.set("Unknown"))}function jN(n,e){n.yu.Ot(e.targetId),p0(n).zo(e)}function TL(n,e){n.yu.Ot(e),p0(n).Ho(e)}function WN(n){n.yu=new b3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),p0(n).start(),n.gu.uu()}function zN(n){return Rg(n)&&!p0(n).No()&&n.du.size>0}function Rg(n){return 0===St(n)._u.size}function EL(n){n.yu=void 0}function BU(n){return qN.apply(this,arguments)}function qN(){return qN=(0,Be.Z)(function*(n){n.du.forEach((e,t)=>{jN(n,e)})}),qN.apply(this,arguments)}function VU(n,e){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,Be.Z)(function*(n,e){EL(n),zN(n)?(n.gu.hu(e),WN(n)):n.gu.set("Unknown")}),ZN.apply(this,arguments)}function UU(n,e,t){return YN.apply(this,arguments)}function YN(){return YN=(0,Be.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof yk&&2===e.state&&e.cause)try{yield(i=(0,Be.Z)(function*(r,a){const u=a.cause;for(const g of a.targetIds)r.du.has(g)&&(yield r.remoteSyncer.rejectListen(g,u),r.du.delete(g),r.yu.removeTarget(g))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield YT(n,i)}else if(e instanceof RT?n.yu.Gt(e):e instanceof vk?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(ln.min()))try{const i=yield pL(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.yu.te(a);return u.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const C=r.du.get(y);C&&r.du.set(y,C.withResumeToken(g.resumeToken,a))}}),u.targetMismatches.forEach(g=>{const y=r.du.get(g);if(!y)return;r.du.set(g,y.withResumeToken(xo.EMPTY_BYTE_STRING,y.snapshotVersion)),TL(r,g);const C=new Ng(y.target,g,1,y.sequenceNumber);jN(r,C)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){lt("RemoteStore","Failed to raise snapshot:",i),yield YT(n,i)}var i}),YN.apply(this,arguments)}function YT(n,e,t){return KN.apply(this,arguments)}function KN(){return KN=(0,Be.Z)(function*(n,e,t){if(!Cg(e))throw e;n._u.add(1),yield h0(n),n.gu.set("Offline"),t||(t=()=>pL(n.localStore)),n.asyncQueue.enqueueRetryable((0,Be.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield X1(n)}))}),KN.apply(this,arguments)}function xL(n,e){return e().catch(t=>YT(n,t,e))}function f0(n){return QN.apply(this,arguments)}function QN(){return QN=(0,Be.Z)(function*(n){const e=St(n),t=Fg(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;$U(e);)try{const r=yield EU(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,GU(e,r)}catch(r){yield YT(e,r)}SL(e)&&AL(e)}),QN.apply(this,arguments)}function $U(n){return Rg(n)&&n.fu.length<10}function GU(n,e){n.fu.push(e);const t=Fg(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function SL(n){return Rg(n)&&!Fg(n).No()&&n.fu.length>0}function AL(n){Fg(n).start()}function HU(n){return JN.apply(this,arguments)}function JN(){return JN=(0,Be.Z)(function*(n){Fg(n).eu()}),JN.apply(this,arguments)}function jU(n){return XN.apply(this,arguments)}function XN(){return XN=(0,Be.Z)(function*(n){const e=Fg(n);for(const t of n.fu)e.Xo(t.mutations)}),XN.apply(this,arguments)}function WU(n,e,t){return eO.apply(this,arguments)}function eO(){return eO=(0,Be.Z)(function*(n,e,t){const i=n.fu.shift(),r=CN.from(i,e,t);yield xL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield f0(n)}),eO.apply(this,arguments)}function zU(n,e){return tO.apply(this,arguments)}function tO(){return tO=(0,Be.Z)(function*(n,e){var t;e&&Fg(n).Yo&&(yield(t=(0,Be.Z)(function*(i,r){if(fk(a=r.code)&&a!==Fe.ABORTED){const u=i.fu.shift();Fg(i).Oo(),yield xL(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield f0(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),SL(n)&&AL(n)}),tO.apply(this,arguments)}function NL(n,e){return nO.apply(this,arguments)}function nO(){return nO=(0,Be.Z)(function*(n,e){const t=St(n);t.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const i=Rg(t);t._u.add(3),yield h0(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield X1(t)}),nO.apply(this,arguments)}function iO(n,e){return rO.apply(this,arguments)}function rO(){return rO=(0,Be.Z)(function*(n,e){const t=St(n);e?(t._u.delete(2),yield X1(t)):e||(t._u.add(2),yield h0(t),t.gu.set("Unknown"))}),rO.apply(this,arguments)}function p0(n){return n.pu||(n.pu=function(e,t,i){const r=St(e);return r.su(),new RU(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:BU.bind(null,n),Zr:VU.bind(null,n),Wo:UU.bind(null,n)}),n.wu.push(function(){var e=(0,Be.Z)(function*(t){t?(n.pu.Oo(),zN(n)?WN(n):n.gu.set("Unknown")):(yield n.pu.stop(),EL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Fg(n){return n.Iu||(n.Iu=function(e,t,i){const r=St(e);return r.su(),new FU(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:HU.bind(null,n),Zr:zU.bind(null,n),tu:jU.bind(null,n),Zo:WU.bind(null,n)}),n.wu.push(function(){var e=(0,Be.Z)(function*(t){t?(n.Iu.Oo(),yield f0(n)):(yield n.Iu.stop(),n.fu.length>0&&(lt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class sO{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,g=new sO(e,t,u,r,a);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g0(n,e){if($s("AsyncQueue",`${e}: ${n}`),Cg(n))return new et(Fe.UNAVAILABLE,`${e}: ${n}`);throw n}class _0{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Tt.comparator(t.key,i.key):(t,i)=>Tt.comparator(t.key,i.key),this.keyedMap=k1(),this.sortedSet=new Ds(this.comparator)}static emptySet(e){return new _0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new _0;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class OL{constructor(){this.Tu=new Ds(Tt.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Bt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class m0{constructor(e,t,i,r,a,u,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=g,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new m0(e,t,_0.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&R1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class qU{constructor(){this.Au=void 0,this.listeners=[]}}class ZU{constructor(){this.queries=new Ag(e=>QP(e),R1),this.onlineState="Unknown",this.Ru=new Set}}function oO(n,e){return aO.apply(this,arguments)}function aO(){return aO=(0,Be.Z)(function*(n,e){const t=St(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new qU),r)try{a.Au=yield t.onListen(i)}catch(u){const g=g0(u,`Initialization of query '${gN(e.query)}' failed`);return void e.onError(g)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&uO(t)}),aO.apply(this,arguments)}function lO(n,e){return cO.apply(this,arguments)}function cO(){return cO=(0,Be.Z)(function*(n,e){const t=St(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),cO.apply(this,arguments)}function YU(n,e){const t=St(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const g of u.listeners)g.Pu(r)&&(i=!0);u.Au=r}}i&&uO(t)}function KU(n,e,t){const i=St(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function uO(n){n.Ru.forEach(e=>{e.next()})}class dO{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new m0(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=m0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class QU{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class ML{constructor(e){this.It=e}Ji(e){return Zh(this.It,e)}Yi(e){return e.metadata.exists?Sk(this.It,e.document,!1):Sr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Xo(e)}}class JU{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RL(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=_i.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,i=new ML(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const g=(t.get(u)||Rn()).add(a);t.set(u,g)}}return t}complete(){var e=this;return(0,Be.Z)(function*(){const t=yield function xU(n,e,t,i){return PN.apply(this,arguments)}(e.localStore,new ML(e.It),e.documents,e.Mu.id),i=e.Fu(e.documents);for(const r of e.queries)yield SU(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function RL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class FL{constructor(e){this.key=e}}class PL{constructor(e){this.key=e}}class kL{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Rn(),this.mutatedKeys=Rn(),this.Ku=XP(e),this.Gu=new _0(this.Ku)}get Qu(){return this.Lu}ju(e,t){const i=t?t.Wu:new OL,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,g=!1;const y="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,C="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((S,R)=>{const H=r.get(S),Z=_N(this.query,R)?R:null,ce=!!H&&this.mutatedKeys.has(H.key),me=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let De=!1;H&&Z?H.data.isEqual(Z.data)?ce!==me&&(i.track({type:3,doc:Z}),De=!0):this.zu(H,Z)||(i.track({type:2,doc:Z}),De=!0,(y&&this.Ku(Z,y)>0||C&&this.Ku(Z,C)<0)&&(g=!0)):!H&&Z?(i.track({type:0,doc:Z}),De=!0):H&&!Z&&(i.track({type:1,doc:H}),De=!0,(y||C)&&(g=!0)),De&&(Z?(u=u.add(Z),a=me?a.add(S):a.delete(S)):(u=u.delete(S),a=a.delete(S)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const S="F"===this.query.limitType?u.last():u.first();u=u.delete(S.key),a=a.delete(S.key),i.track({type:1,doc:S})}return{Gu:u,Wu:i,$i:g,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((C,S)=>function(R,H){const Z=ce=>{switch(ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return Z(R)-Z(H)}(C.type,S.type)||this.Ku(C.doc,S.doc)),this.Hu(i);const u=t?this.Ju():[],g=0===this.qu.size&&this.current?1:0,y=g!==this.Uu;return this.Uu=g,0!==a.length||y?{snapshot:new m0(this.query,e.Gu,r,a,e.mutatedKeys,0===g,y,!1),Yu:u}:{Yu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new OL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Rn(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const t=[];return e.forEach(i=>{this.qu.has(i)||t.push(new PL(i))}),this.qu.forEach(i=>{e.has(i)||t.push(new FL(i))}),t}Zu(e){this.Lu=e.Hi,this.qu=Rn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return m0.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class XU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class e${constructor(e){this.key=e,this.ec=!1}}class t${constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Ag(g=>QP(g),R1),this.ic=new Map,this.rc=new Set,this.oc=new Ds(Tt.comparator),this.uc=new Map,this.cc=new SN,this.ac={},this.hc=new Map,this.lc=Sm.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function n$(n,e){return hO.apply(this,arguments)}function hO(){return hO=(0,Be.Z)(function*(n,e){const t=PO(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield u0(t.localStore,uc(e));t.isPrimaryClient&&ZT(t.remoteStore,u);const g=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield fO(t,e,i,"current"===g)}return r}),hO.apply(this,arguments)}function fO(n,e,t,i){return pO.apply(this,arguments)}function pO(){return pO=(0,Be.Z)(function*(n,e,t,i){n.dc=(S,R,H)=>{return(Z=(0,Be.Z)(function*(ce,me,De,ot){let ct=me.view.ju(De);ct.$i&&(ct=yield jT(ce.localStore,me.query,!1).then(({documents:gt})=>me.view.ju(gt,ct)));const vt=ot&&ot.targetChanges.get(me.targetId),rt=me.view.applyChanges(ct,ce.isPrimaryClient,vt);return IO(ce,me.targetId,rt.Yu),rt.snapshot}),function(ce,me,De,ot){return Z.apply(this,arguments)})(n,S,R,H);var Z};const r=yield jT(n.localStore,e,!0),a=new kL(e,r.Hi),u=a.ju(r.documents),g=V1.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),y=a.applyChanges(u,n.isPrimaryClient,g);IO(n,t,y.Yu);const C=new XU(e,t,a);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),pO.apply(this,arguments)}function i$(n,e){return gO.apply(this,arguments)}function gO(){return gO=(0,Be.Z)(function*(n,e){const t=St(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!R1(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield d0(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),eD(t.remoteStore,i.targetId),v0(t,i.targetId)}).catch(Dg))):(v0(t,i.targetId),yield d0(t.localStore,i.targetId,!0))}),gO.apply(this,arguments)}function _O(){return _O=(0,Be.Z)(function*(n,e,t){const i=kO(n);try{const r=yield function(a,u){const g=St(a),y=Xr.now(),C=u.reduce((H,Z)=>H.add(Z.key),Rn());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Z=dc(),ce=Rn();return g.Gi.getEntries(H,C).next(me=>{Z=me,Z.forEach((De,ot)=>{ot.isValidDocument()||(ce=ce.add(De))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,Z)).next(me=>{S=me;const De=[];for(const ot of u){const ct=p3(ot,S.get(ot.key).overlayedDocument);null!=ct&&De.push(new rp(ot.key,ct,GP(ct.value.mapValue),es.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,De,u)}).next(me=>{R=me;const De=me.applyToLocalDocumentSet(S,ce);return g.documentOverlayCache.saveOverlays(H,me.batchId,De)})}).then(()=>({batchId:R.batchId,changes:_k(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,g){let y=a.ac[a.currentUser.toKey()];y||(y=new Ds(bn)),y=y.insert(u,g),a.ac[a.currentUser.toKey()]=y}(i,r.batchId,t),yield sp(i,r.changes),yield f0(i.remoteStore)}catch(r){const a=g0(r,"Failed to persist write");t.reject(a)}}),_O.apply(this,arguments)}function LL(n,e){return mO.apply(this,arguments)}function mO(){return mO=(0,Be.Z)(function*(n,e){const t=St(n);try{const i=yield TU(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.uc.get(a);u&&(fn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?fn(u.ec):r.removedDocuments.size>0&&(fn(u.ec),u.ec=!1))}),yield sp(t,i,e)}catch(i){yield Dg(i)}}),mO.apply(this,arguments)}function BL(n,e,t){const i=St(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,u)=>{const g=u.view.bu(e);g.snapshot&&r.push(g.snapshot)}),function(a,u){const g=St(a);g.onlineState=u;let y=!1;g.queries.forEach((C,S)=>{for(const R of S.listeners)R.bu(u)&&(y=!0)}),y&&uO(g)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function s$(n,e,t){return vO.apply(this,arguments)}function vO(){return vO=(0,Be.Z)(function*(n,e,t){const i=St(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let u=new Ds(Tt.comparator);u=u.insert(a,Sr.newNoDocument(a,ln.min()));const g=Rn().add(a),y=new B1(ln.min(),new Map,new pr(bn),u,g);yield LL(i,y),i.oc=i.oc.remove(a),i.uc.delete(e),TO(i)}else yield d0(i.localStore,e,!1).then(()=>v0(i,e,t)).catch(Dg)}),vO.apply(this,arguments)}function o$(n,e){return yO.apply(this,arguments)}function yO(){return yO=(0,Be.Z)(function*(n,e){const t=St(n),i=e.batch.batchId;try{const r=yield IU(t.localStore,e);CO(t,i,null),DO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield sp(t,r)}catch(r){yield Dg(r)}}),yO.apply(this,arguments)}function a$(n,e,t){return bO.apply(this,arguments)}function bO(){return bO=(0,Be.Z)(function*(n,e,t){const i=St(n);try{const r=yield function(a,u){const g=St(a);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let C;return g.mutationQueue.lookupMutationBatch(y,u).next(S=>(fn(null!==S),C=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,C,u)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,C)).next(()=>g.localDocuments.getDocuments(y,C))})}(i.localStore,e);CO(i,e,t),DO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield sp(i,r)}catch(r){yield Dg(r)}}),bO.apply(this,arguments)}function wO(){return wO=(0,Be.Z)(function*(n,e){const t=St(n);Rg(t.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=St(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>u.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=g0(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),wO.apply(this,arguments)}function DO(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function CO(n,e,t){const i=St(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function v0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc._c(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(i=>{n.cc.containsKey(i)||VL(n,i)})}function VL(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(eD(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),TO(n))}function IO(n,e,t){for(const i of t)i instanceof FL?(n.cc.addReference(i.key,e),c$(n,i)):i instanceof PL?(lt("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||VL(n,i.key)):Bt()}function c$(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(lt("SyncEngine","New document in limbo: "+t),n.rc.add(i),TO(n))}function TO(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Tt(_i.fromString(e)),i=n.lc.next();n.uc.set(i,new e$(t)),n.oc=n.oc.insert(t,i),ZT(n.remoteStore,new Ng(uc(Xy(t.path)),i,2,cc.at))}}function sp(n,e,t){return EO.apply(this,arguments)}function EO(){return EO=(0,Be.Z)(function*(n,e,t){const i=St(n),r=[],a=[],u=[];var g;i.sc.isEmpty()||(i.sc.forEach((g,y)=>{u.push(i.dc(y,e,t).then(C=>{if(C){i.isPrimaryClient&&i.sharedClientState.updateQueryState(y.targetId,C.fromCache?"not-current":"current"),r.push(C);const S=MN.Ci(y.targetId,C);a.push(S)}}))}),yield Promise.all(u),i.nc.Wo(r),yield(g=(0,Be.Z)(function*(y,C){const S=St(y);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Se.forEach(C,H=>Se.forEach(H.Si,Z=>S.persistence.referenceDelegate.addReference(R,H.targetId,Z)).next(()=>Se.forEach(H.Di,Z=>S.persistence.referenceDelegate.removeReference(R,H.targetId,Z)))))}catch(R){if(!Cg(R))throw R;lt("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const H=R.targetId;if(!R.fromCache){const Z=S.Ui.get(H),me=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);S.Ui=S.Ui.insert(H,me)}}}),function(y,C){return g.apply(this,arguments)})(i.localStore,a))}),EO.apply(this,arguments)}function u$(n,e){return xO.apply(this,arguments)}function xO(){return xO=(0,Be.Z)(function*(n,e){const t=St(n);if(!t.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const i=yield fL(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(u=>{u.forEach(g=>{g.reject(new et(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield sp(t,i.ji)}var r}),xO.apply(this,arguments)}function d$(n,e){const t=St(n),i=t.uc.get(e);if(i&&i.ec)return Rn().add(i.key);{let r=Rn();const a=t.ic.get(e);if(!a)return r;for(const u of a){const g=t.sc.get(u);r=r.unionWith(g.view.Qu)}return r}}function h$(n,e){return SO.apply(this,arguments)}function SO(){return SO=(0,Be.Z)(function*(n,e){const t=St(n),i=yield jT(t.localStore,e.query,!0),r=e.view.Zu(i);return t.isPrimaryClient&&IO(t,e.targetId,r.Yu),r}),SO.apply(this,arguments)}function f$(n,e){return AO.apply(this,arguments)}function AO(){return AO=(0,Be.Z)(function*(n,e){const t=St(n);return mL(t.localStore,e).then(i=>sp(t,i))}),AO.apply(this,arguments)}function p$(n,e,t,i){return NO.apply(this,arguments)}function NO(){return NO=(0,Be.Z)(function*(n,e,t,i){const r=St(n),a=yield function(u,g){const y=St(u),C=St(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",S=>C.Tn(S,g).next(R=>R?y.localDocuments.getDocuments(S,R):Se.resolve(null)))}(r.localStore,e);var g;null!==a?("pending"===t?yield f0(r.remoteStore):"acknowledged"===t||"rejected"===t?(CO(r,e,i||null),DO(r,e),g=e,St(St(r.localStore).mutationQueue).An(g)):Bt(),yield sp(r,a)):lt("SyncEngine","Cannot apply mutation batch with id: "+e)}),NO.apply(this,arguments)}function OO(){return OO=(0,Be.Z)(function*(n,e){const t=St(n);if(PO(t),kO(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield UL(t,i.toArray());t.fc=!0,yield iO(t.remoteStore,!0);for(const a of r)ZT(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(v0(t,u),d0(t.localStore,u,!0))),eD(t.remoteStore,u)}),yield r,yield UL(t,i),function(a){const u=St(a);u.uc.forEach((g,y)=>{eD(u.remoteStore,y)}),u.cc.fs(),u.uc=new Map,u.oc=new Ds(Tt.comparator)}(t),t.fc=!1,yield iO(t.remoteStore,!1)}}),OO.apply(this,arguments)}function UL(n,e,t){return MO.apply(this,arguments)}function MO(){return MO=(0,Be.Z)(function*(n,e,t){const i=St(n),r=[],a=[];for(const u of e){let g;const y=i.ic.get(u);if(y&&0!==y.length){g=yield u0(i.localStore,uc(y[0]));for(const C of y){const S=i.sc.get(C),R=yield h$(i,S);R.snapshot&&a.push(R.snapshot)}}else{const C=yield _L(i.localStore,u);g=yield u0(i.localStore,C),yield fO(i,$L(C),u,!1)}r.push(g)}return i.nc.Wo(a),r}),MO.apply(this,arguments)}function $L(n){return YP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _$(n){const e=St(n);return St(St(e.localStore).persistence).vi()}function m$(n,e,t,i){return RO.apply(this,arguments)}function RO(){return RO=(0,Be.Z)(function*(n,e,t,i){const r=St(n);if(r.fc)return void lt("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield mL(r.localStore,JP(a[0])),g=B1.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield sp(r,u,g);break}case"rejected":yield d0(r.localStore,e,!0),v0(r,e,i);break;default:Bt()}}),RO.apply(this,arguments)}function v$(n,e,t){return FO.apply(this,arguments)}function FO(){return FO=(0,Be.Z)(function*(n,e,t){const i=PO(n);if(i.fc){for(const r of e){if(i.ic.has(r)){lt("SyncEngine","Adding an already active target "+r);continue}const a=yield _L(i.localStore,r),u=yield u0(i.localStore,a);yield fO(i,$L(a),u.targetId,!1),ZT(i.remoteStore,u)}for(const r of t)i.ic.has(r)&&(yield d0(i.localStore,r,!1).then(()=>{eD(i.remoteStore,r),v0(i,r)}).catch(Dg))}}),FO.apply(this,arguments)}function PO(n){const e=St(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s$.bind(null,e),e.nc.Wo=YU.bind(null,e.eventManager),e.nc._c=KU.bind(null,e.eventManager),e}function kO(n){const e=St(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a$.bind(null,e),e}class GL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Be.Z)(function*(){t.It=J1(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return hL(this.persistence,new dL,e.initialUser,this.It)}gc(e){return new cL(GT.Bs,this.It)}mc(e){return new wL}terminate(){var e=this;return(0,Be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class HL extends GL{constructor(e,t,i){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield t().call(i,e),yield i.Ec.initialize(i,e),yield kO(i.Ec.syncEngine),yield f0(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return hL(this.persistence,new dL,e.initialUser,this.It)}Ic(e,t){return new cU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const i=new W5(t,this.persistence);return new j5(e.asyncQueue,i)}gc(e){const t=ON(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?hc.withCacheSize(this.cacheSizeBytes):hc.DEFAULT;return new NN(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,CL(),qT(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new wL}}class b$ extends HL{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield t().call(i,e);const r=i.Ec.syncEngine;i.sharedClientState instanceof UN&&(i.sharedClientState.syncEngine={Fr:p$.bind(null,r),$r:m$.bind(null,r),Br:v$.bind(null,r),vi:_$.bind(null,r),Or:f$.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,Be.Z)(function*(u){yield function g$(n,e){return OO.apply(this,arguments)}(i.Ec.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}mc(e){const t=CL();if(!UN.C(t))throw new et(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ON(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UN(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class LO{initialize(e,t){var i=this;return(0,Be.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>BL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=u$.bind(null,i.syncEngine),yield iO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZU}createDatastore(e){const t=J1(e.databaseInfo.databaseId),i=new MU(e.databaseInfo);return new PU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=g=>BL(this.syncEngine,g,0),u=DL.C()?new DL:new AU,new LU(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,g,y,C){const S=new t$(i,r,a,u,g,y);return C&&(S.fc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Be.Z)(function*(t){const i=St(t);lt("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield h0(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jL(n,e=10240){let t=0;return{read:()=>(0,Be.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class KT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class w${constructor(e,t){this.bc=e,this.It=t,this.metadata=new Jo,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Be.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Be.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const i=e.Pc.decode(t),r=Number(i);isNaN(r)&&e.Sc(`length string (${i}) is not valid number`);const a=yield e.Dc(r);return new QU(JSON.parse(a),t.length+r)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Be.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Dc(e){var t=this;return(0,Be.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const i=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.bc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class D${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new et(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Be.Z)(function*(a,u){const g=St(a),y=G1(g.It)+"/documents",C={documents:u.map(Z=>$1(g.It,Z))},S=yield g.fo("BatchGetDocuments",y,C,u.length),R=new Map;S.forEach(Z=>{const ce=function T3(n,e){return"found"in e?function(t,i){fn(!!i.found);const r=Zh(t,i.found.name),a=Xo(i.found.updateTime),u=new wa({mapValue:{fields:i.found.fields}});return Sr.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){fn(!!i.missing),fn(!!i.readTime);const r=Zh(t,i.missing),a=Xo(i.readTime);return Sr.newNoDocument(r,a)}(n,e):Bt()}(g.It,Z);R.set(ce.key.toString(),ce)});const H=[];return u.forEach(Z=>{const ce=R.get(Z.toString());fn(!!ce),H.push(ce)}),H}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new s0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Tt.fromPath(r);e.mutations.push(new mN(a,e.precondition(a)))}),yield(i=(0,Be.Z)(function*(r,a){const u=St(r),g=G1(u.It)+"/documents",y={writes:a.map(C=>H1(u.It,C))};yield u.co("Commit",g,y)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bt();t=ln.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new et(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ln.min())?es.exists(!1):es.updateTime(t):es.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ln.min()))throw new et(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return es.updateTime(t)}return es.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class C${constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new $N(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Be.Z)(function*(){const t=new D$(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Oc(a)}))}).catch(r=>{e.Oc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!x1(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fk(t)}return!1}}class I${constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Qo.UNAUTHENTICATED,this.clientId=IP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Be.Z)(function*(g){lt("FirestoreClient","Received user=",g.uid),yield a.authCredentialListener(g),a.user=g});return function(g){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(lt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=g0(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function WL(n,e){return BO.apply(this,arguments)}function BO(){return BO=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Be.Z)(function*(a){i.isEqual(a)||(yield fL(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),BO.apply(this,arguments)}function zL(n,e){return VO.apply(this,arguments)}function VO(){return VO=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield UO(n);lt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>NL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>NL(e.remoteStore,a)),n.onlineComponents=e}),VO.apply(this,arguments)}function UO(n){return $O.apply(this,arguments)}function $O(){return $O=(0,Be.Z)(function*(n){return n.offlineComponents||(lt("FirestoreClient","Using default OfflineComponentProvider"),yield WL(n,new GL)),n.offlineComponents}),$O.apply(this,arguments)}function QT(n){return GO.apply(this,arguments)}function GO(){return GO=(0,Be.Z)(function*(n){return n.onlineComponents||(lt("FirestoreClient","Using default OnlineComponentProvider"),yield zL(n,new LO)),n.onlineComponents}),GO.apply(this,arguments)}function qL(n){return UO(n).then(e=>e.persistence)}function JT(n){return UO(n).then(e=>e.localStore)}function ZL(n){return QT(n).then(e=>e.remoteStore)}function HO(n){return QT(n).then(e=>e.syncEngine)}function y0(n){return jO.apply(this,arguments)}function jO(){return jO=(0,Be.Z)(function*(n){const e=yield QT(n),t=e.eventManager;return t.onListen=n$.bind(null,e.syncEngine),t.onUnlisten=i$.bind(null,e.syncEngine),t}),jO.apply(this,arguments)}function YL(n,e,t={}){const i=new Jo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,a,u,g,y){const C=new KT({next:R=>{a.enqueueAndForget(()=>lO(r,S));const H=R.docs.has(u);!H&&R.fromCache?y.reject(new et(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&g&&"server"===g.source?y.reject(new et(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new dO(Xy(u.path),C,{includeMetadataChanges:!0,Nu:!0});return oO(r,S)}(yield y0(n),n.asyncQueue,e,t,i)})),i.promise}function KL(n,e,t={}){const i=new Jo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,a,u,g,y){const C=new KT({next:R=>{a.enqueueAndForget(()=>lO(r,S)),R.fromCache&&"server"===g.source?y.reject(new et(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new dO(u,C,{includeMetadataChanges:!0,Nu:!0});return oO(r,S)}(yield y0(n),n.asyncQueue,e,t,i)})),i.promise}const QL=new Map;function WO(n,e,t){if(!t)throw new et(Fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JL(n,e,t,i){if(!0===e&&!0===i)throw new et(Fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XL(n){if(!Tt.isDocumentKey(n))throw new et(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function e2(n){if(Tt.isDocumentKey(n))throw new et(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Bt()}function ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new et(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XT(n);throw new et(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function t2(n,e){if(e<=0)throw new et(Fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class n2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new et(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new et(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tD{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new et(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new et(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new M5;switch(t.type){case"gapi":return new k5(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new et(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QL.get(e);t&&(lt("ComponentProvider","Removing Datastore"),QL.delete(e),t.terminate())}(this),Promise.resolve()}}class $r{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class qa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qa(this.firestore,e,this._query)}}class Kh extends qa{constructor(e,t,i){super(e,t,Xy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new Tt(e))}withConverter(e){return new Kh(this.firestore,e,this._path)}}function r2(n,e,...t){if(n=(0,Mn.m9)(n),WO("collection","path",e),n instanceof tD){const i=_i.fromString(e,...t);return e2(i),new Kh(n,null,i)}{if(!(n instanceof $r||n instanceof Kh))throw new et(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_i.fromString(e,...t));return e2(i),new Kh(n.firestore,null,i)}}function eE(n,e,...t){if(n=(0,Mn.m9)(n),1===arguments.length&&(e=IP.R()),WO("doc","path",e),n instanceof tD){const i=_i.fromString(e,...t);return XL(i),new $r(n,null,new Tt(i))}{if(!(n instanceof $r||n instanceof Kh))throw new et(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_i.fromString(e,...t));return XL(i),new $r(n.firestore,n instanceof Kh?n.converter:null,new Tt(i))}}function s2(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),(n instanceof $r||n instanceof Kh)&&(e instanceof $r||e instanceof Kh)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function o2(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),n instanceof qa&&e instanceof qa&&n.firestore===e.firestore&&R1(n._query,e._query)&&n.converter===e.converter}class P${constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new $N(this,"async_queue_retry"),this.jc=()=>{const t=qT();t&&lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=qT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=qT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Jo;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Be.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Cg(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{throw this.qc=i,this.Kc=!1,$s("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=t,t}enqueueAfterDelay(e,t,i){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=sO.createAndSchedule(this,e,t,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&Bt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Be.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function zO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class k${constructor(){this._progressObserver={},this._taskCompletionResolver=new Jo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ts extends tD{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new P$,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||a2(this),this._firestoreClient.terminate()}}function ho(n){return n._firestoreClient||a2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a2(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Z5(n._databaseId,a,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var a,g;n._firestoreClient=new I$(n._authCredentials,n._appCheckCredentials,n._queue,i)}function l2(n,e,t){const i=new Jo;return n.asyncQueue.enqueue((0,Be.Z)(function*(){try{yield WL(n,t),yield zL(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===Fe.FAILED_PRECONDITION||u.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;hm("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function c2(n){if(n._initialized||n._terminated)throw new et(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class op{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new et(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ws(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qh(xo.fromBase64String(e))}catch(t){throw new et(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qh(xo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nm{constructor(e){this._methodName=e}}class tE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}const z$=/^__.*__$/;class q${constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new rp(e,this.data,this.fieldMask,t,this.fieldTransforms):new r0(e,this.data,t,this.fieldTransforms)}}class u2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new rp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class nE{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new nE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return sE(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(d2(this.na)&&z$.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Z${constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||J1(e)}fa(e,t,i,r=!1){return new nE({na:e,methodName:t,la:i,path:ws.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Om(n){const e=n._freezeSettings(),t=J1(n._databaseId);return new Z$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iE(n,e,t,i,r,a={}){const u=n.fa(a.merge||a.mergeFields?2:0,e,t,r);KO("Data must be an object, but it was:",u,i);const g=p2(i,u);let y,C;if(a.merge)y=new cu(u.fieldMask),C=u.fieldTransforms;else if(a.mergeFields){const S=[];for(const R of a.mergeFields){const H=QO(e,R,t);if(!u.contains(H))throw new et(Fe.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);_2(S,H)||S.push(H)}y=new cu(S),C=u.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,C=u.fieldTransforms;return new q$(new wa(g),y,C)}class nD extends Nm{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nD}}function h2(n,e,t){return new nE({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class qO extends Nm{_toFieldTransform(e){return new F1(e.path,new t0)}isEqual(e){return e instanceof qO}}class Y$ extends Nm{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=h2(this,e,!0),i=this.da.map(a=>Mm(a,t)),r=new bm(i);return new F1(e.path,r)}isEqual(e){return this===e}}class K$ extends Nm{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=h2(this,e,!0),i=this.da.map(a=>Mm(a,t)),r=new wm(i);return new F1(e.path,r)}isEqual(e){return this===e}}class Q$ extends Nm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new n0(e.It,nk(e.It,this._a));return new F1(e.path,t)}isEqual(e){return this===e}}function ZO(n,e,t,i){const r=n.fa(1,e,t);KO("Data must be an object, but it was:",r,i);const a=[],u=wa.empty();gm(i,(y,C)=>{const S=rE(e,y,t);C=(0,Mn.m9)(C);const R=r.ua(S);if(C instanceof nD)a.push(S);else{const H=Mm(C,R);null!=H&&(a.push(S),u.set(S,H))}});const g=new cu(a);return new u2(u,g,r.fieldTransforms)}function YO(n,e,t,i,r,a){const u=n.fa(1,e,t),g=[QO(e,i,t)],y=[r];if(a.length%2!=0)throw new et(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<a.length;H+=2)g.push(QO(e,a[H])),y.push(a[H+1]);const C=[],S=wa.empty();for(let H=g.length-1;H>=0;--H)if(!_2(C,g[H])){const Z=g[H];let ce=y[H];ce=(0,Mn.m9)(ce);const me=u.ua(Z);if(ce instanceof nD)C.push(Z);else{const De=Mm(ce,me);null!=De&&(C.push(Z),S.set(Z,De))}}const R=new cu(C);return new u2(S,R,u.fieldTransforms)}function f2(n,e,t,i=!1){return Mm(t,n.fa(i?4:3,e))}function Mm(n,e){if(g2(n=(0,Mn.m9)(n)))return KO("Unsupported field value:",e,n),p2(n,e);if(n instanceof Nm)return function(t,i){if(!d2(i.na))throw i.aa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let g=Mm(u,i.ca(a));null==g&&(g={nullValue:"NULL_VALUE"}),r.push(g),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nk(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Xr.fromDate(t);return{timestampValue:U1(i.It,r)}}if(t instanceof Xr){const r=new Xr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:U1(i.It,r)}}if(t instanceof tE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qh)return{bytesValue:Ck(i.It,t._byteString)};if(t instanceof $r){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:vN(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.aa(`Unsupported field value: ${XT(t)}`)}(n,e)}function p2(n,e){const t={};return MP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gm(n,(i,r)=>{const a=Mm(r,e.ia(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function g2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xr||n instanceof tE||n instanceof Qh||n instanceof $r||n instanceof Nm)}function KO(n,e,t){if(!g2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=XT(t);throw e.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function QO(n,e,t){if((e=(0,Mn.m9)(e))instanceof op)return e._internalPath;if("string"==typeof e)return rE(n,e);throw sE("Field path arguments must be of type string or ",n,!1,void 0,t)}const J$=new RegExp("[~\\*/\\[\\]]");function rE(n,e,t){if(e.search(J$)>=0)throw sE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new op(...e.split("."))._internalPath}catch{throw sE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sE(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(a||u)&&(y+=" (found",a&&(y+=` in field ${i}`),u&&(y+=` in document ${r}`),y+=")"),new et(Fe.INVALID_ARGUMENT,g+n+y)}function _2(n,e){return n.some(t=>t.isEqual(e))}class iD{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new X$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class X$ extends iD{data(){return super.data()}}function oE(n,e){return"string"==typeof e?rE(n,e):e instanceof op?e._internalPath:e._delegate._internalPath}class Rm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ap extends iD{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(oE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class rD extends ap{data(e={}){return super.data(e)}}class Pg{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Rm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new rD(this._firestore,this._userDataWriter,i.key,i,new Rm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new rD(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Rm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const g=new rD(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Rm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,C=-1;return 0!==u.type&&(y=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),C=a.indexOf(u.doc.key)),{type:eG(u.type),doc:g,oldIndex:y,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function m2(n,e){return n instanceof ap&&e instanceof ap?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Pg&&e instanceof Pg&&n._firestore===e._firestore&&o2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function v2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new et(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sD{}function kg(n,...e){for(const t of e)n=t._apply(n);return n}class tG extends sD{constructor(e,t,i){super(),this.wa=e,this.ma=t,this.ga=i,this.type="where"}_apply(e){const t=Om(e.firestore),i=function(r,a,u,g,y,C,S){let R;if(y.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){I2(S,C);const Z=[];for(const ce of S)Z.push(C2(g,r,ce));R={arrayValue:{values:Z}}}else R=C2(g,r,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||I2(S,C),R=f2(u,"where",S,"in"===C||"not-in"===C);const H=Da.create(y,C,R);return function(Z,ce){if(ce.dt()){const De=fN(Z);if(null!==De&&!De.isEqual(ce.field))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${ce.field.toString()}'`);const ot=hN(Z);null!==ot&&T2(0,ce.field,ot)}const me=function(De,ot){for(const ct of De.filters)if(ot.indexOf(ct.op)>=0)return ct.op;return null}(Z,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ce.op));if(null!==me)throw new et(Fe.INVALID_ARGUMENT,me===ce.op?`Invalid query. You cannot use more than one '${ce.op.toString()}' filter.`:`Invalid query. You cannot use '${ce.op.toString()}' filters with '${me.toString()}' filters.`)}(r,H),H}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new qa(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new ip(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class iG extends sD{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Jy(r,a);return function(g,y){if(null===hN(g)){const C=fN(g);null!==C&&T2(0,C,y.field)}}(i,u),u}(e._query,this.wa,this.ya);return new qa(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new ip(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class y2 extends sD{constructor(e,t,i){super(),this.type=e,this.pa=t,this.Ia=i}_apply(e){return new qa(e.firestore,e.converter,ST(e._query,this.pa,this.Ia))}}class b2 extends sD{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=D2(e,this.type,this.Ta,this.Ea);return new qa(e.firestore,e.converter,(r=t,new ip((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class w2 extends sD{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=D2(e,this.type,this.Ta,this.Ea);return new qa(e.firestore,e.converter,(r=t,new ip((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function D2(n,e,t,i){if(t[0]=(0,Mn.m9)(t[0]),t[0]instanceof iD)return function(r,a,u,g,y){if(!g)throw new et(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const C=[];for(const S of e0(r))if(S.field.isKeyField())C.push(vm(a,g.key));else{const R=g.data.field(S.field);if(cN(R))throw new et(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const H=S.field.canonicalString();throw new et(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}C.push(R)}return new Sg(C,y)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Om(n.firestore);return function(a,u,g,y,C,S){const R=a.explicitOrderBy;if(C.length>R.length)throw new et(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let Z=0;Z<C.length;Z++){const ce=C[Z];if(R[Z].field.isKeyField()){if("string"!=typeof ce)throw new et(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ce}`);if(!pN(a)&&-1!==ce.indexOf("/"))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ce}' contains a slash.`);const me=a.path.child(_i.fromString(ce));if(!Tt.isDocumentKey(me))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const De=new Tt(me);H.push(vm(u,De))}else{const me=f2(g,y,ce);H.push(me)}}return new Sg(H,S)}(n._query,n.firestore._databaseId,r,e,t,i)}}function C2(n,e,t){if("string"==typeof(t=(0,Mn.m9)(t))){if(""===t)throw new et(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pN(e)&&-1!==t.indexOf("/"))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(_i.fromString(t));if(!Tt.isDocumentKey(i))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vm(n,new Tt(i))}if(t instanceof $r)return vm(n,t._key);throw new et(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XT(t)}.`)}function I2(n,e){if(!Array.isArray(n)||0===n.length)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new et(Fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function T2(n,e,t){if(!t.isEqual(e))throw new et(Fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const dG={maxAttempts:5};class JO{convertValue(e,t="none"){switch(mm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_m(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bt()}}convertObject(e,t){const i={};return gm(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new tE(Cs(e.latitude),Cs(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=FP(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(E1(e));default:return null}}convertTimestamp(e){const t=Ig(e);return new Xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=_i.fromString(e);fn(Rk(i));const r=new Tg(i.get(1),i.get(3)),a=new Tt(i.popFirst(5));return r.isEqual(t)||$s(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function aE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class hG extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}class E2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Om(e)}set(e,t,i){this._verifyNotCommitted();const r=Lg(e,this._firestore),a=aE(r.converter,t,i),u=iE(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,es.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Lg(e,this._firestore);let u;return u="string"==typeof(t=(0,Mn.m9)(t))||t instanceof op?YO(this._dataReader,"WriteBatch.update",a._key,t,i,r):ZO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,es.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lg(e,this._firestore);return this._mutations=this._mutations.concat(new s0(t._key,es.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lg(n,e){if((n=(0,Mn.m9)(n)).firestore!==e)throw new et(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Fm extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function x2(n,e,t){n=ui(n,$r);const i=ui(n.firestore,ts),r=aE(n.converter,e,t);return b0(i,[iE(Om(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,es.none())])}function S2(n,e,t,...i){n=ui(n,$r);const r=ui(n.firestore,ts),a=Om(r);let u;return u="string"==typeof(e=(0,Mn.m9)(e))||e instanceof op?YO(a,"updateDoc",n._key,e,t,i):ZO(a,"updateDoc",n._key,e),b0(r,[u.toMutation(n._key,es.exists(!0))])}function A2(n,...e){var t,i,r;n=(0,Mn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||zO(e[u])||(a=e[u],u++);const g={includeMetadataChanges:a.includeMetadataChanges};if(zO(e[u])){const R=e[u];e[u]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[u+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),e[u+2]=null===(r=R.complete)||void 0===r?void 0:r.bind(R)}let y,C,S;if(n instanceof $r)C=ui(n.firestore,ts),S=Xy(n._key.path),y={next:R=>{e[u]&&e[u](XO(C,n,R))},error:e[u+1],complete:e[u+2]};else{const R=ui(n,qa);C=ui(R.firestore,ts),S=R._query;const H=new Fm(C);y={next:Z=>{e[u]&&e[u](new Pg(C,H,R,Z))},error:e[u+1],complete:e[u+2]},v2(n._query)}return function(R,H,Z,ce){const me=new KT(ce),De=new dO(H,me,Z);return R.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return oO(yield y0(R),De)})),()=>{me.Rc(),R.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return lO(yield y0(R),De)}))}}(ho(C),S,g,y)}function b0(n,e){return function(t,i){const r=new Jo;return t.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function r$(n,e,t){return _O.apply(this,arguments)}(yield HO(t),i,r)})),r.promise}(ho(n),e)}function XO(n,e,t){const i=t.docs.get(e._key),r=new Fm(n);return new ap(n,r,e._key,i,new Rm(t.hasPendingWrites,t.fromCache),e.converter)}class DG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Om(e)}get(e){const t=Lg(e,this._firestore),i=new hG(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Bt();const a=r[0];if(a.isFoundDocument())return new iD(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new iD(this._firestore,i,t._key,null,t.converter);throw Bt()})}set(e,t,i){const r=Lg(e,this._firestore),a=aE(r.converter,t,i),u=iE(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=Lg(e,this._firestore);let u;return u="string"==typeof(t=(0,Mn.m9)(t))||t instanceof op?YO(this._dataReader,"Transaction.update",a._key,t,i,r):ZO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Lg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lg(e,this._firestore),i=new Fm(this._firestore);return super.get(e).then(r=>new ap(this._firestore,i,t._key,r._document,new Rm(!1,!1),t.converter))}}function eM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new et("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function O2(){if(typeof Uint8Array>"u")throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function M2(){if(!function z5(){return typeof atob<"u"}())throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Zy=Gd.SDK_VERSION,(0,Gd._registerComponent)(new Hy.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ts(new F5(t.getProvider("auth-internal")),new L5(t.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new et(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tg(g.options.projectId,y)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Gd.registerVersion)(wP,"3.5.0",n),(0,Gd.registerVersion)(wP,"3.5.0","esm2017")}();class oD{constructor(e){this._delegate=e}static fromBase64String(e){return M2(),new oD(Qh.fromBase64String(e))}static fromUint8Array(e){return O2(),new oD(Qh.fromUint8Array(e))}toBase64(){return M2(),this._delegate.toBase64()}toUint8Array(){return O2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tM(n){return function OG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class MG{enableIndexedDbPersistence(e,t){return function B$(n,e){c2(n=ui(n,ts));const t=ho(n),i=n._freezeSettings(),r=new LO;return l2(t,r,new HL(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function V$(n){c2(n=ui(n,ts));const e=ho(n),t=n._freezeSettings(),i=new LO;return l2(e,i,new b$(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function U$(n){if(n._initialized&&!n._terminated)throw new et(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Jo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{yield(t=(0,Be.Z)(function*(i){if(!Hd.C())return Promise.resolve();const r=i+"main";yield Hd.delete(r)}),function(i){return t.apply(this,arguments)})(ON(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class R2{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function R$(n,e,t,i={}){var r;const a=(n=ui(n,tD))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&hm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,g;if("string"==typeof i.mockUserToken)u=i.mockUserToken,g=Qo.MOCK_USER;else{u=(0,Mn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new et(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qo(y)}n._authCredentials=new R5(new DP(u,g))}}(this._delegate,e,t,i)}enableNetwork(){return function G$(n){return function T$(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield qL(n),t=yield ZL(n);return e.setNetworkEnabled(!0),function(i){const r=St(i);return r._u.delete(0),X1(r)}(t)}))}(ho(n=ui(n,ts)))}(this._delegate)}disableNetwork(){return function H$(n){return function E$(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield qL(n),t=yield ZL(n);return e.setNetworkEnabled(!1),(i=(0,Be.Z)(function*(r){const a=St(r);a._u.add(0),yield h0(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ho(n=ui(n,ts)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,JL("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $$(n){return function(e){const t=new Jo;return e.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function l$(n,e){return wO.apply(this,arguments)}(yield HO(e),t)})),t.promise}(ho(n=ui(n,ts)))}(this._delegate)}onSnapshotsInSync(e){return function wG(n,e){return function A$(n,e){const t=new KT(e);return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield y0(n),r=t,St(i).Ru.add(r),void r.next();var i,r})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield y0(n),r=t,void St(i).Ru.delete(r);var i,r}))}}(ho(n=ui(n,ts)),zO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new w0(this,r2(this._delegate,e))}catch(t){throw Il(t,"collection()","Firestore.collection()")}}doc(e){try{return new td(this,eE(this._delegate,e))}catch(t){throw Il(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Tl(this,function F$(n,e){if(n=ui(n,tD),WO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new et(Fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qa(n,null,(t=e,new ip(_i.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Il(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function CG(n,e,t){n=ui(n,ts);const i=Object.assign(Object.assign({},dG),t);return function(r){if(r.maxAttempts<1)throw new et(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function N$(n,e,t){const i=new Jo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){const r=yield(a=n,QT(a).then(u=>u.datastore));var a;new C$(n.asyncQueue,r,t,e,i).run()})),i.promise}(ho(n),r=>e(new DG(n,r)),i)}(this._delegate,t=>e(new F2(this,t)))}batch(){return ho(this._delegate),new P2(new E2(this._delegate,e=>b0(this._delegate,e)))}loadBundle(e){return function j$(n,e){const t=ho(n=ui(n,ts)),i=new k$;return function O$(n,e,t,i){const r=function(a,u){let g;return g="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,C){if(y instanceof Uint8Array)return jL(y,C);if(y instanceof ArrayBuffer)return jL(new Uint8Array(y),C);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new w$(y,u);var y}(t,J1(e));n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){!function y$(n,e,t){const i=St(n);var r;(r=(0,Be.Z)(function*(a,u,g){try{const y=yield u.getMetadata();if(yield function(H,Z){const ce=St(H),me=Xo(Z.createTime);return ce.persistence.runTransaction("hasNewerBundle","readonly",De=>ce.Ns.getBundleMetadata(De,Z.id)).then(De=>!!De&&De.createTime.compareTo(me)>=0)}(a.localStore,y))return yield u.close(),g._completeWith({taskState:"Success",documentsLoaded:(H=y).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);g._updateProgress(RL(y));const C=new JU(y,a.localStore,u.It);let S=yield u.wc();for(;S;){const H=yield C.Ou(S);H&&g._updateProgress(H),S=yield u.wc()}const R=yield C.complete();return yield sp(a,R.Bu,void 0),yield function(H,Z){const ce=St(H);return ce.persistence.runTransaction("Save bundle","readwrite",me=>ce.Ns.saveBundleMetadata(me,Z))}(a.localStore,y),g._completeWith(R.progress),Promise.resolve(R.$u)}catch(y){return hm("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var H}),function(a,u,g){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield HO(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function W$(n,e){return function M$(n,e){return n.asyncQueue.enqueue((0,Be.Z)(function*(){return function(t,i){const r=St(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield JT(n),e)}))}(ho(n=ui(n,ts)),e).then(t=>t?new qa(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Tl(this,t):null)}}class lE extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new oD(new Qh(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return td.forKey(t,this.firestore,null)}}class F2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lE(e)}get(e){const t=km(e);return this._delegate.get(t).then(i=>new aD(this._firestore,new ap(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=km(e);return i?(eM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=km(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=km(e);return this._delegate.delete(t),this}}class P2{constructor(e){this._delegate=e}set(e,t,i){const r=km(e);return i?(eM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=km(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=km(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new rD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lD(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Pm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Pm(e,new lE(e),t),r.set(t,a)),a}}Pm.INSTANCES=new WeakMap;class td{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new td(t,new $r(t._delegate,i,new Tt(e)))}static forKey(e,t,i){return new td(t,new $r(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new w0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new w0(this.firestore,r2(this._delegate,e))}catch(t){throw Il(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mn.m9)(e))instanceof $r&&s2(this._delegate,e)}set(e,t){t=eM("DocumentReference.set",t);try{return t?x2(this._delegate,e,t):x2(this._delegate,e)}catch(i){throw Il(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?S2(this._delegate,e):S2(this._delegate,e,t,...i)}catch(r){throw Il(r,"updateDoc()","DocumentReference.update()")}}delete(){return function yG(n){return b0(ui(n.firestore,ts),[new s0(n._key,es.none())])}(this._delegate)}onSnapshot(...e){const t=k2(e),i=L2(e,r=>new aD(this.firestore,new ap(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return A2(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function pG(n){n=ui(n,$r);const e=ui(n.firestore,ts),t=ho(e),i=new Fm(e);return function x$(n,e){const t=new Jo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,a,u){try{const g=yield function(y,C){const S=St(y);return S.persistence.runTransaction("read document","readonly",R=>S.localDocuments.getDocument(R,C))}(r,a);g.isFoundDocument()?u.resolve(g):g.isNoDocument()?u.resolve(null):u.reject(new et(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=g0(g,`Failed to get document '${a} from cache`);u.reject(y)}}),function(r,a,u){return i.apply(this,arguments)})(yield JT(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ap(e,i,n._key,r,new Rm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function gG(n){n=ui(n,$r);const e=ui(n.firestore,ts);return YL(ho(e),n._key,{source:"server"}).then(t=>XO(e,n,t))}(this._delegate):function fG(n){n=ui(n,$r);const e=ui(n.firestore,ts);return YL(ho(e),n._key).then(t=>XO(e,n,t))}(this._delegate),t.then(i=>new aD(this.firestore,new ap(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new td(this.firestore,this._delegate.withConverter(e?Pm.getInstance(this.firestore,e):null))}}function Il(n,e,t){return n.message=n.message.replace(e,t),n}function k2(n){for(const e of n)if("object"==typeof e&&!tM(e))return e;return{}}function L2(n,e){var t,i;let r;return r=tM(n[0])?n[0]:tM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class aD{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new td(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return m2(this._delegate,e._delegate)}}class lD extends aD{data(e){const t=this._delegate.data(e);return function O5(n,e){n||Bt()}(void 0!==t),t}}class Tl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lE(e)}where(e,t,i){try{return new Tl(this.firestore,kg(this._delegate,function nG(n,e,t){const i=e,r=oE("where",n);return new tG(r,i,t)}(e,t,i)))}catch(r){throw Il(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Tl(this.firestore,kg(this._delegate,function rG(n,e="asc"){const t=e,i=oE("orderBy",n);return new iG(i,t)}(e,t)))}catch(i){throw Il(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Tl(this.firestore,kg(this._delegate,function sG(n){return t2("limit",n),new y2("limit",n,"F")}(e)))}catch(t){throw Il(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Tl(this.firestore,kg(this._delegate,function oG(n){return t2("limitToLast",n),new y2("limitToLast",n,"L")}(e)))}catch(t){throw Il(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Tl(this.firestore,kg(this._delegate,function aG(...n){return new b2("startAt",n,!0)}(...e)))}catch(t){throw Il(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Tl(this.firestore,kg(this._delegate,function lG(...n){return new b2("startAfter",n,!1)}(...e)))}catch(t){throw Il(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Tl(this.firestore,kg(this._delegate,function cG(...n){return new w2("endBefore",n,!1)}(...e)))}catch(t){throw Il(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Tl(this.firestore,kg(this._delegate,function uG(...n){return new w2("endAt",n,!0)}(...e)))}catch(t){throw Il(t,"endAt()","Query.endAt()")}}isEqual(e){return o2(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function mG(n){n=ui(n,qa);const e=ui(n.firestore,ts),t=ho(e),i=new Fm(e);return function S$(n,e){const t=new Jo;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,a,u){try{const g=yield jT(r,a,!0),y=new kL(a,g.Hi),C=y.ju(g.documents),S=y.applyChanges(C,!1);u.resolve(S.snapshot)}catch(g){const y=g0(g,`Failed to execute query '${a} against cache`);u.reject(y)}}),function(r,a,u){return i.apply(this,arguments)})(yield JT(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Pg(e,i,n,r))}(this._delegate):"server"===e?.source?function vG(n){n=ui(n,qa);const e=ui(n.firestore,ts),t=ho(e),i=new Fm(e);return KL(t,n._query,{source:"server"}).then(r=>new Pg(e,i,n,r))}(this._delegate):function _G(n){n=ui(n,qa);const e=ui(n.firestore,ts),t=ho(e),i=new Fm(e);return v2(n._query),KL(t,n._query).then(r=>new Pg(e,i,n,r))}(this._delegate),t.then(i=>new nM(this.firestore,new Pg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=k2(e),i=L2(e,r=>new nM(this.firestore,new Pg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return A2(this._delegate,t,i)}withConverter(e){return new Tl(this.firestore,this._delegate.withConverter(e?Pm.getInstance(this.firestore,e):null))}}class FG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Tl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lD(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new FG(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new lD(this._firestore,i))})}isEqual(e){return m2(this._delegate,e._delegate)}}class w0 extends Tl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new td(this.firestore,e):null}doc(e){try{return new td(this.firestore,void 0===e?eE(this._delegate):eE(this._delegate,e))}catch(t){throw Il(t,"doc()","CollectionReference.doc()")}}add(e){return function bG(n,e){const t=ui(n.firestore,ts),i=eE(n),r=aE(n.converter,e);return b0(t,[iE(Om(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,es.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new td(this.firestore,t))}isEqual(e){return s2(this._delegate,e._delegate)}withConverter(e){return new w0(this.firestore,this._delegate.withConverter(e?Pm.getInstance(this.firestore,e):null))}}function km(n){return ui(n,$r)}class iM{constructor(...e){this._delegate=new op(...e)}static documentId(){return new iM(ws.keyField().canonicalString())}isEqual(e){return(e=(0,Mn.m9)(e))instanceof op&&this._delegate._internalPath.isEqual(e._internalPath)}}class Lm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function TG(){return new qO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Lm(e)}static delete(){const e=function IG(){return new nD("deleteField")}();return e._methodName="FieldValue.delete",new Lm(e)}static arrayUnion(...e){const t=function EG(...n){return new Y$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Lm(t)}static arrayRemove(...e){const t=function xG(...n){return new K$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Lm(t)}static increment(e){const t=function SG(n){return new Q$("increment",n)}(e);return t._methodName="FieldValue.increment",new Lm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const PG={Firestore:R2,GeoPoint:tE,Timestamp:Xr,Blob:oD,Transaction:F2,WriteBatch:P2,DocumentReference:td,DocumentSnapshot:aD,Query:Tl,QueryDocumentSnapshot:lD,QuerySnapshot:nM,CollectionReference:w0,FieldPath:iM,FieldValue:Lm,setLogLevel:function RG(n){!function N5(n){wg.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function LG(n){(function kG(n,e){n.INTERNAL.registerComponent(new Hy.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},PG)))})(n,(e,t)=>new R2(e,t,new MG)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(sF.Z);var cE=j(5363);function B2(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Uo.B)({connector:()=>new Rs(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function V2(n,e){return(0,Ps.m)(e)?zn(()=>n,e):zn(()=>n)}var rM=j(9468);j(5867);const $2=new Map,GG={activated:!1,tokenObservers:[]},HG={initialized:!1,enabled:!1};function na(n){return $2.get(n)||GG}function jd(n,e){$2.set(n,e)}function dE(){return HG}class ZG{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Be.Z)(function*(){t.stop();try{t.pending=new Mn.BH,yield function YG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const El=new Mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function H2(n){if(!na(n).activated)throw El.create("use-before-activation",{appName:n.name})}function lM(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,Be.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const Z=yield u.getHeartbeatsHeader();Z&&(a["X-Firebase-Client"]=Z)}const g={method:"POST",body:JSON.stringify(e),headers:a};let y,C;try{y=yield fetch(n,g)}catch(Z){throw El.create("fetch-network-error",{originalErrorMessage:null===(i=Z)||void 0===i?void 0:i.message})}if(200!==y.status)throw El.create("fetch-status-error",{httpStatus:y.status});try{C=yield y.json()}catch(Z){throw El.create("fetch-parse-error",{originalErrorMessage:null===(r=Z)||void 0===r?void 0:r.message})}const S=C.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw El.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const R=1e3*Number(S[1]),H=Date.now();return{token:C.token,expireTimeMillis:H+R,issuedAtTimeMillis:H}}),cM.apply(this,arguments)}function XG(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const cD="firebase-app-check-store";let pE=null;function W2(){return pE||(pE=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(El.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(cD,{keyPath:"compositeKey"})}}catch(i){e(El.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),pE)}function uM(){return uM=(0,Be.Z)(function*(n,e){const i=(yield W2()).transaction(cD,"readwrite"),a=i.objectStore(cD).put({compositeKey:n,value:e});return new Promise((u,g)=>{a.onsuccess=y=>{u()},i.onerror=y=>{var C;g(El.create("storage-set",{originalErrorMessage:null===(C=y.target.error)||void 0===C?void 0:C.message}))}})}),uM.apply(this,arguments)}const uD=new vg.Yd("@firebase/app-check");function Y2(n,e){return(0,Mn.hl)()?function iH(n,e){return function z2(n,e){return uM.apply(this,arguments)}(function Z2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{uD.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function K2(){return dE().enabled}function Q2(){return pM.apply(this,arguments)}function pM(){return pM=(0,Be.Z)(function*(){const n=dE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pM.apply(this,arguments)}const cH={error:"UNKNOWN_ERROR"};function uH(n){return Mn.US.encodeString(JSON.stringify(n),!1)}function gE(n){return gM.apply(this,arguments)}function gM(){return gM=(0,Be.Z)(function*(n,e=!1){const t=n.app;H2(t);const i=na(t);let a,r=i.token;if(!r){const y=yield i.cachedTokenPromise;y&&_E(y)&&(r=y)}if(!e&&r&&_E(r))return{token:r.token};let g,u=!1;if(K2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=lM(XG(t,yield Q2()),n.heartbeatServiceProvider).then(C=>(i.exchangeTokenPromise=void 0,C)),u=!0);const y=yield i.exchangeTokenPromise;return yield Y2(t,y),jd(t,Object.assign(Object.assign({},i),{token:y})),{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(y=>(i.exchangeTokenPromise=void 0,y)),u=!0),r=yield i.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?uD.warn(y.message):uD.error(y),a=y}return r?(g={token:r.token},jd(t,Object.assign(Object.assign({},i),{token:r})),yield Y2(t,r)):g=hH(a),u&&X2(t,g),g}),gM.apply(this,arguments)}function mM(n,e){const t=na(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),jd(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function J2(n){const{app:e}=n,t=na(e);let i=t.tokenRefresher;i||(i=function dH(n){const{app:e}=n;return new ZG((0,Be.Z)(function*(){let i;if(i=na(e).token?yield gE(n,!0):yield gE(n),i.error)throw i.error}),()=>!0,()=>{const t=na(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),jd(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function X2(n,e){const t=na(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function _E(n){return n.expireTimeMillis-Date.now()>0}function hH(n){return{token:uH(cH),error:n}}class fH{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=na(this.app);for(const t of e)mM(this.app,t.next);return Promise.resolve()}}const aB="app-check-internal";!function xH(){(0,Gd._registerComponent)(new Hy.wA("app-check",n=>function pH(n,e){return new fH(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aB).initialize()})),(0,Gd._registerComponent)(new Hy.wA(aB,n=>function gH(n){return{getToken:e=>gE(n,e),addTokenListener:e=>function _M(n,e,t,i){const{app:r}=n,a=na(r),u={next:t,error:i,type:e};if(jd(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&_E(a.token)){const g=a.token;Promise.resolve().then(()=>{t({token:g.token}),J2(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>J2(n))}(n,"INTERNAL",e),removeTokenListener:e=>mM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gd.registerVersion)("@firebase/app-check","0.5.12")}();class vE{constructor(){return(0,Qr.vb)("app-check")}}typeof window<"u"&&window;var DM=j(127);const cB=new c.OlP("angularfire2.auth.use-emulator"),uB=new c.OlP("angularfire2.auth.settings"),dB=new c.OlP("angularfire2.auth.tenant-id"),hB=new c.OlP("angularfire2.auth.langugage-code"),fB=new c.OlP("angularfire2.auth.use-device-language"),pB=new c.OlP("angularfire.auth.persistence"),gB=(n,e,t,i,r,a,u,g)=>(0,wl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),i&&(y.tenantId=i),y.languageCode=r,a&&y.useDeviceLanguage(),u)for(const[C,S]of Object.entries(u))y.settings[C]=S;return g&&y.setPersistence(g),y},[t,i,r,a,u,g]);let CM=(()=>{class n{constructor(t,i,r,a,u,g,y,C,S,R,H,Z){const ce=new Wn.x,me=bt(void 0).pipe((0,cE.Q)(u.outsideAngular),zn(()=>a.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,2476)))),(0,It.U)(()=>(0,wl.on)(t,a,i)),(0,It.U)(De=>gB(De,a,g,C,S,R,y,H)),B2({bufferSize:1,refCount:!1}));if(Gn(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{me.pipe(Vd()).subscribe();const ot=me.pipe(zn(rt=>rt.getRedirectResult().then(gt=>gt,()=>null)),Qr.iC,B2({bufferSize:1,refCount:!1})),ct=me.pipe(zn(rt=>new Ai.y(gt=>({unsubscribe:a.runOutsideAngular(()=>rt.onAuthStateChanged(Dt=>gt.next(Dt),Dt=>gt.error(Dt),()=>gt.complete()))})))),vt=me.pipe(zn(rt=>new Ai.y(gt=>({unsubscribe:a.runOutsideAngular(()=>rt.onIdTokenChanged(Dt=>gt.next(Dt),Dt=>gt.error(Dt),()=>gt.complete()))}))));this.authState=ot.pipe(V2(ct),(0,rM.R)(u.outsideAngular),(0,cE.Q)(u.insideAngular)),this.user=ot.pipe(V2(vt),(0,rM.R)(u.outsideAngular),(0,cE.Q)(u.insideAngular)),this.idToken=this.user.pipe(zn(rt=>rt?(0,jn.D)(rt.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(zn(rt=>rt?(0,jn.D)(rt.getIdTokenResult()):bt(null))),this.credential=(0,Zr.T)(ot,ce,this.authState.pipe(rr(rt=>!rt))).pipe((0,It.U)(rt=>rt?.user?rt:null),(0,rM.R)(u.outsideAngular),(0,cE.Q)(u.insideAngular))}return(0,wl.pX)(this,me,a,{spy:{apply:(De,ot,ct)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&ct.then(vt=>ce.next(vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wl.Dh),c.LFG(wl.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Qr.HU),c.LFG(cB,8),c.LFG(uB,8),c.LFG(dB,8),c.LFG(hB,8),c.LFG(fB,8),c.LFG(pB,8),c.LFG(vE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RH=(()=>{class n{constructor(){DM.Z.registerVersion("angularfire",Qr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[CM]}),n})();function _B(n,e){return function FH(n,e=We.z){return new Ai.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function IM(n,e){return _B(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}function yE(n,e){return IM(n,e).pipe(ha(void 0),_A(),(0,It.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,g)=>{const y=r.find(S=>S.doc.ref.isEqual(u.ref)),C=t?.payload.docs.find(S=>S.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&C&&JSON.stringify(C.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:u}})}),a}))}function mB(n,e,t){return yE(n,t).pipe(K_((i,r)=>function kH(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function LH(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),fa(),(0,It.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function TM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function vB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class yB{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=yE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ha(void 0),_A(),rr(([i,r])=>r.length>0||!i),(0,It.U)(([i,r])=>r),Qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(K_((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=vB(e);return mB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}valueChanges(e={}){return IM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Qr.iC)}get(e){return(0,jn.D)(this.query.get(e)).pipe(Qr.iC)}add(e){return this.ref.add(e)}doc(e){return new bB(this.ref.doc(e),this.afs)}}class bB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=CB(i,t);return new yB(r,a,this.afs)}snapshotChanges(){return function PH(n,e){return _B(n,e).pipe(ha(void 0),_A(),(0,It.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,jn.D)(this.ref.get(e)).pipe(Qr.iC)}}class BH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yE(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),rr(t=>t.length>0),Qr.iC):yE(this.query,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(K_((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=vB(e);return mB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}valueChanges(e={}){return IM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Qr.iC)}get(e){return(0,jn.D)(this.query.get(e)).pipe(Qr.iC)}}const wB=new c.OlP("angularfire2.enableFirestorePersistence"),DB=new c.OlP("angularfire2.firestore.persistenceSettings"),VH=new c.OlP("angularfire2.firestore.settings"),UH=new c.OlP("angularfire2.firestore.use-emulator");function CB(n,e=(t=>t)){return{query:e(n),ref:n}}let dD=(()=>{class n{constructor(t,i,r,a,u,g,y,C,S,R,H,Z,ce,me,De,ot,ct){this.schedulers=y;const vt=(0,wl.on)(t,g,i),rt=S;R&&gB(vt,g,H,ce,me,De,Z,ot),[this.firestore,this.persistenceEnabled$]=(0,wl.cc)(`${vt.name}.firestore`,"AngularFirestore",vt.name,()=>{const gt=g.runOutsideAngular(()=>vt.firestore());if(a&&gt.settings(a),rt&&gt.useEmulator(...rt),r&&!Gn(u)){const Dt=()=>{try{return(0,jn.D)(gt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(rn){return typeof console<"u"&&console.warn(rn),bt(!1)}};return[gt,g.runOutsideAngular(Dt)]}return[gt,bt(!1)]},[a,rt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=CB(r,i),g=this.schedulers.ngZone.run(()=>a);return new yB(g,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new BH(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new bB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wl.Dh),c.LFG(wl.xv,8),c.LFG(wB,8),c.LFG(VH,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Qr.HU),c.LFG(DB,8),c.LFG(UH,8),c.LFG(CM,8),c.LFG(cB,8),c.LFG(uB,8),c.LFG(dB,8),c.LFG(hB,8),c.LFG(fB,8),c.LFG(pB,8),c.LFG(vE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$H=(()=>{class n{constructor(){DM.Z.registerVersion("angularfire",Qr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:wB,useValue:!0},{provide:DB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dD]}),n})(),EM=(()=>{class n{constructor(t){this.afs=t}getColors(){return this.afs.collection("gloveColors").valueChanges()}getSteps(){return this.afs.collection("gloveSteps",t=>t.orderBy("seqNo","asc")).valueChanges()}getGloveSize(){return this.afs.collection("gloveSize",t=>t.orderBy("seqNo","asc")).valueChanges()}getGloveWebs(){return this.afs.collection("webs").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dD))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D0=(()=>{class n{constructor(t){this.wizardData=t,this.errorLog=[],this.snapLoaded=!1,this._orderDetails=[],this.product=new qn({}),this.product$=this.product.asObservable(),this.storage=new qn(null),this.storage$=this.storage.asObservable(),this.gloveType=new qn({name:null,glove:null}),this.gloveType$=this.gloveType.asObservable(),this.fillChange=new Wn.x,this.fillChange$=this.fillChange.asObservable(),this.gloveDesign=new qn(void 0),this.gloveDesign$=this.gloveDesign.asObservable(),this.leatherSelected=new Wn.x,this.leatherSelected$=this.leatherSelected.asObservable(),this.gloveColors=new qn([]),this.gloveColors$=this.gloveColors.asObservable(),this.gloveWebs=new qn([]),this.gloveWebs$=this.gloveWebs.asObservable(),this.gloveCustom=new qn(void 0),this.gloveCustom$=this.gloveCustom.asObservable(),this.clearGloveCanvas=()=>{try{this.oView.clear(),this.iView.clear(),this.sView.clear()}catch{}};let i=document.querySelector("form.variations_form"),r=i.dataset.productVariations;r=JSON.parse(r);const a={attributes:{}};["pa_glove-type","pa_glove-position","pa_throwing-arm","pa_glove-size","pa_back-finger-color","pa_thumb-finger-color","pa_thumb-inner-color","pa_index-inner-color","pa_thumb-outer-color","pa_index-outer-color","pa_middle-inner-color","pa_middle-outer-color","pa_ring-inner-color","pa_ring-outer-color","pa_pinky-inner-color","pa_pinky-outer-color","pa_wrist-color","pa_palm-color","pa_web-color","pa_web-base-color","pa_target-color","pa_binding-color","pa_welt-color","pa_lace-color","pa_glove-web","pa_stitching-color","pa_embroidery-color","pa_embroidery-font","pa_finger-protector","pa_finger-protector-color","pa_lining-color","pa_glove-logo-color"].forEach(g=>{a.attributes[`attributes_${g}`]="no-selection"}),i.dataset.productVariations=JSON.stringify([Object.assign(r),a]),this.wizardData.getColors().subscribe(g=>{this.gloveColors.next(g)}),this.wizardData.getGloveWebs().pipe((0,It.U)(g=>g.map(y=>({name:y.valueString,...y})))).subscribe(g=>{this.gloveWebs.next(g)}),this.leatherSelected$.subscribe(g=>console.log(g))}init(t){return jQuery(document.body).on("woocommerce_variation_select_change woocommerce_variation_has_changed",function(i){console.log(i,i.type)}),this.initCanvas()}initCanvas(){var t=this;return(0,Be.Z)(function*(){try{if(t.snapLoaded||(t.svgMain=Snap("#svg-main"),t.svgInside=Snap("#svg-inside"),t.svgSide=Snap("#svg-side"),t.oView=t.svgMain.group(),t.iView=t.svgInside.group(),t.sView=t.svgSide.group(),t.snapLoaded=!0),t._gloveBase===t.gloveBase)return;switch(t.clearGloveCanvas(),t.gloveBase){case"catcher-mitt":default:t.loadCatcher();break;case"catcher-fastback":t.loadCatcherFB();break;case"inf":case"pitcher":t.loadInfield();break;case"inf_dw":t.loadInfield2Welt();break;case"fbase":t.loadFbase();break;case"of":t.loadOutfield()}return t._gloveBase=t.gloveBase,{loaded:!0}}catch(i){return console.error(i),{loaded:!1,error:i}}})()}setGloveBase(t){this.gloveBase!==t.gloveBase&&(this.clearGloveCanvas(),this.gloveBase=t.gloveBase,this.gloveType.next({name:t.name,glove:t.gloveType}))}setGloveType(t){console.log(t),this.leatherType=t}addVariation(t){t.name.toLowerCase()}applyFilltoCanvas(t){["svg-main:_x5F_:vw3","svg-side:_x5F_:vw2","svg-inside:_x5F_:vw1"].forEach(i=>{const r=i.split(":"),a=r[0],u=`#${this.gloveBase}${r[1]}${r[2]}${r[1]}${t.section}`;switch(this.fillChange.next({id:t.section,fill:"stroke",color:t.rgb}),a){case"svg-main":if(0!=u.length){if(u.includes("stch")){document.querySelector(`${u}`)?.setAttribute("stroke",t.rgb),document.querySelector(`#${this.gloveBase}${r[1]}${r[2]}${r[1]}rise`)&&(void 0!==this.leatherType?this.leatherType.includes("steer")?document.querySelector(`#${this.gloveBase}${r[1]}${r[2]}${r[1]}rise`)?.setAttribute("fill",t.rgb):document.querySelector(`#${this.gloveBase}${r[1]}${r[2]}${r[1]}elite`)?.setAttribute("fill",t.rgb):document.querySelector(`#${this.gloveBase}${r[1]}${r[2]}${r[1]}rise`)?.setAttribute("fill",t.rgb));break}document.querySelector(`${u}`)?.setAttribute("fill",t.rgb)}break;case"svg-inside":case"svg-side":if(0!=u.length){if(u.includes("stch")){document.querySelector(`${u}`)?.setAttribute("stroke",t.rgb);break}document.querySelector(`${u}`)?.setAttribute("fill",t.rgb)}}})}logError(t){this.errorLog.push(`Error adding value ${t.err}`)}_applyFormValue(t){function i(y){try{let C=new Event("change");y.dispatchEvent(C),document.querySelector("form.variations_form").addEventListener("change.wc-variation-form",function(R){console.log(R.type)}),jQuery("variations_form").trigger("change")}catch{}}const r=t.name.toLowerCase();let a,u,g;r.includes('"')?(a=r.replace('"',""),a.includes(".")&&(a=a.replace(".","-"))):"custom_text_add_on"===t.attribute_wp||"order_notes_textarea"===t.attribute_wp?console.log("Do nothing"):(a=t.value||r.replaceAll(" ","-"),a.includes(".")&&(a=a.replace(".","")));try{document.getElementById(t.attribute_wp)&&(console.log(`Element ${t.attribute_wp} exists`),u=document.getElementById(t.attribute_wp),u.addEventListener("change",y=>{const C=document.getElementById(t.attribute_wp);if(C.click(),C.value=a,C.closest("tr")?.classList.add("selected-variation"),"pa_thumb-inner-color"===t.attribute_wp){const S=document.getElementById("pa_thumb-finger-color"),R=document.getElementById("pa_back-finger-color");S.value=R.value=a,S.closest("tr")?.classList.add("selected-variation"),R.closest("tr")?.classList.add("selected-variation")}}),i(u)),document.getElementById(`${t.attribute_pewc}`)&&(g=document.getElementById(`${t.attribute_pewc}`)),r.includes("steer")||r.includes("kip")?g?g.click():u&&(u.click(),u.value=a,i(u)):g?(g.value=r,document.querySelector(`[data-id="${t.attribute_pewc}"]`).dataset.fieldValue=r):(u&&(u.value=a,i(u)),this.logError({err:t.name}))}catch(y){console.error(y)}}applyFormValue(t){try{const r=this._orderDetails.findIndex(a=>a.attribute_wp===t.attribute_wp);r>-1?this._orderDetails[r].name=t.name:this._orderDetails.push(t)}catch(i){console.log(i)}if(console.log(this._orderDetails),this._orderDetails.length>15&&(console.log(`Custom length is ${this._orderDetails.length}`),null!==document.getElementById("wcpay-payment-request-wrapper"))){const i=document.getElementById("wcpay-payment-request-wrapper");i&&(i.style.display="block",console.log(i,i.style.display))}this._applyFormValue(t)}colorFilter(){let t=[];this.leatherSelected$.subscribe(i=>{this.gloveColors.value.forEach(r=>{"leather"===i?("steer"===i||"kip"===i)&&r.leather.includes(i)&&t.push(r):r.leather.includes(i)&&t.push(r)})})}separatorCheck(t,i){return t.split(i).length>1}triggerAddToCart(){try{document.getElementsByClassName("single_add_to_cart_button")[0].click()}catch{alert("Problem adding to cart")}}valueFormatter(t){return t.split(" ").length>1?t=i(t," "):t.split("-").length>1?t=i(t,"-"):r(t);function i(a,u){let g=a.split(u);return g.forEach((y,C)=>{g[C]=r(y)}),g.join(" ")}function r(a){return a.charAt(0).toUpperCase()+a.slice(1)}}setSeriesOnGlove(t,i){("rise"===t||"elite"===t)&&i.attr("us steer"===this.leatherType&&"rise"===t||"japan kip"===this.leatherType&&"elite"===t?{opacity:1}:{opacity:0})}resetStitching(){document.querySelectorAll("").forEach(t=>{t.setAttribute("fill","none")})}loadCatcher(){const t=this;Snap.load(`${lo_imgSrc}catcher_back_view.svg`,i=>{this.svgMain.attr({viewBox:"0 -10 400 400"}),i.selectAll("#catcher-mitt_x5F_vw3_x5F_utoe, #catcher-mitt_x5F_vw3_x5F_thb, #catcher-mitt_x5F_vw3_x5F_bfg, #catcher-mitt_x5F_vw3_x5F_web, #catcher-mitt_x5F_vw3_x5F_plm, #catcher-mitt_x5F_vw3_x5F_lin, #catcher-mitt_x5F_vw3_x5F_bnd, #catcher-mitt_x5F_vw3_x5F_fpad, #catcher-mitt_x5F_vw3_x5F_stch, #catcher-mitt_x5F_vw3_x5F_lce, #catcher-mitt_x5F_vw3_x5F_logo, #catcher-mitt_x5F_open_x5F_back").forEach(function(a,u){const y=["catcher-mitt_x5F_vw3_x5F_utoe","catcher-mitt_x5F_vw3_x5F_thb","catcher-mitt_x5F_vw3_x5F_bfg","catcher-mitt_x5F_vw3_x5F_web","catcher-mitt_x5F_vw3_x5F_plm","catcher-mitt_x5F_vw3_x5F_lin","catcher-mitt_x5F_vw3_x5F_bnd","catcher-mitt_x5F_vw3_x5F_fpad","catcher-mitt_x5F_vw3_x5F_stch","catcher-mitt_x5F_vw3_x5F_lce","catcher-mitt_x5F_vw3_x5F_logo","catcher-mitt_x5F_open_xF_back"][u],C=y.split("_").pop();ki.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.setSeriesOnGlove(C,a),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${lo_imgSrc}catcher_inside_view.svg`,i=>{this.svgInside.attr({viewBox:"0 -10 400 400"}),i.selectAll("#catcher-mitt_x5F_vw2_x5F_plm, #catcher-mitt_x5F_vw2_x5F_web, #catcher-mitt_x5F_vw2_x5F_tgt, #catcher-mitt_x5F_vw2_x5F_stch, #catcher-mitt_x5F_vw2_x5F_bnd, #catcher-mitt_x5F_vw2_x5F_lce, #catcher-mitt_x5F_pocket_x5F_view, #catcher-mitt_x5F_vw2_x5F_rse, #catcher-mitt_x5F_rise_x5F_logo").forEach((a,u)=>{ki.includes(["catcher-mitt_x5F_vw2_x5F_plm","catcher-mitt_x5F_vw2_x5F_web","catcher-mitt_x5F_vw2_x5F_tgt","catcher-mitt_x5F_vw2_x5F_stch","catcher-mitt_x5F_vw2_x5F_bnd","catcher-mitt_x5F_vw2_x5F_lce","catcher-mitt_x5F_pocket_x5F_view","catcher-mitt_x5F_vw2_x5F_rse","catcher-mitt__x5F_rise_x5F_logo"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(t.iView)})}),Snap.load(`${lo_imgSrc}catcher_side_view.svg`,i=>{this.svgSide.attr({viewBox:"0 0 400 400"}),i.selectAll("#catcher-mitt_x5F_vw1_x5F_utoe, #catcher-mitt_x5F_vw1_x5F_thb, #catcher-mitt_x5F_vw1_x5F_logo, #catcher-mitt_x5F_vw1_x5F_bnd, #catcher-mitt_x5F_vw1_x5F_plm, #catcher-mitt_x5F_vw1_x5F_web, #catcher-mitt_x5F_vw1_x5F_fpad, #catcher-mitt_x5F_vw1_x5F_stch, #catcher-mitt_x5F_vw1_x5F_lce, #catcher-mitt_x5F_side_x5F_view").forEach((a,u)=>{ki.includes(["catcher-mitt_x5F_vw1_x5F_utoe","catcher-mitt_x5F_vw1_x5F_thb","catcher-mitt_x5F_vw1_x5F_logo","catcher-mitt_x5F_vw1_x5F_bnd","catcher-mitt_x5F_vw1_x5F_plm","catcher-mitt_x5F_vw1_x5F_web","catcher-mitt_x5F_vw1_x5F_fpad","catcher-mitt_x5F_vw1_x5F_stch","catcher-mitt_x5F_vw1_x5F_lce","catcher-mitt_x5F_side_x5F_view"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}loadOutfield(){const t=this;Snap.load(`${lo_imgSrc}outfield_back_view.svg`,i=>{this.svgMain.attr({viewBox:"0 0 400 400"}),i.selectAll("#of_x5F_vw3_x5F_wst, #of_x5F_vw3_x5F_logo, #of_x5F_vw3_x5F_indi, #of_x5F_vw3_x5F_indo, #of_x5F_vw3_x5F_midi, #of_x5F_vw3_x5F_mido, #of_x5F_vw3_x5F_rngo, #of_x5F_vw3_x5F_rngi, #of_x5F_vw3_x5F_pnki, #of_x5F_vw3_x5F_pnko, #of_x5F_vw3_x5F_plm, #of_x5F_vw3_x5F_wlt, #of_x5F_vw3_x5F_bnd, #of_x5F_vw3_x5F_stch, #of_x5F_vw3_x5F_web, #of_x5F_vw3_x5F_lce, #of_x5F_open_x5F_back, #of_x5F_vw3_x5F_rise, #of_x5F_vw3_x5F_elite, #of_x5F_logo_x5F_elite, #of_x5F_logo_x5F_rise").forEach(function(a,u){const y=["of_x5F_vw3_x5F_wst","of_x5F_vw3_x5F_logo","of_x5F_vw3_x5F_indi","of_x5F_vw3_x5F_indo","of_x5F_vw3_x5F_midi","of_x5F_vw3_x5F_mido","of_x5F_vw3_x5F_rngo","of_x5F_vw3_x5F_rngi","of_x5F_vw3_x5F_pnki","of_x5F_vw3_x5F_pnko","of_x5F_vw3_x5F_plm","of_x5F_vw3_x5F_wlt","of_x5F_vw3_x5F_bnd","of_x5F_vw3_x5F_stch","of_x5F_vw3_x5F_web","of_x5F_vw3_x5F_lce","of_x5F_open_x5F_back","of_x5F_vw3_x5F_rise","of_x5F_vw3_x5F_elite","of_x5F_logo_x5F_elite","of_x5F_logo_x5F_rise"][u],C=y.split("_").pop();ki.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.setSeriesOnGlove(C,a),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${lo_imgSrc}outfield_inside_view.svg`,i=>{this.svgInside.attr({viewBox:"0 0 400 400"}),i.selectAll("#of_x5F_vw2_x5F_thbo, #of_x5F_vw2_x5F_thbi, #of_x5F_vw2_x5F_plm, #of_x5F_vw2_x5F_indo, #of_x5F_vw2_x5F_indi, #of_x5F_vw2_x5F_mido, #of_x5F_vw2_x5F_rngo, #of_x5F_vw2_x5F_rngi, #of_x5F_vw2_x5F_pnki, #of_x5F_vw2_x5F_pnko, #of_x5F_vw2_x5F_wlt, #of_x5F_vw2_x5F_web, #of_x5F_vw2_x5F_bnd, #of_x5F_vw2_x5F_stch, #of_x5F_vw2_x5F_lce, #of_x5F_open_x5F_pocket").forEach((a,u)=>{ki.includes(["of_x5F_vw2_x5F_thbo","of_x5F_vw2_x5F_thbi","of_x5F_vw2_x5F_plm","of_x5F_vw2_x5F_indo","of_x5F_vw2_x5F_indi","of_x5F_vw2_x5F_mido","of_x5F_vw2_x5F_rngo","of_x5F_vw2_x5F_rngi","of_x5F_vw2_x5F_pnki","of_x5F_vw2_x5F_pnko","of_x5F_vw2_x5F_wlt","of_x5F_vw2_x5F_web","of_x5F_vw2_x5F_bnd","of_x5F_vw2_x5F_stch","of_x5F_vw2_x5F_lce","of_x5F_open_x5F_pocket"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(t.iView)}),document.getElementById("of_x5F_vw2_x5F_stch").style.fill="none"}),Snap.load(`${lo_imgSrc}outfield_side_view.svg`,i=>{this.svgSide.attr({viewBox:"0 0 400 400"}),i.selectAll("#of_x5F_vw1_x5F_wst,#of_x5F_vw1_x5F_logo, #of_x5F_vw1_x5F_thbi, #of_x5F_vw1_x5F_thbo, #of_x5F_vw1_x5F_indi, #of_x5F_vw1_x5F_plm,#of_x5F_vw1_x5F_web, #of_x5F_vw1_x5F_bnd, #of_x5F_vw1_x5F_wlt, #of_x5F_vw1_x5F_stch, #of_x5F_vw1_x5F_lce, #of_x5F_side_x5F_view").forEach((a,u)=>{ki.includes(["of_x5F_vw1_x5F_wst","of_x5F_vw1_x5F_logo","of_x5F_vw1_x5F_thbi","of_x5F_vw1_x5F_thbo","of_x5F_vw1_x5F_indi","of_x5F_vw1_x5F_plm","of_x5F_vw1_x5F_web","of_x5F_vw1_x5F_bnd","of_x5F_vw1_x5F_wlt","of_x5F_vw1_x5F_stch","of_x5F_vw1_x5F_lce","of_x5F_side_x5F_view"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)}),document.getElementById("of_x5F_vw1_x5F_stch").style.fill="none"})}loadInfield(){const t=this;Snap.load(`${lo_imgSrc}infield_swelt_back.svg`,i=>{this.svgMain.attr({viewBox:"0 -10 400 400"}),i.selectAll("#inf_x5F_vw3_x5F_wst, #inf_x5F_vw3_x5F_thbi, #inf_x5F_vw3_x5F_web, #inf_x5F_vw3_x5F_indo, #inf_x5F_vw3_x5F_plm, #inf_x5F_vw3_x5F_indi, #inf_x5F_vw3_x5F_midi, #inf_x5F_vw3_x5F_mido, #inf_x5F_vw3_x5F_rngo, #inf_x5F_vw3_x5F_rngi, #inf_x5F_vw3_x5F_pnko, #inf_x5F_vw3_x5F_pnki, #inf_x5F_vw3_x5F_logo, #inf_x5F_vw3_x5F_wlt, #inf_x5F_vw3_x5F_stch, #inf_x5F_vw3_x5F_bnd, #inf_x5F_vw3_x5F_lce, #inf_x5F_open_x5F_back,#inf_x5F_vw3_x5F_rise,#inf_x5F_vw3_x5F_elite,#inf_x5F_logo_x5F_elite,#inf_x5F_logo_x5F_rise").forEach((a,u)=>{const y=["inf_x5F_vw3_x5F_wst","inf_x5F_vw3_x5F_thbi","inf_x5F_vw3_x5F_web","inf_x5F_vw3_x5F_indo","inf_x5F_vw3_x5F_plm","inf_x5F_vw3_x5F_indi","inf_x5F_vw3_x5F_midi","inf_x5F_vw3_x5F_mido","inf_x5F_vw3_x5F_rngo","inf_x5F_vw3_x5F_rngi","inf_x5F_vw3_x5F_pnko","inf_x5F_vw3_x5F_pnki","inf_x5F_vw3_x5F_logo","inf_x5F_vw3_x5F_wlt","inf_x5F_vw3_x5F_stch","inf_x5F_vw3_x5F_bnd","inf_x5F_vw3_x5F_lce","inf_x5F_open_x5F_back","inf_x5F_vw3_x5F_rise","inf_x5F_vw3_x5F_elite","inf_x5F_logo_x5F_elite","inf_x5F_logo_x5F_rise"][u],C=y.split("_").pop();ki.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),this.setSeriesOnGlove(C,a),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${lo_imgSrc}infield_swelt_pocket.svg`,i=>{this.svgInside.attr({viewBox:"0 -10 400 400"}),i.selectAll("#inf_x5F_vw2_x5F_plm, #inf_x5F_vw2_x5F_thbo, #inf_x5F_vw2_x5F_thbi, #inf_x5F_vw2_x5F_indo, #inf_x5F_vw2_x5F_indi,#inf_x5F_vw2_x5F_midi,#inf_x5F_vw2_x5F_mido,#inf_x5F_vw2_x5F_rngo,#inf_x5F_vw2_x5F_rngi,#inf_x5F_vw2_x5F_pnki,#inf_x5F_vw2_x5F_pnko, #inf_x5F_vw2_x5F_web, #inf_x5F_vw2_x5F_stch, #inf_x5F_vw2_x5F_bnd , #inf_x5F_vw2_x5F_wlt, #inf_x5F_vw2_x5F_lce, #inf_x5F_open_x5F_pocket").forEach((a,u)=>{ki.includes(["inf_x5F_vw2_x5F_plm","inf_x5F_vw2_x5F_thbo","inf_x5F_vw2_x5F_thbi","inf_x5F_vw2_x5F_indi","inf_x5F_vw2_x5F_indo","inf_x5F_vw2_x5F_midi","inf_x5F_vw2_x5F_mido","inf_x5F_vw2_x5F_rngi","inf_x5F_vw2_x5F_rngo","inf_x5F_vw2_x5F_pnki","inf_x5F_vw2_x5F_pnko","inf_x5F_vw2_x5F_web","inf_x5F_vw2_x5F_stch","inf_x5F_vw2_x5F_bnd","inf_x5F_vw2_x5F_wlt","inf_x5F_vw2_x5F_lce","inf_x5F_open_x5F_pocket"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#fffafa"}),t.iView.add(a),t.svgInside.append(this.iView)}),document.getElementById("inf_x5F_vw2_x5F_stch").style.fill="none"}),Snap.load(`${lo_imgSrc}infield_swelt_side.svg`,i=>{this.svgSide.attr({viewBox:"-60 0 400 400"}),i.selectAll("#inf_x5F_vw1_x5F_thbi, #inf_x5F_vw1_x5F_mid, #inf_x5F_vw1_x5F_indi, #inf_x5F_vw1_x5F_wst, #inf_x5F_vw1_x5F_logo, #inf_x5F_vw1_x5F_plm, #inf_x5F_vw1_x5F_bnd, #inf_x5F_vw1_x5F_indo, #inf_x5F_vw1_x5F_thbo, #inf_x5F_vw1_x5F_wlt, #inf_x5F_vw1_x5F_web, #inf_x5F_vw1_x5F_stch,  #inf_x5F_vw1_x5F_lce, #inf_x5F_open_x5F_side").forEach((a,u)=>{ki.includes(["inf_x5F_vw1_x5F_thbi","inf_x5F_vw1_x5F_mid","inf_x5F_vw1_x5F_indi","inf_x5F_vw1_x5F_wst","inf_x5F_vw1_x5F_logo","inf_x5F_vw1_x5F_plm","inf_x5F_vw1_x5F_bnd","inf_x5F_vw1_x5F_indo","inf_x5F_vw1_x5F_thbo","inf_x5F_vw1_x5F_wlt","inf_x5F_vw1_x5F_web","inf_x5F_vw1_x5F_stch","inf_x5F_vw1_x5F_lce","inf_x5F_open_x5F_side"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)}),document.getElementById("inf_x5F_vw1_x5F_stch").style.fill="none"})}loadFbase(){const t=this;Snap.load(`${lo_imgSrc}/fbase_back_view.svg`,function(i){t.svgMain.attr({viewBox:"0 -10 400 400"}),i.selectAll("#fbase_x5F_vw3_x5F_thb, #fbase_x5F_vw3_x5F_bfg, #fbase_x5F_vw3_x5F_plm, #fbase_x5F_vw3_x5F_utoe, #fbase_x5F_vw3_x5F_wst, #fbase_x5F_vw3_x5F_logo, #fbase_x5F_vw3_x5F_web, #fbase_x5F_vw3_x5F_stch, #fbase_x5F_vw3_x5F_bnd, #fbase_x5F_vw3_x5F_lce, #fbase_x5F_vw3_x5F_rise, #fbase_x5F_vw3_x5F_elite, #fbase_x5F_open_x5F_back, #fbase_x5F_logo_x5F_elite, #fbase_x5F_logo_x5F_rise").forEach(function(a,u){const y=["fbase_x5F_vw3_x5F_thb","fbase_x5F_vw3_x5F_bfg","fbase_x5F_vw3_x5F_plm","fbase_x5F_vw3_x5F_utoe","fbase_x5F_vw3_x5F_wst","fbase_x5F_vw3_x5F_logo","fbase_x5F_vw3_x5F_web","fbase_x5F_vw3_x5F_stch","fbase_x5F_vw3_x5F_bnd","fbase_x5F_vw3_x5F_lce","fbase_x5F_vw3_x5F_rise","fbase_x5F_vw3_x5F_elite","fbase_x5F_open_x5F_back","fbase_x5F_logo_x5F_elite","fbase_x5F_logo_x5F_rise"][u],C=y.split("_").pop();ki.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),("rise"===C||"elite"===C)&&(console.log(C,t.leatherType),"us steer"===t.leatherType&&"rise"===C?(console.log("test"),a.attr({opacity:1})):a.attr("japan kip"===t.leatherType&&"elite"===C?{opacity:1}:{opacity:0})),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${lo_imgSrc}/fbase_inside_view.svg`,function(i){t.svgInside.attr({viewBox:"0 -10 400 400"}),i.selectAll("#fbase_x5F_vw2_x5F_plm, #fbase_x5F_vw2_x5F_bnd, #fbase_x5F_vw2_x5F_web, #fbase_x5F_vw2_x5F_stch, #fbase_x5F_vw2_x5F_lce, #fbase_x5F_open_x5F_pocket").forEach(function(a,u){ki.includes(["fbase_x5F_vw2_x5F_plm","fbase_x5F_vw2_x5F_bnd","fbase_x5F_vw2_x5F_web","fbase_x5F_vw2_x5F_stch","fbase_x5F_vw2_x5F_lce","fbase_x5F_open_x5F_pocket"][u],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(t.iView)})}),Snap.load(`${lo_imgSrc}/fbase_side_view.svg`,function(i){t.svgSide.attr({viewBox:"-10 0 400 400"}),i.selectAll("#fbase_x5F_vw1_x5F_wst, #fbase_x5F_vw1_x5F_logo, #fbase_x5F_vw1_x5F_plm, #fbase_x5F_vw1_x5F_thb, #fbase_x5F_vw1_x5F_bfg, #fbase_x5F_vw1_x5F_utoe, #fbase_x5F_vw1_x5F_web, #fbase_x5F_vw1_x5F_stch, #fbase_x5F_vw1_x5F_bnd, #fbase_x5F_vw1_x5F_lce, #fbase_x5F_side_x5F_view").forEach(function(a,u){ki.includes(["fbase_x5F_vw1_x5F_wst","fbase_x5F_vw1_x5F_logo","fbase_x5F_vw1_x5F_plm","fbase_x5F_vw1_x5F_thb","fbase_x5F_vw1_x5F_bfg","fbase_x5F_vw1_x5F_utoe","fbase_x5F_vw1_x5F_web","fbase_x5F_vw1_x5F_stch","fbase_x5F_vw1_x5F_bnd","fbase_x5F_vw1_x5F_lce","fbase_x5F_side_x5F_view"][u],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}loadCatcherFB(){const t=this;Snap.load(`${lo_imgSrc}/nys_catcher_fastback_back.svg`,i=>{this.svgMain.attr({viewBox:"0 0 400 400"}),i.selectAll("#catcher-fastback_x5F_vw3_x5F_utoe, #catcher-fastback_x5F_vw3_x5F_thb, #catcher-fastback_x5F_vw3_x5F_logo, #catcher-fastback_x5F_vw3_x5F_mid, #catcher-fastback_x5F_vw3_x5F_bfg, #catcher-fastback_x5F_vw3_x5F_plm, #catcher-fastback_x5F_vw3_x5F_wlt ,#catcher-fastback_x5F_vw3_x5F_stch, #catcher-fastback_x5F_vw3_x5F_bnd, #catcher-fastback_x5F_vw3_x5F_web, #catcher-fastback_x5F_vw3_x5F_lce, #catcher-fastback_x5F_vw3_x5F_fpad, #catcher-fastback_x5F_fastback_x5F_back").forEach(function(a,u){ki.includes(["catcher-fastback_x5F_vw3_x5F_utoe","catcher-fastback_x5F_vw3_x5F_thb","#catcher-fastback_x5F_vw3_x5F_logo","catcher-fastback_x5F_vw3_x5F_mid","catcher-fastback_x5F_vw3_x5F_bfg","catcher-fastback_x5F_vw3_x5F_plm","catcher-fastback_x5F_vw3_x5F_wlt","catcher-fastback_x5F_vw3_x5F_stch","catcher-fastback_x5F_vw3_x5F_bnd","catcher-fastback_x5F_vw3_x5F_web","catcher-fastback_x5F_vw3_x5F_lce","catcher-fastback_x5F_vw3_x5F_fpad","catcher-fastback_x5F_fastback_x5F_back"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${lo_imgSrc}/nys_catcher_fastback_inside_view.svg`,i=>{this.svgInside.attr({viewBox:"0 0 400 400"}),i.selectAll("#catcher-fastback_x5F_vw2_x5F_plm, #catcher-fastback_x5F_vw2_x5F_web, #catcher-fastback_x5F_vw2_x5F_tgt, #catcher-fastback_x5F_vw2_x5F_stch, #catcher-fastback_x5F_vw2_x5F_bnd, #catcher-fastback_x5F_vw2_x5F_lce, #catcher-fastback_x5F_pocket_x5F_view, #catcher-fastback_x5F_vw2_x5F_rse, #catcher-fastback_x5F_rise_x5F_logo").forEach((a,u)=>{ki.includes(["catcher-fastback_x5F_vw2_x5F_plm","catcher-fastback_x5F_vw2_x5F_web","catcher-fastback_x5F_vw2_x5F_tgt","catcher-fastback_x5F_vw2_x5F_stch","catcher-fastback_x5F_vw2_x5F_bnd","catcher-fastback_x5F_vw2_x5F_lce","catcher-fastback_x5F_pocket_x5F_view","catcher-fastback_x5F_vw2_x5F_rse","catcher-fastback_x5F_rise_x5F_logo"][u],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(t.iView)})}),Snap.load(`${lo_imgSrc}/nys_catcher_fastback_side.svg`,i=>{this.svgSide.attr({viewBox:"0 0 400 400"}),i.selectAll("#catcher-fastback_x5F_vw1_x5F_thb, #catcher-fastback_x5F_vw1_x5F_logo, #catcher-fastback_x5F_vw1_x5F_utoe, #catcher-fastback_x5F_vw1_x5F_wlt, #catcher-fastback_x5F_vw1_x5F_web, #catcher-fastback_x5F_vw1_x5F_bnd, #catcher-fastback_x5F_vw1_x5F_plm, #catcher-fastback_x5F_vw1_x5F_stch, #catcher-fastback_x5F_vw1_x5F_blt, #catcher-fastback_x5F_vw1_x5F_lce, #catcher-fastback_x5F_vw1_x5F_fastback_x5F_side").forEach((a,u)=>{ki.includes(["catcher-fastback_x5F_vw1_x5F_thb","catcher-fastback_x5F_vw1_x5F_logo","catcher-fastback_x5F_vw1_x5F_utoe","catcher-fastback_x5F_vw1_x5F_wlt","catcher-fastback_x5F_vw1_x5F_web","catcher-fastback_x5F_vw1_x5F_bnd","catcher-fastback_x5F_vw1_x5F_plm","catcher-fastback_x5F_vw1_x5F_stch","catcher-fastback_x5F_vw1_x5F_blt","catcher-fastback_x5F_vw1_x5F_lce","catcher-fastback_x5F_vw1_x5F_fastback_x5F_side"][u],"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}loadInfield2Welt(){const t=this;Snap.load(`${lo_imgSrc}/nys_infield_dwelt_back.svg`,i=>{this.svgMain.attr({viewBox:"0 0 400 400"}),i.selectAll("#inf_dw_x5F_vw3_x5F_bfg, #inf_dw_x5F_vw3_x5F_mid, #inf_dw_x5F_vw3_x5F_wst, #inf_dw_x5F_vw3_x5F_wlt, #inf_dw_x5F_vw3_x5F_bnd, #inf_dw_x5F_vw3_x5F_logo, #inf_dw_x5F_vw3_x5F_web, #inf_dw_x5F_vw3_x5F_plm, #inf_dw_x5F_vw3_x5F_stch, #inf_dw_x5F_vw3_x5F_lce, #inf_dw_x5F_dwelt_x5F_back, #inf_dw_x5F_vw3_x5F_rse, inf_dw_x5F_vw3_x5F_elt, inf_dw_x5F_elite_x5F_logo, inf_dw_x5F_rise_x5F_logo").forEach((a,u)=>{const y=["inf_dw_x5F_vw3_x5F_bfg","inf_dw_x5F_vw3_x5F_mid","inf_dw_x5F_vw3_x5F_wst","inf_dw_x5F_vw3_x5F_wlt","inf_dw_x5F_vw3_x5F_bnd","inf_dw_x5F_vw3_x5F_logo","inf_dw_x5F_vw3_x5F_web","inf_dw_x5F_vw3_x5F_plm","inf_dw_x5F_vw3_x5F_stch","inf_dw_x5F_vw3_x5F_lce","inf_dw_x5F_dwelt_x5F_back","inf_dw_x5F_vw3_x5F_rse","inf_dw_x5F_vw3_x5F_elt","inf_dw_x5F_elite_x5F_logo","inf_dw_x5F_rise_x5F_logo"][u],C=y.split("_").pop();ki.includes(y,"stch")?(a.attr({fill:"none"}),a.attr({stroke:"#FFFAFA"})):a.attr({fill:"#FFFAFA"}),("rise"===C||"elite"===C||"rse"===C)&&(a.attr({opacity:0}),this.setSeriesOnGlove(C,a)),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${lo_imgSrc}/nys_infield_dwelt_pocket.svg`,i=>{this.svgInside.attr({viewBox:"0 0 400 400"}),i.selectAll("#inf_dw_x5F_vw2_x5F_web, #inf_dw_x5F_vw2_x5F_plm, #inf_dw_x5F_vw2_x5F_mid, #inf_dw_x5F_vw2_x5F_bfg, #inf_dw_x5F_vw2_x5F_wlt, #inf_dw_x5F_vw2_x5F_bnd,#inf_dw_x5F_vw2_x5F_stch, #inf_dw_x5F_vw2_x5F_lce, #inf_dw_x5F_dwelt_x5F_inside").forEach((a,u)=>{ki.includes(["inf_dw_x5F_vw2_x5F_web","inf_dw_x5F_vw2_x5F_plm","inf_dw_x5F_vw2_x5F_mid","inf_dw_x5F_vw2_x5F_bfg","inf_dw_x5F_vw2_x5F_wlt","inf_dw_x5F_vw2_x5F_bnd","inf_dw_x5F_vw2_x5F_stch","inf_dw_x5F_vw2_x5F_lce","inf_dw_x5F_dwelt_x5F_inside"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.iView.add(a),t.svgInside.append(this.iView)})}),Snap.load(`${lo_imgSrc}/nys_infield_dwelt_side.svg`,i=>{this.svgSide.attr({viewBox:"0 0 400 400"}),i.selectAll("#inf_dw_x5F_vw1_x5F_plm, #inf_dw_x5F_vw1_x5F_bfg, #inf_dw_x5F_vw1_x5F_mid, #inf_dw_x5F_vw1_x5F_wlt, #inf_dw_x5F_vw1_x5F_web, #inf_dw_x5F_vw1_x5F_wst, #inf_dw_x5F_vw1_x5F_stch, #inf_dw_x5F_vw1_x5F_bnd, #inf_dw_x5F_vw1_x5F_lce, #inf_dw_x5F_vw1_x5F_logo, #inf_dw_x5F_dwelt_x5F_side").forEach((a,u)=>{ki.includes(["inf_dw_x5F_vw1_x5F_plm","inf_dw_x5F_vw1_x5F_bfg","inf_dw_x5F_vw1_x5F_mid","inf_dw_x5F_vw1_x5F_wlt","inf_dw_x5F_vw1_x5F_web","inf_dw_x5F_vw1_x5F_wst","inf_dw_x5F_vw1_x5F_stch","inf_dw_x5F_vw1_x5F_bnd","inf_dw_x5F_vw1_x5F_lce","inf_dw_x5F_vw1_x5F_logo, inf_dw_x5F_dwelt_x5F_side"][u],"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),t.sView.add(a),t.svgSide.append(t.sView)})})}loadPitcher(){const t=this;Snap.load(`${lo_imgSrc}/nys_pitcher_open_back.svg`,function(i){t.svgMain.attr({viewBox:"0 0 400 400"}),i.selectAll(" #pitcher_x5F_vw3_x5F_wst, #pitcher_x5F_vw3_x5F_logo, #pitcher_x5F_vw3_x5F_thbi, #pitcher_x5F_vw3_x5F_plm, #pitcher_x5F_vw3_x5F_web, #pitcher_x5F_vw3_x5F_indi, #pitcher_x5F_vw3_x5F_indo, #pitcher_x5F_vw3_x5F_mid, #pitcher_x5F_vw3_x5F_rngo, #pitcher_x5F_vw3_x5F_rngi, #pitcher_x5F_vw3_x5F_pnko, #pitcher_x5F_vw3_x5F_pnki, #pitcher_x5F_vw3_x5F_stch, #pitcher_x5F_vw3_x5F_wlt, #pitcher_x5F_vw3_x5F_bnd, #pitcher_x5F_vw3_x5F_bnd, #pitcher_x5F_vw3_x5F_lce, #pitcher_x5F_open_x5F_back,#pitcher_x5F_vw3_x5F_rse,#pitcher_x5F_vw3_x5F_elt,#pitcher_x5F_logo_x5F_elite,#pitcher_x5F_logo_x5F_rise").forEach(function(a,u){const y=["pitcher_x5F_vw3_x5F_wst","pitcher_x5F_vw3_x5F_logo","pitcher_x5F_vw3_x5F_thbi","pitcher_x5F_vw3_x5F_plm","pitcher_x5F_vw3_x5F_web","pitcher_x5F_vw3_x5F_indi","pitcher_x5F_vw3_x5F_indo","pitcher_x5F_vw3_x5F_mid","pitcher_x5F_vw3_x5F_rngo","pitcher_x5F_vw3_x5F_rngi","pitcher_x5F_vw3_x5F_pnko","pitcher_x5F_vw3_x5F_pnki","pitcher_x5F_vw3_x5F_stch","pitcher_x5F_vw3_x5F_wlt","pitcher_x5F_vw3_x5F_bnd","pitcher_x5F_vw3_x5F_bnd","pitcher_x5F_vw3_x5F_lce","pitcher_x5F_open_x5F_back","pitcher_x5F_vw3_x5F_rse","pitcher_x5F_vw3_x5F_elt","pitcher_x5F_logo_x5F_elite","pitcher_x5F_logo_x5F_rise"][u],C=y.split("_").pop();ki.includes(y,"stch")?a.attr({fill:"none"}):a.attr({fill:"#FFFAFA"}),("rise"===C||"elite"===C)&&(a.attr({opacity:0}),t.setSeriesOnGlove(C,a)),t.oView.add(a),t.svgMain.append(t.oView)})}),Snap.load(`${lo_imgSrc}/nys_pitcher_side_view.svg`,function(i){t.svgInside.attr({viewBox:"0 0 400 400"}),i.selectAll("#pitcher_x5F_vw1_x5F_lin,#pitcher_x5F_vw1_x5F_bfg,#pitcher_x5F_vw1_x5F_plm,#pitcher_x5F_vw1_x5F_web,#pitcher_x5F_vw1_x5F_wst,#pitcher_x5F_vw1_x5F_logo, #pitcher_x5F_vw1_x5F_wlt, #pitcher_x5F_vw1_x5F_bnd, #pitcher_x5F_vw1_x5F_stch, #pitcher_x5F_vw1_x5F_lce,#pitcher_x5F_open_x5F_side").forEach(function(a,u){t.iView.add(a),t.svgInside.append(t.iView)})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(EM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IB={grid:{xs:1,sm:2,md:2,lg:3,all:0},slide:2,speed:400,animation:"lazy",loop:!0,point:{visible:!0},load:2,touch:!0,easing:"ease"};let TB=(()=>{class n{constructor(){this.currentTab=new Wn.x,this.currentTab$=this.currentTab.asObservable(),this.currentTab.next(0)}nextPrev(t){this.currentTab.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ngu-tile")(1,"section")(2,"div",4)(3,"div",5)(4,"p",6),c._uU(5),c.qZA()(),c.TgZ(6,"div",5),c._UZ(7,"img",7),c.qZA(),c.TgZ(8,"div",8)(9,"button",9),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return c.KtG(u.addVariation(a))}),c._uU(10,"Select"),c.qZA()()()()()}if(2&n){const t=e.$implicit;c.xp6(5),c.Oqu(null==t?null:t.name),c.xp6(2),c.Q6J("src",(null==t?null:t.img)||(null==t?null:t.imageUrl9p),c.LSH)}}let jH=(()=>{class n{constructor(t){this.gloveApi=t,this.carouselTile=IB}ngOnInit(){this.dataSource.forEach(t=>(t.imageUrl&&(t.img=t.imageUrl,delete t.imageUrl),t)),this.custom=this.gloveApi.gloveCustom$.subscribe(t=>{null!=this.custom&&(this.custom=t)}),console.log(this.currentAttribute)}addVariation(t){console.log(t);try{t.attribute_pewc&&this.gloveApi.applyFormValue({attribute_pewc:t.attribute_pewc,attribute_wp:t.attribute_wp,name:t.name}),t.attribute_wp&&(console.log(t.name),this.gloveApi.applyFormValue("F. Hood"===t.name?{attribute_wp:t.attribute_wp,name:"finger-hood"}:{attribute_wp:t.attribute_wp,name:t.name})),console.log(this.currentAttribute),null!=this.currentAttribute&&"webs"===this.currentAttribute.title.toLowerCase()&&(this.gloveApi.applyFormValue({attribute_wp:t.id,value:t.value,attribute_pewc:"pewc_group_89335_89358",name:t.name}),this.custom.pewc_group_89335_89358=t.name,this.gloveApi.gloveCustom.next(this.custom))}catch(i){console.log(i)}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(D0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-input-slider"]],inputs:{dataSource:"dataSource",currentAttribute:"currentAttribute"},decls:4,vars:2,consts:[[3,"inputs","dataSource"],["type","button","NguCarouselPrev","",1,"leftRs"],["type","button","NguCarouselNext","",1,"rightRs"],[4,"nguCarouselDef"],[1,"slide-view_column","py-4","slide-margin"],[1,"slide-view__list","pb-2","my-2"],[2,"font-weight","600"],[1,"img-thumbnail","slide-img-size",3,"src"],[1,"slide-view__list","pt-2","my-2"],["type","button",1,"btn","btn-outline-success",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"ngu-carousel",0),c._UZ(1,"button",1)(2,"button",2),c.YNc(3,HH,11,2,"ngu-tile",3),c.qZA()),2&t&&c.Q6J("inputs",i.carouselTile)("dataSource",i.dataSource)},dependencies:[jC,pS,ty,ny,mw],styles:[".slide-img-size[_ngcontent-%COMP%]{height:150px}.slide-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.slide-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.slide-view__list[_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.slide-margin[_ngcontent-%COMP%]{margin:0 30px}"]}),n})();function WH(n,e){if(1&n&&(c.TgZ(0,"span",13),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.AsE("",t.index+1," / ",t.sectionLength,"")}}let zH=(()=>{class n{constructor(t){this.nav=t,this.sectionLength=0,this.lastStep=!1,this.currentTab=0,this.tabCount=!1,this.addToCartBtn=document.querySelector(".single_add_to_cart_button")}ngAfterViewInit(){null!=this.addToCartBtn&&(this.addToCartBtn.disabled=!0),document.getElementsByClassName("tab")}ngOnInit(){this.nav.currentTab.next(0),this.nav.currentTab$.subscribe(t=>{this.currentTab=t,this.showTab(t)})}onSwipeRight(t){this.showTab(-1)}onSwipeLeft(t){this.showTab(1)}nextPrev(t){if(0!==this.currentTab||-1!==t)return document.getElementsByClassName("tab")[this.currentTab].style.display="none",this.nav.nextPrev(this.currentTab+t),this.currentTab=this.currentTab+t,!1}enableBtnSlider(t){const i=document.getElementsByClassName("draggable"),r=i.length;console.log(r);for(let a=0;a<r;a++)a===t&&i[a].classList.remove("active");i[t].classList.add("active")}showTab(t){var i=document.getElementsByClassName("tab");let r=document.getElementById("m-prevBtn"),a=document.getElementById("m-nextBtn");const u=document.querySelectorAll("button#m-nextBtn");i[t].style.display="block",r.style.display=0==t?"none":"inline",t==i.length-1?(a.style.display="none",u[u.length-1].style.display="none",null!=this.addToCartBtn&&(this.addToCartBtn.disabled=!1)):a.style.display="inline"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(TB))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-mobile-navigation"]],inputs:{title:"title",index:"index",sectionLength:"sectionLength",lastStep:"lastStep"},decls:15,vars:2,consts:[[1,"row","mb-3","navigation-header",3,"swiperight","swipeleft"],[1,"col-3",2,"text-align","right"],["id","m-prevBtn",1,"btn",3,"click"],[2,"text-align","end"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"col-6",2,"text-align","center"],[1,"navigation_label"],["style"," color: rgb(0, 180, 0); ",4,"ngIf"],[1,"col-3"],["id","m-nextBtn",1,"btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right"],["fill-rule","evenodd","d","M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"],[2,"color","rgb(0, 180, 0)"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.NdJ("swiperight",function(){return i.nextPrev(-1)})("swipeleft",function(){return i.nextPrev(1)}),c.TgZ(1,"div",1)(2,"button",2),c.NdJ("click",function(){return i.nextPrev(-1)}),c.TgZ(3,"div",3),c.O4$(),c.TgZ(4,"svg",4),c._UZ(5,"path",5),c.qZA()()()(),c.kcU(),c.TgZ(6,"div",6)(7,"p",7),c._uU(8),c.YNc(9,WH,2,2,"span",8),c.qZA()(),c.TgZ(10,"div",9)(11,"button",10),c.NdJ("click",function(){return i.nextPrev(1)}),c.TgZ(12,"div"),c.O4$(),c.TgZ(13,"svg",11),c._UZ(14,"path",12),c.qZA()()()()()),2&t&&(c.xp6(8),c.hij("",i.title," "),c.xp6(1),c.Q6J("ngIf",i.sectionLength>=1))},dependencies:[Zn],styles:[".bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:28px;height:28px}.navigation_label[_ngcontent-%COMP%]{font-size:1.2rem;margin:unset}.navigation-header[_ngcontent-%COMP%]{align-items:center}@media (max-width: 450px){.bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:20px;height:20px}.navigation_label[_ngcontent-%COMP%]{font-size:1rem;margin:unset}}@media (max-width: 378px){.bi-arrow-right[_ngcontent-%COMP%], .bi-arrow-left[_ngcontent-%COMP%]{width:20px;height:20px}.navigation_label[_ngcontent-%COMP%]{font-size:.895rem;margin:unset}}"]}),n})(),qH=(()=>{class n{transform(t){if(void 0!==t)return t.split(" ").join("-").toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"dashString",type:n,pure:!0}),n})();const ZH=["mpersonalization"],YH=["mcustomernotes"];function KH(n,e){if(1&n){const t=c.EpF();c.ynx(0),c._UZ(1,"input",22),c.TgZ(2,"button",23),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(5);return c.KtG(u.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const t=e.$implicit,i=e.index;c.xp6(1),c.hYB("id","",t,"-",i,""),c.xp6(2),c.Oqu(t.name)}}function QH(n,e){if(1&n&&(c.ynx(0),c.YNc(1,KH,4,3,"ng-container",0),c.BQk()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngForOf",t.variations)}}function JH(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",3)(2,"div",4)(3,"div",5),c._UZ(4,"app-mobile-navigation",6),c.TgZ(5,"div",7)(6,"dl",8)(7,"dt",9),c._uU(8," Personalize your glove "),c.qZA(),c.TgZ(9,"dd",10)(10,"div",11)(11,"input",12,13),c.NdJ("keyup",function(){c.CHM(t);const r=c.oxw().$implicit,a=c.oxw(2);return c.KtG(a.addPersonalization(r.gloveInputs[0]))}),c.qZA()()()(),c.TgZ(13,"dl",8),c.ynx(14),c.TgZ(15,"dt",9),c._uU(16," Embroidery Font "),c.qZA(),c.TgZ(17,"dd",14)(18,"div",15),c.YNc(19,QH,2,1,"ng-container",0),c.qZA()(),c.BQk(),c.qZA(),c.TgZ(20,"dl",8)(21,"dt",9),c._uU(22," Order Notes "),c.qZA(),c.TgZ(23,"dd",10)(24,"div",16)(25,"textarea",17,18),c.NdJ("keyup",function(){c.CHM(t);const r=c.oxw().$implicit,a=c.oxw(2);return c.KtG(a.addOrderNote(r.gloveInputs[2]))}),c.qZA(),c.TgZ(27,"label",19),c._uU(28,"Anything we need to know? "),c.qZA()()()()(),c.TgZ(29,"div",20)(30,"button",21),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(3);return c.KtG(r.triggerAddToCart())}),c._uU(31,"Add To Cart"),c.qZA()()()()(),c.BQk()}if(2&n){const t=c.oxw().$implicit;c.xp6(4),c.Q6J("title","Final Step")("lastStep",!0),c.xp6(15),c.Q6J("ngForOf",t.gloveInputs)}}function XH(n,e){1&n&&(c.TgZ(0,"span",31),c._uU(1,"*"),c.qZA())}function ej(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",3)(2,"div",24)(3,"div",5),c._UZ(4,"app-mobile-navigation",25),c.TgZ(5,"div",26)(6,"div",27)(7,"h5",28),c._uU(8,"Do you want to add a finger pad or hood?"),c.YNc(9,XH,2,0,"span",29),c.qZA(),c._UZ(10,"app-input-slider",30),c.qZA()()()()(),c.BQk()),2&n){const t=c.oxw(),i=t.$implicit,r=t.index;c.xp6(4),c.Q6J("title",i.title)("index",r)("sectionLength",i.gloveInputs.length),c.xp6(5),c.Q6J("ngIf",!0===i.required),c.xp6(1),c.Q6J("dataSource",i.variations)}}function tj(n,e){1&n&&(c.TgZ(0,"span",31),c._uU(1,"*"),c.qZA())}function nj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",3)(2,"div",24),c._UZ(3,"app-mobile-navigation",25),c.TgZ(4,"div",5)(5,"div",32)(6,"div",33)(7,"h5",28),c._uU(8),c.YNc(9,tj,2,0,"span",29),c.qZA()(),c.TgZ(10,"div",33)(11,"p",34),c._uU(12,"Web Selected: "),c.TgZ(13,"span",35),c._uU(14),c.qZA()()()(),c._UZ(15,"app-input-slider",36),c.qZA()()(),c.BQk()),2&n){const t=c.oxw(),i=t.$implicit,r=t.index,a=c.oxw(2);c.xp6(3),c.Q6J("title",i.title)("index",r)("sectionLength",i.gloveInputs.length),c.xp6(5),c.Oqu(i.title),c.xp6(1),c.Q6J("ngIf",!0===i.required),c.xp6(5),c.Oqu(a.custom.pewc_group_89335_89358||"No Selection"),c.xp6(1),c.Q6J("dataSource",a.filterWebs())("currentAttribute",i)}}function ij(n,e){if(1&n&&(c.TgZ(0,"span",49),c.O4$(),c.TgZ(1,"svg",50),c._UZ(2,"path",51)(3,"path",52),c.qZA()()),2&n){c.oxw();const t=c.MAs(12);c.Q6J("ngbTooltip",t)}}function rj(n,e){1&n&&(c.TgZ(0,"span",31),c._uU(1,"* "),c.qZA())}function sj(n,e){if(1&n&&c._UZ(0,"img",53),2&n){const t=c.oxw().$implicit;c.Q6J("src",t.image,c.LSH)}}function oj(n,e){1&n&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"Depending on mitt style, Welt may not be available."),c.qZA(),c.BQk())}function aj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",54)(2,"p",55),c._uU(3),c.qZA()(),c.BQk()),2&n){const t=c.oxw(3).$implicit;c.xp6(3),c.Oqu(t.info.label)}}function lj(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",56)(2,"button",57),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(2),g=u.$implicit,y=u.index,C=c.oxw(4);return c.KtG(C.addColorVariation(g,a,y))}),c.ALo(3,"dashString"),c.qZA()(),c.BQk()}if(2&n){const t=e.$implicit,i=e.index;c.xp6(2),c.Udp("background",t.hex),c.hYB("id","",c.lcZ(3,5,t.label),"-",i,""),c.s9C("ngbTooltip",t.name)}}function cj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,lj,4,7,"ng-container",0),c.BQk()),2&n){const t=c.oxw().$implicit,i=c.oxw(2).$implicit,r=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",r.colorFilter(i.type,t.gloveType))}}function uj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",3)(2,"div",37)(3,"div",5),c._UZ(4,"app-mobile-navigation",38),c.TgZ(5,"div",39)(6,"div",33)(7,"h5",28),c._uU(8),c.YNc(9,ij,4,1,"span",40),c.YNc(10,rj,2,0,"span",29),c.YNc(11,sj,1,1,"ng-template",null,41,c.W1O),c.qZA(),c.YNc(13,oj,3,0,"ng-container",42),c.qZA(),c.TgZ(14,"div",43)(15,"p",11),c._uU(16,"Color Selected: "),c.TgZ(17,"span",44),c._uU(18),c.qZA()()()(),c.YNc(19,aj,4,1,"ng-container",42),c._UZ(20,"hr"),c.TgZ(21,"div",45)(22,"div",46)(23,"div",47),c.ynx(24,48),c.YNc(25,cj,2,1,"ng-container",42),c.BQk(),c.qZA()()()()()(),c.BQk()),2&n){const t=e.$implicit,i=e.index,r=c.oxw(2).$implicit,a=c.oxw(2);c.xp6(4),c.Q6J("title",r.title)("index",i)("sectionLength",r.gloveInputs.length),c.xp6(4),c.hij("",t.label," "),c.xp6(1),c.Q6J("ngIf",null!=t.image),c.xp6(1),c.Q6J("ngIf",!0===t.required),c.xp6(3),c.Q6J("ngIf","catcher"==a.gloveType.name&&"Welt Color"==t.label),c.xp6(5),c.Oqu((null==a.custom[t.attribute_wp]?null:a.custom[t.attribute_wp].name)||"No Selection"),c.xp6(1),c.Q6J("ngIf","Finger Pad Color"===r.title),c.xp6(6),c.Q6J("ngIf",void 0!==a.color&&"Finger Cover"!==r.title)}}function dj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,uj,26,10,"ng-container",0),c.BQk()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",t.gloveInputs)}}function hj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,JH,32,3,"ng-container",2),c.YNc(2,ej,11,5,"ng-container",2),c.YNc(3,nj,16,8,"ng-container",2),c.YNc(4,dj,2,1,"ng-container",2),c.BQk()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngSwitchCase","Glove Personalization"===t.title),c.xp6(1),c.Q6J("ngSwitchCase","Finger Cover"===t.title),c.xp6(1),c.Q6J("ngSwitchCase","Webs"===t.title),c.xp6(1),c.Q6J("ngSwitchCase","Glove Personalization"!==t.title)}}function fj(n,e){if(1&n&&(c.ynx(0)(1,1),c.YNc(2,hj,5,4,"ng-container",0),c.BQk()()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngSwitch",!0),c.xp6(1),c.Q6J("ngForOf",t.prompt)}}let pj=(()=>{class n{constructor(t,i,r){this.gloveApi=t,this.data=i,this.nav=r,this.leatherSelected="steer",this.custom={},this.carouselTile=IB,this.currentTab=0,this.lastDragPosX=0,this.isDragging=!1,this.lastPointerPosX=0}ngAfterViewInit(){}ngOnInit(){this.nav.currentTab$.subscribe(t=>{this.currentTab=t}),this.gloveApi.leatherSelected$.subscribe(t=>{this.leatherSelected=t}),this.gloveApi.gloveType$.subscribe(t=>{this.gloveType=t}),this.data.getColors().subscribe(t=>{this.color=t}),this.data.getGloveWebs().pipe((0,It.U)(t=>t.map(i=>({name:i.valueString,...i})))).subscribe(t=>{this.webs=t}),this.gloveApi.gloveDesign$.subscribe(t=>{ki.forEach(t,(i,r)=>{ki.forEach(i,(a,u)=>{"prompt"===u&&ki.map(a,(g,y)=>{g.gloveInputs=ki.filter(g.gloveInputs,C=>{if(C.gloveType.includes(this.gloveType.glove)&&C.active)return C})})})}),this.options=t,console.log(this.options)}),this.gloveApi.gloveCustom$.subscribe(t=>{null!=t&&(this.custom=t)})}addColorVariation(t,i,r){const a={attribute:t.attribute_pewc,attribute_wp:t.attribute_wp,...i};this.custom[t.attribute_wp]={name:i.name,custom:{hex:i.hex,rgb:i.rgb,section:t.glovePart}},this.gloveApi.gloveCustom.next(this.custom),this.gloveApi.applyFormValue({attribute_pewc:a.attribute,attribute_wp:a.attribute_wp,name:a.name}),this.gloveApi.applyFilltoCanvas({section:t.glovePart,hex:i.hex,rgb:i.rgb})}addPersonalization(t){this.gloveApi.applyFormValue({attribute_pewc:t.attribute_pewc,attribute_wp:t.attribute_wp,name:this.personalization.nativeElement.value})}addOrderNote(t){this.gloveApi.applyFormValue({attribute_pewc:t.attribute_pewc,attribute_wp:t.attribute_wp,name:this.customernotes.nativeElement.value})}addVariation(t){console.log(t),this.gloveApi.applyFormValue(t)}colorFilter(t,i){const r=t;let a=[];return this.color.forEach(u=>{"leather"===r?("steer"===this.leatherSelected||"kip"===this.leatherSelected)&&u.leather.includes(this.leatherSelected)&&a.push(u):u.leather.includes(r)&&a.push(u)}),a}filterWebs(){return((n,e)=>{let t=[];return null!=n&&(t=n.filter(i=>i.gloveType.find(r=>r===e.name.toLowerCase()))),t})(this.webs,this.gloveType)}filterWebInputs(){let t=[];return null!=this.webs&&(t=this.webs.filter(i=>i.gloveType.find(r=>r===this.gloveType.name.toLowerCase()))),t}selectWeb(t){console.log(t)}showTab(t){var i=document.getElementsByClassName("tab");let r=document.getElementById("m-prevBtn"),a=document.getElementById("m-nextBtn");i[t].style.display="block",r.style.display=0==t?"none":"inline",t==i.length-1&&(a.style.display="none")}triggerAddToCart(){this.gloveApi.triggerAddToCart()}initDraggableContainer(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(D0),c.Y36(EM),c.Y36(TB))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-mobile-ui"]],viewQuery:function(t,i){if(1&t&&(c.Gf(ZH,5),c.Gf(YH,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.personalization=r.first),c.iGM(r=c.CRH())&&(i.customernotes=r.first)}},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab"],[1,"card","p-4","border","shadow-lg"],[1,"card-body"],[1,"navigation",3,"title","lastStep"],[1,"row","px-2"],[1,"row","w-100","align-items-center"],[1,"col-sm-12","col-md-5","text-center","mb-2"],[1,"col-sm-12","col-md-7","mb-1"],[1,""],["type","text","id","glove-personalization","placeholder","Glove Personalization",1,"form-control",3,"keyup"],["mpersonalization",""],[1,"col-sm-12","col-md-7","mb-1","d-flex"],[1,"col","main-button-group__item"],[1,"form-floating"],["id","customer-notes","placeholder","Glove Personalization",1,"form-control",2,"height","100px",3,"keyup"],["mcustomernotes",""],["for","customer-notes"],[1,"row","px-5"],["type","button",1,"btn","btn-success","btn-lg","px-5",3,"click"],["type","radio","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","flex-fill","m-2",3,"click"],[1,"card","mx-3","border"],[1,"navigation",3,"title","index","sectionLength"],[1,"row","gy-3","mt-2","px-4",2,"touch-action","none"],[1,"col","mt-0"],[1,"card-title","mb-2"],["class","required",4,"ngIf"],[3,"dataSource"],[1,"required"],[1,"row","gy-3","px-4",2,"touch-action","none"],[1,"col"],[1,"h6"],[2,"color","rgb(0, 0, 0)","font-weight","600","font-style","italic","font-size","1.125em","padding-left","10px"],[3,"dataSource","currentAttribute"],[1,"card","p-4","border"],[3,"title","index","sectionLength"],[1,"row","gy-3"],["triggers","click hover",3,"ngbTooltip",4,"ngIf"],["toolTipContent",""],[4,"ngIf"],[1,"col","progress-hint","pl-3"],[2,"color","rgb(0, 0, 0)"],[1,"row","d-flex","buttons-container"],["id","draggable-container",1,"draggable"],["id","draggableheader",1,"d-flex","flex-wrap",2,"padding","10px"],[1,"col-md","radio-input-container"],["triggers","click hover",3,"ngbTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","black","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"img-thumbnail",3,"src"],[1,"row"],[1,"card-subtitle",2,"font-size","0.875em"],[1,"d-flex","align-items-center","justify-content-center","mx-2","mb-3"],["type","button","tooltipClass","qo-tooltip-class",1,"btn","shadow","radio-buttons",2,"display","flex",3,"id","ngbTooltip","click"]],template:function(t,i){1&t&&(c.ynx(0),c.YNc(1,fj,3,2,"ng-container",0),c.BQk()),2&t&&(c.xp6(1),c.Q6J("ngForOf",i.options))},dependencies:[Dr,Zn,po,gs,tS,jH,zH,qH],styles:[".navigation[_ngcontent-%COMP%]{margin-top:40px}.buttons-container[_ngcontent-%COMP%]{position:relative;white-space:nowrap}.buttons-container.button[_ngcontent-%COMP%]{padding:14px}.draggable[_ngcontent-%COMP%]{touch-action:pan-y!important}.active[_ngcontent-%COMP%]{position:absolute;left:300px}.progress-hint[_ngcontent-%COMP%]{font-size:.875em;color:#5b5a5a}.progress-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-style:italic;font-size:1.125em}hr[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.gesture[_ngcontent-%COMP%]{position:relative;animation:animateright right 15s;animation-iteration-count:1;animation-name:hand}.card[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]{border-top-right-radius:3rem;border-top-left-radius:3rem;-webkit-border-top-left-radius:3rem;-webkit-border-top-right-radius:3rem}.tab[_ngcontent-%COMP%]{display:none}@keyframes hand{0%{right:300px;opacity:0}to{vertical-align:middle;opacity:1}}.qo-tooltip-class[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{width:60px;background-color:purple}.qo-tooltip-class[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:before{border-top-color:purple}.web-buttons[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;margin:2px;display:flex;justify-content:center;vertical-align:center}.web-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;padding:2px}@media screen and (max-width: 492px){h5[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})();function gj(n,e){1&n&&(c.TgZ(0,"div"),c.O4$(),c._UZ(1,"svg",9,10),c.qZA())}function _j(n,e){1&n&&(c.TgZ(0,"div"),c.O4$(),c._UZ(1,"svg",11,12),c.qZA())}function mj(n,e){1&n&&(c.TgZ(0,"div"),c.O4$(),c._UZ(1,"svg",13,14),c.qZA())}let vj=(()=>{class n{constructor(t,i,r){this.gloveApi=i,this.toolTip=r,t.showNavigationArrows=!0,t.showNavigationIndicators=!0,t.animation=!1,t.interval=0,r.closeDelay=500}ngOnInit(){this.product$=this.gloveApi.product$,this.gloveApi.product$.subscribe(t=>{console.log(`Receiving product info ${t}`)})}loadSnap(){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js",t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}setLeather(t){!0===t.target.checked?(this.gloveApi.leatherSelected.next("kip"),console.log("Kip selected"),this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89337_kip",name:"kip"})):(this.gloveApi.leatherSelected.next("steer"),console.log("Steer selected"),this.gloveApi.applyFormValue({attribute_pewc:"pewc_group_89335_89337_steer",name:"steer"}));const i=document.getElementById("pewc_total_calc_price");this.gloveApi.product$.pipe(fa()).subscribe(r=>{console.log(`Old price: ${r.price}`),console.log(`New price is ${i.value}`),i.value!==r.price?(this.gloveApi.product.next({...r,price:i.value}),console.log({...r,price:i.value})):console.log("Price is the same")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qu),c.Y36(D0),c.Y36(lw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-glove-view"]],decls:10,vars:0,consts:[["id","glove-container",1,"container"],[2,"max-width","768px"],["id","gloveContainer",1,"row","d-flex","justify-content-center","align-items-center",2,"max-width","400px"],[1,"glove-carousel"],["gloveSlide","ngbCarousel"],["ngbSlide","","id","slide-0"],["ngbSlide","","id","slide-1"],["ngbSlide","","id","slide-2"],[1,"row"],["id","svg-side"],["svgSide",""],["id","svg-main"],["svgMain",""],["id","svg-inside"],["svgInside",""]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngb-carousel",3,4),c.YNc(5,gj,3,0,"ng-template",5),c.YNc(6,_j,3,0,"ng-template",6),c.YNc(7,mj,3,0,"ng-template",7),c.qZA()(),c.TgZ(8,"div",8),c._UZ(9,"app-mobile-ui"),c.qZA()()())},dependencies:[Rb,Lh,pj],styles:["#gloveContainer[_ngcontent-%COMP%]{background:#EDEFF0;max-width:400px;margin:0 auto}#glove-container[_ngcontent-%COMP%]{max-width:768px;background:#EDEFF0}.accordion-body[_ngcontent-%COMP%]{padding:unset!important}.glove-carousel[_ngcontent-%COMP%]{background:#EDEFF0;max-width:100%;height:auto}.clone-container[_ngcontent-%COMP%]{display:flex;align-content:space-between}.clone-container_items[_ngcontent-%COMP%]{display:flex;width:100%}.clone-image[_ngcontent-%COMP%]{width:200px}.mobile-mode[_ngcontent-%COMP%]{display:none;margin:-100px 0 0;z-index:100}.h1[_ngcontent-%COMP%]{font-size:calc(.6rem + 1.5vw)}.leather-input[_ngcontent-%COMP%]{width:50px;margin-right:25px}@media (max-width: 991px){.mobile-mode[_ngcontent-%COMP%]{display:block}.fs-6[_ngcontent-%COMP%]{font-size:.8rem!important}}@media (min-width: 768px){.mobile-mode[_ngcontent-%COMP%]{margin-top:-50px}}@media (max-width: 580px){.mobile-mode[_ngcontent-%COMP%]{margin-top:-25px}}@media (max-width: 390px){.h1[_ngcontent-%COMP%]{font-size:calc(.9rem + 1.5vw)}}"]}),n})();const yj=["buttonUi"],bj=["personalization"];function wj(n,e){1&n&&(c.TgZ(0,"div",1)(1,"div",5),c._UZ(2,"app-glove-view"),c.qZA()())}let Dj=(()=>{class n{constructor(t,i,r,a){this.gloveApi=t,this.tooltip=i,this.afs=r,this.sanitizer=a,this.custom=[],this.accordionIds=[],this.domResponse={},this.tooltip.placement="right",this.tooltip.triggers="hover"}ngOnInit(){this.gloveApi.leatherSelected$.subscribe(t=>{this.leatherSelected=t}),this.gloveApi.gloveType$.subscribe(t=>{this.gloveType=t}),this.gloveApi.gloveDesign$.subscribe(t=>{console.log(t),ki.forEach(t,(i,r)=>{ki.forEach(i,(a,u)=>{"prompt"===u&&ki.map(a,(g,y)=>{g.active&&(console.log(g.active),g.gloveInputs=ki.filter(g.gloveInputs,C=>{if(C.gloveType.includes(this.gloveType.glove)&&C.active)return C}))})})}),this.options=t})}ngAfterViewInit(){this.gloveApi.init()}addVariation(t){this.gloveApi.applyFormValue(t)}triggerAddToCart(){this.gloveApi.triggerAddToCart()}addPersonalization(t){this.gloveApi.applyFormValue({attribute:t.attribute_pewc,name:this.personalization.nativeElement.value})}urlSanitizer(t){return this.sanitizer.bypassSecurityTrustResourceUrl(`https:${t}`)}panelChange(t){if(this.domResponse[t]){const r=this.domResponse[t];document.querySelectorAll("button.btn").length>0&&document.querySelectorAll("button.btn").forEach(a=>{a.classList.remove("active"),a.innerText.toLowerCase()===r.name.toLowerCase()&&a.classList.add("active"),a.innerText===r&&a.classList.add("active")})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(D0),c.Y36(lw),c.Y36(dD),c.Y36(Pc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-glove-ui"]],viewQuery:function(t,i){if(1&t&&(c.Gf(yj,5),c.Gf(bj,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.buttonUi=r.first),c.iGM(r=c.CRH())&&(i.personalization=r.first)}},features:[c._Bn([F])],decls:5,vars:1,consts:[["id","glove-designer",1,"container",2,"padding","unset"],[1,"row"],["activeIds","main-0",3,"destroyOnHide"],["id","main-0","title","Glove Designer"],["ngbPanelContent",""],[1,"col-sm-12"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"ngb-accordion",2)(3,"ngb-panel",3),c.YNc(4,wj,3,0,"ng-template",4),c.qZA()()()()),2&t&&(c.xp6(2),c.Q6J("destroyOnHide",!1))},dependencies:[Qe,je,fe,vj],styles:[".ngb-padding[_ngcontent-%COMP%]{padding:0 6px}ngb-accordion[_ngcontent-%COMP%]{padding:0 6px}.info-modal[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:10px}.custom-header-button.accordion-button[_ngcontent-%COMP%]{--bs-accordion-active-color: #fff;--bs-accordion-btn-active-icon: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'><path fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/></svg>\")}.numberCircle[_ngcontent-%COMP%]{border-radius:50%;width:1.8rem;height:1.8rem;padding:8px;background:#fff;border:2px solid #666;color:#666;text-align:center;font:1rem Arial,sans-serif}.web-buttons[_ngcontent-%COMP%]{width:3.125rem;height:3.125rem;margin:2px;display:flex;justify-content:center;vertical-align:center}.web-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;padding:2px}.form-group[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin:.25rem}.fpad-img-size[_ngcontent-%COMP%]{width:auto;height:172px}.fpad-web-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.fpad-web-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.fpad-web-view__list[_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.fpad-margin[_ngcontent-%COMP%]{margin:0 30px}.glove-brand-img-size[_ngcontent-%COMP%]{width:206px;height:100px}.glove-brand-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.glove-brand-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.glove-brand-margin[_ngcontent-%COMP%]{margin:0 30px}section[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})();const Cj=[{attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",name:'10.50"',glove:["infielder","pitcher"],seqNo:1},{attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",glove:["infielder","pitcher"],seqNo:2,name:'11"'},{seqNo:3,glove:["infielder","pitcher"],name:'11.25"',attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size"},{seqNo:3,glove:["infielder","pitcher"],name:'11.50"',attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size"},{glove:["infielder","pitcher"],seqNo:4,attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",name:'11.75"'},{attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",seqNo:5,glove:["infielder","pitcher"],name:'12"'},{seqNo:6,glove:["outfielder","pitcher","first base","1st base"],name:'12.50"',attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder"],name:'12.75"',seqNo:7,attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339"},{glove:["outfielder","first base","1st base"],attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",name:'13"',seqNo:8},{seqNo:9,glove:["outfielder","first base","1st base"],attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",name:'14"'},{seqNo:11,attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",name:'31.50"',glove:["catcher"]},{seqNo:11,attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",name:'32.50"',glove:["catcher"]},{glove:[],attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",seqNo:12,name:'33"'},{seqNo:13,name:'33.50"',glove:["catcher"],attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339"},{name:'34"',attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:14},{name:'34.50"',attribute_wp:"pa_glove-size",attribute_pewc:"pewc_group_89335_89339",glove:["catcher"],seqNo:15}],EB=[{active:!0,seqNo:1,id:"main-",disabled:!1,includeOptions:!1,title:"Glove Type",label:"Glove Type:",variations:[{attribute_pewc:"pewc_group_89335_89336",name:"Baseball",label:"Glove Type",attribute_wp:"pa_glove-type"},{label:"Glove Type",name:"Softball",attribute_pewc:"pewc_group_89335_89336",attribute_wp:"pa_glove-type"}]},{active:!1,seqNo:2,id:"main-",disabled:!1,includeOptions:!1,title:"Leather Type",label:"Leather Type:",variations:[{attribute_pewc:"pewc_group_89335_89336",name:"US Steer",label:"Leather Type",attribute_wp:"pa_glove-leather"},{label:"Leather Type",name:"Japan Kip",attribute_pewc:"pewc_group_89335_89336",attribute_wp:"pa_glove-leather"}]},{active:!0,seqNo:3,id:"main-",disabled:!1,includeOptions:!1,attribute_pewc:"pewc_group_89335_89338",title:"Glove Position",label:"Glove Position",variations:[{gloveType:"glove",label:"Field Position",attribute_pewc:"pewc_group_89335_89338",name:"Infielder",gloveBase:"inf",attribute_wp:"pa_glove-position"},{gloveType:"mitt",name:"Catcher",gloveBase:"catcher-mitt",attribute_pewc:"pewc_group_89335_89338",label:"Field Position",attribute_wp:"pa_glove-position"},{attribute_pewc:"pewc_group_89335_89338",label:"Field Position",name:"1st Base",gloveType:"mitt",gloveBase:"fbase",attribute_wp:"pa_glove-position"},{name:"Outfielder",attribute_pewc:"pewc_group_89335_89338",label:"Field Position",gloveBase:"of",gloveType:"glove",attribute_wp:"pa_glove-position"}]},{active:!0,seqNo:4,id:"main-",disabled:!1,includeOptions:!1,attribute_pewc:"pewc_group_89335_89339",attribute_wp:"pa_glove-size",label:"Glove Size",title:"Glove Size",options:[],variations:[]},{active:!0,seqNo:5,id:"main-",attribute_pewc:"pewc_group_89335_89340",disabled:!1,includeOptions:!1,label:"Throwing Arm",title:"Throwing Arm",options:[],variations:[{name:"Right Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340",attribute_wp:"pa_throwing-arm"},{name:"Left Hand Throw",label:"Throwing Arm",attribute_pewc:"pewc_group_89335_89340",attribute_wp:"pa_throwing-arm"}]},{active:!1,seqNo:6,id:"main-",disabled:!0,label:"Glove Brand",title:"Glove Brand",includeOptions:!0,options:[],info:{title:"<h3>What is the difference between NYStix and 9P?</h3>",content:"<p>NYStix was created to fulfill a need for better baseball equipment in the parks of New York City and Long Island. <br> 9P (9Positions) is a brand created for the world.</p>"},variations:[{id:"pa_glove-brand",valueString:"NYStix",attribute_pewc:"pewc_group_89335_89341",img:"https://nystix.com/wp-content/uploads/2021/10/nystix.svg",value:"nystix",name:"NYStix",attribute_wp:"pa_glove-brand"},{name:"9Positions",value:"9positions",attribute_pewc:"pewc_group_89335_89341",attribute_wp:"pa_glove-brand",img:"https://nystix.com/wp-content/uploads/2021/10/nine-positions.svg",id:"pa_glove-brand",valueString:"9Positions"},{attribute_pewc:"pewc_group_89335_89341",img:"//nystix.com/wp-content/uploads/2021/10/nystix-alt.svg",value:"nystix-alt",valueString:"NYStix Alt",id:"pa_glove-brand",name:"NYStix Alt",attribute_wp:"pa_glove-brand"}]},{seqNo:6,id:"main-",disabled:!1,includeOptions:!0,contents:[],title:"Glove Designer",label:"Glove Designer",options:[{id:"",type:"leather",title:"",label:"Surface Leather",header:"glove-design-",info:{description:null,label:null},input:"buttons",prompt:[{active:!0,title:"Glove Shell",elementRef:"radio",type:"leather",gloveInputs:[{glovePart:"thb",fingerId:"1",label:"Thumb Finger",gloveType:["mitt"],attribute_wp:"pa_thumb-finger-color",attribute_pewc:"pewc_group_89335_89342",image:null,required:!0,active:!0},{glovePart:"bfg",attribute_pewc:"pewc_group_89335_89343",label:"Back Finger",gloveType:["mitt"],fingerId:"2",attribute_wp:"pa_back-finger-color",required:!0,active:!0},{glovePart:"thbo",attribute_pewc:"pewc_group_89335_89344",gloveType:["glove"],label:"Thumb Outer",attribute_wp:"pa_thumb-outer-color",image:null,fingerId:"1",required:!0,active:!0},{attribute_wp:"pa_thumb-inner-color",glovePart:"thbi",label:"Thumb Inner",attribute_pewc:"pewc_group_89335_89345",image:null,gloveType:["glove"],fingerId:"2",required:!0,active:!0},{fingerId:"3",gloveType:["glove"],label:"Index Inner",glovePart:"indi",attribute_pewc:"pewc_group_89335_89346",attribute_wp:"pa_index-inner-color",required:!0,image:null,active:!0},{glovePart:"indo",attribute_wp:"pa_index-outer-color",fingerId:"4",gloveType:["glove"],label:"Index Outer",attribute_pewc:"pewc_group_89335_89347",required:!0,image:null,active:!0},{fingerId:"5",label:"Middle Inner",gloveType:["glove"],glovePart:"midi",attribute_pewc:"pewc_group_89335_89348",attribute_wp:"pa_middle-inner-color",required:!0,image:null,active:!0},{attribute_wp:"pa_middle-outer-color",fingerId:"5",glovePart:"mido",gloveType:["glove"],label:"Middle Outer",attribute_pewc:"pewc_group_89335_89349",image:null,required:!0,active:!0},{gloveType:["glove"],fingerId:"6",attribute_pewc:"pewc_group_89335_89350",label:"Ring Inner",attribute_wp:"pa_ring-inner-color",glovePart:"rngi",required:!0,image:null,active:!0},{attribute_wp:"pa_ring-outer-color",attribute_pewc:"pewc_group_89335_89351",fingerId:"7",label:"Ring Outer",glovePart:"rngo",gloveType:["glove"],required:!0,image:null,active:!0},{fingerId:"8",gloveType:["glove"],attribute_pewc:"pewc_group_89335_89352",glovePart:"pnki",label:"Pinky Inner",attribute_wp:"pa_pinky-inner-color",required:!0,image:null,active:!0},{label:"Pinky Outer",gloveType:["glove"],attribute_wp:"pa_pinky-outer-color",fingerId:"9",glovePart:"pnko",attribute_pewc:"pewc_group_89335_89353",required:!0,image:null,active:!0},{fingerId:"10",gloveType:["glove","mitt"],attribute_pewc:"pewc_group_89335_89354",label:"Wrist Color",attribute_wp:"pa_wrist-color",glovePart:"wst",required:!0,image:null,active:!0}],info:{description:null,label:null}},{title:"Glove Pocket",header:"glove-design-",type:"leather",elementRef:"radio",active:!0,info:{label:null,description:null},gloveInputs:[{attribute_pewc:"pewc_group_89335_89355",attribute_wp:"pa_palm-color",glovePart:"plm",gloveType:["glove","mitt"],fingerId:"11",label:"Palm Color",required:!0,active:!0,image:null},{attribute_pewc:"pewc_group_89335_90148",attribute_wp:"pa_lining-color",glovePart:"lin",gloveType:["glove","mitt"],fingerId:"11",label:"Lining",required:!0,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/palm-lining.jpg",info:{label:null,description:"The palm lining is inside of the glove. The color will not be visible."}},{attribute_pewc:"pewc_group_89335_89356",attribute_wp:"pa_target-color",glovePart:"tgt",gloveType:["mitt"],fingerId:"11",label:"Target Color",required:!1,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/target-samples.jpg"}]},{title:"Finger Loop",header:"glove-design-",active:!1,type:"leather",elementRef:"radio",gloveInputs:[{attribute_wp:"pa_finger-loop-color",glovePart:"fstrap",attribute_pewc:"pewc_group_89335_89357",fingerId:"11",gloveType:["mitt","glove"],label:"Thumb/Little Finger Strap",required:!1,active:!1,image:null}],info:{label:null,description:"Finger loops are the laces that secure the thumbs and pinky fingers."}}]},{label:"Glove Web",header:"glove-web-",id:"static-",input:"buttons",type:"leather",info:{label:null,description:"Swipe to view all web options and select the web for your glove. "},prompt:[{active:!0,title:"Webs",attribute_pewc:"pewc_group_89335_89358",attribute_wp:"",header:"",elementRef:"radio",type:"leather",gloveInputs:[{label:"Web Color",glovePart:"web",attribute_pewc:"pewc_group_89335_89359",fingerId:"13",attribute_wp:"pa_web-color",gloveType:["glove","mitt"],required:!0,active:!0,image:null},{attribute_pewc:"pewc_group_89335_89360",glovePart:"utoe",gloveType:["mitt"],attribute_wp:"pa_web-base-color",fingerId:"4",label:"Web Base Color",required:!0,active:!0,image:null}],info:{label:null,description:null}}]},{label:"Glove Binding, Lace & Welt",header:"glove-trim-",type:"leather",info:{label:null,description:"Select colors for binding, lace and welt. Selections are required."},input:"buttons",prompt:[{type:"leather",glovePart:"bnd",title:"Glove Trim",elementRef:"radio",active:!0,gloveInputs:[{attribute_wp:"pa_binding-color",attribute_pewc:"pewc_group_89335_89361",fingerId:"15",gloveType:["glove","mitt"],label:"Binding Color",glovePart:"bnd",required:!0,active:!0,image:"https://nystix.com/wp-content/uploads/2022/10/best-binding-on-baseball-glove.jpg"},{attribute_wp:"pa_lace-color",attribute_pewc:"pewc_group_89335_89362",gloveType:["glove","mitt"],fingerId:"14",label:"Lace Color",glovePart:"lce",required:!0,active:!0,image:null},{attribute_wp:"pa_welt-color",attribute_pewc:"pewc_group_89335_89363",gloveType:["glove","mitt"],fingerId:"13",label:"Welt Color",glovePart:"wlt",required:!0,image:"https://nystix.com/wp-content/uploads/2022/10/best-welting-on-a-baseball-glove.jpg",active:!0}],info:{description:null,label:null}}]},{label:"Glove Embroidery and Stitching",title:"",header:"glove-thread-",type:"embroidery",info:{label:null,description:"In the Logo Color section, choose the thread color for the wrist logo and personalization. The stitching tread color will be used to bind the leather parts."},input:"buttons",prompt:[{active:!0,type:"embroidery",header:"",glovePart:"logo",title:"Embroidery",elementRef:"radio",gloveInputs:[{fingerId:"17",attribute_wp:"pa_glove-logo-color",glovePart:"logo",label:"Glove Logo Color",attribute_pewc:"pewc_group_89335_89364",image:"https://nystix.com/wp-content/uploads/2022/10/brand-logo.jpg",gloveType:["mitt","glove"],required:!0,active:!0},{glovePart:"stch",gloveType:["glove","mitt"],label:"Stitching Color",fingerId:"16",attribute_wp:"pa_stitching-color",attribute_pewc:"pewc_group_89335_89365",image:"https://nystix.com/wp-content/uploads/2022/10/stitching-sample.jpg",required:!0,active:!0},{glovePart:"psnl",gloveType:["glove","mitt"],label:"Personalization Embroidery Color",fingerId:"16",attribute_wp:"pa_embroidery-color",attribute_pewc:"pewc_group_89335_90601",image:"https://nystix.com/wp-content/uploads/2022/10/personalization-sample.jpg",required:!1,active:!0}],info:{label:null,description:null}}]},{id:"static-",title:"",prompt:[{title:"Finger Cover",active:!0,elementRef:"radio",header:"",info:{label:null,description:"Select the type of finger cover you want to add to your glove. It is not required to have a finger cover."},variations:[{attribute_pewc:"pewc_group_89335_89366",attribute_wp:"pa_finger-protector",img:"https://nystix.com/wp-content/uploads/2020/11/no-pad-hood.jpg",name:"No Pad"},{name:"Finger Pad",attribute_pewc:"pewc_group_89335_89366",attribute_wp:"pa_finger-protector",img:"https://nystix.com/wp-content/uploads/2020/11/nystix-finger-pad.jpg"},{img:"https://nystix.com/wp-content/uploads/2020/11/finger-hood.jpg",name:"F. Hood",attribute_pewc:"pewc_group_89335_89366",attribute_wp:"pa_finger-protector"}],type:"leather",gloveInputs:[]},{title:"Pad/Hood Color",active:!0,type:"leather",elementRef:"radio",info:{label:'Not required if "No Pad" was selected in previous step.',description:"The color of the finger cover might not change in glove view."},gloveInputs:[{glovePart:"fpad",fingerId:"",attribute_pewc:"pewc_group_89335_89367",attribute_wp:"pa_finger-protector-color",label:"Finger Pad Color",gloveType:["mitt","glove"],required:!1,image:null,active:!0}]}],info:{label:null,description:null},input:"buttons",label:"Finger Protection",header:"finger-protector",type:"leather"},{title:"",label:"Glove Personalization",header:"glove-design-",input:"buttons",active:!0,info:{label:null,description:null},type:"leather",id:"static-",prompt:[{title:"Glove Personalization",info:{label:null,description:null},active:!0,gloveInputs:[{label:"Glove Personalization",glovePart:"psnl",active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89368",elementRef:"text",attribute_wp:"custom_text_add_on",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}},{elementRef:"text",attribute_pewc:"pewc_group_89335_89369",label:"Embroidery Font",fingerId:null,attribute_wp:"pa_embroidery-font",active:!0,required:!1,variations:[{name:"Script Font",attribute_pewc:"pewc_group_89335_89369",attribute_wp:"pa_embroidery-font",label:"Glove Font"},{name:"Block Font",attribute_pewc:"pewc_group_89335_89369",attribute_wp:"pa_glove-font",label:"Glove Font"}],glovePart:"",gloveType:["glove","mitt"],info:{label:null,description:null}},{label:"Customer Notes",glovePart:null,active:!0,fingerId:null,attribute_pewc:"pewc_group_89335_89568",elementRef:"text",attribute_wp:"order_notes_textarea",gloveType:["glove","mitt"],required:!0,info:{label:null,description:null}}]}]}],variations:[]}],Ij=["mainStep"];function Tj(n,e){if(1&n&&(c.TgZ(0,"h6"),c._uU(1),c.qZA()),2&n){const t=c.oxw(3).$implicit;c.xp6(1),c.Oqu(t.title)}}function Ej(n,e){1&n&&(c.ynx(0),c.YNc(1,Tj,2,1,"ng-template",7),c.BQk())}function xj(n,e){if(1&n){const t=c.EpF();c.ynx(0),c._UZ(1,"input",13),c.TgZ(2,"button",14),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(7);return c.KtG(u.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const t=e.$implicit,i=e.index;c.xp6(1),c.hYB("id","",t,"-",i,""),c.xp6(2),c.Oqu(t.name)}}function Sj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"dd",11)(2,"div",12),c.YNc(3,xj,4,3,"ng-container",4),c.qZA()(),c.BQk()),2&n){const t=c.oxw(6);c.xp6(3),c.Q6J("ngForOf",t.setGloveSize())}}function Aj(n,e){if(1&n){const t=c.EpF();c.ynx(0),c._UZ(1,"input",16),c.TgZ(2,"button",17),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(7);return c.KtG(u.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const t=e.$implicit,i=e.index;c.xp6(1),c.MGl("id","button-",i,""),c.xp6(2),c.Oqu(t.name)}}function Nj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",15),c.YNc(2,Aj,4,2,"ng-container",4),c.qZA(),c.BQk()),2&n){const t=c.oxw(4).$implicit;c.xp6(2),c.Q6J("ngForOf",t.variations)}}function Oj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"dt",9),c._uU(2),c.qZA(),c.YNc(3,Sj,4,1,"ng-container",3),c.YNc(4,Nj,3,1,"ng-container",3),c._UZ(5,"div",10),c.BQk()),2&n){const t=c.oxw(3).$implicit;c.xp6(2),c.hij(" ",t.label," "),c.xp6(1),c.Q6J("ngIf","glove size"===t.label.toLowerCase()),c.xp6(1),c.Q6J("ngIf","glove size"!==t.title.toLowerCase())}}function Mj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ngu-tile")(1,"section")(2,"div",25)(3,"div",26)(4,"h4",27),c._uU(5),c.qZA()(),c.TgZ(6,"div",26),c._UZ(7,"img",28),c.qZA(),c.TgZ(8,"div",29)(9,"button",30),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(7);return c.KtG(u.addVariation(a))}),c._uU(10,"Select"),c.qZA()()()()()}if(2&n){const t=e.$implicit;c.xp6(5),c.Oqu(null==t?null:t.name),c.xp6(2),c.Q6J("src",null==t?null:t.img,c.LSH)}}function Rj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",18)(2,"div",19),c._UZ(3,"div",20),c.TgZ(4,"ngu-carousel",21),c._UZ(5,"button",22)(6,"button",23),c.YNc(7,Mj,11,2,"ngu-tile",24),c.qZA()()(),c.BQk()),2&n){const t=c.oxw(4).$implicit,i=c.oxw(2);c.xp6(3),c.Q6J("innerHtml",t.info.title+t.info.content,c.oJD),c.xp6(1),c.Q6J("inputs",i.carouselTile)("dataSource",t.variations)}}function Fj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Rj,8,3,"ng-container",3),c.BQk()),2&n){const t=c.oxw(3).$implicit;c.xp6(1),c.Q6J("ngIf","Glove Brand"===t.title)}}function Pj(n,e){if(1&n&&(c.TgZ(0,"dl",8),c.YNc(1,Oj,6,3,"ng-container",3),c.YNc(2,Fj,2,1,"ng-container",3),c.qZA()),2&n){const t=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngIf",!t.includeOptions),c.xp6(1),c.Q6J("ngIf",t.includeOptions)}}function kj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"ngb-panel",5),c.YNc(2,Ej,2,0,"ng-container",4),c.YNc(3,Pj,3,2,"ng-template",6),c.qZA(),c.BQk()),2&n){const t=c.oxw(),i=t.$implicit,r=t.index,a=c.oxw(2);c.xp6(1),c.hYB("id","",i.id,"",r,""),c.Q6J("disabled",i.disabled),c.xp6(1),c.Q6J("ngForOf",a.steps)}}function Lj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,kj,4,4,"ng-container",3),c.BQk()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngIf",!0===t.active)}}function Bj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Lj,2,1,"ng-container",4),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.steps)}}function Vj(n,e){if(1&n&&(c.TgZ(0,"h6"),c._uU(1),c.qZA()),2&n){const t=c.oxw(3).$implicit;c.xp6(1),c.Oqu(t.title)}}function Uj(n,e){1&n&&(c.ynx(0),c.YNc(1,Vj,2,1,"ng-template",7),c.BQk())}function $j(n,e){if(1&n){const t=c.EpF();c.ynx(0),c._UZ(1,"input",13),c.TgZ(2,"button",14),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(7);return c.KtG(u.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const t=e.$implicit,i=e.index;c.xp6(1),c.hYB("id","",t,"-",i,""),c.xp6(2),c.Oqu(t.name)}}function Gj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"dd",11)(2,"div",31),c.YNc(3,$j,4,3,"ng-container",4),c.qZA()(),c.BQk()),2&n){const t=c.oxw(6);c.xp6(3),c.Q6J("ngForOf",t.setGloveSize())}}function Hj(n,e){if(1&n){const t=c.EpF();c.ynx(0),c._UZ(1,"input",16),c.TgZ(2,"button",17),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(7);return c.KtG(u.addVariation(a))}),c._uU(3),c.qZA(),c.BQk()}if(2&n){const t=e.$implicit,i=e.index;c.xp6(1),c.MGl("id","button-",i,""),c.xp6(2),c.Oqu(t.name)}}function jj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",32),c.YNc(2,Hj,4,2,"ng-container",4),c.qZA(),c.BQk()),2&n){const t=c.oxw(4).$implicit;c.xp6(2),c.Q6J("ngForOf",t.variations)}}function Wj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"dt",9),c._uU(2),c.qZA(),c.YNc(3,Gj,4,1,"ng-container",3),c.YNc(4,jj,3,1,"ng-container",3),c._UZ(5,"div",10),c.BQk()),2&n){const t=c.oxw(3).$implicit;c.xp6(2),c.hij(" ",t.label," "),c.xp6(1),c.Q6J("ngIf","glove size"===t.label.toLowerCase()),c.xp6(1),c.Q6J("ngIf","glove size"!==t.title.toLowerCase())}}function zj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ngu-tile")(1,"section")(2,"div",25)(3,"div",26)(4,"h4",27),c._uU(5),c.qZA()(),c.TgZ(6,"div",26),c._UZ(7,"img",28),c.qZA(),c.TgZ(8,"div",29)(9,"button",30),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw(7);return c.KtG(u.addVariation(a))}),c._uU(10,"Select"),c.qZA()()()()()}if(2&n){const t=e.$implicit;c.xp6(5),c.Oqu(null==t?null:t.name),c.xp6(2),c.Q6J("src",null==t?null:t.img,c.LSH)}}function qj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",18)(2,"div",19),c._UZ(3,"div",20),c.TgZ(4,"ngu-carousel",21),c._UZ(5,"button",22)(6,"button",23),c.YNc(7,zj,11,2,"ngu-tile",24),c.qZA()()(),c.BQk()),2&n){const t=c.oxw(4).$implicit,i=c.oxw(2);c.xp6(3),c.Q6J("innerHtml",t.info.title+t.info.content,c.oJD),c.xp6(1),c.Q6J("inputs",i.carouselTile)("dataSource",t.variations)}}function Zj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,qj,8,3,"ng-container",3),c.BQk()),2&n){const t=c.oxw(3).$implicit;c.xp6(1),c.Q6J("ngIf","Glove Brand"===t.title)}}function Yj(n,e){if(1&n&&(c.TgZ(0,"dl",8),c.YNc(1,Wj,6,3,"ng-container",3),c.YNc(2,Zj,2,1,"ng-container",3),c.qZA()),2&n){const t=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngIf",!t.includeOptions),c.xp6(1),c.Q6J("ngIf",t.includeOptions)}}function Kj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Uj,2,0,"ng-container",4),c.YNc(2,Yj,3,2,"ng-template",6),c.BQk()),2&n){const t=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",t.steps)}}function Qj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Kj,3,1,"ng-container",3),c.BQk()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngIf",!0===t.active)}}function Jj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Qj,2,1,"ng-container",4),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.steps)}}const Xj=[{path:"",component:(()=>{class n{constructor(t,i,r,a){this.afs=t,this.api=i,this.router=r,this.data=a,this.panelId="main-1",this.domResponse={},this.carouselTile={grid:{xs:1,sm:2,md:3,lg:3,all:0},slide:2,speed:400,animation:"lazy",loop:!0,point:{visible:!0},load:2,touch:!0,easing:"ease"},this.gloveType="",this.gloveSize=Cj}ngOnInit(){this.data.getSteps().subscribe(t=>{EB.forEach(i=>{!1===i.disabled&&i.includeOptions&&this.api.gloveDesign.next(i.options)}),this.steps=EB.filter(i=>1==i.active)})}addVariation(t){const i=t.name.toLowerCase();switch(this.api.applyFormValue(t),(i.includes("steer")||i.includes("steer"))&&this.api.setGloveType(i),i){case"infielder":case"outfielder":case"catcher":case"pitcher":this.api.setGloveBase({name:i,gloveBase:t.gloveBase,gloveType:t.gloveType}),this.gloveType=i;break;case"first base":case"1st base":this.api.setGloveBase({name:"first base",gloveBase:t.gloveBase,gloveType:t.gloveType}),this.gloveType=i}"main-4"!=this.panelId?this.mainStep.expand(this.panelId):this.router.navigate(["./glove-designer"],{skipLocationChange:!0})}setGloveSize(){return null!=this.gloveSize?this.gloveSize.filter(r=>r.glove.includes(this.gloveType)):[]}panelChange(t){this.panelId=`main-${parseInt(t.split("-")[1])+1}`}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dD),c.Y36(D0),c.Y36(ao),c.Y36(EM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main"]],viewQuery:function(t,i){if(1&t&&c.Gf(Ij,5),2&t){let r;c.iGM(r=c.CRH())&&(i.mainStep=r.first)}},features:[c._Bn([F])],decls:5,vars:4,consts:[[1,"container-fluid",2,"padding","unset"],["activeIds","main-0",3,"closeOthers","destroyOnHide","shown"],["mainStep",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"id","disabled"],["ngbPanelContent",""],["ngbPanelTitle",""],[1,"row","align-items-center"],[1,"col-sm-12","text-center"],[1,"col-12"],[1,"col-sm-12","mb-1","d-flex"],[1,"col","main-button-group__item","px-4"],["type","radio","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","flex-fill","m-2",3,"click"],["role","group",1,"col","main-button-group__item","btn-group","px-4"],["type","checkbox","autocomplete","off",1,"btn-check",3,"id"],["type","button",1,"btn","btn-outline-success","m-2",3,"click"],[1,"container"],[1,"row"],[1,"col-12","px-5","brand-info",3,"innerHtml"],[3,"inputs","dataSource"],["type","button","NguCarouselPrev","",1,"leftRs"],["type","button","NguCarouselNext","",1,"rightRs"],[4,"nguCarouselDef"],[1,"d-flex","flex-column","py-4"],[1,"glove-brand-view__list","pb-2","my-2"],[2,"font-weight","600"],["mat-card-image","",1,"glove-brand-img-size",3,"src"],[1,"glove-brand-view__list","pt-2","my-2"],["type","button",1,"btn","btn-lg","w-100","btn-outline-success",3,"click"],[1,"col","main-button-group__item"],["role","group",1,"col","main-button-group__item","btn-group"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"ngb-accordion",1,2),c.NdJ("shown",function(a){return i.panelChange(a)}),c.YNc(3,Bj,2,1,"ng-container",3),c.qZA()(),c.YNc(4,Jj,2,1,"ng-container",3)),2&t&&(c.xp6(1),c.Q6J("closeOthers",!0)("destroyOnHide",!0),c.xp6(2),c.Q6J("ngIf",void 0!==i.steps),c.xp6(1),c.Q6J("ngIf",void 0!==i.steps))},dependencies:[Dr,Zn,Qe,je,re,fe,jC,pS,ty,ny,mw],styles:["ngb-accordion[_ngcontent-%COMP%]{padding:0 6px}.brand-info[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:inherit}.brand-info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400}.main[_ngcontent-%COMP%]{display:flex}.main-button-group[_ngcontent-%COMP%]{display:flex;margin-bottom:2px}.main-button-group__item[_ngcontent-%COMP%]{display:flex;padding:1rem}label[_ngcontent-%COMP%]{width:100%;height:60px;display:flex;align-items:center;justify-content:center;font-size:1rem;margin-right:5px}.wrap[_ngcontent-%COMP%]{flex-flow:wrap}.glove-brand-img-size[_ngcontent-%COMP%]{width:150px;height:100px}.glove-brand-view_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.glove-brand-view__list[_ngcontent-%COMP%]{display:flex;justify-content:center}.glove-brand-margin[_ngcontent-%COMP%]{margin:0 30px}section[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 991px){.main-button-group__item[_ngcontent-%COMP%]{padding:.2rem}}@media (max-width: 580px){.brand-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.brand-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;font-weight:400}.main-button-group__item[_ngcontent-%COMP%]{padding:.4rem}label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;height:50px;padding:0}}@media (max-width: 460px){.card[_ngcontent-%COMP%]{padding:4px 4x}.main-button-group__item[_ngcontent-%COMP%]{padding:.3rem}button[_ngcontent-%COMP%]{font-size:.8rem;padding-right:0;padding-left:0}}"]}),n})()},{path:"glove-designer",component:Dj}];let e6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wr.forRoot(Xj),wr]}),n})();const t6=["cgbloader"];function n6(n,e){1&n&&(c.ynx(0),c._UZ(1,"router-outlet"),c.BQk())}function i6(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",2),c._UZ(2,"div",3),c.qZA(),c.BQk())}let r6=(()=>{class n{constructor(t,i,r){this.api=t,this.router=i,this.afs=r,this.title="japaneseGloveUi",this.loading=!0,this.loaderStatus=!1,this.router.navigate([""],{skipLocationChange:!0}),this.loading=!1}ngAfterViewInit(){this.loadSnap()}ngAfterContentChecked(){try{document.getElementsByClassName("cgb-loader").length>0&&(document.getElementsByClassName("cgb-loader")[0].style.display="none")}catch{}}ngOnInit(){this.api.product.next({name:this.name,price:this.price,sale_price:this.sale}),this.router.events.subscribe(t=>{switch(!0){case t instanceof mI:case t instanceof nm:this.loading=!0;break;case t instanceof Xu:case t instanceof py:case t instanceof Mw:this.loading=!1;break;default:this.loading=!0}})}loadSnap(){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js",t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}removeLoader(){!this.loaderStatus&&!this.loaderStatus&&document.getElementsByClassName("cgb-loader").length>0&&(document.getElementsByClassName("cgb-loader")[0].style.display="none",this.loaderStatus=!0)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(D0),c.Y36(ao),c.Y36(dD))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&c.Gf(t6,5),2&t){let r;c.iGM(r=c.CRH())&&(i.loader=r.first)}},inputs:{name:"name",price:"price",sale:["sale-price","sale"]},decls:3,vars:2,consts:[[1,"container-fluid"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-grow","text-dark",2,"width","3rem","height","3rem"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.YNc(1,n6,2,0,"ng-container",1),c.YNc(2,i6,3,0,"ng-container",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",!i.loading),c.xp6(1),c.Q6J("ngIf",i.loading))},dependencies:[Zn,Bw],styles:["#glove-custom-ui[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]{padding:0}"]}),n})(),s6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr,vw]}),n})();const xB="firebasestorage.googleapis.com",SB="storageBucket";class Is extends Mn.ZR{constructor(e,t){super(xM(e),`Firebase Storage: ${t} (${xM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Is.prototype)}_codeEquals(e){return xM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function xM(n){return"storage/"+n}function SM(){return new Is("unknown","An unknown error occurred, please check the error payload for server response.")}function AB(){return new Is("canceled","User canceled the upload/download.")}function NB(){return new Is("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function C0(n){return new Is("invalid-argument",n)}function OB(){return new Is("app-deleted","The Firebase app was deleted.")}function MB(n){return new Is("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hD(n,e){return new Is("invalid-format","String does not match format '"+n+"': "+e)}function fD(n){throw new Is("internal-error","Internal error: "+n)}class Za{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Za.makeFromUrl(e,t)}catch{return new Za(e,"")}if(""===i.path)return i;throw function _6(n){return new Is("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+r+"(/(.*))?$","i");function C(rt){rt.path_=decodeURIComponent(rt.path)}const R=t.replace(/[.]/g,"\\."),vt=[{regex:g,indices:{bucket:1,path:3},postModify:function a(rt){"/"===rt.path.charAt(rt.path.length-1)&&(rt.path_=rt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${t===xB?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let rt=0;rt<vt.length;rt++){const gt=vt[rt],Dt=gt.regex.exec(e);if(Dt){let Fn=Dt[gt.indices.path];Fn||(Fn=""),i=new Za(Dt[gt.indices.bucket],Fn),gt.postModify(i);break}}if(null==i)throw function g6(n){return new Is("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class b6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bE(n){return"string"==typeof n||n instanceof String}function RB(n){return AM()&&n instanceof Blob}function AM(){return typeof Blob<"u"}function NM(n,e,t,i){if(i<e)throw C0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw C0(`Invalid value for '${n}'. Expected ${t} or less.`)}function lp(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function FB(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Bg=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Bg||(Bg={})),Bg))();class E6{constructor(e,t,i,r,a,u,g,y,C,S,R){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=g,this.errorCallback_=y,this.timeout_=C,this.progressCallback_=S,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,Z)=>{this.resolve_=H,this.reject_=Z,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,u=this.reject_,g=r.connection;if(r.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());!function C6(n){return void 0!==n}(y)?a():a(y)}catch(y){u(y)}else if(null!==g){const y=SM();y.serverResponse=g.getErrorText(),u(this.errorCallback_?this.errorCallback_(g,y):y)}else u(r.canceled?this.appDelete_?OB():AB():function p6(){return new Is("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new wE(!1,null,!0)):this.backoffId_=function w6(n,e,t){let i=1,r=null,a=null,u=!1,g=0;function y(){return 2===g}let C=!1;function S(...De){C||(C=!0,e.apply(null,De))}function R(De){r=setTimeout(()=>{r=null,n(Z,y())},De)}function H(){a&&clearTimeout(a)}function Z(De,...ot){if(C)return void H();if(De)return H(),void S.call(null,De,...ot);if(y()||u)return H(),void S.call(null,De,...ot);let vt;i<64&&(i*=2),1===g?(g=2,vt=0):vt=1e3*(i+Math.random()),R(vt)}let ce=!1;function me(De){ce||(ce=!0,H(),!C&&(null!==r?(De||(g=2),clearTimeout(r),R(0)):De||(g=1)))}return R(0),a=setTimeout(()=>{u=!0,me(!0)},t),me}((i,r)=>{if(r)return void i(!1,new wE(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const g=a.getErrorCode()===Bg.NO_ERROR,y=a.getStatus();if(!g||this.isRetryStatusCode_(y)){const S=a.getErrorCode()===Bg.ABORT;return void i(!1,new wE(!1,null,S))}const C=-1!==this.successCodes_.indexOf(y);i(!0,new wE(C,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function D6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||a}}class wE{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function R6(...n){const e=function M6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(AM())return new Blob(n);throw new Is("unsupported-environment","This browser doesn't seem to support creating Blobs")}const uu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class OM{constructor(e,t){this.data=e,this.contentType=t||null}}function MM(n,e){switch(n){case uu.RAW:return new OM(PB(e));case uu.BASE64:case uu.BASE64URL:return new OM(kB(n,e));case uu.DATA_URL:return new OM(function L6(n){const e=new LB(n);return e.base64?kB(uu.BASE64,e.rest):function k6(n){let e;try{e=decodeURIComponent(n)}catch{throw hD(uu.DATA_URL,"Malformed data URL.")}return PB(e)}(e.rest)}(e),function B6(n){return new LB(n).contentType}(e))}throw SM()}function PB(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function kB(n,e){switch(n){case uu.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw hD(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case uu.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw hD(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function P6(n){return atob(n)}(e)}catch{throw hD(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class LB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw hD(uu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function V6(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Jh{constructor(e,t){let i=0,r="";RB(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(RB(this.data_)){const r=function F6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Jh(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Jh(i,!0)}}static getBlob(...e){if(AM()){const t=e.map(i=>i instanceof Jh?i.data_:i);return new Jh(R6.apply(null,t))}{const t=e.map(u=>bE(u)?MM(uu.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(u=>{for(let g=0;g<u.length;g++)r[a++]=u[g]}),new Jh(r,!0)}}uploadData(){return this.data_}}function RM(n){let e;try{e=JSON.parse(n)}catch{return null}return function T6(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function BB(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function G6(n,e){return e}class xl{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||G6}}let DE=null;function pD(){if(DE)return DE;const n=[];n.push(new xl("bucket")),n.push(new xl("generation")),n.push(new xl("metageneration")),n.push(new xl("name","fullPath",!0));const t=new xl("name");t.xform=function e(a,u){return function H6(n){return!bE(n)||n.length<2?n:BB(n)}(u)},n.push(t);const r=new xl("size");return r.xform=function i(a,u){return void 0!==u?Number(u):u},n.push(r),n.push(new xl("timeCreated")),n.push(new xl("updated")),n.push(new xl("md5Hash",null,!0)),n.push(new xl("cacheControl",null,!0)),n.push(new xl("contentDisposition",null,!0)),n.push(new xl("contentEncoding",null,!0)),n.push(new xl("contentLanguage",null,!0)),n.push(new xl("contentType",null,!0)),n.push(new xl("metadata","customMetadata",!0)),DE=n,DE}function VB(n,e,t){const i=RM(e);return null===i?null:function W6(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const u=t[a];i[u.local]=u.xform(i,e[u.server])}return function j6(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Za(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function FM(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const UB="prefixes";class Xh{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ef(n){if(!n)throw SM()}function CE(n,e){return function t(i,r){const a=VB(n,r,e);return ef(null!==a),a}}function I0(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function h6(){return new Is("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function d6(){return new Is("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function u6(n){return new Is("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function f6(n){return new Is("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function gD(n){const e=I0(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function c6(n){return new Is("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function GB(n,e,t){const r=lp(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,g=new Xh(r,"GET",CE(n,t),u);return g.errorHandler=gD(e),g}function Q6(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const g=lp(e.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,S=new Xh(g,"GET",function Y6(n,e){return function t(i,r){const a=function Z6(n,e,t){const i=RM(t);return null===i?null:function q6(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[UB])for(const r of t[UB]){const a=r.replace(/\/$/,""),u=n._makeStorageReference(new Za(e,a));i.prefixes.push(u)}if(t.items)for(const r of t.items){const a=n._makeStorageReference(new Za(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return ef(null!==a),a}}(n,e.bucket),C);return S.urlParams=a,S.errorHandler=I0(e),S}function jB(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function t8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class IE{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function PM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ef(!1)}return ef(!!t&&-1!==(e||["active"]).indexOf(t)),t}const s8={STATE_CHANGED:"state_changed"},Sl={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kM(n){switch(n){case"running":case"pausing":case"canceling":return Sl.RUNNING;case"paused":return Sl.PAUSED;case"success":return Sl.SUCCESS;case"canceled":return Sl.CANCELED;default:return Sl.ERROR}}class o8{constructor(e,t,i){if(function I6(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function T0(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class l8 extends class a8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw fD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fD("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fD("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fD("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fD("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Wd(){return new l8}class ZB{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=pD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function n8(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u=jB(e,i,r),g={name:u.fullPath},y=lp(a,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},R=FM(u,t),ce=new Xh(y,"POST",function Z(me){let De;PM(me);try{De=me.getResponseHeader("X-Goog-Upload-URL")}catch{ef(!1)}return ef(bE(De)),De},n.maxUploadRetryTime);return ce.urlParams=g,ce.headers=S,ce.body=R,ce.errorHandler=I0(e),ce}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Wd,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function i8(n,e,t,i){const y=new Xh(t,"POST",function a(C){const S=PM(C,["active","final"]);let R=null;try{R=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ef(!1)}R||ef(!1);const H=Number(R);return ef(!isNaN(H)),new IE(H,i.size(),"final"===S)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=I0(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,Wd,t,i);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new IE(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let u;try{u=function r8(n,e,t,i,r,a,u,g){const y=new IE(0,0);if(u?(y.current=u.current,y.total=u.total):(y.current=0,y.total=i.size()),i.size()!==y.total)throw function v6(){return new Is("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const C=y.total-y.current;let S=C;r>0&&(S=Math.min(S,r));const R=y.current,ce={"X-Goog-Upload-Command":S===C?"upload, finalize":"upload","X-Goog-Upload-Offset":`${y.current}`},me=i.slice(R,R+S);if(null===me)throw NB();const vt=new Xh(t,"POST",function De(rt,gt){const Dt=PM(rt,["active","final"]),rn=y.current+S,Fn=i.size();let Gr;return Gr="final"===Dt?CE(e,a)(rt,gt):null,new IE(rn,Fn,"final"===Dt,Gr)},e.maxUploadRetryTime);return vt.headers=ce,vt.body=me.uploadData(),vt.progressCallback=g||null,vt.errorHandler=I0(n),vt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const g=this._ref.storage._makeRequest(u,Wd,r,a);this._request=g,g.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=GB(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Wd,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function WB(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},y=function g(){let vt="";for(let rt=0;rt<2;rt++)vt+=Math.random().toString().slice(2);return vt}();u["Content-Type"]="multipart/related; boundary="+y;const C=jB(e,i,r),S=FM(C,t),Z=Jh.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+y+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",i,"\r\n--"+y+"--");if(null===Z)throw NB();const ce={name:C.fullPath},me=lp(a,n.host,n._protocol),ot=n.maxUploadRetryTime,ct=new Xh(me,"POST",CE(n,t),ot);return ct.urlParams=ce,ct.headers=u,ct.body=Z.uploadData(),ct.errorHandler=I0(e),ct}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Wd,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=AB(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=kM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new o8(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(kM(this._state)){case Sl.SUCCESS:T0(this._resolve.bind(null,this.snapshot))();break;case Sl.CANCELED:case Sl.ERROR:T0(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(kM(this._state)){case Sl.RUNNING:case Sl.PAUSED:e.next&&T0(e.next.bind(e,this.snapshot))();break;case Sl.SUCCESS:e.complete&&T0(e.complete.bind(e))();break;default:e.error&&T0(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Bm{constructor(e,t){this._service=e,this._location=t instanceof Za?t:Za.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bm(e,t)}get root(){const e=new Za(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BB(this._location.path)}get storage(){return this._service}get parent(){const e=function U6(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Za(this._location.bucket,e);return new Bm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw MB(e)}}function KB(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,Be.Z)(function*(n,e,t){const r=yield QB(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield KB(n,e,r.nextPageToken))}),LM.apply(this,arguments)}function QB(n,e){null!=e&&"number"==typeof e.maxResults&&NM("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Q6(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Wd)}function b8(n){n._throwIfRoot("getDownloadURL");const e=function J6(n,e,t){const r=lp(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,g=new Xh(r,"GET",function K6(n,e){return function t(i,r){const a=VB(n,r,e);return ef(null!==a),function z6(n,e,t,i){const r=RM(e);if(null===r||!bE(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(C=>{const R=n.fullPath;return lp("/b/"+u(n.bucket)+"/o/"+u(R),t,i)+FB({alt:"media",token:C})})[0]}(a,r,n.host,n._protocol)}}(n,t),u);return g.errorHandler=gD(e),g}(n.storage,n._location,pD());return n.storage.makeRequestWithTokens(e,Wd).then(t=>{if(null===t)throw function y6(){return new Is("no-download-url","The given file does not have any download URLs.")}();return t})}function JB(n,e){const t=function $6(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Za(n._location.bucket,t);return new Bm(n.storage,i)}function XB(n,e){if(n instanceof BM){const t=n;if(null==t._bucket)throw function m6(){return new Is("no-default-bucket","No default bucket found. Did you set the '"+SB+"' property when initializing the app?")}();const i=new Bm(t,t._bucket);return null!=e?XB(i,e):i}return void 0!==e?JB(n,e):n}function I8(n,e){if(e&&function D8(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof BM)return function C8(n,e){return new Bm(n,e)}(n,e);throw C0("To use ref(service, url), the first argument must be a Storage instance.")}return XB(n,e)}function eV(n,e){const t=e?.[SB];return null==t?null:Za.makeFromBucketSpec(t,n)}class BM{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=xB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Za.makeFromBucketSpec(r,this._host):eV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Za.makeFromBucketSpec(this._url,e):eV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bm(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new b6(OB());{const a=function O6(n,e,t,i,r,a){const u=FB(n.urlParams),g=n.url+u,y=Object.assign({},n.headers);return function A6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function x6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function S6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,a),function N6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,i),new E6(g,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,Be.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const tV="@firebase/storage";function rV(n,e){return I8(n=(0,Mn.m9)(n),e)}function P8(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new BM(t,i,r,e,Gd.SDK_VERSION)}!function k8(){(0,Gd._registerComponent)(new Hy.wA("storage",P8,"PUBLIC").setMultipleInstances(!0)),(0,Gd.registerVersion)(tV,"0.9.9",""),(0,Gd.registerVersion)(tV,"0.9.9","esm2017")}();class TE{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sV{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new TE(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?u=>t(new TE(u,this,this._ref)):{next:t.next?u=>t.next(new TE(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class oV{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new cp(e,this._service))}get items(){return this._delegate.items.map(e=>new cp(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class cp{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function R8(n,e){return JB(n,e)}(this._delegate,e);return new cp(t,this.storage)}get root(){return new cp(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new cp(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new sV(function E8(n,e,t){return function g8(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new ZB(n,new Jh(e),t)}(n=(0,Mn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=uu.RAW,i){this._throwIfRoot("putString");const r=MM(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new sV(new ZB(this._delegate,new Jh(r.data,!0),a),this)}listAll(){return function N8(n){return function m8(n){const e={prefixes:[],items:[]};return KB(n,e).then(()=>e)}(n=(0,Mn.m9)(n))}(this._delegate).then(e=>new oV(e,this.storage))}list(e){return function A8(n,e){return QB(n=(0,Mn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new oV(t,this.storage))}getMetadata(){return function x8(n){return function v8(n){n._throwIfRoot("getMetadata");const e=GB(n.storage,n._location,pD());return n.storage.makeRequestWithTokens(e,Wd)}(n=(0,Mn.m9)(n))}(this._delegate)}updateMetadata(e){return function S8(n,e){return function y8(n,e){n._throwIfRoot("updateMetadata");const t=function X6(n,e,t,i){const a=lp(e.fullServerUrl(),n.host,n._protocol),g=FM(t,i),C=n.maxOperationRetryTime,S=new Xh(a,"PATCH",CE(n,i),C);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=g,S.errorHandler=gD(e),S}(n.storage,n._location,e,pD());return n.storage.makeRequestWithTokens(t,Wd)}(n=(0,Mn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function O8(n){return b8(n=(0,Mn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function M8(n){return function w8(n){n._throwIfRoot("deleteObject");const e=function e8(n,e){const i=lp(e.fullServerUrl(),n.host,n._protocol),g=new Xh(i,"DELETE",function u(y,C){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=gD(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Wd)}(n=(0,Mn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw MB(e)}}class aV{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(lV(e))throw C0("ref() expected a child path but got a URL, use refFromURL instead.");return new cp(rV(this._delegate,e),this)}refFromURL(e){if(!lV(e))throw C0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Za.makeFromUrl(e,this._delegate.host)}catch{throw C0("refFromUrl() expected a valid full URL but got an invalid one.")}return new cp(rV(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function F8(n,e,t,i={}){!function T8(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Mn.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function lV(n){return/^[A-Za-z]+:\/\//.test(n)}function U8(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new aV(t,i)}function cV(n){const e=function G8(n){return new Ai.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function o6(n,e=We.z){return(0,lr.e)((t,i)=>{let r=null,a=null,u=null;const g=()=>{if(r){r.unsubscribe(),r=null;const C=a;a=null,i.next(C)}};function y(){const C=u+n,S=e.now();if(S<C)return r=this.schedule(void 0,C-S),void i.add(r);g()}t.subscribe((0,ri.x)(i,C=>{a=C,u=e.now(),r||(r=e.schedule(y,n),i.add(r))},()=>{g(),i.complete()},void 0,()=>{a=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,It.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function EE(n){return{getDownloadURL:()=>bt(void 0).pipe(Qr.fc,zn(()=>n.getDownloadURL()),Qr.iC),getMetadata:()=>bt(void 0).pipe(Qr.fc,zn(()=>n.getMetadata()),Qr.iC),delete:()=>(0,jn.D)(n.delete()),child:e=>EE(n.child(e)),updateMetadata:e=>(0,jn.D)(n.updateMetadata(e)),put:(e,t)=>cV(n.put(e,t)),putString:(e,t,i)=>cV(n.putString(e,t,i)),list:e=>(0,jn.D)(n.list(e)),listAll:()=>(0,jn.D)(n.listAll())}}!function $8(n){const e={TaskState:Sl,TaskEvent:s8,StringFormat:uu,Storage:aV,Reference:cp};n.INTERNAL.registerComponent(new Hy.wA("storage-compat",U8,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(sF.Z);const H8=new c.OlP("angularfire2.storageBucket"),j8=new c.OlP("angularfire2.storage.maxUploadRetryTime"),W8=new c.OlP("angularfire2.storage.maxOperationRetryTime"),z8=new c.OlP("angularfire2.storage.use-emulator");let q8=(()=>{class n{constructor(t,i,r,a,u,g,y,C,S,R){const H=(0,wl.on)(t,u,i);this.storage=(0,wl.cc)(`${H.name}.storage.${r}`,"AngularFireStorage",H.name,()=>{const Z=u.runOutsideAngular(()=>H.storage(r||void 0)),ce=S;return ce&&Z.useEmulator(...ce),y&&Z.setMaxUploadRetryTime(y),C&&Z.setMaxOperationRetryTime(C),Z},[y,C])}ref(t){return EE(this.storage.ref(t))}refFromURL(t){return EE(this.storage.refFromURL(t))}upload(t,i,r){return EE(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wl.Dh),c.LFG(wl.xv,8),c.LFG(H8,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Qr.HU),c.LFG(j8,8),c.LFG(W8,8),c.LFG(z8,8),c.LFG(vE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Z8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Y8=(()=>{class n{constructor(){DM.Z.registerVersion("angularfire",Qr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[q8],imports:[Z8]}),n})();const uV_firebaseConfig={apiKey:"AIzaSyCEmZV_arlakRS_4aEmK7InwXRXAMfIybk",authDomain:"nys-custom-ui.firebaseapp.com",projectId:"nys-custom-ui",storageBucket:"nys-custom-ui.appspot.com",messagingSenderId:"946748632034",appId:"1:946748632034:web:aac02bf3a97c0b971ce7bb",measurementId:"G-ZY74EENWC4"};let dV=(()=>{class n extends wn{constructor(){super(...arguments),this.overrides={swipe:{velocity:.4,direction:kc.DIRECTION_HORIZONTAL},pan:{direction:kc.DIRECTION_LEFT|kc.DIRECTION_RIGHT}}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K8=(()=>{class n{constructor(t){this.injector=t;const i=function Uc(n,e){const t=function Bc(n,e){return e.get(c._Vd).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new fp(n,e.injector),r=function vs(n){const e={};return n.forEach(({propName:t,templateName:i})=>{e[function pd(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=t}),e}(t);class a extends lf{constructor(g){super(),this.injector=g}get ngElementStrategy(){if(!this._ngElementStrategy){const g=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:y})=>{if(!this.hasOwnProperty(y))return;const C=this[y];delete this[y],g.setInputValue(y,C)})}return this._ngElementStrategy}attributeChangedCallback(g,y,C,S){this.ngElementStrategy.setInputValue(r[g],C)}connectedCallback(){let g=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),g=!0),this.ngElementStrategy.connect(this),g||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(g=>{const y=new CustomEvent(g.name,{detail:g.value});this.dispatchEvent(y)})}}return a.observedAttributes=Object.keys(r),t.forEach(({propName:u})=>{Object.defineProperty(a.prototype,u,{get(){return this.ngElementStrategy.getInputValue(u)},set(g){this.ngElementStrategy.setInputValue(u,g)},configurable:!0,enumerable:!0})}),a}(r6,{injector:this.injector});customElements.define("custom-glove-builder",i)}ngDoBootstrap(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:dV,useClass:dV}],imports:[bu,e6,oS,Ug,RH,$H,Y8,wl.hO.initializeApp(uV_firebaseConfig),vw,s6]}),n})();(0,c.G48)(),ul().bootstrapModule(K8).catch(n=>console.error(n))},5867:(At,Ge,j)=>{"use strict";j.d(Ge,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=j(9681);(0,c.registerVersion)("firebase","9.10.0","app")},127:(At,Ge,j)=>{"use strict";j.d(Ge,{Z:()=>c.Z});var c=j(3942);c.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(At,Ge,j)=>{"use strict";j.r(Ge);var c=j(5861),P=j(3942),W=j(2090),be=j(9681),ge=j(655),Ce=j(1877),Ie=j(4859);const Le=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new Ce.Yd("@firebase/auth");function xt(w,..._){at.logLevel<=Ce.in.ERROR&&at.error(`Auth (${be.SDK_VERSION}): ${w}`,..._)}function He(w,..._){throw ft(w,..._)}function Pe(w,..._){return ft(w,..._)}function ke(w,_,v){const I=Object.assign(Object.assign({},ht()),{[_]:v});return new W.LL("auth","Firebase",I).create(_,{appName:w.name})}function st(w,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&He(w,"argument-error"),ke(w,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ft(w,..._){if("string"!=typeof w){const v=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(v,...I)}return Oe.create(w,..._)}function Q(w,_,...v){if(!w)throw ft(_,...v)}function Re(w){const _="INTERNAL ASSERTION FAILED: "+w;throw xt(_),new Error(_)}function ae(w,_){w||Re(_)}const pe=new Map;function ye(w){ae(w instanceof Function,"Expected a class definition");let _=pe.get(w);return _?(ae(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,pe.set(w,_),_)}function Je(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Mt(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Yn{constructor(_,v){this.shortDelay=_,this.longDelay=v,ae(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function di(w,_){ae(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class Vn{static initialize(_,v,I){this.fetchImpl=_,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gr=new Yn(3e4,6e4);function un(w,_){return w.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:w.tenantId}):_}function Qt(w,_,v,I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(w,_,v,I,M={}){return En(w,M,(0,c.Z)(function*(){let V={},le={};I&&("GET"===_?le=I:V={body:JSON.stringify(I)});const Te=(0,W.xO)(Object.assign({key:w.config.apiKey},le)).slice(1),Xe=yield w._getAdditionalHeaders();return Xe["Content-Type"]="application/json",w.languageCode&&(Xe["X-Firebase-Locale"]=w.languageCode),Vn.fetch()(hi(w,w.config.apiHost,v,Te),Object.assign({method:_,headers:Xe,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function En(w,_,v){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(w,_,v){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},pn),_);try{const M=new Oi(w),V=yield Promise.race([v(),M.promise]);M.clearNetworkTimeout();const le=yield V.json();if("needConfirmation"in le)throw Nr(w,"account-exists-with-different-credential",le);if(V.ok&&!("errorMessage"in le))return le;{const Te=V.ok?le.errorMessage:le.error.message,[Xe,Nt]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw Nr(w,"credential-already-in-use",le);if("EMAIL_EXISTS"===Xe)throw Nr(w,"email-already-in-use",le);if("USER_DISABLED"===Xe)throw Nr(w,"user-disabled",le);const Kt=I[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw ke(w,Kt,Nt);He(w,Kt)}}catch(M){if(M instanceof W.ZR)throw M;He(w,"network-request-failed")}})).apply(this,arguments)}function zi(w,_,v,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(w,_,v,I,M={}){const V=yield Qt(w,_,v,I,M);return"mfaPendingCredential"in V&&He(w,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function hi(w,_,v,I){const M=`${_}${v}?${I}`;return w.config.emulator?di(w.config,M):`${w.config.apiScheme}://${M}`}class Oi{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(Pe(this.auth,"network-request-failed")),gr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nr(w,_,v){const I={appName:w.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const M=Pe(w,_,I);return M.customData._tokenResponse=v,M}function yt(){return(yt=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Hr(w,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Cn(w,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Or(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function fi(){return(fi=(0,c.Z)(function*(w,_=!1){const v=(0,W.m9)(w),I=yield v.getIdToken(_),M=Ot(I);Q(M&&M.exp&&M.auth_time&&M.iat,v.auth,"internal-error");const V="object"==typeof M.firebase?M.firebase:void 0,le=V?.sign_in_provider;return{claims:M,token:I,authTime:Or(kt(M.auth_time)),issuedAtTime:Or(kt(M.iat)),expirationTime:Or(kt(M.exp)),signInProvider:le||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function kt(w){return 1e3*Number(w)}function Ot(w){var _;const[v,I,M]=w.split(".");if(void 0===v||void 0===I||void 0===M)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,W.tV)(I);return V?JSON.parse(V):(xt("Failed to decode base64 JWT payload"),null)}catch(V){return xt("Caught error parsing JWT payload as JSON",null===(_=V)||void 0===_?void 0:_.toString()),null}}function Bi(w,_){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(w,_,v=!1){if(v)return _;try{return yield _}catch(I){throw I instanceof W.ZR&&qi(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}function qi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class jt{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,c.Z)(function*(){yield v.iteration()}),I)}iteration(){var _=this;return(0,c.Z)(function*(){var v;try{yield _.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(v=I)||void 0===v?void 0:v.code)&&_.schedule(!0))}_.schedule()})()}}class Ts{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Or(this.lastLoginAt),this.creationTime=Or(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xn(w){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(w){var _;const v=w.auth,I=yield w.getIdToken(),M=yield Bi(w,Cn(v,{idToken:I}));Q(M?.users.length,v,"internal-error");const V=M.users[0];w._notifyReloadListener(V);const le=null!==(_=V.providerUserInfo)&&void 0!==_&&_.length?K(V.providerUserInfo):[],Te=te(w.providerData,le),Kt=!!w.isAnonymous&&!(w.email&&V.passwordHash||Te?.length),$t={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Te,metadata:new Ts(V.createdAt,V.lastLoginAt),isAnonymous:Kt};Object.assign(w,$t)})).apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(w){const _=(0,W.m9)(w);yield xn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function te(w,_){return[...w.filter(I=>!_.some(M=>M.providerId===I.providerId)),..._]}function K(w){return w.map(_=>{var{providerId:v}=_,I=(0,ge._T)(_,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function ie(){return(ie=(0,c.Z)(function*(w,_){const v=yield En(w,{},(0,c.Z)(function*(){const I=(0,W.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:M,apiKey:V}=w.config,le=hi(w,M,"/v1/token",`key=${V}`),Te=yield w._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",Vn.fetch()(le,{method:"POST",headers:Te,body:I})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Q(_.idToken,"internal-error"),Q(typeof _.idToken<"u","internal-error"),Q(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Un(w){const _=Ot(w);return Q(_,"internal-error"),Q(typeof _.exp<"u","internal-error"),Q(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var I=this;return(0,c.Z)(function*(){return Q(!I.accessToken||I.refreshToken,_,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var I=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:V,expiresIn:le}=yield function ne(w,_){return ie.apply(this,arguments)}(_,v);I.updateTokensAndExpiration(M,V,Number(le))})()}updateTokensAndExpiration(_,v,I){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,v){const{refreshToken:I,accessToken:M,expirationTime:V}=v,le=new ze;return I&&(Q("string"==typeof I,"internal-error",{appName:_}),le.refreshToken=I),M&&(Q("string"==typeof M,"internal-error",{appName:_}),le.accessToken=M),V&&(Q("number"==typeof V,"internal-error",{appName:_}),le.expirationTime=V),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ze,this.toJSON())}_performRefresh(){return Re("not implemented")}}function ut(w,_){Q("string"==typeof w||typeof w>"u","internal-error",{appName:_})}class Pt{constructor(_){var{uid:v,auth:I,stsTokenManager:M}=_,V=(0,ge._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Ts(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,c.Z)(function*(){const I=yield Bi(v,v.stsTokenManager.getToken(v.auth,_));return Q(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(_){return function wi(w){return fi.apply(this,arguments)}(this,_)}reload(){return function In(w){return oe.apply(this,arguments)}(this)}_assign(_){this!==_&&(Q(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Pt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var I=this;return(0,c.Z)(function*(){let M=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),M=!0),v&&(yield xn(I)),yield I.auth._persistUserIfCurrent(I),M&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,c.Z)(function*(){const v=yield _.getIdToken();return yield Bi(_,function vi(w,_){return yt.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var I,M,V,le,Te,Xe,Nt,Kt;const $t=null!==(I=v.displayName)&&void 0!==I?I:void 0,Vr=null!==(M=v.email)&&void 0!==M?M:void 0,to=null!==(V=v.phoneNumber)&&void 0!==V?V:void 0,Ba=null!==(le=v.photoURL)&&void 0!==le?le:void 0,vh=null!==(Te=v.tenantId)&&void 0!==Te?Te:void 0,Uu=null!==(Xe=v._redirectEventId)&&void 0!==Xe?Xe:void 0,yh=null!==(Nt=v.createdAt)&&void 0!==Nt?Nt:void 0,jm=null!==(Kt=v.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:Tp,emailVerified:ec,isAnonymous:bh,providerData:wh,stsTokenManager:Ep}=v;Q(Tp&&Ep,_,"internal-error");const yf=ze.fromJSON(this.name,Ep);Q("string"==typeof Tp,_,"internal-error"),ut($t,_.name),ut(Vr,_.name),Q("boolean"==typeof ec,_,"internal-error"),Q("boolean"==typeof bh,_,"internal-error"),ut(to,_.name),ut(Ba,_.name),ut(vh,_.name),ut(Uu,_.name),ut(yh,_.name),ut(jm,_.name);const xp=new Pt({uid:Tp,auth:_,email:Vr,emailVerified:ec,displayName:$t,isAnonymous:bh,photoURL:Ba,phoneNumber:to,tenantId:vh,stsTokenManager:yf,createdAt:yh,lastLoginAt:jm});return wh&&Array.isArray(wh)&&(xp.providerData=wh.map(Nd=>Object.assign({},Nd))),Uu&&(xp._redirectEventId=Uu),xp}static _fromIdTokenResponse(_,v,I=!1){return(0,c.Z)(function*(){const M=new ze;M.updateFromServerResponse(v);const V=new Pt({uid:v.localId,auth:_,stsTokenManager:M,isAnonymous:I});return yield xn(V),V})()}}const kn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(v,I){var M=this;return(0,c.Z)(function*(){M.storage[v]=I})()}_get(v){var I=this;return(0,c.Z)(function*(){const M=I.storage[v];return void 0===M?null:M})()}_remove(v){var I=this;return(0,c.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return w.type="NONE",w})();function Zi(w,_,v){return`firebase:${w}:${_}:${v}`}class _n{constructor(_,v,I){this.persistence=_,this.auth=v,this.userKey=I;const{config:M,name:V}=this.auth;this.fullUserKey=Zi(this.userKey,M.apiKey,V),this.fullPersistenceKey=Zi("persistence",M.apiKey,V),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,c.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?Pt._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,c.Z)(function*(){if(v.persistence===_)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,I="authUser"){return(0,c.Z)(function*(){if(!v.length)return new _n(ye(kn),_,I);const M=(yield Promise.all(v.map(function(){var Nt=(0,c.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let V=M[0]||ye(kn);const le=Zi(I,_.config.apiKey,_.name);let Te=null;for(const Nt of v)try{const Kt=yield Nt._get(le);if(Kt){const $t=Pt._fromJSON(_,Kt);Nt!==V&&(Te=$t),V=Nt;break}}catch{}const Xe=M.filter(Nt=>Nt._shouldAllowMigration);return V._shouldAllowMigration&&Xe.length?(V=Xe[0],Te&&(yield V._set(le,Te.toJSON())),yield Promise.all(v.map(function(){var Nt=(0,c.Z)(function*(Kt){if(Kt!==V)try{yield Kt._remove(le)}catch{}});return function(Kt){return Nt.apply(this,arguments)}}())),new _n(V,_,I)):new _n(V,_,I)})()}}function on(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Wr(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(ai(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(_t(_))return"Blackberry";if(Wt(_))return"Webos";if(Di(_))return"Safari";if((_.includes("chrome/")||us(_))&&!_.includes("edge/"))return"Chrome";if(Ui(_))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function ai(w=(0,W.z$)()){return/firefox\//i.test(w)}function Di(w=(0,W.z$)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function us(w=(0,W.z$)()){return/crios\//i.test(w)}function Wr(w=(0,W.z$)()){return/iemobile/i.test(w)}function Ui(w=(0,W.z$)()){return/android/i.test(w)}function _t(w=(0,W.z$)()){return/blackberry/i.test(w)}function Wt(w=(0,W.z$)()){return/webos/i.test(w)}function $n(w=(0,W.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function fo(w=(0,W.z$)()){return $n(w)||Ui(w)||Wt(w)||_t(w)||/windows phone/i.test(w)||Wr(w)}function Hs(w,_=[]){let v;switch(w){case"Browser":v=on((0,W.z$)());break;case"Worker":v=`${on((0,W.z$)())}-${w}`;break;default:v=w}const I=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${be.SDK_VERSION}/${I}`}class fs{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const I=V=>new Promise((le,Te)=>{try{le(_(V))}catch(Xe){Te(Xe)}});I.onAbort=v,this.queue.push(I);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,c.Z)(function*(){var I;if(v.auth.currentUser===_)return;const M=[];try{for(const V of v.queue)yield V(_),V.onAbort&&M.push(V.onAbort)}catch(V){M.reverse();for(const le of M)try{le()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=V)||void 0===I?void 0:I.message})}})()}}class tn{constructor(_,v,I){this.app=_,this.heartbeatServiceProvider=v,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(_,v){var I=this;return v&&(this._popupRedirectResolver=ye(v)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,V;if(!I._deleted&&(I.persistenceManager=yield _n.create(I,_),!I._deleted)){if(null!==(M=I._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(v),I.lastNotifiedUid=(null===(V=I.currentUser)||void 0===V?void 0:V.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,c.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUser(_){var v=this;return(0,c.Z)(function*(){var I;const M=yield v.assertedPersistence.getCurrentUser();let V=M,le=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Te=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,Xe=V?._redirectEventId,Nt=yield v.tryRedirectSignIn(_);(!Te||Te===Xe)&&Nt?.user&&(V=Nt.user,le=!0)}if(!V)return v.directlySetCurrentUser(null);if(!V._redirectEventId){if(le)try{yield v.beforeStateQueue.runMiddleware(V)}catch(Te){V=M,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Te))}return V?v.reloadAndSetCurrentUserOrClear(V):v.directlySetCurrentUser(null)}return Q(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===V._redirectEventId?v.directlySetCurrentUser(V):v.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(_){var v=this;return(0,c.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,c.Z)(function*(){var I;try{yield xn(_)}catch(M){if("auth/network-request-failed"!==(null===(I=M)||void 0===I?void 0:I.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,c.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,c.Z)(function*(){const I=_?(0,W.m9)(_):null;return I&&Q(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(_,v=!1){var I=this;return(0,c.Z)(function*(){if(!I._deleted)return _&&Q(I.tenantId===_.tenantId,I,"tenant-id-mismatch"),v||(yield I.beforeStateQueue.runMiddleware(_)),I.queue((0,c.Z)(function*(){yield I.directlySetCurrentUser(_),I.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,c.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var v=this;return this.queue((0,c.Z)(function*(){yield v.assertedPersistence.setPersistence(ye(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new W.LL("auth","Firebase",_())}onAuthStateChanged(_,v,I){return this.registerStateListener(this.authStateSubscription,_,v,I)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,I){return this.registerStateListener(this.idTokenSubscription,_,v,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var I=this;return(0,c.Z)(function*(){const M=yield I.getOrInitRedirectPersistenceManager(v);return null===_?M.removeCurrentUser():M.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,c.Z)(function*(){if(!v.redirectPersistenceManager){const I=_&&ye(_)||v._popupRedirectResolver;Q(I,v,"argument-error"),v.redirectPersistenceManager=yield _n.create(v,[ye(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,c.Z)(function*(){var I,M;return v._isInitialized&&(yield v.queue((0,c.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===_?v._currentUser:(null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,c.Z)(function*(){if(_===v.currentUser)return v.queue((0,c.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,I,M){if(this._deleted)return()=>{};const V="function"==typeof v?v:v.next.bind(v),le=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(le,this,"internal-error"),le.then(()=>V(this.currentUser)),"function"==typeof v?_.addObserver(v,I,M):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,c.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Hs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,c.Z)(function*(){var v;const I={"X-Client-Version":_.clientVersion};_.app.options.appId&&(I["X-Firebase-gmpid"]=_.app.options.appId);const M=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return M&&(I["X-Firebase-Client"]=M),I})()}}function Kn(w){return(0,W.m9)(w)}class js{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,W.ne)(v=>this.observer=v)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ws(w){const _=w.indexOf(":");return _<0?"":w.substr(0,_+1)}function Es(w){if(!w)return null;const _=Number(w);return isNaN(_)?null:_}class Mi{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Re("not implemented")}_getIdTokenResponse(_){return Re("not implemented")}_linkToIdToken(_,v){return Re("not implemented")}_getReauthenticationResolver(_){return Re("not implemented")}}function Qn(w,_){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:resetPassword",un(w,_))})).apply(this,arguments)}function Sn(w,_){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function xs(w,_){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:update",un(w,_))})).apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(w,_){return zi(w,"POST","/v1/accounts:signInWithPassword",un(w,_))})).apply(this,arguments)}function Qi(w,_){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:sendOobCode",un(w,_))})).apply(this,arguments)}function Zn(w,_){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(w,_){return Qi(w,_)})).apply(this,arguments)}function $i(w,_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(w,_){return Qi(w,_)})).apply(this,arguments)}function po(w,_){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(w,_){return Qi(w,_)})).apply(this,arguments)}function Al(w,_){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(w,_){return Qi(w,_)})).apply(this,arguments)}function fc(){return(fc=(0,c.Z)(function*(w,_){return zi(w,"POST","/v1/accounts:signInWithEmailLink",un(w,_))})).apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(w,_){return zi(w,"POST","/v1/accounts:signInWithEmailLink",un(w,_))})).apply(this,arguments)}class B extends Mi{constructor(_,v,I,M=null){super("password",I),this._email=_,this._password=v,this._tenantId=M}static _fromEmailAndPassword(_,v){return new B(_,v,"password")}static _fromEmailAndCode(_,v,I=null){return new B(_,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return function Ia(w,_){return Dr.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Ka(w,_){return fc.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:He(_,"internal-error")}})()}_linkToIdToken(_,v){var I=this;return(0,c.Z)(function*(){switch(I.signInMethod){case"password":return Sn(_,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function fu(w,_){return go.apply(this,arguments)}(_,{idToken:v,email:I._email,oobCode:I._password});default:He(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function $(w,_){return ee.apply(this,arguments)}function ee(){return(ee=(0,c.Z)(function*(w,_){return zi(w,"POST","/v1/accounts:signInWithIdp",un(w,_))})).apply(this,arguments)}class Ye extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Ye(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):He("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:M}=v,V=(0,ge._T)(v,["providerId","signInMethod"]);if(!I||!M)return null;const le=new Ye(I,M);return le.idToken=V.idToken||void 0,le.accessToken=V.accessToken||void 0,le.secret=V.secret,le.nonce=V.nonce,le.pendingToken=V.pendingToken||null,le}_getIdTokenResponse(_){return $(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,$(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,$(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,W.xO)(v)}return _}}function Et(w,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:sendVerificationCode",un(w,_))})).apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(w,_){return zi(w,"POST","/v1/accounts:signInWithPhoneNumber",un(w,_))})).apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(w,_){const v=yield zi(w,"POST","/v1/accounts:signInWithPhoneNumber",un(w,_));if(v.temporaryProof)throw Nr(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const up={USER_NOT_FOUND:"user-not-found"};function qd(){return(qd=(0,c.Z)(function*(w,_){return zi(w,"POST","/v1/accounts:signInWithPhoneNumber",un(w,Object.assign(Object.assign({},_),{operation:"REAUTH"})),up)})).apply(this,arguments)}class Ta extends Mi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Ta({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Ta({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function Ri(w,_){return ci.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function zr(w,_){return Ss.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function tf(w,_){return qd.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:I,verificationCode:M}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:I,code:M}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:I,phoneNumber:M,temporaryProof:V}=_;return I||v||M||V?new Ta({verificationId:v,verificationCode:I,phoneNumber:M,temporaryProof:V}):null}}class Nl{constructor(_){var v,I,M,V,le,Te;const Xe=(0,W.zd)((0,W.pd)(_)),Nt=null!==(v=Xe.apiKey)&&void 0!==v?v:null,Kt=null!==(I=Xe.oobCode)&&void 0!==I?I:null,$t=function Zd(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Xe.mode)&&void 0!==M?M:null);Q(Nt&&Kt&&$t,"argument-error"),this.apiKey=Nt,this.operation=$t,this.code=Kt,this.continueUrl=null!==(V=Xe.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(le=Xe.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Te=Xe.tenantId)&&void 0!==Te?Te:null}static parseLink(_){const v=function Yd(w){const _=(0,W.zd)((0,W.pd)(w)).link,v=_?(0,W.zd)((0,W.pd)(_)).deep_link_id:null,I=(0,W.zd)((0,W.pd)(w)).deep_link_id;return(I?(0,W.zd)((0,W.pd)(I)).link:null)||I||v||_||w}(_);try{return new Nl(v)}catch{return null}}}let No=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,I){return B._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const M=Nl.parseLink(I);return Q(M,"argument-error"),B._fromEmailAndCode(v,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Oo{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ia extends Oo{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Qa extends ia{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Q("providerId"in v&&"signInMethod"in v,"argument-error"),Ye._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Q(_.idToken||_.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Qa.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Qa.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:V,nonce:le,providerId:Te}=_;if(!I&&!M&&!v&&!V||!Te)return null;try{return new Qa(Te)._credential({idToken:v,accessToken:I,nonce:le,pendingToken:V})}catch{return null}}}let Jn=(()=>{class w extends ia{constructor(){super("facebook.com")}static credential(v){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Xn=(()=>{class w extends ia{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:M}=v;if(!I&&!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),nd=(()=>{class w extends ia{constructor(){super("github.com")}static credential(v){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class mr extends Mi{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return $(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,$(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,$(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:M,pendingToken:V}=v;return I&&M&&V&&I===M?new mr(I,V):null}static _create(_,v){return new mr(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zs extends Oo{constructor(_){Q(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return zs.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return zs.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=mr.fromJSON(_);return Q(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:I}=_;if(!v||!I)return null;try{return mr._create(I,v)}catch{return null}}}let As=(()=>{class w extends ia{constructor(){super("twitter.com")}static credential(v,I){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=v;if(!I||!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ja(w,_){return pc.apply(this,arguments)}function pc(){return(pc=(0,c.Z)(function*(w,_){return zi(w,"POST","/v1/accounts:signUp",un(w,_))})).apply(this,arguments)}class Gn{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,I,M=!1){return(0,c.Z)(function*(){const V=yield Pt._fromIdTokenResponse(_,I,M),le=Kd(I);return new Gn({user:V,providerId:le,_tokenResponse:I,operationType:v})})()}static _forOperation(_,v,I){return(0,c.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const M=Kd(I);return new Gn({user:_,providerId:M,_tokenResponse:I,operationType:v})})()}}function Kd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Gi(){return(Gi=(0,c.Z)(function*(w){var _;const v=Kn(w);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new Gn({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield Ja(v,{returnSecureToken:!0}),M=yield Gn._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ol extends W.ZR{constructor(_,v,I,M){var V;super(v.code,v.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,Ol.prototype),this.customData={appName:_.name,tenantId:null!==(V=_.tenantId)&&void 0!==V?V:void 0,_serverResponse:v.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(_,v,I,M){return new Ol(_,v,I,M)}}function qs(w,_,v,I){return("reauthenticate"===_?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?Ol._fromErrorAndOperation(w,V,_,I):V})}function Ns(w){return new Set(w.map(({providerId:_})=>_).filter(_=>!!_))}function _c(){return(_c=(0,c.Z)(function*(w,_){const v=(0,W.m9)(w);yield An(!0,v,_);const{providerUserInfo:I}=yield Hr(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),M=Ns(I||[]);return v.providerData=v.providerData.filter(V=>M.has(V.providerId)),M.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Xa(w,_){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(w,_,v=!1){const I=yield Bi(w,_._linkToIdToken(w.auth,yield w.getIdToken()),v);return Gn._forOperation(w,"link",I)})).apply(this,arguments)}function An(w,_,v){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(w,_,v){yield xn(_);const M=!1===w?"provider-already-linked":"no-such-provider";Q(Ns(_.providerData).has(v)===w,_.auth,M)})).apply(this,arguments)}function el(w,_){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(w,_,v=!1){var I;const{auth:M}=w,V="reauthenticate";try{const le=yield Bi(w,qs(M,V,_,w),v);Q(le.idToken,M,"internal-error");const Te=Ot(le.idToken);Q(Te,M,"internal-error");const{sub:Xe}=Te;return Q(w.uid===Xe,M,"user-mismatch"),Gn._forOperation(w,V,le)}catch(le){throw"auth/user-not-found"===(null===(I=le)||void 0===I?void 0:I.code)&&He(M,"user-mismatch"),le}})).apply(this,arguments)}function _o(w,_){return mc.apply(this,arguments)}function mc(){return(mc=(0,c.Z)(function*(w,_,v=!1){const I="signIn",M=yield qs(w,I,_),V=yield Gn._fromIdTokenResponse(w,I,M);return v||(yield w._updateCurrentUser(V.user)),V})).apply(this,arguments)}function ei(w,_){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(w,_){return _o(Kn(w),_)})).apply(this,arguments)}function Ml(w,_){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(w,_){const v=(0,W.m9)(w);return yield An(!1,v,_.providerId),Xa(v,_)})).apply(this,arguments)}function mo(w,_){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,c.Z)(function*(w,_){return el((0,W.m9)(w),_)})).apply(this,arguments)}function id(w,_){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(w,_){return zi(w,"POST","/v1/accounts:signInWithCustomToken",un(w,_))})).apply(this,arguments)}function vc(){return(vc=(0,c.Z)(function*(w,_){const v=Kn(w),I=yield id(v,{token:_,returnSecureToken:!0}),M=yield Gn._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ze{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?mn._fromServerResponse(_,v):He(_,"internal-error")}}class mn extends Ze{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new mn(v)}}function tl(w,_,v){var I;Q((null===(I=v.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),Q(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Q(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Q(v.android.packageName.length>0,w,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Xi(){return(Xi=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w),M={requestType:"PASSWORD_RESET",email:_};v&&tl(I,M,v),yield $i(I,M)})).apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(w,_,v){yield Qn((0,W.m9)(w),{oobCode:_,newPassword:v})})).apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(w,_){yield xs((0,W.m9)(w),{oobCode:_})})).apply(this,arguments)}function Fl(w,_){return sd.apply(this,arguments)}function sd(){return(sd=(0,c.Z)(function*(w,_){const v=(0,W.m9)(w),I=yield Qn(v,{oobCode:_}),M=I.requestType;switch(Q(M,v,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(I.mfaInfo,v,"internal-error");default:Q(I.email,v,"internal-error")}let V=null;return I.mfaInfo&&(V=Ze._fromServerResponse(Kn(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:V},operation:M}})).apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(w,_){const{data:v}=yield Fl((0,W.m9)(w),_);return v.email})).apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(w,_,v){const I=Kn(w),M=yield Ja(I,{returnSecureToken:!0,email:_,password:v}),V=yield Gn._fromIdTokenResponse(I,"signIn",M);return yield I._updateCurrentUser(V.user),V})).apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w),M={requestType:"EMAIL_SIGNIN",email:_};Q(v.handleCodeInApp,I,"argument-error"),v&&tl(I,M,v),yield po(I,M)})).apply(this,arguments)}function Cc(){return(Cc=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w),M=No.credentialWithLink(_,v||Je());return Q(M._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),ei(I,M)})).apply(this,arguments)}function dp(w,_){return od.apply(this,arguments)}function od(){return(od=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:createAuthUri",un(w,_))})).apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(w,_){const I={identifier:_,continueUri:Mt()?Je():"http://localhost"},{signinMethods:M}=yield dp((0,W.m9)(w),I);return M||[]})).apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(w,_){const v=(0,W.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};_&&tl(v.auth,M,_);const{email:V}=yield Zn(v.auth,M);V!==w.email&&(yield w.reload())})).apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:_};v&&tl(I.auth,V,v);const{email:le}=yield Al(I.auth,V);le!==w.email&&(yield w.reload())})).apply(this,arguments)}function Ec(w,_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ld(){return(ld=(0,c.Z)(function*(w,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const I=(0,W.m9)(w),V={idToken:yield I.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},le=yield Bi(I,Ec(I.auth,V));I.displayName=le.displayName||null,I.photoURL=le.photoUrl||null;const Te=I.providerData.find(({providerId:Xe})=>"password"===Xe);Te&&(Te.displayName=I.displayName,Te.photoURL=I.photoURL),yield I._updateTokensIfNecessary(le)})).apply(this,arguments)}function Zs(w,_,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(w,_,v){const{auth:I}=w,V={idToken:yield w.getIdToken(),returnSecureToken:!0};_&&(V.email=_),v&&(V.password=v);const le=yield Bi(w,Sn(I,V));yield w._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class Os{constructor(_,v,I={}){this.isNewUser=_,this.providerId=v,this.profile=I}}class Ti extends Os{constructor(_,v,I,M){super(_,v,I),this.username=M}}class cd extends Os{constructor(_,v){super(_,"facebook.com",v)}}class ud extends Ti{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Jd extends Os{constructor(_,v){super(_,"google.com",v)}}class Ll extends Ti{constructor(_,v,I){super(_,"twitter.com",v,I)}}function de(w){const{user:_,_tokenResponse:v}=w;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function vr(w){var _,v;if(!w)return null;const{providerId:I}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},V=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&w?.idToken){const le=null===(v=null===(_=Ot(w.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(le)return new Os(V,"anonymous"!==le&&"custom"!==le?le:null)}if(!I)return null;switch(I){case"facebook.com":return new cd(V,M);case"github.com":return new ud(V,M);case"google.com":return new Jd(V,M);case"twitter.com":return new Ll(V,M,w.screenName||null);case"custom":case"anonymous":return new Os(V,null);default:return new Os(V,I,M)}}(v)}class Cr{constructor(_,v,I){this.type=_,this.credential=v,this.auth=I}static _fromIdtoken(_,v){return new Cr("enroll",_,v)}static _fromMfaPendingCredential(_){return new Cr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,I;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Cr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(I=_.multiFactorSession)&&void 0!==I&&I.idToken)return Cr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class sl{constructor(_,v,I){this.session=_,this.hints=v,this.signInResolver=I}static _fromError(_,v){const I=Kn(_),M=v.customData._serverResponse,V=(M.mfaInfo||[]).map(Te=>Ze._fromServerResponse(I,Te));Q(M.mfaPendingCredential,I,"internal-error");const le=Cr._fromMfaPendingCredential(M.mfaPendingCredential);return new sl(le,V,function(){var Te=(0,c.Z)(function*(Xe){const Nt=yield Xe._process(I,le);delete M.mfaInfo,delete M.mfaPendingCredential;const Kt=Object.assign(Object.assign({},M),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(v.operationType){case"signIn":const $t=yield Gn._fromIdTokenResponse(I,v.operationType,Kt);return yield I._updateCurrentUser($t.user),$t;case"reauthenticate":return Q(v.user,I,"internal-error"),Gn._forOperation(v.user,v.operationType,Kt);default:He(I,"internal-error")}});return function(Xe){return Te.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,c.Z)(function*(){return v.signInResolver(_)})()}}function oa(w,_){return Qt(w,"POST","/v2/accounts/mfaEnrollment:start",un(w,_))}class ti{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>Ze._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new ti(_)}getSession(){var _=this;return(0,c.Z)(function*(){return Cr._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,v){var I=this;return(0,c.Z)(function*(){const M=_,V=yield I.getSession(),le=yield Bi(I.user,M._process(I.user.auth,V,v));return yield I.user._updateTokensIfNecessary(le),I.user.reload()})()}unenroll(_){var v=this;return(0,c.Z)(function*(){var I;const M="string"==typeof _?_:_.uid,V=yield v.user.getIdToken(),le=yield Bi(v.user,function xc(w,_){return Qt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",un(w,_))}(v.user.auth,{idToken:V,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Te})=>Te!==M),yield v.user._updateTokensIfNecessary(le);try{yield v.user.reload()}catch(Te){if("auth/user-token-expired"!==(null===(I=Te)||void 0===I?void 0:I.code))throw Te}})()}}const Bl=new WeakMap,ko="__sak";class _u{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sa=(()=>{class w extends _u{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,I)=>this.onStorageEvent(v,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sc(){const w=(0,W.z$)();return Di(w)||$n(w)}()&&function li(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fo(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),V=this.localCache[I];M!==V&&v(I,V,M)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((Te,Xe,Nt)=>{this.notifyListeners(Te,Nt)});const M=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(M);if(v.newValue!==Te)null!==v.newValue?this.storage.setItem(M,v.newValue):this.storage.removeItem(M);else if(this.localCache[M]===v.newValue&&!I)return}const V=()=>{const Te=this.storage.getItem(M);!I&&this.localCache[M]===Te||this.notifyListeners(M,Te)},le=this.storage.getItem(M);!function Yi(){return(0,W.w1)()&&10===document.documentMode}()||le===v.newValue||v.newValue===v.oldValue?V():setTimeout(V,10)}notifyListeners(v,I){this.localCache[v]=I;const M=this.listeners[v];if(M)for(const V of Array.from(M))V(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var M=()=>super._set,V=this;return(0,c.Z)(function*(){yield M().call(V,v,I),V.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,M=this;return(0,c.Z)(function*(){const V=yield I().call(M,v);return M.localCache[v]=JSON.stringify(V),V})()}_remove(v){var I=()=>super._remove,M=this;return(0,c.Z)(function*(){yield I().call(M,v),delete M.localCache[v]})()}}return w.type="LOCAL",w})(),Ms=(()=>{class w extends _u{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return w.type="SESSION",w})();let dd=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(V=>V.isListeningto(v));if(I)return I;const M=new w(v);return this.receivers.push(M),M}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,c.Z)(function*(){const M=v,{eventId:V,eventType:le,data:Te}=M.data,Xe=I.handlersMap[le];if(!Xe?.size)return;M.ports[0].postMessage({status:"ack",eventId:V,eventType:le});const Nt=Array.from(Xe).map(function(){var $t=(0,c.Z)(function*(Vr){return Vr(M.origin,Te)});return function(Vr){return $t.apply(this,arguments)}}()),Kt=yield function Ul(w){return Promise.all(w.map(function(){var _=(0,c.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return _.apply(this,arguments)}}()))}(Nt);M.ports[0].postMessage({status:"done",eventId:V,eventType:le,response:Kt})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Aa(w="",_=10){let v="";for(let I=0;I<_;I++)v+=Math.floor(10*Math.random());return w+v}class mu{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,I=50){var M=this;return(0,c.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let le,Te;return new Promise((Xe,Nt)=>{const Kt=Aa("",20);V.port1.start();const $t=setTimeout(()=>{Nt(new Error("unsupported_event"))},I);Te={messageChannel:V,onMessage(Vr){const to=Vr;if(to.data.eventId===Kt)switch(to.data.status){case"ack":clearTimeout($t),le=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Xe(to.data.response);break;default:clearTimeout($t),clearTimeout(le),Nt(new Error("invalid_response"))}}},M.handlers.add(Te),V.port1.addEventListener("message",Te.onMessage),M.target.postMessage({eventType:_,eventId:Kt,data:v},[V.port2])}).finally(()=>{Te&&M.removeMessageHandler(Te)})})()}}function Si(){return window}function ll(){return typeof Si().WorkerGlobalScope<"u"&&"function"==typeof Si().importScripts}function Nc(){return(Nc=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bo="firebaseLocalStorageDb",Na="firebaseLocalStorage",bu="fbase_key";class dl{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Oc(w,_){return w.transaction([Na],_?"readwrite":"readonly").objectStore(Na)}function tr(){const w=indexedDB.open(bo,1);return new Promise((_,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const I=w.result;try{I.createObjectStore(Na,{keyPath:bu})}catch(M){v(M)}}),w.addEventListener("success",(0,c.Z)(function*(){const I=w.result;I.objectStoreNames.contains(Na)?_(I):(I.close(),yield function or(){const w=indexedDB.deleteDatabase(bo);return new dl(w).toPromise()}(),_(yield tr()))}))})}function aa(w,_,v){return hd.apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(w,_,v){const I=Oc(w,!0).put({[bu]:_,value:v});return new dl(I).toPromise()})).apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(w,_){const v=Oc(w,!1).get(_),I=yield new dl(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function la(w,_){const v=Oc(w,!0).delete(_);return new dl(v).toPromise()}const Lo=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.Z)(function*(){return v.db||(v.db=yield tr()),v.db})()}_withRetries(v){var I=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const V=yield I._openDb();return yield v(V)}catch(V){if(M++>3)throw V;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.Z)(function*(){return ll()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.Z)(function*(){v.receiver=dd._getInstance(function ul(){return ll()?self:null}()),v.receiver._subscribe("keyChanged",function(){var I=(0,c.Z)(function*(M,V){return{keyProcessed:(yield v._poll()).includes(V.key)}});return function(M,V){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,c.Z)(function*(M,V){return["keyChanged"]});return function(M,V){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.Z)(function*(){var I,M;if(v.activeServiceWorker=yield function cl(){return Nc.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new mu(v.activeServiceWorker);const V=yield v.sender._send("ping",{},800);!V||(null===(I=V[0])||void 0===I?void 0:I.fulfilled)&&(null===(M=V[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,c.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function vu(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const v=yield tr();return yield aa(v,ko,"1"),yield la(v,ko),!0}catch{}return!1})()}_withPendingWrite(v){var I=this;return(0,c.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(V=>aa(V,v,I)),M.localCache[v]=I,M.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,c.Z)(function*(){const M=yield I._withRetries(V=>function Mc(w,_){return Rc.apply(this,arguments)}(V,v));return I.localCache[v]=M,M})()}_remove(v){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(M=>la(M,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.Z)(function*(){const I=yield v._withRetries(le=>{const Te=Oc(le,!1).getAll();return new dl(Te).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const M=[],V=new Set;for(const{fbase_key:le,value:Te}of I)V.add(le),JSON.stringify(v.localCache[le])!==JSON.stringify(Te)&&(v.notifyListeners(le,Te),M.push(le));for(const le of Object.keys(v.localCache))v.localCache[le]&&!V.has(le)&&(v.notifyListeners(le,null),M.push(le));return M})()}notifyListeners(v,I){this.localCache[v]=I;const M=this.listeners[v];if(M)for(const V of Array.from(M))V(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Bo(w,_){return Qt(w,"POST","/v2/accounts/mfaSignIn:start",un(w,_))}function Oa(){return(Oa=(0,c.Z)(function*(w){return(yield Qt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gl(w){return new Promise((_,v)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=_,I.onerror=M=>{const V=Pe("internal-error");V.customData=M,v(V)},I.type="text/javascript",I.charset="UTF-8",function $l(){var w,_;return null!==(_=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==_?_:document}().appendChild(I)})}function wu(w){return`__${w}${Math.floor(1e6*Math.random())}`}const ua=1e12;class pi{constructor(_){this.auth=_,this.counter=ua,this._widgets=new Map}render(_,v){const I=this.counter;return this._widgets.set(I,new U(_,this.auth.name,v||{})),this.counter++,I}reset(_){var v;const I=_||ua;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(_){var v;return(null===(v=this._widgets.get(_||ua))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,c.Z)(function*(){var I;return null===(I=v._widgets.get(_||ua))||void 0===I||I.execute(),""})()}}class U{constructor(_,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof _?document.getElementById(_):_;Q(M,"argument-error",{appName:v}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fc(w){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<w;I++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jl=wu("rcb"),Ys=new Yn(3e4,6e4);class eh{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Si().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return Q(function Ug(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Si().grecaptcha):new Promise((I,M)=>{const V=Si().setTimeout(()=>{M(Pe(_,"network-request-failed"))},Ys.get());Si()[jl]=()=>{Si().clearTimeout(V),delete Si()[jl];const Te=Si().grecaptcha;if(!Te)return void M(Pe(_,"internal-error"));const Xe=Te.render;Te.render=(Nt,Kt)=>{const $t=Xe(Nt,Kt);return this.counter++,$t},this.hostLanguage=v,I(Te)},Gl(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:jl,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(V),M(Pe(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Si().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pc{load(_){return(0,c.Z)(function*(){return new pi(_)})()}clearedOneInstance(){}}const Wl="recaptcha",hp={theme:"light",type:"image"};class Fr{constructor(_,v=Object.assign({},hp),I){this.parameters=v,this.type=Wl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(I),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof _?document.getElementById(_):_;Q(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pc:new eh,this.validateStartingState()}verify(){var _=this;return(0,c.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(v)||new Promise(V=>{const le=Te=>{!Te||(_.tokenChangeListeners.delete(le),V(Te))};_.tokenChangeListeners.add(le),_.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof _)_(v);else if("string"==typeof _){const I=Si()[_];"function"==typeof I&&I(v)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,c.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,c.Z)(function*(){Q(Mt()&&!ll(),_.auth,"internal-error"),yield function kc(){let w=null;return new Promise(_=>{"complete"!==document.readyState?(w=()=>_(),window.addEventListener("load",w)):_()}).catch(_=>{throw w&&window.removeEventListener("load",w),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function Ir(w){return Oa.apply(this,arguments)}(_.auth);Q(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wn{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Ta._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Rs(){return(Rs=(0,c.Z)(function*(w,_,v){const I=Kn(w),M=yield zn(I,_,(0,W.m9)(v));return new Wn(M,V=>ei(I,V))})).apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w);yield An(!1,I,"phone");const M=yield zn(I.auth,_,(0,W.m9)(v));return new Wn(M,V=>Ml(I,V))})).apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w),M=yield zn(I.auth,_,(0,W.m9)(v));return new Wn(M,V=>mo(I,V))})).apply(this,arguments)}function zn(w,_,v){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(w,_,v){var I;const M=yield v.verify();try{let V;if(Q("string"==typeof M,w,"argument-error"),Q(v.type===Wl,w,"argument-error"),V="string"==typeof _?{phoneNumber:_}:_,"session"in V){const le=V.session;if("phoneNumber"in V)return Q("enroll"===le.type,w,"internal-error"),(yield oa(w,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Q("signin"===le.type,w,"internal-error");const Te=(null===(I=V.multiFactorHint)||void 0===I?void 0:I.uid)||V.multiFactorUid;return Q(Te,w,"missing-multi-factor-info"),(yield Bo(w,{mfaPendingCredential:le.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield Et(w,{phoneNumber:V.phoneNumber,recaptchaToken:M});return le}}finally{v._reset()}})).apply(this,arguments)}function pd(){return(pd=(0,c.Z)(function*(w,_){yield Xa((0,W.m9)(w),_)})).apply(this,arguments)}let Du=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=Kn(v)}verifyPhoneNumber(v,I){return zn(this.auth,v,(0,W.m9)(I))}static credential(v,I){return Ta._fromVerification(v,I)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:M}=v;return I&&M?Ta._fromTokenResponse(I,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function pl(w,_){return _?ye(_):(Q(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class gd extends Mi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return $(_,this._buildIdpRequest())}_linkToIdToken(_,v){return $(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return $(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function nr(w){return _o(w.auth,new gd(w),w.bypassAuthState)}function Lc(w){const{auth:_,user:v}=w;return Q(v,_,"internal-error"),el(v,new gd(w),w.bypassAuthState)}function Ma(w){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(w){const{auth:_,user:v}=w;return Q(v,_,"internal-error"),Xa(v,new gd(w),w.bypassAuthState)})).apply(this,arguments)}class Bc{constructor(_,v,I,M,V=!1){this.auth=_,this.resolver=I,this.user=M,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,c.Z)(function*(I,M){_.pendingPromise={resolve:I,reject:M};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(V){_.reject(V)}});return function(I,M){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,c.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:V,tenantId:le,error:Te,type:Xe}=_;if(Te)return void v.reject(Te);const Nt={auth:v.auth,requestUri:I,sessionId:M,tenantId:le||void 0,postBody:V||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Xe)(Nt))}catch(Kt){v.reject(Kt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return nr;case"linkViaPopup":case"linkViaRedirect":return Ma;case"reauthViaPopup":case"reauthViaRedirect":return Lc;default:He(this.auth,"internal-error")}}resolve(_){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _d=new Yn(2e3,1e4);function Vc(){return(Vc=(0,c.Z)(function*(w,_,v){const I=Kn(w);st(w,_,Oo);const M=pl(I,v);return new $c(I,"signInViaPopup",_,M).executeNotNull()})).apply(this,arguments)}function vd(){return(vd=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w);st(I.auth,_,Oo);const M=pl(I.auth,v);return new $c(I.auth,"reauthViaPopup",_,M,I).executeNotNull()})).apply(this,arguments)}function Uc(){return(Uc=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w);st(I.auth,_,Oo);const M=pl(I.auth,v);return new $c(I.auth,"linkViaPopup",_,M,I).executeNotNull()})).apply(this,arguments)}let $c=(()=>{class w extends Bc{constructor(v,I,M,V,le){super(v,I,V,le),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.Z)(function*(){const I=yield v.execute();return Q(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,c.Z)(function*(){ae(1===v.filter.length,"Popup operations only handle one event");const I=Aa();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(M=>{v.reject(M)}),v.resolver._isIframeWebStorageSupported(v.auth,M=>{M||v.reject(Pe(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,_d.get())};v()}}return w.currentPopupAction=null,w})();const Fi=new Map;class Fs extends Bc{constructor(_,v,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,c.Z)(function*(){let I=Fi.get(v.auth._key());if(!I){try{const V=(yield function jn(w,_){return bt.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;I=()=>Promise.resolve(V)}catch(M){I=()=>Promise.reject(M)}Fi.set(v.auth._key(),I)}return v.bypassAuthState||Fi.set(v.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,I=this;return(0,c.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(I,_);if("unknown"!==_.type){if(_.eventId){const M=yield I.auth._redirectUserForId(_.eventId);if(M)return I.user=M,v().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function bt(){return(bt=(0,c.Z)(function*(w,_){const v=Cu(_),I=yr(w);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(v));return yield I._remove(v),M})).apply(this,arguments)}function cr(w,_){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(w,_){return yr(w)._set(Cu(_),"true")})).apply(this,arguments)}function Ks(w,_){Fi.set(w._key(),_)}function yr(w){return ye(w._redirectPersistence)}function Cu(w){return Zi("pendingRedirect",w.config.apiKey,w.name)}function x(){return(x=(0,c.Z)(function*(w,_,v){const I=Kn(w);st(w,_,Oo);const M=pl(I,v);return yield cr(M,I),M._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w);st(I.auth,_,Oo);const M=pl(I.auth,v);yield cr(M,I.auth);const V=yield Ut(I);return M._openRedirect(I.auth,_,"reauthViaRedirect",V)})).apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(w,_,v){const I=(0,W.m9)(w);st(I.auth,_,Oo);const M=pl(I.auth,v);yield An(!1,I,_.providerId),yield cr(M,I.auth);const V=yield Ut(I);return M._openRedirect(I.auth,_,"linkViaRedirect",V)})).apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(w,_){return yield Kn(w)._initializationPromise,Ht(w,_,!1)})).apply(this,arguments)}function Ht(w,_){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(w,_,v=!1){const I=Kn(w),M=pl(I,_),le=yield new Fs(I,M,v).execute();return le&&!v&&(delete le.user._redirectEventId,yield I._persistUserIfCurrent(le.user),yield I._setRedirectUser(null,_)),le})).apply(this,arguments)}function Ut(w){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(w){const _=Aa(`${w.uid}:::`);return w._redirectEventId=_,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),_})).apply(this,arguments)}class qn{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(v=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function zl(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(w);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var I;if(_.error&&!da(_)){const M=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(Pe(this.auth,M))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const I=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ur(_))}saveEventToCache(_){this.cachedEventUids.add(ur(_)),this.lastProcessedEventTime=Date.now()}}function ur(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(_=>_).join("-")}function da({type:w,error:_}){return"unknown"===w&&"auth/no-auth-event"===_?.code}function Ra(w){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(w,_={}){return Qt(w,"GET","/v1/projects",_)})).apply(this,arguments)}const Pa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qs=/^https?/;function cf(){return(cf=(0,c.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:_}=yield Ra(w);for(const v of _)try{if(nh(v))return}catch{}He(w,"unauthorized-domain")})).apply(this,arguments)}function nh(w){const _=Je(),{protocol:v,hostname:I}=new URL(_);if(w.startsWith("chrome-extension://")){const le=new URL(w);return""===le.hostname&&""===I?"chrome-extension:"===v&&w.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&le.hostname===I}if(!Qs.test(v))return!1;if(Pa.test(w))return I===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const $g=new Yn(3e4,6e4);function Gc(){const w=Si().___jsl;if(w?.H)for(const _ of Object.keys(w.H))if(w.H[_].r=w.H[_].r||[],w.H[_].L=w.H[_].L||[],w.H[_].r=[...w.H[_].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Iu=null;function pp(w){return Iu=Iu||function Hc(w){return new Promise((_,v)=>{var I,M,V;function le(){Gc(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Gc(),v(Pe(w,"network-request-failed"))},timeout:$g.get()})}if(null!==(M=null===(I=Si().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)_(gapi.iframes.getContext());else{if(null===(V=Si().gapi)||void 0===V||!V.load){const Te=wu("iframefcb");return Si()[Te]=()=>{gapi.load?le():v(Pe(w,"network-request-failed"))},Gl(`https://apis.google.com/js/api.js?onload=${Te}`).catch(Xe=>v(Xe))}le()}}).catch(_=>{throw Iu=null,_})}(w),Iu}const Tu=new Yn(5e3,15e3),rh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dr(w){const _=w.config;Q(_.authDomain,w,"auth-domain-config-required");const v=_.emulator?di(_,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:w.name,v:be.SDK_VERSION},M=sh.get(w.config.apiHost);M&&(I.eid=M);const V=w._getFrameworks();return V.length&&(I.fw=V.join(",")),`${v}?${(0,W.xO)(I).slice(1)}`}function Pi(){return Pi=(0,c.Z)(function*(w){const _=yield pp(w),v=Si().gapi;return Q(v,w,"internal-error"),_.open({where:document.body,url:dr(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rh,dontclear:!0},I=>new Promise(function(){var M=(0,c.Z)(function*(V,le){yield I.restyle({setHideOnLeave:!1});const Te=Pe(w,"network-request-failed"),Xe=Si().setTimeout(()=>{le(Te)},Tu.get());function Nt(){Si().clearTimeout(Xe),V(I)}I.ping(Nt).then(Nt,()=>{le(Te)})});return function(V,le){return M.apply(this,arguments)}}()))}),Pi.apply(this,arguments)}const ha={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eu{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uo(w,_,v,I,M,V){Q(w.config.authDomain,w,"auth-domain-config-required"),Q(w.config.apiKey,w,"invalid-api-key");const le={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:I,v:be.SDK_VERSION,eventId:M};if(_ instanceof Oo){_.setDefaultLanguage(w.languageCode),le.providerId=_.providerId||"",(0,W.xb)(_.getCustomParameters())||(le.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Xe,Nt]of Object.entries(V||{}))le[Xe]=Nt}if(_ instanceof ia){const Xe=_.getScopes().filter(Nt=>""!==Nt);Xe.length>0&&(le.scopes=Xe.join(","))}w.tenantId&&(le.tid=w.tenantId);const Te=le;for(const Xe of Object.keys(Te))void 0===Te[Xe]&&delete Te[Xe];return`${function yp({config:w}){return w.emulator?di(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,W.xO)(Te).slice(1)}`}const xu="webStorageSupport";class $o extends class vn{constructor(_){this.factorId=_}_process(_,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,I);case"signin":return this._finalizeSignIn(_,v.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new $o(_)}_finalizeEnroll(_,v,I){return function ol(w,_){return Qt(w,"POST","/v2/accounts/mfaEnrollment:finalize",un(w,_))}(_,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function fl(w,_){return Qt(w,"POST","/v2/accounts/mfaSignIn:finalize",un(w,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Su=(()=>{class w{constructor(){}static assertion(v){return $o._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var Au="@firebase/auth";class hf{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,c.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(I=>{var M;_((null===(M=I)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ni(){return window}function ff(){return(ff=(0,c.Z)(function*(w,_,v){var I;const{BuildInfo:M}=Ni();ae(_.sessionId,"AuthEvent did not contain a session ID");const V=yield yd(_.sessionId),le={};return $n()?le.ibi=M.packageName:Ui()?le.apn=M.packageName:He(w,"operation-not-supported-in-this-environment"),M.displayName&&(le.appDisplayName=M.displayName),le.sessionId=V,Uo(w,v,_.type,void 0,null!==(I=_.eventId)&&void 0!==I?I:void 0,le)})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(w){const{BuildInfo:_}=Ni(),v={};$n()?v.iosBundleId=_.packageName:Ui()?v.androidPackageName=_.packageName:He(w,"operation-not-supported-in-this-environment"),yield Ra(w,v)})).apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(w,_,v){const{cordova:I}=Ni();let M=()=>{};try{yield new Promise((V,le)=>{let Te=null;function Xe(){var $t;V();const Vr=null===($t=I.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Vr&&Vr(),"function"==typeof v?.close&&v.close()}function Nt(){Te||(Te=window.setTimeout(()=>{le(Pe(w,"redirect-cancelled-by-user"))},2e3))}function Kt(){"visible"===document?.visibilityState&&Nt()}_.addPassiveListener(Xe),document.addEventListener("resume",Nt,!1),Ui()&&document.addEventListener("visibilitychange",Kt,!1),M=()=>{_.removePassiveListener(Xe),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",Kt,!1),Te&&window.clearTimeout(Te)}})}finally{M()}})).apply(this,arguments)}function yd(w){return lh.apply(this,arguments)}function lh(){return(lh=(0,c.Z)(function*(w){const _=bd(w),v=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(v)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bd(w){if(ae(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const _=new ArrayBuffer(w.length),v=new Uint8Array(_);for(let I=0;I<w.length;I++)v[I]=w.charCodeAt(I);return v}!function kr(w){(0,be._registerComponent)(new Ie.wA("auth",(_,{options:v})=>{const I=_.getProvider("app").getImmediate(),M=_.getProvider("heartbeat"),{apiKey:V,authDomain:le}=I.options;return((Te,Xe)=>{Q(V&&!V.includes(":"),"invalid-api-key",{appName:Te.name}),Q(!le?.includes(":"),"argument-error",{appName:Te.name});const Nt={apiKey:V,authDomain:le,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hs(w)},Kt=new tn(Te,Xe,Nt);return function it(w,_){const v=_?.persistence||[],I=(Array.isArray(v)?v:[v]).map(ye);_?.errorMap&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(I,_?.popupRedirectResolver)}(Kt,v),Kt})(I,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,I)=>{_.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new Ie.wA("auth-internal",_=>{const v=Kn(_.getProvider("auth").getImmediate());return new hf(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(Au,"0.20.7",function Gg(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,be.registerVersion)(Au,"0.20.7","esm2017")}("Browser");class pa extends qn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(_)),super.onEvent(_)}initialized(){var _=this;return(0,c.Z)(function*(){yield _.initPromise})()}}function wp(w){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,c.Z)(function*(w){const _=yield dh()._get(wd(w));return _&&(yield dh()._remove(wd(w))),_})).apply(this,arguments)}function gf(){const w=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const I=Math.floor(Math.random()*_.length);w.push(_.charAt(I))}return w.join("")}function dh(){return ye(Sa)}function wd(w){return Zi("authEvent",w.config.apiKey,w.name)}function Mu(w){if(!w?.includes("?"))return{};const[_,...v]=w.split("?");return(0,W.zd)(v.join("?"))}function Co(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pe("no-auth-event")}}function Cd(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function Cp(w=(0,W.z$)()){return!("file:"!==Cd()&&"ionic:"!==Cd()&&"capacitor:"!==Cd()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yc(){try{const w=self.localStorage,_=Aa();if(w)return w.setItem(_,"1"),w.removeItem(_),!function Id(w=(0,W.z$)()){return function qc(){return(0,W.w1)()&&11===document?.documentMode}()||function Zc(w=(0,W.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,W.hl)()}catch{return Td()&&(0,W.hl)()}return!1}function Td(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fu(){return(function jg(){return"http:"===Cd()||"https:"===Cd()}()||(0,W.ru)()||Cp())&&!function Ip(){return(0,W.b$)()||(0,W.UG)()}()&&Yc()&&!Td()}function _f(){return Cp()&&typeof document<"u"}function Ed(){return(Ed=(0,c.Z)(function*(){return!!_f()&&new Promise(w=>{const _=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),w(!0)})})})).apply(this,arguments)}const eo={LOCAL:"local",NONE:"none",SESSION:"session"},ph=Q,xd="persistence";function Pu(w){return gh.apply(this,arguments)}function gh(){return(gh=(0,c.Z)(function*(w){yield w._initializationPromise;const _=jo(),v=Zi(xd,w.config.apiKey,w.name);_&&_.setItem(v,w._getPersistence())})).apply(this,arguments)}function jo(){var w;try{return(null===(w=function fh(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const Kl=Q;class ks{constructor(){this.browserResolver=ye(class jc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=Ht,this._overrideRedirectResult=Ks}_openPopup(_,v,I,M){var V=this;return(0,c.Z)(function*(){var le;ae(null===(le=V.eventManagers[_._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Te=Uo(_,v,I,Je(),M);return function ka(w,_,v,I=500,M=600){const V=Math.max((window.screen.availHeight-M)/2,0).toString(),le=Math.max((window.screen.availWidth-I)/2,0).toString();let Te="";const Xe=Object.assign(Object.assign({},ha),{width:I.toString(),height:M.toString(),top:V,left:le}),Nt=(0,W.z$)().toLowerCase();v&&(Te=us(Nt)?"_blank":v),ai(Nt)&&(_=_||"http://localhost",Xe.scrollbars="yes");const Kt=Object.entries(Xe).reduce((Vr,[to,Ba])=>`${Vr}${to}=${Ba},`,"");if(function hs(w=(0,W.z$)()){var _;return $n(w)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Nt)&&"_self"!==Te)return function uf(w,_){const v=document.createElement("a");v.href=w,v.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(_||"",Te),new Eu(null);const $t=window.open(_||"",Te,Kt);Q($t,w,"popup-blocked");try{$t.focus()}catch{}return new Eu($t)}(_,Te,Aa())})()}_openRedirect(_,v,I,M){var V=this;return(0,c.Z)(function*(){return yield V._originValidation(_),function Rr(w){Si().location.href=w}(Uo(_,v,I,Je(),M)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:M,promise:V}=this.eventManagers[v];return M?Promise.resolve(M):(ae(V,"If manager is not set, promise should be"),V)}const I=this.initAndGetManager(_);return this.eventManagers[v]={promise:I},I.catch(()=>{delete this.eventManagers[v]}),I}initAndGetManager(_){var v=this;return(0,c.Z)(function*(){const I=yield function rr(w){return Pi.apply(this,arguments)}(_),M=new qn(_);return I.register("authEvent",V=>(Q(V?.authEvent,_,"invalid-auth-event"),{status:M.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:M},v.iframes[_._key()]=I,M})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(xu,{type:xu},M=>{var V;const le=null===(V=M?.[0])||void 0===V?void 0:V[xu];void 0!==le&&v(!!le),He(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function gl(w){return cf.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return fo()||Di()||$n()}}),this.cordovaResolver=ye(class Dd{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ht,this._overrideRedirectResult=Ks}_initialize(_){var v=this;return(0,c.Z)(function*(){const I=_._key();let M=v.eventManagers.get(I);return M||(M=new pa(_),v.eventManagers.set(I,M),v.attachCallbackListeners(_,M)),M})()}_openPopup(_){He(_,"operation-not-supported-in-this-environment")}_openRedirect(_,v,I,M){var V=this;return(0,c.Z)(function*(){!function ah(w){var _,v,I,M,V,le,Te,Xe,Nt,Kt;const $t=Ni();Q("function"==typeof(null===(_=$t?.universalLinks)||void 0===_?void 0:_.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(v=$t?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(V=null===(M=null===(I=$t?.cordova)||void 0===I?void 0:I.plugins)||void 0===M?void 0:M.browsertab)||void 0===V?void 0:V.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Xe=null===(Te=null===(le=$t?.cordova)||void 0===le?void 0:le.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===Xe?void 0:Xe.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Kt=null===(Nt=$t?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===Kt?void 0:Kt.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const le=yield V._initialize(_);yield le.initialized(),le.resetRedirect(),function Ps(){Fi.clear()}(),yield V._originValidation(_);const Te=function ch(w,_,v=null){return{type:_,eventId:v,urlResponse:null,sessionId:gf(),postBody:null,tenantId:w.tenantId,error:Pe(w,"no-auth-event")}}(_,I,M);yield function Zl(w,_){return dh()._set(wd(w),_)}(_,Te);const Xe=yield function bp(w,_,v){return ff.apply(this,arguments)}(_,Te,v),Nt=yield function Go(w){const{cordova:_}=Ni();return new Promise(v=>{_.plugins.browsertab.isAvailable(I=>{let M=null;I?_.plugins.browsertab.openUrl(w):M=_.InAppBrowser.open(w,function ds(w=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),v(M)})})}(Xe);return function Wc(w,_,v){return ql.apply(this,arguments)}(_,le,Nt)})()}_isIframeWebStorageSupported(_,v){throw new Error("Method not implemented.")}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Js(w){return Xs.apply(this,arguments)}(_)),this.originValidationPromises[v]}attachCallbackListeners(_,v){const{universalLinks:I,handleOpenURL:M,BuildInfo:V}=Ni(),le=setTimeout((0,c.Z)(function*(){yield wp(_),v.onEvent(Co())}),500),Te=function(){var Kt=(0,c.Z)(function*($t){clearTimeout(le);const Vr=yield wp(_);let to=null;Vr&&$t?.url&&(to=function uh(w,_){var v,I;const M=function Ou(w){const _=Mu(w),v=_.link?decodeURIComponent(_.link):void 0,I=Mu(v).link,M=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return Mu(M).link||M||I||v||w}(_);if(M.includes("/__/auth/callback")){const V=Mu(M),le=V.firebaseError?function hh(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(V.firebaseError)):null,Te=null===(I=null===(v=le?.code)||void 0===v?void 0:v.split("auth/"))||void 0===I?void 0:I[1],Xe=Te?Pe(Te):null;return Xe?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:M,postBody:null}}return null}(Vr,$t.url)),v.onEvent(to||Co())});return function(Vr){return Kt.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,Te);const Xe=M,Nt=`${V.packageName.toLowerCase()}://`;Ni().handleOpenURL=function(){var Kt=(0,c.Z)(function*($t){if($t.toLowerCase().startsWith(Nt)&&Te({url:$t}),"function"==typeof Xe)try{Xe($t)}catch(Vr){console.error(Vr)}});return function($t){return Kt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=Ht,this._overrideRedirectResult=Ks}_initialize(_){var v=this;return(0,c.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,v,I,M){var V=this;return(0,c.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openPopup(_,v,I,M)})()}_openRedirect(_,v,I,M){var V=this;return(0,c.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openRedirect(_,v,I,M)})()}_isIframeWebStorageSupported(_,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,v)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return _f()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,c.Z)(function*(){if(_.underlyingResolver)return;const v=yield function mf(){return Ed.apply(this,arguments)}();_.underlyingResolver=v?_.cordovaResolver:_.browserResolver})()}}function Kc(w){return w.unwrap()}function ku(w){return Io(w)}function Io(w){const{_tokenResponse:_}=w instanceof W.ZR?w.customData:w;if(!_)return null;if(!(w instanceof W.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return Du.credentialFromResult(w);const v=_.providerId;if(!v||"password"===v)return null;let I;switch(v){case"google.com":I=Xn;break;case"facebook.com":I=Jn;break;case"github.com":I=nd;break;case"twitter.com":I=As;break;default:const{oauthIdToken:M,oauthAccessToken:V,oauthTokenSecret:le,pendingToken:Te,nonce:Xe}=_;return V||le||M||Te?Te?v.startsWith("saml.")?mr._create(v,Te):Ye._fromParams({providerId:v,signInMethod:v,pendingToken:Te,idToken:M,accessToken:V}):new Qa(v).credential({idToken:M,accessToken:V,rawNonce:Xe}):null}return w instanceof W.ZR?I.credentialFromError(w):I.credentialFromResult(w)}function Lr(w,_){return _.catch(v=>{throw v instanceof W.ZR&&function Jl(w,_){var v,I;const M=null===(v=_.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===(null===(I=_)||void 0===I?void 0:I.code))_.resolver=new Bu(w,function er(w,_){var v;const I=(0,W.m9)(w),M=_;return Q(_.customData.operationType,I,"argument-error"),Q(null===(v=M.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),sl._fromError(I,M)}(w,_));else if(M){const V=Io(_),le=_;V&&(le.credential=V,le.tenantId=M.tenantId||void 0,le.email=M.email||void 0,le.phoneNumber=M.phoneNumber||void 0)}}(w,v),v}).then(v=>{const M=v.user;return{operationType:v.operationType,credential:ku(v),additionalUserInfo:de(v),user:Tr.getOrCreate(M)}})}function Xl(w,_){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,c.Z)(function*(w,_){const v=yield _;return{verificationId:v.verificationId,confirm:I=>Lr(w,v.confirm(I))}})).apply(this,arguments)}class Bu{constructor(_,v){this.resolver=v,this.auth=function Ql(w){return w.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Lr(Kc(this.auth),this.resolver.resolveSignIn(_))}}class Tr{constructor(_){this._delegate=_,this.multiFactor=function al(w){const _=(0,W.m9)(w);return Bl.has(_)||Bl.set(_,ti._fromUser(_)),Bl.get(_)}(_)}static getOrCreate(_){return Tr.USER_MAP.has(_)||Tr.USER_MAP.set(_,new Tr(_)),Tr.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var v=this;return(0,c.Z)(function*(){return Lr(v.auth,Ml(v._delegate,_))})()}linkWithPhoneNumber(_,v){var I=this;return(0,c.Z)(function*(){return Xl(I.auth,function Zr(w,_,v){return ar.apply(this,arguments)}(I._delegate,_,v))})()}linkWithPopup(_){var v=this;return(0,c.Z)(function*(){return Lr(v.auth,function lf(w,_,v){return Uc.apply(this,arguments)}(v._delegate,_,ks))})()}linkWithRedirect(_){var v=this;return(0,c.Z)(function*(){return yield Pu(Kn(v.auth)),function he(w,_,v){return function Ee(w,_,v){return We.apply(this,arguments)}(w,_,v)}(v._delegate,_,ks)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var v=this;return(0,c.Z)(function*(){return Lr(v.auth,mo(v._delegate,_))})()}reauthenticateWithPhoneNumber(_,v){return Xl(this.auth,function lr(w,_,v){return ri.apply(this,arguments)}(this._delegate,_,v))}reauthenticateWithPopup(_){return Lr(this.auth,function fp(w,_,v){return vd.apply(this,arguments)}(this._delegate,_,ks))}reauthenticateWithRedirect(_){var v=this;return(0,c.Z)(function*(){return yield Pu(Kn(v.auth)),function N(w,_,v){return function k(w,_,v){return q.apply(this,arguments)}(w,_,v)}(v._delegate,_,ks)})()}sendEmailVerification(_){return function Ea(w,_){return Tc.apply(this,arguments)}(this._delegate,_)}unlink(_){var v=this;return(0,c.Z)(function*(){return yield function ss(w,_){return _c.apply(this,arguments)}(v._delegate,_),v})()}updateEmail(_){return function Qd(w,_){return Zs((0,W.m9)(w),_,null)}(this._delegate,_)}updatePassword(_){return function rl(w,_){return Zs((0,W.m9)(w),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function fd(w,_){return pd.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function kl(w,_){return ld.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,v){return function ad(w,_,v){return Pl.apply(this,arguments)}(this._delegate,_,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tr.USER_MAP=new WeakMap;const Gt=Q;let _h=(()=>{class w{constructor(v,I){if(this.app=v,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=v.options;Gt(M,"invalid-api-key",{appName:v.name}),Gt(M,"invalid-api-key",{appName:v.name});const V=typeof window<"u"?ks:void 0;this._delegate=I.initialize({options:{persistence:Qc(M,v.name),popupRedirectResolver:V}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,I){!function So(w,_,v){const I=Kn(w);Q(I._canInitEmulator,I,"emulator-config-failed"),Q(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const M=!!v?.disableWarnings,V=Ws(_),{host:le,port:Te}=function Ci(w){const _=Ws(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(_.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(I);if(M){const V=M[1];return{host:V,port:Es(I.substr(V.length+1))}}{const[V,le]=I.split(":");return{host:V,port:Es(le)}}}(_);I.config.emulator={url:`${V}//${le}${null===Te?"":`:${Te}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:le,port:Te,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ki(){function w(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,v,I)}applyActionCode(v){return function _s(w,_){return il.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Fl(this._delegate,v)}confirmPasswordReset(v,I){return function yc(w,_,v){return nl.apply(this,arguments)}(this._delegate,v,I)}createUserWithEmailAndPassword(v,I){var M=this;return(0,c.Z)(function*(){return Lr(M._delegate,function wc(w,_,v){return Hi.apply(this,arguments)}(M._delegate,v,I))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function gu(w,_){return Ic.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Ro(w,_){return"EMAIL_SIGNIN"===Nl.parseLink(_)?.operation}(0,v)}getRedirectResult(){var v=this;return(0,c.Z)(function*(){Gt(Fu(),v._delegate,"operation-not-supported-in-this-environment");const I=yield function nt(w,_){return Vt.apply(this,arguments)}(v._delegate,ks);return I?Lr(v._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function Dp(w,_){Kn(w)._logFramework(_)}(this._delegate,v)}onAuthStateChanged(v,I,M){const{next:V,error:le,complete:Te}=vf(v,I,M);return this._delegate.onAuthStateChanged(V,le,Te)}onIdTokenChanged(v,I,M){const{next:V,error:le,complete:Te}=vf(v,I,M);return this._delegate.onIdTokenChanged(V,le,Te)}sendSignInLinkToEmail(v,I){return function Dc(w,_,v){return yo.apply(this,arguments)}(this._delegate,v,I)}sendPasswordResetEmail(v,I){return function sa(w,_,v){return Xi.apply(this,arguments)}(this._delegate,v,I||void 0)}setPersistence(v){var I=this;return(0,c.Z)(function*(){let M;switch(function Sd(w,_){ph(Object.values(eo).includes(_),w,"invalid-persistence-type"),(0,W.b$)()?ph(_!==eo.SESSION,w,"unsupported-persistence-type"):(0,W.UG)()?ph(_===eo.NONE,w,"unsupported-persistence-type"):Td()?ph(_===eo.NONE||_===eo.LOCAL&&(0,W.hl)(),w,"unsupported-persistence-type"):ph(_===eo.NONE||Yc(),w,"unsupported-persistence-type")}(I._delegate,v),v){case eo.SESSION:M=Ms;break;case eo.LOCAL:M=(yield ye(Lo)._isAvailable())?Lo:Sa;break;case eo.NONE:M=kn;break;default:return He("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Lr(this._delegate,function gc(w){return Gi.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Lr(this._delegate,ei(this._delegate,v))}signInWithCustomToken(v){return Lr(this._delegate,function rd(w,_){return vc.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,I){return Lr(this._delegate,function ji(w,_,v){return ei((0,W.m9)(w),No.credential(_,v))}(this._delegate,v,I))}signInWithEmailLink(v,I){return Lr(this._delegate,function sf(w,_,v){return Cc.apply(this,arguments)}(this._delegate,v,I))}signInWithPhoneNumber(v,I){return Xl(this._delegate,function af(w,_,v){return Rs.apply(this,arguments)}(this._delegate,v,I))}signInWithPopup(v){var I=this;return(0,c.Z)(function*(){return Gt(Fu(),I._delegate,"operation-not-supported-in-this-environment"),Lr(I._delegate,function md(w,_,v){return Vc.apply(this,arguments)}(I._delegate,v,ks))})()}signInWithRedirect(v){var I=this;return(0,c.Z)(function*(){return Gt(Fu(),I._delegate,"operation-not-supported-in-this-environment"),yield Pu(I._delegate),function ir(w,_,v){return function th(w,_,v){return x.apply(this,arguments)}(w,_,v)}(I._delegate,v,ks)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function bc(w,_){return pu.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=eo,w})();function vf(w,_,v){let I=w;"function"!=typeof w&&({next:I,error:_,complete:v}=w);const M=I;return{next:le=>M(le&&Tr.getOrCreate(le)),error:_,complete:v}}function Qc(w,_){const v=function Yl(w,_){const v=jo();if(!v)return[];const I=Zi(xd,w,_);switch(v.getItem(I)){case eo.NONE:return[kn];case eo.LOCAL:return[Lo,Ms];case eo.SESSION:return[Ms];default:return[]}}(w,_);if(typeof self<"u"&&!v.includes(Lo)&&v.push(Lo),typeof window<"u")for(const I of[Sa,Ms])v.includes(I)||v.push(I);return v.includes(kn)||v.push(kn),v}class mh{constructor(){this.providerId="phone",this._delegate=new Du(Kc(P.Z.auth()))}static credential(_,v){return Du.credential(_,v)}verifyPhoneNumber(_,v){return this._delegate.verifyPhoneNumber(_,v)}unwrap(){return this._delegate}}mh.PHONE_SIGN_IN_METHOD=Du.PHONE_SIGN_IN_METHOD,mh.PROVIDER_ID=Du.PROVIDER_ID;const Vu=Q;class Jc{constructor(_,v,I=P.Z.app()){var M;Vu(null===(M=I.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Fr(_,v,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ad(w){w.INTERNAL.registerComponent(new Ie.wA("auth-compat",_=>{const v=_.getProvider("app-compat").getImmediate(),I=_.getProvider("auth");return new _h(v,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:No,FacebookAuthProvider:Jn,GithubAuthProvider:nd,GoogleAuthProvider:Xn,OAuthProvider:Qa,SAMLAuthProvider:zs,PhoneAuthProvider:mh,PhoneMultiFactorGenerator:Su,RecaptchaVerifier:Jc,TwitterAuthProvider:As,Auth:_h,AuthCredential:Mi,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.20")}(P.Z)},5386:(At,Ge,j)=>{var c;!function(P,W,be,ge){"use strict";var ht,Ce=["","webkit","Moz","MS","ms","o"],Ie=W.createElement("div"),Ae=Math.round,J=Math.abs,X=Date.now;function ue(B,$,ee){return setTimeout(xt(B,ee),$)}function tt(B,$,ee){return!!Array.isArray(B)&&(Ue(B,ee[$],ee),!0)}function Ue(B,$,ee){var we;if(B)if(B.forEach)B.forEach($,ee);else if(B.length!==ge)for(we=0;we<B.length;)$.call(ee,B[we],we,B),we++;else for(we in B)B.hasOwnProperty(we)&&$.call(ee,B[we],we,B)}function Le(B,$,ee){var we="DEPRECATED METHOD: "+$+"\n"+ee+" AT \n";return function(){var Ye=new Error("get-stack-trace"),Et=Ye&&Ye.stack?Ye.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",dn=P.console&&(P.console.warn||P.console.log);return dn&&dn.call(P.console,we,Et),B.apply(this,arguments)}}ht="function"!=typeof Object.assign?function($){if($===ge||null===$)throw new TypeError("Cannot convert undefined or null to object");for(var ee=Object($),we=1;we<arguments.length;we++){var Ye=arguments[we];if(Ye!==ge&&null!==Ye)for(var Et in Ye)Ye.hasOwnProperty(Et)&&(ee[Et]=Ye[Et])}return ee}:Object.assign;var Oe=Le(function($,ee,we){for(var Ye=Object.keys(ee),Et=0;Et<Ye.length;)(!we||we&&$[Ye[Et]]===ge)&&($[Ye[Et]]=ee[Ye[Et]]),Et++;return $},"extend","Use `assign`."),Me=Le(function($,ee){return Oe($,ee,!0)},"merge","Use `assign`.");function at(B,$,ee){var Ye,we=$.prototype;(Ye=B.prototype=Object.create(we)).constructor=B,Ye._super=we,ee&&ht(Ye,ee)}function xt(B,$){return function(){return B.apply($,arguments)}}function He(B,$){return"function"==typeof B?B.apply($&&$[0]||ge,$):B}function Pe(B,$){return B===ge?$:B}function ke(B,$,ee){Ue(Re($),function(we){B.addEventListener(we,ee,!1)})}function st(B,$,ee){Ue(Re($),function(we){B.removeEventListener(we,ee,!1)})}function ft(B,$){for(;B;){if(B==$)return!0;B=B.parentNode}return!1}function Q(B,$){return B.indexOf($)>-1}function Re(B){return B.trim().split(/\s+/g)}function ae(B,$,ee){if(B.indexOf&&!ee)return B.indexOf($);for(var we=0;we<B.length;){if(ee&&B[we][ee]==$||!ee&&B[we]===$)return we;we++}return-1}function pe(B){return Array.prototype.slice.call(B,0)}function ye(B,$,ee){for(var we=[],Ye=[],Et=0;Et<B.length;){var dn=$?B[Et][$]:B[Et];ae(Ye,dn)<0&&we.push(B[Et]),Ye[Et]=dn,Et++}return ee&&(we=$?we.sort(function(ci,zr){return ci[$]>zr[$]}):we.sort()),we}function ve(B,$){for(var ee,we,Ye=$[0].toUpperCase()+$.slice(1),Et=0;Et<Ce.length;){if((we=(ee=Ce[Et])?ee+Ye:$)in B)return we;Et++}return ge}var it=1;function Mt(B){var $=B.ownerDocument||B;return $.defaultView||$.parentWindow||P}var cn="ontouchstart"in P,pt=ve(P,"PointerEvent")!==ge,Yn=cn&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),di="touch",pn="mouse",jr=["x","y"],Cn=["clientX","clientY"];function ni(B,$){var ee=this;this.manager=B,this.callback=$,this.element=B.element,this.target=B.options.inputTarget,this.domHandler=function(we){He(B.options.enable,[B])&&ee.handler(we)},this.init()}function Li(B,$,ee){var we=ee.pointers.length,Ye=ee.changedPointers.length,Et=1&$&&we-Ye==0,dn=12&$&&we-Ye==0;ee.isFirst=!!Et,ee.isFinal=!!dn,Et&&(B.session={}),ee.eventType=$,function wi(B,$){var ee=B.session,we=$.pointers,Ye=we.length;ee.firstInput||(ee.firstInput=Ot($)),Ye>1&&!ee.firstMultiple?ee.firstMultiple=Ot($):1===Ye&&(ee.firstMultiple=!1);var Et=ee.firstInput,dn=ee.firstMultiple,Ri=dn?dn.center:Et.center,ci=$.center=Un(we);$.timeStamp=X(),$.deltaTime=$.timeStamp-Et.timeStamp,$.angle=jt(Ri,ci),$.distance=qi(Ri,ci),function fi(B,$){var ee=$.center,we=B.offsetDelta||{},Ye=B.prevDelta||{},Et=B.prevInput||{};(1===$.eventType||4===Et.eventType)&&(Ye=B.prevDelta={x:Et.deltaX||0,y:Et.deltaY||0},we=B.offsetDelta={x:ee.x,y:ee.y}),$.deltaX=Ye.x+(ee.x-we.x),$.deltaY=Ye.y+(ee.y-we.y)}(ee,$),$.offsetDirection=Vi($.deltaX,$.deltaY);var zr=Bi($.deltaTime,$.deltaX,$.deltaY);$.overallVelocityX=zr.x,$.overallVelocityY=zr.y,$.overallVelocity=J(zr.x)>J(zr.y)?zr.x:zr.y,$.scale=dn?function xn(B,$){return qi($[0],$[1],Cn)/qi(B[0],B[1],Cn)}(dn.pointers,we):1,$.rotation=dn?function Ts(B,$){return jt($[1],$[0],Cn)+jt(B[1],B[0],Cn)}(dn.pointers,we):0,$.maxPointers=ee.prevInput?$.pointers.length>ee.prevInput.maxPointers?$.pointers.length:ee.prevInput.maxPointers:$.pointers.length,function kt(B,$){var Ye,Et,dn,Ri,ee=B.lastInterval||$,we=$.timeStamp-ee.timeStamp;if(8!=$.eventType&&(we>25||ee.velocity===ge)){var ci=$.deltaX-ee.deltaX,zr=$.deltaY-ee.deltaY,Ss=Bi(we,ci,zr);Et=Ss.x,dn=Ss.y,Ye=J(Ss.x)>J(Ss.y)?Ss.x:Ss.y,Ri=Vi(ci,zr),B.lastInterval=$}else Ye=ee.velocity,Et=ee.velocityX,dn=ee.velocityY,Ri=ee.direction;$.velocity=Ye,$.velocityX=Et,$.velocityY=dn,$.direction=Ri}(ee,$);var Ss=B.element;ft($.srcEvent.target,Ss)&&(Ss=$.srcEvent.target),$.target=Ss}(B,ee),B.emit("hammer.input",ee),B.recognize(ee),B.session.prevInput=ee}function Ot(B){for(var $=[],ee=0;ee<B.pointers.length;)$[ee]={clientX:Ae(B.pointers[ee].clientX),clientY:Ae(B.pointers[ee].clientY)},ee++;return{timeStamp:X(),pointers:$,center:Un($),deltaX:B.deltaX,deltaY:B.deltaY}}function Un(B){var $=B.length;if(1===$)return{x:Ae(B[0].clientX),y:Ae(B[0].clientY)};for(var ee=0,we=0,Ye=0;Ye<$;)ee+=B[Ye].clientX,we+=B[Ye].clientY,Ye++;return{x:Ae(ee/$),y:Ae(we/$)}}function Bi(B,$,ee){return{x:$/B||0,y:ee/B||0}}function Vi(B,$){return B===$?1:J(B)>=J($)?B<0?2:4:$<0?8:16}function qi(B,$,ee){ee||(ee=jr);var we=$[ee[0]]-B[ee[0]],Ye=$[ee[1]]-B[ee[1]];return Math.sqrt(we*we+Ye*Ye)}function jt(B,$,ee){return ee||(ee=jr),180*Math.atan2($[ee[1]]-B[ee[1]],$[ee[0]]-B[ee[0]])/Math.PI}ni.prototype={handler:function(){},init:function(){this.evEl&&ke(this.element,this.evEl,this.domHandler),this.evTarget&&ke(this.target,this.evTarget,this.domHandler),this.evWin&&ke(Mt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&st(this.element,this.evEl,this.domHandler),this.evTarget&&st(this.target,this.evTarget,this.domHandler),this.evWin&&st(Mt(this.element),this.evWin,this.domHandler)}};var is={mousedown:1,mousemove:2,mouseup:4},In="mousedown",oe="mousemove mouseup";function te(){this.evEl=In,this.evWin=oe,this.pressed=!1,ni.apply(this,arguments)}at(te,ni,{handler:function($){var ee=is[$.type];1&ee&&0===$.button&&(this.pressed=!0),2&ee&&1!==$.which&&(ee=4),this.pressed&&(4&ee&&(this.pressed=!1),this.callback(this.manager,ee,{pointers:[$],changedPointers:[$],pointerType:pn,srcEvent:$}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:di,3:"pen",4:pn,5:"kinect"},ie="pointerdown",ze="pointermove pointerup pointercancel";function ut(){this.evEl=ie,this.evWin=ze,ni.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}P.MSPointerEvent&&!P.PointerEvent&&(ie="MSPointerDown",ze="MSPointerMove MSPointerUp MSPointerCancel"),at(ut,ni,{handler:function($){var ee=this.store,we=!1,Ye=$.type.toLowerCase().replace("ms",""),Et=K[Ye],dn=ne[$.pointerType]||$.pointerType,Ri=dn==di,ci=ae(ee,$.pointerId,"pointerId");1&Et&&(0===$.button||Ri)?ci<0&&(ee.push($),ci=ee.length-1):12&Et&&(we=!0),!(ci<0)&&(ee[ci]=$,this.callback(this.manager,Et,{pointers:ee,changedPointers:[$],pointerType:dn,srcEvent:$}),we&&ee.splice(ci,1))}});var Pt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},oi="touchstart",kn="touchstart touchmove touchend touchcancel";function Zi(){this.evTarget=oi,this.evWin=kn,this.started=!1,ni.apply(this,arguments)}function _n(B,$){var ee=pe(B.touches),we=pe(B.changedTouches);return 12&$&&(ee=ye(ee.concat(we),"identifier",!0)),[ee,we]}at(Zi,ni,{handler:function($){var ee=Pt[$.type];if(1===ee&&(this.started=!0),this.started){var we=_n.call(this,$,ee);12&ee&&we[0].length-we[1].length==0&&(this.started=!1),this.callback(this.manager,ee,{pointers:we[0],changedPointers:we[1],pointerType:di,srcEvent:$})}}});var on={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ai="touchstart touchmove touchend touchcancel";function Di(){this.evTarget=ai,this.targetIds={},ni.apply(this,arguments)}function us(B,$){var ee=pe(B.touches),we=this.targetIds;if(3&$&&1===ee.length)return we[ee[0].identifier]=!0,[ee,ee];var Ye,Et,dn=pe(B.changedTouches),Ri=[],ci=this.target;if(Et=ee.filter(function(zr){return ft(zr.target,ci)}),1===$)for(Ye=0;Ye<Et.length;)we[Et[Ye].identifier]=!0,Ye++;for(Ye=0;Ye<dn.length;)we[dn[Ye].identifier]&&Ri.push(dn[Ye]),12&$&&delete we[dn[Ye].identifier],Ye++;return Ri.length?[ye(Et.concat(Ri),"identifier",!0),Ri]:void 0}function _t(){ni.apply(this,arguments);var B=xt(this.handler,this);this.touch=new Di(this.manager,B),this.mouse=new te(this.manager,B),this.primaryTouch=null,this.lastTouches=[]}function Wt(B,$){1&B?(this.primaryTouch=$.changedPointers[0].identifier,$n.call(this,$)):12&B&&$n.call(this,$)}function $n(B){var $=B.changedPointers[0];if($.identifier===this.primaryTouch){var ee={x:$.clientX,y:$.clientY};this.lastTouches.push(ee);var we=this.lastTouches;setTimeout(function(){var Et=we.indexOf(ee);Et>-1&&we.splice(Et,1)},2500)}}function ds(B){for(var $=B.srcEvent.clientX,ee=B.srcEvent.clientY,we=0;we<this.lastTouches.length;we++){var Ye=this.lastTouches[we],Et=Math.abs($-Ye.x),dn=Math.abs(ee-Ye.y);if(Et<=25&&dn<=25)return!0}return!1}at(Di,ni,{handler:function($){var ee=on[$.type],we=us.call(this,$,ee);!we||this.callback(this.manager,ee,{pointers:we[0],changedPointers:we[1],pointerType:di,srcEvent:$})}}),at(_t,ni,{handler:function($,ee,we){var Et=we.pointerType==pn;if(!(Et&&we.sourceCapabilities&&we.sourceCapabilities.firesTouchEvents)){if(we.pointerType==di)Wt.call(this,ee,we);else if(Et&&ds.call(this,we))return;this.callback($,ee,we)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var hs=ve(Ie.style,"touchAction"),Yi=hs!==ge,fo="compute",Hs="manipulation",fs="none",tn="pan-x",Kn="pan-y",js=function Ci(){if(!Yi)return!1;var B={},$=P.CSS&&P.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ee){B[ee]=!$||P.CSS.supports("touch-action",ee)}),B}();function So(B,$){this.manager=B,this.set($)}function xs(B){this.options=ht({},this.defaults,B||{}),this.id=function Je(){return it++}(),this.manager=null,this.options.enable=Pe(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Ao(B){return 16&B?"cancel":8&B?"end":4&B?"move":2&B?"start":""}function Ia(B){return 16==B?"down":8==B?"up":2==B?"left":4==B?"right":""}function Dr(B,$){var ee=$.manager;return ee?ee.get(B):B}function Qi(){xs.apply(this,arguments)}function Mr(){Qi.apply(this,arguments),this.pX=null,this.pY=null}function Zn(){Qi.apply(this,arguments)}function Ya(){xs.apply(this,arguments),this._timer=null,this._input=null}function $i(){Qi.apply(this,arguments)}function Ji(){Qi.apply(this,arguments)}function po(){xs.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function gs(B,$){return($=$||{}).recognizers=Pe($.recognizers,gs.defaults.preset),new Ka(B,$)}function Ka(B,$){this.options=ht({},gs.defaults,$||{}),this.options.inputTarget=this.options.inputTarget||B,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=B,this.input=function Or(B){return new(B.options.inputClass||(pt?ut:Yn?Di:cn?_t:te))(B,Li)}(this),this.touchAction=new So(this,this.options.touchAction),fc(this,!0),Ue(this.options.recognizers,function(ee){var we=this.add(new ee[0](ee[1]));ee[2]&&we.recognizeWith(ee[2]),ee[3]&&we.requireFailure(ee[3])},this)}function fc(B,$){var we,ee=B.element;ee.style&&(Ue(B.options.cssProps,function(Ye,Et){we=ve(ee.style,Et),$?(B.oldCssProps[we]=ee.style[we],ee.style[we]=Ye):ee.style[we]=B.oldCssProps[we]||""}),$||(B.oldCssProps={}))}So.prototype={set:function(B){B==fo&&(B=this.compute()),Yi&&this.manager.element.style&&js[B]&&(this.manager.element.style[hs]=B),this.actions=B.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var B=[];return Ue(this.manager.recognizers,function($){He($.options.enable,[$])&&(B=B.concat($.getTouchAction()))}),function Ws(B){if(Q(B,fs))return fs;var $=Q(B,tn),ee=Q(B,Kn);return $&&ee?fs:$||ee?$?tn:Kn:Q(B,Hs)?Hs:"auto"}(B.join(" "))},preventDefaults:function(B){var $=B.srcEvent,ee=B.offsetDirection;if(!this.manager.session.prevented){var we=this.actions,Ye=Q(we,fs)&&!js[fs],Et=Q(we,Kn)&&!js[Kn],dn=Q(we,tn)&&!js[tn];if(Ye&&1===B.pointers.length&&B.distance<2&&B.deltaTime<250)return;return dn&&Et||!(Ye||Et&&6&ee||dn&&24&ee)?void 0:this.preventSrc($)}$.preventDefault()},preventSrc:function(B){this.manager.session.prevented=!0,B.preventDefault()}},xs.prototype={defaults:{},set:function(B){return ht(this.options,B),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(B){if(tt(B,"recognizeWith",this))return this;var $=this.simultaneous;return $[(B=Dr(B,this)).id]||($[B.id]=B,B.recognizeWith(this)),this},dropRecognizeWith:function(B){return tt(B,"dropRecognizeWith",this)||(B=Dr(B,this),delete this.simultaneous[B.id]),this},requireFailure:function(B){if(tt(B,"requireFailure",this))return this;var $=this.requireFail;return-1===ae($,B=Dr(B,this))&&($.push(B),B.requireFailure(this)),this},dropRequireFailure:function(B){if(tt(B,"dropRequireFailure",this))return this;B=Dr(B,this);var $=ae(this.requireFail,B);return $>-1&&this.requireFail.splice($,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(B){return!!this.simultaneous[B.id]},emit:function(B){var $=this,ee=this.state;function we(Ye){$.manager.emit(Ye,B)}ee<8&&we($.options.event+Ao(ee)),we($.options.event),B.additionalEvent&&we(B.additionalEvent),ee>=8&&we($.options.event+Ao(ee))},tryEmit:function(B){if(this.canEmit())return this.emit(B);this.state=32},canEmit:function(){for(var B=0;B<this.requireFail.length;){if(!(33&this.requireFail[B].state))return!1;B++}return!0},recognize:function(B){var $=ht({},B);if(!He(this.options.enable,[this,$]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process($),30&this.state&&this.tryEmit($)},process:function(B){},getTouchAction:function(){},reset:function(){}},at(Qi,xs,{defaults:{pointers:1},attrTest:function(B){var $=this.options.pointers;return 0===$||B.pointers.length===$},process:function(B){var $=this.state,ee=B.eventType,we=6&$,Ye=this.attrTest(B);return we&&(8&ee||!Ye)?16|$:we||Ye?4&ee?8|$:2&$?4|$:2:32}}),at(Mr,Qi,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var B=this.options.direction,$=[];return 6&B&&$.push(Kn),24&B&&$.push(tn),$},directionTest:function(B){var $=this.options,ee=!0,we=B.distance,Ye=B.direction,Et=B.deltaX,dn=B.deltaY;return Ye&$.direction||(6&$.direction?(Ye=0===Et?1:Et<0?2:4,ee=Et!=this.pX,we=Math.abs(B.deltaX)):(Ye=0===dn?1:dn<0?8:16,ee=dn!=this.pY,we=Math.abs(B.deltaY))),B.direction=Ye,ee&&we>$.threshold&&Ye&$.direction},attrTest:function(B){return Qi.prototype.attrTest.call(this,B)&&(2&this.state||!(2&this.state)&&this.directionTest(B))},emit:function(B){this.pX=B.deltaX,this.pY=B.deltaY;var $=Ia(B.direction);$&&(B.additionalEvent=this.options.event+$),this._super.emit.call(this,B)}}),at(Zn,Qi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[fs]},attrTest:function(B){return this._super.attrTest.call(this,B)&&(Math.abs(B.scale-1)>this.options.threshold||2&this.state)},emit:function(B){1!==B.scale&&(B.additionalEvent=this.options.event+(B.scale<1?"in":"out")),this._super.emit.call(this,B)}}),at(Ya,xs,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(B){var $=this.options,ee=B.pointers.length===$.pointers,we=B.distance<$.threshold,Ye=B.deltaTime>$.time;if(this._input=B,!we||!ee||12&B.eventType&&!Ye)this.reset();else if(1&B.eventType)this.reset(),this._timer=ue(function(){this.state=8,this.tryEmit()},$.time,this);else if(4&B.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(B){8===this.state&&(B&&4&B.eventType?this.manager.emit(this.options.event+"up",B):(this._input.timeStamp=X(),this.manager.emit(this.options.event,this._input)))}}),at($i,Qi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[fs]},attrTest:function(B){return this._super.attrTest.call(this,B)&&(Math.abs(B.rotation)>this.options.threshold||2&this.state)}}),at(Ji,Qi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Mr.prototype.getTouchAction.call(this)},attrTest:function(B){var ee,$=this.options.direction;return 30&$?ee=B.overallVelocity:6&$?ee=B.overallVelocityX:24&$&&(ee=B.overallVelocityY),this._super.attrTest.call(this,B)&&$&B.offsetDirection&&B.distance>this.options.threshold&&B.maxPointers==this.options.pointers&&J(ee)>this.options.velocity&&4&B.eventType},emit:function(B){var $=Ia(B.offsetDirection);$&&this.manager.emit(this.options.event+$,B),this.manager.emit(this.options.event,B)}}),at(po,xs,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Hs]},process:function(B){var $=this.options,ee=B.pointers.length===$.pointers,we=B.distance<$.threshold,Ye=B.deltaTime<$.time;if(this.reset(),1&B.eventType&&0===this.count)return this.failTimeout();if(we&&Ye&&ee){if(4!=B.eventType)return this.failTimeout();var Et=!this.pTime||B.timeStamp-this.pTime<$.interval,dn=!this.pCenter||qi(this.pCenter,B.center)<$.posThreshold;if(this.pTime=B.timeStamp,this.pCenter=B.center,dn&&Et?this.count+=1:this.count=1,this._input=B,0==this.count%$.taps)return this.hasRequireFailures()?(this._timer=ue(function(){this.state=8,this.tryEmit()},$.interval,this),2):8}return 32},failTimeout:function(){return this._timer=ue(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),gs.VERSION="2.0.7",gs.defaults={domEvents:!1,touchAction:fo,enable:!0,inputTarget:null,inputClass:null,preset:[[$i,{enable:!1}],[Zn,{enable:!1},["rotate"]],[Ji,{direction:6}],[Mr,{direction:6},["swipe"]],[po],[po,{event:"doubletap",taps:2},["tap"]],[Ya]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ka.prototype={set:function(B){return ht(this.options,B),B.touchAction&&this.touchAction.update(),B.inputTarget&&(this.input.destroy(),this.input.target=B.inputTarget,this.input.init()),this},stop:function(B){this.session.stopped=B?2:1},recognize:function(B){var $=this.session;if(!$.stopped){this.touchAction.preventDefaults(B);var ee,we=this.recognizers,Ye=$.curRecognizer;(!Ye||Ye&&8&Ye.state)&&(Ye=$.curRecognizer=null);for(var Et=0;Et<we.length;)ee=we[Et],2===$.stopped||Ye&&ee!=Ye&&!ee.canRecognizeWith(Ye)?ee.reset():ee.recognize(B),!Ye&&14&ee.state&&(Ye=$.curRecognizer=ee),Et++}},get:function(B){if(B instanceof xs)return B;for(var $=this.recognizers,ee=0;ee<$.length;ee++)if($[ee].options.event==B)return $[ee];return null},add:function(B){if(tt(B,"add",this))return this;var $=this.get(B.options.event);return $&&this.remove($),this.recognizers.push(B),B.manager=this,this.touchAction.update(),B},remove:function(B){if(tt(B,"remove",this))return this;if(B=this.get(B)){var $=this.recognizers,ee=ae($,B);-1!==ee&&($.splice(ee,1),this.touchAction.update())}return this},on:function(B,$){if(B!==ge&&$!==ge){var ee=this.handlers;return Ue(Re(B),function(we){ee[we]=ee[we]||[],ee[we].push($)}),this}},off:function(B,$){if(B!==ge){var ee=this.handlers;return Ue(Re(B),function(we){$?ee[we]&&ee[we].splice(ae(ee[we],$),1):delete ee[we]}),this}},emit:function(B,$){this.options.domEvents&&function fu(B,$){var ee=W.createEvent("Event");ee.initEvent(B,!0,!0),ee.gesture=$,$.target.dispatchEvent(ee)}(B,$);var ee=this.handlers[B]&&this.handlers[B].slice();if(ee&&ee.length){$.type=B,$.preventDefault=function(){$.srcEvent.preventDefault()};for(var we=0;we<ee.length;)ee[we]($),we++}},destroy:function(){this.element&&fc(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ht(gs,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ka,Input:ni,TouchAction:So,TouchInput:Di,MouseInput:te,PointerEventInput:ut,TouchMouseInput:_t,SingleTouchInput:Zi,Recognizer:xs,AttrRecognizer:Qi,Tap:po,Pan:Mr,Swipe:Ji,Pinch:Zn,Rotate:$i,Press:Ya,on:ke,off:st,each:Ue,merge:Me,extend:Oe,assign:ht,inherit:at,bindFn:xt,prefixed:ve}),(typeof P<"u"?P:typeof self<"u"?self:{}).Hammer=gs,(c=function(){return gs}.call(Ge,j,Ge,At))!==ge&&(At.exports=c)}(window,document)},7489:function(At,Ge,j){var c;At=j.nmd(At),function(){var P,Ce="Expected a function",Ne="__lodash_hash_undefined__",J="__lodash_placeholder__",Je=1/0,Mt=9007199254740991,pt=4294967295,Vn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],pn="[object Arguments]",gr="[object Array]",Qt="[object Boolean]",Ar="[object Date]",Pn="[object Error]",zi="[object Function]",ns="[object GeneratorFunction]",hi="[object Map]",Oi="[object Number]",vi="[object Object]",yt="[object Promise]",jr="[object RegExp]",Cn="[object Set]",ni="[object String]",Or="[object Symbol]",wi="[object WeakMap]",kt="[object ArrayBuffer]",Ot="[object DataView]",Un="[object Float32Array]",Bi="[object Float64Array]",Vi="[object Int8Array]",qi="[object Int16Array]",jt="[object Int32Array]",Ts="[object Uint8Array]",xn="[object Uint8ClampedArray]",is="[object Uint16Array]",In="[object Uint32Array]",oe=/\b__p \+= '';/g,te=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ne=/&(?:amp|lt|gt|quot|#39);/g,ie=/[&<>"']/g,ze=RegExp(ne.source),ut=RegExp(ie.source),Pt=/<%-([\s\S]+?)%>/g,oi=/<%([\s\S]+?)%>/g,kn=/<%=([\s\S]+?)%>/g,Zi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_n=/^\w*$/,on=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ai=/[\\^$.*+?()[\]{}|]/g,Di=RegExp(ai.source),us=/^\s+/,Wr=/\s/,Ui=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,Wt=/,? & /,$n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ds=/[()=,{}\[\]\/\s]/,hs=/\\(\\)?/g,Yi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fo=/\w*$/,li=/^[-+]0x[0-9a-f]+$/i,Hs=/^0b[01]+$/i,fs=/^\[object .+?Constructor\]$/,tn=/^0o[0-7]+$/i,Kn=/^(?:0|[1-9]\d*)$/,js=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,So=/($^)/,Ws=/['\n\r\u2028\u2029\\]/g,Ci="\\ud800-\\udfff",Qn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rs="\\u2700-\\u27bf",Sn="a-z\\xdf-\\xf6\\xf8-\\xff",Dr="A-Z\\xc0-\\xd6\\xd8-\\xde",Qi="\\ufe0e\\ufe0f",Mr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ya="["+Ci+"]",$i="["+Mr+"]",Ji="["+Qn+"]",po="\\d+",gs="["+rs+"]",Al="["+Sn+"]",_r="[^"+Ci+Mr+po+rs+Sn+Dr+"]",Ka="\\ud83c[\\udffb-\\udfff]",fu="[^"+Ci+"]",go="(?:\\ud83c[\\udde6-\\uddff]){2}",B="[\\ud800-\\udbff][\\udc00-\\udfff]",$="["+Dr+"]",we="(?:"+Al+"|"+_r+")",Ye="(?:"+$+"|"+_r+")",Et="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",dn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ri="(?:"+Ji+"|"+Ka+")?",ci="["+Qi+"]?",tf=ci+Ri+"(?:\\u200d(?:"+[fu,go,B].join("|")+")"+ci+Ri+")*",qd="(?:"+[gs,go,B].join("|")+")"+tf,Ta="(?:"+[fu+Ji+"?",Ji,go,B,Ya].join("|")+")",Zd=RegExp("['\u2019]","g"),Yd=RegExp(Ji,"g"),Nl=RegExp(Ka+"(?="+Ka+")|"+Ta+tf,"g"),nf=RegExp([$+"?"+Al+"+"+Et+"(?="+[$i,$,"$"].join("|")+")",Ye+"+"+dn+"(?="+[$i,$+we,"$"].join("|")+")",$+"?"+we+"+"+Et,$+"+"+dn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",po,qd].join("|"),"g"),No=RegExp("[\\u200d"+Ci+Qn+Qi+"]"),Oo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ia=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qa=-1,Jn={};Jn[Un]=Jn[Bi]=Jn[Vi]=Jn[qi]=Jn[jt]=Jn[Ts]=Jn[xn]=Jn[is]=Jn[In]=!0,Jn[pn]=Jn[gr]=Jn[kt]=Jn[Qt]=Jn[Ot]=Jn[Ar]=Jn[Pn]=Jn[zi]=Jn[hi]=Jn[Oi]=Jn[vi]=Jn[jr]=Jn[Cn]=Jn[ni]=Jn[wi]=!1;var Xn={};Xn[pn]=Xn[gr]=Xn[kt]=Xn[Ot]=Xn[Qt]=Xn[Ar]=Xn[Un]=Xn[Bi]=Xn[Vi]=Xn[qi]=Xn[jt]=Xn[hi]=Xn[Oi]=Xn[vi]=Xn[jr]=Xn[Cn]=Xn[ni]=Xn[Or]=Xn[Ts]=Xn[xn]=Xn[is]=Xn[In]=!0,Xn[Pn]=Xn[zi]=Xn[wi]=!1;var ra={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zs=parseFloat,As=parseInt,Ja="object"==typeof global&&global&&global.Object===Object&&global,pc="object"==typeof self&&self&&self.Object===Object&&self,Gn=Ja||pc||Function("return this")(),Kd=Ge&&!Ge.nodeType&&Ge,gc=Kd&&At&&!At.nodeType&&At,Gi=gc&&gc.exports===Kd,Ol=Gi&&Ja.process,qs=function(){try{return gc&&gc.require&&gc.require("util").types||Ol&&Ol.binding&&Ol.binding("util")}catch{}}(),Ns=qs&&qs.isArrayBuffer,ss=qs&&qs.isDate,_c=qs&&qs.isMap,Xa=qs&&qs.isRegExp,Mo=qs&&qs.isSet,An=qs&&qs.isTypedArray;function qr(de,Ve,xe){switch(xe.length){case 0:return de.call(Ve);case 1:return de.call(Ve,xe[0]);case 2:return de.call(Ve,xe[0],xe[1]);case 3:return de.call(Ve,xe[0],xe[1],xe[2])}return de.apply(Ve,xe)}function el(de,Ve,xe,Ct){for(var Yt=-1,Hn=null==de?0:de.length;++Yt<Hn;){var Ei=de[Yt];Ve(Ct,Ei,xe(Ei),de)}return Ct}function os(de,Ve){for(var xe=-1,Ct=null==de?0:de.length;++xe<Ct&&!1!==Ve(de[xe],xe,de););return de}function _o(de,Ve){for(var xe=null==de?0:de.length;xe--&&!1!==Ve(de[xe],xe,de););return de}function mc(de,Ve){for(var xe=-1,Ct=null==de?0:de.length;++xe<Ct;)if(!Ve(de[xe],xe,de))return!1;return!0}function ei(de,Ve){for(var xe=-1,Ct=null==de?0:de.length,Yt=0,Hn=[];++xe<Ct;){var Ei=de[xe];Ve(Ei,xe,de)&&(Hn[Yt++]=Ei)}return Hn}function Zt(de,Ve){return!(null==de||!de.length)&&sa(de,Ve,0)>-1}function Ml(de,Ve,xe){for(var Ct=-1,Yt=null==de?0:de.length;++Ct<Yt;)if(xe(Ve,de[Ct]))return!0;return!1}function Ii(de,Ve){for(var xe=-1,Ct=null==de?0:de.length,Yt=Array(Ct);++xe<Ct;)Yt[xe]=Ve(de[xe],xe,de);return Yt}function mo(de,Ve){for(var xe=-1,Ct=Ve.length,Yt=de.length;++xe<Ct;)de[Yt+xe]=Ve[xe];return de}function Rl(de,Ve,xe,Ct){var Yt=-1,Hn=null==de?0:de.length;for(Ct&&Hn&&(xe=de[++Yt]);++Yt<Hn;)xe=Ve(xe,de[Yt],Yt,de);return xe}function id(de,Ve,xe,Ct){var Yt=null==de?0:de.length;for(Ct&&Yt&&(xe=de[--Yt]);Yt--;)xe=Ve(xe,de[Yt],Yt,de);return xe}function vo(de,Ve){for(var xe=-1,Ct=null==de?0:de.length;++xe<Ct;)if(Ve(de[xe],xe,de))return!0;return!1}var rd=_s("length");function mn(de,Ve,xe){var Ct;return xe(de,function(Yt,Hn,Ei){if(Ve(Yt,Hn,Ei))return Ct=Hn,!1}),Ct}function tl(de,Ve,xe,Ct){for(var Yt=de.length,Hn=xe+(Ct?1:-1);Ct?Hn--:++Hn<Yt;)if(Ve(de[Hn],Hn,de))return Hn;return-1}function sa(de,Ve,xe){return Ve==Ve?function Qd(de,Ve,xe){for(var Ct=xe-1,Yt=de.length;++Ct<Yt;)if(de[Ct]===Ve)return Ct;return-1}(de,Ve,xe):tl(de,yc,xe)}function Xi(de,Ve,xe,Ct){for(var Yt=xe-1,Hn=de.length;++Yt<Hn;)if(Ct(de[Yt],Ve))return Yt;return-1}function yc(de){return de!=de}function nl(de,Ve){var xe=null==de?0:de.length;return xe?bc(de,Ve)/xe:NaN}function _s(de){return function(Ve){return null==Ve?P:Ve[de]}}function il(de){return function(Ve){return null==de?P:de[Ve]}}function Fl(de,Ve,xe,Ct,Yt){return Yt(de,function(Hn,Ei,ii){xe=Ct?(Ct=!1,Hn):Ve(xe,Hn,Ei,ii)}),xe}function bc(de,Ve){for(var xe,Ct=-1,Yt=de.length;++Ct<Yt;){var Hn=Ve(de[Ct]);Hn!==P&&(xe=xe===P?Hn:xe+Hn)}return xe}function pu(de,Ve){for(var xe=-1,Ct=Array(de);++xe<de;)Ct[xe]=Ve(xe);return Ct}function Hi(de){return de&&de.slice(0,vr(de)+1).replace(us,"")}function ji(de){return function(Ve){return de(Ve)}}function Dc(de,Ve){return Ii(Ve,function(xe){return de[xe]})}function yo(de,Ve){return de.has(Ve)}function Ro(de,Ve){for(var xe=-1,Ct=de.length;++xe<Ct&&sa(Ve,de[xe],0)>-1;);return xe}function sf(de,Ve){for(var xe=de.length;xe--&&sa(Ve,de[xe],0)>-1;);return xe}function Cc(de,Ve){for(var xe=de.length,Ct=0;xe--;)de[xe]===Ve&&++Ct;return Ct}var dp=il({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),od=il({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function gu(de){return"\\"+ra[de]}function Ea(de){return No.test(de)}function Pl(de){var Ve=-1,xe=Array(de.size);return de.forEach(function(Ct,Yt){xe[++Ve]=[Yt,Ct]}),xe}function Ec(de,Ve){return function(xe){return de(Ve(xe))}}function Fo(de,Ve){for(var xe=-1,Ct=de.length,Yt=0,Hn=[];++xe<Ct;){var Ei=de[xe];(Ei===Ve||Ei===J)&&(de[xe]=J,Hn[Yt++]=xe)}return Hn}function kl(de){var Ve=-1,xe=Array(de.size);return de.forEach(function(Ct){xe[++Ve]=Ct}),xe}function Zs(de){return Ea(de)?function Ti(de){for(var Ve=Nl.lastIndex=0;Nl.test(de);)++Ve;return Ve}(de):rd(de)}function ms(de){return Ea(de)?function cd(de){return de.match(Nl)||[]}(de):function vc(de){return de.split("")}(de)}function vr(de){for(var Ve=de.length;Ve--&&Wr.test(de.charAt(Ve)););return Ve}var Os=il({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ll=function de(Ve){var d,xe=(Ve=null==Ve?Gn:Ll.defaults(Gn.Object(),Ve,Ll.pick(Gn,ia))).Array,Ct=Ve.Date,Yt=Ve.Error,Hn=Ve.Function,Ei=Ve.Math,ii=Ve.Object,Po=Ve.RegExp,xa=Ve.String,Cr=Ve.TypeError,sl=xe.prototype,oa=ii.prototype,ol=Ve["__core-js_shared__"],xc=Hn.prototype.toString,ti=oa.hasOwnProperty,Bl=0,al=(d=/[^.]+$/.exec(ol&&ol.keys&&ol.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",ko=oa.toString,_u=xc.call(ii),Sc=Gn._,Xd=Po("^"+xc.call(ti).replace(ai,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ac=Gi?Ve.Buffer:P,xi=Ve.Symbol,Sa=Ve.Uint8Array,Vl=Ac?Ac.allocUnsafe:P,Ms=Ec(ii.getPrototypeOf,ii),Ul=ii.create,dd=oa.propertyIsEnumerable,Aa=sl.splice,mu=xi?xi.isConcatSpreadable:P,Si=xi?xi.iterator:P,Rr=xi?xi.toStringTag:P,ll=function(){try{var d=Qc(ii,"defineProperty");return d({},"",{}),d}catch{}}(),cl=Ve.clearTimeout!==Gn.clearTimeout&&Ve.clearTimeout,Nc=Ct&&Ct.now!==Gn.Date.now&&Ct.now,vu=Ve.setTimeout!==Gn.setTimeout&&Ve.setTimeout,ul=Ei.ceil,bo=Ei.floor,yu=ii.getOwnPropertySymbols,Na=Ac?Ac.isBuffer:P,bu=Ve.isFinite,dl=sl.join,Oc=Ec(ii.keys,ii),or=Ei.max,tr=Ei.min,aa=Ct.now,hd=Ve.parseInt,Mc=Ei.random,Rc=sl.reverse,la=Qc(Ve,"DataView"),hl=Qc(Ve,"Map"),wo=Qc(Ve,"Promise"),ca=Qc(Ve,"Set"),Lo=Qc(Ve,"WeakMap"),Bo=Qc(ii,"create"),fl=Lo&&new Lo,Ir={},Oa=$u(la),$l=$u(hl),Gl=$u(wo),wu=$u(ca),Hl=$u(Lo),Vo=xi?xi.prototype:P,ua=Vo?Vo.valueOf:P,pi=Vo?Vo.toString:P;function U(d){if(Er(d)&&!gn(d)&&!(d instanceof wn)){if(d instanceof Ys)return d;if(ti.call(d,"__wrapped__"))return Od(d)}return new Ys(d)}var Fc=function(){function d(){}return function(p){if(!br(p))return{};if(Ul)return Ul(p);d.prototype=p;var b=new d;return d.prototype=P,b}}();function jl(){}function Ys(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=P}function wn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pt,this.__views__=[]}function Wl(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var A=d[p];this.set(A[0],A[1])}}function Rs(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var A=d[p];this.set(A[0],A[1])}}function It(d){var p=-1,b=null==d?0:d.length;for(this.clear();++p<b;){var A=d[p];this.set(A[0],A[1])}}function nr(d){var p=-1,b=null==d?0:d.length;for(this.__data__=new It;++p<b;)this.add(d[p])}function vs(d){var p=this.__data__=new Rs(d);this.size=p.size}function vd(d,p){var b=gn(d),A=!b&&eu(d),F=!b&&!A&&tu(d),G=!b&&!A&&!F&&io(d),Y=b||A||F||G,re=Y?pu(d.length,xa):[],fe=re.length;for(var je in d)(p||ti.call(d,je))&&(!Y||!("length"==je||F&&("offset"==je||"parent"==je)||G&&("buffer"==je||"byteLength"==je||"byteOffset"==je)||Te(je,fe)))&&re.push(je);return re}function lf(d){var p=d.length;return p?d[xu(0,p-1)]:P}function Uc(d,p){return Sp(Ln(d),Ks(p,0,d.length))}function $c(d){return Sp(Ln(d))}function Ai(d,p,b){(b!==P&&!bs(d[p],b)||b===P&&!(p in d))&&Pr(d,p,b)}function Fi(d,p,b){var A=d[p];(!ti.call(d,p)||!bs(A,b)||b===P&&!(p in d))&&Pr(d,p,b)}function Fs(d,p){for(var b=d.length;b--;)if(bs(d[b][0],p))return b;return-1}function jn(d,p,b,A){return N(d,function(F,G,Y){p(A,F,b(F),Y)}),A}function bt(d,p){return d&&Co(p,ro(p),d)}function Pr(d,p,b){"__proto__"==p&&ll?ll(d,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):d[p]=b}function Ps(d,p){for(var b=-1,A=p.length,F=xe(A),G=null==d;++b<A;)F[b]=G?P:lb(d,p[b]);return F}function Ks(d,p,b){return d==d&&(b!==P&&(d=d<=b?d:b),p!==P&&(d=d>=p?d:p)),d}function yr(d,p,b,A,F,G){var Y,re=1&p,fe=2&p,je=4&p;if(b&&(Y=F?b(d,A,F,G):b(d)),Y!==P)return Y;if(!br(d))return d;var qe=gn(d);if(qe){if(Y=function v(d){var p=d.length,b=new d.constructor(p);return p&&"string"==typeof d[0]&&ti.call(d,"index")&&(b.index=d.index,b.input=d.input),b}(d),!re)return Ln(d,Y)}else{var Qe=Br(d),mt=Qe==zi||Qe==ns;if(tu(d))return Nu(d,re);if(Qe==vi||Qe==pn||mt&&!F){if(Y=fe||mt?{}:I(d),!re)return fe?function as(d,p){return Co(d,Jc(d),p)}(d,function cr(d,p){return d&&Co(p,Ha(p),d)}(Y,d)):function Dp(d,p){return Co(d,Vu(d),p)}(d,bt(Y,d))}else{if(!Xn[Qe])return F?d:{};Y=function M(d,p,b){var A=d.constructor;switch(p){case kt:return uh(d);case Qt:case Ar:return new A(+d);case Ot:return function gf(d,p){var b=p?uh(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.byteLength)}(d,b);case Un:case Bi:case Vi:case qi:case jt:case Ts:case xn:case is:case In:return hh(d,b);case hi:return new A;case Oi:case ni:return new A(d);case jr:return function dh(d){var p=new d.constructor(d.source,fo.exec(d));return p.lastIndex=d.lastIndex,p}(d);case Cn:return new A;case Or:return function wd(d){return ua?ii(ua.call(d)):{}}(d)}}(d,Qe,re)}}G||(G=new vs);var Lt=G.get(d);if(Lt)return Lt;G.set(d,Y),g_(d)?d.forEach(function(Jt){Y.add(yr(Jt,p,b,Jt,d,G))}):mv(d)&&d.forEach(function(Jt,sn){Y.set(sn,yr(Jt,p,b,sn,d,G))});var hn=qe?P:(je?fe?Xl:Lr:fe?Ha:ro)(d);return os(hn||d,function(Jt,sn){hn&&(Jt=d[sn=Jt]),Fi(Y,sn,yr(Jt,p,b,sn,d,G))}),Y}function ir(d,p,b){var A=b.length;if(null==d)return!A;for(d=ii(d);A--;){var F=b[A],Y=d[F];if(Y===P&&!(F in d)||!(0,p[F])(Y))return!1}return!0}function th(d,p,b){if("function"!=typeof d)throw new Cr(Ce);return Nd(function(){d.apply(P,b)},p)}function x(d,p,b,A){var F=-1,G=Zt,Y=!0,re=d.length,fe=[],je=p.length;if(!re)return fe;b&&(p=Ii(p,ji(b))),A?(G=Ml,Y=!1):p.length>=200&&(G=yo,Y=!1,p=new nr(p));e:for(;++F<re;){var qe=d[F],Qe=null==b?qe:b(qe);if(qe=A||0!==qe?qe:0,Y&&Qe==Qe){for(var mt=je;mt--;)if(p[mt]===Qe)continue e;fe.push(qe)}else G(p,Qe,A)||fe.push(qe)}return fe}U.templateSettings={escape:Pt,evaluate:oi,interpolate:kn,variable:"",imports:{_:U}},(U.prototype=jl.prototype).constructor=U,(Ys.prototype=Fc(jl.prototype)).constructor=Ys,(wn.prototype=Fc(jl.prototype)).constructor=wn,Wl.prototype.clear=function hp(){this.__data__=Bo?Bo(null):{},this.size=0},Wl.prototype.delete=function Fr(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p},Wl.prototype.get=function kc(d){var p=this.__data__;if(Bo){var b=p[d];return b===Ne?P:b}return ti.call(p,d)?p[d]:P},Wl.prototype.has=function Wn(d){var p=this.__data__;return Bo?p[d]!==P:ti.call(p,d)},Wl.prototype.set=function af(d,p){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=Bo&&p===P?Ne:p,this},Rs.prototype.clear=function Zr(){this.__data__=[],this.size=0},Rs.prototype.delete=function ar(d){var p=this.__data__,b=Fs(p,d);return!(b<0||(b==p.length-1?p.pop():Aa.call(p,b,1),--this.size,0))},Rs.prototype.get=function lr(d){var p=this.__data__,b=Fs(p,d);return b<0?P:p[b][1]},Rs.prototype.has=function ri(d){return Fs(this.__data__,d)>-1},Rs.prototype.set=function zn(d,p){var b=this.__data__,A=Fs(b,d);return A<0?(++this.size,b.push([d,p])):b[A][1]=p,this},It.prototype.clear=function fd(){this.size=0,this.__data__={hash:new Wl,map:new(hl||Rs),string:new Wl}},It.prototype.delete=function pd(d){var p=_h(this,d).delete(d);return this.size-=p?1:0,p},It.prototype.get=function Du(d){return _h(this,d).get(d)},It.prototype.has=function pl(d){return _h(this,d).has(d)},It.prototype.set=function gd(d,p){var b=_h(this,d),A=b.size;return b.set(d,p),this.size+=b.size==A?0:1,this},nr.prototype.add=nr.prototype.push=function Lc(d){return this.__data__.set(d,Ne),this},nr.prototype.has=function Ma(d){return this.__data__.has(d)},vs.prototype.clear=function Bc(){this.__data__=new Rs,this.size=0},vs.prototype.delete=function _d(d){var p=this.__data__,b=p.delete(d);return this.size=p.size,b},vs.prototype.get=function md(d){return this.__data__.get(d)},vs.prototype.has=function Vc(d){return this.__data__.has(d)},vs.prototype.set=function fp(d,p){var b=this.__data__;if(b instanceof Rs){var A=b.__data__;if(!hl||A.length<199)return A.push([d,p]),this.size=++b.size,this;b=this.__data__=new It(A)}return b.set(d,p),this.size=b.size,this};var N=Cd(qt),k=Cd(Ut,!0);function q(d,p){var b=!0;return N(d,function(A,F,G){return b=!!p(A,F,G)}),b}function he(d,p,b){for(var A=-1,F=d.length;++A<F;){var G=d[A],Y=p(G);if(null!=Y&&(re===P?Y==Y&&!no(Y):b(Y,re)))var re=Y,fe=G}return fe}function We(d,p){var b=[];return N(d,function(A,F,G){p(A,F,G)&&b.push(A)}),b}function nt(d,p,b,A,F){var G=-1,Y=d.length;for(b||(b=le),F||(F=[]);++G<Y;){var re=d[G];p>0&&b(re)?p>1?nt(re,p-1,b,A,F):mo(F,re):A||(F[F.length]=re)}return F}var Vt=jg(),Ht=jg(!0);function qt(d,p){return d&&Vt(d,p,ro)}function Ut(d,p){return d&&Ht(d,p,ro)}function gi(d,p){return ei(p,function(b){return rc(d[b])})}function Wi(d,p){for(var b=0,A=(p=pa(p,d)).length;null!=d&&b<A;)d=d[Va(p[b++])];return b&&b==A?d:P}function qn(d,p,b){var A=p(d);return gn(d)?A:mo(A,b(d))}function ur(d){return null==d?d===P?"[object Undefined]":"[object Null]":Rr&&Rr in ii(d)?function mh(d){var p=ti.call(d,Rr),b=d[Rr];try{d[Rr]=P;var A=!0}catch{}var F=ko.call(d);return A&&(p?d[Rr]=b:delete d[Rr]),F}(d):function ec(d){return ko.call(d)}(d)}function da(d,p){return d>p}function zl(d,p){return null!=d&&ti.call(d,p)}function Ra(d,p){return null!=d&&p in ii(d)}function Pa(d,p,b){for(var A=b?Ml:Zt,F=d[0].length,G=d.length,Y=G,re=xe(G),fe=1/0,je=[];Y--;){var qe=d[Y];Y&&p&&(qe=Ii(qe,ji(p))),fe=tr(qe.length,fe),re[Y]=!b&&(p||F>=120&&qe.length>=120)?new nr(Y&&qe):P}qe=d[0];var Qe=-1,mt=re[0];e:for(;++Qe<F&&je.length<fe;){var Lt=qe[Qe],Rt=p?p(Lt):Lt;if(Lt=b||0!==Lt?Lt:0,!(mt?yo(mt,Rt):A(je,Rt,b))){for(Y=G;--Y;){var hn=re[Y];if(!(hn?yo(hn,Rt):A(d[Y],Rt,b)))continue e}mt&&mt.push(Rt),je.push(Lt)}}return je}function gl(d,p,b){var A=null==(d=wh(d,p=pa(p,d)))?d:d[Va(Wo(p))];return null==A?P:qr(A,d,b)}function cf(d){return Er(d)&&ur(d)==pn}function Gc(d,p,b,A,F){return d===p||(null==d||null==p||!Er(d)&&!Er(p)?d!=d&&p!=p:function Hc(d,p,b,A,F,G){var Y=gn(d),re=gn(p),fe=Y?gr:Br(d),je=re?gr:Br(p),qe=(fe=fe==pn?vi:fe)==vi,Qe=(je=je==pn?vi:je)==vi,mt=fe==je;if(mt&&tu(d)){if(!tu(p))return!1;Y=!0,qe=!1}if(mt&&!qe)return G||(G=new vs),Y||io(d)?Ql(d,p,b,A,F,G):function ku(d,p,b,A,F,G,Y){switch(b){case Ot:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case kt:return!(d.byteLength!=p.byteLength||!G(new Sa(d),new Sa(p)));case Qt:case Ar:case Oi:return bs(+d,+p);case Pn:return d.name==p.name&&d.message==p.message;case jr:case ni:return d==p+"";case hi:var re=Pl;case Cn:if(re||(re=kl),d.size!=p.size&&!(1&A))return!1;var je=Y.get(d);if(je)return je==p;A|=2,Y.set(d,p);var qe=Ql(re(d),re(p),A,F,G,Y);return Y.delete(d),qe;case Or:if(ua)return ua.call(d)==ua.call(p)}return!1}(d,p,fe,b,A,F,G);if(!(1&b)){var Lt=qe&&ti.call(d,"__wrapped__"),Rt=Qe&&ti.call(p,"__wrapped__");if(Lt||Rt){var hn=Lt?d.value():d,Jt=Rt?p.value():p;return G||(G=new vs),F(hn,Jt,b,A,G)}}return!!mt&&(G||(G=new vs),function Jl(d,p,b,A,F,G){var Y=1&b,re=Lr(d),fe=re.length;if(fe!=Lr(p).length&&!Y)return!1;for(var Qe=fe;Qe--;){var mt=re[Qe];if(!(Y?mt in p:ti.call(p,mt)))return!1}var Lt=G.get(d),Rt=G.get(p);if(Lt&&Rt)return Lt==p&&Rt==d;var hn=!0;G.set(d,p),G.set(p,d);for(var Jt=Y;++Qe<fe;){var sn=d[mt=re[Qe]],Nn=p[mt];if(A)var sr=Y?A(Nn,sn,mt,p,d,G):A(sn,Nn,mt,d,p,G);if(!(sr===P?sn===Nn||F(sn,Nn,b,A,G):sr)){hn=!1;break}Jt||(Jt="constructor"==mt)}if(hn&&!Jt){var Ur=d.constructor,xr=p.constructor;Ur!=xr&&"constructor"in d&&"constructor"in p&&!("function"==typeof Ur&&Ur instanceof Ur&&"function"==typeof xr&&xr instanceof xr)&&(hn=!1)}return G.delete(d),G.delete(p),hn}(d,p,b,A,F,G))}(d,p,b,A,Gc,F))}function pp(d,p,b,A){var F=b.length,G=F,Y=!A;if(null==d)return!G;for(d=ii(d);F--;){var re=b[F];if(Y&&re[2]?re[1]!==d[re[0]]:!(re[0]in d))return!1}for(;++F<G;){var fe=(re=b[F])[0],je=d[fe],qe=re[1];if(Y&&re[2]){if(je===P&&!(fe in d))return!1}else{var Qe=new vs;if(A)var mt=A(je,qe,fe,d,p,Qe);if(!(mt===P?Gc(qe,je,3,A,Qe):mt))return!1}}return!0}function Tu(d){return!(!br(d)||function Vr(d){return!!al&&al in d}(d))&&(rc(d)?Xd:fs).test($u(d))}function sh(d){return"function"==typeof d?d:null==d?ma:"object"==typeof d?gn(d)?_p(d[0],d[1]):fa(d):B_(d)}function dr(d){if(!Ba(d))return Oc(d);var p=[];for(var b in ii(d))ti.call(d,b)&&"constructor"!=b&&p.push(b);return p}function Pi(d,p){return d<p}function ha(d,p){var b=-1,A=ga(d)?xe(d.length):[];return N(d,function(F,G,Y){A[++b]=p(F,G,Y)}),A}function fa(d){var p=vf(d);return 1==p.length&&p[0][2]?Uu(p[0][0],p[0][1]):function(b){return b===d||pp(b,d,p)}}function _p(d,p){return Nt(d)&&vh(p)?Uu(Va(d),p):function(b){var A=lb(b,d);return A===P&&A===p?Iv(b,d):Gc(p,A,3)}}function hr(d,p,b,A,F){d!==p&&Vt(p,function(G,Y){if(F||(F=new vs),br(G))!function mp(d,p,b,A,F,G,Y){var re=yf(d,b),fe=yf(p,b),je=Y.get(fe);if(je)Ai(d,b,je);else{var qe=G?G(re,fe,b+"",d,p,Y):P,Qe=qe===P;if(Qe){var mt=gn(fe),Lt=!mt&&tu(fe),Rt=!mt&&!Lt&&io(fe);qe=fe,mt||Lt||Rt?gn(re)?qe=re:Yr(re)?qe=Ln(re):Lt?(Qe=!1,qe=Nu(fe,!0)):Rt?(Qe=!1,qe=hh(fe,!0)):qe=[]:zp(fe)||eu(fe)?(qe=re,eu(re)?qe=Ff(re):(!br(re)||rc(re))&&(qe=I(fe))):Qe=!1}Qe&&(Y.set(fe,qe),F(qe,fe,A,G,Y),Y.delete(fe)),Ai(d,b,qe)}}(d,p,Y,b,hr,A,F);else{var re=A?A(yf(d,Y),G,Y+"",d,p,F):P;re===P&&(re=G),Ai(d,Y,re)}},Ha)}function Eu(d,p){var b=d.length;if(b)return Te(p+=p<0?b:0,b)?d[p]:P}function ka(d,p,b){p=p.length?Ii(p,function(G){return gn(G)?function(Y){return Wi(Y,1===G.length?G[0]:G)}:G}):[ma];var A=-1;return p=Ii(p,ji(Gt())),function sd(de,Ve){var xe=de.length;for(de.sort(Ve);xe--;)de[xe]=de[xe].value;return de}(ha(d,function(G,Y,re){return{criteria:Ii(p,function(je){return je(G)}),index:++A,value:G}}),function(G,Y){return function Mu(d,p,b){for(var A=-1,F=d.criteria,G=p.criteria,Y=F.length,re=b.length;++A<Y;){var fe=Ou(F[A],G[A]);if(fe)return A>=re?fe:fe*("desc"==b[A]?-1:1)}return d.index-p.index}(G,Y,b)})}function oh(d,p,b){for(var A=-1,F=p.length,G={};++A<F;){var Y=p[A],re=Wi(d,Y);b(re,Y)&&Au(G,pa(Y,d),re)}return G}function Uo(d,p,b,A){var F=A?Xi:sa,G=-1,Y=p.length,re=d;for(d===p&&(p=Ln(p)),b&&(re=Ii(d,ji(b)));++G<Y;)for(var fe=0,je=p[G],qe=b?b(je):je;(fe=F(re,qe,fe,A))>-1;)re!==d&&Aa.call(re,fe,1),Aa.call(d,fe,1);return d}function yp(d,p){for(var b=d?p.length:0,A=b-1;b--;){var F=p[b];if(b==A||F!==G){var G=F;Te(F)?Aa.call(d,F,1):Go(d,F)}}return d}function xu(d,p){return d+bo(Mc()*(p-d+1))}function Do(d,p){var b="";if(!d||p<1||p>Mt)return b;do{p%2&&(b+=d),(p=bo(p/2))&&(d+=d)}while(p);return b}function vn(d,p){return bf(bh(d,p,ma),d+"")}function $o(d){return lf(vl(d))}function Su(d,p){var b=vl(d);return Sp(b,Ks(p,0,b.length))}function Au(d,p,b,A){if(!br(d))return d;for(var F=-1,G=(p=pa(p,d)).length,Y=G-1,re=d;null!=re&&++F<G;){var fe=Va(p[F]),je=b;if("__proto__"===fe||"constructor"===fe||"prototype"===fe)return d;if(F!=Y){var qe=re[fe];(je=A?A(qe,fe,re):P)===P&&(je=br(qe)?qe:Te(p[F+1])?[]:{})}Fi(re,fe,je),re=re[fe]}return d}var df=fl?function(d,p){return fl.set(d,p),d}:ma,hf=ll?function(d,p){return ll(d,"toString",{configurable:!0,enumerable:!1,value:$v(p),writable:!0})}:ma;function Gg(d){return Sp(vl(d))}function kr(d,p,b){var A=-1,F=d.length;p<0&&(p=-p>F?0:F+p),(b=b>F?F:b)<0&&(b+=F),F=p>b?0:b-p>>>0,p>>>=0;for(var G=xe(F);++A<F;)G[A]=d[A+p];return G}function Hg(d,p){var b;return N(d,function(A,F,G){return!(b=p(A,F,G))}),!!b}function Ni(d,p,b){var A=0,F=null==d?A:d.length;if("number"==typeof p&&p==p&&F<=2147483647){for(;A<F;){var G=A+F>>>1,Y=d[G];null!==Y&&!no(Y)&&(b?Y<=p:Y<p)?A=G+1:F=G}return F}return La(d,p,ma,b)}function La(d,p,b,A){var F=0,G=null==d?0:d.length;if(0===G)return 0;for(var Y=(p=b(p))!=p,re=null===p,fe=no(p),je=p===P;F<G;){var qe=bo((F+G)/2),Qe=b(d[qe]),mt=Qe!==P,Lt=null===Qe,Rt=Qe==Qe,hn=no(Qe);if(Y)var Jt=A||Rt;else Jt=je?Rt&&(A||mt):re?Rt&&mt&&(A||!Lt):fe?Rt&&mt&&!Lt&&(A||!hn):!Lt&&!hn&&(A?Qe<=p:Qe<p);Jt?F=qe+1:G=qe}return tr(G,4294967294)}function bp(d,p){for(var b=-1,A=d.length,F=0,G=[];++b<A;){var Y=d[b],re=p?p(Y):Y;if(!b||!bs(re,fe)){var fe=re;G[F++]=0===Y?0:Y}}return G}function ff(d){return"number"==typeof d?d:no(d)?NaN:+d}function Js(d){if("string"==typeof d)return d;if(gn(d))return Ii(d,Js)+"";if(no(d))return pi?pi.call(d):"";var p=d+"";return"0"==p&&1/d==-Je?"-0":p}function Xs(d,p,b){var A=-1,F=Zt,G=d.length,Y=!0,re=[],fe=re;if(b)Y=!1,F=Ml;else if(G>=200){var je=p?null:gh(d);if(je)return kl(je);Y=!1,F=yo,fe=new nr}else fe=p?[]:re;e:for(;++A<G;){var qe=d[A],Qe=p?p(qe):qe;if(qe=b||0!==qe?qe:0,Y&&Qe==Qe){for(var mt=fe.length;mt--;)if(fe[mt]===Qe)continue e;p&&fe.push(Qe),re.push(qe)}else F(fe,Qe,b)||(fe!==re&&fe.push(Qe),re.push(qe))}return re}function Go(d,p){return null==(d=wh(d,p=pa(p,d)))||delete d[Va(Wo(p))]}function Wc(d,p,b,A){return Au(d,p,b(Wi(d,p)),A)}function ql(d,p,b,A){for(var F=d.length,G=A?F:-1;(A?G--:++G<F)&&p(d[G],G,d););return b?kr(d,A?0:G,A?G+1:F):kr(d,A?G+1:0,A?F:G)}function ah(d,p){var b=d;return b instanceof wn&&(b=b.value()),Rl(p,function(A,F){return F.func.apply(F.thisArg,mo([A],F.args))},b)}function yd(d,p,b){var A=d.length;if(A<2)return A?Xs(d[0]):[];for(var F=-1,G=xe(A);++F<A;)for(var Y=d[F],re=-1;++re<A;)re!=F&&(G[F]=x(G[F]||Y,d[re],p,b));return Xs(nt(G,1),p,b)}function lh(d,p,b){for(var A=-1,F=d.length,G=p.length,Y={};++A<F;)b(Y,d[A],A<G?p[A]:P);return Y}function bd(d){return Yr(d)?d:[]}function pf(d){return"function"==typeof d?d:ma}function pa(d,p){return gn(d)?d:Nt(d,p)?[d]:zm(si(d))}var ch=vn;function Zl(d,p,b){var A=d.length;return b=b===P?A:b,!p&&b>=A?d:kr(d,p,b)}var wp=cl||function(d){return Gn.clearTimeout(d)};function Nu(d,p){if(p)return d.slice();var b=d.length,A=Vl?Vl(b):new d.constructor(b);return d.copy(A),A}function uh(d){var p=new d.constructor(d.byteLength);return new Sa(p).set(new Sa(d)),p}function hh(d,p){var b=p?uh(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.length)}function Ou(d,p){if(d!==p){var b=d!==P,A=null===d,F=d==d,G=no(d),Y=p!==P,re=null===p,fe=p==p,je=no(p);if(!re&&!je&&!G&&d>p||G&&Y&&fe&&!re&&!je||A&&Y&&fe||!b&&fe||!F)return 1;if(!A&&!G&&!je&&d<p||je&&b&&F&&!A&&!G||re&&b&&F||!Y&&F||!fe)return-1}return 0}function Ru(d,p,b,A){for(var F=-1,G=d.length,Y=b.length,re=-1,fe=p.length,je=or(G-Y,0),qe=xe(fe+je),Qe=!A;++re<fe;)qe[re]=p[re];for(;++F<Y;)(Qe||F<G)&&(qe[b[F]]=d[F]);for(;je--;)qe[re++]=d[F++];return qe}function Dd(d,p,b,A){for(var F=-1,G=d.length,Y=-1,re=b.length,fe=-1,je=p.length,qe=or(G-re,0),Qe=xe(qe+je),mt=!A;++F<qe;)Qe[F]=d[F];for(var Lt=F;++fe<je;)Qe[Lt+fe]=p[fe];for(;++Y<re;)(mt||F<G)&&(Qe[Lt+b[Y]]=d[F++]);return Qe}function Ln(d,p){var b=-1,A=d.length;for(p||(p=xe(A));++b<A;)p[b]=d[b];return p}function Co(d,p,b,A){var F=!b;b||(b={});for(var G=-1,Y=p.length;++G<Y;){var re=p[G],fe=A?A(b[re],d[re],re,b,d):P;fe===P&&(fe=d[re]),F?Pr(b,re,fe):Fi(b,re,fe)}return b}function Ho(d,p){return function(b,A){var F=gn(b)?el:jn,G=p?p():{};return F(b,d,Gt(A,2),G)}}function zc(d){return vn(function(p,b){var A=-1,F=b.length,G=F>1?b[F-1]:P,Y=F>2?b[2]:P;for(G=d.length>3&&"function"==typeof G?(F--,G):P,Y&&Xe(b[0],b[1],Y)&&(G=F<3?P:G,F=1),p=ii(p);++A<F;){var re=b[A];re&&d(p,re,A,G)}return p})}function Cd(d,p){return function(b,A){if(null==b)return b;if(!ga(b))return d(b,A);for(var F=b.length,G=p?F:-1,Y=ii(b);(p?G--:++G<F)&&!1!==A(Y[G],G,Y););return b}}function jg(d){return function(p,b,A){for(var F=-1,G=ii(p),Y=A(p),re=Y.length;re--;){var fe=Y[d?re:++F];if(!1===b(G[fe],fe,G))break}return p}}function Ip(d){return function(p){var b=Ea(p=si(p))?ms(p):P,A=b?b[0]:p.charAt(0),F=b?Zl(b,1).join(""):p.slice(1);return A[d]()+F}}function qc(d){return function(p){return Rl(R_(Kp(p).replace(Zd,"")),d,"")}}function Zc(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Fc(d.prototype),A=d.apply(b,p);return br(A)?A:b}}function Yc(d){return function(p,b,A){var F=ii(p);if(!ga(p)){var G=Gt(b,3);p=ro(p),b=function(re){return G(F[re],re,F)}}var Y=d(p,b,A);return Y>-1?F[G?p[Y]:Y]:P}}function Td(d){return Io(function(p){var b=p.length,A=b,F=Ys.prototype.thru;for(d&&p.reverse();A--;){var G=p[A];if("function"!=typeof G)throw new Cr(Ce);if(F&&!Y&&"wrapper"==Bu(G))var Y=new Ys([],!0)}for(A=Y?A:b;++A<b;){var re=Bu(G=p[A]),fe="wrapper"==re?Lu(G):P;Y=fe&&$t(fe[0])&&424==fe[1]&&!fe[4].length&&1==fe[9]?Y[Bu(fe[0])].apply(Y,fe[3]):1==G.length&&$t(G)?Y[re]():Y.thru(G)}return function(){var je=arguments,qe=je[0];if(Y&&1==je.length&&gn(qe))return Y.plant(qe).value();for(var Qe=0,mt=b?p[Qe].apply(this,je):qe;++Qe<b;)mt=p[Qe].call(this,mt);return mt}})}function Fu(d,p,b,A,F,G,Y,re,fe,je){var qe=128&p,Qe=1&p,mt=2&p,Lt=24&p,Rt=512&p,hn=mt?P:Zc(d);return function Jt(){for(var sn=arguments.length,Nn=xe(sn),sr=sn;sr--;)Nn[sr]=arguments[sr];if(Lt)var Ur=Tr(Jt),xr=Cc(Nn,Ur);if(A&&(Nn=Ru(Nn,A,F,Lt)),G&&(Nn=Dd(Nn,G,Y,Lt)),sn-=xr,Lt&&sn<je){var yi=Fo(Nn,Ur);return Sd(d,p,Fu,Jt.placeholder,b,Nn,yi,re,fe,je-sn)}var so=Qe?b:this,Yo=mt?so[d]:d;return sn=Nn.length,re?Nn=Ep(Nn,re):Rt&&sn>1&&Nn.reverse(),qe&&fe<sn&&(Nn.length=fe),this&&this!==Gn&&this instanceof Jt&&(Yo=hn||Zc(Yo)),Yo.apply(so,Nn)}}function _f(d,p){return function(b,A){return function Qs(d,p,b,A){return qt(d,function(F,G,Y){p(A,b(F),G,Y)}),A}(b,d,p(A),{})}}function mf(d,p){return function(b,A){var F;if(b===P&&A===P)return p;if(b!==P&&(F=b),A!==P){if(F===P)return A;"string"==typeof b||"string"==typeof A?(b=Js(b),A=Js(A)):(b=ff(b),A=ff(A)),F=d(b,A)}return F}}function Ed(d){return Io(function(p){return p=Ii(p,ji(Gt())),vn(function(b){var A=this;return d(p,function(F){return qr(F,A,b)})})})}function fh(d,p){var b=(p=p===P?" ":Js(p)).length;if(b<2)return b?Do(p,d):p;var A=Do(p,ul(d/Zs(p)));return Ea(p)?Zl(ms(A),0,d).join(""):A.slice(0,d)}function ph(d){return function(p,b,A){return A&&"number"!=typeof A&&Xe(p,b,A)&&(b=A=P),p=sc(p),b===P?(b=p,p=0):b=sc(b),function jc(d,p,b,A){for(var F=-1,G=or(ul((p-d)/(b||1)),0),Y=xe(G);G--;)Y[A?G:++F]=d,d+=b;return Y}(p,b,A=A===P?p<b?1:-1:sc(A),d)}}function xd(d){return function(p,b){return"string"==typeof p&&"string"==typeof b||(p=ml(p),b=ml(b)),d(p,b)}}function Sd(d,p,b,A,F,G,Y,re,fe,je){var qe=8&p;p|=qe?32:64,4&(p&=~(qe?64:32))||(p&=-4);var hn=[d,p,F,qe?G:P,qe?Y:P,qe?P:G,qe?P:Y,re,fe,je],Jt=b.apply(P,hn);return $t(d)&&xp(Jt,hn),Jt.placeholder=A,Wg(Jt,d,p)}function Pu(d){var p=Ei[d];return function(b,A){if(b=ml(b),(A=null==A?0:tr(Dn(A),292))&&bu(b)){var F=(si(b)+"e").split("e");return+((F=(si(p(F[0]+"e"+(+F[1]+A)))+"e").split("e"))[0]+"e"+(+F[1]-A))}return p(b)}}var gh=ca&&1/kl(new ca([,-0]))[1]==Je?function(d){return new ca(d)}:Pf;function Yl(d){return function(p){var b=Br(p);return b==hi?Pl(p):b==Cn?function ld(de){var Ve=-1,xe=Array(de.size);return de.forEach(function(Ct){xe[++Ve]=[Ct,Ct]}),xe}(p):function wc(de,Ve){return Ii(Ve,function(xe){return[xe,de[xe]]})}(p,d(p))}}function jo(d,p,b,A,F,G,Y,re){var fe=2&p;if(!fe&&"function"!=typeof d)throw new Cr(Ce);var je=A?A.length:0;if(je||(p&=-97,A=F=P),Y=Y===P?Y:or(Dn(Y),0),re=re===P?re:Dn(re),je-=F?F.length:0,64&p){var qe=A,Qe=F;A=F=P}var mt=fe?P:Lu(d),Lt=[d,p,b,A,F,qe,Qe,G,Y,re];if(mt&&function jm(d,p){var b=d[1],A=p[1],F=b|A;if(!(F<131||(128==A&&8==b||128==A&&256==b&&d[7].length<=p[8]||384==A&&p[7].length<=p[8]&&8==b)))return d;1&A&&(d[2]=p[2],F|=1&b?0:4);var re=p[3];if(re){var fe=d[3];d[3]=fe?Ru(fe,re,p[4]):re,d[4]=fe?Fo(d[3],J):p[4]}(re=p[5])&&(d[5]=(fe=d[5])?Dd(fe,re,p[6]):re,d[6]=fe?Fo(d[5],J):p[6]),(re=p[7])&&(d[7]=re),128&A&&(d[8]=null==d[8]?p[8]:tr(d[8],p[8])),null==d[9]&&(d[9]=p[9]),d[0]=p[0],d[1]=F}(Lt,mt),d=Lt[0],p=Lt[1],b=Lt[2],A=Lt[3],F=Lt[4],!(re=Lt[9]=Lt[9]===P?fe?0:d.length:or(Lt[9]-je,0))&&24&p&&(p&=-25),p&&1!=p)Rt=8==p||16==p?function Id(d,p,b){var A=Zc(d);return function F(){for(var G=arguments.length,Y=xe(G),re=G,fe=Tr(F);re--;)Y[re]=arguments[re];var je=G<3&&Y[0]!==fe&&Y[G-1]!==fe?[]:Fo(Y,fe);return(G-=je.length)<b?Sd(d,p,Fu,F.placeholder,P,Y,je,P,P,b-G):qr(this&&this!==Gn&&this instanceof F?A:d,this,Y)}}(d,p,re):32!=p&&33!=p||F.length?Fu.apply(P,Lt):function eo(d,p,b,A){var F=1&p,G=Zc(d);return function Y(){for(var re=-1,fe=arguments.length,je=-1,qe=A.length,Qe=xe(qe+fe),mt=this&&this!==Gn&&this instanceof Y?G:d;++je<qe;)Qe[je]=A[je];for(;fe--;)Qe[je++]=arguments[++re];return qr(mt,F?b:this,Qe)}}(d,p,b,A);else var Rt=function Cp(d,p,b){var A=1&p,F=Zc(d);return function G(){return(this&&this!==Gn&&this instanceof G?F:d).apply(A?b:this,arguments)}}(d,p,b);return Wg((mt?df:xp)(Rt,Lt),d,p)}function Kl(d,p,b,A){return d===P||bs(d,oa[b])&&!ti.call(A,b)?p:d}function ks(d,p,b,A,F,G){return br(d)&&br(p)&&(G.set(p,d),hr(d,p,P,ks,G),G.delete(p)),d}function Kc(d){return zp(d)?P:d}function Ql(d,p,b,A,F,G){var Y=1&b,re=d.length,fe=p.length;if(re!=fe&&!(Y&&fe>re))return!1;var je=G.get(d),qe=G.get(p);if(je&&qe)return je==p&&qe==d;var Qe=-1,mt=!0,Lt=2&b?new nr:P;for(G.set(d,p),G.set(p,d);++Qe<re;){var Rt=d[Qe],hn=p[Qe];if(A)var Jt=Y?A(hn,Rt,Qe,p,d,G):A(Rt,hn,Qe,d,p,G);if(Jt!==P){if(Jt)continue;mt=!1;break}if(Lt){if(!vo(p,function(sn,Nn){if(!yo(Lt,Nn)&&(Rt===sn||F(Rt,sn,b,A,G)))return Lt.push(Nn)})){mt=!1;break}}else if(Rt!==hn&&!F(Rt,hn,b,A,G)){mt=!1;break}}return G.delete(d),G.delete(p),mt}function Io(d){return bf(bh(d,P,Kg),d+"")}function Lr(d){return qn(d,ro,Vu)}function Xl(d){return qn(d,Ha,Jc)}var Lu=fl?function(d){return fl.get(d)}:Pf;function Bu(d){for(var p=d.name+"",b=Ir[p],A=ti.call(Ir,p)?b.length:0;A--;){var F=b[A],G=F.func;if(null==G||G==d)return F.name}return p}function Tr(d){return(ti.call(U,"placeholder")?U:d).placeholder}function Gt(){var d=U.iteratee||Gv;return d=d===Gv?sh:d,arguments.length?d(arguments[0],arguments[1]):d}function _h(d,p){var b=d.__data__;return function Kt(d){var p=typeof d;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==d:null===d}(p)?b["string"==typeof p?"string":"hash"]:b.map}function vf(d){for(var p=ro(d),b=p.length;b--;){var A=p[b],F=d[A];p[b]=[A,F,vh(F)]}return p}function Qc(d,p){var b=function Ic(de,Ve){return null==de?P:de[Ve]}(d,p);return Tu(b)?b:P}var Vu=yu?function(d){return null==d?[]:(d=ii(d),ei(yu(d),function(p){return dd.call(d,p)}))}:yl,Jc=yu?function(d){for(var p=[];d;)mo(p,Vu(d)),d=Ms(d);return p}:yl,Br=ur;function _(d,p,b){for(var A=-1,F=(p=pa(p,d)).length,G=!1;++A<F;){var Y=Va(p[A]);if(!(G=null!=d&&b(d,Y)))break;d=d[Y]}return G||++A!=F?G:!!(F=null==d?0:d.length)&&Hp(F)&&Te(Y,F)&&(gn(d)||eu(d))}function I(d){return"function"!=typeof d.constructor||Ba(d)?{}:Fc(Ms(d))}function le(d){return gn(d)||eu(d)||!!(mu&&d&&d[mu])}function Te(d,p){var b=typeof d;return!!(p=p??Mt)&&("number"==b||"symbol"!=b&&Kn.test(d))&&d>-1&&d%1==0&&d<p}function Xe(d,p,b){if(!br(b))return!1;var A=typeof p;return!!("number"==A?ga(b)&&Te(p,b.length):"string"==A&&p in b)&&bs(b[p],d)}function Nt(d,p){if(gn(d))return!1;var b=typeof d;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=d&&!no(d))||_n.test(d)||!Zi.test(d)||null!=p&&d in ii(p)}function $t(d){var p=Bu(d),b=U[p];if("function"!=typeof b||!(p in wn.prototype))return!1;if(d===b)return!0;var A=Lu(b);return!!A&&d===A[0]}(la&&Br(new la(new ArrayBuffer(1)))!=Ot||hl&&Br(new hl)!=hi||wo&&Br(wo.resolve())!=yt||ca&&Br(new ca)!=Cn||Lo&&Br(new Lo)!=wi)&&(Br=function(d){var p=ur(d),b=p==vi?d.constructor:P,A=b?$u(b):"";if(A)switch(A){case Oa:return Ot;case $l:return hi;case Gl:return yt;case wu:return Cn;case Hl:return wi}return p});var to=ol?rc:kf;function Ba(d){var p=d&&d.constructor;return d===("function"==typeof p&&p.prototype||oa)}function vh(d){return d==d&&!br(d)}function Uu(d,p){return function(b){return null!=b&&b[d]===p&&(p!==P||d in ii(b))}}function bh(d,p,b){return p=or(p===P?d.length-1:p,0),function(){for(var A=arguments,F=-1,G=or(A.length-p,0),Y=xe(G);++F<G;)Y[F]=A[p+F];F=-1;for(var re=xe(p+1);++F<p;)re[F]=A[F];return re[p]=b(Y),qr(d,this,re)}}function wh(d,p){return p.length<2?d:Wi(d,kr(p,0,-1))}function Ep(d,p){for(var b=d.length,A=tr(p.length,b),F=Ln(d);A--;){var G=p[A];d[A]=Te(G,b)?F[G]:P}return d}function yf(d,p){if(("constructor"!==p||"function"!=typeof d[p])&&"__proto__"!=p)return d[p]}var xp=Wm(df),Nd=vu||function(d,p){return Gn.setTimeout(d,p)},bf=Wm(hf);function Wg(d,p,b){var A=p+"";return bf(d,function V(d,p){var b=p.length;if(!b)return d;var A=b-1;return p[A]=(b>1?"& ":"")+p[A],p=p.join(b>2?", ":" "),d.replace(Ui,"{\n/* [wrapped with "+p+"] */\n")}(A,function zg(d,p){return os(Vn,function(b){var A="_."+b[0];p&b[1]&&!Zt(d,A)&&d.push(A)}),d.sort()}(function w(d){var p=d.match(_t);return p?p[1].split(Wt):[]}(A),b)))}function Wm(d){var p=0,b=0;return function(){var A=aa(),F=16-(A-b);if(b=A,F>0){if(++p>=800)return arguments[0]}else p=0;return d.apply(P,arguments)}}function Sp(d,p){var b=-1,A=d.length,F=A-1;for(p=p===P?A:p;++b<p;){var G=xu(b,F),Y=d[G];d[G]=d[b],d[b]=Y}return d.length=p,d}var zm=function yh(d){var p=Wu(d,function(A){return 500===b.size&&b.clear(),A}),b=p.cache;return p}(function(d){var p=[];return 46===d.charCodeAt(0)&&p.push(""),d.replace(on,function(b,A,F,G){p.push(F?G.replace(hs,"$1"):A||b)}),p});function Va(d){if("string"==typeof d||no(d))return d;var p=d+"";return"0"==p&&1/d==-Je?"-0":p}function $u(d){if(null!=d){try{return xc.call(d)}catch{}try{return d+""}catch{}}return""}function Od(d){if(d instanceof wn)return d.clone();var p=new Ys(d.__wrapped__,d.__chain__);return p.__actions__=Ln(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}var qg=vn(function(d,p){return Yr(d)?x(d,nt(p,1,Yr,!0)):[]}),A0=vn(function(d,p){var b=Wo(p);return Yr(b)&&(b=P),Yr(d)?x(d,nt(p,1,Yr,!0),Gt(b,2)):[]}),vD=vn(function(d,p){var b=Wo(p);return Yr(b)&&(b=P),Yr(d)?x(d,nt(p,1,Yr,!0),P,b):[]});function Zg(d,p,b){var A=null==d?0:d.length;if(!A)return-1;var F=null==b?0:Dn(b);return F<0&&(F=or(A+F,0)),tl(d,Gt(p,3),F)}function Yg(d,p,b){var A=null==d?0:d.length;if(!A)return-1;var F=A-1;return b!==P&&(F=Dn(b),F=b<0?or(A+F,0):tr(F,A-1)),tl(d,Gt(p,3),F,!0)}function Kg(d){return null!=d&&d.length?nt(d,1):[]}function wf(d){return d&&d.length?d[0]:P}var Dh=vn(function(d){var p=Ii(d,bd);return p.length&&p[0]===d[0]?Pa(p):[]}),Km=vn(function(d){var p=Wo(d),b=Ii(d,bd);return p===Wo(b)?p=P:b.pop(),b.length&&b[0]===d[0]?Pa(b,Gt(p,2)):[]}),Qm=vn(function(d){var p=Wo(d),b=Ii(d,bd);return(p="function"==typeof p?p:P)&&b.pop(),b.length&&b[0]===d[0]?Pa(b,P,p):[]});function Wo(d){var p=null==d?0:d.length;return p?d[p-1]:P}var P0=vn(Xg);function Xg(d,p){return d&&d.length&&p&&p.length?Uo(d,p):d}var yD=Io(function(d,p){var b=null==d?0:d.length,A=Ps(d,p);return yp(d,Ii(p,function(F){return Te(F,b)?+F:F}).sort(Ou)),A});function t_(d){return null==d?d:Rc.call(d)}var Ch=vn(function(d){return Xs(nt(d,1,Yr,!0))}),$0=vn(function(d){var p=Wo(d);return Yr(p)&&(p=P),Xs(nt(d,1,Yr,!0),Gt(p,2))}),Xm=vn(function(d){var p=Wo(d);return p="function"==typeof p?p:P,Xs(nt(d,1,Yr,!0),P,p)});function H0(d){if(!d||!d.length)return[];var p=0;return d=ei(d,function(b){if(Yr(b))return p=or(b.length,p),!0}),pu(p,function(b){return Ii(d,_s(b))})}function Ih(d,p){if(!d||!d.length)return[];var b=H0(d);return null==p?b:Ii(b,function(A){return qr(p,P,A)})}var s_=vn(function(d,p){return Yr(d)?x(d,p):[]}),ev=vn(function(d){return yd(ei(d,Yr))}),DD=vn(function(d){var p=Wo(d);return Yr(p)&&(p=P),yd(ei(d,Yr),Gt(p,2))}),o_=vn(function(d){var p=Wo(d);return p="function"==typeof p?p:P,yd(ei(d,Yr),P,p)}),CD=vn(H0),ED=vn(function(d){var p=d.length,b=p>1?d[p-1]:P;return b="function"==typeof b?(d.pop(),b):P,Ih(d,b)});function j0(d){var p=U(d);return p.__chain__=!0,p}function Rp(d,p){return p(d)}var a_=Io(function(d){var p=d.length,b=p?d[0]:0,A=this.__wrapped__,F=function(G){return Ps(G,d)};return!(p>1||this.__actions__.length)&&A instanceof wn&&Te(b)?((A=A.slice(b,+b+(p?1:0))).__actions__.push({func:Rp,args:[F],thisArg:P}),new Ys(A,this.__chain__).thru(function(G){return p&&!G.length&&G.push(P),G})):this.thru(F)}),qo=Ho(function(d,p,b){ti.call(d,b)?++d[b]:Pr(d,b,1)}),Tf=Yc(Zg),Gu=Yc(Yg);function c_(d,p){return(gn(d)?os:N)(d,Gt(p,3))}function Ef(d,p){return(gn(d)?_o:k)(d,Gt(p,3))}var u_=Ho(function(d,p,b){ti.call(d,b)?d[b].push(p):Pr(d,b,[p])}),kp=vn(function(d,p,b){var A=-1,F="function"==typeof p,G=ga(d)?xe(d.length):[];return N(d,function(Y){G[++A]=F?qr(p,Y,b):gl(Y,p,b)}),G}),nv=Ho(function(d,p,b){Pr(d,b,p)});function Eh(d,p){return(gn(d)?Ii:ha)(d,Gt(p,3))}var d_=Ho(function(d,p,b){d[b?0:1].push(p)},function(){return[[],[]]}),Fd=vn(function(d,p){if(null==d)return[];var b=p.length;return b>1&&Xe(d,p[0],p[1])?p=[]:b>2&&Xe(p[0],p[1],p[2])&&(p=[p[0]]),ka(d,nt(p,1),[])}),_l=Nc||function(){return Gn.Date.now()};function ju(d,p,b){return p=b?P:p,jo(d,128,P,P,P,P,p=d&&null==p?d.length:p)}function Vp(d,p){var b;if("function"!=typeof p)throw new Cr(Ce);return d=Dn(d),function(){return--d>0&&(b=p.apply(this,arguments)),d<=1&&(p=P),b}}var Up=vn(function(d,p,b){var A=1;if(b.length){var F=Fo(b,Tr(Up));A|=32}return jo(d,A,p,b,F)}),Vs=vn(function(d,p,b){var A=3;if(b.length){var F=Fo(b,Tr(Vs));A|=32}return jo(p,A,d,b,F)});function sv(d,p,b){var A,F,G,Y,re,fe,je=0,qe=!1,Qe=!1,mt=!0;if("function"!=typeof d)throw new Cr(Ce);function Lt(yi){var so=A,Yo=F;return A=F=P,je=yi,Y=d.apply(Yo,so)}function Rt(yi){return je=yi,re=Nd(sn,p),qe?Lt(yi):Y}function Jt(yi){var so=yi-fe;return fe===P||so>=p||so<0||Qe&&yi-je>=G}function sn(){var yi=_l();if(Jt(yi))return Nn(yi);re=Nd(sn,function hn(yi){var qu=p-(yi-fe);return Qe?tr(qu,G-(yi-je)):qu}(yi))}function Nn(yi){return re=P,mt&&A?Lt(yi):(A=F=P,Y)}function xr(){var yi=_l(),so=Jt(yi);if(A=arguments,F=this,fe=yi,so){if(re===P)return Rt(fe);if(Qe)return wp(re),re=Nd(sn,p),Lt(fe)}return re===P&&(re=Nd(sn,p)),Y}return p=ml(p)||0,br(b)&&(qe=!!b.leading,G=(Qe="maxWait"in b)?or(ml(b.maxWait)||0,p):G,mt="trailing"in b?!!b.trailing:mt),xr.cancel=function sr(){re!==P&&wp(re),je=0,A=fe=F=re=P},xr.flush=function Ur(){return re===P?Y:Nn(_l())},xr}var Xc=vn(function(d,p){return th(d,1,p)}),Y0=vn(function(d,p,b){return th(d,ml(p)||0,b)});function Wu(d,p){if("function"!=typeof d||null!=p&&"function"!=typeof p)throw new Cr(Ce);var b=function(){var A=arguments,F=p?p.apply(this,A):A[0],G=b.cache;if(G.has(F))return G.get(F);var Y=d.apply(this,A);return b.cache=G.set(F,Y)||G,Y};return b.cache=new(Wu.Cache||It),b}function xh(d){if("function"!=typeof d)throw new Cr(Ce);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}Wu.Cache=It;var Af=ch(function(d,p){var b=(p=1==p.length&&gn(p[0])?Ii(p[0],ji(Gt())):Ii(nt(p,1),ji(Gt()))).length;return vn(function(A){for(var F=-1,G=tr(A.length,b);++F<G;)A[F]=p[F].call(this,A[F]);return qr(d,this,A)})}),an=vn(function(d,p){var b=Fo(p,Tr(an));return jo(d,32,P,p,b)}),Gp=vn(function(d,p){var b=Fo(p,Tr(Gp));return jo(d,64,P,p,b)}),av=Io(function(d,p){return jo(d,256,P,P,P,p)});function bs(d,p){return d===p||d!=d&&p!=p}var fv=xd(da),Nf=xd(function(d,p){return d>=p}),eu=cf(function(){return arguments}())?cf:function(d){return Er(d)&&ti.call(d,"callee")&&!dd.call(d,"callee")},gn=xe.isArray,SD=Ns?ji(Ns):function nh(d){return Er(d)&&ur(d)==kt};function ga(d){return null!=d&&Hp(d.length)&&!rc(d)}function Yr(d){return Er(d)&&ga(d)}var tu=Na||kf,pv=ss?ji(ss):function $g(d){return Er(d)&&ur(d)==Ar};function Oh(d){if(!Er(d))return!1;var p=ur(d);return p==Pn||"[object DOMException]"==p||"string"==typeof d.message&&"string"==typeof d.name&&!zp(d)}function rc(d){if(!br(d))return!1;var p=ur(d);return p==zi||p==ns||"[object AsyncFunction]"==p||"[object Proxy]"==p}function _v(d){return"number"==typeof d&&d==Dn(d)}function Hp(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=Mt}function br(d){var p=typeof d;return null!=d&&("object"==p||"function"==p)}function Er(d){return null!=d&&"object"==typeof d}var mv=_c?ji(_c):function Iu(d){return Er(d)&&Br(d)==hi};function Wp(d){return"number"==typeof d||Er(d)&&ur(d)==Oi}function zp(d){if(!Er(d)||ur(d)!=vi)return!1;var p=Ms(d);if(null===p)return!0;var b=ti.call(p,"constructor")&&p.constructor;return"function"==typeof b&&b instanceof b&&xc.call(b)==_u}var Mf=Xa?ji(Xa):function ih(d){return Er(d)&&ur(d)==jr},g_=Mo?ji(Mo):function gp(d){return Er(d)&&Br(d)==Cn};function Rf(d){return"string"==typeof d||!gn(d)&&Er(d)&&ur(d)==ni}function no(d){return"symbol"==typeof d||Er(d)&&ur(d)==Or}var io=An?ji(An):function rh(d){return Er(d)&&Hp(d.length)&&!!Jn[ur(d)]},nu=xd(Pi),m_=xd(function(d,p){return d<=p});function v_(d){if(!d)return[];if(ga(d))return Rf(d)?ms(d):Ln(d);if(Si&&d[Si])return function ad(de){for(var Ve,xe=[];!(Ve=de.next()).done;)xe.push(Ve.value);return xe}(d[Si]());var p=Br(d);return(p==hi?Pl:p==Cn?kl:vl)(d)}function sc(d){return d?(d=ml(d))===Je||d===-Je?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function Dn(d){var p=sc(d),b=p%1;return p==p?b?p-b:p:0}function y_(d){return d?Ks(Dn(d),0,pt):0}function ml(d){if("number"==typeof d)return d;if(no(d))return NaN;if(br(d)){var p="function"==typeof d.valueOf?d.valueOf():d;d=br(p)?p+"":p}if("string"!=typeof d)return 0===d?d:+d;d=Hi(d);var b=Hs.test(d);return b||tn.test(d)?As(d.slice(2),b?2:8):li.test(d)?NaN:+d}function Ff(d){return Co(d,Ha(d))}function si(d){return null==d?"":Js(d)}var b_=zc(function(d,p){if(Ba(p)||ga(p))Co(p,ro(p),d);else for(var b in p)ti.call(p,b)&&Fi(d,b,p[b])}),Zp=zc(function(d,p){Co(p,Ha(p),d)}),w_=zc(function(d,p,b,A){Co(p,Ha(p),d,A)}),rb=zc(function(d,p,b,A){Co(p,ro(p),d,A)}),sb=Io(Ps),AD=vn(function(d,p){d=ii(d);var b=-1,A=p.length,F=A>2?p[2]:P;for(F&&Xe(p[0],p[1],F)&&(A=1);++b<A;)for(var G=p[b],Y=Ha(G),re=-1,fe=Y.length;++re<fe;){var je=Y[re],qe=d[je];(qe===P||bs(qe,oa[je])&&!ti.call(d,je))&&(d[je]=G[je])}return d}),D_=vn(function(d){return d.push(P,ks),qr(Tv,P,d)});function lb(d,p,b){var A=null==d?P:Wi(d,p);return A===P?b:A}function Iv(d,p){return null!=d&&_(d,p,Ra)}var RD=_f(function(d,p,b){null!=p&&"function"!=typeof p.toString&&(p=ko.call(p)),d[p]=b},$v(ma)),FD=_f(function(d,p,b){null!=p&&"function"!=typeof p.toString&&(p=ko.call(p)),ti.call(d,p)?d[p].push(b):d[p]=[b]},Gt),FE=vn(gl);function ro(d){return ga(d)?vd(d):dr(d)}function Ha(d){return ga(d)?vd(d,!0):function rr(d){if(!br(d))return function Tp(d){var p=[];if(null!=d)for(var b in ii(d))p.push(b);return p}(d);var p=Ba(d),b=[];for(var A in d)"constructor"==A&&(p||!ti.call(d,A))||b.push(A);return b}(d)}var C_=zc(function(d,p,b){hr(d,p,b)}),Tv=zc(function(d,p,b,A){hr(d,p,b,A)}),cb=Io(function(d,p){var b={};if(null==d)return b;var A=!1;p=Ii(p,function(G){return G=pa(G,d),A||(A=G.length>1),G}),Co(d,Xl(d),b),A&&(b=yr(b,7,Kc));for(var F=p.length;F--;)Go(b,p[F]);return b}),ub=Io(function(d,p){return null==d?{}:function uf(d,p){return oh(d,p,function(b,A){return Iv(d,A)})}(d,p)});function I_(d,p){if(null==d)return{};var b=Ii(Xl(d),function(A){return[A]});return p=Gt(p),oh(d,b,function(A,F){return p(A,F[0])})}var xv=Yl(ro),Sv=Yl(Ha);function vl(d){return null==d?[]:Dc(d,ro(d))}var Nv=qc(function(d,p,b){return p=p.toLowerCase(),d+(b?S_(p):p)});function S_(d){return M_(si(d).toLowerCase())}function Kp(d){return(d=si(d))&&d.replace(js,dp).replace(Yd,"")}var gb=qc(function(d,p,b){return d+(b?"-":"")+p.toLowerCase()}),PD=qc(function(d,p,b){return d+(b?" ":"")+p.toLowerCase()}),_b=Ip("toLowerCase"),Pv=qc(function(d,p,b){return d+(b?"_":"")+p.toLowerCase()}),kv=qc(function(d,p,b){return d+(b?" ":"")+M_(p)}),Tb=qc(function(d,p,b){return d+(b?" ":"")+p.toUpperCase()}),M_=Ip("toUpperCase");function R_(d,p,b){return d=si(d),(p=b?P:p)===P?function Tc(de){return Oo.test(de)}(d)?function ud(de){return de.match(nf)||[]}(d):function Ze(de){return de.match($n)||[]}(d):d.match(p)||[]}var Uv=vn(function(d,p){try{return qr(d,P,p)}catch(b){return Oh(b)?b:new Yt(b)}}),kD=Io(function(d,p){return os(p,function(b){b=Va(b),Pr(d,b,Up(d[b],d))}),d});function $v(d){return function(){return d}}var kE=Td(),Eb=Td(!0);function ma(d){return d}function Gv(d){return sh("function"==typeof d?d:yr(d,1))}var BD=vn(function(d,p){return function(b){return gl(b,d,p)}}),VD=vn(function(d,p){return function(b){return gl(d,b,p)}});function Fh(d,p,b){var A=ro(p),F=gi(p,A);null==b&&(!br(p)||!F.length&&A.length)&&(b=p,p=d,d=this,F=gi(p,ro(p)));var G=!(br(b)&&"chain"in b&&!b.chain),Y=rc(d);return os(F,function(re){var fe=p[re];d[re]=fe,Y&&(d.prototype[re]=function(){var je=this.__chain__;if(G||je){var qe=d(this.__wrapped__),Qe=qe.__actions__=Ln(this.__actions__);return Qe.push({func:fe,args:arguments,thisArg:d}),qe.__chain__=je,qe}return fe.apply(d,mo([this.value()],arguments))})}),d}function Pf(){}var L_=Ed(Ii),BE=Ed(mc),Hv=Ed(vo);function B_(d){return Nt(d)?_s(Va(d)):function vp(d){return function(p){return Wi(p,d)}}(d)}var Ab=ph(),V_=ph(!0);function yl(){return[]}function kf(){return!1}var Ld=mf(function(d,p){return d+p},0),Ph=Pu("ceil"),UD=mf(function(d,p){return d/p},1),VE=Pu("floor"),Jp=mf(function(d,p){return d*p},1),Mb=Pu("round"),$_=mf(function(d,p){return d-p},0);return U.after=function Bp(d,p){if("function"!=typeof p)throw new Cr(Ce);return d=Dn(d),function(){if(--d<1)return p.apply(this,arguments)}},U.ary=ju,U.assign=b_,U.assignIn=Zp,U.assignInWith=w_,U.assignWith=rb,U.at=sb,U.before=Vp,U.bind=Up,U.bindAll=kD,U.bindKey=Vs,U.castArray=function dv(){if(!arguments.length)return[];var d=arguments[0];return gn(d)?d:[d]},U.chain=j0,U.chunk=function qm(d,p,b){p=(b?Xe(d,p,b):p===P)?1:or(Dn(p),0);var A=null==d?0:d.length;if(!A||p<1)return[];for(var F=0,G=0,Y=xe(ul(A/p));F<A;)Y[G++]=kr(d,F,F+=p);return Y},U.compact=function x0(d){for(var p=-1,b=null==d?0:d.length,A=0,F=[];++p<b;){var G=d[p];G&&(F[A++]=G)}return F},U.concat=function S0(){var d=arguments.length;if(!d)return[];for(var p=xe(d-1),b=arguments[0],A=d;A--;)p[A-1]=arguments[A];return mo(gn(b)?Ln(b):[b],nt(p,1))},U.cond=function iu(d){var p=null==d?0:d.length,b=Gt();return d=p?Ii(d,function(A){if("function"!=typeof A[1])throw new Cr(Ce);return[b(A[0]),A[1]]}):[],vn(function(A){for(var F=-1;++F<p;){var G=d[F];if(qr(G[0],this,A))return qr(G[1],this,A)}})},U.conforms=function F_(d){return function Cu(d){var p=ro(d);return function(b){return ir(b,d,p)}}(yr(d,1))},U.constant=$v,U.countBy=qo,U.create=function ob(d,p){var b=Fc(d);return null==p?b:bt(b,p)},U.curry=function $p(d,p,b){var A=jo(d,8,P,P,P,P,P,p=b?P:p);return A.placeholder=$p.placeholder,A},U.curryRight=function Sf(d,p,b){var A=jo(d,16,P,P,P,P,P,p=b?P:p);return A.placeholder=Sf.placeholder,A},U.debounce=sv,U.defaults=AD,U.defaultsDeep=D_,U.defer=Xc,U.delay=Y0,U.difference=qg,U.differenceBy=A0,U.differenceWith=vD,U.drop=function Zm(d,p,b){var A=null==d?0:d.length;return A?kr(d,(p=b||p===P?1:Dn(p))<0?0:p,A):[]},U.dropRight=function N0(d,p,b){var A=null==d?0:d.length;return A?kr(d,0,(p=A-(p=b||p===P?1:Dn(p)))<0?0:p):[]},U.dropRightWhile=function Ap(d,p){return d&&d.length?ql(d,Gt(p,3),!0,!0):[]},U.dropWhile=function O0(d,p){return d&&d.length?ql(d,Gt(p,3),!0):[]},U.fill=function Ym(d,p,b,A){var F=null==d?0:d.length;return F?(b&&"number"!=typeof b&&Xe(d,p,b)&&(b=0,A=F),function Ee(d,p,b,A){var F=d.length;for((b=Dn(b))<0&&(b=-b>F?0:F+b),(A=A===P||A>F?F:Dn(A))<0&&(A+=F),A=b>A?0:y_(A);b<A;)d[b++]=p;return d}(d,p,b,A)):[]},U.filter=function If(d,p){return(gn(d)?ei:We)(d,Gt(p,3))},U.flatMap=function z0(d,p){return nt(Eh(d,p),1)},U.flatMapDeep=function l_(d,p){return nt(Eh(d,p),Je)},U.flatMapDepth=function Th(d,p,b){return b=b===P?1:Dn(b),nt(Eh(d,p),b)},U.flatten=Kg,U.flattenDeep=function M0(d){return null!=d&&d.length?nt(d,Je):[]},U.flattenDepth=function Ls(d,p){return null!=d&&d.length?nt(d,p=p===P?1:Dn(p)):[]},U.flip=function ic(d){return jo(d,512)},U.flow=kE,U.flowRight=Eb,U.fromPairs=function Qg(d){for(var p=-1,b=null==d?0:d.length,A={};++p<b;){var F=d[p];A[F[0]]=F[1]}return A},U.functions=function Cv(d){return null==d?[]:gi(d,ro(d))},U.functionsIn=function ME(d){return null==d?[]:gi(d,Ha(d))},U.groupBy=u_,U.initial=function ys(d){return null!=d&&d.length?kr(d,0,-1):[]},U.intersection=Dh,U.intersectionBy=Km,U.intersectionWith=Qm,U.invert=RD,U.invertBy=FD,U.invokeMap=kp,U.iteratee=Gv,U.keyBy=nv,U.keys=ro,U.keysIn=Ha,U.map=Eh,U.mapKeys=function PE(d,p){var b={};return p=Gt(p,3),qt(d,function(A,F,G){Pr(b,p(A,F,G),A)}),b},U.mapValues=function Pd(d,p){var b={};return p=Gt(p,3),qt(d,function(A,F,G){Pr(b,F,p(A,F,G))}),b},U.matches=function xb(d){return fa(yr(d,1))},U.matchesProperty=function P_(d,p){return _p(d,yr(p,1))},U.memoize=Wu,U.merge=C_,U.mergeWith=Tv,U.method=BD,U.methodOf=VD,U.mixin=Fh,U.negate=xh,U.nthArg=function LE(d){return d=Dn(d),vn(function(p){return Eu(p,d)})},U.omit=cb,U.omitBy=function Ev(d,p){return I_(d,xh(Gt(p)))},U.once=function ov(d){return Vp(2,d)},U.orderBy=function iv(d,p,b,A){return null==d?[]:(gn(p)||(p=null==p?[]:[p]),gn(b=A?P:b)||(b=null==b?[]:[b]),ka(d,p,b))},U.over=L_,U.overArgs=Af,U.overEvery=BE,U.overSome=Hv,U.partial=an,U.partialRight=Gp,U.partition=d_,U.pick=ub,U.pickBy=I_,U.property=B_,U.propertyOf=function Sb(d){return function(p){return null==d?P:Wi(d,p)}},U.pull=P0,U.pullAll=Xg,U.pullAllBy=function Jm(d,p,b){return d&&d.length&&p&&p.length?Uo(d,p,Gt(b,2)):d},U.pullAllWith=function k0(d,p,b){return d&&d.length&&p&&p.length?Uo(d,p,P,b):d},U.pullAt=yD,U.range=Ab,U.rangeRight=V_,U.rearg=av,U.reject=function rv(d,p){return(gn(d)?ei:We)(d,xh(Gt(p,3)))},U.remove=function e_(d,p){var b=[];if(!d||!d.length)return b;var A=-1,F=[],G=d.length;for(p=Gt(p,3);++A<G;){var Y=d[A];p(Y,A,d)&&(b.push(Y),F.push(A))}return yp(d,F),b},U.rest=function Sh(d,p){if("function"!=typeof d)throw new Cr(Ce);return vn(d,p=p===P?p:Dn(p))},U.reverse=t_,U.sampleSize=function Ga(d,p,b){return p=(b?Xe(d,p,b):p===P)?1:Dn(p),(gn(d)?Uc:Su)(d,p)},U.set=function zu(d,p,b){return null==d?d:Au(d,p,b)},U.setWith=function hb(d,p,b,A){return A="function"==typeof A?A:P,null==d?d:Au(d,p,b,A)},U.shuffle=function Hu(d){return(gn(d)?$c:Gg)(d)},U.slice=function Md(d,p,b){var A=null==d?0:d.length;return A?(b&&"number"!=typeof b&&Xe(d,p,b)?(p=0,b=A):(p=null==p?0:Dn(p),b=b===P?A:Dn(b)),kr(d,p,b)):[]},U.sortBy=Fd,U.sortedUniq=function wD(d){return d&&d.length?bp(d):[]},U.sortedUniqBy=function nc(d,p){return d&&d.length?bp(d,Gt(p,2)):[]},U.split=function yb(d,p,b){return b&&"number"!=typeof b&&Xe(d,p,b)&&(p=b=P),(b=b===P?pt:b>>>0)?(d=si(d))&&("string"==typeof p||null!=p&&!Mf(p))&&!(p=Js(p))&&Ea(d)?Zl(ms(d),0,b):d.split(p,b):[]},U.spread=function lv(d,p){if("function"!=typeof d)throw new Cr(Ce);return p=null==p?0:or(Dn(p),0),vn(function(b){var A=b[p],F=Zl(b,0,p);return A&&mo(F,A),qr(d,this,F)})},U.tail=function Df(d){var p=null==d?0:d.length;return p?kr(d,1,p):[]},U.take=function Op(d,p,b){return d&&d.length?kr(d,0,(p=b||p===P?1:Dn(p))<0?0:p):[]},U.takeRight=function V0(d,p,b){var A=null==d?0:d.length;return A?kr(d,(p=A-(p=b||p===P?1:Dn(p)))<0?0:p,A):[]},U.takeRightWhile=function i_(d,p){return d&&d.length?ql(d,Gt(p,3),!1,!0):[]},U.takeWhile=function U0(d,p){return d&&d.length?ql(d,Gt(p,3)):[]},U.tap=function xD(d,p){return p(d),d},U.throttle=function h_(d,p,b){var A=!0,F=!0;if("function"!=typeof d)throw new Cr(Ce);return br(b)&&(A="leading"in b?!!b.leading:A,F="trailing"in b?!!b.trailing:F),sv(d,p,{leading:A,maxWait:p,trailing:F})},U.thru=Rp,U.toArray=v_,U.toPairs=xv,U.toPairsIn=Sv,U.toPath=function oc(d){return gn(d)?Ii(d,Va):no(d)?[d]:Ln(zm(si(d)))},U.toPlainObject=Ff,U.transform=function Av(d,p,b){var A=gn(d),F=A||tu(d)||io(d);if(p=Gt(p,4),null==b){var G=d&&d.constructor;b=F?A?new G:[]:br(d)&&rc(G)?Fc(Ms(d)):{}}return(F?os:qt)(d,function(Y,re,fe){return p(b,Y,re,fe)}),b},U.unary=function cv(d){return ju(d,1)},U.union=Ch,U.unionBy=$0,U.unionWith=Xm,U.uniq=function r_(d){return d&&d.length?Xs(d):[]},U.uniqBy=function Mp(d,p){return d&&d.length?Xs(d,Gt(p,2)):[]},U.uniqWith=function G0(d,p){return p="function"==typeof p?p:P,d&&d.length?Xs(d,P,p):[]},U.unset=function fb(d,p){return null==d||Go(d,p)},U.unzip=H0,U.unzipWith=Ih,U.update=function pb(d,p,b){return null==d?d:Wc(d,p,pf(b))},U.updateWith=function T_(d,p,b,A){return A="function"==typeof A?A:P,null==d?d:Wc(d,p,pf(b),A)},U.values=vl,U.valuesIn=function E_(d){return null==d?[]:Dc(d,Ha(d))},U.without=s_,U.words=R_,U.wrap=function uv(d,p){return an(pf(p),d)},U.xor=ev,U.xorBy=DD,U.xorWith=o_,U.zip=CD,U.zipObject=function ID(d,p){return lh(d||[],p||[],Fi)},U.zipObjectDeep=function TD(d,p){return lh(d||[],p||[],Au)},U.zipWith=ED,U.entries=xv,U.entriesIn=Sv,U.extend=Zp,U.extendWith=w_,Fh(U,U),U.add=Ld,U.attempt=Uv,U.camelCase=Nv,U.capitalize=S_,U.ceil=Ph,U.clamp=function Rh(d,p,b){return b===P&&(b=p,p=P),b!==P&&(b=(b=ml(b))==b?b:0),p!==P&&(p=(p=ml(p))==p?p:0),Ks(ml(d),p,b)},U.clone=function K0(d){return yr(d,4)},U.cloneDeep=function hv(d){return yr(d,5)},U.cloneDeepWith=function f_(d,p){return yr(d,5,p="function"==typeof p?p:P)},U.cloneWith=function Ah(d,p){return yr(d,4,p="function"==typeof p?p:P)},U.conformsTo=function p_(d,p){return null==p||ir(d,p,ro(p))},U.deburr=Kp,U.defaultTo=function LD(d,p){return null==d||d!=d?p:d},U.divide=UD,U.endsWith=function A_(d,p,b){d=si(d),p=Js(p);var A=d.length,F=b=b===P?A:Ks(Dn(b),0,A);return(b-=p.length)>=0&&d.slice(b,F)==p},U.eq=bs,U.escape=function Ov(d){return(d=si(d))&&ut.test(d)?d.replace(ie,od):d},U.escapeRegExp=function N_(d){return(d=si(d))&&Di.test(d)?d.replace(ai,"\\$&"):d},U.every=function Fp(d,p,b){var A=gn(d)?mc:q;return b&&Xe(d,p,b)&&(p=P),A(d,Gt(p,3))},U.find=Tf,U.findIndex=Zg,U.findKey=function ND(d,p){return mn(d,Gt(p,3),qt)},U.findLast=Gu,U.findLastIndex=Yg,U.findLastKey=function ab(d,p){return mn(d,Gt(p,3),Ut)},U.floor=VE,U.forEach=c_,U.forEachRight=Ef,U.forIn=function OD(d,p){return null==d?d:Vt(d,Gt(p,3),Ha)},U.forInRight=function wv(d,p){return null==d?d:Ht(d,Gt(p,3),Ha)},U.forOwn=function Dv(d,p){return d&&qt(d,Gt(p,3))},U.forOwnRight=function MD(d,p){return d&&Ut(d,Gt(p,3))},U.get=lb,U.gt=fv,U.gte=Nf,U.has=function RE(d,p){return null!=d&&_(d,p,zl)},U.hasIn=Iv,U.head=wf,U.identity=ma,U.includes=function Pp(d,p,b,A){d=ga(d)?d:vl(d),b=b&&!A?Dn(b):0;var F=d.length;return b<0&&(b=or(F+b,0)),Rf(d)?b<=F&&d.indexOf(p,b)>-1:!!F&&sa(d,p,b)>-1},U.indexOf=function Jg(d,p,b){var A=null==d?0:d.length;if(!A)return-1;var F=null==b?0:Dn(b);return F<0&&(F=or(A+F,0)),sa(d,p,F)},U.inRange=function x_(d,p,b){return p=sc(p),b===P?(b=p,p=0):b=sc(b),function Fa(d,p,b){return d>=tr(p,b)&&d<or(p,b)}(d=ml(d),p,b)},U.invoke=FE,U.isArguments=eu,U.isArray=gn,U.isArrayBuffer=SD,U.isArrayLike=ga,U.isArrayLikeObject=Yr,U.isBoolean=function Of(d){return!0===d||!1===d||Er(d)&&ur(d)==Qt},U.isBuffer=tu,U.isDate=pv,U.isElement=function Q0(d){return Er(d)&&1===d.nodeType&&!zp(d)},U.isEmpty=function Nh(d){if(null==d)return!0;if(ga(d)&&(gn(d)||"string"==typeof d||"function"==typeof d.splice||tu(d)||io(d)||eu(d)))return!d.length;var p=Br(d);if(p==hi||p==Cn)return!d.size;if(Ba(d))return!dr(d).length;for(var b in d)if(ti.call(d,b))return!1;return!0},U.isEqual=function J0(d,p){return Gc(d,p)},U.isEqualWith=function gv(d,p,b){var A=(b="function"==typeof b?b:P)?b(d,p):P;return A===P?Gc(d,p,P,b):!!A},U.isError=Oh,U.isFinite=function X0(d){return"number"==typeof d&&bu(d)},U.isFunction=rc,U.isInteger=_v,U.isLength=Hp,U.isMap=mv,U.isMatch=function vv(d,p){return d===p||pp(d,p,vf(p))},U.isMatchWith=function eb(d,p,b){return b="function"==typeof b?b:P,pp(d,p,vf(p),b)},U.isNaN=function tb(d){return Wp(d)&&d!=+d},U.isNative=function nb(d){if(to(d))throw new Yt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tu(d)},U.isNil=function ib(d){return null==d},U.isNull=function jp(d){return null===d},U.isNumber=Wp,U.isObject=br,U.isObjectLike=Er,U.isPlainObject=zp,U.isRegExp=Mf,U.isSafeInteger=function Mh(d){return _v(d)&&d>=-Mt&&d<=Mt},U.isSet=g_,U.isString=Rf,U.isSymbol=no,U.isTypedArray=io,U.isUndefined=function yv(d){return d===P},U.isWeakMap=function bv(d){return Er(d)&&Br(d)==wi},U.isWeakSet=function __(d){return Er(d)&&"[object WeakSet]"==ur(d)},U.join=function R0(d,p){return null==d?"":dl.call(d,p)},U.kebabCase=gb,U.last=Wo,U.lastIndexOf=function F0(d,p,b){var A=null==d?0:d.length;if(!A)return-1;var F=A;return b!==P&&(F=(F=Dn(b))<0?or(A+F,0):tr(F,A-1)),p==p?function rl(de,Ve,xe){for(var Ct=xe+1;Ct--;)if(de[Ct]===Ve)return Ct;return Ct}(d,p,F):tl(d,yc,F,!0)},U.lowerCase=PD,U.lowerFirst=_b,U.lt=nu,U.lte=m_,U.max=function $D(d){return d&&d.length?he(d,ma,da):P},U.maxBy=function GD(d,p){return d&&d.length?he(d,Gt(p,2),da):P},U.mean=function kh(d){return nl(d,ma)},U.meanBy=function Ob(d,p){return nl(d,Gt(p,2))},U.min=function HD(d){return d&&d.length?he(d,ma,Pi):P},U.minBy=function jv(d,p){return d&&d.length?he(d,Gt(p,2),Pi):P},U.stubArray=yl,U.stubFalse=kf,U.stubObject=function kd(){return{}},U.stubString=function Qp(){return""},U.stubTrue=function Nb(){return!0},U.multiply=Jp,U.nth=function Np(d,p){return d&&d.length?Eu(d,Dn(p)):P},U.noConflict=function k_(){return Gn._===this&&(Gn._=Sc),this},U.noop=Pf,U.now=_l,U.pad=function Mv(d,p,b){d=si(d);var A=(p=Dn(p))?Zs(d):0;if(!p||A>=p)return d;var F=(p-A)/2;return fh(bo(F),b)+d+fh(ul(F),b)},U.padEnd=function mb(d,p,b){d=si(d);var A=(p=Dn(p))?Zs(d):0;return p&&A<p?d+fh(p-A,b):d},U.padStart=function Rv(d,p,b){d=si(d);var A=(p=Dn(p))?Zs(d):0;return p&&A<p?fh(p-A,b)+d:d},U.parseInt=function Fv(d,p,b){return b||null==p?p=0:p&&(p=+p),hd(si(d).replace(us,""),p||0)},U.random=function Yp(d,p,b){if(b&&"boolean"!=typeof b&&Xe(d,p,b)&&(p=b=P),b===P&&("boolean"==typeof p?(b=p,p=P):"boolean"==typeof d&&(b=d,d=P)),d===P&&p===P?(d=0,p=1):(d=sc(d),p===P?(p=d,d=0):p=sc(p)),d>p){var A=d;d=p,p=A}if(b||d%1||p%1){var F=Mc();return tr(d+F*(p-d+zs("1e-"+((F+"").length-1))),p)}return xu(d,p)},U.reduce=function xf(d,p,b){var A=gn(d)?Rl:Fl,F=arguments.length<3;return A(d,Gt(p,4),b,F,N)},U.reduceRight=function q0(d,p,b){var A=gn(d)?id:Fl,F=arguments.length<3;return A(d,Gt(p,4),b,F,k)},U.repeat=function vb(d,p,b){return p=(b?Xe(d,p,b):p===P)?1:Dn(p),Do(si(d),p)},U.replace=function _a(){var d=arguments,p=si(d[0]);return d.length<3?p:p.replace(d[1],d[2])},U.result=function db(d,p,b){var A=-1,F=(p=pa(p,d)).length;for(F||(F=1,d=P);++A<F;){var G=null==d?P:d[Va(p[A])];G===P&&(A=F,G=b),d=rc(G)?G.call(d):G}return d},U.round=Mb,U.runInContext=de,U.sample=function Z0(d){return(gn(d)?lf:$o)(d)},U.size=function Zo(d){if(null==d)return 0;if(ga(d))return Rf(d)?Zs(d):d.length;var p=Br(d);return p==hi||p==Cn?d.size:dr(d).length},U.snakeCase=Pv,U.some=function Lp(d,p,b){var A=gn(d)?vo:Hg;return b&&Xe(d,p,b)&&(p=P),A(d,Gt(p,3))},U.sortedIndex=function tc(d,p){return Ni(d,p)},U.sortedIndexBy=function Rd(d,p,b){return La(d,p,Gt(b,2))},U.sortedIndexOf=function L0(d,p){var b=null==d?0:d.length;if(b){var A=Ni(d,p);if(A<b&&bs(d[A],p))return A}return-1},U.sortedLastIndex=function B0(d,p){return Ni(d,p,!0)},U.sortedLastIndexBy=function bD(d,p,b){return La(d,p,Gt(b,2),!0)},U.sortedLastIndexOf=function n_(d,p){if(null!=d&&d.length){var A=Ni(d,p,!0)-1;if(bs(d[A],p))return A}return-1},U.startCase=kv,U.startsWith=function bb(d,p,b){return d=si(d),b=null==b?0:Ks(Dn(b),0,d.length),p=Js(p),d.slice(b,b+p.length)==p},U.subtract=$_,U.sum=function Bf(d){return d&&d.length?bc(d,ma):0},U.sumBy=function To(d,p){return d&&d.length?bc(d,Gt(p,2)):0},U.template=function O_(d,p,b){var A=U.templateSettings;b&&Xe(d,p,b)&&(p=P),d=si(d),p=w_({},p,A,Kl);var re,fe,F=w_({},p.imports,A.imports,Kl),G=ro(F),Y=Dc(F,G),je=0,qe=p.interpolate||So,Qe="__p += '",mt=Po((p.escape||So).source+"|"+qe.source+"|"+(qe===kn?Yi:So).source+"|"+(p.evaluate||So).source+"|$","g"),Lt="//# sourceURL="+(ti.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qa+"]")+"\n";d.replace(mt,function(Jt,sn,Nn,sr,Ur,xr){return Nn||(Nn=sr),Qe+=d.slice(je,xr).replace(Ws,gu),sn&&(re=!0,Qe+="' +\n__e("+sn+") +\n'"),Ur&&(fe=!0,Qe+="';\n"+Ur+";\n__p += '"),Nn&&(Qe+="' +\n((__t = ("+Nn+")) == null ? '' : __t) +\n'"),je=xr+Jt.length,Jt}),Qe+="';\n";var Rt=ti.call(p,"variable")&&p.variable;if(Rt){if(ds.test(Rt))throw new Yt("Invalid `variable` option passed into `_.template`")}else Qe="with (obj) {\n"+Qe+"\n}\n";Qe=(fe?Qe.replace(oe,""):Qe).replace(te,"$1").replace(K,"$1;"),Qe="function("+(Rt||"obj")+") {\n"+(Rt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(re?", __e = _.escape":"")+(fe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Qe+"return __p\n}";var hn=Uv(function(){return Hn(G,Lt+"return "+Qe).apply(P,Y)});if(hn.source=Qe,Oh(hn))throw hn;return hn},U.times=function Lf(d,p){if((d=Dn(d))<1||d>Mt)return[];var b=pt,A=tr(d,pt);p=Gt(p),d-=pt;for(var F=pu(A,p);++b<d;)p(b);return F},U.toFinite=sc,U.toInteger=Dn,U.toLength=y_,U.toLower=function Lv(d){return si(d).toLowerCase()},U.toNumber=ml,U.toSafeInteger=function qp(d){return d?Ks(Dn(d),-Mt,Mt):0===d?d:0},U.toString=si,U.toUpper=function wb(d){return si(d).toUpperCase()},U.trim=function Db(d,p,b){if((d=si(d))&&(b||p===P))return Hi(d);if(!d||!(p=Js(p)))return d;var A=ms(d),F=ms(p);return Zl(A,Ro(A,F),sf(A,F)+1).join("")},U.trimEnd=function Cb(d,p,b){if((d=si(d))&&(b||p===P))return d.slice(0,vr(d)+1);if(!d||!(p=Js(p)))return d;var A=ms(d);return Zl(A,0,sf(A,ms(p))+1).join("")},U.trimStart=function Bv(d,p,b){if((d=si(d))&&(b||p===P))return d.replace(us,"");if(!d||!(p=Js(p)))return d;var A=ms(d);return Zl(A,Ro(A,ms(p))).join("")},U.truncate=function Ib(d,p){var b=30,A="...";if(br(p)){var F="separator"in p?p.separator:F;b="length"in p?Dn(p.length):b,A="omission"in p?Js(p.omission):A}var G=(d=si(d)).length;if(Ea(d)){var Y=ms(d);G=Y.length}if(b>=G)return d;var re=b-Zs(A);if(re<1)return A;var fe=Y?Zl(Y,0,re).join(""):d.slice(0,re);if(F===P)return fe+A;if(Y&&(re+=fe.length-re),Mf(F)){if(d.slice(re).search(F)){var je,qe=fe;for(F.global||(F=Po(F.source,si(fo.exec(F))+"g")),F.lastIndex=0;je=F.exec(qe);)var Qe=je.index;fe=fe.slice(0,Qe===P?re:Qe)}}else if(d.indexOf(Js(F),re)!=re){var mt=fe.lastIndexOf(F);mt>-1&&(fe=fe.slice(0,mt))}return fe+A},U.unescape=function Vv(d){return(d=si(d))&&ze.test(d)?d.replace(ne,Os):d},U.uniqueId=function U_(d){var p=++Bl;return si(d)+p},U.upperCase=Tb,U.upperFirst=M_,U.each=c_,U.eachRight=Ef,U.first=wf,Fh(U,function(){var d={};return qt(U,function(p,b){ti.call(U.prototype,b)||(d[b]=p)}),d}(),{chain:!1}),U.VERSION="4.17.21",os(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){U[d].placeholder=U}),os(["drop","take"],function(d,p){wn.prototype[d]=function(b){b=b===P?1:or(Dn(b),0);var A=this.__filtered__&&!p?new wn(this):this.clone();return A.__filtered__?A.__takeCount__=tr(b,A.__takeCount__):A.__views__.push({size:tr(b,pt),type:d+(A.__dir__<0?"Right":"")}),A},wn.prototype[d+"Right"]=function(b){return this.reverse()[d](b).reverse()}}),os(["filter","map","takeWhile"],function(d,p){var b=p+1,A=1==b||3==b;wn.prototype[d]=function(F){var G=this.clone();return G.__iteratees__.push({iteratee:Gt(F,3),type:b}),G.__filtered__=G.__filtered__||A,G}}),os(["head","last"],function(d,p){var b="take"+(p?"Right":"");wn.prototype[d]=function(){return this[b](1).value()[0]}}),os(["initial","tail"],function(d,p){var b="drop"+(p?"":"Right");wn.prototype[d]=function(){return this.__filtered__?new wn(this):this[b](1)}}),wn.prototype.compact=function(){return this.filter(ma)},wn.prototype.find=function(d){return this.filter(d).head()},wn.prototype.findLast=function(d){return this.reverse().find(d)},wn.prototype.invokeMap=vn(function(d,p){return"function"==typeof d?new wn(this):this.map(function(b){return gl(b,d,p)})}),wn.prototype.reject=function(d){return this.filter(xh(Gt(d)))},wn.prototype.slice=function(d,p){d=Dn(d);var b=this;return b.__filtered__&&(d>0||p<0)?new wn(b):(d<0?b=b.takeRight(-d):d&&(b=b.drop(d)),p!==P&&(b=(p=Dn(p))<0?b.dropRight(-p):b.take(p-d)),b)},wn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},wn.prototype.toArray=function(){return this.take(pt)},qt(wn.prototype,function(d,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),A=/^(?:head|last)$/.test(p),F=U[A?"take"+("last"==p?"Right":""):p],G=A||/^find/.test(p);!F||(U.prototype[p]=function(){var Y=this.__wrapped__,re=A?[1]:arguments,fe=Y instanceof wn,je=re[0],qe=fe||gn(Y),Qe=function(sn){var Nn=F.apply(U,mo([sn],re));return A&&mt?Nn[0]:Nn};qe&&b&&"function"==typeof je&&1!=je.length&&(fe=qe=!1);var mt=this.__chain__,Lt=!!this.__actions__.length,Rt=G&&!mt,hn=fe&&!Lt;if(!G&&qe){Y=hn?Y:new wn(this);var Jt=d.apply(Y,re);return Jt.__actions__.push({func:Rp,args:[Qe],thisArg:P}),new Ys(Jt,mt)}return Rt&&hn?d.apply(this,re):(Jt=this.thru(Qe),Rt?A?Jt.value()[0]:Jt.value():Jt)})}),os(["pop","push","shift","sort","splice","unshift"],function(d){var p=sl[d],b=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",A=/^(?:pop|shift)$/.test(d);U.prototype[d]=function(){var F=arguments;if(A&&!this.__chain__){var G=this.value();return p.apply(gn(G)?G:[],F)}return this[b](function(Y){return p.apply(gn(Y)?Y:[],F)})}}),qt(wn.prototype,function(d,p){var b=U[p];if(b){var A=b.name+"";ti.call(Ir,A)||(Ir[A]=[]),Ir[A].push({name:p,func:b})}}),Ir[Fu(P,2).name]=[{name:"wrapper",func:P}],wn.prototype.clone=function eh(){var d=new wn(this.__wrapped__);return d.__actions__=Ln(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Ln(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Ln(this.__views__),d},wn.prototype.reverse=function Ug(){if(this.__filtered__){var d=new wn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},wn.prototype.value=function Pc(){var d=this.__wrapped__.value(),p=this.__dir__,b=gn(d),A=p<0,F=b?d.length:0,G=function Ad(d,p,b){for(var A=-1,F=b.length;++A<F;){var G=b[A],Y=G.size;switch(G.type){case"drop":d+=Y;break;case"dropRight":p-=Y;break;case"take":p=tr(p,d+Y);break;case"takeRight":d=or(d,p-Y)}}return{start:d,end:p}}(0,F,this.__views__),Y=G.start,re=G.end,fe=re-Y,je=A?re:Y-1,qe=this.__iteratees__,Qe=qe.length,mt=0,Lt=tr(fe,this.__takeCount__);if(!b||!A&&F==fe&&Lt==fe)return ah(d,this.__actions__);var Rt=[];e:for(;fe--&&mt<Lt;){for(var hn=-1,Jt=d[je+=p];++hn<Qe;){var sn=qe[hn],sr=sn.type,Ur=(0,sn.iteratee)(Jt);if(2==sr)Jt=Ur;else if(!Ur){if(1==sr)continue e;break e}}Rt[mt++]=Jt}return Rt},U.prototype.at=a_,U.prototype.chain=function Cf(){return j0(this)},U.prototype.commit=function Ua(){return new Ys(this.value(),this.__chain__)},U.prototype.next=function W0(){this.__values__===P&&(this.__values__=v_(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?P:this.__values__[this.__index__++]}},U.prototype.plant=function zo(d){for(var p,b=this;b instanceof jl;){var A=Od(b);A.__index__=0,A.__values__=P,p?F.__wrapped__=A:p=A;var F=A;b=b.__wrapped__}return F.__wrapped__=d,p},U.prototype.reverse=function $a(){var d=this.__wrapped__;if(d instanceof wn){var p=d;return this.__actions__.length&&(p=new wn(this)),(p=p.reverse()).__actions__.push({func:Rp,args:[t_],thisArg:P}),new Ys(p,this.__chain__)}return this.thru(t_)},U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=function Bs(){return ah(this.__wrapped__,this.__actions__)},U.prototype.first=U.prototype.head,Si&&(U.prototype[Si]=function tv(){return this}),U}();Gn._=Ll,(c=function(){return Ll}.call(Ge,j,Ge,At))!==P&&(At.exports=c)}.call(this)},9751:(At,Ge,j)=>{"use strict";j.d(Ge,{y:()=>Ne});var c=j(930),P=j(727),W=j(8822),be=j(9635),ge=j(2416),Ce=j(576),Ie=j(2806);let Ne=(()=>{class ue{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Le=new ue;return Le.source=this,Le.operator=Ue,Le}subscribe(Ue,Le,ht){const Oe=function X(ue){return ue&&ue instanceof c.Lv||function J(ue){return ue&&(0,Ce.m)(ue.next)&&(0,Ce.m)(ue.error)&&(0,Ce.m)(ue.complete)}(ue)&&(0,P.Nn)(ue)}(Ue)?Ue:new c.Hp(Ue,Le,ht);return(0,Ie.x)(()=>{const{operator:Me,source:at}=this;Oe.add(Me?Me.call(Oe,at):at?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Le){Ue.error(Le)}}forEach(Ue,Le){return new(Le=Ae(Le))((ht,Oe)=>{const Me=new c.Hp({next:at=>{try{Ue(at)}catch(xt){Oe(xt),Me.unsubscribe()}},error:Oe,complete:ht});this.subscribe(Me)})}_subscribe(Ue){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ue)}[W.L](){return this}pipe(...Ue){return(0,be.U)(Ue)(this)}toPromise(Ue){return new(Ue=Ae(Ue))((Le,ht)=>{let Oe;this.subscribe(Me=>Oe=Me,Me=>ht(Me),()=>Le(Oe))})}}return ue.create=tt=>new ue(tt),ue})();function Ae(ue){var tt;return null!==(tt=ue??ge.v.Promise)&&void 0!==tt?tt:Promise}},7579:(At,Ge,j)=>{"use strict";j.d(Ge,{x:()=>Ie});var c=j(9751),P=j(727);const be=(0,j(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=j(8737),Ce=j(2806);let Ie=(()=>{class Ae extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const ue=new Ne(this,this);return ue.operator=X,ue}_throwIfClosed(){if(this.closed)throw new be}next(X){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(X)}})}error(X){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:ue}=this;for(;ue.length;)ue.shift().error(X)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:ue,isStopped:tt,observers:Ue}=this;return ue||tt?P.Lc:(this.currentObservers=null,Ue.push(X),new P.w0(()=>{this.currentObservers=null,(0,ge.P)(Ue,X)}))}_checkFinalizedStatuses(X){const{hasError:ue,thrownError:tt,isStopped:Ue}=this;ue?X.error(tt):Ue&&X.complete()}asObservable(){const X=new c.y;return X.source=this,X}}return Ae.create=(J,X)=>new Ne(J,X),Ae})();class Ne extends Ie{constructor(J,X){super(),this.destination=J,this.source=X}next(J){var X,ue;null===(ue=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===ue||ue.call(X,J)}error(J){var X,ue;null===(ue=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===ue||ue.call(X,J)}complete(){var J,X;null===(X=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===X||X.call(J)}_subscribe(J){var X,ue;return null!==(ue=null===(X=this.source)||void 0===X?void 0:X.subscribe(J))&&void 0!==ue?ue:P.Lc}}},930:(At,Ge,j)=>{"use strict";j.d(Ge,{Hp:()=>ht,Lv:()=>ue});var c=j(576),P=j(727),W=j(2416),be=j(7849),ge=j(5032);const Ce=Ae("C",void 0,void 0);function Ae(He,Pe,ke){return{kind:He,value:Pe,error:ke}}var J=j(3410),X=j(2806);class ue extends P.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,P.Nn)(Pe)&&Pe.add(this)):this.destination=xt}static create(Pe,ke,st){return new ht(Pe,ke,st)}next(Pe){this.isStopped?at(function Ne(He){return Ae("N",He,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?at(function Ie(He){return Ae("E",void 0,He)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?at(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Ue(He,Pe){return tt.call(He,Pe)}class Le{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Pe)}catch(st){Oe(st)}}error(Pe){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Pe)}catch(st){Oe(st)}else Oe(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(ke){Oe(ke)}}}class ht extends ue{constructor(Pe,ke,st){let ft;if(super(),(0,c.m)(Pe)||!Pe)ft={next:Pe??void 0,error:ke??void 0,complete:st??void 0};else{let Q;this&&W.v.useDeprecatedNextContext?(Q=Object.create(Pe),Q.unsubscribe=()=>this.unsubscribe(),ft={next:Pe.next&&Ue(Pe.next,Q),error:Pe.error&&Ue(Pe.error,Q),complete:Pe.complete&&Ue(Pe.complete,Q)}):ft=Pe}this.destination=new Le(ft)}}function Oe(He){W.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(He):(0,be.h)(He)}function at(He,Pe){const{onStoppedNotification:ke}=W.v;ke&&J.z.setTimeout(()=>ke(He,Pe))}const xt={closed:!0,next:ge.Z,error:function Me(He){throw He},complete:ge.Z}},727:(At,Ge,j)=>{"use strict";j.d(Ge,{Lc:()=>Ce,w0:()=>ge,Nn:()=>Ie});var c=j(576);const W=(0,j(3888).d)(Ae=>function(X){Ae(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((ue,tt)=>`${tt+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var be=j(8737);class ge{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Ue of X)Ue.remove(this);else X.remove(this);const{initialTeardown:ue}=this;if((0,c.m)(ue))try{ue()}catch(Ue){J=Ue instanceof W?Ue.errors:[Ue]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Ue of tt)try{Ne(Ue)}catch(Le){J=J??[],Le instanceof W?J=[...J,...Le.errors]:J.push(Le)}}if(J)throw new W(J)}}add(J){var X;if(J&&J!==this)if(this.closed)Ne(J);else{if(J instanceof ge){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(J)}}_hasParent(J){const{_parentage:X}=this;return X===J||Array.isArray(X)&&X.includes(J)}_addParent(J){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(J),X):X?[X,J]:J}_removeParent(J){const{_parentage:X}=this;X===J?this._parentage=null:Array.isArray(X)&&(0,be.P)(X,J)}remove(J){const{_finalizers:X}=this;X&&(0,be.P)(X,J),J instanceof ge&&J._removeParent(this)}}ge.EMPTY=(()=>{const Ae=new ge;return Ae.closed=!0,Ae})();const Ce=ge.EMPTY;function Ie(Ae){return Ae instanceof ge||Ae&&"closed"in Ae&&(0,c.m)(Ae.remove)&&(0,c.m)(Ae.add)&&(0,c.m)(Ae.unsubscribe)}function Ne(Ae){(0,c.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(At,Ge,j)=>{"use strict";j.d(Ge,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(At,Ge,j)=>{"use strict";j.d(Ge,{E:()=>P});const P=new(j(9751).y)(ge=>ge.complete())},8996:(At,Ge,j)=>{"use strict";j.d(Ge,{D:()=>Pe});var c=j(8421),P=j(5363),W=j(9468),Ce=j(9751),Ne=j(2202),Ae=j(576),J=j(9672);function ue(ke,st){if(!ke)throw new Error("Iterable cannot be null");return new Ce.y(ft=>{(0,J.f)(ft,st,()=>{const Q=ke[Symbol.asyncIterator]();(0,J.f)(ft,st,()=>{Q.next().then(Re=>{Re.done?ft.complete():ft.next(Re.value)})},0,!0)})})}var tt=j(3670),Ue=j(8239),Le=j(1144),ht=j(6495),Oe=j(2206),Me=j(4532),at=j(3260);function Pe(ke,st){return st?function He(ke,st){if(null!=ke){if((0,tt.c)(ke))return function be(ke,st){return(0,c.Xf)(ke).pipe((0,W.R)(st),(0,P.Q)(st))}(ke,st);if((0,Le.z)(ke))return function Ie(ke,st){return new Ce.y(ft=>{let Q=0;return st.schedule(function(){Q===ke.length?ft.complete():(ft.next(ke[Q++]),ft.closed||this.schedule())})})}(ke,st);if((0,Ue.t)(ke))return function ge(ke,st){return(0,c.Xf)(ke).pipe((0,W.R)(st),(0,P.Q)(st))}(ke,st);if((0,Oe.D)(ke))return ue(ke,st);if((0,ht.T)(ke))return function X(ke,st){return new Ce.y(ft=>{let Q;return(0,J.f)(ft,st,()=>{Q=ke[Ne.h](),(0,J.f)(ft,st,()=>{let Re,ae;try{({value:Re,done:ae}=Q.next())}catch(pe){return void ft.error(pe)}ae?ft.complete():ft.next(Re)},0,!0)}),()=>(0,Ae.m)(Q?.return)&&Q.return()})}(ke,st);if((0,at.L)(ke))return function xt(ke,st){return ue((0,at.Q)(ke),st)}(ke,st)}throw(0,Me.z)(ke)}(ke,st):(0,c.Xf)(ke)}},8421:(At,Ge,j)=>{"use strict";j.d(Ge,{Xf:()=>tt});var c=j(655),P=j(1144),W=j(8239),be=j(9751),ge=j(3670),Ce=j(2206),Ie=j(4532),Ne=j(6495),Ae=j(3260),J=j(576),X=j(7849),ue=j(8822);function tt(He){if(He instanceof be.y)return He;if(null!=He){if((0,ge.c)(He))return function Ue(He){return new be.y(Pe=>{const ke=He[ue.L]();if((0,J.m)(ke.subscribe))return ke.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,P.z)(He))return function Le(He){return new be.y(Pe=>{for(let ke=0;ke<He.length&&!Pe.closed;ke++)Pe.next(He[ke]);Pe.complete()})}(He);if((0,W.t)(He))return function ht(He){return new be.y(Pe=>{He.then(ke=>{Pe.closed||(Pe.next(ke),Pe.complete())},ke=>Pe.error(ke)).then(null,X.h)})}(He);if((0,Ce.D)(He))return Me(He);if((0,Ne.T)(He))return function Oe(He){return new be.y(Pe=>{for(const ke of He)if(Pe.next(ke),Pe.closed)return;Pe.complete()})}(He);if((0,Ae.L)(He))return function at(He){return Me((0,Ae.Q)(He))}(He)}throw(0,Ie.z)(He)}function Me(He){return new be.y(Pe=>{(function xt(He,Pe){var ke,st,ft,Q;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ke=(0,c.KL)(He);!(st=yield ke.next()).done;)if(Pe.next(st.value),Pe.closed)return}catch(Re){ft={error:Re}}finally{try{st&&!st.done&&(Q=ke.return)&&(yield Q.call(ke))}finally{if(ft)throw ft.error}}Pe.complete()})})(He,Pe).catch(ke=>Pe.error(ke))})}},6451:(At,Ge,j)=>{"use strict";j.d(Ge,{T:()=>Ce});var c=j(8189),P=j(8421),W=j(515),be=j(3269),ge=j(8996);function Ce(...Ie){const Ne=(0,be.yG)(Ie),Ae=(0,be._6)(Ie,1/0),J=Ie;return J.length?1===J.length?(0,P.Xf)(J[0]):(0,c.J)(Ae)((0,ge.D)(J,Ne)):W.E}},5403:(At,Ge,j)=>{"use strict";j.d(Ge,{x:()=>P});var c=j(930);function P(be,ge,Ce,Ie,Ne){return new W(be,ge,Ce,Ie,Ne)}class W extends c.Lv{constructor(ge,Ce,Ie,Ne,Ae,J){super(ge),this.onFinalize=Ae,this.shouldUnsubscribe=J,this._next=Ce?function(X){try{Ce(X)}catch(ue){ge.error(ue)}}:super._next,this._error=Ne?function(X){try{Ne(X)}catch(ue){ge.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(X){ge.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(At,Ge,j)=>{"use strict";j.d(Ge,{U:()=>W});var c=j(4482),P=j(5403);function W(be,ge){return(0,c.e)((Ce,Ie)=>{let Ne=0;Ce.subscribe((0,P.x)(Ie,Ae=>{Ie.next(be.call(ge,Ae,Ne++))}))})}},8189:(At,Ge,j)=>{"use strict";j.d(Ge,{J:()=>W});var c=j(5577),P=j(4671);function W(be=1/0){return(0,c.z)(P.y,be)}},5577:(At,Ge,j)=>{"use strict";j.d(Ge,{z:()=>Ne});var c=j(4004),P=j(8421),W=j(4482),be=j(9672),ge=j(5403),Ie=j(576);function Ne(Ae,J,X=1/0){return(0,Ie.m)(J)?Ne((ue,tt)=>(0,c.U)((Ue,Le)=>J(ue,Ue,tt,Le))((0,P.Xf)(Ae(ue,tt))),X):("number"==typeof J&&(X=J),(0,W.e)((ue,tt)=>function Ce(Ae,J,X,ue,tt,Ue,Le,ht){const Oe=[];let Me=0,at=0,xt=!1;const He=()=>{xt&&!Oe.length&&!Me&&J.complete()},Pe=st=>Me<ue?ke(st):Oe.push(st),ke=st=>{Ue&&J.next(st),Me++;let ft=!1;(0,P.Xf)(X(st,at++)).subscribe((0,ge.x)(J,Q=>{tt?.(Q),Ue?Pe(Q):J.next(Q)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Me--;Oe.length&&Me<ue;){const Q=Oe.shift();Le?(0,be.f)(J,Le,()=>ke(Q)):ke(Q)}He()}catch(Q){J.error(Q)}}))};return Ae.subscribe((0,ge.x)(J,Pe,()=>{xt=!0,He()})),()=>{ht?.()}}(ue,tt,Ae,X)))}},5363:(At,Ge,j)=>{"use strict";j.d(Ge,{Q:()=>be});var c=j(9672),P=j(4482),W=j(5403);function be(ge,Ce=0){return(0,P.e)((Ie,Ne)=>{Ie.subscribe((0,W.x)(Ne,Ae=>(0,c.f)(Ne,ge,()=>Ne.next(Ae),Ce),()=>(0,c.f)(Ne,ge,()=>Ne.complete(),Ce),Ae=>(0,c.f)(Ne,ge,()=>Ne.error(Ae),Ce)))})}},3099:(At,Ge,j)=>{"use strict";j.d(Ge,{B:()=>ge});var c=j(8421),P=j(7579),W=j(930),be=j(4482);function ge(Ie={}){const{connector:Ne=(()=>new P.x),resetOnError:Ae=!0,resetOnComplete:J=!0,resetOnRefCountZero:X=!0}=Ie;return ue=>{let tt,Ue,Le,ht=0,Oe=!1,Me=!1;const at=()=>{Ue?.unsubscribe(),Ue=void 0},xt=()=>{at(),tt=Le=void 0,Oe=Me=!1},He=()=>{const Pe=tt;xt(),Pe?.unsubscribe()};return(0,be.e)((Pe,ke)=>{ht++,!Me&&!Oe&&at();const st=Le=Le??Ne();ke.add(()=>{ht--,0===ht&&!Me&&!Oe&&(Ue=Ce(He,X))}),st.subscribe(ke),!tt&&ht>0&&(tt=new W.Hp({next:ft=>st.next(ft),error:ft=>{Me=!0,at(),Ue=Ce(xt,Ae,ft),st.error(ft)},complete:()=>{Oe=!0,at(),Ue=Ce(xt,J),st.complete()}}),(0,c.Xf)(Pe).subscribe(tt))})(ue)}}function Ce(Ie,Ne,...Ae){if(!0===Ne)return void Ie();if(!1===Ne)return;const J=new W.Hp({next:()=>{J.unsubscribe(),Ie()}});return Ne(...Ae).subscribe(J)}},9468:(At,Ge,j)=>{"use strict";j.d(Ge,{R:()=>P});var c=j(4482);function P(W,be=0){return(0,c.e)((ge,Ce)=>{Ce.add(W.schedule(()=>ge.subscribe(Ce),be))})}},8505:(At,Ge,j)=>{"use strict";j.d(Ge,{b:()=>ge});var c=j(576),P=j(4482),W=j(5403),be=j(4671);function ge(Ce,Ie,Ne){const Ae=(0,c.m)(Ce)||Ie||Ne?{next:Ce,error:Ie,complete:Ne}:Ce;return Ae?(0,P.e)((J,X)=>{var ue;null===(ue=Ae.subscribe)||void 0===ue||ue.call(Ae);let tt=!0;J.subscribe((0,W.x)(X,Ue=>{var Le;null===(Le=Ae.next)||void 0===Le||Le.call(Ae,Ue),X.next(Ue)},()=>{var Ue;tt=!1,null===(Ue=Ae.complete)||void 0===Ue||Ue.call(Ae),X.complete()},Ue=>{var Le;tt=!1,null===(Le=Ae.error)||void 0===Le||Le.call(Ae,Ue),X.error(Ue)},()=>{var Ue,Le;tt&&(null===(Ue=Ae.unsubscribe)||void 0===Ue||Ue.call(Ae)),null===(Le=Ae.finalize)||void 0===Le||Le.call(Ae)}))}):be.y}},4408:(At,Ge,j)=>{"use strict";j.d(Ge,{o:()=>ge});var c=j(727);class P extends c.w0{constructor(Ie,Ne){super()}schedule(Ie,Ne=0){return this}}const W={setInterval(Ce,Ie,...Ne){const{delegate:Ae}=W;return Ae?.setInterval?Ae.setInterval(Ce,Ie,...Ne):setInterval(Ce,Ie,...Ne)},clearInterval(Ce){const{delegate:Ie}=W;return(Ie?.clearInterval||clearInterval)(Ce)},delegate:void 0};var be=j(8737);class ge extends P{constructor(Ie,Ne){super(Ie,Ne),this.scheduler=Ie,this.work=Ne,this.pending=!1}schedule(Ie,Ne=0){if(this.closed)return this;this.state=Ie;const Ae=this.id,J=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(J,Ae,Ne)),this.pending=!0,this.delay=Ne,this.id=this.id||this.requestAsyncId(J,this.id,Ne),this}requestAsyncId(Ie,Ne,Ae=0){return W.setInterval(Ie.flush.bind(Ie,this),Ae)}recycleAsyncId(Ie,Ne,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ne;W.clearInterval(Ne)}execute(Ie,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Ie,Ne);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,Ne){let J,Ae=!1;try{this.work(Ie)}catch(X){Ae=!0,J=X||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:Ne}=this,{actions:Ae}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Ae,this),null!=Ie&&(this.id=this.recycleAsyncId(Ne,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(At,Ge,j)=>{"use strict";j.d(Ge,{v:()=>W});var c=j(6063);class P{constructor(ge,Ce=P.now){this.schedulerActionCtor=ge,this.now=Ce}schedule(ge,Ce=0,Ie){return new this.schedulerActionCtor(this,ge).schedule(Ie,Ce)}}P.now=c.l.now;class W extends P{constructor(ge,Ce=P.now){super(ge,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:Ce}=this;if(this._active)return void Ce.push(ge);let Ie;this._active=!0;do{if(Ie=ge.execute(ge.state,ge.delay))break}while(ge=Ce.shift());if(this._active=!1,Ie){for(;ge=Ce.shift();)ge.unsubscribe();throw Ie}}}},4986:(At,Ge,j)=>{"use strict";j.d(Ge,{P:()=>be,z:()=>W});var c=j(4408);const W=new(j(7565).v)(c.o),be=W},6063:(At,Ge,j)=>{"use strict";j.d(Ge,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(At,Ge,j)=>{"use strict";j.d(Ge,{z:()=>c});const c={setTimeout(P,W,...be){const{delegate:ge}=c;return ge?.setTimeout?ge.setTimeout(P,W,...be):setTimeout(P,W,...be)},clearTimeout(P){const{delegate:W}=c;return(W?.clearTimeout||clearTimeout)(P)},delegate:void 0}},2202:(At,Ge,j)=>{"use strict";j.d(Ge,{h:()=>P});const P=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(At,Ge,j)=>{"use strict";j.d(Ge,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(At,Ge,j)=>{"use strict";j.d(Ge,{_6:()=>Ce,jO:()=>be,yG:()=>ge});var c=j(576),P=j(3532);function W(Ie){return Ie[Ie.length-1]}function be(Ie){return(0,c.m)(W(Ie))?Ie.pop():void 0}function ge(Ie){return(0,P.K)(W(Ie))?Ie.pop():void 0}function Ce(Ie,Ne){return"number"==typeof W(Ie)?Ie.pop():Ne}},8737:(At,Ge,j)=>{"use strict";function c(P,W){if(P){const be=P.indexOf(W);0<=be&&P.splice(be,1)}}j.d(Ge,{P:()=>c})},3888:(At,Ge,j)=>{"use strict";function c(P){const be=P(ge=>{Error.call(ge),ge.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}j.d(Ge,{d:()=>c})},2806:(At,Ge,j)=>{"use strict";j.d(Ge,{O:()=>be,x:()=>W});var c=j(2416);let P=null;function W(ge){if(c.v.useDeprecatedSynchronousErrorHandling){const Ce=!P;if(Ce&&(P={errorThrown:!1,error:null}),ge(),Ce){const{errorThrown:Ie,error:Ne}=P;if(P=null,Ie)throw Ne}}else ge()}function be(ge){c.v.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=ge)}},9672:(At,Ge,j)=>{"use strict";function c(P,W,be,ge=0,Ce=!1){const Ie=W.schedule(function(){be(),Ce?P.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(P.add(Ie),!Ce)return Ie}j.d(Ge,{f:()=>c})},4671:(At,Ge,j)=>{"use strict";function c(P){return P}j.d(Ge,{y:()=>c})},1144:(At,Ge,j)=>{"use strict";j.d(Ge,{z:()=>c});const c=P=>P&&"number"==typeof P.length&&"function"!=typeof P},2206:(At,Ge,j)=>{"use strict";j.d(Ge,{D:()=>P});var c=j(576);function P(W){return Symbol.asyncIterator&&(0,c.m)(W?.[Symbol.asyncIterator])}},576:(At,Ge,j)=>{"use strict";function c(P){return"function"==typeof P}j.d(Ge,{m:()=>c})},3670:(At,Ge,j)=>{"use strict";j.d(Ge,{c:()=>W});var c=j(8822),P=j(576);function W(be){return(0,P.m)(be[c.L])}},6495:(At,Ge,j)=>{"use strict";j.d(Ge,{T:()=>W});var c=j(2202),P=j(576);function W(be){return(0,P.m)(be?.[c.h])}},8239:(At,Ge,j)=>{"use strict";j.d(Ge,{t:()=>P});var c=j(576);function P(W){return(0,c.m)(W?.then)}},3260:(At,Ge,j)=>{"use strict";j.d(Ge,{L:()=>be,Q:()=>W});var c=j(655),P=j(576);function W(ge){return(0,c.FC)(this,arguments,function*(){const Ie=ge.getReader();try{for(;;){const{value:Ne,done:Ae}=yield(0,c.qq)(Ie.read());if(Ae)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ne)}}finally{Ie.releaseLock()}})}function be(ge){return(0,P.m)(ge?.getReader)}},3532:(At,Ge,j)=>{"use strict";j.d(Ge,{K:()=>P});var c=j(576);function P(W){return W&&(0,c.m)(W.schedule)}},4482:(At,Ge,j)=>{"use strict";j.d(Ge,{A:()=>P,e:()=>W});var c=j(576);function P(be){return(0,c.m)(be?.lift)}function W(be){return ge=>{if(P(ge))return ge.lift(function(Ce){try{return be(Ce,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(At,Ge,j)=>{"use strict";function c(){}j.d(Ge,{Z:()=>c})},9635:(At,Ge,j)=>{"use strict";j.d(Ge,{U:()=>W,z:()=>P});var c=j(4671);function P(...be){return W(be)}function W(be){return 0===be.length?c.y:1===be.length?be[0]:function(Ce){return be.reduce((Ie,Ne)=>Ne(Ie),Ce)}}},7849:(At,Ge,j)=>{"use strict";j.d(Ge,{h:()=>W});var c=j(2416),P=j(3410);function W(be){P.z.setTimeout(()=>{const{onUnhandledError:ge}=c.v;if(!ge)throw be;ge(be)})}},4532:(At,Ge,j)=>{"use strict";function c(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ge,{z:()=>c})},655:(At,Ge,j)=>{"use strict";function be(ae,pe){var ye={};for(var ve in ae)Object.prototype.hasOwnProperty.call(ae,ve)&&pe.indexOf(ve)<0&&(ye[ve]=ae[ve]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(ve=Object.getOwnPropertySymbols(ae);it<ve.length;it++)pe.indexOf(ve[it])<0&&Object.prototype.propertyIsEnumerable.call(ae,ve[it])&&(ye[ve[it]]=ae[ve[it]])}return ye}function Ne(ae,pe,ye,ve){return new(ye||(ye=Promise))(function(Je,Mt){function Tn(Yn){try{pt(ve.next(Yn))}catch(di){Mt(di)}}function cn(Yn){try{pt(ve.throw(Yn))}catch(di){Mt(di)}}function pt(Yn){Yn.done?Je(Yn.value):function it(Je){return Je instanceof ye?Je:new ye(function(Mt){Mt(Je)})}(Yn.value).then(Tn,cn)}pt((ve=ve.apply(ae,pe||[])).next())})}function Oe(ae){return this instanceof Oe?(this.v=ae,this):new Oe(ae)}function Me(ae,pe,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,ve=ye.apply(ae,pe||[]),Je=[];return it={},Mt("next"),Mt("throw"),Mt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Mt(Vn){ve[Vn]&&(it[Vn]=function(pn){return new Promise(function(gr,un){Je.push([Vn,pn,gr,un])>1||Tn(Vn,pn)})})}function Tn(Vn,pn){try{!function cn(Vn){Vn.value instanceof Oe?Promise.resolve(Vn.value.v).then(pt,Yn):di(Je[0][2],Vn)}(ve[Vn](pn))}catch(gr){di(Je[0][3],gr)}}function pt(Vn){Tn("next",Vn)}function Yn(Vn){Tn("throw",Vn)}function di(Vn,pn){Vn(pn),Je.shift(),Je.length&&Tn(Je[0][0],Je[0][1])}}function xt(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,pe=ae[Symbol.asyncIterator];return pe?pe.call(ae):(ae=function ue(ae){var pe="function"==typeof Symbol&&Symbol.iterator,ye=pe&&ae[pe],ve=0;if(ye)return ye.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ve>=ae.length&&(ae=void 0),{value:ae&&ae[ve++],done:!ae}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ye={},ve("next"),ve("throw"),ve("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ve(Je){ye[Je]=ae[Je]&&function(Mt){return new Promise(function(Tn,cn){!function it(Je,Mt,Tn,cn){Promise.resolve(cn).then(function(pt){Je({value:pt,done:Tn})},Mt)}(Tn,cn,(Mt=ae[Je](Mt)).done,Mt.value)})}}}j.d(Ge,{FC:()=>Me,KL:()=>xt,_T:()=>be,mG:()=>Ne,qq:()=>Oe})},4650:(At,Ge,j)=>{"use strict";j.d(Ge,{$8M:()=>fl,$Z:()=>g_,AFp:()=>DI,ALo:()=>qC,AaK:()=>Ne,AsE:()=>fr,BQk:()=>Ub,CHM:()=>tl,CRH:()=>em,CZH:()=>my,CqO:()=>KE,D6c:()=>hA,EJc:()=>Vw,EiD:()=>Mu,EpF:()=>ZE,F$t:()=>tx,F4k:()=>YE,FYo:()=>Xe,FiY:()=>nt,G48:()=>Oy,Gf:()=>iI,GfV:()=>Vr,GkF:()=>zD,Gpc:()=>X,Hsn:()=>nx,Ikx:()=>gC,JOm:()=>nc,JVY:()=>df,KtG:()=>sa,L6k:()=>hf,LAX:()=>kr,LFG:()=>ir,LMc:()=>iF,LSH:()=>as,Lbi:()=>CI,Lck:()=>cS,MAs:()=>zE,MGl:()=>Hb,MMx:()=>_w,NdJ:()=>Gb,O4$:()=>cd,OlP:()=>pi,Oqu:()=>cC,PXZ:()=>ZS,Q6J:()=>jD,QGY:()=>$b,QP$:()=>us,Qsj:()=>Nt,QtT:()=>sS,R0b:()=>bl,RDi:()=>dr,Rgc:()=>lg,SBq:()=>V,SDv:()=>rS,Sil:()=>$R,Suo:()=>rI,TTD:()=>ia,TgZ:()=>kb,Tol:()=>fx,Udp:()=>sC,VKq:()=>bw,W1O:()=>hy,WD2:()=>Oo,WLB:()=>Y_,X6Q:()=>Ny,XFs:()=>yt,Xpm:()=>ne,Xts:()=>Yc,Y36:()=>Mh,YKP:()=>VC,YNc:()=>WE,Yjl:()=>_n,Yz7:()=>pn,Z0I:()=>Ar,ZZ4:()=>Vy,_Bn:()=>BC,_UZ:()=>Bb,_Vd:()=>v,_c5:()=>uA,_uU:()=>Zb,aQg:()=>Jw,c2e:()=>Bw,cJS:()=>un,cg1:()=>Jv,dDg:()=>jS,dqk:()=>Un,eBb:()=>Gg,eFA:()=>OI,ekj:()=>oC,eoX:()=>AI,f3M:()=>x,g9A:()=>kw,h0i:()=>sg,hGG:()=>dA,hYB:()=>ZD,hij:()=>ja,iGM:()=>nI,ifc:()=>Ot,ip1:()=>gg,jDz:()=>UC,kEZ:()=>ww,kL8:()=>mC,kcU:()=>Jd,lG2:()=>Zi,lcZ:()=>ZC,lqb:()=>Jl,lri:()=>mg,mCW:()=>Xs,n5z:()=>wo,oAB:()=>Pt,oJD:()=>Co,oxw:()=>qD,pB0:()=>Hg,pQV:()=>PC,q3G:()=>Ln,q4F:()=>to,qLn:()=>Od,qOj:()=>Jp,qZA:()=>Lb,qzn:()=>Su,rWj:()=>SI,s9C:()=>ls,sBO:()=>eA,sIi:()=>re,s_b:()=>Q_,soG:()=>wy,tb:()=>II,tp0:()=>Ht,uIk:()=>Nn,vHH:()=>Le,vpe:()=>ac,wAp:()=>Xt,xp6:()=>Gp,ynx:()=>Vb,z2F:()=>xy,z3N:()=>$o,zSh:()=>Kl,zs3:()=>bs});var c=j(7579),P=j(727),W=j(9751),be=j(6451),ge=j(3099);function Ce(s){for(let o in s)if(s[o]===Ce)return o;throw Error("Could not find renamed property on target object.")}function Ie(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ae(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const J=Ce({__forward_ref__:Ce});function X(s){return s.__forward_ref__=X,s.toString=function(){return Ne(this())},s}function ue(s){return tt(s)?s():s}function tt(s){return"function"==typeof s&&s.hasOwnProperty(J)&&s.__forward_ref__===X}class Le extends Error{constructor(o,l){super(function ht(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Oe(s){return"string"==typeof s?s:null==s?"":String(s)}function Pe(s,o){throw new Le(-201,!1)}function pt(s,o,l,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${l} ${h} ${o} <=Actual]`))}function pn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function un(s){return{providers:s.providers||[],imports:s.imports||[]}}function Qt(s){return En(s,hi)||En(s,Nr)}function Ar(s){return null!==Qt(s)}function En(s,o){return s.hasOwnProperty(o)?s[o]:null}function ns(s){return s&&(s.hasOwnProperty(Oi)||s.hasOwnProperty(vi))?s[Oi]:null}const hi=Ce({\u0275prov:Ce}),Oi=Ce({\u0275inj:Ce}),Nr=Ce({ngInjectableDef:Ce}),vi=Ce({ngInjectorDef:Ce});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Hr;function Cn(s){const o=Hr;return Hr=s,o}function ni(s,o,l){const h=Qt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&yt.Optional?null:void 0!==o?o:void Pe(Ne(s))}function Li(s){return{toString:s}.toString()}var wi=(()=>((wi=wi||{})[wi.OnPush=0]="OnPush",wi[wi.Default=1]="Default",wi))(),Ot=(()=>{return(s=Ot||(Ot={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ot;var s})();const Un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qi={},jt=[],Ts=Ce({\u0275cmp:Ce}),xn=Ce({\u0275dir:Ce}),is=Ce({\u0275pipe:Ce}),In=Ce({\u0275mod:Ce}),oe=Ce({\u0275fac:Ce}),te=Ce({__NG_ELEMENT_ID__:Ce});let K=0;function ne(s){return Li(()=>{const l=!0===s.standalone,h={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===wi.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ot.Emulated,id:"c"+K++,styles:s.styles||jt,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,D=s.features;return f.inputs=kn(s.inputs,h),f.outputs=kn(s.outputs),D&&D.forEach(T=>T(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(ze).filter(ut):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Di).filter(ut):null,f})}function ze(s){return on(s)||ai(s)}function ut(s){return null!==s}function Pt(s){return Li(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function kn(s,o){if(null==s)return qi;const l={};for(const h in s)if(s.hasOwnProperty(h)){let f=s[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=h,o&&(o[f]=m)}return l}const Zi=ne;function _n(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function on(s){return s[Ts]||null}function ai(s){return s[xn]||null}function Di(s){return s[is]||null}function us(s){const o=on(s)||ai(s)||Di(s);return null!==o&&o.standalone}function Wr(s,o){const l=s[In]||null;if(!l&&!0===o)throw new Error(`Type ${Ne(s)} does not have '\u0275mod' property.`);return l}function $i(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ji(s){return Array.isArray(s)&&!0===s[1]}function po(s){return 0!=(8&s.flags)}function gs(s){return 2==(2&s.flags)}function Al(s){return 1==(1&s.flags)}function _r(s){return null!==s.template}function Ka(s){return 0!=(256&s[2])}function No(s,o){return s.hasOwnProperty(oe)?s[oe]:null}class Oo{constructor(o,l,h){this.previousValue=o,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function ia(){return Qa}function Qa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Xn),Jn}function Jn(){const s=rf(this),o=s?.current;if(o){const l=s.previous;if(l===qi)s.previous=o;else for(let h in o)l[h]=o[h];s.current=null,this.ngOnChanges(o)}}function Xn(s,o,l,h){const f=rf(s)||function mr(s,o){return s[nd]=o}(s,{previous:qi,current:null}),m=f.current||(f.current={}),D=f.previous,T=this.declaredInputs[l],E=D[T];m[T]=new Oo(E&&E.currentValue,o,D===qi),s[h]=o}ia.ngInherit=!0;const nd="__ngSimpleChanges__";function rf(s){return s[nd]||null}function Gi(s){for(;Array.isArray(s);)s=s[0];return s}function Ns(s,o){return Gi(o[s])}function ss(s,o){return Gi(o[s.index])}function Xa(s,o){return s.data[o]}function Mo(s,o){return s[o]}function An(s,o){const l=o[s];return $i(l)?l:l[0]}function el(s){return 64==(64&s[2])}function _o(s,o){return null==o?null:s[o]}function mc(s){s[18]=0}function ei(s,o){s[5]+=o;let l=s,h=s[3];for(;null!==h&&(1===o&&1===l[5]||-1===o&&0===l[5]);)h[5]+=o,l=h,h=h[3]}const Zt={lFrame:kl(null),bindingsEnabled:!0};function vo(){return Zt.bindingsEnabled}function Ze(){return Zt.lFrame.lView}function mn(){return Zt.lFrame.tView}function tl(s){return Zt.lFrame.contextLView=s,s[8]}function sa(s){return Zt.lFrame.contextLView=null,s}function Xi(){let s=yc();for(;null!==s&&64===s.type;)s=s.parent;return s}function yc(){return Zt.lFrame.currentTNode}function nl(){const s=Zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function _s(s,o){const l=Zt.lFrame;l.currentTNode=s,l.isParent=o}function il(){return Zt.lFrame.isParent}function Fl(){Zt.lFrame.isParent=!1}function Hi(){const s=Zt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ji(){return Zt.lFrame.bindingIndex}function yo(){return Zt.lFrame.bindingIndex++}function Ro(s){const o=Zt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Cc(s){Zt.lFrame.inI18n=s}function dp(s,o){const l=Zt.lFrame;l.bindingIndex=l.bindingRootIndex=s,gu(o)}function gu(s){Zt.lFrame.currentDirectiveIndex=s}function Ea(){return Zt.lFrame.currentQueryIndex}function Tc(s){Zt.lFrame.currentQueryIndex=s}function ad(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Pl(s,o,l){if(l&yt.SkipSelf){let f=o,m=s;for(;!(f=f.parent,null!==f||l&yt.Host||(f=ad(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;o=f,s=m}const h=Zt.lFrame=Fo();return h.currentTNode=o,h.lView=s,!0}function Ec(s){const o=Fo(),l=s[1];Zt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Fo(){const s=Zt.lFrame,o=null===s?null:s.child;return null===o?kl(s):o}function kl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ld(){const s=Zt.lFrame;return Zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Qd=ld;function rl(){const s=ld();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function vr(){return Zt.lFrame.selectedIndex}function Os(s){Zt.lFrame.selectedIndex=s}function Ti(){const s=Zt.lFrame;return Xa(s.tView,s.selectedIndex)}function cd(){Zt.lFrame.currentNamespace="svg"}function Jd(){!function Ll(){Zt.lFrame.currentNamespace=null}()}function xe(s,o){for(let l=o.directiveStart,h=o.directiveEnd;l<h;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:T,ngAfterViewInit:E,ngAfterViewChecked:O,ngOnDestroy:L}=m;D&&(s.contentHooks||(s.contentHooks=[])).push(-l,D),T&&((s.contentHooks||(s.contentHooks=[])).push(l,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,T)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),O&&((s.viewHooks||(s.viewHooks=[])).push(l,O),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,O)),null!=L&&(s.destroyHooks||(s.destroyHooks=[])).push(l,L)}}function Ct(s,o,l){Ei(s,o,3,l)}function Yt(s,o,l,h){(3&s[2])===l&&Ei(s,o,l,h)}function Hn(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Ei(s,o,l,h){const m=h??-1,D=o.length-1;let T=0;for(let E=void 0!==h?65535&s[18]:0;E<D;E++)if("number"==typeof o[E+1]){if(T=o[E],null!=h&&T>=h)break}else o[E]<0&&(s[18]+=65536),(T<m||-1==m)&&(ii(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function ii(s,o,l,h){const f=l[h]<0,m=l[h+1],T=s[f?-l[h]:l[h]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class xa{constructor(o,l,h){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function al(s,o,l){let h=0;for(;h<l.length;){const f=l[h];if("number"==typeof f){if(0!==f)break;h++;const m=l[h++],D=l[h++],T=l[h++];s.setAttribute(o,D,T,m)}else{const m=f,D=l[++h];_u(m)?s.setProperty(o,m,D):s.setAttribute(o,m,D),h++}}return h}function ko(s){return 3===s||4===s||6===s}function _u(s){return 64===s.charCodeAt(0)}function Sc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let h=0;h<o.length;h++){const f=o[h];"number"==typeof f?l=f:0===l||Xd(s,l,f,null,-1===l||2===l?o[++h]:null)}}return s}function Xd(s,o,l,h,f){let m=0,D=s.length;if(-1===o)D=-1;else for(;m<s.length;){const T=s[m++];if("number"==typeof T){if(T===o){D=-1;break}if(T>o){D=m-1;break}}}for(;m<s.length;){const T=s[m];if("number"==typeof T)break;if(T===l){if(null===h)return void(null!==f&&(s[m+1]=f));if(h===s[m+1])return void(s[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==D&&(s.splice(D,0,o),m=D+1),s.splice(m++,0,l),null!==h&&s.splice(m++,0,h),null!==f&&s.splice(m++,0,f)}function Ac(s){return-1!==s}function xi(s){return 32767&s}function Vl(s,o){let l=function Sa(s){return s>>16}(s),h=o;for(;l>0;)h=h[15],l--;return h}let Ms=!0;function Ul(s){const o=Ms;return Ms=s,o}let Si=0;const Rr={};function cl(s,o){const l=vu(s,o);if(-1!==l)return l;const h=o[1];h.firstCreatePass&&(s.injectorIndex=o.length,Nc(h.data,s),Nc(o,null),Nc(h.blueprint,null));const f=ul(s,o),m=s.injectorIndex;if(Ac(f)){const D=xi(f),T=Vl(f,o),E=T[1].data;for(let O=0;O<8;O++)o[m+O]=T[D+O]|E[D+O]}return o[m+8]=f,m}function Nc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function vu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ul(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,h=null,f=o;for(;null!==f;){if(h=Bo(f),null===h)return-1;if(l++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function bo(s,o,l){!function ll(s,o,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(te)&&(h=l[te]),null==h&&(h=l[te]=Si++);const f=255&h;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function Na(s,o,l){if(l&yt.Optional||void 0!==s)return s;Pe()}function bu(s,o,l,h){if(l&yt.Optional&&void 0===h&&(h=null),0==(l&(yt.Self|yt.Host))){const f=s[9],m=Cn(void 0);try{return f?f.get(o,h,l&yt.Optional):ni(o,h,l&yt.Optional)}finally{Cn(m)}}return Na(h,0,l)}function dl(s,o,l,h=yt.Default,f){if(null!==s){if(1024&o[2]){const D=function Lo(s,o,l,h,f){let m=s,D=o;for(;null!==m&&null!==D&&1024&D[2]&&!(256&D[2]);){const T=Oc(m,D,l,h|yt.Self,Rr);if(T!==Rr)return T;let E=m.parent;if(!E){const O=D[21];if(O){const L=O.get(l,Rr,h);if(L!==Rr)return L}E=Bo(D),D=D[15]}m=E}return f}(s,o,l,h,Rr);if(D!==Rr)return D}const m=Oc(s,o,l,h,Rr);if(m!==Rr)return m}return bu(o,l,h,f)}function Oc(s,o,l,h,f){const m=function hd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(te)?s[te]:void 0;return"number"==typeof o?o>=0?255&o:hl:o}(l);if("function"==typeof m){if(!Pl(o,s,h))return h&yt.Host?Na(f,0,h):bu(o,l,h,f);try{const D=m(h);if(null!=D||h&yt.Optional)return D;Pe()}finally{Qd()}}else if("number"==typeof m){let D=null,T=vu(s,o),E=-1,O=h&yt.Host?o[16][6]:null;for((-1===T||h&yt.SkipSelf)&&(E=-1===T?ul(s,o):o[T+8],-1!==E&&Rc(h,!1)?(D=o[1],T=xi(E),o=Vl(E,o)):T=-1);-1!==T;){const L=o[1];if(Mc(m,T,L.data)){const z=or(T,o,l,D,h,O);if(z!==Rr)return z}E=o[T+8],-1!==E&&Rc(h,o[1].data[T+8]===O)&&Mc(m,T,o)?(D=L,T=xi(E),o=Vl(E,o)):T=-1}}return f}function or(s,o,l,h,f,m){const D=o[1],T=D.data[s+8],L=tr(T,D,l,null==h?gs(T)&&Ms:h!=D&&0!=(3&T.type),f&yt.Host&&m===T);return null!==L?aa(o,D,L,T):Rr}function tr(s,o,l,h,f){const m=s.providerIndexes,D=o.data,T=1048575&m,E=s.directiveStart,L=m>>20,se=f?T+L:s.directiveEnd;for(let _e=h?T:T+L;_e<se;_e++){const $e=D[_e];if(_e<E&&l===$e||_e>=E&&$e.type===l)return _e}if(f){const _e=D[E];if(_e&&_r(_e)&&_e.type===l)return E}return null}function aa(s,o,l,h){let f=s[l];const m=o.data;if(function Cr(s){return s instanceof xa}(f)){const D=f;D.resolving&&function at(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Oe(s)}(m[l]));const T=Ul(D.canSeeViewProviders);D.resolving=!0;const E=D.injectImpl?Cn(D.injectImpl):null;Pl(s,h,yt.Default);try{f=s[l]=D.factory(void 0,m,s,h),o.firstCreatePass&&l>=h.directiveStart&&function Ve(s,o,l){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=o.type.prototype;if(h){const D=Qa(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,D),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,D)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==E&&Cn(E),Ul(T),D.resolving=!1,Qd()}}return f}function Mc(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Rc(s,o){return!(s&yt.Self||s&yt.Host&&o)}class la{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,h){return dl(this._tNode,this._lView,o,h,l)}}function hl(){return new la(Xi(),Ze())}function wo(s){return Li(()=>{const o=s.prototype.constructor,l=o[oe]||ca(o),h=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==h;){const m=f[oe]||ca(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function ca(s){return tt(s)?()=>{const o=ca(ue(s));return o&&o()}:No(s)}function Bo(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function fl(s){return function yu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const h=l.length;let f=0;for(;f<h;){const m=l[f];if(ko(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof l[f];)f++;else{if(m===o)return l[f+1];f+=2}}}return null}(Xi(),s)}const Oa="__parameters__";function Hl(s,o,l){return Li(()=>{const h=function wu(s){return function(...l){if(s){const h=s(...l);for(const f in h)this[f]=h[f]}}}(o);function f(...m){if(this instanceof f)return h.apply(this,m),this;const D=new f(...m);return T.annotation=D,T;function T(E,O,L){const z=E.hasOwnProperty(Oa)?E[Oa]:Object.defineProperty(E,Oa,{value:[]})[Oa];for(;z.length<=L;)z.push(null);return(z[L]=z[L]||[]).push(D),E}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class pi{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=pn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let h=s[l];Array.isArray(h)?(o===s&&(o=s.slice(0,l)),Zr(h,o)):o!==s&&o.push(h)}return o}function ar(s,o){s.forEach(l=>Array.isArray(l)?ar(l,o):o(l))}function lr(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ri(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function zn(s,o){const l=[];for(let h=0;h<s;h++)l.push(o);return l}function nr(s,o,l){let h=Ma(s,o);return h>=0?s[1|h]=l:(h=~h,function pd(s,o,l,h){let f=s.length;if(f==o)s.push(l,h);else if(1===f)s.push(h,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=h}}(s,h,o,l)),h}function Lc(s,o){const l=Ma(s,o);if(l>=0)return s[1|l]}function Ma(s,o){return function Bc(s,o,l){let h=0,f=s.length>>l;for(;f!==h;){const m=h+(f-h>>1),D=s[m<<l];if(o===D)return m<<l;D>o?f=m:h=m+1}return~(f<<l)}(s,o,1)}const Fi={},Fs="__NG_DI_FLAG__",jn="ngTempTokenPath",cr=/\n/gm,Ps="__source";let Ks;function yr(s){const o=Ks;return Ks=s,o}function Cu(s,o=yt.Default){if(void 0===Ks)throw new Le(-203,!1);return null===Ks?ni(s,void 0,o):Ks.get(s,o&yt.Optional?null:void 0,o)}function ir(s,o=yt.Default){return(function jr(){return Hr}()||Cu)(ue(s),o)}function x(s,o=yt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),ir(s,o)}function N(s){const o=[];for(let l=0;l<s.length;l++){const h=ue(s[l]);if(Array.isArray(h)){if(0===h.length)throw new Le(900,!1);let f,m=yt.Default;for(let D=0;D<h.length;D++){const T=h[D],E=q(T);"number"==typeof E?-1===E?f=T.token:m|=E:f=T}o.push(ir(f,m))}else o.push(ir(h))}return o}function k(s,o){return s[Fs]=o,s.prototype[Fs]=o,s}function q(s){return s[Fs]}const nt=k(Hl("Optional"),8),Ht=k(Hl("SkipSelf"),4);let sh,Pi,Eu;function dr(s){sh=s}function rr(){return void 0!==sh?sh:typeof document<"u"?document:void 0}function fa(s){return function ha(){if(void 0===Pi&&(Pi=null,Un.trustedTypes))try{Pi=Un.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Pi}()?.createHTML(s)||s}function uf(s){return function ka(){if(void 0===Eu&&(Eu=null,Un.trustedTypes))try{Eu=Un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Eu}()?.createHTML(s)||s}class Uo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yp extends Uo{getTypeName(){return"HTML"}}class xu extends Uo{getTypeName(){return"Style"}}class jc extends Uo{getTypeName(){return"Script"}}class Do extends Uo{getTypeName(){return"URL"}}class vn extends Uo{getTypeName(){return"ResourceURL"}}function $o(s){return s instanceof Uo?s.changingThisBreaksApplicationSecurity:s}function Su(s,o){const l=function Au(s){return s instanceof Uo&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function df(s){return new yp(s)}function hf(s){return new xu(s)}function Gg(s){return new jc(s)}function kr(s){return new Do(s)}function Hg(s){return new vn(s)}function Ni(s){const o=new bp(s);return function ff(){try{return!!(new window.DOMParser).parseFromString(fa(""),"text/html")}catch{return!1}}()?new La(o):o}class La{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(fa(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class bp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=fa(o),l;const h=this.inertDocument.createElement("body");return h.innerHTML=fa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const D=l.item(f).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&o.removeAttribute(D)}let h=o.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Js=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xs(s){return(s=String(s)).match(Js)?s:"unsafe:"+s}function Go(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Wc(...s){const o={};for(const l of s)for(const h in l)l.hasOwnProperty(h)&&(o[h]=!0);return o}const ql=Go("area,br,col,hr,img,wbr"),ah=Go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yd=Go("rp,rt"),pa=Wc(ql,Wc(ah,Go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wc(yd,Go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wc(yd,ah)),ch=Go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nu=Wc(ch,Go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uh=Go("script,style,template");class gf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!pa.hasOwnProperty(l))return this.sanitizedSomething=!0,!uh.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=o.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),D=m.name,T=D.toLowerCase();if(!Nu.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let E=m.value;ch[T]&&(E=Xs(E)),this.buf.push(" ",D,'="',hh(E),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();pa.hasOwnProperty(l)&&!ql.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(hh(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const dh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wd=/([^\#-~ |!])/g;function hh(s){return s.replace(/&/g,"&amp;").replace(dh,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(wd,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ou;function Mu(s,o){let l=null;try{Ou=Ou||Ni(s);let h=o?String(o):"";l=Ou.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=l.innerHTML,l=Ou.getInertBodyElement(h)}while(h!==m);return fa((new gf).sanitizeChildren(Ru(l)||l))}finally{if(l){const h=Ru(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ru(s){return"content"in s&&function Dd(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function Co(s){const o=Id();return o?uf(o.sanitize(Ln.HTML,s)||""):Su(s,"HTML")?uf($o(s)):Mu(rr(),Oe(s))}function as(s){const o=Id();return o?o.sanitize(Ln.URL,s)||"":Su(s,"URL")?$o(s):Xs(Oe(s))}function Id(){const s=Ze();return s&&s[12]}const Yc=new pi("ENVIRONMENT_INITIALIZER"),Td=new pi("INJECTOR",-1),Fu=new pi("INJECTOR_DEF_TYPES");class _f{get(o,l=Fi){if(l===Fi){const h=new Error(`NullInjectorError: No provider for ${Ne(o)}!`);throw h.name="NullInjectorError",h}return l}}function mf(...s){return{\u0275providers:Ed(0,s)}}function Ed(s,...o){const l=[],h=new Set;let f;return ar(o,m=>{const D=m;eo(D,l,[],h)&&(f||(f=[]),f.push(D))}),void 0!==f&&fh(f,l),l}function fh(s,o){for(let l=0;l<s.length;l++){const{providers:f}=s[l];ar(f,m=>{o.push(m)})}}function eo(s,o,l,h){if(!(s=ue(s)))return!1;let f=null,m=ns(s);const D=!m&&on(s);if(m||D){if(D&&!D.standalone)return!1;f=s}else{const E=s.ngModule;if(m=ns(E),!m)return!1;f=E}const T=h.has(f);if(D){if(T)return!1;if(h.add(f),D.dependencies){const E="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const O of E)eo(O,o,l,h)}}else{if(!m)return!1;{if(null!=m.imports&&!T){let O;h.add(f);try{ar(m.imports,L=>{eo(L,o,l,h)&&(O||(O=[]),O.push(L))})}finally{}void 0!==O&&fh(O,o)}if(!T){const O=No(f)||(()=>new f);o.push({provide:f,useFactory:O,deps:jt},{provide:Fu,useValue:f,multi:!0},{provide:Yc,useValue:()=>ir(f),multi:!0})}const E=m.providers;null==E||T||ar(E,L=>{o.push(L)})}}return f!==s&&void 0!==s.providers}const xd=Ce({provide:String,useValue:Ce});function Sd(s){return null!==s&&"object"==typeof s&&xd in s}function Yl(s){return"function"==typeof s}const Kl=new pi("Set Injector scope."),ks={},Kc={};let Ql;function ku(){return void 0===Ql&&(Ql=new _f),Ql}class Jl{}class Io extends Jl{constructor(o,l,h,f){super(),this.parent=l,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mh(o,D=>this.processProvider(D)),this.records.set(Td,Tr(void 0,this)),f.has("environment")&&this.records.set(Jl,Tr(void 0,this));const m=this.records.get(Kl);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Fu.multi,jt,yt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=yr(this),h=Cn(void 0);try{return o()}finally{yr(l),Cn(h)}}get(o,l=Fi,h=yt.Default){this.assertNotDestroyed();const f=yr(this),m=Cn(void 0);try{if(!(h&yt.SkipSelf)){let T=this.records.get(o);if(void 0===T){const E=function vf(s){return"function"==typeof s||"object"==typeof s&&s instanceof pi}(o)&&Qt(o);T=E&&this.injectableDefInScope(E)?Tr(Lr(o),ks):null,this.records.set(o,T)}if(null!=T)return this.hydrate(o,T)}return(h&yt.Self?ku():this.parent).get(o,l=h&yt.Optional&&l===Fi?null:l)}catch(D){if("NullInjectorError"===D.name){if((D[jn]=D[jn]||[]).unshift(Ne(o)),f)throw D;return function he(s,o,l,h){const f=s[jn];throw o[Ps]&&f.unshift(o[Ps]),s.message=function Ee(s,o,l,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=Ne(o);if(Array.isArray(o))f=o.map(Ne).join(" -> ");else if("object"==typeof o){let m=[];for(let D in o)if(o.hasOwnProperty(D)){let T=o[D];m.push(D+":"+("string"==typeof T?JSON.stringify(T):Ne(T)))}f=`{${m.join(", ")}}`}return`${l}${h?"("+h+")":""}[${f}]: ${s.replace(cr,"\n  ")}`}("\n"+s.message,f,l,h),s.ngTokenPath=f,s[jn]=null,s}(D,o,"R3InjectorError",this.source)}throw D}finally{Cn(m),yr(f)}}resolveInjectorInitializers(){const o=yr(this),l=Cn(void 0);try{const h=this.get(Yc.multi,jt,yt.Self);for(const f of h)f()}finally{yr(o),Cn(l)}}toString(){const o=[],l=this.records;for(const h of l.keys())o.push(Ne(h));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(o){let l=Yl(o=ue(o))?o:ue(o&&o.provide);const h=function Lu(s){return Sd(s)?Tr(void 0,s.useValue):Tr(Bu(s),ks)}(o);if(Yl(o)||!0!==o.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Tr(void 0,ks,!0),f.factory=()=>N(f.multi),this.records.set(l,f)),l=o,f.multi.push(o)}this.records.set(l,h)}hydrate(o,l){return l.value===ks&&(l.value=Kc,l.value=l.factory()),"object"==typeof l.value&&l.value&&function _h(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ue(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Lr(s){const o=Qt(s),l=null!==o?o.factory:No(s);if(null!==l)return l;if(s instanceof pi)throw new Le(204,!1);if(s instanceof Function)return function Xl(s){const o=s.length;if(o>0)throw zn(o,"?"),new Le(204,!1);const l=function Pn(s){const o=s&&(s[hi]||s[Nr]);if(o){const l=function zi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Le(204,!1)}function Bu(s,o,l){let h;if(Yl(s)){const f=ue(s);return No(f)||Lr(f)}if(Sd(s))h=()=>ue(s.useValue);else if(function gh(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...N(s.deps||[]));else if(function Pu(s){return!(!s||!s.useExisting)}(s))h=()=>ir(ue(s.useExisting));else{const f=ue(s&&(s.useClass||s.provide));if(!function Gt(s){return!!s.deps}(s))return No(f)||Lr(f);h=()=>new f(...N(s.deps))}return h}function Tr(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Qc(s){return!!s.\u0275providers}function mh(s,o){for(const l of s)Array.isArray(l)?mh(l,o):Qc(l)?mh(l.\u0275providers,o):o(l)}class Jc{}class _{resolveComponentFactory(o){throw function Br(s){const o=Error(`No component factory found for ${Ne(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let v=(()=>{class s{}return s.NULL=new _,s})();function I(){return M(Xi(),Ze())}function M(s,o){return new V(ss(s,o))}let V=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=I,s})();function le(s){return s instanceof V?s.nativeElement:s}class Xe{}let Nt=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Kt(){const s=Ze(),l=An(Xi().index,s);return($i(l)?l:s)[11]}(),s})(),$t=(()=>{class s{}return s.\u0275prov=pn({token:s,providedIn:"root",factory:()=>null}),s})();class Vr{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const to=new Vr("14.2.2"),Ba={};function zg(s){return s.ngOriginalError}class Od{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&zg(o);for(;l&&zg(l);)l=zg(l);return l||null}}const qm=/^>|^->|<!--|-->|--!>|<!-$/g,x0=/(<|>)/;const Ap=new Map;let O0=0;const Jg="__ngContext__";function ys(s,o){$i(o)?(s[Jg]=o[20],function Zg(s){Ap.set(s[20],s)}(o)):s[Jg]=o}function tc(s){return s instanceof Function?s():s}var nc=(()=>((nc=nc||{})[nc.Important=1]="Important",nc[nc.DashCase=2]="DashCase",nc))();let Df;function Op(s,o){return Df(s,o)}function Ch(s){const o=s[3];return Ji(o)?o[3]:o}function r_(s){return G0(s[13])}function Mp(s){return G0(s[4])}function G0(s){for(;null!==s&&!Ji(s);)s=s[4];return s}function Ih(s,o,l,h,f){if(null!=h){let m,D=!1;Ji(h)?m=h:$i(h)&&(D=!0,h=h[0]);const T=Gi(h);0===s&&null!==l?null==f?qo(o,l,T):Bs(o,l,T,f||null,!0):1===s&&null!==l?Bs(o,l,T,f||null,!0):2===s?iv(o,T,D):3===s&&o.destroyNode(T),null!=m&&function Z0(s,o,l,h,f){const m=l[7];m!==Gi(l)&&Ih(o,s,h,m,f);for(let T=10;T<l.length;T++){const E=l[T];xf(E[1],E,s,o,h,m)}}(o,s,m,l,f)}}function s_(s,o){return s.createText(o)}function ev(s,o,l){s.setValue(o,l)}function DD(s,o){return s.createComment(function qg(s){return s.replace(qm,o=>o.replace(x0,"\u200b$1\u200b"))}(o))}function o_(s,o,l){return s.createElement(o,l)}function Rp(s,o){const l=s[9],h=l.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,ei(f,-1)),l.splice(h,1)}function a_(s,o){if(s.length<=10)return;const l=10+o,h=s[l];if(h){const f=h[17];null!==f&&f!==s&&Rp(f,h),o>0&&(s[l-1][4]=h[4]);const m=ri(s,10+o);!function CD(s,o){xf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(h[1],h);const D=m[19];null!==D&&D.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Cf(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&xf(s,o,l,3,null,null),function ED(s){let o=s[13];if(!o)return Ua(s[1],s);for(;o;){let l=null;if($i(o))l=o[13];else{const h=o[10];h&&(l=h)}if(!l){for(;o&&!o[4]&&o!==s;)$i(o)&&Ua(o[1],o),o=o[3];null===o&&(o=s),$i(o)&&Ua(o[1],o),l=o&&o[4]}o=l}}(o)}}function Ua(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function tv(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let h=0;h<l.length;h+=2){const f=o[l[h]];if(!(f instanceof xa)){const m=l[h+1];if(Array.isArray(m))for(let D=0;D<m.length;D+=2){const T=f[m[D]],E=m[D+1];try{E.call(T)}finally{}}else try{m.call(f)}finally{}}}}(s,o),function W0(s,o){const l=s.cleanup,h=o[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const D=l[m+1],T="function"==typeof D?D(o):Gi(o[D]),E=h[f=l[m+2]],O=l[m+3];"boolean"==typeof O?T.removeEventListener(l[m],E,O):O>=0?h[f=O]():h[f=-O].unsubscribe(),m+=2}else{const D=h[f=l[m+1]];l[m].call(D)}if(null!==h){for(let m=f+1;m<h.length;m++)(0,h[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Ji(o[3])){l!==o[3]&&Rp(l,o);const h=o[19];null!==h&&h.detachView(s)}!function Kg(s){Ap.delete(s[20])}(o)}}function zo(s,o,l){return $a(s,o.parent,l)}function $a(s,o,l){let h=o;for(;null!==h&&40&h.type;)h=(o=h).parent;if(null===h)return l[0];if(2&h.flags){const f=s.data[h.directiveStart].encapsulation;if(f===Ot.None||f===Ot.Emulated)return null}return ss(h,l)}function Bs(s,o,l,h,f){s.insertBefore(o,l,h,f)}function qo(s,o,l){s.appendChild(o,l)}function Fp(s,o,l,h,f){null!==h?Bs(s,o,l,h,f):qo(s,o,l)}function Gu(s,o){return s.parentNode(o)}function l_(s,o,l){return c_(s,o,l)}function Th(s,o,l){return 40&s.type?ss(s,l):null}let Ef,c_=Th;function u_(s,o){c_=s,Ef=o}function Pp(s,o,l,h){const f=zo(s,h,o),m=o[11],T=l_(h.parent||o[6],h,o);if(null!=f)if(Array.isArray(l))for(let E=0;E<l.length;E++)Fp(m,f,l[E],T,!1);else Fp(m,f,l,T,!1);void 0!==Ef&&Ef(m,h,o,l,f)}function kp(s,o){if(null!==o){const l=o.type;if(3&l)return ss(o,s);if(4&l)return Eh(-1,s[o.index]);if(8&l){const h=o.child;if(null!==h)return kp(s,h);{const f=s[o.index];return Ji(f)?Eh(-1,f):Gi(f)}}if(32&l)return Op(o,s)()||Gi(s[o.index]);{const h=nv(s,o);return null!==h?Array.isArray(h)?h[0]:kp(Ch(s[16]),h):kp(s,o.next)}}return null}function nv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Eh(s,o){const l=10+s+1;if(l<o.length){const h=o[l],f=h[1].firstChild;if(null!==f)return kp(h,f)}return o[7]}function iv(s,o,l){const h=Gu(s,o);h&&function If(s,o,l,h){s.removeChild(o,l,h)}(s,h,o,l)}function d_(s,o,l,h,f,m,D){for(;null!=l;){const T=h[l.index],E=l.type;if(D&&0===o&&(T&&ys(Gi(T),h),l.flags|=4),64!=(64&l.flags))if(8&E)d_(s,o,l.child,h,f,m,!1),Ih(o,s,f,T,m);else if(32&E){const O=Op(l,h);let L;for(;L=O();)Ih(o,s,f,L,m);Ih(o,s,f,T,m)}else 16&E?rv(s,o,h,l,f,m):Ih(o,s,f,T,m);l=D?l.projectionNext:l.next}}function xf(s,o,l,h,f,m){d_(l,h,s.firstChild,o,f,m,!1)}function rv(s,o,l,h,f,m){const D=l[16],E=D[6].projection[h.projection];if(Array.isArray(E))for(let O=0;O<E.length;O++)Ih(o,s,f,E[O],m);else d_(s,o,E,D[3],f,m,!0)}function Hu(s,o,l){s.setAttribute(o,"style",l)}function Zo(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Lp(s,o,l){let h=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=o.length;if(f+m===h||s.charCodeAt(f+m)<=32)return f}l=f+1}}const _l="ng-template";function Bp(s,o,l){let h=0;for(;h<s.length;){let f=s[h++];if(l&&"class"===f){if(f=s[h],-1!==Lp(f.toLowerCase(),o,0))return!0}else if(1===f){for(;h<s.length&&"string"==typeof(f=s[h++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function ju(s){return 4===s.type&&s.value!==_l}function Vp(s,o,l){return o===(4!==s.type||l?s.value:_l)}function Up(s,o,l){let h=4;const f=s.attrs||[],m=function Xc(s){for(let o=0;o<s.length;o++)if(ko(s[o]))return o;return s.length}(f);let D=!1;for(let T=0;T<o.length;T++){const E=o[T];if("number"!=typeof E){if(!D)if(4&h){if(h=2|1&h,""!==E&&!Vp(s,E,l)||""===E&&1===o.length){if(Vs(h))return!1;D=!0}}else{const O=8&h?E:o[++T];if(8&h&&null!==s.attrs){if(!Bp(s.attrs,O,l)){if(Vs(h))return!1;D=!0}continue}const z=$p(8&h?"class":E,f,ju(s),l);if(-1===z){if(Vs(h))return!1;D=!0;continue}if(""!==O){let se;se=z>m?"":f[z+1].toLowerCase();const _e=8&h?se:null;if(_e&&-1!==Lp(_e,O,0)||2&h&&O!==se){if(Vs(h))return!1;D=!0}}}}else{if(!D&&!Vs(h)&&!Vs(E))return!1;if(D&&Vs(E))continue;D=!1,h=E|1&h}}return Vs(h)||D}function Vs(s){return 0==(1&s)}function $p(s,o,l,h){if(null===o)return-1;let f=0;if(h||!l){let m=!1;for(;f<o.length;){const D=o[f];if(D===s)return f;if(3===D||6===D)m=!0;else{if(1===D||2===D){let T=o[++f];for(;"string"==typeof T;)T=o[++f];continue}if(4===D)break;if(0===D){f+=4;continue}}f+=m?1:2}return-1}return function Y0(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const h=s[l];if("number"==typeof h)return-1;if(h===o)return l;l++}return-1}(o,s)}function Sf(s,o,l=!1){for(let h=0;h<o.length;h++)if(Up(s,o[h],l))return!0;return!1}function ic(s,o){e:for(let l=0;l<o.length;l++){const h=o[l];if(s.length===h.length){for(let f=0;f<s.length;f++)if(s[f]!==h[f])continue e;return!0}}return!1}function Wu(s,o){return s?":not("+o.trim()+")":o}function xh(s){let o=s[0],l=1,h=2,f="",m=!1;for(;l<s.length;){let D=s[l];if("string"==typeof D)if(2&h){const T=s[++l];f+="["+D+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?f+="."+D:4&h&&(f+=" "+D);else""!==f&&!Vs(D)&&(o+=Wu(m,f),f=""),h=D,m=m||!Vs(h);l++}return""!==f&&(o+=Wu(m,f)),o}const an={};function Gp(s){av(mn(),Ze(),vr()+s,!1)}function av(s,o,l,h){if(!h)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Ct(o,m,l)}else{const m=s.preOrderHooks;null!==m&&Yt(o,m,0,l)}Os(l)}function f_(s,o=null,l=null,h){const f=p_(s,o,l,h);return f.resolveInjectorInitializers(),f}function p_(s,o=null,l=null,h,f=new Set){const m=[l||jt,mf(s)];return h=h||("object"==typeof s?void 0:Ne(s)),new Io(m,o||ku(),h||null,f)}let bs=(()=>{class s{static create(l,h){if(Array.isArray(l))return f_({name:""},h,l,"");{const f=l.name??"";return f_({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=Fi,s.NULL=new _f,s.\u0275prov=pn({token:s,providedIn:"any",factory:()=>ir(Td)}),s.__NG_ELEMENT_ID__=-1,s})();function Mh(s,o=yt.Default){const l=Ze();return null===l?ir(s,o):dl(Xi(),l,ue(s),o)}function g_(){throw new Error("invalid")}function no(s,o){return s<<17|o<<2}function io(s){return s>>17&32767}function __(s){return 2|s}function nu(s){return(131068&s)>>2}function m_(s,o){return-131069&s|o<<2}function sc(s){return 1|s}function Av(s,o){const l=s.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const f=l[h],m=l[h+1];if(-1!==m){const D=s.data[m];Tc(f),D.contentQueries(2,o[m],m)}}}function T_(s,o,l,h,f,m,D,T,E,O,L){const z=o.blueprint.slice();return z[0]=f,z[2]=76|h,(null!==L||s&&1024&s[2])&&(z[2]|=1024),mc(z),z[3]=z[15]=s,z[8]=l,z[10]=D||s&&s[10],z[11]=T||s&&s[11],z[12]=E||s&&s[12]||null,z[9]=O||s&&s[9]||null,z[6]=m,z[20]=function Ym(){return O0++}(),z[21]=L,z[16]=2==o.type?s[16]:z,z}function vl(s,o,l,h,f){let m=s.data[o];if(null===m)m=E_(s,o,l,h,f),function sf(){return Zt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=h,m.attrs=f;const D=nl();m.injectorIndex=null===D?-1:D.injectorIndex}return _s(m,!0),m}function E_(s,o,l,h,f){const m=yc(),D=il(),E=s.data[o]=function mb(s,o,l,h,f,m){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?m:m&&m.parent,l,o,h,f);return null===s.firstChild&&(s.firstChild=E),null!==m&&(D?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}function Rh(s,o,l,h){if(0===l)return-1;const f=o.length;for(let m=0;m<l;m++)o.push(h),s.blueprint.push(h),s.data.push(null);return f}function x_(s,o,l){Ec(o);try{const h=s.viewQuery;null!==h&&L_(1,h,l);const f=s.template;null!==f&&Nv(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Av(s,o),s.staticViewQueries&&L_(2,s.viewQuery,l);const m=s.components;null!==m&&function pb(s,o){for(let l=0;l<o.length;l++)BD(s,o[l])}(o,m)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{o[2]&=-5,rl()}}function Yp(s,o,l,h){const f=o[2];if(128!=(128&f)){Ec(o);try{mc(o),function Dc(s){return Zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Nv(s,o,l,2,h);const D=3==(3&f);if(D){const O=s.preOrderCheckHooks;null!==O&&Ct(o,O,null)}else{const O=s.preOrderHooks;null!==O&&Yt(o,O,0,null),Hn(o,0)}if(function Gv(s){for(let o=r_(s);null!==o;o=Mp(o)){if(!o[2])continue;const l=o[9];for(let h=0;h<l.length;h++){const f=l[h],m=f[3];0==(512&f[2])&&ei(m,1),f[2]|=512}}}(o),function ma(s){for(let o=r_(s);null!==o;o=Mp(o))for(let l=10;l<o.length;l++){const h=o[l],f=h[1];el(h)&&Yp(f,h,f.template,h[8])}}(o),null!==s.contentQueries&&Av(s,o),D){const O=s.contentCheckHooks;null!==O&&Ct(o,O)}else{const O=s.contentHooks;null!==O&&Yt(o,O,1),Hn(o,1)}!function Sv(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const f=l[h];if(f<0)Os(~f);else{const m=f,D=l[++h],T=l[++h];dp(D,m),T(2,o[m])}}}finally{Os(-1)}}(s,o);const T=s.components;null!==T&&function fb(s,o){for(let l=0;l<o.length;l++)xb(s,o[l])}(o,T);const E=s.viewQuery;if(null!==E&&L_(2,E,h),D){const O=s.viewCheckHooks;null!==O&&Ct(o,O)}else{const O=s.viewHooks;null!==O&&Yt(o,O,2),Hn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,ei(o[3],-1))}finally{rl()}}}function Nv(s,o,l,h,f){const m=vr(),D=2&h;try{Os(-1),D&&o.length>22&&av(s,o,22,!1),l(h,f)}finally{Os(m)}}function S_(s,o,l){if(po(o)){const f=o.directiveEnd;for(let m=o.directiveStart;m<f;m++){const D=s.data[m];D.contentQueries&&D.contentQueries(1,l[m],m)}}}function Kp(s,o,l){!vo()||(function Db(s,o,l,h){const f=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||cl(l,o),ys(h,o);const D=l.initialInputs;for(let T=f;T<m;T++){const E=s.data[T],O=_r(E);O&&kD(o,l,E);const L=aa(o,s,T,l);ys(L,o),null!==D&&$v(0,T-f,L,E,0,D),O&&(An(l.index,o)[8]=L)}}(s,o,l,ss(l,o)),128==(128&l.flags)&&function Cb(s,o,l){const h=l.directiveStart,f=l.directiveEnd,m=l.index,D=function od(){return Zt.lFrame.currentDirectiveIndex}();try{Os(m);for(let T=h;T<f;T++){const E=s.data[T],O=o[T];gu(T),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Bv(E,O)}}finally{Os(-1),gu(D)}}(s,o,l))}function A_(s,o,l=ss){const h=o.localNames;if(null!==h){let f=o.index+1;for(let m=0;m<h.length;m+=2){const D=h[m+1],T=-1===D?l(o,s):s[D];s[f++]=T}}}function Ov(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=N_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function N_(s,o,l,h,f,m,D,T,E,O){const L=22+h,z=L+f,se=function gb(s,o){const l=[];for(let h=0;h<o;h++)l.push(h<s?null:an);return l}(L,z),_e="function"==typeof O?O():O;return se[1]={type:s,blueprint:se,template:l,queries:null,viewQuery:T,declTNode:o,data:se.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:E,consts:_e,incompleteFirstPass:!1}}function Mv(s,o,l,h){const f=Hv(o);null===l?f.push(h):(f.push(l),s.firstCreatePass&&B_(s).push(h,f.length-1))}function Rv(s,o,l){for(let h in s)if(s.hasOwnProperty(h)){const f=s[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(o,f):l[h]=[o,f]}return l}function Fv(s,o){const h=o.directiveEnd,f=s.data,m=o.attrs,D=[];let T=null,E=null;for(let O=o.directiveStart;O<h;O++){const L=f[O],z=L.inputs,se=null===m||ju(o)?null:LD(z,m);D.push(se),T=Rv(z,O,T),E=Rv(L.outputs,O,E)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=16),T.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=D,o.inputs=T,o.outputs=E}function _a(s,o,l,h,f,m,D,T){const E=ss(o,l);let L,O=o.inputs;!T&&null!=O&&(L=O[h])?(V_(s,l,L,h,f),gs(o)&&Pv(l,o.index)):3&o.type&&(h=function vb(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),f=null!=D?D(f,o.value||"",h):f,m.setProperty(E,h,f))}function Pv(s,o){const l=An(o,s);16&l[2]||(l[2]|=32)}function O_(s,o,l,h){let f=!1;if(vo()){const m=function Ib(s,o,l){const h=s.directiveRegistry;let f=null;if(h)for(let m=0;m<h.length;m++){const D=h[m];Sf(l,D.selectors,!1)&&(f||(f=[]),bo(cl(l,o),s,D.type),_r(D)?(Vv(s,l),f.unshift(D)):f.push(D))}return f}(s,o,l),D=null===h?null:{"":-1};if(null!==m){f=!0,R_(l,s.data.length,m.length);for(let L=0;L<m.length;L++){const z=m[L];z.providersResolver&&z.providersResolver(z)}let T=!1,E=!1,O=Rh(s,o,m.length,null);for(let L=0;L<m.length;L++){const z=m[L];l.mergedAttrs=Sc(l.mergedAttrs,z.hostAttrs),Uv(s,l,o,O,z),M_(O,z,D),null!==z.contentQueries&&(l.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(l.flags|=128);const se=z.type.prototype;!T&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),T=!0),!E&&(se.ngOnChanges||se.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),O++}Fv(s,l)}D&&function Tb(s,o,l){if(o){const h=s.localNames=[];for(let f=0;f<o.length;f+=2){const m=l[o[f+1]];if(null==m)throw new Le(-301,!1);h.push(o[f],m)}}}(l,h,D)}return l.mergedAttrs=Sc(l.mergedAttrs,l.attrs),f}function Lv(s,o,l,h,f,m){const D=m.hostBindings;if(D){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const E=~o.index;(function wb(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(T)!=E&&T.push(E),T.push(h,f,D)}}function Bv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Vv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function M_(s,o,l){if(l){if(o.exportAs)for(let h=0;h<o.exportAs.length;h++)l[o.exportAs[h]]=s;_r(o)&&(l[""]=s)}}function R_(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Uv(s,o,l,h,f){s.data[h]=f;const m=f.factory||(f.factory=No(f.type)),D=new xa(m,_r(f),Mh);s.blueprint[h]=D,l[h]=D,Lv(s,o,0,h,Rh(s,l,f.hostVars,an),f)}function kD(s,o,l){const h=ss(o,s),f=Ov(l),m=s[10],D=Fh(s,T_(s,f,null,l.onPush?32:16,h,o,m,m.createRenderer(h,l),null,null,null));s[o.index]=D}function F_(s,o,l,h,f,m,D){if(null==m)s.removeAttribute(o,f,l);else{const T=null==D?Oe(m):D(m,h||"",f);s.setAttribute(o,f,T,l)}}function $v(s,o,l,h,f,m){const D=m[o];if(null!==D){const T=h.setInput;for(let E=0;E<D.length;){const O=D[E++],L=D[E++],z=D[E++];null!==T?h.setInput(l,z,O,L):l[L]=z}}}function LD(s,o){let l=null,h=0;for(;h<o.length;){const f=o[h];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[h+1])),h+=2}else h+=2;else h+=4}return l}function Eb(s,o,l,h){return new Array(s,!0,!1,o,null,0,h,l,null,null)}function xb(s,o){const l=An(o,s);if(el(l)){const h=l[1];48&l[2]?Yp(h,l,h.template,l[8]):l[5]>0&&P_(l)}}function P_(s){for(let h=r_(s);null!==h;h=Mp(h))for(let f=10;f<h.length;f++){const m=h[f];if(el(m))if(512&m[2]){const D=m[1];Yp(D,m,D.template,m[8])}else m[5]>0&&P_(m)}const l=s[1].components;if(null!==l)for(let h=0;h<l.length;h++){const f=An(l[h],s);el(f)&&f[5]>0&&P_(f)}}function BD(s,o){const l=An(o,s),h=l[1];(function VD(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(h,l),x_(h,l,l[8])}function Fh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function k_(s){for(;s;){s[2]|=32;const o=Ch(s);if(Ka(s)&&!o)return s;s=o}return null}function Pf(s,o,l,h=!0){const f=o[10];f.begin&&f.begin();try{Yp(s,o,s.template,l)}catch(D){throw h&&Ab(o,D),D}finally{f.end&&f.end()}}function L_(s,o,l){Tc(0),o(s,l)}function Hv(s){return s[7]||(s[7]=[])}function B_(s){return s.cleanup||(s.cleanup=[])}function Ab(s,o){const l=s[9],h=l?l.get(Od,null):null;h&&h.handleError(o)}function V_(s,o,l,h,f){for(let m=0;m<l.length;){const D=l[m++],T=l[m++],E=o[D],O=s.data[D];null!==O.setInput?O.setInput(E,f,h,T):E[T]=f}}function yl(s,o,l){const h=Ns(o,s);ev(s[11],h,l)}function kf(s,o,l){let h=l?s.styles:null,f=l?s.classes:null,m=0;if(null!==o)for(let D=0;D<o.length;D++){const T=o[D];"number"==typeof T?m=T:1==m?f=Ae(f,T):2==m&&(h=Ae(h,T+": "+o[++D]+";"))}l?s.styles=h:s.stylesWithoutHost=h,l?s.classes=f:s.classesWithoutHost=f}function kd(s,o,l,h,f=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&h.push(Gi(m)),Ji(m))for(let T=10;T<m.length;T++){const E=m[T],O=E[1].firstChild;null!==O&&kd(E[1],E,O,h)}const D=l.type;if(8&D)kd(s,o,l.child,h);else if(32&D){const T=Op(l,o);let E;for(;E=T();)h.push(E)}else if(16&D){const T=nv(o,l);if(Array.isArray(T))h.push(...T);else{const E=Ch(o[16]);kd(E[1],E,T,h,!0)}}l=f?l.projectionNext:l.next}return h}class Qp{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return kd(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ji(o)){const l=o[8],h=l?l.indexOf(this):-1;h>-1&&(a_(o,h),ri(l,h))}this._attachedToViewContainer=!1}Cf(this._lView[1],this._lView)}onDestroy(o){Mv(this._lView[1],this._lView,null,o)}markForCheck(){k_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Pf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TD(s,o){xf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=o}}class Nb extends Qp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Pf(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Lf extends v{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=on(o);return new Ph(l,this.ngModule)}}function oc(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Ld{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,h){const f=this.injector.get(o,Ba,h);return f!==Ba||l===Ba?f:this.parentInjector.get(o,l,h)}}class Ph extends Jc{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function ov(s){return s.map(xh).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return oc(this.componentDef.inputs)}get outputs(){return oc(this.componentDef.outputs)}create(o,l,h,f){let m=(f=f||this.ngModule)instanceof Jl?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const D=m?new Ld(o,m):o,T=D.get(Xe,null);if(null===T)throw new Le(407,!1);const E=D.get($t,null),O=T.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",z=h?function _b(s,o,l){return s.selectRootElement(o,l===Ot.ShadowDom)}(O,h,this.componentDef.encapsulation):o_(T.createRenderer(null,this.componentDef),L,function U_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),se=this.componentDef.onPush?288:272,_e=N_(0,null,null,1,0,null,null,null,null,null),$e=T_(null,_e,null,se,null,null,T,O,E,D,null);let dt,wt;Ec($e);try{const Ft=function kh(s,o,l,h,f,m){const D=l[1];l[22]=s;const E=vl(D,22,2,"#host",null),O=E.mergedAttrs=o.hostAttrs;null!==O&&(kf(E,O,!0),null!==s&&(al(f,s,O),null!==E.classes&&Zo(f,s,E.classes),null!==E.styles&&Hu(f,s,E.styles)));const L=h.createRenderer(s,o),z=T_(l,Ov(o),null,o.onPush?32:16,l[22],E,h,L,m||null,null,null);return D.firstCreatePass&&(bo(cl(E,l),D,o.type),Vv(D,E),R_(E,l.length,1)),Fh(l,z),l[22]=z}(z,this.componentDef,$e,T,O);if(z)if(h)al(O,z,["ng-version",to.full]);else{const{attrs:en,classes:Ke}=function Af(s){const o=[],l=[];let h=1,f=2;for(;h<s.length;){let m=s[h];if("string"==typeof m)2===f?""!==m&&o.push(m,s[++h]):8===f&&l.push(m);else{if(!Vs(f))break;f=m}h++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);en&&al(O,z,en),Ke&&Ke.length>0&&Zo(O,z,Ke.join(" "))}if(wt=Xa(_e,22),void 0!==l){const en=wt.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const nn=l[Ke];en.push(null!=nn?Array.from(nn):null)}}dt=function Ob(s,o,l,h){const f=l[1],m=function bb(s,o,l){const h=Xi();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Uv(s,h,o,Rh(s,o,1,null),l),Fv(s,h));const f=aa(o,s,h.directiveStart,h);ys(f,o);const m=ss(h,o);return m&&ys(m,o),f}(f,l,o);if(s[8]=l[8]=m,null!==h)for(const T of h)T(m,o);if(o.contentQueries){const T=Xi();o.contentQueries(1,m,T.directiveStart)}const D=Xi();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Os(D.index),Lv(l[1],D,0,D.directiveStart,D.directiveEnd,o),Bv(o,m)),m}(Ft,this.componentDef,$e,[HD]),x_(_e,$e,null)}finally{rl()}return new $D(this.componentType,dt,M(wt,$e),$e,wt)}}class $D extends class Vu{}{constructor(o,l,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new Nb(f),this.componentType=o}setInput(o,l){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[o])){const m=this._rootLView;V_(m[1],m,f,o,l),Pv(m,this._tNode.index)}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function HD(){const s=Xi();xe(Ze()[1],s)}function Jp(s){let o=function jv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const h=[s];for(;o;){let f;if(_r(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,!1);f=o.\u0275dir}if(f){if(l){h.push(f);const D=s;D.inputs=$_(s.inputs),D.declaredInputs=$_(s.declaredInputs),D.outputs=$_(s.outputs);const T=f.hostBindings;T&&d(s,T);const E=f.viewQuery,O=f.contentQueries;if(E&&Bf(s,E),O&&To(s,O),Ie(s.inputs,f.inputs),Ie(s.declaredInputs,f.declaredInputs),Ie(s.outputs,f.outputs),_r(f)&&f.data.animation){const L=s.data;L.animation=(L.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let D=0;D<m.length;D++){const T=m[D];T&&T.ngInherit&&T(s),T===Jp&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Mb(s){let o=0,l=null;for(let h=s.length-1;h>=0;h--){const f=s[h];f.hostVars=o+=f.hostVars,f.hostAttrs=Sc(f.hostAttrs,l=Sc(l,f.hostAttrs))}}(h)}function $_(s){return s===qi?{}:s===jt?[]:s}function Bf(s,o){const l=s.viewQuery;s.viewQuery=l?(h,f)=>{o(h,f),l(h,f)}:o}function To(s,o){const l=s.contentQueries;s.contentQueries=l?(h,f,m)=>{o(h,f,m),l(h,f,m)}:o}function d(s,o){const l=s.hostBindings;s.hostBindings=l?(h,f)=>{o(h,f),l(h,f)}:o}let F=null;function G(){if(!F){const s=Un.Symbol;if(s&&s.iterator)F=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const h=o[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(F=h)}}}return F}function re(s){return!!qe(s)&&(Array.isArray(s)||!(s instanceof Map)&&G()in s)}function qe(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function mt(s,o,l){return s[o]=l}function Rt(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function hn(s,o,l,h){const f=Rt(s,o,l);return Rt(s,o+1,h)||f}function Nn(s,o,l,h){const f=Ze();return Rt(f,yo(),o)&&(mn(),function iu(s,o,l,h,f,m){const D=ss(s,o);F_(o[11],D,m,s.value,l,h,f)}(Ti(),f,s,o,l,h)),Nn}function Ur(s,o,l,h){return Rt(s,yo(),l)?o+Oe(l)+h:an}function xr(s,o,l,h,f,m){const T=hn(s,ji(),l,f);return Ro(2),T?o+Oe(l)+h+Oe(f)+m:an}function WE(s,o,l,h,f,m,D,T){const E=Ze(),O=mn(),L=s+22,z=O.firstCreatePass?function jE(s,o,l,h,f,m,D,T,E){const O=o.consts,L=vl(o,s,4,D||null,_o(O,T));O_(o,l,L,_o(O,E)),xe(o,L);const z=L.tViews=N_(2,L,h,f,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,O);return null!==o.queries&&(o.queries.template(o,L),z.queries=o.queries.embeddedTView(L)),L}(L,O,E,o,l,h,f,m,D):O.data[L];_s(z,!1);const se=E[11].createComment("");Pp(O,E,se,z),ys(se,E),Fh(E,E[L]=Eb(se,E,se,z)),Al(z)&&Kp(O,E,z),null!=D&&A_(E,z,T)}function zE(s){return Mo(function bc(){return Zt.lFrame.contextLView}(),22+s)}function jD(s,o,l){const h=Ze();return Rt(h,yo(),o)&&_a(mn(),Ti(),h,s,o,h[11],l,!1),jD}function WD(s,o,l,h,f){const D=f?"class":"style";V_(s,l,o.inputs[D],D,h)}function kb(s,o,l,h){const f=Ze(),m=mn(),D=22+s,T=f[11],E=f[D]=o_(T,o,function de(){return Zt.lFrame.currentNamespace}()),O=m.firstCreatePass?function WM(s,o,l,h,f,m,D){const T=o.consts,O=vl(o,s,2,f,_o(T,m));return O_(o,l,O,_o(T,D)),null!==O.attrs&&kf(O,O.attrs,!1),null!==O.mergedAttrs&&kf(O,O.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,O),O}(D,m,f,0,o,l,h):m.data[D];_s(O,!0);const L=O.mergedAttrs;null!==L&&al(T,E,L);const z=O.classes;null!==z&&Zo(T,E,z);const se=O.styles;return null!==se&&Hu(T,E,se),64!=(64&O.flags)&&Pp(m,f,E,O),0===function mo(){return Zt.lFrame.elementDepthCount}()&&ys(E,f),function Rl(){Zt.lFrame.elementDepthCount++}(),Al(O)&&(Kp(m,f,O),S_(m,O,f)),null!==h&&A_(f,O),kb}function Lb(){let s=Xi();il()?Fl():(s=s.parent,_s(s,!1));const o=s;!function id(){Zt.lFrame.elementDepthCount--}();const l=mn();return l.firstCreatePass&&(xe(l,s),po(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function ol(s){return 0!=(16&s.flags)}(o)&&WD(l,o,Ze(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function xc(s){return 0!=(32&s.flags)}(o)&&WD(l,o,Ze(),o.stylesWithoutHost,!1),Lb}function Bb(s,o,l,h){return kb(s,o,l,h),Lb(),Bb}function Vb(s,o,l){const h=Ze(),f=mn(),m=s+22,D=f.firstCreatePass?function qE(s,o,l,h,f){const m=o.consts,D=_o(m,h),T=vl(o,s,8,"ng-container",D);return null!==D&&kf(T,D,!0),O_(o,l,T,_o(m,f)),null!==o.queries&&o.queries.elementStart(o,T),T}(m,f,h,o,l):f.data[m];_s(D,!0);const T=h[m]=h[11].createComment("");return Pp(f,h,T,D),ys(T,h),Al(D)&&(Kp(f,h,D),S_(f,D,h)),null!=l&&A_(h,D),Vb}function Ub(){let s=Xi();const o=mn();return il()?Fl():(s=s.parent,_s(s,!1)),o.firstCreatePass&&(xe(o,s),po(s)&&o.queries.elementEnd(s)),Ub}function zD(s,o,l){return Vb(s,o,l),Ub(),zD}function ZE(){return Ze()}function $b(s){return!!s&&"function"==typeof s.then}function YE(s){return!!s&&"function"==typeof s.subscribe}const KE=YE;function Gb(s,o,l,h){const f=Ze(),m=mn(),D=Xi();return function JE(s,o,l,h,f,m,D,T){const E=Al(h),L=s.firstCreatePass&&B_(s),z=o[8],se=Hv(o);let _e=!0;if(3&h.type||T){const wt=ss(h,o),Ft=T?T(wt):wt,en=se.length,Ke=T?bi=>T(Gi(bi[h.index])):h.index;let nn=null;if(!T&&E&&(nn=function zM(s,o,l,h){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const D=f[m];if(D===l&&f[m+1]===h){const T=o[7],E=f[m+2];return T.length>E?T[E]:null}"string"==typeof D&&(m+=2)}return null}(s,o,f,h.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=m,nn.__ngLastListenerFn__=m,_e=!1;else{m=ex(h,o,z,m,!1);const bi=l.listen(Ft,f,m);se.push(m,bi),L&&L.push(f,Ke,en,en+1)}}else m=ex(h,o,z,m,!1);const $e=h.outputs;let dt;if(_e&&null!==$e&&(dt=$e[f])){const wt=dt.length;if(wt)for(let Ft=0;Ft<wt;Ft+=2){const wr=o[dt[Ft]][dt[Ft+1]].subscribe(m),Xf=se.length;se.push(m,wr),L&&L.push(f,h.index,Xf,-(Xf+1))}}}(m,f,f[11],D,s,o,0,h),Gb}function XE(s,o,l,h){try{return!1!==l(h)}catch(f){return Ab(s,f),!1}}function ex(s,o,l,h,f){return function m(D){if(D===Function)return h;k_(2&s.flags?An(s.index,o):o);let E=XE(o,0,h,D),O=m.__ngNextListenerFn__;for(;O;)E=XE(o,0,O,D)&&E,O=O.__ngNextListenerFn__;return f&&!1===E&&(D.preventDefault(),D.returnValue=!1),E}}function qD(s=1){return function Zs(s){return(Zt.lFrame.contextLView=function ms(s,o){for(;s>0;)o=o[15],s--;return o}(s,Zt.lFrame.contextLView))[8]}(s)}function qM(s,o){let l=null;const h=function sv(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const m=o[f];if("*"!==m){if(null===h?Sf(s,m,!0):ic(h,m))return f}else l=f}return l}function tx(s){const o=Ze()[16][6];if(!o.projection){const h=o.projection=zn(s?s.length:1,null),f=h.slice();let m=o.child;for(;null!==m;){const D=s?qM(m,s):0;null!==D&&(f[D]?f[D].projectionNext=m:h[D]=m,f[D]=m),m=m.next}}}function nx(s,o=0,l){const h=Ze(),f=mn(),m=vl(f,22+s,16,null,l||null);null===m.projection&&(m.projection=o),Fl(),64!=(64&m.flags)&&function q0(s,o,l){rv(o[11],0,o,l,zo(s,l,o),l_(l.parent||o[6],l,o))}(f,h,m)}function ls(s,o,l){return Hb(s,"",o,"",l),ls}function Hb(s,o,l,h,f){const m=Ze(),D=Ur(m,o,l,h);return D!==an&&_a(mn(),Ti(),m,s,D,m[11],f,!1),Hb}function ZD(s,o,l,h,f,m,D){const T=Ze(),E=xr(T,o,l,h,f,m);return E!==an&&_a(mn(),Ti(),T,s,E,T[11],D,!1),ZD}function JD(s,o,l,h,f){const m=s[l+1],D=null===o;let T=h?io(m):nu(m),E=!1;for(;0!==T&&(!1===E||D);){const L=s[T+1];ax(s[T],o)&&(E=!0,s[T+1]=h?sc(L):__(L)),T=h?io(L):nu(L)}E&&(s[l+1]=h?__(m):sc(m))}function ax(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ma(s,o)>=0}const Us={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XD(s){return s.substring(Us.key,Us.keyEnd)}function eC(s,o){const l=Us.textEnd;return l===o?-1:(o=Us.keyEnd=function dx(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Us.key=o,l),eg(s,o,l))}function eg(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function sC(s,o,l){return Yu(s,o,l,!1),sC}function oC(s,o){return Yu(s,o,null,!0),oC}function fx(s){!function Ku(s,o,l,h){const f=mn(),m=Ro(2);f.firstUpdatePass&&gx(f,null,m,h);const D=Ze();if(l!==an&&Rt(D,m,l)){const T=f.data[vr()];if(vx(T,h)&&!px(f,m)){let E=h?T.classesWithoutHost:T.stylesWithoutHost;null!==E&&(l=Ae(E,l||"")),WD(f,T,D,l,h)}else!function tR(s,o,l,h,f,m,D,T){f===an&&(f=jt);let E=0,O=0,L=0<f.length?f[0]:null,z=0<m.length?m[0]:null;for(;null!==L||null!==z;){const se=E<f.length?f[E+1]:void 0,_e=O<m.length?m[O+1]:void 0;let dt,$e=null;L===z?(E+=2,O+=2,se!==_e&&($e=z,dt=_e)):null===z||null!==L&&L<z?(E+=2,$e=L):(O+=2,$e=z,dt=_e),null!==$e&&_x(s,o,l,h,$e,dt,D,T),L=E<f.length?f[E]:null,z=O<m.length?m[O]:null}}(f,T,D,D[11],D[m+1],D[m+1]=function eR(s,o,l){if(null==l||""===l)return jt;const h=[],f=$o(l);if(Array.isArray(f))for(let m=0;m<f.length;m++)s(h,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&s(h,m,f[m]);else"string"==typeof f&&o(h,f);return h}(s,o,l),h,m)}}(nr,Bd,s,!0)}function Bd(s,o){for(let l=function cx(s){return function nC(s){Us.key=0,Us.keyEnd=0,Us.value=0,Us.valueEnd=0,Us.textEnd=s.length}(s),eC(s,eg(s,0,Us.textEnd))}(o);l>=0;l=eC(o,l))nr(s,XD(o),!0)}function Yu(s,o,l,h){const f=Ze(),m=mn(),D=Ro(2);m.firstUpdatePass&&gx(m,s,D,h),o!==an&&Rt(f,D,o)&&_x(m,m.data[vr()],f,f[11],s,f[D+1]=function nR(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ne($o(s)))),s}(o,l),h,D)}function px(s,o){return o>=s.expandoStartIndex}function gx(s,o,l,h){const f=s.data;if(null===f[l+1]){const m=f[vr()],D=px(s,l);vx(m,h)&&null===o&&!D&&(o=!1),o=function KM(s,o,l,h){const f=function Ic(s){const o=Zt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=h?o.residualClasses:o.residualStyles;if(null===f)0===(h?o.classBindings:o.styleBindings)&&(l=Wv(l=aC(null,s,o,l,h),o.attrs,h),m=null);else{const D=o.directiveStylingLast;if(-1===D||s[D]!==f)if(l=aC(f,s,o,l,h),null===m){let E=function QM(s,o,l){const h=l?o.classBindings:o.styleBindings;if(0!==nu(h))return s[io(h)]}(s,o,h);void 0!==E&&Array.isArray(E)&&(E=aC(null,s,o,E[1],h),E=Wv(E,o.attrs,h),function JM(s,o,l,h){s[io(l?o.classBindings:o.styleBindings)]=h}(s,o,h,E))}else m=function XM(s,o,l){let h;const f=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<f;m++)h=Wv(h,s[m].hostAttrs,l);return Wv(h,o.attrs,l)}(s,o,h)}return void 0!==m&&(h?o.residualClasses=m:o.residualStyles=m),l}(f,m,o,h),function QD(s,o,l,h,f,m){let D=m?o.classBindings:o.styleBindings,T=io(D),E=nu(D);s[h]=l;let L,O=!1;if(Array.isArray(l)){const z=l;L=z[1],(null===L||Ma(z,L)>0)&&(O=!0)}else L=l;if(f)if(0!==E){const se=io(s[T+1]);s[h+1]=no(se,T),0!==se&&(s[se+1]=m_(s[se+1],h)),s[T+1]=function bv(s,o){return 131071&s|o<<17}(s[T+1],h)}else s[h+1]=no(T,0),0!==T&&(s[T+1]=m_(s[T+1],h)),T=h;else s[h+1]=no(E,0),0===T?T=h:s[E+1]=m_(s[E+1],h),E=h;O&&(s[h+1]=__(s[h+1])),JD(s,L,h,!0),JD(s,L,h,!1),function ox(s,o,l,h,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Ma(m,o)>=0&&(l[h+1]=sc(l[h+1]))}(o,L,s,h,m),D=no(T,E),m?o.classBindings=D:o.styleBindings=D}(f,m,o,l,D,h)}}function aC(s,o,l,h,f){let m=null;const D=l.directiveEnd;let T=l.directiveStylingLast;for(-1===T?T=l.directiveStart:T++;T<D&&(m=o[T],h=Wv(h,m.hostAttrs,f),m!==s);)T++;return null!==s&&(l.directiveStylingLast=T),h}function Wv(s,o,l){const h=l?1:2;let f=-1;if(null!==o)for(let m=0;m<o.length;m++){const D=o[m];"number"==typeof D?f=D:f===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),nr(s,D,!!l||o[++m]))}return void 0===s?null:s}function _x(s,o,l,h,f,m,D,T){if(!(3&o.type))return;const E=s.data,O=E[T+1];qb(function v_(s){return 1==(1&s)}(O)?mx(E,o,l,f,nu(O),D):void 0)||(qb(m)||function yv(s){return 2==(2&s)}(O)&&(m=mx(E,null,l,f,T,D)),function Ga(s,o,l,h,f){if(o)f?s.addClass(l,h):s.removeClass(l,h);else{let m=-1===h.indexOf("-")?void 0:nc.DashCase;null==f?s.removeStyle(l,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=nc.Important),s.setStyle(l,h,f,m))}}(h,D,Ns(vr(),l),f,m))}function mx(s,o,l,h,f,m){const D=null===o;let T;for(;f>0;){const E=s[f],O=Array.isArray(E),L=O?E[1]:E,z=null===L;let se=l[f+1];se===an&&(se=z?jt:void 0);let _e=z?Lc(se,h):L===h?se:void 0;if(O&&!qb(_e)&&(_e=Lc(E,h)),qb(_e)&&(T=_e,D))return T;const $e=s[f+1];f=D?io($e):nu($e)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(T=Lc(E,h))}return T}function qb(s){return void 0!==s}function vx(s,o){return 0!=(s.flags&(o?16:32))}function Zb(s,o=""){const l=Ze(),h=mn(),f=s+22,m=h.firstCreatePass?vl(h,f,1,o,null):h.data[f],D=l[f]=s_(l[11],o);Pp(h,l,D,m),_s(m,!1)}function cC(s){return ja("",s,""),cC}function ja(s,o,l){const h=Ze(),f=Ur(h,s,o,l);return f!==an&&yl(h,vr(),f),ja}function fr(s,o,l,h,f){const m=Ze(),D=xr(m,s,o,l,h,f);return D!==an&&yl(m,vr(),D),fr}function gC(s,o,l){const h=Ze();return Rt(h,yo(),o)&&_a(mn(),Ti(),h,s,o,h[11],l,!0),gC}const ng=void 0;var Fx=["en",[["a","p"],["AM","PM"],ng],[["AM","PM"],ng,ng],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ng,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ng,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ng,"{1} 'at' {0}",ng],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _C(s){const l=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let $f={};function Jv(s){const o=function Gf(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=W_(o);if(l)return l;const h=o.split("-")[0];if(l=W_(h),l)return l;if("en"===h)return Fx;throw new Le(701,!1)}function mC(s){return Jv(s)[Xt.PluralCase]}function W_(s){return s in $f||($f[s]=Un.ng&&Un.ng.common&&Un.ng.common.locales&&Un.ng.common.locales[s]),$f[s]}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const kx=["zero","one","two","few","many"],Hf="en-US",Vh={marker:"element"},Xv={marker:"ICU"};var Kr=(()=>((Kr=Kr||{})[Kr.SHIFT=2]="SHIFT",Kr[Kr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Kr[Kr.COMMENT=2]="COMMENT",Kr))();let vC=Hf;function yC(s){(function cn(s,o){null==s&&pt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(vC=s.toLowerCase().replace(/_/g,"-"))}function wC(s,o,l){const h=o.insertBeforeIndex,f=Array.isArray(h)?h[0]:h;return null===f?Th(s,0,l):Gi(l[f])}function Qb(s,o,l,h,f){const m=o.insertBeforeIndex;if(Array.isArray(m)){let D=h,T=null;if(3&o.type||(T=D,D=f),null!==D&&0==(2&o.flags))for(let E=1;E<m.length;E++)Bs(s,D,l[m[E]],T,!1)}}function DC(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const h=s[l];Jb(h)||Xb(h,o)&&null===ew(h)&&CC(h,o.index)}}function Jb(s){return!(64&s.type)}function Xb(s,o){return Jb(o)||s.index>o.index}function ew(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function CC(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(u_(wC,Qb),s.insertBeforeIndex=o)}function z_(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function aR(s,o,l){const h=E_(s,l,64,null,null);return DC(o,h),h}function nw(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function iw(s){return s>>>17}function IC(s){return(131070&s)>>>1}let ig=0,rg=0;function Ux(s,o,l,h){const f=l[11];let D,m=null;for(let T=0;T<o.length;T++){const E=o[T];if("string"==typeof E){const O=o[++T];null===l[O]&&(l[O]=s_(f,E))}else if("number"==typeof E)switch(1&E){case 0:const O=iw(E);let L,z;if(null===m&&(m=O,D=Gu(f,h)),O===m?(L=h,z=D):(L=null,z=Gi(l[O])),null!==z){const dt=IC(E);Bs(f,z,l[dt],L,!1);const Ft=z_(s,dt);if(null!==Ft&&"object"==typeof Ft){const en=nw(Ft,l);null!==en&&Ux(s,Ft.create[en],l,l[Ft.anchorIdx])}}break;case 1:const _e=o[++T],$e=o[++T];F_(f,Ns(E>>>1,l),null,null,_e,$e,null)}else switch(E){case Xv:const O=o[++T],L=o[++T];null===l[L]&&ys(l[L]=DD(f,O),l);break;case Vh:const z=o[++T],se=o[++T];null===l[se]&&ys(l[se]=o_(f,z,null),l)}}}function $x(s,o,l,h,f){for(let m=0;m<l.length;m++){const D=l[m],T=l[++m];if(D&f){let E="";for(let O=m+1;O<=m+T;O++){const L=l[O];if("string"==typeof L)E+=L;else if("number"==typeof L)if(L<0)E+=Oe(o[h-L]);else{const z=L>>>2;switch(3&L){case 1:const se=l[++O],_e=l[++O],$e=s.data[z];"string"==typeof $e?F_(o[11],o[z],null,$e,se,E,_e):_a(s,$e,o,se,E,o[11],_e,!1);break;case 0:const dt=o[z];null!==dt&&ev(o[11],dt,E);break;case 2:Gx(s,z_(s,z),o,E);break;case 3:sw(s,z_(s,z),h,o)}}}}else{const E=l[m+1];if(E>0&&3==(3&E)){const L=z_(s,E>>>2);o[L.currentCaseLViewIndex]<0&&sw(s,L,h,o)}}m+=T}}function sw(s,o,l,h){let f=h[o.currentCaseLViewIndex];if(null!==f){let m=ig;f<0&&(f=h[o.currentCaseLViewIndex]=~f,m=-1),$x(s,h,o.update[f],l,m)}}function Gx(s,o,l,h){const f=function Hx(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const h=function Lx(s,o){const l=mC(o)(parseInt(s,10)),h=kx[l];return void 0!==h?h:"other"}(o,function bC(){return vC}());l=s.cases.indexOf(h),-1===l&&"other"!==h&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,h);if(nw(o,l)!==f&&(AC(s,o,l),l[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const D=l[o.anchorIdx];D&&Ux(s,o.create[f],l,D)}}function AC(s,o,l){let h=nw(o,l);if(null!==h){const f=o.remove[h];for(let m=0;m<f.length;m++){const D=f[m];if(D>0){const T=Ns(D,l);null!==T&&iv(l[11],T)}else AC(s,z_(s,~D),l)}}}function jx(){const s=[];let l,h,o=-1;function m(T,E){o=0;const O=nw(T,E);h=null!==O?T.remove[O]:jt}function D(){if(o<h.length){const T=h[o++];return T>0?l[T]:(s.push(o,h),m(l[1].data[~T],l),D())}return 0===s.length?null:(h=s.pop(),o=s.pop(),D())}return function f(T,E){for(l=E;s.length;)s.pop();return m(T.value,E),D}}const ow=/\ufffd(\d+):?\d*\ufffd/gi,NC=/\ufffd(\d+)\ufffd/,qx=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,OC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hR=/\uE500/g;function Zx(s,o,l,h,f,m,D){const T=Rh(s,h,1,null);let E=T<<Kr.SHIFT,O=nl();o===O&&(O=null),null===O&&(E|=Kr.APPEND_EAGERLY),D&&(E|=Kr.COMMENT,function V0(s){void 0===Df&&(Df=s())}(jx)),f.push(E,null===m?"":m);const L=E_(s,T,D?32:1,null===m?"":m,null);DC(l,L);const z=L.index;return _s(L,!1),null!==O&&o!==O&&function tw(s,o){let l=s.insertBeforeIndex;null===l?(u_(wC,Qb),l=s.insertBeforeIndex=[null,o]):(function Re(s,o,l){s!=o&&pt(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(O,z),L}function pR(s,o,l,h,f,m,D){const T=D.match(ow),E=Zx(s,o,l,m,h,T?null:D,!1);T&&q_(f,D,E.index,null,0,null)}function q_(s,o,l,h,f,m){const D=s.length,T=D+1;s.push(null,null);const E=D+2,O=o.split(ow);let L=0;for(let z=0;z<O.length;z++){const se=O[z];if(1&z){const _e=f+parseInt(se,10);s.push(-1-_e),L|=Yx(_e)}else""!==se&&s.push(se)}return s.push(l<<2|(h?1:0)),h&&s.push(h,m),s[D]=L,s[T]=s.length-E,L}function Yx(s){return 1<<Math.min(s,31)}function Qx(s){let o,m,l="",h=0,f=!1;for(;null!==(o=OC.exec(s));)f?o[0]===`\ufffd/*${m}\ufffd`&&(h=o.index,f=!1):(l+=s.substring(h,o.index+o[0].length),m=o[1],f=!0);return l+=s.slice(h),l}function aw(s,o,l,h,f,m){let D=0;const T={type:f.type,currentCaseLViewIndex:Rh(s,o,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function lw(s,o,l){s.push(Yx(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,f,m),function Vx(s,o,l){const h=s.data[o];null===h?s.data[o]=l:h.value=l}(s,m,T);const E=f.values;for(let O=0;O<E.length;O++){const L=E[O],z=[];for(let se=0;se<L.length;se++){const _e=L[se];if("string"!=typeof _e){const $e=z.push(_e)-1;L[se]=`\x3c!--\ufffd${$e}\ufffd--\x3e`}}D=yR(s,T,o,l,h,f.cases[O],L.join(""),z)|D}D&&function eS(s,o,l){s.push(o,1,l<<2|3)}(l,D,m)}function vR(s){const o=[],l=[];let h=1,f=0;const m=RC(s=s.replace(qx,function(D,T,E){return h="select"===E?0:1,f=parseInt(T.slice(1),10),""}));for(let D=0;D<m.length;){let T=m[D++].trim();1===h&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&o.push(T);const E=RC(m[D++]);o.length>l.length&&l.push(E)}return{type:h,mainBinding:f,cases:o,values:l}}function RC(s){if(!s)return[];let o=0;const l=[],h=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(s);){const T=m.index;if("}"==m[0]){if(l.pop(),0==l.length){const E=s.substring(o,T);qx.test(E)?h.push(vR(E)):h.push(E),o=T+1}}else{if(0==l.length){const E=s.substring(o,T);h.push(E),o=T+1}l.push("{")}}const D=s.substring(o);return h.push(D),h}function yR(s,o,l,h,f,m,D,T){const E=[],O=[],L=[];o.cases.push(m),o.create.push(E),o.remove.push(O),o.update.push(L);const se=Ni(rr()).getInertBodyElement(D),_e=Ru(se)||se;return _e?Jx(s,o,l,h,E,O,L,_e,f,T,0):0}function Jx(s,o,l,h,f,m,D,T,E,O,L){let z=0,se=T.firstChild;for(;se;){const _e=Rh(s,l,1,null);switch(se.nodeType){case Node.ELEMENT_NODE:const $e=se,dt=$e.tagName.toLowerCase();if(pa.hasOwnProperty(dt)){cw(f,Vh,dt,E,_e),s.data[_e]=dt;const Ke=$e.attributes;for(let nn=0;nn<Ke.length;nn++){const bi=Ke.item(nn),wr=bi.name.toLowerCase();bi.value.match(ow)?Nu.hasOwnProperty(wr)&&q_(D,bi.value,_e,bi.name,0,ch[wr]?Xs:null):tS(f,_e,bi)}z=Jx(s,o,l,h,f,m,D,se,_e,O,L+1)|z,Xx(m,_e,L)}break;case Node.TEXT_NODE:const wt=se.textContent||"",Ft=wt.match(ow);cw(f,null,Ft?"":wt,E,_e),Xx(m,_e,L),Ft&&(z=q_(D,wt,_e,null,0,null)|z);break;case Node.COMMENT_NODE:const en=NC.exec(se.textContent||"");if(en){const nn=O[parseInt(en[1],10)];cw(f,Xv,"",E,_e),aw(s,l,h,E,nn,_e),FC(m,_e,L)}}se=se.nextSibling}return z}function Xx(s,o,l){0===l&&s.push(o)}function FC(s,o,l){0===l&&(s.push(~o),s.push(o))}function cw(s,o,l,h,f){null!==o&&s.push(o),s.push(l,f,function TC(s,o,l){return s|o<<17|l<<1}(0,h,f))}function tS(s,o,l){s.push(o<<1|1,l.name,l.value)}function iS(s,o,l=-1){const h=mn(),f=Ze(),m=22+s,D=_o(h.consts,o),T=nl();h.firstCreatePass&&function fR(s,o,l,h,f,m){const D=nl(),T=[],E=[],O=[[]];f=function mR(s,o){if(function Kx(s){return-1===s}(o))return Qx(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,h=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Qx(s.substring(l,h))}}(f,m);const L=function MC(s){return s.replace(hR," ")}(f).split(dR);for(let z=0;z<L.length;z++){let se=L[z];if(0==(1&z)){const _e=RC(se);for(let $e=0;$e<_e.length;$e++){let dt=_e[$e];if(0==(1&$e)){const wt=dt;""!==wt&&pR(s,D,O[0],T,E,l,wt)}else{const wt=dt;if("object"!=typeof wt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);aw(s,l,E,o,wt,Zx(s,D,O[0],l,T,"",!0).index)}}}else{const _e=47===se.charCodeAt(0),dt=(se.charCodeAt(_e?1:0),22+Number.parseInt(se.substring(_e?2:1)));if(_e)O.shift(),_s(nl(),!1);else{const wt=aR(s,O[0],dt);O.unshift([]),_s(wt,!0)}}}s.data[h]={create:T,update:E}}(h,null===T?0:T.index,f,m,D,l);const E=h.data[m],L=$a(h,T===f[6]?null:T,f);(function SC(s,o,l,h){const f=s[11];for(let m=0;m<o.length;m++){const D=o[m++],T=o[m],E=(D&Kr.COMMENT)===Kr.COMMENT,O=(D&Kr.APPEND_EAGERLY)===Kr.APPEND_EAGERLY,L=D>>>Kr.SHIFT;let z=s[L];null===z&&(z=s[L]=E?f.createComment(T):s_(f,T)),O&&null!==l&&Bs(f,l,z,h,!1)}})(f,E.create,L,T&&8&T.type?f[T.index]:null),Cc(!0)}function rS(s,o,l){iS(s,o,l),function dw(){Cc(!1)}()}function PC(s){return function EC(s){s&&(ig|=1<<Math.min(rg,31)),rg++}(Rt(Ze(),yo(),s)),PC}function sS(s){!function xC(s,o,l){if(rg>0){const h=s.data[l];$x(s,o,Array.isArray(h)?h:h.update,ji()-rg-1,ig)}ig=0,rg=0}(mn(),Ze(),s+22)}function kC(s,o,l,h,f){if(s=ue(s),Array.isArray(s))for(let m=0;m<s.length;m++)kC(s[m],o,l,h,f);else{const m=mn(),D=Ze();let T=Yl(s)?s:ue(s.provide),E=Bu(s);const O=Xi(),L=1048575&O.providerIndexes,z=O.directiveStart,se=O.providerIndexes>>20;if(Yl(s)||!s.multi){const _e=new xa(E,f,Mh),$e=fw(T,o,f?L:L+se,z);-1===$e?(bo(cl(O,D),m,T),LC(m,s,o.length),o.push(T),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(_e),D.push(_e)):(l[$e]=_e,D[$e]=_e)}else{const _e=fw(T,o,L+se,z),$e=fw(T,o,L,L+se),dt=_e>=0&&l[_e],wt=$e>=0&&l[$e];if(f&&!wt||!f&&!dt){bo(cl(O,D),m,T);const Ft=function lS(s,o,l,h,f){const m=new xa(s,l,Mh);return m.multi=[],m.index=o,m.componentProviders=0,hw(m,f,h&&!l),m}(f?aS:oS,l.length,f,h,E);!f&&wt&&(l[$e].providerFactory=Ft),LC(m,s,o.length,0),o.push(T),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(Ft),D.push(Ft)}else LC(m,s,_e>-1?_e:$e,hw(l[f?$e:_e],E,!f&&h));!f&&h&&wt&&l[$e].componentProviders++}}}function LC(s,o,l,h){const f=Yl(o),m=function jo(s){return!!s.useClass}(o);if(f||m){const E=(m?ue(o.useClass):o).prototype.ngOnDestroy;if(E){const O=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const L=O.indexOf(l);-1===L?O.push(l,[h,E]):O[L+1].push(h,E)}else O.push(l,E)}}}function hw(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function fw(s,o,l,h){for(let f=l;f<h;f++)if(o[f]===s)return f;return-1}function oS(s,o,l,h){return pw(this.multi,[])}function aS(s,o,l,h){const f=this.multi;let m;if(this.providerFactory){const D=this.providerFactory.componentProviders,T=aa(l,l[1],this.providerFactory.index,h);m=T.slice(0,D),pw(f,m);for(let E=D;E<T.length;E++)m.push(T[E])}else m=[],pw(f,m);return m}function pw(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function BC(s,o=[]){return l=>{l.providersResolver=(h,f)=>function AR(s,o,l){const h=mn();if(h.firstCreatePass){const f=_r(s);kC(l,h.data,h.blueprint,f,!0),kC(o,h.data,h.blueprint,f,!1)}}(h,f?f(s):s,o)}}class sg{}class VC{}function cS(s,o){return new uS(s,o??null)}class uS extends sg{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lf(this);const h=Wr(o);this._bootstrapComponents=tc(h.bootstrap),this._r3Injector=p_(o,l,[{provide:sg,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],Ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class gw extends VC{constructor(o){super(),this.moduleType=o}create(o){return new uS(this.moduleType,o)}}class OR extends sg{constructor(o,l,h){super(),this.componentFactoryResolver=new Lf(this),this.instance=null;const f=new Io([...o,{provide:sg,useValue:this},{provide:v,useValue:this.componentFactoryResolver}],l||ku(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function _w(s,o,l=null){return new OR(s,o,l).injector}let dS=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=Ed(0,l.type),f=h.length>0?_w([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=pn({token:s,providedIn:"environment",factory:()=>new s(ir(Jl))}),s})();function UC(s){s.getStandaloneInjector=o=>o.get(dS).getOrCreateStandaloneInjector(s)}function bw(s,o,l,h){return Dw(Ze(),Hi(),s,o,l,h)}function Y_(s,o,l,h,f){return function zC(s,o,l,h,f,m,D){const T=o+l;return hn(s,T,f,m)?mt(s,T+2,D?h.call(D,f,m):h(f,m)):Wf(s,T+2)}(Ze(),Hi(),s,o,l,h,f)}function ww(s,o,l,h,f,m){return function ry(s,o,l,h,f,m,D,T){const E=o+l;return function Jt(s,o,l,h,f){const m=hn(s,o,l,h);return Rt(s,o+2,f)||m}(s,E,f,m,D)?mt(s,E+3,T?h.call(T,f,m,D):h(f,m,D)):Wf(s,E+3)}(Ze(),Hi(),s,o,l,h,f,m)}function Wf(s,o){const l=s[o];return l===an?void 0:l}function Dw(s,o,l,h,f,m){const D=o+l;return Rt(s,D,f)?mt(s,D+1,m?h.call(m,f):h(f)):Wf(s,D+1)}function qC(s,o){const l=mn();let h;const f=s+22;l.firstCreatePass?(h=function ag(s,o){if(o)for(let l=o.length-1;l>=0;l--){const h=o[l];if(s===h.name)return h}}(o,l.pipeRegistry),l.data[f]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,h.onDestroy)):h=l.data[f];const m=h.factory||(h.factory=No(h.type)),D=Cn(Mh);try{const T=Ul(!1),E=m();return Ul(T),function jM(s,o,l,h){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=h}(l,Ze(),f,E),E}finally{Cn(D)}}function ZC(s,o,l){const h=s+22,f=Ze(),m=Mo(f,h);return function sy(s,o){return s[1].data[o].pure}(f,h)?Dw(f,Hi(),o,m.transform,l,m):m.transform(l)}function Ju(s){return o=>{setTimeout(s,void 0,o)}}const ac=class Eo extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,h){let f=o,m=l||(()=>null),D=h;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),m=E.error?.bind(E),D=E.complete?.bind(E)}this.__isAsync&&(m=Ju(m),f&&(f=Ju(f)),D&&(D=Ju(D)));const T=super.subscribe({next:f,error:m,complete:D});return o instanceof P.w0&&o.add(T),T}};function yS(){return this._results[G()]()}class Cw{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=G(),h=Cw.prototype;h[l]||(h[l]=yS)}get changes(){return this._changes||(this._changes=new ac)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const h=this;h.dirty=!1;const f=Zr(o);(this._changesDetected=!function Rs(s,o,l){if(s.length!==o.length)return!1;for(let h=0;h<s.length;h++){let f=s[h],m=o[h];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(h._results,f,l))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let lg=(()=>{class s{}return s.__NG_ELEMENT_ID__=XC,s})();const JC=lg,bS=class extends JC{constructor(o,l,h){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(o,l){const h=this._declarationTContainer.tViews,f=T_(this._declarationLView,h,o,16,null,h.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(f[19]=D.createEmbeddedView(h)),x_(h,f,o),new Qp(f)}};function XC(){return oy(Xi(),Ze())}function oy(s,o){return 4&s.type?new bS(o,s,M(s,o)):null}let Q_=(()=>{class s{}return s.__NG_ELEMENT_ID__=eI,s})();function eI(){return tI(Xi(),Ze())}const ay=Q_,$h=class extends ay{constructor(o,l,h){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=h}get element(){return M(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const o=ul(this._hostTNode,this._hostLView);if(Ac(o)){const l=Vl(o,this._hostLView),h=xi(o);return new la(l[1].data[h+8],l)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Bn(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const D=o.createEmbeddedView(l||{},m);return this.insert(D,f),D}createComponent(o,l,h,f,m){const D=o&&!function Wn(s){return"function"==typeof s}(o);let T;if(D)T=l;else{const z=l||{};T=z.index,h=z.injector,f=z.projectableNodes,m=z.environmentInjector||z.ngModuleRef}const E=D?o:new Ph(on(o)),O=h||this.parentInjector;if(!m&&null==E.ngModule){const se=(D?O:this.parentInjector).get(Jl,null);se&&(m=se)}const L=E.create(O,f,void 0,m);return this.insert(L.hostView,T),L}insert(o,l){const h=o._lView,f=h[1];if(function os(s){return Ji(s[3])}(h)){const L=this.indexOf(o);if(-1!==L)this.detach(L);else{const z=h[3],se=new $h(z,z[6],z[3]);se.detach(se.indexOf(o))}}const m=this._adjustIndex(l),D=this._lContainer;!function j0(s,o,l,h){const f=10+h,m=l.length;h>0&&(l[f-1][4]=o),h<m-10?(o[4]=l[f],lr(l,10+h,o)):(l.push(o),o[4]=null),o[3]=l;const D=o[17];null!==D&&l!==D&&function xD(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(D,o);const T=o[19];null!==T&&T.insertView(s),o[2]|=64}(f,h,D,m);const T=Eh(m,D),E=h[11],O=Gu(E,D[7]);return null!==O&&function ID(s,o,l,h,f,m){h[0]=f,h[6]=o,xf(s,h,l,1,f,m)}(f,D[6],E,h,O,T),o.attachToViewContainerRef(),lr(zf(D),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Bn(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),h=a_(this._lContainer,l);h&&(ri(zf(this._lContainer),l),Cf(h[1],h))}detach(o){const l=this._adjustIndex(o,-1),h=a_(this._lContainer,l);return h&&null!=ri(zf(this._lContainer),l)?new Qp(h):null}_adjustIndex(o,l=0){return o??this.length+l}};function Bn(s){return s[8]}function zf(s){return s[8]||(s[8]=[])}function tI(s,o){let l;const h=o[s.index];if(Ji(h))l=h;else{let f;if(8&s.type)f=Gi(h);else{const m=o[11];f=m.createComment("");const D=ss(s,o);Bs(m,Gu(m,D),f,function z0(s,o){return s.nextSibling(o)}(m,D),!1)}o[s.index]=l=Eb(h,o,f,s),Fh(o,l)}return new $h(l,s,o)}class J_{constructor(o){this.queryList=o,this.matches=null}clone(){return new J_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const h=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let m=0;m<h;m++){const D=l.getByIndex(m);f.push(this.queries[D.indexInDeclarationView].clone())}return new Iw(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==aI(o,l).matches&&this.queries[l].setDirty()}}class X_{constructor(o,l,h=null){this.predicate=o,this.flags=l,this.read=h}}class Zf{constructor(o=[]){this.queries=o}elementStart(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let h=0;h<this.length;h++){const f=null!==l?l.length:0,m=this.getByIndex(h).embeddedTView(o,f);m&&(m.indexInDeclarationView=h,null!==l?l.push(m):l=[m])}return null!==l?new Zf(l):null}template(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ly{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ly(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=o.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(o,l,cy(l,m)),this.matchTNodeWithReadOption(o,l,tr(l,o,m,!1,!1))}else h===lg?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,tr(l,o,h,!1,!1))}matchTNodeWithReadOption(o,l,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===V||f===Q_||f===lg&&4&l.type)this.addMatch(l.index,-2);else{const m=tr(l,o,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,h)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function cy(s,o){const l=s.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===o)return l[h+1];return null}function Tw(s,o,l,h){return-1===l?function CS(s,o){return 11&s.type?M(s,o):4&s.type?oy(s,o):null}(o,s):-2===l?function uy(s,o,l){return l===V?M(o,s):l===lg?oy(o,s):l===Q_?tI(o,s):void 0}(s,o,h):aa(s,s[1],l,o)}function Ew(s,o,l,h){const f=o[19].queries[h];if(null===f.matches){const m=s.data,D=l.matches,T=[];for(let E=0;E<D.length;E+=2){const O=D[E];T.push(O<0?null:Tw(o,m[O],D[E+1],l.metadata.read))}f.matches=T}return f.matches}function dy(s,o,l,h){const f=s.queries.getByIndex(l),m=f.matches;if(null!==m){const D=Ew(s,o,f,l);for(let T=0;T<m.length;T+=2){const E=m[T];if(E>0)h.push(D[T/2]);else{const O=m[T+1],L=o[-E];for(let z=10;z<L.length;z++){const se=L[z];se[17]===se[3]&&dy(se[1],se,O,h)}if(null!==L[9]){const z=L[9];for(let se=0;se<z.length;se++){const _e=z[se];dy(_e[1],_e,O,h)}}}}}return h}function nI(s){const o=Ze(),l=mn(),h=Ea();Tc(h+1);const f=aI(l,h);if(s.dirty&&function qr(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?dy(l,o,h,[]):Ew(l,o,f,h);s.reset(m,le),s.notifyOnChanges()}return!0}return!1}function iI(s,o,l){const h=mn();h.firstCreatePass&&(oI(h,new X_(s,o,l),-1),2==(2&o)&&(h.staticViewQueries=!0)),sI(h,Ze(),o)}function rI(s,o,l,h){const f=mn();if(f.firstCreatePass){const m=Xi();oI(f,new X_(o,l,h),m.index),function TS(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}sI(f,Ze(),l)}function em(){return function IS(s,o){return s[19].queries[o].queryList}(Ze(),Ea())}function sI(s,o,l){const h=new Cw(4==(4&l));Mv(s,o,h,h.destroy),null===o[19]&&(o[19]=new Iw),o[19].queries.push(new J_(h))}function oI(s,o,l){null===s.queries&&(s.queries=new Zf),s.queries.track(new ly(o,l))}function aI(s,o){return s.queries.getByIndex(o)}function hy(s,o){return oy(s,o)}function pg(...s){}const gg=new pi("Application Initializer");let my=(()=>{class s{constructor(l){this.appInits=l,this.resolve=pg,this.reject=pg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if($b(m))l.push(m);else if(KE(m)){const D=new Promise((T,E)=>{m.subscribe({complete:T,error:E})});l.push(D)}}Promise.all(l).then(()=>{h()}).catch(f=>{this.reject(f)}),0===l.length&&h(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ir(gg,8))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const DI=new pi("AppId",{providedIn:"root",factory:function vy(){return`${yy()}${yy()}${yy()}`}});function yy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kw=new pi("Platform Initializer"),CI=new pi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),II=new pi("appBootstrapListener");let Bw=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const wy=new pi("LocaleId",{providedIn:"root",factory:()=>x(wy,yt.Optional|yt.SkipSelf)||function VS(){return typeof $localize<"u"&&$localize.locale||Hf}()}),Vw=new pi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class UR{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let $R=(()=>{class s{compileModuleSync(l){return new gw(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),m=tc(Wr(l).declarations).reduce((D,T)=>{const E=on(T);return E&&D.push(new Ph(E)),D},[]);return new UR(h,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const im=(()=>Promise.resolve(0))();function $w(s){typeof Zone>"u"?im.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class bl{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ac(!1),this.onMicrotaskEmpty=new ac(!1),this.onStable=new ac(!1),this.onError=new ac(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&l,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function GS(){let s=Un.requestAnimationFrame,o=Un.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const h=o[Zone.__symbol__("OriginalDelegate")];h&&(o=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _g(s){const o=()=>{!function HS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Un,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Jf(s),s.isCheckStableRunning=!0,Gw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Jf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,f,m,D,T)=>{try{return EI(s),l.invokeTask(f,m,D,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),xI(s)}},onInvoke:(l,h,f,m,D,T,E)=>{try{return EI(s),l.invoke(f,m,D,T,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),xI(s)}},onHasTask:(l,h,f,m)=>{l.hasTask(f,m),h===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Jf(s),Gw(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,h,f,m)=>(l.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bl.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(bl.isInAngularZone())throw new Le(909,!1)}run(o,l,h){return this._inner.run(o,l,h)}runTask(o,l,h,f){const m=this._inner,D=m.scheduleEventTask("NgZoneEvent: "+f,o,Cy,pg,pg);try{return m.runTask(D,l,h)}finally{m.cancelTask(D)}}runGuarded(o,l,h){return this._inner.runGuarded(o,l,h)}runOutsideAngular(o){return this._outer.run(o)}}const Cy={};function Gw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Jf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function EI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function xI(s){s._nesting--,Gw(s)}class rm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ac,this.onMicrotaskEmpty=new ac,this.onStable=new ac,this.onError=new ac}run(o,l,h){return o.apply(l,h)}runGuarded(o,l,h){return o.apply(l,h)}runOutsideAngular(o){return o()}runTask(o,l,h,f){return o.apply(l,h)}}const mg=new pi(""),SI=new pi("");let Hw,jS=(()=>{class s{constructor(l,h,f){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hw||(function WS(s){Hw=s}(f),f.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bl.assertNotInAngularZone(),$w(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$w(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==m),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(ir(bl),ir(AI),ir(SI))},s.\u0275prov=pn({token:s,factory:s.\u0275fac}),s})(),AI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return Hw?.findTestabilityInTree(this,l,h)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Hh=null;const zS=new pi("AllowMultipleToken"),jw=new pi("PlatformDestroyListeners");class ZS{constructor(o,l){this.name=o,this.token=l}}function OI(s,o,l=[]){const h=`Platform: ${o}`,f=new pi(h);return(m=[])=>{let D=Ww();if(!D||D.injector.get(zS,!1)){const T=[...l,...m,{provide:f,useValue:!0}];s?s(T):function YS(s){if(Hh&&!Hh.get(zS,!1))throw new Le(400,!1);Hh=s;const o=s.get(Ty);(function NI(s){const o=s.get(kw,null);o&&o.forEach(l=>l())})(s)}(function MI(s=[],o){return bs.create({name:o,providers:[{provide:Kl,useValue:"platform"},{provide:jw,useValue:new Set([()=>Hh=null])},...s]})}(T,h))}return function QS(s){const o=Ww();if(!o)throw new Le(401,!1);return o}()}}function Ww(){return Hh?.get(Ty)??null}let Ty=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const f=function Ey(s,o){let l;return l="noop"===s?new rm:("zone.js"===s?void 0:s)||new bl(o),l}(h?.ngZone,function zw(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:bl,useValue:f}];return f.run(()=>{const D=bs.create({providers:m,parent:this.injector,name:l.moduleType.name}),T=l.create(D),E=T.injector.get(Od,null);if(!E)throw new Le(402,!1);return f.runOutsideAngular(()=>{const O=f.onError.subscribe({next:L=>{E.handleError(L)}});T.onDestroy(()=>{Sy(this._modules,T),O.unsubscribe()})}),function om(s,o,l){try{const h=l();return $b(h)?h.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):h}catch(h){throw o.runOutsideAngular(()=>s.handleError(h)),h}}(E,f,()=>{const O=T.injector.get(my);return O.runInitializers(),O.donePromise.then(()=>(yC(T.injector.get(wy,Hf)||Hf),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,h=[]){const f=RI({},h);return function Iy(s,o,l){const h=new gw(l);return Promise.resolve(h)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const h=l.injector.get(xy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Le(403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(jw,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ir(bs))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function RI(s,o){return Array.isArray(o)?o.reduce(RI,s):{...s,...o}}let xy=(()=>{class s{constructor(l,h,f){this._zone=l,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new W.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new W.y(T=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{bl.assertNotInAngularZone(),$w(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{bl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{E.unsubscribe(),O.unsubscribe()}});this.isStable=(0,be.T)(m,D.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const f=l instanceof Jc;if(!this._injector.get(my).done)throw!f&&us(l),new Le(405,false);let D;D=f?l:this._injector.get(v).resolveComponentFactory(l),this.componentTypes.push(D.componentType);const T=function qS(s){return s.isBoundToModule}(D)?void 0:this._injector.get(sg),O=D.create(bs.NULL,[],h||D.selector,T),L=O.location.nativeElement,z=O.injector.get(mg,null);return z?.registerApplication(L),O.onDestroy(()=>{this.detachView(O.hostView),Sy(this.components,O),z?.unregisterApplication(L)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Sy(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(II,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Sy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Le(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(ir(bl),ir(Jl),ir(Od))},s.\u0275prov=pn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Sy(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let qw=!0,Zw=!1;function Ny(){return Zw=!0,qw}function Oy(){if(Zw)throw new Error("Cannot enable prod mode after platform setup.");qw=!1}let eA=(()=>{class s{}return s.__NG_ELEMENT_ID__=tA,s})();function tA(s){return function nA(s,o,l){if(gs(s)&&!l){const h=An(s.index,o);return new Qp(h,h)}return 47&s.type?new Qp(o[16],o):null}(Xi(),Ze(),16==(16&s))}class BI{constructor(){}supports(o){return re(o)}create(o){return new Qw(o)}}const VI=(s,o)=>o;class Qw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||VI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,h=this._removalsHead,f=0,m=null;for(;l||h;){const D=!h||l&&l.currentIndex<GI(h,f,m)?l:h,T=GI(D,f,m),E=D.currentIndex;if(D===h)f--,h=h._nextRemoved;else if(l=l._next,null==D.previousIndex)f++;else{m||(m=[]);const O=T-f,L=E-f;if(O!=L){for(let se=0;se<O;se++){const _e=se<m.length?m[se]:m[se]=0,$e=_e+se;L<=$e&&$e<O&&(m[se]=_e+1)}m[D.previousIndex]=L-O}}T!==E&&o(D,T,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!re(o))throw new Le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,m,D,l=this._itHead,h=!1;if(Array.isArray(o)){this.length=o.length;for(let T=0;T<this.length;T++)m=o[T],D=this._trackByFn(T,m),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,m,D,T)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,D,T),h=!0),l=l._next}else f=0,function je(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[G()]();let h;for(;!(h=l.next()).done;)o(h.value)}}(o,T=>{D=this._trackByFn(f,T),null!==l&&Object.is(l.trackById,D)?(h&&(l=this._verifyReinsertion(l,T,D,f)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,D,f),h=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,h,f){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,f)):o=this._addAfter(new UI(l,h),m,f),o}_verifyReinsertion(o,l,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?o=this._reinsertAfter(m,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,m=o._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(o,l,h),this._addToMoves(o,h),o}_moveAfter(o,l,h){return this._unlink(o),this._insertAfter(o,l,h),this._addToMoves(o,h),o}_addAfter(o,l,h){return this._insertAfter(o,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,h){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new oA),this._linkedRecords.put(o),o.currentIndex=h,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,h=o._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oA),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class UI{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $I{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,o))return h;return null}remove(o){const l=o._prevDup,h=o._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class oA{constructor(){this.map=new Map}put(o){const l=o.trackById;let h=this.map.get(l);h||(h=new $I,this.map.set(l,h)),h.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GI(s,o,l){const h=s.previousIndex;if(null===h)return h;let f=0;return l&&h<l.length&&(f=l[h]),h+o+f}class HI{constructor(){}supports(o){return o instanceof Map||qe(o)}create(){return new aA}}class aA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||qe(o)))throw new Le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(h,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,h);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const h=o._prev;return l._next=o,l._prev=h,o._prev=l,h&&(h._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const m=f._prev,D=f._next;return m&&(m._next=D),D&&(D._prev=m),f._next=null,f._prev=null,f}const h=new lA(o);return this._records.set(o,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(h=>l(o[h],h))}}class lA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function am(){return new Vy([new BI])}let Vy=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(null!=h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||am()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(null!=h)return h;throw new Le(901,!1)}}return s.\u0275prov=pn({token:s,providedIn:"root",factory:am}),s})();function Uy(){return new Jw([new HI])}let Jw=(()=>{class s{constructor(l){this.factories=l}static create(l,h){if(h){const f=h.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||Uy()),deps:[[s,new Ht,new nt]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(h)return h;throw new Le(901,!1)}}return s.\u0275prov=pn({token:s,providedIn:"root",factory:Uy}),s})();const uA=OI(null,"core",[]);let dA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ir(xy))},s.\u0275mod=Pt({type:s}),s.\u0275inj=un({}),s})();function hA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function iF(s,o){const l=on(s),h=o.elementInjector||ku();return new Ph(l).create(h,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(At,Ge,j)=>{"use strict";j.d(Ge,{Z:()=>Le});var c=j(2090),P=j(4859),W=j(9681),be=j(1877);class ge{constructor(Oe,Me){this._delegate=Oe,this.firebase=Me,(0,W._addComponent)(Oe,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Oe,Me=W._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(Oe);return!xt.isInitialized()&&"EXPLICIT"===(null===(at=xt.getComponent())||void 0===at?void 0:at.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:Me})}_removeServiceInstance(Oe,Me=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Me)}_addComponent(Oe){(0,W._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,W._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Ae(){const ht=function Ne(ht){const Oe={},Me={__esModule:!0,initializeApp:function He(ft,Q={}){const Re=W.initializeApp(ft,Q);if((0,c.r3)(Oe,Re.name))return Oe[Re.name];const ae=new ht(Re,Me);return Oe[Re.name]=ae,ae},app:xt,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function ke(ft){const Q=ft.name,Re=Q.replace("-compat","");if(W._registerComponent(ft)&&"PUBLIC"===ft.type){const ae=(pe=xt())=>{if("function"!=typeof pe[Re])throw Ie.create("invalid-app-argument",{appName:Q});return pe[Re]()};void 0!==ft.serviceProps&&(0,c.ZB)(ae,ft.serviceProps),Me[Re]=ae,ht.prototype[Re]=function(...pe){return this._getService.bind(this,Q).apply(this,ft.multipleInstances?pe:[])}}return"PUBLIC"===ft.type?Me[Re]:null},removeApp:function at(ft){delete Oe[ft]},useAsService:function st(ft,Q){return"serverAuth"===Q?null:Q},modularAPIs:W}};function xt(ft){if(!(0,c.r3)(Oe,ft=ft||W._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:ft});return Oe[ft]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function Pe(){return Object.keys(Oe).map(ft=>Oe[ft])}}),xt.App=ht,Me}(ge);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Oe(Me){(0,c.ZB)(ht,Me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ht}(),X=new be.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=J;!function Ue(ht){(0,W.registerVersion)("@firebase/app-compat","0.1.34",ht)}()},9681:(At,Ge,j)=>{"use strict";j.r(Ge),j.d(Ge,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>ns,_DEFAULT_ENTRY_NAME:()=>cn,_addComponent:()=>Vn,_addOrOverwriteComponent:()=>pn,_apps:()=>Yn,_clearComponents:()=>Ar,_components:()=>di,_getProvider:()=>un,_registerComponent:()=>gr,_removeServiceInstance:()=>Qt,deleteApp:()=>vi,getApp:()=>Oi,getApps:()=>Nr,initializeApp:()=>hi,onLog:()=>jr,registerVersion:()=>Hr,setLogLevel:()=>Cn});var c=j(5861),P=j(4859),W=j(1877),be=j(2090),ge=j(8766);class Ce{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(ie=>{if(function Ie(K){return"VERSION"===K.getComponent()?.type}(ie)){const ze=ie.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(ie=>ie).join(" ")}}const Ne="@firebase/app",J=new W.Yd("@firebase/app"),cn="[DEFAULT]",pt={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yn=new Map,di=new Map;function Vn(K,ne){try{K.container.addComponent(ne)}catch(ie){J.debug(`Component ${ne.name} failed to register with FirebaseApp ${K.name}`,ie)}}function pn(K,ne){K.container.addOrOverwriteComponent(ne)}function gr(K){const ne=K.name;if(di.has(ne))return J.debug(`There were multiple attempts to register component ${ne}.`),!1;di.set(ne,K);for(const ie of Yn.values())Vn(ie,K);return!0}function un(K,ne){const ie=K.container.getProvider("heartbeat").getImmediate({optional:!0});return ie&&ie.triggerHeartbeat(),K.container.getProvider(ne)}function Qt(K,ne,ie=cn){un(K,ne).clearInstance(ie)}function Ar(){di.clear()}const Pn=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zi{constructor(ne,ie,ze){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},ie),this._name=ie.name,this._automaticDataCollectionEnabled=ie.automaticDataCollectionEnabled,this._container=ze,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}const ns="9.10.0";function hi(K,ne={}){"object"!=typeof ne&&(ne={name:ne});const ie=Object.assign({name:cn,automaticDataCollectionEnabled:!1},ne),ze=ie.name;if("string"!=typeof ze||!ze)throw Pn.create("bad-app-name",{appName:String(ze)});const ut=Yn.get(ze);if(ut){if((0,be.vZ)(K,ut.options)&&(0,be.vZ)(ie,ut.config))return ut;throw Pn.create("duplicate-app",{appName:ze})}const Pt=new P.H0(ze);for(const kn of di.values())Pt.addComponent(kn);const oi=new zi(K,ie,Pt);return Yn.set(ze,oi),oi}function Oi(K=cn){const ne=Yn.get(K);if(!ne)throw Pn.create("no-app",{appName:K});return ne}function Nr(){return Array.from(Yn.values())}function vi(K){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(K){const ne=K.name;Yn.has(ne)&&(Yn.delete(ne),yield Promise.all(K.container.getProviders().map(ie=>ie.delete())),K.isDeleted=!0)})).apply(this,arguments)}function Hr(K,ne,ie){var ze;let ut=null!==(ze=pt[K])&&void 0!==ze?ze:K;ie&&(ut+=`-${ie}`);const Pt=ut.match(/\s|\//),oi=ne.match(/\s|\//);if(Pt||oi){const kn=[`Unable to register library "${ut}" with version "${ne}":`];return Pt&&kn.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),Pt&&oi&&kn.push("and"),oi&&kn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void J.warn(kn.join(" "))}gr(new P.wA(`${ut}-version`,()=>({library:ut,version:ne}),"VERSION"))}function jr(K,ne){if(null!==K&&"function"!=typeof K)throw Pn.create("invalid-log-argument");(0,W.Am)(K,ne)}function Cn(K){(0,W.Ub)(K)}const Li="firebase-heartbeat-store";let wi=null;function fi(){return wi||(wi=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(K,ne)=>{0===ne&&K.createObjectStore(Li)}}).catch(K=>{throw Pn.create("idb-open",{originalErrorMessage:K.message})})),wi}function Ot(){return(Ot=(0,c.Z)(function*(K){var ne;try{return(yield fi()).transaction(Li).objectStore(Li).get(Vi(K))}catch(ie){if(ie instanceof be.ZR)J.warn(ie.message);else{const ze=Pn.create("idb-get",{originalErrorMessage:null===(ne=ie)||void 0===ne?void 0:ne.message});J.warn(ze.message)}}})).apply(this,arguments)}function Un(K,ne){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(K,ne){var ie;try{const ut=(yield fi()).transaction(Li,"readwrite");return yield ut.objectStore(Li).put(ne,Vi(K)),ut.done}catch(ze){if(ze instanceof be.ZR)J.warn(ze.message);else{const ut=Pn.create("idb-set",{originalErrorMessage:null===(ie=ze)||void 0===ie?void 0:ie.message});J.warn(ut.message)}}})).apply(this,arguments)}function Vi(K){return`${K.name}!${K.options.appId}`}class Ts{constructor(ne){this.container=ne,this._heartbeatsCache=null;const ie=this.container.getProvider("app").getImmediate();this._storage=new In(ie),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var ne=this;return(0,c.Z)(function*(){const ze=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=xn();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==ut&&!ne._heartbeatsCache.heartbeats.some(Pt=>Pt.date===ut))return ne._heartbeatsCache.heartbeats.push({date:ut,agent:ze}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Pt=>{const oi=new Date(Pt.date).valueOf();return Date.now()-oi<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,c.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const ie=xn(),{heartbeatsToSend:ze,unsentEntries:ut}=function is(K,ne=1024){const ie=[];let ze=K.slice();for(const ut of K){const Pt=ie.find(oi=>oi.agent===ut.agent);if(Pt){if(Pt.dates.push(ut.date),oe(ie)>ne){Pt.dates.pop();break}}else if(ie.push({agent:ut.agent,dates:[ut.date]}),oe(ie)>ne){ie.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:ie,unsentEntries:ze}}(ne._heartbeatsCache.heartbeats),Pt=(0,be.L)(JSON.stringify({version:2,heartbeats:ze}));return ne._heartbeatsCache.lastSentHeartbeatDate=ie,ut.length>0?(ne._heartbeatsCache.heartbeats=ut,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Pt})()}}function xn(){return(new Date).toISOString().substring(0,10)}class In{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,c.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function kt(K){return Ot.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var ie=this;return(0,c.Z)(function*(){var ze;if(yield ie._canUseIndexedDBPromise){const Pt=yield ie.read();return Un(ie.app,{lastSentHeartbeatDate:null!==(ze=ne.lastSentHeartbeatDate)&&void 0!==ze?ze:Pt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var ie=this;return(0,c.Z)(function*(){var ze;if(yield ie._canUseIndexedDBPromise){const Pt=yield ie.read();return Un(ie.app,{lastSentHeartbeatDate:null!==(ze=ne.lastSentHeartbeatDate)&&void 0!==ze?ze:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...ne.heartbeats]})}})()}}function oe(K){return(0,be.L)(JSON.stringify({version:2,heartbeats:K})).length}!function te(K){gr(new P.wA("platform-logger",ne=>new Ce(ne),"PRIVATE")),gr(new P.wA("heartbeat",ne=>new Ts(ne),"PRIVATE")),Hr(Ne,"0.7.33",K),Hr(Ne,"0.7.33","esm2017"),Hr("fire-js","")}("")},4859:(At,Ge,j)=>{"use strict";j.d(Ge,{H0:()=>Ne,wA:()=>W});var c=j(5861),P=j(2090);class W{constructor(J,X,ue){this.name=J,this.instanceFactory=X,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const be="[DEFAULT]";class ge{constructor(J,X){this.name=J,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const X=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(X)){const ue=new P.BH;if(this.instancesDeferred.set(X,ue),this.isInitialized(X)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:X});tt&&ue.resolve(tt)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(J){var X;const ue=this.normalizeInstanceIdentifier(J?.identifier),tt=null!==(X=J?.optional)&&void 0!==X&&X;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Ue){if(tt)return null;throw Ue}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Ie(Ae){return"EAGER"===Ae.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[X,ue]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(X);try{const Ue=this.getOrInitializeService({instanceIdentifier:tt});ue.resolve(Ue)}catch{}}}}clearInstance(J=be){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,c.Z)(function*(){const X=Array.from(J.instances.values());yield Promise.all([...X.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...X.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=be){return this.instances.has(J)}getOptions(J=be){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:X={}}=J,ue=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:ue,options:X});for(const[Ue,Le]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Ue)&&Le.resolve(tt);return tt}onInit(J,X){var ue;const tt=this.normalizeInstanceIdentifier(X),Ue=null!==(ue=this.onInitCallbacks.get(tt))&&void 0!==ue?ue:new Set;Ue.add(J),this.onInitCallbacks.set(tt,Ue);const Le=this.instances.get(tt);return Le&&J(Le,tt),()=>{Ue.delete(J)}}invokeOnInitCallbacks(J,X){const ue=this.onInitCallbacks.get(X);if(ue)for(const tt of ue)try{tt(J,X)}catch{}}getOrInitializeService({instanceIdentifier:J,options:X={}}){let ue=this.instances.get(J);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=J,Ae===be?void 0:Ae),options:X}),this.instances.set(J,ue),this.instancesOptions.set(J,X),this.invokeOnInitCallbacks(ue,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ue)}catch{}var Ae;return ue||null}normalizeInstanceIdentifier(J=be){return this.component?this.component.multipleInstances?J:be:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const X=this.getProvider(J.name);if(X.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);X.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const X=new ge(J,this);return this.providers.set(J,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(At,Ge,j)=>{"use strict";j.d(Ge,{Am:()=>Ae,Ub:()=>Ne,Yd:()=>Ie,in:()=>P});const c=[];var P=(()=>{return(J=P||(P={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",P;var J})();const W={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},be=P.INFO,ge={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},Ce=(J,X,...ue)=>{if(X<J.logLevel)return;const tt=(new Date).toISOString(),Ue=ge[X];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Ue](`[${tt}]  ${J.name}:`,...ue)};class Ie{constructor(X){this.name=X,this._logLevel=be,this._logHandler=Ce,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in P))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?W[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...X),this._logHandler(this,P.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...X),this._logHandler(this,P.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,P.INFO,...X),this._logHandler(this,P.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,P.WARN,...X),this._logHandler(this,P.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...X),this._logHandler(this,P.ERROR,...X)}}function Ne(J){c.forEach(X=>{X.setLogLevel(J)})}function Ae(J,X){for(const ue of c){let tt=null;X&&X.level&&(tt=W[X.level]),ue.userLogHandler=null===J?null:(Ue,Le,...ht)=>{const Oe=ht.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Le>=(tt??Ue.logLevel)&&J({level:P[Le].toLowerCase(),message:Oe,args:ht,type:Ue.name})}}}},8766:(At,Ge,j)=>{"use strict";j.d(Ge,{Lj:()=>He,X3:()=>xt});var c=j(5861);let W,be;const Ie=new WeakMap,Ne=new WeakMap,Ae=new WeakMap,J=new WeakMap,X=new WeakMap;let Ue={get(Q,Re,ae){if(Q instanceof IDBTransaction){if("done"===Re)return Ne.get(Q);if("objectStoreNames"===Re)return Q.objectStoreNames||Ae.get(Q);if("store"===Re)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Me(Q[Re])},set:(Q,Re,ae)=>(Q[Re]=ae,!0),has:(Q,Re)=>Q instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in Q};function Oe(Q){return"function"==typeof Q?function ht(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...Re){return Q.apply(at(this),Re),Me(Ie.get(this))}:function(...Re){return Me(Q.apply(at(this),Re))}:function(Re,...ae){const pe=Q.call(at(this),Re,...ae);return Ae.set(pe,Re.sort?Re.sort():[Re]),Me(pe)}}(Q):(Q instanceof IDBTransaction&&function tt(Q){if(Ne.has(Q))return;const Re=new Promise((ae,pe)=>{const ye=()=>{Q.removeEventListener("complete",ve),Q.removeEventListener("error",it),Q.removeEventListener("abort",it)},ve=()=>{ae(),ye()},it=()=>{pe(Q.error||new DOMException("AbortError","AbortError")),ye()};Q.addEventListener("complete",ve),Q.addEventListener("error",it),Q.addEventListener("abort",it)});Ne.set(Q,Re)}(Q),((Q,Re)=>Re.some(ae=>Q instanceof ae))(Q,function ge(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Ue):Q)}function Me(Q){if(Q instanceof IDBRequest)return function ue(Q){const Re=new Promise((ae,pe)=>{const ye=()=>{Q.removeEventListener("success",ve),Q.removeEventListener("error",it)},ve=()=>{ae(Me(Q.result)),ye()},it=()=>{pe(Q.error),ye()};Q.addEventListener("success",ve),Q.addEventListener("error",it)});return Re.then(ae=>{ae instanceof IDBCursor&&Ie.set(ae,Q)}).catch(()=>{}),X.set(Re,Q),Re}(Q);if(J.has(Q))return J.get(Q);const Re=Oe(Q);return Re!==Q&&(J.set(Q,Re),X.set(Re,Q)),Re}const at=Q=>X.get(Q);function xt(Q,Re,{blocked:ae,upgrade:pe,blocking:ye,terminated:ve}={}){const it=indexedDB.open(Q,Re),Je=Me(it);return pe&&it.addEventListener("upgradeneeded",Mt=>{pe(Me(it.result),Mt.oldVersion,Mt.newVersion,Me(it.transaction))}),ae&&it.addEventListener("blocked",()=>ae()),Je.then(Mt=>{ve&&Mt.addEventListener("close",()=>ve()),ye&&Mt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),Je}function He(Q,{blocked:Re}={}){const ae=indexedDB.deleteDatabase(Q);return Re&&ae.addEventListener("blocked",()=>Re()),Me(ae).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],st=new Map;function ft(Q,Re){if(!(Q instanceof IDBDatabase)||Re in Q||"string"!=typeof Re)return;if(st.get(Re))return st.get(Re);const ae=Re.replace(/FromIndex$/,""),pe=Re!==ae,ye=ke.includes(ae);if(!(ae in(pe?IDBIndex:IDBObjectStore).prototype)||!ye&&!Pe.includes(ae))return;const ve=function(){var it=(0,c.Z)(function*(Je,...Mt){const Tn=this.transaction(Je,ye?"readwrite":"readonly");let cn=Tn.store;return pe&&(cn=cn.index(Mt.shift())),(yield Promise.all([cn[ae](...Mt),ye&&Tn.done]))[0]});return function(Mt){return it.apply(this,arguments)}}();return st.set(Re,ve),ve}!function Le(Q){Ue=Q(Ue)}(Q=>({...Q,get:(Re,ae,pe)=>ft(Re,ae)||Q.get(Re,ae,pe),has:(Re,ae)=>!!ft(Re,ae)||Q.has(Re,ae)}))},5861:(At,Ge,j)=>{"use strict";function c(W,be,ge,Ce,Ie,Ne,Ae){try{var J=W[Ne](Ae),X=J.value}catch(ue){return void ge(ue)}J.done?be(X):Promise.resolve(X).then(Ce,Ie)}function P(W){return function(){var be=this,ge=arguments;return new Promise(function(Ce,Ie){var Ne=W.apply(be,ge);function Ae(X){c(Ne,Ce,Ie,Ae,J,"next",X)}function J(X){c(Ne,Ce,Ie,Ae,J,"throw",X)}Ae(void 0)})}}j.d(Ge,{Z:()=>P})}},At=>{At(At.s=6788)}]);